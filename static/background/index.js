!function(e){var t;"function"==typeof e&&(t=e,e=null),(()=>{let e,t,r,n,i,s,o,a,u,l;function c(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var d,h,f,p,g,y,m,b,_,v,w,E,S,k,A,x,I,T,O,B,C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function P(e){return e&&e.__esModule?e.default:e}var R={},L={},M=C.parcelRequiref356;null==M&&((M=function(e){if(e in R)return R[e].exports;if(e in L){var t=L[e];delete L[e];var r={id:e,exports:{}};return R[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){L[e]=t},C.parcelRequiref356=M),M.register("hZnCo",function(e,t){c(e.exports,"register",()=>r,e=>r=e),c(e.exports,"resolve",()=>n,e=>n=e);var r,n,i={};r=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)i[t[r]]=e[t[r]]},n=function(e){var t=i[e];if(null==t)throw Error("Could not resolve bundle with id "+e);return t}}),M.register("hhhy0",function(e,t){c(e.exports,"Children",()=>r,e=>r=e),c(e.exports,"Component",()=>n,e=>n=e),c(e.exports,"Fragment",()=>i,e=>i=e),c(e.exports,"Profiler",()=>s,e=>s=e),c(e.exports,"PureComponent",()=>o,e=>o=e),c(e.exports,"StrictMode",()=>a,e=>a=e),c(e.exports,"Suspense",()=>u,e=>u=e),c(e.exports,"__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE",()=>l,e=>l=e),c(e.exports,"__COMPILER_RUNTIME",()=>d,e=>d=e),c(e.exports,"cache",()=>h,e=>h=e),c(e.exports,"cloneElement",()=>f,e=>f=e),c(e.exports,"createContext",()=>p,e=>p=e),c(e.exports,"createElement",()=>g,e=>g=e),c(e.exports,"createRef",()=>y,e=>y=e),c(e.exports,"forwardRef",()=>m,e=>m=e),c(e.exports,"isValidElement",()=>b,e=>b=e),c(e.exports,"lazy",()=>_,e=>_=e),c(e.exports,"memo",()=>v,e=>v=e),c(e.exports,"startTransition",()=>w,e=>w=e),c(e.exports,"unstable_useCacheRefresh",()=>E,e=>E=e),c(e.exports,"use",()=>S,e=>S=e),c(e.exports,"useActionState",()=>k,e=>k=e),c(e.exports,"useCallback",()=>A,e=>A=e),c(e.exports,"useContext",()=>x,e=>x=e),c(e.exports,"useDebugValue",()=>I,e=>I=e),c(e.exports,"useDeferredValue",()=>T,e=>T=e),c(e.exports,"useEffect",()=>O,e=>O=e),c(e.exports,"useId",()=>B,e=>B=e),c(e.exports,"useImperativeHandle",()=>C,e=>C=e),c(e.exports,"useInsertionEffect",()=>P,e=>P=e),c(e.exports,"useLayoutEffect",()=>R,e=>R=e),c(e.exports,"useMemo",()=>L,e=>L=e),c(e.exports,"useOptimistic",()=>N,e=>N=e),c(e.exports,"useReducer",()=>D,e=>D=e),c(e.exports,"useRef",()=>U,e=>U=e),c(e.exports,"useState",()=>j,e=>j=e),c(e.exports,"useSyncExternalStore",()=>q,e=>q=e),c(e.exports,"useTransition",()=>F,e=>F=e),c(e.exports,"version",()=>$,e=>$=e);var r,n,i,s,o,a,u,l,d,h,f,p,g,y,m,b,_,v,w,E,S,k,A,x,I,T,O,B,C,P,R,L,N,D,U,j,q,F,$,z=M("jcdBh"),H=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),J=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),Y=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),et=Symbol.iterator,er={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},en=Object.assign,ei={};function es(e,t,r){this.props=e,this.context=t,this.refs=ei,this.updater=r||er}function eo(){}function ea(e,t,r){this.props=e,this.context=t,this.refs=ei,this.updater=r||er}es.prototype.isReactComponent={},es.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},es.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},eo.prototype=es.prototype;var eu=ea.prototype=new eo;eu.constructor=ea,en(eu,es.prototype),eu.isPureReactComponent=!0;var el=Array.isArray,ec={H:null,A:null,T:null,S:null,V:null},ed=Object.prototype.hasOwnProperty;function eh(e,t,r,n,i,s){return{$$typeof:H,type:e,key:t,ref:void 0!==(r=s.ref)?r:null,props:s}}function ef(e){return"object"==typeof e&&null!==e&&e.$$typeof===H}var ep=/\/+/g;function eg(e,t){var r,n;return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,n={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return n[e]})):t.toString(36)}function ey(){}function em(e,t,r){if(null==e)return e;var n=[],i=0;return function e(t,r,n,i,s){var o,a,u,l=typeof t;("undefined"===l||"boolean"===l)&&(t=null);var c=!1;if(null===t)c=!0;else switch(l){case"bigint":case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case H:case W:c=!0;break;case ee:return e((c=t._init)(t._payload),r,n,i,s)}}if(c)return s=s(t),c=""===i?"."+eg(t,0):i,el(s)?(n="",null!=c&&(n=c.replace(ep,"$&/")+"/"),e(s,r,n,"",function(e){return e})):null!=s&&(ef(s)&&(o=s,a=n+(null==s.key||t&&t.key===s.key?"":(""+s.key).replace(ep,"$&/")+"/")+c,s=eh(o.type,a,void 0,void 0,void 0,o.props)),r.push(s)),1;c=0;var d=""===i?".":i+":";if(el(t))for(var h=0;h<t.length;h++)l=d+eg(i=t[h],h),c+=e(i,r,n,l,s);else if("function"==typeof(h=null===(u=t)||"object"!=typeof u?null:"function"==typeof(u=et&&u[et]||u["@@iterator"])?u:null))for(t=h.call(t),h=0;!(i=t.next()).done;)l=d+eg(i=i.value,h++),c+=e(i,r,n,l,s);else if("object"===l){if("function"==typeof t.then)return e(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(ey,ey):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(t),r,n,i,s);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(r=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return c}(e,n,"","",function(e){return t.call(r,e,i++)}),n}function eb(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var e_="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof z&&"function"==typeof z.emit){z.emit("uncaughtException",e);return}console.error(e)};function ev(){}r={map:em,forEach:function(e,t,r){em(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return em(e,function(){t++}),t},toArray:function(e){return em(e,function(e){return e})||[]},only:function(e){if(!ef(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n=es,i=K,s=G,o=ea,a=V,u=X,l=ec,d={__proto__:null,c:function(e){return ec.H.useMemoCache(e)}},h=function(e){return function(){return e.apply(null,arguments)}},f=function(e,t,r){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var n=en({},e.props),i=e.key,s=void 0;if(null!=t)for(o in void 0!==t.ref&&(s=void 0),void 0!==t.key&&(i=""+t.key),t)ed.call(t,o)&&"key"!==o&&"__self"!==o&&"__source"!==o&&("ref"!==o||void 0!==t.ref)&&(n[o]=t[o]);var o=arguments.length-2;if(1===o)n.children=r;else if(1<o){for(var a=Array(o),u=0;u<o;u++)a[u]=arguments[u+2];n.children=a}return eh(e.type,i,void 0,void 0,s,n)},p=function(e){return(e={$$typeof:J,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:Q,_context:e},e},g=function(e,t,r){var n,i={},s=null;if(null!=t)for(n in void 0!==t.key&&(s=""+t.key),t)ed.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(i[n]=t[n]);var o=arguments.length-2;if(1===o)i.children=r;else if(1<o){for(var a=Array(o),u=0;u<o;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===i[n]&&(i[n]=o[n]);return eh(e,s,void 0,void 0,null,i)},y=function(){return{current:null}},m=function(e){return{$$typeof:Z,render:e}},b=ef,_=function(e){return{$$typeof:ee,_payload:{_status:-1,_result:e},_init:eb}},v=function(e,t){return{$$typeof:Y,type:e,compare:void 0===t?null:t}},w=function(e){var t=ec.T,r={};ec.T=r;try{var n=e(),i=ec.S;null!==i&&i(r,n),"object"==typeof n&&null!==n&&"function"==typeof n.then&&n.then(ev,e_)}catch(e){e_(e)}finally{ec.T=t}},E=function(){return ec.H.useCacheRefresh()},S=function(e){return ec.H.use(e)},k=function(e,t,r){return ec.H.useActionState(e,t,r)},A=function(e,t){return ec.H.useCallback(e,t)},x=function(e){return ec.H.useContext(e)},I=function(){},T=function(e,t){return ec.H.useDeferredValue(e,t)},O=function(e,t,r){var n=ec.H;if("function"==typeof r)throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(e,t)},B=function(){return ec.H.useId()},C=function(e,t,r){return ec.H.useImperativeHandle(e,t,r)},P=function(e,t){return ec.H.useInsertionEffect(e,t)},R=function(e,t){return ec.H.useLayoutEffect(e,t)},L=function(e,t){return ec.H.useMemo(e,t)},N=function(e,t){return ec.H.useOptimistic(e,t)},D=function(e,t,r){return ec.H.useReducer(e,t,r)},U=function(e){return ec.H.useRef(e)},j=function(e){return ec.H.useState(e)},q=function(e,t,r){return ec.H.useSyncExternalStore(e,t,r)},F=function(){return ec.H.useTransition()},$="19.1.0"}),M.register("jcdBh",function(e,t){var r,n,i,s,o=Object.create,a=Object.defineProperty,u=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,c=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,h=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of l(t))d.call(e,i)||i===r||a(e,i,{get:()=>t[i],enumerable:!(n=u(t,i))||n.enumerable});return e},f=(e,t,r)=>(r=null!=e?o(c(e)):{},h(!t&&e&&e.__esModule?r:a(r,"default",{value:e,enumerable:!0}),e)),p=(r=(e,t)=>{var r,n,i=t.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var u,l=[],c=!1,d=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&f())}function f(){if(!c){var e=a(h);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||c||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}},()=>(n||r((n={exports:{}}).exports,n),n.exports)),g={};((e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})})(g,{default:()=>m}),e.exports=h(a({},"__esModule",{value:!0}),g);var y=f(p());i=f(p()),s=e.exports,h(g,i,"default"),s&&h(s,i,"default");var m=y.default}),M.register("eeNJa",function(e,t){c(e.exports,"useSyncExternalStoreWithSelector",()=>r,e=>r=e);var r,n=M("eJeWc"),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=n.useSyncExternalStore,o=n.useRef,a=n.useEffect,u=n.useMemo,l=n.useDebugValue;r=function(e,t,r,n,c){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;var f=s(e,(d=u(function(){function e(e){if(!a){if(a=!0,s=e,e=n(e),void 0!==c&&h.hasValue){var t=h.value;if(c(t,e))return o=t}return o=e}if(t=o,i(s,e))return t;var r=n(e);return void 0!==c&&c(t,r)?(s=e,t):(s=e,o=r)}var s,o,a=!1,u=void 0===r?null:r;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,r,n,c]))[0],d[1]);return a(function(){h.hasValue=!0,h.value=f},[f]),l(f),f}}),M.register("eJeWc",function(e,t){e.exports=M("hhhy0")}),M.register("acDaE",function(e,t){var r,n,i=Object.create,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,u=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,c=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),d=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of a(t))l.call(e,i)||i===r||s(e,i,{get:()=>t[i],enumerable:!(n=o(t,i))||n.enumerable});return e},h=(e,t,r)=>(r=null!=e?i(u(e)):{},d(!t&&e&&e.__esModule?r:s(r,"default",{value:e,enumerable:!0}),e)),f=c(e=>{e.byteLength=function(e){var t=a(e),r=t[0],n=t[1];return(r+n)*3/4-n},e.toByteArray=function(e){var t,r,n=a(e),o=n[0],u=n[1],l=new s((o+u)*3/4-u),c=0,d=u>0?o-4:o;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===u&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[c++]=255&t),1===u&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},e.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],o=0,a=r-i;o<a;o+=16383)s.push(function(e,t,r){for(var i,s=[],o=t;o<r;o+=3)s.push(n[(i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}(e,o,o+16383>a?a:o+16383));return 1===i?s.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&s.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),s.join("")};var t,r,n=[],i=[],s="u">typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0,r=o.length;t<r;++t)n[t]=o[t],i[o.charCodeAt(t)]=t;function a(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63}),p=c(e=>{e.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,u=(1<<a)-1,l=u>>1,c=-7,d=r?i-1:0,h=r?-1:1,f=e[t+d];for(d+=h,s=f&(1<<-c)-1,f>>=-c,c+=a;c>0;s=256*s+e[t+d],d+=h,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=256*o+e[t+d],d+=h,c-=8);if(0===s)s=1-l;else{if(s===u)return o?NaN:(f?-1:1)*(1/0);o+=Math.pow(2,n),s-=l}return(f?-1:1)*o*Math.pow(2,s-n)},e.write=function(e,t,r,n,i,s){var o,a,u,l=8*s-i-1,c=(1<<l)-1,d=c>>1,h=23===i?5960464477539062e-23:0,f=n?0:s-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+d>=1?t+=h/u:t+=h*Math.pow(2,1-d),t*u>=2&&(o++,u/=2),o+d>=c?(a=0,o=c):o+d>=1?(a=(t*u-1)*Math.pow(2,i),o+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;e[r+f]=255&o,f+=p,o/=256,l-=8);e[r+f-p]|=128*g}}),g=c(e=>{var t=f(),r=p(),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function i(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return o(e,t,r)}function o(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!s.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|h(e,t),n=i(r),o=n.write(e,t);return o!==r&&(n=n.slice(0,o)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(D(e,Uint8Array)){let t=new Uint8Array(e);return c(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(D(e,ArrayBuffer)||e&&D(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(D(e,SharedArrayBuffer)||e&&D(e.buffer,SharedArrayBuffer)))return c(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return s.from(n,t,r);let o=function(e){var t;if(s.isBuffer(e)){let t=0|d(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?i(0):l(e):"Buffer"===e.type&&Array.isArray(e.data)?l(e.data):void 0}(e);if(o)return o;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function a(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return a(e),i(e<0?0:0|d(e))}function l(e){let t=e.length<0?0:0|d(e.length),r=i(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function c(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),s.prototype),n}function d(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||D(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return L(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return M(e).length;default:if(i)return n?-1:L(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,r,n){let i=!1;if((void 0===r||r<0)&&(r=0),r>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(r>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=U[e[n]];return i}(this,r,n);case"utf8":case"utf-8":return _(this,r,n);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,r,n);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,r,n);case"base64":var s,o;return s=r,o=n,0===s&&o===this.length?t.fromByteArray(this):t.fromByteArray(this.slice(s,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,r,n);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function y(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(o=r=+r)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let s,o=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;o=2,a/=2,u/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(l(e,s)===l(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*o}else -1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(l(e,s+n)!==l(t,n)){r=!1;break}if(r)return s}return -1}function _(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,u;switch(o){case 1:t<128&&(s=t);break;case 2:(192&(r=e[i+1]))==128&&(u=(31&t)<<6|63&r)>127&&(s=u);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(u=(15&t)<<12|(63&r)<<6|63&n)>2047&&(u<55296||u>57343)&&(s=u);break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],(192&r)==128&&(192&n)==128&&(192&a)==128&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a)>65535&&u<1114112&&(s=u)}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function v(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function w(e,t,r,n,i,o){if(!s.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function E(e,t,r,n,i){B(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function S(e,t,r,n,i){B(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function k(e,t,r,n,i,s){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function A(e,t,n,i,s){return t=+t,n>>>=0,s||k(e,t,n,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,n,i,23,4),n+4}function x(e,t,n,i,s){return t=+t,n>>>=0,s||k(e,t,n,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,n,i,52,8),n+8}e.Buffer=s,e.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=2147483647,s.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!s.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return o(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return a(e),e<=0?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)},s.allocUnsafe=function(e){return u(e)},s.allocUnsafeSlow=function(e){return u(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(D(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),D(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let n=s.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(D(t,Uint8Array))i+t.length>n.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(s.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},s.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},s.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},s.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?_(this,0,e):g.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(e,t,r,n,i){if(D(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let o=i-n,a=r-t,u=Math.min(o,a),l=this.slice(n,i),c=e.slice(t,r);for(let e=0;e<u;++e)if(l[e]!==c[e]){o=l[e],a=c[e];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){var i,s,o,a,u,l,c,d;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let h=this.length-t;if((void 0===r||r>h)&&(r=h),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let f=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let s=e.length-r;n?(n=Number(n))>s&&(n=s):n=s;let o=t.length;for(n>o/2&&(n=o/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(n!=n)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,s=r,N(L(e,this.length-i),this,i,s);case"ascii":case"latin1":case"binary":return o=t,a=r,N(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,o,a);case"base64":return u=t,l=r,N(M(e),this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,d=r,N(function(e,t){let r,n,i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,d);default:if(f)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),f=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||v(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=j(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&P(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+16777216*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+16777216*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),s.prototype.readBigUInt64BE=j(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&P(e,this.length-8);let n=16777216*t+65536*this[++e]+256*this[++e]+this[++e],i=16777216*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},s.prototype.readInt8=function(e,t){return e>>>=0,t||v(e,1,this.length),128&this[e]?-((255-this[e]+1)*1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||v(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||v(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=j(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&P(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),s.prototype.readBigInt64BE=j(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&P(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+r)}),s.prototype.readFloatLE=function(e,t){return e>>>=0,t||v(e,4,this.length),r.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||v(e,4,this.length),r.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||v(e,8,this.length),r.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||v(e,8,this.length),r.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;w(this,e,t,r,n,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;w(this,e,t,r,n,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=j(function(e,t=0){return E(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=j(function(e,t=0){return S(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);w(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);w(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=j(function(e,t=0){return E(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=j(function(e,t=0){return S(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(e,t,r){return A(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return A(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return x(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return x(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},s.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let o=s.isBuffer(e)?e:s.from(e,n),a=o.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};var I={};function T(e,t,r){I[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(e,"]"),this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}}function O(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function B(e,t,r,n,i,s){if(e>r||e<t){let n="bigint"==typeof t?"n":"",i;throw i=s>3?0===t||t===BigInt(0)?">= 0".concat(n," and < 2").concat(n," ** ").concat((s+1)*8).concat(n):">= -(2".concat(n," ** ").concat((s+1)*8-1).concat(n,") and < 2 ** ")+"".concat((s+1)*8-1).concat(n):">= ".concat(t).concat(n," and <= ").concat(r).concat(n),new I.ERR_OUT_OF_RANGE("value",i,e)}C(i,"offset"),(void 0===n[i]||void 0===n[i+s])&&P(i,n.length-(s+1))}function C(e,t){if("number"!=typeof e)throw new I.ERR_INVALID_ARG_TYPE(t,"number",e)}function P(e,t,r){throw Math.floor(e)!==e?(C(e,r),new I.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new I.ERR_BUFFER_OUT_OF_BOUNDS:new I.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}T("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),T("ERR_INVALID_ARG_TYPE",function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)},TypeError),T("ERR_OUT_OF_RANGE",function(e,t,r){let n='The value of "'.concat(e,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?i=O(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=O(i)),i+="n"),n+=" It must be ".concat(t,". Received ").concat(i)},RangeError);var R=/[^+/0-9A-Za-z-_]/g;function L(e,t){t=t||1/0;let r,n=e.length,i=null,s=[];for(let o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319||o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return s}function M(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function D(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var U=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function j(e){return typeof BigInt>"u"?q:e}function q(){throw Error("BigInt not supported")}}),y={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(y,{default:()=>b}),e.exports=d(s({},"__esModule",{value:!0}),y);var m=h(g());r=h(g()),n=e.exports,d(y,r,"default"),n&&d(n,r,"default");var b=m.default;/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/}),M.register("9U7pb",function(e,t){!function(e,t){function r(e,t){if(!e)throw Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{c="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:M("acDaE").Buffer}catch(e){}function s(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function o(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function a(e,t,n,i){for(var s=0,o=0,a=Math.min(e.length,n),u=t;u<a;u++){var l=e.charCodeAt(u)-48;s*=i,o=l>=49?l-49+10:l>=17?l-17+10:l,r(l>=0&&o<i,"Invalid character"),s+=o}return s}function u(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return 0>e.cmp(t)?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var i,s,o=0;o<this.length;o++)this.words[o]=0;var a=0;if("be"===n)for(o=e.length-1,i=0;o>=0;o-=3)s=e[o]|e[o-1]<<8|e[o-2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);else if("le"===n)for(o=0,i=0;o<e.length;o+=3)s=e[o]|e[o+1]<<8|e[o+2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);return this._strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var n,i=0;i<this.length;i++)this.words[i]=0;var s=0,a=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=o(e,t,i)<<s,this.words[a]|=67108863&n,s>=18?(s-=18,a+=1,this.words[a]|=n>>>26):s+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=o(e,t,i)<<s,this.words[a]|=67108863&n,s>=18?(s-=18,a+=1,this.words[a]|=n>>>26):s+=8;this._strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,u=Math.min(s,s-o)+r,l=0,c=r;c<u;c+=n)l=a(e,c,c+n,t),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==o){var d=1;for(l=a(e,c,e.length,t),c=0;c<o;c++)d*=t;this.imuln(d),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},i.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){u(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(e){i.prototype.inspect=l}else i.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c,d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var c=u>>>26,d=67108863&u,h=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=h;f++){var p=l-f|0;c+=(o=(i=0|e.words[p])*(s=0|t.words[f])+d)/67108864|0,d=67108863&o}r.words[l]=0|d,u=0|c}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}i.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var n,i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=((a<<i|s)&16777215).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),n=0!==s||o!==this.length-1?d[6-u.length]+u+n:u+n}for(0!==s&&(n=s.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=h[e],c=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modrn(c).toString(e);n=(p=p.idivn(c)).isZero()?g+n:d[l-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},c&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(c,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var o=e.allocUnsafe?e.allocUnsafe(s):new e(s);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,i),o},i.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;e[r++]=255&o,r<e.length&&(e[r++]=o>>8&255),r<e.length&&(e[r++]=o>>16&255),6===s?(r<e.length&&(e[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;e[r--]=255&o,r>=0&&(e[r--]=o>>8&255),r>=0&&(e[r--]=o>>16&255),6===s?(r>=0&&(e[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return(8191&t)==0&&(r+=13,t>>>=13),(127&t)==0&&(r+=7,t>>>=7),(15&t)==0&&(r+=4,t>>>=4),(3&t)==0&&(r+=2,t>>>=2),(1&t)==0&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return r((this.negative|e.negative)==0),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return r((this.negative|e.negative)==0),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){this.length>e.length?(t=this,r=e):(t=e,r=this);for(var t,r,n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return r((this.negative|e.negative)==0),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),t?this.words[n]=this.words[n]|1<<i:this.words[n]=this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var t,r,n,i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t,r,n=this.iadd(e);return e.negative=1,n._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(t=this,r=e):(t=e,r=this);for(var s=0,o=0;o<r.length;o++)s=(n=(0|t.words[o])-(0|r.words[o])+s)>>26,this.words[o]=67108863&n;for(;0!==s&&o<t.length;o++)s=(n=(0|t.words[o])+s)>>26,this.words[o]=67108863&n;if(0===s&&o<t.length&&t!==this)for(;o<t.length;o++)this.words[o]=t.words[o];return this.length=Math.max(this.length,o),t!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,r){var n,i,s,o=e.words,a=t.words,u=r.words,l=0,c=0|o[0],d=8191&c,h=c>>>13,f=0|o[1],p=8191&f,g=f>>>13,y=0|o[2],m=8191&y,b=y>>>13,_=0|o[3],v=8191&_,w=_>>>13,E=0|o[4],S=8191&E,k=E>>>13,A=0|o[5],x=8191&A,I=A>>>13,T=0|o[6],O=8191&T,B=T>>>13,C=0|o[7],P=8191&C,R=C>>>13,L=0|o[8],M=8191&L,N=L>>>13,D=0|o[9],U=8191&D,j=D>>>13,q=0|a[0],F=8191&q,$=q>>>13,z=0|a[1],H=8191&z,W=z>>>13,K=0|a[2],V=8191&K,G=K>>>13,Q=0|a[3],J=8191&Q,Z=Q>>>13,X=0|a[4],Y=8191&X,ee=X>>>13,et=0|a[5],er=8191&et,en=et>>>13,ei=0|a[6],es=8191&ei,eo=ei>>>13,ea=0|a[7],eu=8191&ea,el=ea>>>13,ec=0|a[8],ed=8191&ec,eh=ec>>>13,ef=0|a[9],ep=8191&ef,eg=ef>>>13;r.negative=e.negative^t.negative,r.length=19;var ey=(l+(n=Math.imul(d,F))|0)+((8191&(i=(i=Math.imul(d,$))+Math.imul(h,F)|0))<<13)|0;l=((s=Math.imul(h,$))+(i>>>13)|0)+(ey>>>26)|0,ey&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,$))+Math.imul(g,F)|0,s=Math.imul(g,$);var em=(l+(n=n+Math.imul(d,H)|0)|0)+((8191&(i=(i=i+Math.imul(d,W)|0)+Math.imul(h,H)|0))<<13)|0;l=((s=s+Math.imul(h,W)|0)+(i>>>13)|0)+(em>>>26)|0,em&=67108863,n=Math.imul(m,F),i=(i=Math.imul(m,$))+Math.imul(b,F)|0,s=Math.imul(b,$),n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(g,H)|0,s=s+Math.imul(g,W)|0;var eb=(l+(n=n+Math.imul(d,V)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(h,V)|0))<<13)|0;l=((s=s+Math.imul(h,G)|0)+(i>>>13)|0)+(eb>>>26)|0,eb&=67108863,n=Math.imul(v,F),i=(i=Math.imul(v,$))+Math.imul(w,F)|0,s=Math.imul(w,$),n=n+Math.imul(m,H)|0,i=(i=i+Math.imul(m,W)|0)+Math.imul(b,H)|0,s=s+Math.imul(b,W)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(g,V)|0,s=s+Math.imul(g,G)|0;var e_=(l+(n=n+Math.imul(d,J)|0)|0)+((8191&(i=(i=i+Math.imul(d,Z)|0)+Math.imul(h,J)|0))<<13)|0;l=((s=s+Math.imul(h,Z)|0)+(i>>>13)|0)+(e_>>>26)|0,e_&=67108863,n=Math.imul(S,F),i=(i=Math.imul(S,$))+Math.imul(k,F)|0,s=Math.imul(k,$),n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(w,H)|0,s=s+Math.imul(w,W)|0,n=n+Math.imul(m,V)|0,i=(i=i+Math.imul(m,G)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(g,J)|0,s=s+Math.imul(g,Z)|0;var ev=(l+(n=n+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(h,Y)|0))<<13)|0;l=((s=s+Math.imul(h,ee)|0)+(i>>>13)|0)+(ev>>>26)|0,ev&=67108863,n=Math.imul(x,F),i=(i=Math.imul(x,$))+Math.imul(I,F)|0,s=Math.imul(I,$),n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(k,H)|0,s=s+Math.imul(k,W)|0,n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(w,V)|0,s=s+Math.imul(w,G)|0,n=n+Math.imul(m,J)|0,i=(i=i+Math.imul(m,Z)|0)+Math.imul(b,J)|0,s=s+Math.imul(b,Z)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,Y)|0,s=s+Math.imul(g,ee)|0;var ew=(l+(n=n+Math.imul(d,er)|0)|0)+((8191&(i=(i=i+Math.imul(d,en)|0)+Math.imul(h,er)|0))<<13)|0;l=((s=s+Math.imul(h,en)|0)+(i>>>13)|0)+(ew>>>26)|0,ew&=67108863,n=Math.imul(O,F),i=(i=Math.imul(O,$))+Math.imul(B,F)|0,s=Math.imul(B,$),n=n+Math.imul(x,H)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(I,H)|0,s=s+Math.imul(I,W)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(k,V)|0,s=s+Math.imul(k,G)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(w,J)|0,s=s+Math.imul(w,Z)|0,n=n+Math.imul(m,Y)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(b,Y)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,er)|0,i=(i=i+Math.imul(p,en)|0)+Math.imul(g,er)|0,s=s+Math.imul(g,en)|0;var eE=(l+(n=n+Math.imul(d,es)|0)|0)+((8191&(i=(i=i+Math.imul(d,eo)|0)+Math.imul(h,es)|0))<<13)|0;l=((s=s+Math.imul(h,eo)|0)+(i>>>13)|0)+(eE>>>26)|0,eE&=67108863,n=Math.imul(P,F),i=(i=Math.imul(P,$))+Math.imul(R,F)|0,s=Math.imul(R,$),n=n+Math.imul(O,H)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(B,H)|0,s=s+Math.imul(B,W)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(I,V)|0,s=s+Math.imul(I,G)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(k,J)|0,s=s+Math.imul(k,Z)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(w,Y)|0,s=s+Math.imul(w,ee)|0,n=n+Math.imul(m,er)|0,i=(i=i+Math.imul(m,en)|0)+Math.imul(b,er)|0,s=s+Math.imul(b,en)|0,n=n+Math.imul(p,es)|0,i=(i=i+Math.imul(p,eo)|0)+Math.imul(g,es)|0,s=s+Math.imul(g,eo)|0;var eS=(l+(n=n+Math.imul(d,eu)|0)|0)+((8191&(i=(i=i+Math.imul(d,el)|0)+Math.imul(h,eu)|0))<<13)|0;l=((s=s+Math.imul(h,el)|0)+(i>>>13)|0)+(eS>>>26)|0,eS&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,$))+Math.imul(N,F)|0,s=Math.imul(N,$),n=n+Math.imul(P,H)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(R,H)|0,s=s+Math.imul(R,W)|0,n=n+Math.imul(O,V)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,G)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(I,J)|0,s=s+Math.imul(I,Z)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(k,Y)|0,s=s+Math.imul(k,ee)|0,n=n+Math.imul(v,er)|0,i=(i=i+Math.imul(v,en)|0)+Math.imul(w,er)|0,s=s+Math.imul(w,en)|0,n=n+Math.imul(m,es)|0,i=(i=i+Math.imul(m,eo)|0)+Math.imul(b,es)|0,s=s+Math.imul(b,eo)|0,n=n+Math.imul(p,eu)|0,i=(i=i+Math.imul(p,el)|0)+Math.imul(g,eu)|0,s=s+Math.imul(g,el)|0;var ek=(l+(n=n+Math.imul(d,ed)|0)|0)+((8191&(i=(i=i+Math.imul(d,eh)|0)+Math.imul(h,ed)|0))<<13)|0;l=((s=s+Math.imul(h,eh)|0)+(i>>>13)|0)+(ek>>>26)|0,ek&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,$))+Math.imul(j,F)|0,s=Math.imul(j,$),n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(N,H)|0,s=s+Math.imul(N,W)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,G)|0,n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(B,J)|0,s=s+Math.imul(B,Z)|0,n=n+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(I,Y)|0,s=s+Math.imul(I,ee)|0,n=n+Math.imul(S,er)|0,i=(i=i+Math.imul(S,en)|0)+Math.imul(k,er)|0,s=s+Math.imul(k,en)|0,n=n+Math.imul(v,es)|0,i=(i=i+Math.imul(v,eo)|0)+Math.imul(w,es)|0,s=s+Math.imul(w,eo)|0,n=n+Math.imul(m,eu)|0,i=(i=i+Math.imul(m,el)|0)+Math.imul(b,eu)|0,s=s+Math.imul(b,el)|0,n=n+Math.imul(p,ed)|0,i=(i=i+Math.imul(p,eh)|0)+Math.imul(g,ed)|0,s=s+Math.imul(g,eh)|0;var eA=(l+(n=n+Math.imul(d,ep)|0)|0)+((8191&(i=(i=i+Math.imul(d,eg)|0)+Math.imul(h,ep)|0))<<13)|0;l=((s=s+Math.imul(h,eg)|0)+(i>>>13)|0)+(eA>>>26)|0,eA&=67108863,n=Math.imul(U,H),i=(i=Math.imul(U,W))+Math.imul(j,H)|0,s=Math.imul(j,W),n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(R,J)|0,s=s+Math.imul(R,Z)|0,n=n+Math.imul(O,Y)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(B,Y)|0,s=s+Math.imul(B,ee)|0,n=n+Math.imul(x,er)|0,i=(i=i+Math.imul(x,en)|0)+Math.imul(I,er)|0,s=s+Math.imul(I,en)|0,n=n+Math.imul(S,es)|0,i=(i=i+Math.imul(S,eo)|0)+Math.imul(k,es)|0,s=s+Math.imul(k,eo)|0,n=n+Math.imul(v,eu)|0,i=(i=i+Math.imul(v,el)|0)+Math.imul(w,eu)|0,s=s+Math.imul(w,el)|0,n=n+Math.imul(m,ed)|0,i=(i=i+Math.imul(m,eh)|0)+Math.imul(b,ed)|0,s=s+Math.imul(b,eh)|0;var ex=(l+(n=n+Math.imul(p,ep)|0)|0)+((8191&(i=(i=i+Math.imul(p,eg)|0)+Math.imul(g,ep)|0))<<13)|0;l=((s=s+Math.imul(g,eg)|0)+(i>>>13)|0)+(ex>>>26)|0,ex&=67108863,n=Math.imul(U,V),i=(i=Math.imul(U,G))+Math.imul(j,V)|0,s=Math.imul(j,G),n=n+Math.imul(M,J)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,Z)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(R,Y)|0,s=s+Math.imul(R,ee)|0,n=n+Math.imul(O,er)|0,i=(i=i+Math.imul(O,en)|0)+Math.imul(B,er)|0,s=s+Math.imul(B,en)|0,n=n+Math.imul(x,es)|0,i=(i=i+Math.imul(x,eo)|0)+Math.imul(I,es)|0,s=s+Math.imul(I,eo)|0,n=n+Math.imul(S,eu)|0,i=(i=i+Math.imul(S,el)|0)+Math.imul(k,eu)|0,s=s+Math.imul(k,el)|0,n=n+Math.imul(v,ed)|0,i=(i=i+Math.imul(v,eh)|0)+Math.imul(w,ed)|0,s=s+Math.imul(w,eh)|0;var eI=(l+(n=n+Math.imul(m,ep)|0)|0)+((8191&(i=(i=i+Math.imul(m,eg)|0)+Math.imul(b,ep)|0))<<13)|0;l=((s=s+Math.imul(b,eg)|0)+(i>>>13)|0)+(eI>>>26)|0,eI&=67108863,n=Math.imul(U,J),i=(i=Math.imul(U,Z))+Math.imul(j,J)|0,s=Math.imul(j,Z),n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(N,Y)|0,s=s+Math.imul(N,ee)|0,n=n+Math.imul(P,er)|0,i=(i=i+Math.imul(P,en)|0)+Math.imul(R,er)|0,s=s+Math.imul(R,en)|0,n=n+Math.imul(O,es)|0,i=(i=i+Math.imul(O,eo)|0)+Math.imul(B,es)|0,s=s+Math.imul(B,eo)|0,n=n+Math.imul(x,eu)|0,i=(i=i+Math.imul(x,el)|0)+Math.imul(I,eu)|0,s=s+Math.imul(I,el)|0,n=n+Math.imul(S,ed)|0,i=(i=i+Math.imul(S,eh)|0)+Math.imul(k,ed)|0,s=s+Math.imul(k,eh)|0;var eT=(l+(n=n+Math.imul(v,ep)|0)|0)+((8191&(i=(i=i+Math.imul(v,eg)|0)+Math.imul(w,ep)|0))<<13)|0;l=((s=s+Math.imul(w,eg)|0)+(i>>>13)|0)+(eT>>>26)|0,eT&=67108863,n=Math.imul(U,Y),i=(i=Math.imul(U,ee))+Math.imul(j,Y)|0,s=Math.imul(j,ee),n=n+Math.imul(M,er)|0,i=(i=i+Math.imul(M,en)|0)+Math.imul(N,er)|0,s=s+Math.imul(N,en)|0,n=n+Math.imul(P,es)|0,i=(i=i+Math.imul(P,eo)|0)+Math.imul(R,es)|0,s=s+Math.imul(R,eo)|0,n=n+Math.imul(O,eu)|0,i=(i=i+Math.imul(O,el)|0)+Math.imul(B,eu)|0,s=s+Math.imul(B,el)|0,n=n+Math.imul(x,ed)|0,i=(i=i+Math.imul(x,eh)|0)+Math.imul(I,ed)|0,s=s+Math.imul(I,eh)|0;var eO=(l+(n=n+Math.imul(S,ep)|0)|0)+((8191&(i=(i=i+Math.imul(S,eg)|0)+Math.imul(k,ep)|0))<<13)|0;l=((s=s+Math.imul(k,eg)|0)+(i>>>13)|0)+(eO>>>26)|0,eO&=67108863,n=Math.imul(U,er),i=(i=Math.imul(U,en))+Math.imul(j,er)|0,s=Math.imul(j,en),n=n+Math.imul(M,es)|0,i=(i=i+Math.imul(M,eo)|0)+Math.imul(N,es)|0,s=s+Math.imul(N,eo)|0,n=n+Math.imul(P,eu)|0,i=(i=i+Math.imul(P,el)|0)+Math.imul(R,eu)|0,s=s+Math.imul(R,el)|0,n=n+Math.imul(O,ed)|0,i=(i=i+Math.imul(O,eh)|0)+Math.imul(B,ed)|0,s=s+Math.imul(B,eh)|0;var eB=(l+(n=n+Math.imul(x,ep)|0)|0)+((8191&(i=(i=i+Math.imul(x,eg)|0)+Math.imul(I,ep)|0))<<13)|0;l=((s=s+Math.imul(I,eg)|0)+(i>>>13)|0)+(eB>>>26)|0,eB&=67108863,n=Math.imul(U,es),i=(i=Math.imul(U,eo))+Math.imul(j,es)|0,s=Math.imul(j,eo),n=n+Math.imul(M,eu)|0,i=(i=i+Math.imul(M,el)|0)+Math.imul(N,eu)|0,s=s+Math.imul(N,el)|0,n=n+Math.imul(P,ed)|0,i=(i=i+Math.imul(P,eh)|0)+Math.imul(R,ed)|0,s=s+Math.imul(R,eh)|0;var eC=(l+(n=n+Math.imul(O,ep)|0)|0)+((8191&(i=(i=i+Math.imul(O,eg)|0)+Math.imul(B,ep)|0))<<13)|0;l=((s=s+Math.imul(B,eg)|0)+(i>>>13)|0)+(eC>>>26)|0,eC&=67108863,n=Math.imul(U,eu),i=(i=Math.imul(U,el))+Math.imul(j,eu)|0,s=Math.imul(j,el),n=n+Math.imul(M,ed)|0,i=(i=i+Math.imul(M,eh)|0)+Math.imul(N,ed)|0,s=s+Math.imul(N,eh)|0;var eP=(l+(n=n+Math.imul(P,ep)|0)|0)+((8191&(i=(i=i+Math.imul(P,eg)|0)+Math.imul(R,ep)|0))<<13)|0;l=((s=s+Math.imul(R,eg)|0)+(i>>>13)|0)+(eP>>>26)|0,eP&=67108863,n=Math.imul(U,ed),i=(i=Math.imul(U,eh))+Math.imul(j,ed)|0,s=Math.imul(j,eh);var eR=(l+(n=n+Math.imul(M,ep)|0)|0)+((8191&(i=(i=i+Math.imul(M,eg)|0)+Math.imul(N,ep)|0))<<13)|0;l=((s=s+Math.imul(N,eg)|0)+(i>>>13)|0)+(eR>>>26)|0,eR&=67108863;var eL=(l+(n=Math.imul(U,ep))|0)+((8191&(i=(i=Math.imul(U,eg))+Math.imul(j,ep)|0))<<13)|0;return l=((s=Math.imul(j,eg))+(i>>>13)|0)+(eL>>>26)|0,eL&=67108863,u[0]=ey,u[1]=em,u[2]=eb,u[3]=e_,u[4]=ev,u[5]=ew,u[6]=eE,u[7]=eS,u[8]=ek,u[9]=eA,u[10]=ex,u[11]=eI,u[12]=eT,u[13]=eO,u[14]=eB,u[15]=eC,u[16]=eP,u[17]=eR,u[18]=eL,0!==l&&(u[19]=l,r.length++),r};function y(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,t.length-1),l=Math.max(0,s-e.length+1);l<=u;l++){var c=s-l,d=(0|e.words[c])*(0|t.words[l]),h=67108863&d;o=o+(d/67108864|0)|0,a=67108863&(h=h+a|0),i+=(o=o+(h>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function m(e,t){this.x=e,this.y=t}Math.imul||(g=p),i.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):n<63?p(this,e,t):y(this,e,t)},m.prototype.makeRBT=function(e){for(var t=Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},m.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},m.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},m.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var d=u,h=l,f=0;f<o;f++){var p=r[c+f],g=n[c+f],y=r[c+f+o],m=n[c+f+o],b=d*y-h*m;m=d*m+h*y,y=b,r[c+f]=p+y,n[c+f]=g+m,r[c+f+o]=p-y,n[c+f+o]=g-m,f!==a&&(b=u*d-l*h,h=u*h+l*d,d=b)}},m.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},m.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,n,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)n[o]=0;r(0===s),r((-8192&s)==0)},m.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},m.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=Array(n),a=Array(n),u=Array(n),l=Array(n),c=Array(n),d=Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,l,n),this.transform(o,s,a,u,n,i),this.transform(l,s,c,d,n,i);for(var f=0;f<n;f++){var p=a[f]*c[f]-u[f]*d[f];u[f]=a[f]*d[f]+u[f]*c[f],a[f]=p}return this.conjugate(a,u,n),this.transform(a,u,h,s,n,i),this.conjugate(h,s,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=Array(this.length+e.length),y(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,o=(67108863&s)+(67108863&n);n>>=26,n+=(s/67108864|0)+(o>>>26),this.words[i]=67108863&o}return 0!==n&&(this.words[i]=n,this.length++),this.length=0===e?1:this.length,t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var s=r.sqr();n<t.length;n++,s=s.sqr())0!==t[n]&&(r=r.mul(s));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,u=(0|this.words[t])-a<<n;this.words[t]=u|o,o=a>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var i,s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s;if(i-=o,i=Math.max(0,i),n){for(var u=0;u<o;u++)n.words[u]=this.words[u];n.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var c=0|this.words[u];this.words[u]=l<<26-s|c>>>s,l=c&a}return n&&0!==l&&(n.words[n.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;return!(this.length<=n)&&!!(this.words[n]&1<<t)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;return(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)?this:(0!==t&&n++,this.length=Math.min(n,this.length),0!==t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this._strip())},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return(r("number"==typeof e),r(e<67108864),e<0)?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,s,o=e.length+n;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+a;var u=(0|e.words[i])*t;s-=67108863&u,a=(s>>26)-(u/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var r,n=this.length-e.length,s=this.clone(),o=e,a=0|o.words[o.length-1];0!=(n=26-this._countBits(a))&&(o=o.ushln(n),s.iushln(n),a=0|o.words[o.length-1]);var u=s.length-o.length;if("mod"!==t){(r=new i(null)).length=u+1,r.words=Array(r.length);for(var l=0;l<r.length;l++)r.words[l]=0}var c=s.clone()._ishlnsubmul(o,1,u);0===c.negative&&(s=c,r&&(r.words[u]=1));for(var d=u-1;d>=0;d--){var h=(0|s.words[o.length+d])*67108864+(0|s.words[o.length+d-1]);for(h=Math.min(h/a|0,67108863),s._ishlnsubmul(o,h,d);0!==s.negative;)h--,s.negative=0,s._ishlnsubmul(o,1,d),s.isZero()||(s.negative^=1);r&&(r.words[d]=h)}return r&&r._strip(),s._strip(),"div"!==t&&0!==n&&s.iushrn(n),{div:r||null,mod:s}},i.prototype.divmod=function(e,t,n){var s,o,a;return(r(!e.isZero()),this.isZero())?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(s=a.div.neg()),"div"!==t&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(e)),{div:s,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(s=a.div.neg()),{div:s,mod:a.mod}):(this.negative&e.negative)!=0?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||0>this.cmp(e)?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t)},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=67108864%e,i=0,s=this.length-1;s>=0;s--)i=(n*i+(0|this.words[s]))%e;return t?-i:i},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*n;this.words[i]=s/e|0,n=s%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s=new i(1),o=new i(0),a=new i(0),u=new i(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),d=t.clone();!t.isZero();){for(var h=0,f=1;(t.words[0]&f)==0&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(s.isOdd()||o.isOdd())&&(s.iadd(c),o.isub(d)),s.iushrn(1),o.iushrn(1);for(var p=0,g=1;(n.words[0]&g)==0&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(d)),a.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),s.isub(a),o.isub(u)):(n.isub(t),a.isub(s),u.isub(o))}return{a:a,b:u,gcd:n.iushln(l)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t,n=this,s=e.clone();n=0!==n.negative?n.umod(e):n.clone();for(var o=new i(1),a=new i(0),u=s.clone();n.cmpn(1)>0&&s.cmpn(1)>0;){for(var l=0,c=1;(n.words[0]&c)==0&&l<26;++l,c<<=1);if(l>0)for(n.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var d=0,h=1;(s.words[0]&h)==0&&d<26;++d,h<<=1);if(d>0)for(s.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);n.cmp(s)>=0?(n.isub(s),o.isub(a)):(s.isub(n),a.isub(o))}return 0>(t=0===n.cmpn(1)?o:a).cmpn(0)&&t.iadd(e),t},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return(1&this.words[0])==0},i.prototype.isOdd=function(){return(1&this.words[0])==1},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];a+=s,s=a>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return -1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return -1===this.cmpn(e)},i.prototype.lt=function(e){return -1===this.cmp(e)},i.prototype.lten=function(e){return 0>=this.cmpn(e)},i.prototype.lte=function(e){return 0>=this.cmp(e)},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new k(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function _(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var e=new i(null);return e.words=Array(Math.ceil(this.n/13)),e},_.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(t>this.n)var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(e,t){e.iushrn(this.n,0,t)},_.prototype.imulK=function(e){return e.imul(this.k)},n(v,_),v.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9){e.words[0]=0,e.length=1;return}var i=e.words[9];for(n=10,t.words[t.length++]=4194303&i;n<e.length;n++){var s=0|e.words[n];e.words[n-10]=(4194303&s)<<4|i>>>22,i=s}i>>>=22,e.words[n-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(w,_),n(E,_),n(S,_),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=(0|e.words[r])*19+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){var t;if(b[e])return b[e];if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new E;else if("p25519"===e)t=new S;else throw Error("Unknown prime "+e);return b[e]=t,t},k.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){r((e.negative|t.negative)==0,"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(u(e,e.umod(this.m)._forceRed(this)),e)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var s=this.m.subn(1),o=0;!s.isZero()&&0===s.andln(1);)o++,s.iushrn(1);r(!s.isZero());var a=new i(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var d=this.pow(c,s),h=this.pow(e,s.addn(1).iushrn(1)),f=this.pow(e,s),p=o;0!==f.cmp(a);){for(var g=f,y=0;0!==g.cmp(a);y++)g=g.redSqr();r(y<p);var m=this.pow(d,new i(1).iushln(p-y-1));h=h.redMul(m),d=m.redSqr(),f=f.redMul(d),p=y}return h},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var s=r[0],o=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var l=t.words[n],c=u-1;c>=0;c--){var d=l>>c&1;if(s!==r[0]&&(s=this.sqr(s)),0===d&&0===o){a=0;continue}o<<=1,o|=d,(4==++a||0===n&&0===c)&&(s=this.mul(s,r[o]),a=0,o=0)}u=26}return s},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new A(e)},n(A,k),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):0>i.cmpn(0)&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=r.isub(n).iushrn(this.shift),o=s;return s.cmp(this.m)>=0?o=s.isub(this.m):0>s.cmpn(0)&&(o=s.iadd(this.m)),o._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}),M.register("63LgX",function(e,t){var r=M("gtpva");e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}),M.register("gtpva",function(e,t){var r=M("lvb4F").Buffer;e.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==t[o])throw TypeError(s+" is ambiguous");t[o]=i}var a=e.length,u=e.charAt(0),l=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return r.alloc(0);for(var n=0,i=0,s=0;e[n]===u;)i++,n++;for(var o=(e.length-n)*l+1>>>0,c=new Uint8Array(o);n<e.length;){var d=e.charCodeAt(n);if(d>255)return;var h=t[d];if(255===h)return;for(var f=0,p=o-1;(0!==h||f<s)&&-1!==p;p--,f++)h+=a*c[p]>>>0,c[p]=h%256>>>0,h=h/256>>>0;if(0!==h)throw Error("Non-zero carry");s=f,n++}for(var g=o-s;g!==o&&0===c[g];)g++;var y=r.allocUnsafe(i+(o-g));y.fill(0,0,i);for(var m=i;g!==o;)y[m++]=c[g++];return y}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,s=0,o=t.length;s!==o&&0===t[s];)s++,n++;for(var l=(o-s)*c+1>>>0,d=new Uint8Array(l);s!==o;){for(var h=t[s],f=0,p=l-1;(0!==h||f<i)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw Error("Non-zero carry");i=f,s++}for(var g=l-i;g!==l&&0===d[g];)g++;for(var y=u.repeat(n);g<l;++g)y+=e.charAt(d[g]);return y},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw Error("Non-base"+a+" character")}}}}),M.register("lvb4F",function(e,t){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var r=M("acDaE"),n=r.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,e.exports),e.exports.Buffer=s),s.prototype=Object.create(n.prototype),i(n,s),s.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return n(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},s.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return r.SlowBuffer(e)}}),M.register("gbUa2",function(e,t){function r(e,t,r){return t<=e&&e<=r}function n(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function i(e){this.tokens=[].slice.call(e)}function s(e,t){if(e)throw TypeError("Decoder error");return t||65533}c(e.exports,"TextEncoder",()=>o,e=>o=e),c(e.exports,"TextDecoder",()=>a,e=>a=e),i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.push(e.shift());else this.tokens.push(e)}};var o,a,u="utf-8";function l(e,t){if(!(this instanceof l))return new l(e,t);if((e=void 0!==e?String(e).toLowerCase():u)!==u)throw Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function d(e,t){if(!(this instanceof d))return new d(e,t);if((e=void 0!==e?String(e).toLowerCase():u)!==u)throw Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}function h(e){var t=e.fatal,n=0,i=0,o=0,a=128,u=191;this.handler=function(e,l){if(-1===l&&0!==o)return o=0,s(t);if(-1===l)return -1;if(0===o){if(r(l,0,127))return l;if(r(l,194,223))o=1,n=l-192;else if(r(l,224,239))224===l&&(a=160),237===l&&(u=159),o=2,n=l-224;else{if(!r(l,240,244))return s(t);240===l&&(a=144),244===l&&(u=143),o=3,n=l-240}return n<<=6*o,null}if(!r(l,a,u))return n=o=i=0,a=128,u=191,e.prepend(l),s(t);if(a=128,u=191,i+=1,n+=l-128<<6*(o-i),i!==o)return null;var c=n;return n=o=i=0,c}}function f(e){e.fatal,this.handler=function(e,t){if(-1===t)return -1;if(r(t,0,127))return t;r(t,128,2047)?(n=1,i=192):r(t,2048,65535)?(n=2,i=224):r(t,65536,1114111)&&(n=3,i=240);for(var n,i,s=[(t>>6*n)+i];n>0;){var o=t>>6*(n-1);s.push(128|63&o),n-=1}return s}}l.prototype={decode:function(e,t){r="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=n(t),this._streaming||(this._decoder=new h({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var r,s,o=new i(r),a=[];!o.endOfStream()&&-1!==(s=this._decoder.handler(o,o.read()));)null!==s&&(Array.isArray(s)?a.push.apply(a,s):a.push(s));if(!this._streaming){do{if(-1===(s=this._decoder.handler(o,o.read())))break;if(null===s)continue;Array.isArray(s)?a.push.apply(a,s):a.push(s)}while(!o.endOfStream())this._decoder=null}return!a.length||-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===a[0]?(this._BOMseen=!0,a.shift()):this._BOMseen=!0),function(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(1023&n)+56320))}return t}(a)}},d.prototype={encode:function(e,t){e=e?String(e):"",t=n(t),this._streaming||(this._encoder=new f(this._options)),this._streaming=!!t.stream;for(var r,s=[],o=new i(function(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var s=t.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319){if(n===r-1)i.push(65533);else{var o=e.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=1023&s,u=1023&o;i.push(65536+(a<<10)+u),n+=1}else i.push(65533)}}n+=1}return i}(e));!o.endOfStream()&&-1!==(r=this._encoder.handler(o,o.read()));)Array.isArray(r)?s.push.apply(s,r):s.push(r);if(!this._streaming){for(;-1!==(r=this._encoder.handler(o,o.read()));)Array.isArray(r)?s.push.apply(s,r):s.push(r);this._encoder=null}return new Uint8Array(s)}},o=d,a=l}),M.register("jZrc2",function(e,t){c(e.exports,"getBundleURL",()=>r,e=>r=e);var r,n={};r=function(e){var t=n[e];return t||(t=function(){try{throw Error()}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return(""+e[2]).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}return"/"}(),n[e]=t),t}}),M("hZnCo").register(JSON.parse('{"aoY6u":"index.js","kj1mr":"main-interceptor.ea6e7a56.js"}'));var N={};Object.defineProperty(N,"__esModule",{value:!0}),N.sha224=N.SHA224=N.sha256=N.SHA256=void 0;var D={};Object.defineProperty(D,"__esModule",{value:!0}),D.sha512_224=D.sha512_256=D.sha384=D.sha512=D.sha224=D.sha256=D.SHA512_256=D.SHA512_224=D.SHA384=D.SHA512=D.SHA224=D.SHA256=void 0;var U={};Object.defineProperty(U,"__esModule",{value:!0}),U.SHA512_IV=U.SHA384_IV=U.SHA224_IV=U.SHA256_IV=U.HashMD=void 0,U.setBigUint64=en,U.Chi=function(e,t,r){return e&t^~e&r},U.Maj=function(e,t,r){return e&t^e&r^t&r};var j={};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(j,"__esModule",{value:!0}),j.wrapXOFConstructorWithOpts=j.wrapConstructorWithOpts=j.wrapConstructor=j.Hash=j.nextTick=j.swap32IfBE=j.byteSwapIfBE=j.swap8IfBE=j.isLE=void 0,j.isBytes=F,j.anumber=$,j.abytes=z,j.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");$(e.outputLen),$(e.blockLen)},j.aexists=function(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")},j.aoutput=function(e,t){z(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)},j.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},j.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},j.clean=function(...e){for(let t=0;t<e.length;t++)e[t].fill(0)},j.createView=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)},j.rotr=function(e,t){return e<<32-t|e>>>t},j.rotl=function(e,t){return e<<t|e>>>32-t>>>0},j.byteSwap=H,j.byteSwap32=W,j.bytesToHex=function(e){if(z(e),K)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=V[e[r]];return t},j.hexToBytes=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(K)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=Q(e.charCodeAt(i)),s=Q(e.charCodeAt(i+1));if(void 0===r||void 0===s){let t=e[i]+e[i+1];throw Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n},j.asyncLoop=Z,j.utf8ToBytes=X,j.bytesToUtf8=function(e){return new TextDecoder().decode(e)},j.toBytes=Y,j.kdfInputToBytes=function(e){return"string"==typeof e&&(e=X(e)),z(e),e},j.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];z(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r},j.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==({}).toString.call(t))throw Error("options should be object or undefined");let r=Object.assign(e,t);return r},j.createHasher=ee,j.createOptHasher=et,j.createXOFer=er,j.randomBytes=function(e=32){if(q.crypto&&"function"==typeof q.crypto.getRandomValues)return q.crypto.getRandomValues(new Uint8Array(e));if(q.crypto&&"function"==typeof q.crypto.randomBytes)return Uint8Array.from(q.crypto.randomBytes(e));throw Error("crypto.getRandomValues must be defined")};var q={};function F(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function $(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function z(e,...t){if(!F(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function H(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function W(e){for(let t=0;t<e.length;t++)e[t]=H(e[t]);return e}Object.defineProperty(q,"__esModule",{value:!0}),q.crypto=void 0,q.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,j.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],j.swap8IfBE=j.isLE?e=>e:e=>H(e),j.byteSwapIfBE=j.swap8IfBE,j.swap32IfBE=j.isLE?e=>e:W;let K="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,V=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),G={_0:48,_9:57,A:65,F:70,a:97,f:102};function Q(e){return e>=G._0&&e<=G._9?e-G._0:e>=G.A&&e<=G.F?e-(G.A-10):e>=G.a&&e<=G.f?e-(G.a-10):void 0}let J=async()=>{};async function Z(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let e=Date.now()-n;e>=0&&e<t||(await (0,j.nextTick)(),n+=e)}}function X(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Y(e){return"string"==typeof e&&(e=X(e)),z(e),e}function ee(e){let t=t=>e().update(Y(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function et(e){let t=(t,r)=>e(r).update(Y(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}function er(e){let t=(t,r)=>e(r).update(Y(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}function en(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,l=n?0:4;e.setUint32(t+u,o,n),e.setUint32(t+l,a,n)}j.nextTick=J,j.Hash=class{},j.wrapConstructor=ee,j.wrapConstructorWithOpts=et,j.wrapXOFConstructorWithOpts=er;class ei extends j.Hash{constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=(0,j.createView)(this.buffer)}update(e){(0,j.aexists)(this),e=(0,j.toBytes)(e),(0,j.abytes)(e);let{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){let o=Math.min(n-this.pos,i-s);if(o===n){let t=(0,j.createView)(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,j.aexists)(this),(0,j.aoutput)(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;t[s++]=128,(0,j.clean)(this.buffer.subarray(s)),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;en(r,n-8,BigInt(8*this.length),i),this.process(r,0);let o=(0,j.createView)(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let u=a/4,l=this.get();if(u>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)o.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.destroyed=s,e.finished=i,e.length=n,e.pos=o,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}U.HashMD=ei,U.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),U.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),U.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),U.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);var es={};Object.defineProperty(es,"__esModule",{value:!0}),es.toBig=es.shrSL=es.shrSH=es.rotrSL=es.rotrSH=es.rotrBL=es.rotrBH=es.rotr32L=es.rotr32H=es.rotlSL=es.rotlSH=es.rotlBL=es.rotlBH=es.add5L=es.add5H=es.add4L=es.add4H=es.add3L=es.add3H=void 0,es.add=eS,es.fromBig=eu,es.split=el;let eo=BigInt(4294967296-1),ea=BigInt(32);function eu(e,t=!1){return t?{h:Number(e&eo),l:Number(e>>ea&eo)}:{h:0|Number(e>>ea&eo),l:0|Number(e&eo)}}function el(e,t=!1){let r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:r,l:o}=eu(e[s],t);[n[s],i[s]]=[r,o]}return[n,i]}let ec=(e,t)=>BigInt(e>>>0)<<ea|BigInt(t>>>0);es.toBig=ec;let ed=(e,t,r)=>e>>>r;es.shrSH=ed;let eh=(e,t,r)=>e<<32-r|t>>>r;es.shrSL=eh;let ef=(e,t,r)=>e>>>r|t<<32-r;es.rotrSH=ef;let ep=(e,t,r)=>e<<32-r|t>>>r;es.rotrSL=ep;let eg=(e,t,r)=>e<<64-r|t>>>r-32;es.rotrBH=eg;let ey=(e,t,r)=>e>>>r-32|t<<64-r;es.rotrBL=ey;let em=(e,t)=>t;es.rotr32H=em;let eb=(e,t)=>e;es.rotr32L=eb;let e_=(e,t,r)=>e<<r|t>>>32-r;es.rotlSH=e_;let ev=(e,t,r)=>t<<r|e>>>32-r;es.rotlSL=ev;let ew=(e,t,r)=>t<<r-32|e>>>64-r;es.rotlBH=ew;let eE=(e,t,r)=>e<<r-32|t>>>64-r;function eS(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}}es.rotlBL=eE;let ek=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);es.add3L=ek;let eA=(e,t,r,n)=>t+r+n+(e/4294967296|0)|0;es.add3H=eA;let ex=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);es.add4L=ex;let eI=(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0;es.add4H=eI;let eT=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);es.add5L=eT;let eO=(e,t,r,n,i,s)=>t+r+n+i+s+(e/4294967296|0)|0;es.add5H=eO,es.default={fromBig:eu,split:el,toBig:ec,shrSH:ed,shrSL:eh,rotrSH:ef,rotrSL:ep,rotrBH:eg,rotrBL:ey,rotr32H:em,rotr32L:eb,rotlSH:e_,rotlSL:ev,rotlBH:ew,rotlBL:eE,add:eS,add3L:ek,add3H:eA,add4L:ex,add4H:eI,add5H:eO,add5L:eT};let eB=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),eC=new Uint32Array(64);class eP extends U.HashMD{constructor(e=32){super(64,e,8,!1),this.A=0|U.SHA256_IV[0],this.B=0|U.SHA256_IV[1],this.C=0|U.SHA256_IV[2],this.D=0|U.SHA256_IV[3],this.E=0|U.SHA256_IV[4],this.F=0|U.SHA256_IV[5],this.G=0|U.SHA256_IV[6],this.H=0|U.SHA256_IV[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)eC[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=eC[e-15],r=eC[e-2],n=(0,j.rotr)(t,7)^(0,j.rotr)(t,18)^t>>>3,i=(0,j.rotr)(r,17)^(0,j.rotr)(r,19)^r>>>10;eC[e]=i+eC[e-7]+n+eC[e-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:u,H:l}=this;for(let e=0;e<64;e++){let t=(0,j.rotr)(o,6)^(0,j.rotr)(o,11)^(0,j.rotr)(o,25),c=l+t+(0,U.Chi)(o,a,u)+eB[e]+eC[e]|0,d=(0,j.rotr)(r,2)^(0,j.rotr)(r,13)^(0,j.rotr)(r,22),h=d+(0,U.Maj)(r,n,i)|0;l=u,u=a,a=o,o=s+c|0,s=i,i=n,n=r,r=c+h|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,n,i,s,o,a,u,l)}roundClean(){(0,j.clean)(eC)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,j.clean)(this.buffer)}}D.SHA256=eP;class eR extends eP{constructor(){super(28),this.A=0|U.SHA224_IV[0],this.B=0|U.SHA224_IV[1],this.C=0|U.SHA224_IV[2],this.D=0|U.SHA224_IV[3],this.E=0|U.SHA224_IV[4],this.F=0|U.SHA224_IV[5],this.G=0|U.SHA224_IV[6],this.H=0|U.SHA224_IV[7]}}D.SHA224=eR;let eL=es.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),eM=eL[0],eN=eL[1],eD=new Uint32Array(80),eU=new Uint32Array(80);class ej extends U.HashMD{constructor(e=64){super(128,e,16,!1),this.Ah=0|U.SHA512_IV[0],this.Al=0|U.SHA512_IV[1],this.Bh=0|U.SHA512_IV[2],this.Bl=0|U.SHA512_IV[3],this.Ch=0|U.SHA512_IV[4],this.Cl=0|U.SHA512_IV[5],this.Dh=0|U.SHA512_IV[6],this.Dl=0|U.SHA512_IV[7],this.Eh=0|U.SHA512_IV[8],this.El=0|U.SHA512_IV[9],this.Fh=0|U.SHA512_IV[10],this.Fl=0|U.SHA512_IV[11],this.Gh=0|U.SHA512_IV[12],this.Gl=0|U.SHA512_IV[13],this.Hh=0|U.SHA512_IV[14],this.Hl=0|U.SHA512_IV[15]}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:u,El:l,Fh:c,Fl:d,Gh:h,Gl:f,Hh:p,Hl:g}=this;return[e,t,r,n,i,s,o,a,u,l,c,d,h,f,p,g]}set(e,t,r,n,i,s,o,a,u,l,c,d,h,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|u,this.El=0|l,this.Fh=0|c,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)eD[r]=e.getUint32(t),eU[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|eD[e-15],r=0|eU[e-15],n=es.rotrSH(t,r,1)^es.rotrSH(t,r,8)^es.shrSH(t,r,7),i=es.rotrSL(t,r,1)^es.rotrSL(t,r,8)^es.shrSL(t,r,7),s=0|eD[e-2],o=0|eU[e-2],a=es.rotrSH(s,o,19)^es.rotrBH(s,o,61)^es.shrSH(s,o,6),u=es.rotrSL(s,o,19)^es.rotrBL(s,o,61)^es.shrSL(s,o,6),l=es.add4L(i,u,eU[e-7],eU[e-16]),c=es.add4H(l,n,a,eD[e-7],eD[e-16]);eD[e]=0|c,eU[e]=0|l}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:u,Dl:l,Eh:c,El:d,Fh:h,Fl:f,Gh:p,Gl:g,Hh:y,Hl:m}=this;for(let e=0;e<80;e++){let t=es.rotrSH(c,d,14)^es.rotrSH(c,d,18)^es.rotrBH(c,d,41),b=es.rotrSL(c,d,14)^es.rotrSL(c,d,18)^es.rotrBL(c,d,41),_=c&h^~c&p,v=d&f^~d&g,w=es.add5L(m,b,v,eN[e],eU[e]),E=es.add5H(w,y,t,_,eM[e],eD[e]),S=0|w,k=es.rotrSH(r,n,28)^es.rotrBH(r,n,34)^es.rotrBH(r,n,39),A=es.rotrSL(r,n,28)^es.rotrBL(r,n,34)^es.rotrBL(r,n,39),x=r&i^r&o^i&o,I=n&s^n&a^s&a;y=0|p,m=0|g,p=0|h,g=0|f,h=0|c,f=0|d,({h:c,l:d}=es.add(0|u,0|l,0|E,0|S)),u=0|o,l=0|a,o=0|i,a=0|s,i=0|r,s=0|n;let T=es.add3L(S,A,I);r=es.add3H(T,E,k,x),n=0|T}({h:r,l:n}=es.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=es.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=es.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:u,l:l}=es.add(0|this.Dh,0|this.Dl,0|u,0|l)),({h:c,l:d}=es.add(0|this.Eh,0|this.El,0|c,0|d)),({h:h,l:f}=es.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:g}=es.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:y,l:m}=es.add(0|this.Hh,0|this.Hl,0|y,0|m)),this.set(r,n,i,s,o,a,u,l,c,d,h,f,p,g,y,m)}roundClean(){(0,j.clean)(eD,eU)}destroy(){(0,j.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}D.SHA512=ej;class eq extends ej{constructor(){super(48),this.Ah=0|U.SHA384_IV[0],this.Al=0|U.SHA384_IV[1],this.Bh=0|U.SHA384_IV[2],this.Bl=0|U.SHA384_IV[3],this.Ch=0|U.SHA384_IV[4],this.Cl=0|U.SHA384_IV[5],this.Dh=0|U.SHA384_IV[6],this.Dl=0|U.SHA384_IV[7],this.Eh=0|U.SHA384_IV[8],this.El=0|U.SHA384_IV[9],this.Fh=0|U.SHA384_IV[10],this.Fl=0|U.SHA384_IV[11],this.Gh=0|U.SHA384_IV[12],this.Gl=0|U.SHA384_IV[13],this.Hh=0|U.SHA384_IV[14],this.Hl=0|U.SHA384_IV[15]}}D.SHA384=eq;let eF=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),e$=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class ez extends ej{constructor(){super(28),this.Ah=0|eF[0],this.Al=0|eF[1],this.Bh=0|eF[2],this.Bl=0|eF[3],this.Ch=0|eF[4],this.Cl=0|eF[5],this.Dh=0|eF[6],this.Dl=0|eF[7],this.Eh=0|eF[8],this.El=0|eF[9],this.Fh=0|eF[10],this.Fl=0|eF[11],this.Gh=0|eF[12],this.Gl=0|eF[13],this.Hh=0|eF[14],this.Hl=0|eF[15]}}D.SHA512_224=ez;class eH extends ej{constructor(){super(32),this.Ah=0|e$[0],this.Al=0|e$[1],this.Bh=0|e$[2],this.Bl=0|e$[3],this.Ch=0|e$[4],this.Cl=0|e$[5],this.Dh=0|e$[6],this.Dl=0|e$[7],this.Eh=0|e$[8],this.El=0|e$[9],this.Fh=0|e$[10],this.Fl=0|e$[11],this.Gh=0|e$[12],this.Gl=0|e$[13],this.Hh=0|e$[14],this.Hl=0|e$[15]}}function eW(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}D.SHA512_256=eH,D.sha256=(0,j.createHasher)(()=>new eP),D.sha224=(0,j.createHasher)(()=>new eR),D.sha512=(0,j.createHasher)(()=>new ej),D.sha384=(0,j.createHasher)(()=>new eq),D.sha512_256=(0,j.createHasher)(()=>new eH),D.sha512_224=(0,j.createHasher)(()=>new ez),N.SHA256=D.SHA256,N.sha256=D.sha256,N.SHA224=D.SHA224,N.sha224=D.sha224;let eK="2.31.4",eV={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${eK}`};class eG extends Error{constructor(e,t={}){let r=t.cause instanceof eG?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof eG&&t.cause.docsPath||t.docsPath,i=eV.getDocsUrl?.({...t,docsPath:n}),s=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...eV.version?[`Version: ${eV.version}`]:[]].join("\n");super(s,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=eK}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&void 0!==t.cause?e(t.cause,r):r?null:t}(this,e)}}class eQ extends eG{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}function eJ(e,{dir:t,size:r=32}={}){return"string"==typeof e?function(e,{dir:t,size:r=32}={}){if(null===r)return e;let n=e.replace("0x","");if(n.length>2*r)throw new eQ({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n["right"===t?"padEnd":"padStart"](2*r,"0")}`}(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new eQ({size:e.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let i=0;i<r;i++){let s="right"===t;n[s?i:r-i-1]=e[s?i:e.length-i-1]}return n}(e,{dir:t,size:r})}class eZ extends eG{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class eX extends eG{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function eY(e){return eW(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function e0(e,{size:t}){if(eY(e)>t)throw new eX({givenSize:eY(e),maxSize:t})}let e1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function e2(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=e1[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(e0(n,{size:t.size}),eJ(n,{dir:"right",size:t.size})):n}function e6(e,t={}){let r;let{signed:n,size:i}=t,s=BigInt(e);i?r=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let o="bigint"==typeof r&&n?-r-1n:0;if(r&&s>r||s<o){let t="bigint"==typeof e?"n":"";throw new eZ({max:r?`${r}${t}`:void 0,min:`${o}${t}`,signed:n,size:i,value:`${e}${t}`})}let a=`0x${(n&&s<0?(1n<<BigInt(8*i))+BigInt(s):s).toString(16)}`;return i?eJ(a,{size:i}):a}let e8=new TextEncoder,e3=new TextEncoder,e5={zero:48,nine:57,A:65,F:70,a:97,f:102};function e4(e){return e>=e5.zero&&e<=e5.nine?e-e5.zero:e>=e5.A&&e<=e5.F?e-(e5.A-10):e>=e5.a&&e<=e5.f?e-(e5.a-10):void 0}function e7(e,t={}){let r=e;t.size&&(e0(r,{size:t.size}),r=eJ(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);let i=n.length/2,s=new Uint8Array(i);for(let e=0,t=0;e<i;e++){let r=e4(n.charCodeAt(t++)),i=e4(n.charCodeAt(t++));if(void 0===r||void 0===i)throw new eG(`Invalid byte sequence ("${n[t-2]}${n[t-1]}" in "${n}").`);s[e]=16*r+i}return s}var e9=Object.defineProperty,te=Object.defineProperties,tt=Object.getOwnPropertyDescriptors,tr=Object.getOwnPropertySymbols,tn=Object.prototype.hasOwnProperty,ti=Object.prototype.propertyIsEnumerable,ts=(e,t,r)=>t in e?e9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,to=(e,t)=>{for(var r in t||(t={}))tn.call(t,r)&&ts(e,r,t[r]);if(tr)for(var r of tr(t))ti.call(t,r)&&ts(e,r,t[r]);return e},ta=(e,t)=>te(e,tt(t)),tu=class extends Error{constructor(e,t,r){super(t||e.toString(),{cause:r}),this.status=e,this.statusText=t,this.error=r}},tl=async(e,t)=>{var r,n,i,s,o,a;let u=t||{},l={onRequest:[null==t?void 0:t.onRequest],onResponse:[null==t?void 0:t.onResponse],onSuccess:[null==t?void 0:t.onSuccess],onError:[null==t?void 0:t.onError],onRetry:[null==t?void 0:t.onRetry]};if(!t||!(null==t?void 0:t.plugins))return{url:e,options:u,hooks:l};for(let c of(null==t?void 0:t.plugins)||[]){if(c.init){let n=await (null==(r=c.init)?void 0:r.call(c,e.toString(),t));u=n.options||u,e=n.url}l.onRequest.push(null==(n=c.hooks)?void 0:n.onRequest),l.onResponse.push(null==(i=c.hooks)?void 0:i.onResponse),l.onSuccess.push(null==(s=c.hooks)?void 0:s.onSuccess),l.onError.push(null==(o=c.hooks)?void 0:o.onError),l.onRetry.push(null==(a=c.hooks)?void 0:a.onRetry)}return{url:e,options:u,hooks:l}},tc=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(){return this.options.delay}},td=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(e){let t=Math.min(this.options.maxDelay,this.options.baseDelay*2**e);return t}},th=async e=>{let t={},r=async e=>"function"==typeof e?await e():e;if(null==e?void 0:e.auth){if("Bearer"===e.auth.type){let n=await r(e.auth.token);if(!n)return t;t.authorization=`Bearer ${n}`}else if("Basic"===e.auth.type){let n=r(e.auth.username),i=r(e.auth.password);if(!n||!i)return t;t.authorization=`Basic ${btoa(`${n}:${i}`)}`}else if("Custom"===e.auth.type){let n=r(e.auth.value);if(!n)return t;t.authorization=`${r(e.auth.prefix)} ${n}`}}return t},tf=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function tp(e){if(void 0===e)return!1;let t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}function tg(e){try{return JSON.parse(e)}catch(t){return e}}function ty(e){return"function"==typeof e}async function tm(e){let t=new Headers(null==e?void 0:e.headers),r=await th(e);for(let[e,n]of Object.entries(r||{}))t.set(e,n);if(!t.has("content-type")){let r=tp(null==e?void 0:e.body)?"application/json":null;r&&t.set("content-type",r)}return t}var tb=class e extends Error{constructor(t,r){super(r||JSON.stringify(t,null,2)),this.issues=t,Object.setPrototypeOf(this,e.prototype)}};async function t_(e,t){let r=await e["~standard"].validate(t);if(r.issues)throw new tb(r.issues);return r.value}var tv=["get","post","put","patch","delete"],tw=e=>({id:"apply-schema",name:"Apply Schema",version:"1.0.0",async init(t,r){var n,i,s,o;let a=(null==(i=null==(n=e.plugins)?void 0:n.find(e=>{var r;return null!=(r=e.schema)&&!!r.config&&(t.startsWith(e.schema.config.baseURL||"")||t.startsWith(e.schema.config.prefix||""))}))?void 0:i.schema)||e.schema;if(a){let e=t;(null==(s=a.config)?void 0:s.prefix)&&e.startsWith(a.config.prefix)&&(e=e.replace(a.config.prefix,""),a.config.baseURL&&(t=t.replace(a.config.prefix,a.config.baseURL))),(null==(o=a.config)?void 0:o.baseURL)&&e.startsWith(a.config.baseURL)&&(e=e.replace(a.config.baseURL,""));let n=a.schema[e];if(n){let e=ta(to({},r),{method:n.method,output:n.output});return(null==r?void 0:r.disableValidation)||(e=ta(to({},e),{body:n.input?await t_(n.input,null==r?void 0:r.body):null==r?void 0:r.body,params:n.params?await t_(n.params,null==r?void 0:r.params):null==r?void 0:r.params,query:n.query?await t_(n.query,null==r?void 0:r.query):null==r?void 0:r.query})),{url:t,options:e}}}return{url:t,options:r}}}),tE=e=>async function(t,r){let n=ta(to(to({},e),r),{plugins:[...(null==e?void 0:e.plugins)||[],tw(e||{})]});return null==e||e.catchAllError,await tS(t,n)},tS=async(e,t)=>{var r,n,i,s,o,a,u,l;let c;let{hooks:d,url:h,options:f}=await tl(e,t),p=function(e){if(null==e?void 0:e.customFetchImpl)return e.customFetchImpl;if("undefined"!=typeof globalThis&&ty(globalThis.fetch))return globalThis.fetch;if("undefined"!=typeof window&&ty(window.fetch))return window.fetch;throw Error("No fetch implementation found")}(f),g=new AbortController,y=null!=(r=f.signal)?r:g.signal,m=function(e,t){let{baseURL:r,params:n,query:i}=t||{query:{},params:{},baseURL:""},s=e.startsWith("http")?e.split("/").slice(0,3).join("/"):r||"";if(e.startsWith("@")){let t=e.toString().split("@")[1].split("/")[0];tv.includes(t)&&(e=e.replace(`@${t}/`,"/"))}s.endsWith("/")||(s+="/");let[o,a]=e.replace(s,"").split("?"),u=new URLSearchParams(a);for(let[e,t]of Object.entries(i||{}))null!=t&&u.set(e,String(t));if(n){if(Array.isArray(n)){let e=o.split("/").filter(e=>e.startsWith(":"));for(let[t,r]of e.entries()){let e=n[t];o=o.replace(r,e)}}else for(let[e,t]of Object.entries(n))o=o.replace(`:${e}`,String(t))}(o=o.split("/").map(encodeURIComponent).join("/")).startsWith("/")&&(o=o.slice(1));let l=u.toString();if(l=l.length>0?`?${l}`.replace(/\+/g,"%20"):"",!s.startsWith("http"))return`${s}${o}${l}`;let c=new URL(`${o}${l}`,s);return c}(h,f),b=function(e){if(!(null==e?void 0:e.body))return null;let t=new Headers(null==e?void 0:e.headers);if(tp(e.body)&&!t.has("content-type")){for(let[t,r]of Object.entries(null==e?void 0:e.body))r instanceof Date&&(e.body[t]=r.toISOString());return JSON.stringify(e.body)}return e.body}(f),_=await tm(f),v=function(e,t){var r;if(null==t?void 0:t.method)return t.method.toUpperCase();if(e.startsWith("@")){let n=null==(r=e.split("@")[1])?void 0:r.split("/")[0];return tv.includes(n)?n.toUpperCase():(null==t?void 0:t.body)?"POST":"GET"}return(null==t?void 0:t.body)?"POST":"GET"}(h,f),w=ta(to({},f),{url:m,headers:_,body:b,method:v,signal:y});for(let e of d.onRequest)if(e){let t=await e(w);t instanceof Object&&(w=t)}("pipeTo"in w&&"function"==typeof w.pipeTo||"function"==typeof(null==(n=null==t?void 0:t.body)?void 0:n.pipe))&&!("duplex"in w)&&(w.duplex="half");let{clearTimeout:E}=(!(null==f?void 0:f.signal)&&(null==f?void 0:f.timeout)&&(c=setTimeout(()=>null==g?void 0:g.abort(),null==f?void 0:f.timeout)),{abortTimeout:c,clearTimeout:()=>{c&&clearTimeout(c)}}),S=await p(w.url,w);E();let k={response:S,request:w};for(let e of d.onResponse)if(e){let r=await e(ta(to({},k),{response:(null==(i=null==t?void 0:t.hookOptions)?void 0:i.cloneResponse)?S.clone():S}));r instanceof Response?S=r:r instanceof Object&&(S=r.response)}if(S.ok){let e="HEAD"!==w.method;if(!e)return{data:"",error:null};let r=function(e){let t=e.headers.get("content-type"),r=new Set(["image/svg","application/xml","application/xhtml","application/html"]);if(!t)return"json";let n=t.split(";").shift()||"";return tf.test(n)?"json":r.has(n)||n.startsWith("text/")?"text":"blob"}(S),n={data:"",response:S,request:w};if("json"===r||"text"===r){let e=await S.text(),t=null!=(s=w.jsonParser)?s:tg,r=await t(e);n.data=r}else n.data=await S[r]();for(let e of((null==w?void 0:w.output)&&w.output&&!w.disableValidation&&(n.data=await t_(w.output,n.data)),d.onSuccess))e&&await e(ta(to({},n),{response:(null==(o=null==t?void 0:t.hookOptions)?void 0:o.cloneResponse)?S.clone():S}));return(null==t?void 0:t.throw)?n.data:{data:n.data,error:null}}let A=null!=(a=null==t?void 0:t.jsonParser)?a:tg,x=await S.text(),I=function(e){try{return JSON.parse(e),!0}catch(e){return!1}}(x),T=I?await A(x):null,O={response:S,responseText:x,request:w,error:ta(to({},T),{status:S.status,statusText:S.statusText})};for(let e of d.onError)e&&await e(ta(to({},O),{response:(null==(u=null==t?void 0:t.hookOptions)?void 0:u.cloneResponse)?S.clone():S}));if(null==t?void 0:t.retry){let r=function(e){if("number"==typeof e)return new tc({type:"linear",attempts:e,delay:1e3});switch(e.type){case"linear":return new tc(e);case"exponential":return new td(e);default:throw Error("Invalid retry strategy")}}(t.retry),n=null!=(l=t.retryAttempt)?l:0;if(await r.shouldAttemptRetry(n,S)){for(let e of d.onRetry)e&&await e(k);let i=r.getDelay(n);return await new Promise(e=>setTimeout(e,i)),await tS(e,ta(to({},t),{retryAttempt:n+1}))}}if(null==t?void 0:t.throw)throw new tu(S.status,S.statusText,I?T:x);return{data:null,error:ta(to({},T),{status:S.status,statusText:S.statusText})}},tk=M("jcdBh");let tA=Object.create(null),tx=e=>globalThis.process?.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(e?tA:globalThis),tI=new Proxy(tA,{get(e,t){let r=tx();return r[t]??tA[t]},has(e,t){let r=tx();return t in r||t in tA},set(e,t,r){let n=tx(!0);return n[t]=r,!0},deleteProperty(e,t){if(!t)return!1;let r=tx(!0);return delete r[t],!0},ownKeys(){let e=tx(!0);return Object.keys(e)}}),tT=void 0!==tk&&tk.env&&"production"||"";"test"!==tT&&tI.TEST;class tO extends Error{constructor(e,t){super(e),this.name="BetterAuthError",this.message=e,this.cause=t,this.stack=""}}function tB(e,t="/api/auth"){let r=function(e){try{let t=new URL(e);return"/"!==t.pathname}catch(t){throw new tO(`Invalid base URL: ${e}. Please provide a valid base URL.`)}}(e);return r?e:(t=t.startsWith("/")?t:`/${t}`,`${e.replace(/\/+$/,"")}${t}`)}v=function(e,t,r){if(e)return tB(e,t);let n=tI.BETTER_AUTH_URL||tI.NEXT_PUBLIC_BETTER_AUTH_URL||tI.PUBLIC_BETTER_AUTH_URL||tI.NUXT_PUBLIC_BETTER_AUTH_URL||tI.NUXT_PUBLIC_AUTH_URL||("/"!==tI.BASE_URL?tI.BASE_URL:void 0);if(n)return tB(n,t);let i=r?.headers.get("x-forwarded-host"),s=r?.headers.get("x-forwarded-proto");if(i&&s)return tB(`${s}://${i}`,t);if(r){let e=function(e){try{let t=new URL(e);return t.origin}catch(e){return null}}(r.url);if(!e)throw new tO("Could not get origin from request. Please provide a valid base URL.");return tB(e,t)}if("undefined"!=typeof window&&window.location)return tB(window.location.origin,t)};let tC=[],tP=0,tR=0,tL=e=>{let t=[],r={get:()=>(r.lc||r.listen(()=>{})(),r.value),lc:0,listen:e=>(r.lc=t.push(e),()=>{for(let t=tP+4;t<tC.length;)tC[t]===e?tC.splice(t,4):t+=4;let n=t.indexOf(e);!~n||(t.splice(n,1),--r.lc||r.off())}),notify(e,n){tR++;let i=!tC.length;for(let i of t)tC.push(i,r.value,e,n);if(i){for(tP=0;tP<tC.length;tP+=4)tC[tP](tC[tP+1],tC[tP+2],tC[tP+3]);tC.length=0}},off(){},set(e){let t=r.value;t!==e&&(r.value=e,r.notify(t))},subscribe(e){let t=r.listen(e);return e(r.value),t},value:e};return r},tM=(e,t,r,n)=>(e.events=e.events||{},e.events[r+10]||(e.events[r+10]=n(t=>{e.events[r].reduceRight((e,t)=>(t(e),e),{shared:{},...t})})),e.events[r]=e.events[r]||[],e.events[r].push(t),()=>{let n=e.events[r],i=n.indexOf(t);n.splice(i,1),n.length||(delete e.events[r],e.events[r+10](),delete e.events[r+10])}),tN=(e,t)=>tM(e,r=>{let n=t(r);n&&e.events[6].push(n)},5,t=>{let r=e.listen;e.listen=(...n)=>(e.lc||e.active||(e.active=!0,t()),r(...n));let n=e.off;return e.events[6]=[],e.off=()=>{n(),setTimeout(()=>{if(e.active&&!e.lc){for(let t of(e.active=!1,e.events[6]))t();e.events[6]=[]}},1e3)},()=>{e.listen=r,e.off=n}}),tD="undefined"==typeof window;w=(e,t,r,n)=>{let i=tL({data:null,error:null,isPending:!0,isRefetching:!1,refetch:()=>s()}),s=()=>{let e="function"==typeof n?n({data:i.get().data,error:i.get().error,isPending:i.get().isPending}):n;return r(t,{...e,async onSuccess(t){i.set({data:t.data,error:null,isPending:!1,isRefetching:!1,refetch:i.value.refetch}),await e?.onSuccess?.(t)},async onError(t){let{request:r}=t,n="number"==typeof r.retry?r.retry:r.retry?.attempts,s=r.retryAttempt||0;n&&s<n||(i.set({error:t.error,data:null,isPending:!1,isRefetching:!1,refetch:i.value.refetch}),await e?.onError?.(t))},async onRequest(t){let r=i.get();i.set({isPending:null===r.data,data:r.data,error:null,isRefetching:!0,refetch:i.value.refetch}),await e?.onRequest?.(t)}})};e=Array.isArray(e)?e:[e];let o=!1;for(let t of e)t.subscribe(()=>{tD||(o?s():tN(i,()=>(setTimeout(()=>{s()},0),o=!0,()=>{i.off(),t.off()})))});return i};let tU={proto:/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,constructor:/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,protoShort:/"__proto__"\s*:/,constructorShort:/"constructor"\s*:/},tj=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/,tq={true:!0,false:!1,null:null,undefined:void 0,nan:Number.NaN,infinity:Number.POSITIVE_INFINITY,"-infinity":Number.NEGATIVE_INFINITY},tF=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,7}))?(?:Z|([+-])(\d{2}):(\d{2}))$/,t$={id:"redirect",name:"Redirect",hooks:{onSuccess(e){if(e.data?.url&&e.data?.redirect&&"undefined"!=typeof window&&window.location&&window.location)try{window.location.href=e.data.url}catch{}}}};_=e=>{let t="credentials"in Request.prototype,r=v(e?.baseURL,e?.basePath),n=e?.plugins?.flatMap(e=>e.fetchPlugins).filter(e=>void 0!==e)||[],i=tE({baseURL:r,...t?{credentials:"include"}:{},method:"GET",jsonParser:e=>e?function(e,t={strict:!0}){return function(e,t={}){let{strict:r=!1,warnings:n=!1,reviver:i,parseDates:s=!0}=t;if("string"!=typeof e)return e;let o=e.trim();if('"'===o[0]&&o.endsWith('"')&&!o.slice(1,-1).includes('"'))return o.slice(1,-1);let a=o.toLowerCase();if(a.length<=9&&a in tq)return tq[a];if(!tj.test(o)){if(r)throw SyntaxError("[better-json] Invalid JSON");return e}let u=Object.entries(tU).some(([e,t])=>{let r=t.test(o);return r&&n&&console.warn(`[better-json] Detected potential prototype pollution attempt using ${e} pattern`),r});if(u&&r)throw Error("[better-json] Potential prototype pollution attempt detected");try{return JSON.parse(o,(e,t)=>{if("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t){n&&console.warn(`[better-json] Dropping "${e}" key to prevent prototype pollution`);return}if(s&&"string"==typeof t){let e=function(e){let t=tF.exec(e);if(!t)return null;let[,r,n,i,s,o,a,u,l,c,d]=t,h=new Date(Date.UTC(parseInt(r,10),parseInt(n,10)-1,parseInt(i,10),parseInt(s,10),parseInt(o,10),parseInt(a,10),u?parseInt(u.padEnd(3,"0"),10):0));if(l){let e=(60*parseInt(c,10)+parseInt(d,10))*("+"===l?-1:1);h.setUTCMinutes(h.getUTCMinutes()+e)}return h instanceof Date&&!isNaN(h.getTime())?h:null}(t);if(e)return e}return i?i(e,t):t})}catch(t){if(r)throw t;return e}}(e,t)}(e,{strict:!1}):null,customFetchImpl:async(e,t)=>{try{return await fetch(e,t)}catch(e){return Response.error()}},...e?.fetchOptions,plugins:e?.disableDefaultFetchPlugins?[...e?.fetchOptions?.plugins||[],...n]:[t$,...e?.fetchOptions?.plugins||[],...n]}),{$sessionSignal:s,session:o}=function(e){let t=tL(!1),r=w(t,"/get-session",e,{method:"GET"});return{session:r,$sessionSignal:t}}(i),a=e?.plugins||[],u={},l={$sessionSignal:s,session:o},c={"/sign-out":"POST","/revoke-sessions":"POST","/revoke-other-sessions":"POST","/delete-user":"POST"},d=[{signal:"$sessionSignal",matcher:e=>"/sign-out"===e||"/update-user"===e||e.startsWith("/sign-in")||e.startsWith("/sign-up")||"/delete-user"===e||"/verify-email"===e}];for(let e of a)e.getAtoms&&Object.assign(l,e.getAtoms?.(i)),e.pathMethods&&Object.assign(c,e.pathMethods),e.atomListeners&&d.push(...e.atomListeners);let h={notify:e=>{l[e].set(!l[e].get())},listen:(e,t)=>{l[e].subscribe(t)},atoms:l};for(let t of a)t.getActions&&Object.assign(u,t.getActions?.(i,h,e));return{pluginsActions:u,pluginsAtoms:l,pluginPathMethods:c,atomListeners:d,$fetch:i,$store:h}};var tz=M("eJeWc");let tH=function(e){let{pluginPathMethods:t,pluginsActions:r,pluginsAtoms:n,$fetch:i,$store:s,atomListeners:o}=_(e),a={};for(let[e,t]of Object.entries(n))a[`use${e.charAt(0).toUpperCase()+e.slice(1)}`]=()=>(function(e,t={}){let r=tz.useRef(e.get()),{keys:n,deps:i=[e,n]}=t,s=tz.useCallback(t=>{let i=e=>{r.current!==e&&(r.current=e,t())};if(i(e.value),n?.length){let t;return t=new Set(n).add(void 0),e.listen((e,r,n)=>{t.has(n)&&i(e,r,n)})}return e.listen(i)},i),o=()=>r.current;return tz.useSyncExternalStore(s,o,o)})(t);let u={...r,...a,$fetch:i,$store:s},l=function e(r=[]){return new Proxy(function(){},{get(t,n){let i=[...r,n],s=u;for(let e of i)if(s&&"object"==typeof s&&e in s)s=s[e];else{s=void 0;break}return"function"==typeof s?s:e(i)},apply:async(e,s,a)=>{let u="/"+r.map(e=>e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)).join("/"),l=a[0]||{},c=a[1]||{},{query:d,fetchOptions:h,...f}=l,p={...c,...h},g=function(e,t,r){let n=t[e],{fetchOptions:i,query:s,...o}=r||{};return n||(i?.method?i.method:o&&Object.keys(o).length>0?"POST":"GET")}(u,t,l);return await i(u,{...p,body:"GET"===g?void 0:{...f,...p?.body||{}},query:d||p?.query,method:g,async onSuccess(e){await p?.onSuccess?.(e);let t=o?.find(e=>e.matcher(u));if(!t)return;let r=n[t.signal];if(!r)return;let i=r.get();setTimeout(()=>{r.set(!i)},10)}})}})}();return l}({baseURL:(void 0)??"https://loadbalance.frontrun.pro",basePath:"/api/v1/auth",plugins:[]});function tW(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tK="function"==typeof Symbol&&Symbol.observable||"@@observable",tV=()=>Math.random().toString(36).substring(7).split("").join("."),tG={INIT:`@@redux/INIT${tV()}`,REPLACE:`@@redux/REPLACE${tV()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${tV()}`};function tQ(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function tJ(e,t,r){if("function"!=typeof e)throw Error(tW(2));if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw Error(tW(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw Error(tW(1));return r(tJ)(e,t)}let n=e,i=t,s=new Map,o=s,a=0,u=!1;function l(){o===s&&(o=new Map,s.forEach((e,t)=>{o.set(t,e)}))}function c(){if(u)throw Error(tW(3));return i}function d(e){if("function"!=typeof e)throw Error(tW(4));if(u)throw Error(tW(5));let t=!0;l();let r=a++;return o.set(r,e),function(){if(t){if(u)throw Error(tW(6));t=!1,l(),o.delete(r),s=null}}}function h(e){if(!tQ(e))throw Error(tW(7));if(void 0===e.type)throw Error(tW(8));if("string"!=typeof e.type)throw Error(tW(17));if(u)throw Error(tW(9));try{u=!0,i=n(i,e)}finally{u=!1}let t=s=o;return t.forEach(e=>{e()}),e}return h({type:tG.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw Error(tW(10));n=e,h({type:tG.REPLACE})},[tK]:function(){return{subscribe(e){if("object"!=typeof e||null===e)throw Error(tW(11));function t(){e.next&&e.next(c())}t();let r=d(t);return{unsubscribe:r}},[tK](){return this}}}}}function tZ(e){let t;let r=Object.keys(e),n={};for(let t=0;t<r.length;t++){let i=r[t];"function"==typeof e[i]&&(n[i]=e[i])}let i=Object.keys(n);try{!function(e){Object.keys(e).forEach(t=>{let r=e[t],n=r(void 0,{type:tG.INIT});if(void 0===n)throw Error(tW(12));if(void 0===r(void 0,{type:tG.PROBE_UNKNOWN_ACTION()}))throw Error(tW(13))})}(n)}catch(e){t=e}return function(e={},r){if(t)throw t;let s=!1,o={};for(let t=0;t<i.length;t++){let a=i[t],u=n[a],l=e[a],c=u(l,r);if(void 0===c)throw r&&r.type,Error(tW(14));o[a]=c,s=s||c!==l}return(s=s||i.length!==Object.keys(e).length)?o:e}}function tX(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...r)=>e(t(...r)))}function tY(e){return tQ(e)&&"type"in e&&"string"==typeof e.type}var t0=Object.defineProperty,t1=Object.getOwnPropertySymbols,t2=Object.prototype.hasOwnProperty,t6=Object.prototype.propertyIsEnumerable,t8=(e,t,r)=>t in e?t0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,t3=(e,t)=>{for(var r in t||(t={}))t2.call(t,r)&&t8(e,r,t[r]);if(t1)for(var r of t1(t))t6.call(t,r)&&t8(e,r,t[r]);return e},t5=Symbol.for("immer-nothing"),t4=Symbol.for("immer-draftable"),t7=Symbol.for("immer-state");function t9(e,...t){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var re=Object.getPrototypeOf;function rt(e){return!!e&&!!e[t7]}function rr(e){var t;return!!e&&(ri(e)||Array.isArray(e)||!!e[t4]||!!(null==(t=e.constructor)?void 0:t[t4])||rc(e)||rd(e))}var rn=Object.prototype.constructor.toString();function ri(e){if(!e||"object"!=typeof e)return!1;let t=re(e);if(null===t)return!0;let r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===rn}function rs(e,t){0===ro(e)?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function ro(e){let t=e[t7];return t?t.type_:Array.isArray(e)?1:rc(e)?2:rd(e)?3:0}function ra(e,t){return 2===ro(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ru(e,t){return 2===ro(e)?e.get(t):e[t]}function rl(e,t,r){let n=ro(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function rc(e){return e instanceof Map}function rd(e){return e instanceof Set}function rh(e){return e.copy_||e.base_}function rf(e,t){if(rc(e))return new Map(e);if(rd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let r=ri(e);if(!0!==t&&("class_only"!==t||r)){let t=re(e);if(null!==t&&r)return t3({},e);let n=Object.create(t);return Object.assign(n,e)}{let t=Object.getOwnPropertyDescriptors(e);delete t[t7];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){let i=r[n],s=t[i];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(re(e),t)}}function rp(e,t=!1){return ry(e)||rt(e)||!rr(e)||(ro(e)>1&&(e.set=e.add=e.clear=e.delete=rg),Object.freeze(e),t&&Object.entries(e).forEach(([e,t])=>rp(t,!0))),e}function rg(){t9(2)}function ry(e){return Object.isFrozen(e)}var rm={};function rb(e){let t=rm[e];return t||t9(0,e),t}function r_(e,t){t&&(rb("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function rv(e){rw(e),e.drafts_.forEach(rS),e.drafts_=null}function rw(e){e===E&&(E=e.parent_)}function rE(e){return E={drafts_:[],parent_:E,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rS(e){let t=e[t7];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function rk(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0],n=void 0!==e&&e!==r;return n?(r[t7].modified_&&(rv(t),t9(4)),rr(e)&&(e=rA(t,e),t.parent_||rI(t,e)),t.patches_&&rb("Patches").generateReplacementPatches_(r[t7].base_,e,t.patches_,t.inversePatches_)):e=rA(t,r,[]),rv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==t5?e:void 0}function rA(e,t,r){if(ry(t))return t;let n=t[t7];if(!n)return rs(t,(i,s)=>rx(e,n,t,i,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return rI(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;let t=n.copy_,i=t,s=!1;3===n.type_&&(i=new Set(t),t.clear(),s=!0),rs(i,(i,o)=>rx(e,n,t,i,o,r,s)),rI(e,t,!1),r&&e.patches_&&rb("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function rx(e,t,r,n,i,s,o){if(rt(i)){let o=s&&t&&3!==t.type_&&!ra(t.assigned_,n)?s.concat(n):void 0,a=rA(e,i,o);if(rl(r,n,a),!rt(a))return;e.canAutoFreeze_=!1}else o&&r.add(i);if(rr(i)&&!ry(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;rA(e,i),(!t||!t.scope_.parent_)&&"symbol"!=typeof n&&Object.prototype.propertyIsEnumerable.call(r,n)&&rI(e,i)}}function rI(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rp(t,r)}var rT={get(e,t){if(t===t7)return e;let r=rh(e);if(!ra(r,t))return function(e,t,r){var n;let i=rC(t,r);return i?"value"in i?i.value:null==(n=i.get)?void 0:n.call(e.draft_):void 0}(e,r,t);let n=r[t];return e.finalized_||!rr(n)?n:n===rB(e.base_,t)?(rR(e),e.copy_[t]=rL(n,e)):n},has:(e,t)=>t in rh(e),ownKeys:e=>Reflect.ownKeys(rh(e)),set(e,t,r){let n=rC(rh(e),t);if(null==n?void 0:n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){let n=rB(rh(e),t),i=null==n?void 0:n[t7];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if((r===n?0!==r||1/r==1/n:r!=r&&n!=n)&&(void 0!==r||ra(e.base_,t)))return!0;rR(e),rP(e)}return!!(e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t]))||(e.copy_[t]=r,e.assigned_[t]=!0,!0)},deleteProperty:(e,t)=>(void 0!==rB(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,rR(e),rP(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){let r=rh(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){t9(11)},getPrototypeOf:e=>re(e.base_),setPrototypeOf(){t9(12)}},rO={};function rB(e,t){let r=e[t7],n=r?rh(r):e;return n[t]}function rC(e,t){if(!(t in e))return;let r=re(e);for(;r;){let e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=re(r)}}function rP(e){!e.modified_&&(e.modified_=!0,e.parent_&&rP(e.parent_))}function rR(e){e.copy_||(e.copy_=rf(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function rL(e,t){let r=rc(e)?rb("MapSet").proxyMap_(e,t):rd(e)?rb("MapSet").proxySet_(e,t):function(e,t){let r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:E,modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=n,s=rT;r&&(i=[n],s=rO);let{revoke:o,proxy:a}=Proxy.revocable(i,s);return n.draft_=a,n.revoke_=o,a}(e,t),n=t?t.scope_:E;return n.drafts_.push(r),r}function rM(e){return rt(e)||t9(10,e),function e(t){let r;if(!rr(t)||ry(t))return t;let n=t[t7];if(n){if(!n.modified_)return n.base_;n.finalized_=!0,r=rf(t,n.scope_.immer_.useStrictShallowCopy_)}else r=rf(t,!0);return rs(r,(t,n)=>{rl(r,t,e(n))}),n&&(n.finalized_=!1),r}(e)}rs(rT,(e,t)=>{rO[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),rO.deleteProperty=function(e,t){return rO.set.call(this,e,t,void 0)},rO.set=function(e,t,r){return rT.set.call(this,e[0],t,r,e[0])};var rN=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{let n;if("function"==typeof e&&"function"!=typeof t){let r=t;t=e;let n=this;return function(e=r,...i){return n.produce(e,e=>t.call(this,e,...i))}}if("function"!=typeof t&&t9(6),void 0!==r&&"function"!=typeof r&&t9(7),rr(e)){let i=rE(this),s=rL(e,void 0),o=!0;try{n=t(s),o=!1}finally{o?rv(i):rw(i)}return r_(i,r),rk(n,i)}if(e&&"object"==typeof e)t9(1,e);else{if(void 0===(n=t(e))&&(n=e),n===t5&&(n=void 0),this.autoFreeze_&&rp(n,!0),r){let t=[],i=[];rb("Patches").generateReplacementPatches_(e,n,t,i),r(t,i)}return n}},this.produceWithPatches=(e,t)=>{let r,n;if("function"==typeof e)return(t,...r)=>this.produceWithPatches(t,t=>e(t,...r));let i=this.produce(e,t,(e,t)=>{r=e,n=t});return[i,r,n]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){rr(e)||t9(8),rt(e)&&(e=rM(e));let t=rE(this),r=rL(e,void 0);return r[t7].isManual_=!0,rw(t),r}finishDraft(e,t){let r=e&&e[t7];r&&r.isManual_||t9(9);let{scope_:n}=r;return r_(n,t),rk(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));let n=rb("Patches").applyPatches_;return rt(e)?n(e,t):this.produce(e,e=>n(e,t))}},rD=rN.produce,rU=rN.produceWithPatches.bind(rN);rN.setAutoFreeze.bind(rN),rN.setUseStrictShallowCopy.bind(rN);var rj=rN.applyPatches.bind(rN);rN.createDraft.bind(rN),rN.finishDraft.bind(rN);var rq=Object.defineProperty,rF=Object.getOwnPropertySymbols,r$=Object.prototype.hasOwnProperty,rz=Object.prototype.propertyIsEnumerable,rH=(e,t,r)=>t in e?rq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rW=(e,t)=>{for(var r in t||(t={}))r$.call(t,r)&&rH(e,r,t[r]);if(rF)for(var r of rF(t))rz.call(t,r)&&rH(e,r,t[r]);return e},rK=(e,t,r)=>(rH(e,"symbol"!=typeof t?t+"":t,r),r),rV=e=>Array.isArray(e)?e:[e],rG=0,rQ=class{constructor(e,t=rJ){rK(this,"revision",rG),rK(this,"_value"),rK(this,"_lastValue"),rK(this,"_isEqual",rJ),this._value=this._lastValue=e,this._isEqual=t}get value(){return this._value}set value(e){this.value!==e&&(this._value=e,this.revision=++rG)}};function rJ(e,t){return e===t}function rZ(e){return e instanceof rQ||console.warn("Not a valid cell! ",e),e.value}var rX=(e,t)=>!1;function rY(){return function(e,t=rJ){return new rQ(null,t)}(0,rX)}var r0=e=>{let t=e.collectionTag;null===t&&(t=e.collectionTag=rY()),rZ(t)};Symbol();var r1=0,r2=Object.getPrototypeOf({}),r6=class{constructor(e){this.value=e,rK(this,"proxy",new Proxy(this,r8)),rK(this,"tag",rY()),rK(this,"tags",{}),rK(this,"children",{}),rK(this,"collectionTag",null),rK(this,"id",r1++),this.value=e,this.tag.value=e}},r8={get(e,t){let r=function(){let{value:r}=e,n=Reflect.get(r,t);if("symbol"==typeof t||t in r2)return n;if("object"==typeof n&&null!==n){let r=e.children[t];return void 0===r&&(r=e.children[t]=Array.isArray(n)?new r3(n):new r6(n)),r.tag&&rZ(r.tag),r.proxy}{let r=e.tags[t];return void 0===r&&((r=e.tags[t]=rY()).value=n),rZ(r),n}}();return r},ownKeys:e=>(r0(e),Reflect.ownKeys(e.value)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e.value,t),has:(e,t)=>Reflect.has(e.value,t)},r3=class{constructor(e){this.value=e,rK(this,"proxy",new Proxy([this],r5)),rK(this,"tag",rY()),rK(this,"tags",{}),rK(this,"children",{}),rK(this,"collectionTag",null),rK(this,"id",r1++),this.value=e,this.tag.value=e}},r5={get:([e],t)=>("length"===t&&r0(e),r8.get(e,t)),ownKeys:([e])=>r8.ownKeys(e),getOwnPropertyDescriptor:([e],t)=>r8.getOwnPropertyDescriptor(e,t),has:([e],t)=>r8.has(e,t)},r4="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function r7(){return{s:0,v:void 0,o:null,p:null}}function r9(e,t={}){let r,n=r7(),{resultEqualityCheck:i}=t,s=0;function o(){var t,o;let a;let u=n,{length:l}=arguments;for(let e=0;e<l;e++){let t=arguments[e];if("function"==typeof t||"object"==typeof t&&null!==t){let e=u.o;null===e&&(u.o=e=new WeakMap);let r=e.get(t);void 0===r?(u=r7(),e.set(t,u)):u=r}else{let e=u.p;null===e&&(u.p=e=new Map);let r=e.get(t);void 0===r?(u=r7(),e.set(t,u)):u=r}}let c=u;if(1===u.s)a=u.v;else if(a=e.apply(null,arguments),s++,i){let e=null!=(o=null==(t=null==r?void 0:r.deref)?void 0:t.call(r))?o:r;null!=e&&i(e,a)&&(a=e,0!==s&&s--);let n="object"==typeof a&&null!==a||"function"==typeof a;r=n?new r4(a):a}return c.s=1,c.v=a,a}return o.clearCache=()=>{n=r7(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function ne(e,...t){let r="function"==typeof e?{memoize:e,memoizeOptions:t}:e,n=(...e)=>{let t,n=0,i=0,s={},o=e.pop();"object"==typeof o&&(s=o,o=e.pop()),function(e,t=`expected a function, instead received ${typeof e}`){if("function"!=typeof e)throw TypeError(t)}(o,`createSelector expects an output function after the inputs, but received: [${typeof o}]`);let a=rW(rW({},r),s),{memoize:u,memoizeOptions:l=[],argsMemoize:c=r9,argsMemoizeOptions:d=[],devModeChecks:h={}}=a,f=rV(l),p=rV(d),g=function(e){let t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){let r=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw TypeError(`${t}[${r}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}(e),y=u(function(){return n++,o.apply(null,arguments)},...f),m=c(function(){i++;let e=function(e,t){let r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}(g,arguments);return t=y.apply(null,e)},...p);return Object.assign(m,{resultFunc:o,memoizedResultFunc:y,dependencies:g,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>t,recomputations:()=>n,resetRecomputations:()=>{n=0},memoize:u,argsMemoize:c})};return Object.assign(n,{withTypes:()=>n}),n}var nt=ne(r9),nr=Object.assign((e,t=nt)=>{!function(e,t=`expected an object, instead received ${typeof e}`){if("object"!=typeof e)throw TypeError(t)}(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);let r=Object.keys(e),n=r.map(t=>e[t]),i=t(n,(...e)=>e.reduce((e,t,n)=>(e[r[n]]=t,e),{}));return i},{withTypes:()=>nr});function nn(e){return({dispatch:t,getState:r})=>n=>i=>"function"==typeof i?i(t,r,e):n(i)}var ni=nn(),tk=M("jcdBh"),ns=Object.defineProperty,no=Object.defineProperties,na=Object.getOwnPropertyDescriptors,nu=Object.getOwnPropertySymbols,nl=Object.prototype.hasOwnProperty,nc=Object.prototype.propertyIsEnumerable,nd=(e,t,r)=>t in e?ns(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nh=(e,t)=>{for(var r in t||(t={}))nl.call(t,r)&&nd(e,r,t[r]);if(nu)for(var r of nu(t))nc.call(t,r)&&nd(e,r,t[r]);return e},nf=(e,t)=>no(e,na(t)),np=(e,t)=>{var r={};for(var n in e)nl.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&nu)for(var n of nu(e))0>t.indexOf(n)&&nc.call(e,n)&&(r[n]=e[n]);return r},ng=(e,t,r)=>nd(e,"symbol"!=typeof t?t+"":t,r),ny=((...e)=>{let t=ne(...e),r=Object.assign((...e)=>{let r=t(...e),n=(e,...t)=>r(rt(e)?rM(e):e,...t);return Object.assign(n,r),n},{withTypes:()=>r});return r})(r9),nm="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!=arguments.length)return"object"==typeof arguments[0]?tX:tX.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var nb=e=>e&&"function"==typeof e.match;function n_(e,t){function r(...n){if(t){let r=t(...n);if(!r)throw Error(n3(0));return nh(nh({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>tY(t)&&t.type===e,r}var nv=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function nw(e){return rr(e)?rD(e,()=>{}):e}function nE(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var nS=()=>function(e){let{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=null!=e?e:{},s=new nv;return t&&("boolean"==typeof t?s.push(ni):s.push(nn(t.extraArgument))),s},nk="RTK_autoBatch",nA=()=>e=>({payload:e,meta:{[nk]:!0}}),nx=e=>t=>{setTimeout(t,e)},nI=(e={type:"raf"})=>t=>(...r)=>{let n=t(...r),i=!0,s=!1,o=!1,a=new Set,u="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:nx(10):"callback"===e.type?e.queueNotification:nx(e.timeout),l=()=>{o=!1,s&&(s=!1,a.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){let t=n.subscribe(()=>i&&e());return a.add(e),()=>{t(),a.delete(e)}},dispatch(e){var t;try{return(s=!(i=!(null==(t=null==e?void 0:e.meta)?void 0:t[nk])))&&!o&&(o=!0,u(l)),n.dispatch(e)}finally{i=!0}}})},nT=e=>function(t){let{autoBatch:r=!0}=null!=t?t:{},n=new nv(e);return r&&n.push(nI("object"==typeof r?r:void 0)),n};function nO(e){let t;let r={},n=[],i={addCase(e,t){let n="string"==typeof e?e:e.type;if(!n)throw Error(n3(28));if(n in r)throw Error(n3(29));return r[n]=t,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(t=e,i)};return e(i),[r,n,t]}var nB=(e,t)=>nb(e)?e.match(t):e(t);function nC(...e){return t=>e.some(e=>nB(e,t))}function nP(...e){return t=>e.every(e=>nB(e,t))}function nR(e,t){if(!e||!e.meta)return!1;let r="string"==typeof e.meta.requestId,n=t.indexOf(e.meta.requestStatus)>-1;return r&&n}function nL(e){return"function"==typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function nM(...e){return 0===e.length?e=>nR(e,["pending"]):nL(e)?nC(...e.map(e=>e.pending)):nM()(e[0])}function nN(...e){return 0===e.length?e=>nR(e,["rejected"]):nL(e)?nC(...e.map(e=>e.rejected)):nN()(e[0])}function nD(...e){let t=e=>e&&e.meta&&e.meta.rejectedWithValue;return 0===e.length?nP(nN(...e),t):nL(e)?nP(nN(...e),t):nD()(e[0])}function nU(...e){return 0===e.length?e=>nR(e,["fulfilled"]):nL(e)?nC(...e.map(e=>e.fulfilled)):nU()(e[0])}function nj(...e){return 0===e.length?e=>nR(e,["pending","fulfilled","rejected"]):nL(e)?nC(...e.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):nj()(e[0])}var nq=(e=21)=>{let t="",r=e;for(;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},nF=["name","message","stack","code"],n$=class{constructor(e,t){this.payload=e,this.meta=t,ng(this,"_type")}},nz=class{constructor(e,t){this.payload=e,this.meta=t,ng(this,"_type")}},nH=e=>{if("object"==typeof e&&null!==e){let t={};for(let r of nF)"string"==typeof e[r]&&(t[r]=e[r]);return t}return{message:String(e)}},nW="External signal was aborted",nK=(()=>{function e(e,t,r){let n=n_(e+"/fulfilled",(e,t,r,n)=>({payload:e,meta:nf(nh({},n||{}),{arg:r,requestId:t,requestStatus:"fulfilled"})})),i=n_(e+"/pending",(e,t,r)=>({payload:void 0,meta:nf(nh({},r||{}),{arg:t,requestId:e,requestStatus:"pending"})})),s=n_(e+"/rejected",(e,t,n,i,s)=>({payload:i,error:(r&&r.serializeError||nH)(e||"Rejected"),meta:nf(nh({},s||{}),{arg:n,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:(null==e?void 0:e.name)==="AbortError",condition:(null==e?void 0:e.name)==="ConditionError"})}));return Object.assign(function(e,{signal:o}={}){return(a,u,l)=>{let c,d;let h=(null==r?void 0:r.idGenerator)?r.idGenerator(e):nq(),f=new AbortController;function p(e){d=e,f.abort()}o&&(o.aborted?p(nW):o.addEventListener("abort",()=>p(nW),{once:!0}));let g=async function(){var o,g,y;let m;try{let s=null==(o=null==r?void 0:r.condition)?void 0:o.call(r,e,{getState:u,extra:l});if(y=s,null!==y&&"object"==typeof y&&"function"==typeof y.then&&(s=await s),!1===s||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};let b=new Promise((e,t)=>{c=()=>{t({name:"AbortError",message:d||"Aborted"})},f.signal.addEventListener("abort",c)});a(i(h,e,null==(g=null==r?void 0:r.getPendingMeta)?void 0:g.call(r,{requestId:h,arg:e},{getState:u,extra:l}))),m=await Promise.race([b,Promise.resolve(t(e,{dispatch:a,getState:u,extra:l,requestId:h,signal:f.signal,abort:p,rejectWithValue:(e,t)=>new n$(e,t),fulfillWithValue:(e,t)=>new nz(e,t)})).then(t=>{if(t instanceof n$)throw t;return t instanceof nz?n(t.payload,h,e,t.meta):n(t,h,e)})])}catch(t){m=t instanceof n$?s(null,h,e,t.payload,t.meta):s(t,h,e)}finally{c&&f.signal.removeEventListener("abort",c)}let b=r&&!r.dispatchConditionRejection&&s.match(m)&&m.meta.condition;return b||a(m),m}();return Object.assign(g,{abort:p,requestId:h,arg:e,unwrap:()=>g.then(nV)})}},{pending:i,rejected:s,fulfilled:n,settled:nC(s,n),typePrefix:e})}return e.withTypes=()=>e,e})();function nV(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var nG=Symbol.for("rtk-slice-createasyncthunk"),nQ=((d=nQ||{}).reducer="reducer",d.reducerWithPrepare="reducerWithPrepare",d.asyncThunk="asyncThunk",d),nJ=function({creators:e}={}){var t;let r=null==(t=null==e?void 0:e.asyncThunk)?void 0:t[nG];return function(e){let t;let{name:n,reducerPath:i=n}=e;if(!n)throw Error(n3(11));let s=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return nh({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(s),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(e,t){let r="string"==typeof e?e:e.type;if(!r)throw Error(n3(12));if(r in a.sliceCaseReducersByType)throw Error(n3(13));return a.sliceCaseReducersByType[r]=t,u},addMatcher:(e,t)=>(a.sliceMatchers.push({matcher:e,reducer:t}),u),exposeAction:(e,t)=>(a.actionCreators[e]=t,u),exposeCaseReducer:(e,t)=>(a.sliceCaseReducersByName[e]=t,u)};function l(){let[t={},r=[],n]="function"==typeof e.extraReducers?nO(e.extraReducers):[e.extraReducers],i=nh(nh({},t),a.sliceCaseReducersByType);return function(e,t){let r,[n,i,s]=nO(t);if("function"==typeof e)r=()=>nw(e());else{let t=nw(e);r=()=>t}function o(e=r(),t){let o=[n[t.type],...i.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===o.filter(e=>!!e).length&&(o=[s]),o.reduce((e,r)=>{if(r){if(rt(e)){let n=r(e,t);return void 0===n?e:n}if(rr(e))return rD(e,e=>r(e,t));{let n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return e},e)}return o.getInitialState=r,o}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of a.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}o.forEach(t=>{let i=s[t],o={reducerName:t,type:`${n}/${t}`,createNotation:"function"==typeof e.reducers};"asyncThunk"===i._reducerDefinitionType?function({type:e,reducerName:t},r,n,i){if(!i)throw Error(n3(18));let{payloadCreator:s,fulfilled:o,pending:a,rejected:u,settled:l,options:c}=r,d=i(e,s,c);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),a&&n.addCase(d.pending,a),u&&n.addCase(d.rejected,u),l&&n.addMatcher(d.settled,l),n.exposeCaseReducer(t,{fulfilled:o||nZ,pending:a||nZ,rejected:u||nZ,settled:l||nZ})}(o,i,u,r):function({type:e,reducerName:t,createNotation:r},n,i){let s,o;if("reducer"in n){if(r&&"reducerWithPrepare"!==n._reducerDefinitionType)throw Error(n3(17));s=n.reducer,o=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?n_(e,o):n_(e))}(o,i,u)});let c=e=>e,d=new Map,h=new WeakMap;function f(e,r){return t||(t=l()),t(e,r)}function p(){return t||(t=l()),t.getInitialState()}function g(t,r=!1){function n(e){let i=e[t];return void 0===i&&r&&(i=nE(h,n,p)),i}function i(t=c){let n=nE(d,r,()=>new WeakMap);return nE(n,t,()=>{var n;let i={};for(let[s,o]of Object.entries(null!=(n=e.selectors)?n:{}))i[s]=function(e,t,r,n){function i(s,...o){let a=t(s);return void 0===a&&n&&(a=r()),e(a,...o)}return i.unwrapped=e,i}(o,t,()=>nE(h,t,p),r);return i})}return{reducerPath:t,getSelectors:i,get selectors(){return i(n)},selectSlice:n}}let y=nf(nh({name:n,reducer:f,actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:p},g(i)),{injectInto(e,t={}){var{reducerPath:r}=t,n=np(t,["reducerPath"]);let s=null!=r?r:i;return e.inject({reducerPath:s,reducer:f},n),nh(nh({},y),g(s,!0))}});return y}}();function nZ(){}var nX=(e,t)=>{if("function"!=typeof e)throw TypeError(n3(32))},{assign:nY}=Object,n0="listenerMiddleware",n1=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=n_(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(i);else throw Error(n3(21));return nX(s,"options.listener"),{predicate:i,type:t,effect:s}},n2=nY(e=>{let{type:t,predicate:r,effect:n}=n1(e),i={id:nq(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw Error(n3(22))}};return i},{withTypes:()=>n2}),n6=nY(n_(`${n0}/add`),{withTypes:()=>n6}),n8=nY(n_(`${n0}/remove`),{withTypes:()=>n8});function n3(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}Symbol.for("rtk-state-proxy-original");var tz=M("eJeWc"),n5={};function n4(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function n7(e,t){if(n4(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(t,r[n])||!n4(e[r[n]],t[r[n]]))return!1;return!0}n5=M("eeNJa"),Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement,"undefined"!=typeof navigator&&navigator.product;var n9=Symbol.for("react-redux-context"),ie="undefined"!=typeof globalThis?globalThis:{},it=function(){var e;if(!tz.createContext)return{};let t=null!=(e=ie[n9])?e:ie[n9]=new Map,r=t.get(tz.createContext);return r||(r=tz.createContext(null),t.set(tz.createContext,r)),r}();function ir(e=it){return function(){let t=tz.useContext(e);return t}}var ii=ir();function is(e=it){let t=e===it?ii:ir(e),r=()=>{let{store:e}=t();return e};return Object.assign(r,{withTypes:()=>r}),r}var io=is(),ia=function(e=it){let t=e===it?io:is(e),r=()=>{let e=t();return e.dispatch};return Object.assign(r,{withTypes:()=>r}),r}(),iu=(e,t)=>e===t,il=function(e=it){let t=e===it?ii:ir(e),r=(e,r={})=>{let{equalityFn:n=iu}="function"==typeof r?{equalityFn:r}:r,i=t(),{store:s,subscription:o,getServerState:a}=i;tz.useRef(!0);let u=tz.useCallback({[e.name](t){let r=e(t);return r}}[e.name],[e]),l=(0,n5.useSyncExternalStoreWithSelector)(o.addNestedSub,s.getState,a||s.getState,u,n);return tz.useDebugValue(l),l};return Object.assign(r,{withTypes:()=>r}),r}(),ic=function(e){e()},id={};c(id,"default",()=>iI);let ih="persist:",ip="persist/FLUSH",ig="persist/REHYDRATE",iy="persist/RESYNC",im="persist/PAUSE",ib="persist/PERSIST",i_="persist/PURGE",iv="persist/REGISTER";function iw(e,t,r,{debug:n}){let i=Object.assign({},r);if(e&&"object"==typeof e){let n=Object.keys(e);n.forEach(n=>{"_persist"!==n&&t[n]===r[n]&&(i[n]=e[n])})}return i}function iE(e){return JSON.stringify(e)}function iS(e){let t;let r=e.transforms||[],n=`${void 0!==e.keyPrefix?e.keyPrefix:ih}${e.key}`,i=e.storage;return e.debug,t=!1===e.deserialize?e=>e:"function"==typeof e.deserialize?e.deserialize:ik,i.getItem(n).then(e=>{if(e)try{let n={},i=t(e);return Object.keys(i).forEach(e=>{n[e]=r.reduceRight((t,r)=>r.out(t,e,i),t(i[e]))}),n}catch(e){throw e}})}function ik(e){return JSON.parse(e)}function iA(e){}var ix=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function iI(e,t){let r=void 0!==e.version?e.version:-1,n=void 0===e.stateReconciler?iw:e.stateReconciler,i=e.getStoredState||iS,s=void 0!==e.timeout?e.timeout:5e3,o=null,a=!1,u=!0,l=e=>(e._persist.rehydrated&&o&&!u&&o.update(e),e);return(c,d)=>{let h=c||{},{_persist:f}=h,p=ix(h,["_persist"]);if(d.type===ib){let n=!1,a=(t,r)=>{n||(d.rehydrate(e.key,t,r),n=!0)};if(s&&setTimeout(()=>{n||a(void 0,Error(`redux-persist: persist timed out for persist key "${e.key}"`))},s),u=!1,o||(o=function(e){let t;let r=e.blacklist||null,n=e.whitelist||null,i=e.transforms||[],s=e.throttle||0,o=`${void 0!==e.keyPrefix?e.keyPrefix:ih}${e.key}`,a=e.storage;t=!1===e.serialize?e=>e:"function"==typeof e.serialize?e.serialize:iE;let u=e.writeFailHandler||null,l={},c={},d=[],h=null,f=null;function p(){if(0===d.length){h&&clearInterval(h),h=null;return}let e=d.shift();if(void 0===e)return;let r=i.reduce((t,r)=>r.in(t,e,l),l[e]);if(void 0!==r)try{c[e]=t(r)}catch(e){console.error("redux-persist/createPersistoid: error serializing state",e)}else delete c[e];0===d.length&&(Object.keys(c).forEach(e=>{void 0===l[e]&&delete c[e]}),f=a.setItem(o,t(c)).catch(y))}function g(e){return(!n||-1!==n.indexOf(e)||"_persist"===e)&&(!r||-1===r.indexOf(e))}function y(e){u&&u(e)}return{update:e=>{Object.keys(e).forEach(t=>{g(t)&&l[t]!==e[t]&&-1===d.indexOf(t)&&d.push(t)}),Object.keys(l).forEach(t=>{void 0===e[t]&&g(t)&&-1===d.indexOf(t)&&void 0!==l[t]&&d.push(t)}),null===h&&(h=setInterval(p,s)),l=e},flush:()=>{for(;0!==d.length;)p();return f||Promise.resolve()}}}(e)),f)return Object.assign(Object.assign({},t(p,d)),{_persist:f});if("function"!=typeof d.rehydrate||"function"!=typeof d.register)throw Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(e.key),i(e).then(t=>{if(t){let n=e.migrate||((e,t)=>Promise.resolve(e));n(t,r).then(e=>{a(e)},e=>{a(void 0,e)})}},e=>{a(void 0,e)}),Object.assign(Object.assign({},t(p,d)),{_persist:{version:r,rehydrated:!1}})}if(d.type===i_)return a=!0,d.result(function(e){let t=e.storage,r=`${void 0!==e.keyPrefix?e.keyPrefix:ih}${e.key}`;return t.removeItem(r,iA)}(e)),Object.assign(Object.assign({},t(p,d)),{_persist:f});if(d.type===iy)return i(e).then(t=>d.rehydrate(e.key,t,void 0),t=>d.rehydrate(e.key,void 0,t)).then(()=>d.result()),Object.assign(Object.assign({},t(p,d)),{_persist:{version:r,rehydrated:!1}});if(d.type===ip)return d.result(o&&o.flush()),Object.assign(Object.assign({},t(p,d)),{_persist:f});if(d.type===im)u=!0;else if(d.type===ig){if(a)return Object.assign(Object.assign({},p),{_persist:Object.assign(Object.assign({},f),{rehydrated:!0})});if(d.key===e.key){let r=t(p,d),i=d.payload,s=!1!==n&&void 0!==i?n(i,c,r,e):r,o=Object.assign(Object.assign({},s),{_persist:Object.assign(Object.assign({},f),{rehydrated:!0})});return l(o)}}if(!f)return t(c,d);let g=t(p,d);return g===p?c:l(Object.assign(Object.assign({},g),{_persist:f}))}}let iT={registry:[],bootstrapped:!1},iO=(e=iT,t)=>{let r=e.registry.indexOf(t.key),n=[...e.registry];switch(t.type){case iv:return Object.assign(Object.assign({},e),{registry:[...e.registry,t.key]});case ig:return n.splice(r,1),Object.assign(Object.assign({},e),{registry:n,bootstrapped:0===n.length});default:return e}},iB=(e,t,r,n)=>function(...i){let s=t.promiseModule;return new s((s,o)=>{t.multiArgs?i.push((...e)=>{t.errorFirst?e[0]?o(e):(e.shift(),s(e)):s(e)}):t.errorFirst?i.push((e,t)=>{e?o(e):s(t)}):i.push(s),Reflect.apply(e,this===r?n:this,i)})},iC=new WeakMap;var iP=()=>{try{let e=globalThis.navigator?.userAgent.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if("Chrome"===e[1])return 100>parseInt(e[2])||globalThis.chrome.runtime?.getManifest()?.manifest_version===2}catch{}return!1},iR=class{#e;#t;get primaryClient(){return this.#t}#r;get secondaryClient(){return this.#r}#n;get area(){return this.#n}get hasWebApi(){try{return"u">typeof window&&!!window.localStorage}catch(e){return console.error(e),!1}}#i=new Map;#s;get copiedKeySet(){return this.#s}isCopied=e=>this.hasWebApi&&(this.allCopied||this.copiedKeySet.has(e));#o=!1;get allCopied(){return this.#o}getExtStorageApi=()=>globalThis.browser?.storage||globalThis.chrome?.storage;get hasExtensionApi(){try{return!!this.getExtStorageApi()}catch(e){return console.error(e),!1}}isWatchSupported=()=>this.hasExtensionApi;keyNamespace="";isValidKey=e=>e.startsWith(this.keyNamespace);getNamespacedKey=e=>`${this.keyNamespace}${e}`;getUnnamespacedKey=e=>e.slice(this.keyNamespace.length);serde={serializer:JSON.stringify,deserializer:JSON.parse};constructor({area:e="sync",allCopied:t=!1,copiedKeyList:r=[],serde:n={}}={}){this.setCopiedKeySet(r),this.#n=e,this.#o=t,this.serde={...this.serde,...n};try{this.hasWebApi&&(t||r.length>0)&&(this.#r=window.localStorage)}catch{}try{this.hasExtensionApi&&(this.#e=this.getExtStorageApi(),iP()?this.#t=function(e,t){t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};let r=typeof e;if(!(null!==e&&("object"===r||"function"===r)))throw TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":r}\``);let n=(e,r)=>{let n=iC.get(e);if(n||(n={},iC.set(e,n)),r in n)return n[r];let i=e=>"string"==typeof e||"symbol"==typeof r?r===e:e.test(r),s=Reflect.getOwnPropertyDescriptor(e,r),o=void 0===s||s.writable||s.configurable,a=t.include?t.include.some(e=>i(e)):!t.exclude.some(e=>i(e)),u=a&&o;return n[r]=u,u},i=new WeakMap,s=new Proxy(e,{apply(e,r,n){let o=i.get(e);if(o)return Reflect.apply(o,r,n);let a=t.excludeMain?e:iB(e,t,s,e);return i.set(e,a),Reflect.apply(a,r,n)},get(e,r){let o=e[r];if(!n(e,r)||o===Function.prototype[r])return o;let a=i.get(o);if(a)return a;if("function"==typeof o){let r=iB(o,t,s,e);return i.set(o,r),r}return o}});return s}(this.#e[this.area],{exclude:["getBytesInUse"],errorFirst:!1}):this.#t=this.#e[this.area])}catch{}}setCopiedKeySet(e){this.#s=new Set(e)}rawGetAll=()=>this.#t?.get();getAll=async()=>Object.entries(await this.rawGetAll()).filter(([e])=>this.isValidKey(e)).reduce((e,[t,r])=>(e[this.getUnnamespacedKey(t)]=r,e),{});copy=async e=>{let t=void 0===e;if(!t&&!this.copiedKeySet.has(e)||!this.allCopied||!this.hasExtensionApi)return!1;let r=this.allCopied?await this.rawGetAll():await this.#t.get((t?[...this.copiedKeySet]:[e]).map(this.getNamespacedKey));if(!r)return!1;let n=!1;for(let e in r){let t=r[e],i=this.#r?.getItem(e);this.#r?.setItem(e,t),n||=t!==i}return n};rawGet=async e=>(await this.rawGetMany([e]))[e];rawGetMany=async e=>this.hasExtensionApi?await this.#t.get(e):e.filter(this.isCopied).reduce((e,t)=>(e[t]=this.#r?.getItem(t),e),{});rawSet=async(e,t)=>await this.rawSetMany({[e]:t});rawSetMany=async e=>(this.#r&&Object.entries(e).filter(([e])=>this.isCopied(e)).forEach(([e,t])=>this.#r.setItem(e,t)),this.hasExtensionApi&&await this.#t.set(e),null);clear=async(e=!1)=>{e&&this.#r?.clear(),await this.#t.clear()};rawRemove=async e=>{await this.rawRemoveMany([e])};rawRemoveMany=async e=>{this.#r&&e.filter(this.isCopied).forEach(e=>this.#r.removeItem(e)),this.hasExtensionApi&&await this.#t.remove(e)};removeAll=async()=>{let e=Object.keys(await this.getAll());await this.removeMany(e)};watch=e=>{let t=this.isWatchSupported();return t&&this.#a(e),t};#a=e=>{for(let t in e){let r=this.getNamespacedKey(t),n=this.#i.get(r)?.callbackSet||new Set;if(n.add(e[t]),n.size>1)continue;let i=(e,t)=>{if(t!==this.area||!e[r])return;let n=this.#i.get(r);if(!n)throw Error(`Storage comms does not exist for nsKey: ${r}`);Promise.all([this.parseValue(e[r].newValue),this.parseValue(e[r].oldValue)]).then(([e,r])=>{for(let i of n.callbackSet)i({newValue:e,oldValue:r},t)})};this.#e.onChanged.addListener(i),this.#i.set(r,{callbackSet:n,listener:i})}};unwatch=e=>{let t=this.isWatchSupported();return t&&this.#u(e),t};#u(e){for(let t in e){let r=this.getNamespacedKey(t),n=e[t],i=this.#i.get(r);i&&(i.callbackSet.delete(n),0===i.callbackSet.size&&(this.#i.delete(r),this.#e.onChanged.removeListener(i.listener)))}}unwatchAll=()=>this.#l();#l(){this.#i.forEach(({listener:e})=>this.#e.onChanged.removeListener(e)),this.#i.clear()}async getItem(e){return this.get(e)}async getItems(e){return await this.getMany(e)}async setItem(e,t){await this.set(e,t)}async setItems(e){await await this.setMany(e)}async removeItem(e){return this.remove(e)}async removeItems(e){return await this.removeMany(e)}},iL=class extends iR{get=async e=>{let t=this.getNamespacedKey(e),r=await this.rawGet(t);return this.parseValue(r)};getMany=async e=>{let t=e.map(this.getNamespacedKey),r=await this.rawGetMany(t),n=await Promise.all(Object.values(r).map(this.parseValue));return Object.keys(r).reduce((e,t,r)=>(e[this.getUnnamespacedKey(t)]=n[r],e),{})};set=async(e,t)=>{let r=this.getNamespacedKey(e),n=this.serde.serializer(t);return this.rawSet(r,n)};setMany=async e=>{let t=Object.entries(e).reduce((e,[t,r])=>(e[this.getNamespacedKey(t)]=this.serde.serializer(r),e),{});return await this.rawSetMany(t)};remove=async e=>{let t=this.getNamespacedKey(e);return this.rawRemove(t)};removeMany=async e=>{let t=e.map(this.getNamespacedKey);return await this.rawRemoveMany(t)};setNamespace=e=>{this.keyNamespace=e};parseValue=async e=>{try{if(void 0!==e)return this.serde.deserializer(e)}catch(e){console.error(e)}}};(h=S||(S={})).ERROR="error",h.WARN="warn",h.INFO="info",h.DEBUG="debug";let iM=S.INFO,iN=()=>!1,iD=()=>iN()?iM:S.DEBUG,iU=e=>{let t=iD();switch(t){case S.ERROR:return e===S.ERROR;case S.WARN:return e===S.ERROR||e===S.WARN;case S.INFO:return e===S.ERROR||e===S.WARN||e===S.INFO;case S.DEBUG:return!0;default:return!1}};class ij{constructor(e="app"){this.context=e}formatMessage(e){return`[${this.context}] ${e}`}error(e,...t){iU(S.ERROR)&&console.error(this.formatMessage(e),...t)}warn(e,...t){iU(S.WARN)&&console.warn(this.formatMessage(e),...t)}info(e,...t){iU(S.INFO)&&console.info(this.formatMessage(e),...t)}debug(e,...t){iU(S.DEBUG)&&console.debug(this.formatMessage(e),...t)}log(e,...t){this.info(e,...t)}}let iq=(e="app")=>new ij(e);iq();var iF=class extends Error{issues;constructor(e){super(e[0].message),this.name="SchemaError",this.issues=e}},tk=M("jcdBh"),i$=Object.defineProperty,iz=Object.defineProperties,iH=Object.getOwnPropertyDescriptors,iW=Object.getOwnPropertySymbols,iK=Object.prototype.hasOwnProperty,iV=Object.prototype.propertyIsEnumerable,iG=(e,t,r)=>t in e?i$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,iQ=(e,t)=>{for(var r in t||(t={}))iK.call(t,r)&&iG(e,r,t[r]);if(iW)for(var r of iW(t))iV.call(t,r)&&iG(e,r,t[r]);return e},iJ=(e,t)=>iz(e,iH(t)),iZ=e=>"symbol"==typeof e?e:e+"",iX=(e,t)=>{var r={};for(var n in e)iK.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&iW)for(var n of iW(e))0>t.indexOf(n)&&iV.call(e,n)&&(r[n]=e[n]);return r},iY=((f=iY||{}).uninitialized="uninitialized",f.pending="pending",f.fulfilled="fulfilled",f.rejected="rejected",f);function i0(e){return{status:e,isUninitialized:"uninitialized"===e,isLoading:"pending"===e,isSuccess:"fulfilled"===e,isError:"rejected"===e}}function i1(e){let t=0;for(let r in e)t++;return t}var i2=e=>[].concat(...e);function i6(e){return null!=e}var i8=class{constructor(e,t){this.value=e,this.meta=t}},i3=n_("__rtkq/focused"),i5=n_("__rtkq/unfocused"),i4=n_("__rtkq/online"),i7=n_("__rtkq/offline");function i9(e){return"query"===e.type}function se(e){return"infinitequery"===e.type}function st(e){return i9(e)||se(e)}function sr(e,t,r,n,i,s){return"function"==typeof e?e(t,r,n,i).filter(i6).map(sn).map(s):Array.isArray(e)?e.map(sn).map(s):[]}function sn(e){return"string"==typeof e?{type:e}:e}var si=Symbol("forceQueryFn"),ss=e=>"function"==typeof e[si],so=class extends iF{constructor(e,t,r,n){super(e),this.value=t,this.schemaName=r,this._bqMeta=n}};async function sa(e,t,r,n){let i=await e["~standard"].validate(t);if(i.issues)throw new so(i.issues,t,r,n);return i.value}function su(e){return e}var sl=(e={})=>iJ(iQ({},e),{[nk]:!0});function sc(e,{pages:t,pageParams:r},n){let i=t.length-1;return e.getNextPageParam(t[i],t,r[i],r,n)}function sd(e,{pages:t,pageParams:r},n){var i;return null==(i=e.getPreviousPageParam)?void 0:i.call(e,t[0],t,r[0],r,n)}function sh(e,t,r,n){return sr(r[e.meta.arg.endpointName][t],nU(e)?e.payload:void 0,nD(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,n)}function sf(e,t,r){let n=e[t];n&&r(n)}function sp(e){var t;return null!=(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)?t:e.requestId}function sg(e,t,r){let n=e[sp(t)];n&&r(n)}var sy={},sm=Symbol.for("RTKQ/skipToken"),sb={status:"uninitialized"},s_=rD(sb,()=>{}),sv=rD(sb,()=>{}),sw=WeakMap?new WeakMap:void 0,sE=({endpointName:e,queryArgs:t})=>{let r="",n=null==sw?void 0:sw.get(t);if("string"==typeof n)r=n;else{let e=JSON.stringify(t,(e,t)=>t=tQ(t="bigint"==typeof t?{$bigint:t.toString()}:t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t);tQ(t)&&(null==sw||sw.set(t,e)),r=e}return`${e}(${r})`};function sS(e,...t){return Object.assign(e,...t)}var sk=({api:e,queryThunk:t,internalState:r})=>{let n=`${e.reducerPath}/subscriptions`,i=null,s=null,{updateSubscriptionOptions:o,unsubscribeQueryResult:a}=e.internalActions,u=(r,n)=>{var i,s,u,l,c,d,h,f,p;if(o.match(n)){let{queryCacheKey:e,requestId:t,options:s}=n.payload;return(null==(i=null==r?void 0:r[e])?void 0:i[t])&&(r[e][t]=s),!0}if(a.match(n)){let{queryCacheKey:e,requestId:t}=n.payload;return r[e]&&delete r[e][t],!0}if(e.internalActions.removeQueryResult.match(n))return delete r[n.payload.queryCacheKey],!0;if(t.pending.match(n)){let{meta:{arg:e,requestId:t}}=n,i=null!=(u=r[s=e.queryCacheKey])?u:r[s]={};return i[`${t}_running`]={},e.subscribe&&(i[t]=null!=(c=null!=(l=e.subscriptionOptions)?l:i[t])?c:{}),!0}let g=!1;if(t.fulfilled.match(n)||t.rejected.match(n)){let e=r[n.meta.arg.queryCacheKey]||{},t=`${n.meta.requestId}_running`;g||(g=!!e[t]),delete e[t]}if(t.rejected.match(n)){let{meta:{condition:e,arg:t,requestId:i}}=n;if(e&&t.subscribe){let e=null!=(h=r[d=t.queryCacheKey])?h:r[d]={};e[i]=null!=(p=null!=(f=t.subscriptionOptions)?f:e[i])?p:{},g=!0}}return g},l=()=>r.currentSubscriptions,c={getSubscriptions:l,getSubscriptionCount:e=>{var t;let r=l(),n=null!=(t=r[e])?t:{};return i1(n)},isRequestSubscribed:(e,t)=>{var r;let n=l();return!!(null==(r=null==n?void 0:n[e])?void 0:r[t])}};return(o,a)=>{if(i||(i=JSON.parse(JSON.stringify(r.currentSubscriptions))),e.util.resetApiState.match(o))return i=r.currentSubscriptions={},s=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(o))return[!1,c];let l=u(r.currentSubscriptions,o),d=!0;if(l){s||(s=setTimeout(()=>{let t=JSON.parse(JSON.stringify(r.currentSubscriptions)),[,n]=rU(i,()=>t);a.next(e.internalActions.subscriptionsUpdated(n)),i=t,s=null},500));let u="string"==typeof o.type&&!!o.type.startsWith(n),l=t.rejected.match(o)&&o.meta.condition&&!!o.meta.arg.subscribe;d=!u&&!l}return[d,!1]}},sA=({reducerPath:e,api:t,queryThunk:r,context:n,internalState:i,selectors:{selectQueryEntry:s,selectConfig:o}})=>{let{removeQueryResult:a,unsubscribeQueryResult:u,cacheEntriesUpserted:l}=t.internalActions,c=nC(u.match,r.fulfilled,r.rejected,l.match);function d(e){let t=i.currentSubscriptions[e];return!!t&&!function(e){for(let t in e)return!1;return!0}(t)}let h={};function f(e,t,r){let i=t.getState();for(let o of e){let e=s(i,o);(function(e,t,r,i){var s;let o=n.endpointDefinitions[t],u=null!=(s=null==o?void 0:o.keepUnusedDataFor)?s:i.keepUnusedDataFor;if(u!==1/0&&!d(e)){let t=h[e];t&&clearTimeout(t),h[e]=setTimeout(()=>{d(e)||r.dispatch(a({queryCacheKey:e})),delete h[e]},1e3*Math.max(0,Math.min(u,2147482.647)))}})(o,null==e?void 0:e.endpointName,t,r)}}return(e,r,i)=>{let s=r.getState(),a=o(s);if(c(e)){let t;if(l.match(e))t=e.payload.map(e=>e.queryDescription.queryCacheKey);else{let{queryCacheKey:r}=u.match(e)?e.payload:e.meta.arg;t=[r]}f(t,r,a)}if(t.util.resetApiState.match(e))for(let[e,t]of Object.entries(h))t&&clearTimeout(t),delete h[e];if(n.hasRehydrationInfo(e)){let{queries:t}=n.extractRehydrationInfo(e);f(Object.keys(t),r,a)}}},sx=Error("Promise never resolved before cacheEntryRemoved."),sI=({api:e,reducerPath:t,context:r,queryThunk:n,mutationThunk:i,internalState:s,selectors:{selectQueryEntry:o,selectApiState:a}})=>{let u=nj(n),l=nj(i),c=nU(n,i),d={};function h(e,t,r){let n=d[e];(null==n?void 0:n.valueResolved)&&(n.valueResolved({data:t,meta:r}),delete n.valueResolved)}function f(e){let t=d[e];t&&(delete d[e],t.cacheEntryRemoved())}function p(t,n,i,s,o){let a=r.endpointDefinitions[t],u=null==a?void 0:a.onCacheEntryAdded;if(!u)return;let l={},c=new Promise(e=>{l.cacheEntryRemoved=e}),h=Promise.race([new Promise(e=>{l.valueResolved=e}),c.then(()=>{throw sx})]);h.catch(()=>{}),d[i]=l;let f=e.endpoints[t].select(st(a)?n:i),p=s.dispatch((e,t,r)=>r),g=iJ(iQ({},s),{getCacheEntry:()=>f(s.getState()),requestId:o,extra:p,updateCachedData:st(a)?r=>s.dispatch(e.util.updateQueryData(t,n,r)):void 0,cacheDataLoaded:h,cacheEntryRemoved:c}),y=u(n,g);Promise.resolve(y).catch(e=>{if(e!==sx)throw e})}return(r,s,a)=>{var g;let y=u(r)?r.meta.arg.queryCacheKey:l(r)?null!=(g=r.meta.arg.fixedCacheKey)?g:r.meta.requestId:e.internalActions.removeQueryResult.match(r)?r.payload.queryCacheKey:e.internalActions.removeMutationResult.match(r)?sp(r.payload):"";function m(e,t,r,n){let i=o(a,t),u=o(s.getState(),t);!i&&u&&p(e,n,t,s,r)}if(n.pending.match(r))m(r.meta.arg.endpointName,y,r.meta.requestId,r.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(r))for(let{queryDescription:e,value:t}of r.payload){let{endpointName:n,originalArgs:i,queryCacheKey:s}=e;m(n,s,r.meta.requestId,i),h(s,t,{})}else if(i.pending.match(r)){let e=s.getState()[t].mutations[y];e&&p(r.meta.arg.endpointName,r.meta.arg.originalArgs,y,s,r.meta.requestId)}else if(c(r))h(y,r.payload,r.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(r)||e.internalActions.removeMutationResult.match(r))f(y);else if(e.util.resetApiState.match(r))for(let e of Object.keys(d))f(e)}},sT=({api:e,context:{apiUid:t},reducerPath:r})=>(r,n)=>{e.util.resetApiState.match(r)&&n.dispatch(e.internalActions.middlewareRegistered(t))},sO=({reducerPath:e,context:t,context:{endpointDefinitions:r},mutationThunk:n,queryThunk:i,api:s,assertTagType:o,refetchQuery:a,internalState:u})=>{let{removeQueryResult:l}=s.internalActions,c=nC(nU(n),nD(n)),d=nC(nU(n,i),nN(n,i)),h=[];function f(r,n){let i=n.getState(),o=i[e];if(h.push(...r),"delayed"===o.config.invalidationBehavior&&function(e){var t;let{queries:r,mutations:n}=e;for(let e of[r,n])for(let r in e)if((null==(t=e[r])?void 0:t.status)==="pending")return!0;return!1}(o))return;let c=h;if(h=[],0===c.length)return;let d=s.util.selectInvalidatedBy(i,c);t.batch(()=>{var e;let t=Array.from(d.values());for(let{queryCacheKey:r}of t){let t=o.queries[r],i=null!=(e=u.currentSubscriptions[r])?e:{};t&&(0===i1(i)?n.dispatch(l({queryCacheKey:r})):"uninitialized"!==t.status&&n.dispatch(a(t)))}})}return(e,t)=>{c(e)?f(sh(e,"invalidatesTags",r,o),t):d(e)?f([],t):s.util.invalidateTags.match(e)&&f(sr(e.payload,void 0,void 0,void 0,void 0,o),t)}},sB=({reducerPath:e,queryThunk:t,api:r,refetchQuery:n,internalState:i})=>{let s={};function o({queryCacheKey:t},r){let a=r.getState()[e],u=a.queries[t],c=i.currentSubscriptions[t];if(!u||"uninitialized"===u.status)return;let{lowestPollingInterval:d,skipPollingIfUnfocused:h}=l(c);if(!Number.isFinite(d))return;let f=s[t];(null==f?void 0:f.timeout)&&(clearTimeout(f.timeout),f.timeout=void 0);let p=Date.now()+d;s[t]={nextPollTimestamp:p,pollingInterval:d,timeout:setTimeout(()=>{(a.config.focused||!h)&&r.dispatch(n(u)),o({queryCacheKey:t},r)},d)}}function a({queryCacheKey:t},r){let n=r.getState()[e],a=n.queries[t],c=i.currentSubscriptions[t];if(!a||"uninitialized"===a.status)return;let{lowestPollingInterval:d}=l(c);if(!Number.isFinite(d)){u(t);return}let h=s[t],f=Date.now()+d;(!h||f<h.nextPollTimestamp)&&o({queryCacheKey:t},r)}function u(e){let t=s[e];(null==t?void 0:t.timeout)&&clearTimeout(t.timeout),delete s[e]}function l(e={}){let t=!1,r=Number.POSITIVE_INFINITY;for(let n in e)e[n].pollingInterval&&(r=Math.min(e[n].pollingInterval,r),t=e[n].skipPollingIfUnfocused||t);return{lowestPollingInterval:r,skipPollingIfUnfocused:t}}return(e,n)=>{(r.internalActions.updateSubscriptionOptions.match(e)||r.internalActions.unsubscribeQueryResult.match(e))&&a(e.payload,n),(t.pending.match(e)||t.rejected.match(e)&&e.meta.condition)&&a(e.meta.arg,n),(t.fulfilled.match(e)||t.rejected.match(e)&&!e.meta.condition)&&o(e.meta.arg,n),r.util.resetApiState.match(e)&&function(){for(let e of Object.keys(s))u(e)}()}},sC=({api:e,context:t,queryThunk:r,mutationThunk:n})=>{let i=nM(r,n),s=nN(r,n),o=nU(r,n),a={};return(r,n)=>{var u,l,c;if(i(r)){let{requestId:i,arg:{endpointName:s,originalArgs:o}}=r.meta,u=t.endpointDefinitions[s],l=null==u?void 0:u.onQueryStarted;if(l){let t={},r=new Promise((e,r)=>{t.resolve=e,t.reject=r});r.catch(()=>{}),a[i]=t;let c=e.endpoints[s].select(st(u)?o:i),d=n.dispatch((e,t,r)=>r),h=iJ(iQ({},n),{getCacheEntry:()=>c(n.getState()),requestId:i,extra:d,updateCachedData:st(u)?t=>n.dispatch(e.util.updateQueryData(s,o,t)):void 0,queryFulfilled:r});l(o,h)}}else if(o(r)){let{requestId:e,baseQueryMeta:t}=r.meta;null==(u=a[e])||u.resolve({data:r.payload,meta:t}),delete a[e]}else if(s(r)){let{requestId:e,rejectedWithValue:t,baseQueryMeta:n}=r.meta;null==(c=a[e])||c.reject({error:null!=(l=r.payload)?l:r.error,isUnhandledError:!t,meta:n}),delete a[e]}}},sP=({reducerPath:e,context:t,api:r,refetchQuery:n,internalState:i})=>{let{removeQueryResult:s}=r.internalActions;function o(r,o){let a=r.getState()[e],u=a.queries,l=i.currentSubscriptions;t.batch(()=>{for(let e of Object.keys(l)){let t=u[e],i=l[e];if(!i||!t)continue;let c=Object.values(i).some(e=>!0===e[o])||Object.values(i).every(e=>void 0===e[o])&&a.config[o];c&&(0===i1(i)?r.dispatch(s({queryCacheKey:e})):"uninitialized"!==t.status&&r.dispatch(n(t)))}})}return(e,t)=>{i3.match(e)&&o(t,"refetchOnFocus"),i4.match(e)&&o(t,"refetchOnReconnect")}},sR=Symbol(),sL=({createSelector:e=nt}={})=>({name:sR,init(t,{baseQuery:r,tagTypes:n,reducerPath:i,serializeQueryArgs:s,keepUnusedDataFor:o,refetchOnMountOrArgChange:a,refetchOnFocus:u,refetchOnReconnect:l,invalidationBehavior:c,onSchemaFailure:d,catchSchemaFailure:h,skipSchemaValidation:f},p){(function(){var e;let t="replace",r="remove";function n(e){if(!rr(e))return e;if(Array.isArray(e))return e.map(n);if(rc(e))return new Map(Array.from(e.entries()).map(([e,t])=>[e,n(t)]));if(rd(e))return new Set(Array.from(e).map(n));let t=Object.create(re(e));for(let r in e)t[r]=n(e[r]);return ra(e,t4)&&(t[t4]=e[t4]),t}function i(e){return rt(e)?n(e):e}rm[e="Patches"]||(rm[e]={applyPatches_:function(e,i){return i.forEach(i=>{let{path:s,op:o}=i,a=e;for(let e=0;e<s.length-1;e++){let t=ro(a),r=s[e];"string"!=typeof r&&"number"!=typeof r&&(r=""+r),(0===t||1===t)&&("__proto__"===r||"constructor"===r)&&t9(19),"function"==typeof a&&"prototype"===r&&t9(19),"object"!=typeof(a=ru(a,r))&&t9(18,s.join("/"))}let u=ro(a),l=n(i.value),c=s[s.length-1];switch(o){case t:switch(u){case 2:return a.set(c,l);case 3:t9(16);default:return a[c]=l}case"add":switch(u){case 1:return"-"===c?a.push(l):a.splice(c,0,l);case 2:return a.set(c,l);case 3:return a.add(l);default:return a[c]=l}case r:switch(u){case 1:return a.splice(c,1);case 2:return a.delete(c);case 3:return a.delete(i.value);default:return delete a[c]}default:t9(17,o)}}),e},generatePatches_:function(e,n,s,o){switch(e.type_){case 0:case 2:return function(e,n,s,o){let{base_:a,copy_:u}=e;rs(e.assigned_,(e,l)=>{let c=ru(a,e),d=ru(u,e),h=l?ra(a,e)?t:"add":r;if(c===d&&h===t)return;let f=n.concat(e);s.push(h===r?{op:h,path:f}:{op:h,path:f,value:d}),o.push("add"===h?{op:r,path:f}:h===r?{op:"add",path:f,value:i(c)}:{op:t,path:f,value:i(c)})})}(e,n,s,o);case 1:return function(e,n,s,o){let{base_:a,assigned_:u}=e,l=e.copy_;l.length<a.length&&([a,l]=[l,a],[s,o]=[o,s]);for(let e=0;e<a.length;e++)if(u[e]&&l[e]!==a[e]){let r=n.concat([e]);s.push({op:t,path:r,value:i(l[e])}),o.push({op:t,path:r,value:i(a[e])})}for(let e=a.length;e<l.length;e++){let t=n.concat([e]);s.push({op:"add",path:t,value:i(l[e])})}for(let e=l.length-1;a.length<=e;--e){let t=n.concat([e]);o.push({op:r,path:t})}}(e,n,s,o);case 3:return function(e,t,n,i){let{base_:s,copy_:o}=e,a=0;s.forEach(e=>{if(!o.has(e)){let s=t.concat([a]);n.push({op:r,path:s,value:e}),i.unshift({op:"add",path:s,value:e})}a++}),a=0,o.forEach(e=>{if(!s.has(e)){let s=t.concat([a]);n.push({op:"add",path:s,value:e}),i.unshift({op:r,path:s,value:e})}a++})}(e,n,s,o)}},generateReplacementPatches_:function(e,r,n,i){n.push({op:t,path:[],value:r===t5?void 0:r}),i.push({op:t,path:[],value:e})}})})();let g=e=>e;Object.assign(t,{reducerPath:i,endpoints:{},internalActions:{onOnline:i4,onOffline:i7,onFocus:i3,onFocusLost:i5},util:{}});let y=function({serializeQueryArgs:e,reducerPath:t,createSelector:r}){let n=e=>s_,i=e=>sv;return{buildQuerySelector:function(e,t){return l(e,t,s)},buildInfiniteQuerySelector:function(e,t){let{infiniteQueryOptions:r}=t;return l(e,t,function(e){var t,n,i,s;let o=iQ(iQ({},e),i0(e.status)),{isLoading:a,isError:u,direction:l}=o,c="forward"===l,d="backward"===l;return iJ(iQ({},o),{hasNextPage:(t=o.data,n=o.originalArgs,!!t&&null!=sc(r,t,n)),hasPreviousPage:(i=o.data,s=o.originalArgs,!!i&&!!r.getPreviousPageParam&&null!=sd(r,i,s)),isFetchingNextPage:a&&c,isFetchingPreviousPage:a&&d,isFetchNextPageError:u&&c,isFetchPreviousPageError:u&&d})})},buildMutationSelector:function(){return e=>{var t;let n;n="object"==typeof e?null!=(t=sp(e))?t:sm:e;let a=n===sm?i:e=>{var t,r,i;return null!=(i=null==(r=null==(t=o(e))?void 0:t.mutations)?void 0:r[n])?i:sv};return r(a,s)}},selectInvalidatedBy:function(e,r){var n;let i=e[t],s=new Set;for(let e of r.filter(i6).map(sn)){let t=i.provided.tags[e.type];if(t)for(let r of null!=(n=void 0!==e.id?t[e.id]:i2(Object.values(t)))?n:[])s.add(r)}return i2(Array.from(s.values()).map(e=>{let t=i.queries[e];return t?[{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]}))},selectCachedArgsForQuery:function(e,t){return Object.values(a(e)).filter(e=>(null==e?void 0:e.endpointName)===t&&"uninitialized"!==e.status).map(e=>e.originalArgs)},selectApiState:o,selectQueries:a,selectMutations:function(e){var t;return null==(t=o(e))?void 0:t.mutations},selectQueryEntry:u,selectConfig:function(e){var t;return null==(t=o(e))?void 0:t.config}};function s(e){return iQ(iQ({},e),i0(e.status))}function o(e){let r=e[t];return r}function a(e){var t;return null==(t=o(e))?void 0:t.queries}function u(e,t){var r;return null==(r=a(e))?void 0:r[t]}function l(t,i,s){return o=>{if(o===sm)return r(n,s);let a=e({queryArgs:o,endpointDefinition:i,endpointName:t});return r(e=>{var t;return null!=(t=u(e,a))?t:s_},s)}}}({serializeQueryArgs:s,reducerPath:i,createSelector:e}),{selectInvalidatedBy:m,selectCachedArgsForQuery:b,buildQuerySelector:_,buildInfiniteQuerySelector:v,buildMutationSelector:w}=y;sS(t.util,{selectInvalidatedBy:m,selectCachedArgsForQuery:b});let{queryThunk:E,infiniteQueryThunk:S,mutationThunk:k,patchQueryData:A,updateQueryData:x,upsertQueryData:I,prefetch:T,buildMatchThunkActions:O}=function({reducerPath:e,baseQuery:t,context:{endpointDefinitions:r},serializeQueryArgs:n,api:i,assertTagType:s,selectors:o,onSchemaFailure:a,catchSchemaFailure:u,skipSchemaValidation:l}){function c(e,t,r=0){let n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}function d(e,t,r=0){let n=[...e,t];return r&&n.length>r?n.slice(1):n}let h=(e,t)=>e.query&&e[t]?e[t]:su,f=async(e,{signal:n,abort:i,rejectWithValue:s,fulfillWithValue:f,dispatch:g,getState:y,extra:m})=>{var b,_,v,w;let E=r[e.endpointName],{metaSchema:S,skipSchemaValidation:k=l}=E;try{let r,s=h(E,"transformResponse"),a={signal:n,abort:i,dispatch:g,getState:y,extra:m,endpoint:e.endpointName,type:e.type,forced:"query"===e.type?p(e,y()):void 0,queryCacheKey:"query"===e.type?e.queryCacheKey:void 0},u="query"===e.type?e[si]:void 0,l=async(t,r,n,i)=>{if(null==r&&t.pages.length)return Promise.resolve({data:t});let s={queryArg:e.originalArgs,pageParam:r},o=await A(s),a=i?c:d;return{data:{pages:a(t.pages,o.data,n),pageParams:a(t.pageParams,r,n)},meta:o.meta}};async function A(e){let r;let{extraOptions:n,argSchema:i,rawResponseSchema:o,responseSchema:l}=E;if(i&&!k&&(e=await sa(i,e,"argSchema",{})),(r=u?u():E.query?await t(E.query(e),a,n):await E.queryFn(e,a,n,e=>t(e,a,n))).error)throw new i8(r.error,r.meta);let{data:c}=r;o&&!k&&(c=await sa(o,r.data,"rawResponseSchema",r.meta));let d=await s(c,r.meta,e);return l&&!k&&(d=await sa(l,d,"responseSchema",r.meta)),iJ(iQ({},r),{data:d})}if("query"===e.type&&"infiniteQueryOptions"in E){let t;let{infiniteQueryOptions:n}=E,{maxPages:i=1/0}=n,s=null==(b=o.selectQueryEntry(y(),e.queryCacheKey))?void 0:b.data,a=p(e,y())&&!e.direction,c=a||!s?{pages:[],pageParams:[]}:s;if("direction"in e&&e.direction&&c.pages.length){let r="backward"===e.direction,s=r?sd:sc,o=s(n,c,e.originalArgs);t=await l(c,o,i,r)}else{let{initialPageParam:r=n.initialPageParam}=e,o=null!=(_=null==s?void 0:s.pageParams)?_:[],a=null!=(v=o[0])?v:r,d=o.length;t=await l(c,a,i),u&&(t={data:t.data.pages[0]});for(let r=1;r<d;r++){let r=sc(n,t.data,e.originalArgs);t=await l(t.data,r,i)}}r=t}else r=await A(e.originalArgs);return S&&!k&&r.meta&&(r.meta=await sa(S,r.meta,"metaSchema",r.meta)),f(r.data,sl({fulfilledTimeStamp:Date.now(),baseQueryMeta:r.meta}))}catch(r){let t=r;if(t instanceof i8){let r=h(E,"transformErrorResponse"),{rawErrorResponseSchema:n,errorResponseSchema:i}=E,{value:o,meta:a}=t;try{n&&!k&&(o=await sa(n,o,"rawErrorResponseSchema",a)),S&&!k&&(a=await sa(S,a,"metaSchema",a));let t=await r(o,a,e.originalArgs);return i&&!k&&(t=await sa(i,t,"errorResponseSchema",a)),s(t,sl({baseQueryMeta:a}))}catch(e){t=e}}try{if(t instanceof so){let r={endpoint:e.endpointName,arg:e.originalArgs,type:e.type,queryCacheKey:"query"===e.type?e.queryCacheKey:void 0};null==(w=E.onSchemaFailure)||w.call(E,t,r),null==a||a(t,r);let{catchSchemaFailure:n=u}=E;if(n)return s(n(t,r),sl({baseQueryMeta:t._bqMeta}))}}catch(e){t=e}throw console.error(t),t}};function p(e,t){var r;let n=o.selectQueryEntry(t,e.queryCacheKey),i=o.selectConfig(t).refetchOnMountOrArgChange,s=null==n?void 0:n.fulfilledTimeStamp,a=null!=(r=e.forceRefetch)?r:e.subscribe&&i;return!!a&&(!0===a||(Number(new Date)-Number(s))/1e3>=a)}let g=()=>{let t=nK(`${e}/executeQuery`,f,{getPendingMeta({arg:e}){let t=r[e.endpointName];return sl(iQ({startedTimeStamp:Date.now()},se(t)?{direction:e.direction}:{}))},condition(e,{getState:t}){var n;let i=t(),s=o.selectQueryEntry(i,e.queryCacheKey),a=null==s?void 0:s.fulfilledTimeStamp,u=e.originalArgs,l=null==s?void 0:s.originalArgs,c=r[e.endpointName],d=e.direction;return!!ss(e)||(null==s?void 0:s.status)!=="pending"&&(!!(p(e,i)||i9(c)&&(null==(n=null==c?void 0:c.forceRefetch)?void 0:n.call(c,{currentArg:u,previousArg:l,endpointState:s,state:i})))||!a||!!d)},dispatchConditionRejection:!0});return t},y=g(),m=g(),b=nK(`${e}/executeMutation`,f,{getPendingMeta:()=>sl({startedTimeStamp:Date.now()})}),_=e=>"force"in e,v=e=>"ifOlderThan"in e;function w(e){return t=>{var r,n;return(null==(n=null==(r=null==t?void 0:t.meta)?void 0:r.arg)?void 0:n.endpointName)===e}}return{queryThunk:y,mutationThunk:b,infiniteQueryThunk:m,prefetch:(e,t,r)=>(n,s)=>{let o=_(r)&&r.force,a=v(r)&&r.ifOlderThan,u=(r=!0)=>i.endpoints[e].initiate(t,{forceRefetch:r,isPrefetch:!0}),l=i.endpoints[e].select(t)(s());if(o)n(u());else if(a){let e=null==l?void 0:l.fulfilledTimeStamp;if(!e){n(u());return}let t=(Number(new Date)-Number(new Date(e)))/1e3>=a;t&&n(u())}else n(u(!1))},updateQueryData:(e,t,r,n=!0)=>(s,o)=>{let a;let u=i.endpoints[e],l=u.select(t)(o()),c={patches:[],inversePatches:[],undo:()=>s(i.util.patchQueryData(e,t,c.inversePatches,n))};if("uninitialized"===l.status)return c;if("data"in l){if(rr(l.data)){let[e,t,n]=rU(l.data,r);c.patches.push(...t),c.inversePatches.push(...n),a=e}else a=r(l.data),c.patches.push({op:"replace",path:[],value:a}),c.inversePatches.push({op:"replace",path:[],value:l.data})}return 0===c.patches.length||s(i.util.patchQueryData(e,t,c.patches,n)),c},upsertQueryData:(e,t,r)=>n=>{let s=n(i.endpoints[e].initiate(t,{subscribe:!1,forceRefetch:!0,[si]:()=>({data:r})}));return s},patchQueryData:(e,t,o,a)=>(u,l)=>{let c=r[e],d=n({queryArgs:t,endpointDefinition:c,endpointName:e});if(u(i.internalActions.queryResultPatched({queryCacheKey:d,patches:o})),!a)return;let h=i.endpoints[e].select(t)(l()),f=sr(c.providesTags,h.data,void 0,t,{},s);u(i.internalActions.updateProvidedBy([{queryCacheKey:d,providedTags:f}]))},buildMatchThunkActions:function(e,t){return{matchPending:nP(nM(e),w(t)),matchFulfilled:nP(nU(e),w(t)),matchRejected:nP(nN(e),w(t))}}}}({baseQuery:r,reducerPath:i,context:p,api:t,serializeQueryArgs:s,assertTagType:g,selectors:y,onSchemaFailure:d,catchSchemaFailure:h,skipSchemaValidation:f}),{reducer:B,actions:C}=function({reducerPath:e,queryThunk:t,mutationThunk:r,serializeQueryArgs:n,context:{endpointDefinitions:i,apiUid:s,extractRehydrationInfo:o,hasRehydrationInfo:a},assertTagType:u,config:l}){let c=n_(`${e}/resetApiState`);function d(e,t,r,n){var s;null!=e[s=t.queryCacheKey]||(e[s]={status:"uninitialized",endpointName:t.endpointName}),sf(e,t.queryCacheKey,e=>{e.status="pending",e.requestId=r&&e.requestId?e.requestId:n.requestId,void 0!==t.originalArgs&&(e.originalArgs=t.originalArgs),e.startedTimeStamp=n.startedTimeStamp;let s=i[n.arg.endpointName];se(s)&&"direction"in t&&(e.direction=t.direction)})}function h(e,t,r,n){sf(e,t.arg.queryCacheKey,e=>{var s,o;if(e.requestId!==t.requestId&&!n)return;let{merge:a}=i[t.arg.endpointName];if(e.status="fulfilled",a){if(void 0!==e.data){let{fulfilledTimeStamp:n,arg:i,baseQueryMeta:s,requestId:o}=t,u=rD(e.data,e=>a(e,r,{arg:i.originalArgs,baseQueryMeta:s,fulfilledTimeStamp:n,requestId:o}));e.data=u}else e.data=r}else e.data=null==(s=i[t.arg.endpointName].structuralSharing)||s?function e(t,r){if(t===r||!(tQ(t)&&tQ(r)||Array.isArray(t)&&Array.isArray(r)))return r;let n=Object.keys(r),i=Object.keys(t),s=n.length===i.length,o=Array.isArray(r)?[]:{};for(let i of n)o[i]=e(t[i],r[i]),s&&(s=t[i]===o[i]);return s?t:o}(rt(e.data)?(rt(o=e.data)||t9(15,o),o[t7].base_):e.data,r):r;delete e.error,e.fulfilledTimeStamp=t.fulfilledTimeStamp})}let f=nJ({name:`${e}/queries`,initialState:sy,reducers:{removeQueryResult:{reducer(e,{payload:{queryCacheKey:t}}){delete e[t]},prepare:nA()},cacheEntriesUpserted:{reducer(e,t){for(let r of t.payload){let{queryDescription:n,value:i}=r;d(e,n,!0,{arg:n,requestId:t.meta.requestId,startedTimeStamp:t.meta.timestamp}),h(e,{arg:n,requestId:t.meta.requestId,fulfilledTimeStamp:t.meta.timestamp,baseQueryMeta:{}},i,!0)}},prepare:e=>{let t=e.map(e=>{let{endpointName:t,arg:r,value:s}=e,o=i[t],a={type:"query",endpointName:t,originalArgs:e.arg,queryCacheKey:n({queryArgs:r,endpointDefinition:o,endpointName:t})};return{queryDescription:a,value:s}}),r={payload:t,meta:{[nk]:!0,requestId:nq(),timestamp:Date.now()}};return r}},queryResultPatched:{reducer(e,{payload:{queryCacheKey:t,patches:r}}){sf(e,t,e=>{e.data=rj(e.data,r.concat())})},prepare:nA()}},extraReducers(e){e.addCase(t.pending,(e,{meta:t,meta:{arg:r}})=>{let n=ss(r);d(e,r,n,t)}).addCase(t.fulfilled,(e,{meta:t,payload:r})=>{let n=ss(t.arg);h(e,t,r,n)}).addCase(t.rejected,(e,{meta:{condition:t,arg:r,requestId:n},error:i,payload:s})=>{sf(e,r.queryCacheKey,e=>{if(t);else{if(e.requestId!==n)return;e.status="rejected",e.error=null!=s?s:i}})}).addMatcher(a,(e,t)=>{let{queries:r}=o(t);for(let[t,n]of Object.entries(r))((null==n?void 0:n.status)==="fulfilled"||(null==n?void 0:n.status)==="rejected")&&(e[t]=n)})}}),p=nJ({name:`${e}/mutations`,initialState:sy,reducers:{removeMutationResult:{reducer(e,{payload:t}){let r=sp(t);r in e&&delete e[r]},prepare:nA()}},extraReducers(e){e.addCase(r.pending,(e,{meta:t,meta:{requestId:r,arg:n,startedTimeStamp:i}})=>{n.track&&(e[sp(t)]={requestId:r,status:"pending",endpointName:n.endpointName,startedTimeStamp:i})}).addCase(r.fulfilled,(e,{payload:t,meta:r})=>{r.arg.track&&sg(e,r,e=>{e.requestId===r.requestId&&(e.status="fulfilled",e.data=t,e.fulfilledTimeStamp=r.fulfilledTimeStamp)})}).addCase(r.rejected,(e,{payload:t,error:r,meta:n})=>{n.arg.track&&sg(e,n,e=>{e.requestId===n.requestId&&(e.status="rejected",e.error=null!=t?t:r)})}).addMatcher(a,(e,t)=>{let{mutations:r}=o(t);for(let[t,n]of Object.entries(r))((null==n?void 0:n.status)==="fulfilled"||(null==n?void 0:n.status)==="rejected")&&t!==(null==n?void 0:n.requestId)&&(e[t]=n)})}}),g=nJ({name:`${e}/invalidation`,initialState:{tags:{},keys:{}},reducers:{updateProvidedBy:{reducer(e,t){var r,n,i,s,o;for(let{queryCacheKey:a,providedTags:u}of t.payload){for(let{type:t,id:l}of(y(e,a),u)){let u=null!=(o=(i=null!=(n=(r=e.tags)[t])?n:r[t]={})[s=l||"__internal_without_id"])?o:i[s]=[],c=u.includes(a);c||u.push(a)}e.keys[a]=u}},prepare:nA()}},extraReducers(e){e.addCase(f.actions.removeQueryResult,(e,{payload:{queryCacheKey:t}})=>{y(e,t)}).addMatcher(a,(e,t)=>{var r,n,i,s,a;let{provided:u}=o(t);for(let[t,o]of Object.entries(u))for(let[u,l]of Object.entries(o)){let o=null!=(a=(i=null!=(n=(r=e.tags)[t])?n:r[t]={})[s=u||"__internal_without_id"])?a:i[s]=[];for(let e of l){let t=o.includes(e);t||o.push(e)}}}).addMatcher(nC(nU(t),nD(t)),(e,t)=>{m(e,[t])}).addMatcher(f.actions.cacheEntriesUpserted.match,(e,t)=>{let r=t.payload.map(({queryDescription:e,value:t})=>({type:"UNKNOWN",payload:t,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:e}}));m(e,r)})}});function y(e,t){var r,n,i;let s=null!=(r=e.keys[t])?r:[];for(let r of s){let s=r.type,o=null!=(n=r.id)?n:"__internal_without_id",a=null==(i=e.tags[s])?void 0:i[o];a&&(e.tags[s][o]=a.filter(e=>e!==t))}delete e.keys[t]}function m(e,t){let r=t.map(e=>{let t=sh(e,"providesTags",i,u),{queryCacheKey:r}=e.meta.arg;return{queryCacheKey:r,providedTags:t}});g.caseReducers.updateProvidedBy(e,g.actions.updateProvidedBy(r))}let b=nJ({name:`${e}/subscriptions`,initialState:sy,reducers:{updateSubscriptionOptions(e,t){},unsubscribeQueryResult(e,t){},internal_getRTKQSubscriptions(){}}}),_=nJ({name:`${e}/internalSubscriptions`,initialState:sy,reducers:{subscriptionsUpdated:{reducer:(e,t)=>rj(e,t.payload),prepare:nA()}}}),v=nJ({name:`${e}/config`,initialState:iQ({online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine,focused:"undefined"==typeof document||"hidden"!==document.visibilityState,middlewareRegistered:!1},l),reducers:{middlewareRegistered(e,{payload:t}){e.middlewareRegistered="conflict"!==e.middlewareRegistered&&s===t||"conflict"}},extraReducers:e=>{e.addCase(i4,e=>{e.online=!0}).addCase(i7,e=>{e.online=!1}).addCase(i3,e=>{e.focused=!0}).addCase(i5,e=>{e.focused=!1}).addMatcher(a,e=>iQ({},e))}}),w=tZ({queries:f.reducer,mutations:p.reducer,provided:g.reducer,subscriptions:_.reducer,config:v.reducer}),E=iJ(iQ(iQ(iQ(iQ(iQ(iQ({},v.actions),f.actions),b.actions),_.actions),p.actions),g.actions),{resetApiState:c});return{reducer:(e,t)=>w(c.match(t)?void 0:e,t),actions:E}}({context:p,queryThunk:E,infiniteQueryThunk:S,mutationThunk:k,serializeQueryArgs:s,reducerPath:i,assertTagType:g,config:{refetchOnFocus:u,refetchOnReconnect:l,refetchOnMountOrArgChange:a,keepUnusedDataFor:o,reducerPath:i,invalidationBehavior:c}});sS(t.util,{patchQueryData:A,updateQueryData:x,upsertQueryData:I,prefetch:T,resetApiState:C.resetApiState,upsertQueryEntries:C.cacheEntriesUpserted}),sS(t.internalActions,C);let{middleware:P,actions:R}=function(e){let{reducerPath:t,queryThunk:r,api:n,context:i}=e,{apiUid:s}=i,o={invalidateTags:n_(`${t}/invalidateTags`)},a=e=>e.type.startsWith(`${t}/`),u=[sT,sA,sO,sB,sI,sC];return{middleware:r=>{let o=!1,c=iJ(iQ({},e),{internalState:{currentSubscriptions:{}},refetchQuery:l,isThisApiSliceAction:a}),d=u.map(e=>e(c)),h=sk(c),f=sP(c);return e=>u=>{let l;if(!tY(u))return e(u);o||(o=!0,r.dispatch(n.internalActions.middlewareRegistered(s)));let c=iJ(iQ({},r),{next:e}),p=r.getState(),[g,y]=h(u,c,p);if(l=g?e(u):y,r.getState()[t]&&(f(u,c,p),a(u)||i.hasRehydrationInfo(u)))for(let e of d)e(u,c,p);return l}},actions:o};function l(t){return e.api.endpoints[t.endpointName].initiate(t.originalArgs,{subscribe:!1,forceRefetch:!0})}}({reducerPath:i,context:p,queryThunk:E,mutationThunk:k,infiniteQueryThunk:S,api:t,assertTagType:g,selectors:y});sS(t.util,R),sS(t,{reducer:B,middleware:P});let{buildInitiateQuery:L,buildInitiateInfiniteQuery:M,buildInitiateMutation:N,getRunningMutationThunk:D,getRunningMutationsThunk:U,getRunningQueriesThunk:j,getRunningQueryThunk:q}=function({serializeQueryArgs:e,queryThunk:t,infiniteQueryThunk:r,mutationThunk:n,api:i,context:s}){let o=new Map,a=new Map,{unsubscribeQueryResult:u,removeMutationResult:l,updateSubscriptionOptions:c}=i.internalActions;return{buildInitiateQuery:function(e,t){let r=d(e,t);return r},buildInitiateInfiniteQuery:function(e,t){let r=d(e,t);return r},buildInitiateMutation:function(e){return(t,{track:r=!0,fixedCacheKey:i}={})=>(s,o)=>{let u=n({type:"mutation",endpointName:e,originalArgs:t,track:r,fixedCacheKey:i}),c=s(u),{requestId:d,abort:h,unwrap:f}=c,p=c.unwrap().then(e=>({data:e})).catch(e=>({error:e})),g=Object.assign(p,{arg:c.arg,requestId:d,abort:h,unwrap:f,reset:()=>{s(l({requestId:d,fixedCacheKey:i}))}}),y=a.get(s)||{};return a.set(s,y),y[d]=g,g.then(()=>{delete y[d],i1(y)||a.delete(s)}),i&&(y[i]=g,g.then(()=>{y[i]!==g||(delete y[i],i1(y)||a.delete(s))})),g}},getRunningQueryThunk:function(t,r){return n=>{var i;let a=s.endpointDefinitions[t],u=e({queryArgs:r,endpointDefinition:a,endpointName:t});return null==(i=o.get(n))?void 0:i[u]}},getRunningMutationThunk:function(e,t){return e=>{var r;return null==(r=a.get(e))?void 0:r[t]}},getRunningQueriesThunk:function(){return e=>Object.values(o.get(e)||{}).filter(i6)},getRunningMutationsThunk:function(){return e=>Object.values(a.get(e)||{}).filter(i6)}};function d(n,s){let a=(l,d={})=>{var{subscribe:h=!0,forceRefetch:f,subscriptionOptions:p,[si]:g}=d,y=iX(d,["subscribe","forceRefetch","subscriptionOptions",iZ(si)]);return(d,m)=>{var b;let _;let v=e({queryArgs:l,endpointDefinition:s,endpointName:n}),w=iJ(iQ({},y),{type:"query",subscribe:h,forceRefetch:f,subscriptionOptions:p,endpointName:n,originalArgs:l,queryCacheKey:v,[si]:g});if(i9(s))_=t(w);else{let{direction:e,initialPageParam:t}=y;_=r(iJ(iQ({},w),{direction:e,initialPageParam:t}))}let E=i.endpoints[n].select(l),S=d(_),k=E(m()),{requestId:A,abort:x}=S,I=k.requestId!==A,T=null==(b=o.get(d))?void 0:b[v],O=()=>E(m()),B=Object.assign(g?S.then(O):I&&!T?Promise.resolve(k):Promise.all([T,S]).then(O),{arg:l,requestId:A,subscriptionOptions:p,queryCacheKey:v,abort:x,async unwrap(){let e=await B;if(e.isError)throw e.error;return e.data},refetch:()=>d(a(l,{subscribe:!1,forceRefetch:!0})),unsubscribe(){h&&d(u({queryCacheKey:v,requestId:A}))},updateSubscriptionOptions(e){B.subscriptionOptions=e,d(c({endpointName:n,requestId:A,queryCacheKey:v,options:e}))}});if(!T&&!I&&!g){let e=o.has(d)?o.get(d):o.set(d,{}).get(d);e[v]=B,B.then(()=>{delete e[v],i1(e)||o.delete(d)})}return B}};return a}}({queryThunk:E,mutationThunk:k,infiniteQueryThunk:S,api:t,serializeQueryArgs:s,context:p});return sS(t.util,{getRunningMutationThunk:D,getRunningMutationsThunk:U,getRunningQueryThunk:q,getRunningQueriesThunk:j}),{name:sR,injectEndpoint(e,r){var n,i;let s=null!=(i=(n=t.endpoints)[e])?i:n[e]={};i9(r)&&sS(s,{name:e,select:_(e,r),initiate:L(e,r)},O(E,e)),"mutation"===r.type&&sS(s,{name:e,select:w(),initiate:N(e)},O(k,e)),se(r)&&sS(s,{name:e,select:v(e,r),initiate:M(e,r)},O(E,e))}}}});sL();var tz=M("eJeWc"),tk=M("jcdBh"),sM=Object.defineProperty,sN=Object.defineProperties,sD=Object.getOwnPropertyDescriptors,sU=Object.getOwnPropertySymbols,sj=Object.prototype.hasOwnProperty,sq=Object.prototype.propertyIsEnumerable,sF=(e,t,r)=>t in e?sM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,s$=(e,t)=>{for(var r in t||(t={}))sj.call(t,r)&&sF(e,r,t[r]);if(sU)for(var r of sU(t))sq.call(t,r)&&sF(e,r,t[r]);return e},sz=(e,t)=>sN(e,sD(t)),sH=(e,t)=>{var r={};for(var n in e)sj.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&sU)for(var n of sU(e))0>t.indexOf(n)&&sq.call(e,n)&&(r[n]=e[n]);return r};function sW(e){return e.replace(e[0],e[0].toUpperCase())}function sK(e){return"infinitequery"===e.type}function sV(e,...t){return Object.assign(e,...t)}var sG=Symbol();function sQ(e,t,r,n){let i=(0,tz.useMemo)(()=>({queryArgs:e,serialized:"object"==typeof e?t({queryArgs:e,endpointDefinition:r,endpointName:n}):e}),[e,t,r,n]),s=(0,tz.useRef)(i);return(0,tz.useEffect)(()=>{s.current.serialized!==i.serialized&&(s.current=i)},[i]),s.current.serialized===i.serialized?s.current.queryArgs:e}function sJ(e){let t=(0,tz.useRef)(e);return(0,tz.useEffect)(()=>{n7(t.current,e)||(t.current=e)},[e]),n7(t.current,e)?t.current:e}var sZ=!!("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement),sX="undefined"!=typeof navigator&&"ReactNative"===navigator.product,sY=sZ||sX?tz.useLayoutEffect:tz.useEffect,s0=e=>e.isUninitialized?sz(s$({},e),{isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:iY.pending}):e;function s1(e,...t){let r={};return t.forEach(t=>{r[t]=e[t]}),r}var s2=["data","status","isLoading","isSuccess","isError","error"],s6=Symbol(),s8=function(...e){return function(t){let r=r9(e=>{var r,n;return null==(n=t.extractRehydrationInfo)?void 0:n.call(t,e,{reducerPath:null!=(r=t.reducerPath)?r:"api"})}),n=iJ(iQ({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed"},t),{extractRehydrationInfo:r,serializeQueryArgs(e){let r=sE;if("serializeQueryArgs"in e.endpointDefinition){let t=e.endpointDefinition.serializeQueryArgs;r=e=>{let r=t(e);return"string"==typeof r?r:sE(iJ(iQ({},e),{queryArgs:r}))}}else t.serializeQueryArgs&&(r=t.serializeQueryArgs);return r(e)},tagTypes:[...t.tagTypes||[]]}),i={endpointDefinitions:{},batch(e){e()},apiUid:nq(),extractRehydrationInfo:r,hasRehydrationInfo:r9(e=>null!=r(e))},s={injectEndpoints:function(e){let t=e.endpoints({query:e=>iJ(iQ({},e),{type:"query"}),mutation:e=>iJ(iQ({},e),{type:"mutation"}),infiniteQuery:e=>iJ(iQ({},e),{type:"infinitequery"})});for(let[r,n]of Object.entries(t)){if(!0!==e.overrideExisting&&r in i.endpointDefinitions){if("throw"===e.overrideExisting)throw Error(n3(39));continue}for(let e of(i.endpointDefinitions[r]=n,o))e.injectEndpoint(r,n)}return s},enhanceEndpoints({addTagTypes:e,endpoints:t}){if(e)for(let t of e)n.tagTypes.includes(t)||n.tagTypes.push(t);if(t)for(let[e,r]of Object.entries(t))"function"==typeof r?r(i.endpointDefinitions[e]):Object.assign(i.endpointDefinitions[e]||{},r);return s}},o=e.map(e=>e.init(s,n,i));return s.injectEndpoints({endpoints:t.endpoints})}}(sL(),((e={})=>{var{batch:t=ic,hooks:r={useDispatch:ia,useSelector:il,useStore:io},createSelector:n=nt,unstable__sideEffectsInRender:i=!1}=e;return sH(e,["batch","hooks","createSelector","unstable__sideEffectsInRender"]),{name:s6,init(e,{serializeQueryArgs:s},o){let{buildQueryHooks:a,buildInfiniteQueryHooks:u,buildMutationHook:l,usePrefetch:c}=function({api:e,moduleOptions:{batch:t,hooks:{useDispatch:r,useSelector:n,useStore:i},unstable__sideEffectsInRender:s,createSelector:o},serializeQueryArgs:a,context:u}){let l=s?e=>e():tz.useEffect;return{buildQueryHooks:function(n){let i=(e,t={})=>{let[r]=h(n,e,t);return p(r),(0,tz.useMemo)(()=>({refetch:()=>g(r)}),[r])},s=({refetchOnReconnect:i,refetchOnFocus:s,pollingInterval:o=0,skipPollingIfUnfocused:a=!1}={})=>{let{initiate:u}=e.endpoints[n],c=r(),[d,h]=(0,tz.useState)(sG),f=(0,tz.useRef)(void 0),p=sJ({refetchOnReconnect:i,refetchOnFocus:s,pollingInterval:o,skipPollingIfUnfocused:a});l(()=>{var e,t;let r=null==(e=f.current)?void 0:e.subscriptionOptions;p!==r&&(null==(t=f.current)||t.updateSubscriptionOptions(p))},[p]);let g=(0,tz.useRef)(p);l(()=>{g.current=p},[p]);let y=(0,tz.useCallback)(function(e,r=!1){let n;return t(()=>{var t;null==(t=f.current)||t.unsubscribe(),f.current=n=c(u(e,{subscriptionOptions:g.current,forceRefetch:!r})),h(e)}),n},[c,u]),m=(0,tz.useCallback)(()=>{var t,r;(null==(t=f.current)?void 0:t.queryCacheKey)&&c(e.internalActions.removeQueryResult({queryCacheKey:null==(r=f.current)?void 0:r.queryCacheKey}))},[c]);return(0,tz.useEffect)(()=>()=>{var e;null==(e=null==f?void 0:f.current)||e.unsubscribe()},[]),(0,tz.useEffect)(()=>{d===sG||f.current||y(d,!0)},[d,y]),(0,tz.useMemo)(()=>[y,d,{reset:m}],[y,d,m])},o=f(n,c);return{useQueryState:o,useQuerySubscription:i,useLazyQuerySubscription:s,useLazyQuery(e){let[t,r,{reset:n}]=s(e),i=o(r,sz(s$({},e),{skip:r===sG})),a=(0,tz.useMemo)(()=>({lastArg:r}),[r]);return(0,tz.useMemo)(()=>[t,sz(s$({},i),{reset:n}),a],[t,i,n,a])},useQuery(e,t){let r=i(e,t),n=o(e,s$({selectFromResult:e===sm||(null==t?void 0:t.skip)?void 0:s0},t)),s=s1(n,...s2);return(0,tz.useDebugValue)(s),(0,tz.useMemo)(()=>s$(s$({},n),r),[n,r])}}},buildInfiniteQueryHooks:function(e){let r=(r,n={})=>{let[i,s,o,a]=h(e,r,n),c=(0,tz.useRef)(a);l(()=>{c.current=a},[a]);let d=(0,tz.useCallback)(function(e,r){let n;return t(()=>{var t;null==(t=i.current)||t.unsubscribe(),i.current=n=s(o(e,{subscriptionOptions:c.current,direction:r}))}),n},[i,s,o]);p(i);let f=sQ(n.skip?sm:r,sE,u.endpointDefinitions[e],e),y=(0,tz.useCallback)(()=>g(i),[i]);return(0,tz.useMemo)(()=>({trigger:d,refetch:y,fetchNextPage:()=>d(f,"forward"),fetchPreviousPage:()=>d(f,"backward")}),[y,d,f])},n=f(e,d);return{useInfiniteQueryState:n,useInfiniteQuerySubscription:r,useInfiniteQuery(e,t){let{refetch:i,fetchNextPage:s,fetchPreviousPage:o}=r(e,t),a=n(e,s$({selectFromResult:e===sm||(null==t?void 0:t.skip)?void 0:s0},t)),u=s1(a,...s2,"hasNextPage","hasPreviousPage");return(0,tz.useDebugValue)(u),(0,tz.useMemo)(()=>sz(s$({},a),{fetchNextPage:s,fetchPreviousPage:o,refetch:i}),[a,s,o,i])}}},buildMutationHook:function(i){return({selectFromResult:s,fixedCacheKey:a}={})=>{let{select:u,initiate:l}=e.endpoints[i],c=r(),[d,h]=(0,tz.useState)();(0,tz.useEffect)(()=>()=>{(null==d?void 0:d.arg.fixedCacheKey)||null==d||d.reset()},[d]);let f=(0,tz.useCallback)(function(e){let t=c(l(e,{fixedCacheKey:a}));return h(t),t},[c,l,a]),{requestId:p}=d||{},g=(0,tz.useMemo)(()=>u({fixedCacheKey:a,requestId:null==d?void 0:d.requestId}),[a,d,u]),y=(0,tz.useMemo)(()=>s?o([g],s):g,[s,g]),m=n(y,n7),b=null==a?null==d?void 0:d.arg.originalArgs:void 0,_=(0,tz.useCallback)(()=>{t(()=>{d&&h(void 0),a&&c(e.internalActions.removeMutationResult({requestId:p,fixedCacheKey:a}))})},[c,a,d,p]),v=s1(m,...s2,"endpointName");(0,tz.useDebugValue)(v);let w=(0,tz.useMemo)(()=>sz(s$({},m),{originalArgs:b,reset:_}),[m,b,_]);return(0,tz.useMemo)(()=>[f,w],[f,w])}},usePrefetch:function(t,n){let i=r(),s=sJ(n);return(0,tz.useCallback)((r,n)=>i(e.util.prefetch(t,r,s$(s$({},s),n))),[t,i,s])}};function c(e,t,r){if((null==t?void 0:t.endpointName)&&e.isUninitialized){let{endpointName:e}=t,n=u.endpointDefinitions[e];r!==sm&&a({queryArgs:t.originalArgs,endpointDefinition:n,endpointName:e})===a({queryArgs:r,endpointDefinition:n,endpointName:e})&&(t=void 0)}let n=e.isSuccess?e.data:null==t?void 0:t.data;void 0===n&&(n=e.data);let i=void 0!==n,s=e.isLoading,o=(!t||t.isLoading||t.isUninitialized)&&!i&&s,l=e.isSuccess||i&&(s&&!(null==t?void 0:t.isError)||e.isUninitialized);return sz(s$({},e),{data:n,currentData:e.data,isFetching:s,isLoading:o,isSuccess:l})}function d(e,t,r){if((null==t?void 0:t.endpointName)&&e.isUninitialized){let{endpointName:e}=t,n=u.endpointDefinitions[e];r!==sm&&a({queryArgs:t.originalArgs,endpointDefinition:n,endpointName:e})===a({queryArgs:r,endpointDefinition:n,endpointName:e})&&(t=void 0)}let n=e.isSuccess?e.data:null==t?void 0:t.data;void 0===n&&(n=e.data);let i=void 0!==n,s=e.isLoading,o=(!t||t.isLoading||t.isUninitialized)&&!i&&s,l=e.isSuccess||s&&i;return sz(s$({},e),{data:n,currentData:e.data,isFetching:s,isLoading:o,isSuccess:l})}function h(t,n,i={}){var{refetchOnReconnect:s,refetchOnFocus:o,refetchOnMountOrArgChange:a,skip:c=!1,pollingInterval:d=0,skipPollingIfUnfocused:h=!1}=i,f=sH(i,["refetchOnReconnect","refetchOnFocus","refetchOnMountOrArgChange","skip","pollingInterval","skipPollingIfUnfocused"]);let{initiate:p}=e.endpoints[t],g=r(),y=(0,tz.useRef)(void 0);if(!y.current){let t=g(e.internalActions.internal_getRTKQSubscriptions());y.current=t}let m=sQ(c?sm:n,sE,u.endpointDefinitions[t],t),b=sJ({refetchOnReconnect:s,refetchOnFocus:o,pollingInterval:d,skipPollingIfUnfocused:h}),_=f.initialPageParam,v=sJ(_),w=(0,tz.useRef)(void 0),{queryCacheKey:E,requestId:S}=w.current||{},k=!1;E&&S&&(k=y.current.isRequestSubscribed(E,S));let A=!k&&void 0!==w.current;return l(()=>{A&&(w.current=void 0)},[A]),l(()=>{var e;let r=w.current;if(m===sm){null==r||r.unsubscribe(),w.current=void 0;return}let n=null==(e=w.current)?void 0:e.subscriptionOptions;if(r&&r.arg===m)b!==n&&r.updateSubscriptionOptions(b);else{null==r||r.unsubscribe();let e=g(p(m,s$({subscriptionOptions:b,forceRefetch:a},sK(u.endpointDefinitions[t])?{initialPageParam:v}:{})));w.current=e}},[g,p,a,m,b,A,v,t]),[w,g,p,b]}function f(t,r){return(s,{skip:l=!1,selectFromResult:c}={})=>{let{select:d}=e.endpoints[t],h=sQ(l?sm:s,a,u.endpointDefinitions[t],t),f=(0,tz.useRef)(void 0),p=(0,tz.useMemo)(()=>o([d(h),(e,t)=>t,e=>h],r,{memoizeOptions:{resultEqualityCheck:n7}}),[d,h]),g=(0,tz.useMemo)(()=>c?o([p],c,{devModeChecks:{identityFunctionCheck:"never"}}):p,[p,c]),y=n(e=>g(e,f.current),n7),m=i(),b=p(m.getState(),f.current);return sY(()=>{f.current=b},[b]),y}}function p(e){(0,tz.useEffect)(()=>()=>{var t,r;null==(r=null==(t=e.current)?void 0:t.unsubscribe)||r.call(t),e.current=void 0},[e])}function g(e){if(!e.current)throw Error(n3(38));return e.current.refetch()}}({api:e,moduleOptions:{batch:t,hooks:r,unstable__sideEffectsInRender:i,createSelector:n},serializeQueryArgs:s,context:o});return sV(e,{usePrefetch:c}),sV(o,{batch:t}),{injectEndpoint(t,r){if("query"===r.type){let{useQuery:r,useLazyQuery:n,useLazyQuerySubscription:i,useQueryState:s,useQuerySubscription:o}=a(t);sV(e.endpoints[t],{useQuery:r,useLazyQuery:n,useLazyQuerySubscription:i,useQueryState:s,useQuerySubscription:o}),e[`use${sW(t)}Query`]=r,e[`useLazy${sW(t)}Query`]=n}if("mutation"===r.type){let r=l(t);sV(e.endpoints[t],{useMutation:r}),e[`use${sW(t)}Mutation`]=r}else if(sK(r)){let{useInfiniteQuery:r,useInfiniteQuerySubscription:n,useInfiniteQueryState:i}=u(t);sV(e.endpoints[t],{useInfiniteQuery:r,useInfiniteQuerySubscription:n,useInfiniteQueryState:i}),e[`use${sW(t)}InfiniteQuery`]=r}}}}}})());globalThis.browser?.tabs||globalThis.chrome?.tabs;var s3=()=>{let e=globalThis.browser?.runtime||globalThis.chrome?.runtime;if(!e)throw Error("Extension runtime is not available");return e},s5=async e=>s3().sendMessage(e.extensionId??null,e);let s4={user:null,session:null,turnkeyAccount:null,defaultWalletAddress:null,walletAddresses:null},s7=nJ({name:"account",initialState:s4,reducers:{setAccount:(e,t)=>{if(t.payload?.user){let r={...t.payload.user};r.createdAt instanceof Date&&(r.createdAt=r.createdAt.toISOString()),e.user=r}else e.user=null;e.session=t.payload?.session||null},setSession:(e,t)=>{e.session=t.payload},setTurnkeyAccount:(e,t)=>{e.turnkeyAccount={...e.turnkeyAccount||{},...t.payload,expiry:Date.now()+2592e5}},setDefaultWalletAddress:(e,t)=>{e.defaultWalletAddress=t.payload},setWalletAddresses:(e,t)=>{e.walletAddresses=t.payload}}}),{setAccount:s9,setSession:oe,setTurnkeyAccount:ot,setDefaultWalletAddress:or,setWalletAddresses:on}=s7.actions;var oi=s7.reducer;let os={globalError:null},oo=nJ({name:"error",initialState:os,reducers:{setGlobalError:(e,t)=>{e.globalError=t.payload}}}),{setGlobalError:oa}=oo.actions;var ou=oo.reducer;iq("BackgroundClient");let ol=e=>async(t,r,n={extractData:!0,skipGlobalErrorHandler:!1})=>{if(t===sm)return{data:null};try{let i=await s5({name:`service/${e}`,body:{args:t}});if(i&&i.error&&(!0!==n.skipGlobalErrorHandler&&r.dispatch(oa(i.error)),401===i.error.status)){let{session:e}=r.getState().account;e&&r.dispatch(s9({user:null,session:null}))}if(i&&i.data&&i.data.data&&!("cacheHit"in i.data)&&!1!==n.extractData)return{data:i.data.data};return i}catch(e){return{error:{status:"SEND_TO_BACKGROUND_ERROR",error:e.message}}}},oc=s8({baseQuery:ol("apiCall"),tagTypes:["RecentLabels","ProfileList","ProfileInfo","LabeledWallets","WalletMetadata","Groups","GroupDetail","Search"],endpoints:e=>({createSubOrg:e.mutation({query:({sessionPublicKey:e})=>({url:"/api/v1/user/turnkey/google-oauth",method:"POST",body:{sessionPublicKey:e}})}),search:e.query({query:({keyword:e})=>`/api/v1/user/search?keyword=${e}`,keepUnusedDataFor:86400,providesTags:(e,t,r)=>[{type:"Search",id:r.keyword}]}),getRecentLabels:e.query({query:()=>"/api/v1/user/recent-labels?page=1&pageSize=10",transformResponse:e=>e.labels,keepUnusedDataFor:86400,providesTags:["RecentLabels"]}),getProfileList:e.query({query:()=>"/api/v1/twitter/me/labeled-twitter-profiles",keepUnusedDataFor:86400,providesTags:["ProfileList"]}),addProfileLabel:e.mutation({query:({twitterUsername:e,label:t})=>({method:"POST",url:`/api/v1/twitter/${e}/label`,body:{primaryLabel:t}}),invalidatesTags:(e,t,r)=>["RecentLabels","ProfileList",{type:"ProfileInfo",id:r.twitterUsername}]}),deleteProfileLabel:e.mutation({query:({twitterUsername:e})=>({method:"DELETE",url:"/api/v1/twitter/{twitterUsername}/label",params:{path:{twitterUsername:e}}}),invalidatesTags:(e,t,r)=>["RecentLabels","ProfileList",{type:"ProfileInfo",id:r.twitterUsername}]}),getTwitterInfo:e.query({query:({twitterUsername:e})=>e&&"null"!==e?`/api/v1/twitter/${e}/info`:sm,keepUnusedDataFor:86400,providesTags:(e,t,r)=>[{type:"ProfileInfo",id:r.twitterUsername}]}),getTwitterSmartFollowersCount:e.query({query:({twitterUsername:e})=>e&&"null"!==e?`/api/v1/twitter/${e}/smart-followers/count`:sm,keepUnusedDataFor:86400,transformResponse:e=>e?.totalCount??0}),getTwitterSmartFollowers:e.query({query:({twitterUsername:e})=>e&&"null"!==e?`/api/v1/twitter/${e}/smart-followers`:sm,keepUnusedDataFor:86400,transformResponse:e=>({totalCount:e?.totalCount??0,smartFollowers:e?.smartFollowers??[]})}),getTwitterUsernameHistory:e.query({query:({twitterUsername:e})=>e&&"null"!==e?`/api/v1/twitter/${e}/username-history`:sm,keepUnusedDataFor:86400}),getTweetsWithCACache:e.query({query:({twitterHandle:e})=>`/api/v1/twitter/${e}/tweets-with-ca-cache`,keepUnusedDataFor:3600}),getTweetsWithCA:e.query({query:({twitterHandle:e})=>`/api/v1/twitter/${e}/tweets-with-ca`}),getWalletLabels:e.query({query:({wallets:e,excludeTokenCA:t,requestSource:r})=>({url:"/api/v1/wallet/metadata/batch-query",method:"POST",body:{wallets:e.map(e=>({chain:"SOLANA",address:e})),excludeTokenContractAddresses:t?[t]:void 0,requestSource:r}}),keepUnusedDataFor:86400}),getLabeledWallets:e.query({query:()=>"/api/v1/wallet/me/labeled-wallets",keepUnusedDataFor:86400,providesTags:["LabeledWallets"]}),getWalletMetadata:e.query({query:({chain:e,address:t})=>`/api/v1/wallet/metadata/${e}/${t}`,keepUnusedDataFor:86400,providesTags:(e,t,r)=>[{type:"WalletMetadata",id:r.address}]}),saveWalletMetadata:e.mutation({query:e=>({url:"/api/v1/wallet/metadata",method:"POST",body:e}),invalidatesTags:(e,t,r)=>[{type:"Search",id:r.address},{type:"WalletMetadata",id:r.address},"LabeledWallets","RecentLabels","Groups",...r.walletGroupIds?r.walletGroupIds.map(e=>({type:"GroupDetail",id:e})):[]]}),deleteWalletMetadata:e.mutation({query:({chain:e,address:t})=>({method:"DELETE",url:`/api/v1/wallet/metadata/${e}/${t}`}),invalidatesTags:(e,t,r)=>[{type:"WalletMetadata",id:r.address},"LabeledWallets","RecentLabels","Groups",...r.walletGroupIds?r.walletGroupIds.map(e=>({type:"GroupDetail",id:e})):[]]}),updateWalletLabel:e.mutation({query:({address:e,primaryLabel:t})=>({method:"POST",url:"/api/v1/wallet/label",body:{chain:"SOLANA",address:e,primaryLabel:t}}),invalidatesTags:(e,t,r)=>["RecentLabels","LabeledWallets",{type:"WalletMetadata",id:r.address},...r.groups?r.groups.map(e=>({type:"GroupDetail",id:e.id})):[]]}),deleteWalletLabel:e.mutation({query:({address:e})=>({method:"DELETE",url:"/api/v1/wallet/label/{chain}/{address}",params:{path:{chain:"SOLANA",address:e}}}),invalidatesTags:(e,t,r)=>["RecentLabels","LabeledWallets",{type:"WalletMetadata",id:r.address},"Groups",...r.groups?r.groups.map(e=>({type:"GroupDetail",id:e.id})):[]]}),getAltWallets:e.query({query:({chain:e,address:t})=>`/api/v1/wallet/alt-wallets/${e}/${t}`,keepUnusedDataFor:86400,transformResponse:e=>e.altWallets}),getGroups:e.query({query:()=>"/api/v1/wallet-group/me/list",keepUnusedDataFor:86400,providesTags:["Groups"]}),getGroupDetail:e.query({query:({groupId:e})=>`/api/v1/wallet-group/${e}`,keepUnusedDataFor:86400,providesTags:(e,t,r)=>[{type:"GroupDetail",id:r.groupId}]}),createGroup:e.mutation({query:({name:e})=>({url:"/api/v1/wallet-group",method:"POST",body:{name:e}}),invalidatesTags:["Groups"]}),updateGroup:e.mutation({query:({groupId:e,name:t})=>({url:`/api/v1/wallet-group/${e}`,method:"PUT",body:{name:t}}),invalidatesTags:(e,t,r)=>[{type:"GroupDetail",id:r.groupId},"Groups","LabeledWallets","WalletMetadata"]}),updateGroupMembers:e.mutation({query:({groupId:e,walletsToRemove:t,walletsToAdd:r})=>({url:`/api/v1/wallet-group/${e}/update-members`,method:"PUT",body:{walletsToRemove:t,walletsToAdd:r}}),invalidatesTags:(e,t,r)=>["Groups",{type:"GroupDetail",id:r.groupId},"LabeledWallets",...r.walletsToRemove?r.walletsToRemove.map(e=>({type:"WalletMetadata",id:e.address})):[],...r.walletsToAdd?r.walletsToAdd.map(e=>({type:"WalletMetadata",id:e.address})):[]]}),deleteGroup:e.mutation({query:({groupId:e})=>({url:`/api/v1/wallet-group/${e}`,method:"DELETE"}),invalidatesTags:(e,t,r)=>["Groups","LabeledWallets",...r.wallets?r.wallets.map(e=>({type:"WalletMetadata",id:e.address})):[]]}),importLabels:e.mutation({query:({importWallets:e,importType:t})=>({url:"/api/v1/wallet/labels/import",method:"POST",body:{importWallets:e,importType:t}}),transformResponse:e=>e.successCount,invalidatesTags:["RecentLabels","LabeledWallets","WalletMetadata","Groups","GroupDetail"]}),getTokenSummary:e.query({query:({tokenAddress:e,chain:t})=>({url:`/api/v1/agent/report/${e}`,method:"GET",params:{query:{chain:t}}}),transformResponse:e=>e}),updateTokenSummary:e.mutation({query:({tokenAddress:e})=>({url:"/api/v1/agent/report/generate",method:"POST",body:{tokenAddress:e}}),transformResponse:e=>e})})}),{useCreateSubOrgMutation:od,useSearchQuery:oh,useLazyGetWalletLabelsQuery:of,useGetRecentLabelsQuery:op,useGetLabeledWalletsQuery:og,useGetWalletMetadataQuery:oy,useSaveWalletMetadataMutation:om,useDeleteWalletMetadataMutation:ob,useGetGroupsQuery:o_,useGetGroupDetailQuery:ov,useCreateGroupMutation:ow,useUpdateGroupMutation:oE,useDeleteGroupMutation:oS,useImportLabelsMutation:ok,useGetTwitterInfoQuery:oA,useGetProfileListQuery:ox,useDeleteProfileLabelMutation:oI,useAddProfileLabelMutation:oT,useGetTwitterSmartFollowersCountQuery:oO,useGetTwitterSmartFollowersQuery:oB,useGetTwitterUsernameHistoryQuery:oC,useUpdateWalletLabelMutation:oP,useDeleteWalletLabelMutation:oR,useGetAltWalletsQuery:oL,useLazyGetAltWalletsQuery:oM,useUpdateGroupMembersMutation:oN,useGetTokenSummaryQuery:oD,useLazyGetTokenSummaryQuery:oU,useUpdateTokenSummaryMutation:oj,useGetTweetsWithCACacheQuery:oq,useGetTweetsWithCAQuery:oF,useLazyGetTweetsWithCAQuery:o$}=oc,oz=s8({reducerPath:"dexscreenerApi",baseQuery:ol("dexscreenerCall"),endpoints:e=>({getPoolInfo:e.query({query:({chainId:e="solana",pairId:t})=>`/dex/pairs/${e}/${t}`,transformResponse:e=>e.pair,keepUnusedDataFor:86400})})}),{useGetPoolInfoQuery:oH}=oz,oW=s8({reducerPath:"jitoApi",baseQuery:ol("jitoCall"),endpoints:e=>({queryTransaction:e.query({query:({transactionId:e})=>`/bundles/transaction/${e}`,transformResponse:e=>{if(!Array.isArray(e)||0===e.length)return{success:!1,error:"Unexpected response format"};let t=e[0]?.bundle_id;return t?{success:!0,bundleId:t}:{success:!1,error:"No bundle_id found in response"}},keepUnusedDataFor:86400}),queryBundle:e.query({query:({bundleId:e})=>`/bundles/bundle/${e}`,transformResponse:e=>{if(!Array.isArray(e)||0===e.length)return{success:!1,error:"Unexpected bundle details response format"};let t=e[0];return{success:!0,bundleDetails:t}}})})}),{useQueryTransactionQuery:oK,useQueryBundleQuery:oV,useLazyQueryBundleQuery:oG,useLazyQueryTransactionQuery:oQ}=oW,oJ=s8({reducerPath:"jupiterApi",baseQuery:ol("jupiterCall"),tagTypes:["Balance","Order"],endpoints:e=>({getBalance:e.query({query:({address:e})=>({url:`/balances/${e}`,method:"GET"}),keepUnusedDataFor:86400,providesTags:["Balance"]}),getOrder:e.query({query:({inputMint:e,outputMint:t,amount:r,wallet:n})=>`/order?amount=${r}&inputMint=${e}&outputMint=${t}&taker=${n}`,keepUnusedDataFor:10,providesTags:["Order"]}),executeOrder:e.mutation({query:({signedTransaction:e,requestId:t})=>({url:"/execute",method:"POST",body:{signedTransaction:e,requestId:t}}),invalidatesTags:["Balance","Order"]})})}),{useGetBalanceQuery:oZ,useLazyGetBalanceQuery:oX,useGetOrderQuery:oY,useLazyGetOrderQuery:o0,useExecuteOrderMutation:o1}=oJ;var o2=/^[a-zA-Z:_][a-zA-Z0-9:_.-]*$/,o6={revert:function(){}},o8=new Map,o3=new Set;function o5(e){var t=o8.get(e);return t||(t={element:e,attributes:{}},o8.set(e,t)),t}function o4(e,t,r,n,i){var s=r(e),o={isDirty:!1,originalValue:s,virtualValue:s,mutations:[],el:e,_positionTimeout:null,observer:new MutationObserver(function(){if("position"!==t||!o._positionTimeout){"position"===t&&(o._positionTimeout=setTimeout(function(){o._positionTimeout=null},1e3));var n=r(e);("position"!==t||n.parentNode!==o.virtualValue.parentNode||n.insertBeforeNode!==o.virtualValue.insertBeforeNode)&&n!==o.virtualValue&&(o.originalValue=n,i(o))}}),mutationRunner:i,setValue:n,getCurrentValue:r};return"position"===t&&e.parentNode?o.observer.observe(e.parentNode,{childList:!0,subtree:!0,attributes:!1,characterData:!1}):o.observer.observe(e,"html"===t?{childList:!0,subtree:!0,attributes:!0,characterData:!0}:{childList:!1,subtree:!1,attributes:!0,attributeFilter:[t]}),o}function o7(e,t){var r=t.getCurrentValue(t.el);t.virtualValue=e,e&&"string"!=typeof e?r&&e.parentNode===r.parentNode&&e.insertBeforeNode===r.insertBeforeNode||(t.isDirty=!0,ag()):e!==r&&(t.isDirty=!0,ag())}function o9(e){var t,r=e.originalValue;e.mutations.forEach(function(e){return r=e.mutate(r)}),o7((t=r,k||(k=document.createElement("div")),k.innerHTML=t,k.innerHTML),e)}function ae(e){var t=new Set(e.originalValue.split(/\s+/).filter(Boolean));e.mutations.forEach(function(e){return e.mutate(t)}),o7(Array.from(t).filter(Boolean).join(" "),e)}function at(e){var t=e.originalValue;e.mutations.forEach(function(e){return t=e.mutate(t)}),o7(t,e)}function ar(e){var t=e.originalValue;e.mutations.forEach(function(e){t=function(e){var t=e.parentSelector,r=e.insertBeforeSelector,n=document.querySelector(t);if(!n)return null;var i=r?document.querySelector(r):null;return r&&!i?null:{parentNode:n,insertBeforeNode:i}}(e.mutate())||t}),o7(t,e)}var an=function(e){return e.innerHTML},ai=function(e,t){return e.innerHTML=t};function as(e){var t=o5(e);return t.html||(t.html=o4(e,"html",an,ai,o9)),t.html}var ao=function(e){return{parentNode:e.parentElement,insertBeforeNode:e.nextElementSibling}},aa=function(e,t){(!t.insertBeforeNode||t.parentNode.contains(t.insertBeforeNode))&&t.parentNode.insertBefore(e,t.insertBeforeNode)};function au(e){var t=o5(e);return t.position||(t.position=o4(e,"position",ao,aa,ar)),t.position}var al=function(e,t){return t?e.className=t:e.removeAttribute("class")},ac=function(e){return e.className};function ad(e){var t=o5(e);return t.classes||(t.classes=o4(e,"class",ac,al,ae)),t.classes}function ah(e,t){var r=o5(e);return r.attributes[t]||(r.attributes[t]=o4(e,t,function(e){var r;return null!=(r=e.getAttribute(t))?r:null},function(e,r){return null!==r?e.setAttribute(t,r):e.removeAttribute(t)},at)),r.attributes[t]}function af(e,t,r){if(r.isDirty){r.isDirty=!1;var n,i,s,o,a,u,l,c,d,h,f=r.virtualValue;!r.mutations.length&&(h=o8.get(e))&&("html"===t?(null==(n=h.html)||null==(i=n.observer)||i.disconnect(),delete h.html):"class"===t?(null==(s=h.classes)||null==(o=s.observer)||o.disconnect(),delete h.classes):"position"===t?(null==(a=h.position)||null==(u=a.observer)||u.disconnect(),delete h.position):(null==(l=h.attributes)||null==(c=l[t])||null==(d=c.observer)||d.disconnect(),delete h.attributes[t])),r.setValue(e,f)}}function ap(e,t){e.html&&af(t,"html",e.html),e.classes&&af(t,"class",e.classes),e.position&&af(t,"position",e.position),Object.keys(e.attributes).forEach(function(r){af(t,r,e.attributes[r])})}function ag(){o8.forEach(ap)}function ay(e){if("position"!==e.kind||1!==e.elements.size){var t=new Set(e.elements);document.querySelectorAll(e.selector).forEach(function(r){if(!t.has(r)){var n;e.elements.add(r),n=null,"html"===e.kind?n=as(r):"class"===e.kind?n=ad(r):"attribute"===e.kind?n=ah(r,e.attribute):"position"===e.kind&&(n=au(r)),n&&(n.mutations.push(e),n.mutationRunner(n))}})}}function am(){o3.forEach(ay)}function ab(e){return"undefined"==typeof document?o6:(o3.add(e),ay(e),{revert:function(){e.elements.forEach(function(t){return function(e,t){var r=null;if("html"===e.kind?r=as(t):"class"===e.kind?r=ad(t):"attribute"===e.kind?r=ah(t,e.attribute):"position"===e.kind&&(r=au(t)),r){var n=r.mutations.indexOf(e);-1!==n&&r.mutations.splice(n,1),r.mutationRunner(r)}}(e,t)}),e.elements.clear(),o3.delete(e)}})}function a_(e,t){return ab({kind:"html",elements:new Set,mutate:t,selector:e})}function av(e,t){return ab({kind:"position",elements:new Set,mutate:t,selector:e})}function aw(e,t){return ab({kind:"class",elements:new Set,mutate:t,selector:e})}function aE(e,t,r){return o2.test(t)?"class"===t||"className"===t?aw(e,function(e){var t=r(Array.from(e).join(" "));e.clear(),t&&t.split(/\s+/g).filter(Boolean).forEach(function(t){return e.add(t)})}):ab({kind:"attribute",attribute:t,elements:new Set,mutate:r,selector:e}):o6}"undefined"!=typeof document&&(A||(A=new MutationObserver(function(){am()})),am(),A.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!1,characterData:!1}));var aS={html:a_,classes:aw,attribute:aE,position:av,declarative:function(e){var t=e.selector,r=e.action,n=e.value,i=e.attribute,s=e.parentSelector,o=e.insertBeforeSelector;if("html"===i){if("append"===r)return a_(t,function(e){return e+(null!=n?n:"")});if("set"===r)return a_(t,function(){return null!=n?n:""})}else if("class"===i){if("append"===r)return aw(t,function(e){n&&e.add(n)});if("remove"===r)return aw(t,function(e){n&&e.delete(n)});if("set"===r)return aw(t,function(e){e.clear(),n&&e.add(n)})}else if("position"===i){if("set"===r&&s)return av(t,function(){return{insertBeforeSelector:o,parentSelector:s}})}else{if("append"===r)return aE(t,i,function(e){return null!==e?e+(null!=n?n:""):null!=n?n:""});if("set"===r)return aE(t,i,function(){return null!=n?n:""});if("remove"===r)return aE(t,i,function(){return null})}return o6}};let ak={fetch:globalThis.fetch?globalThis.fetch.bind(globalThis):void 0,SubtleCrypto:globalThis.crypto?globalThis.crypto.subtle:void 0,EventSource:globalThis.EventSource};function aA(e){let t=2166136261,r=e.length;for(let n=0;n<r;n++)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}function ax(e,t,r){return 2===r?aA(aA(e+t)+"")%1e4/1e4:1===r?aA(t+e)%1e3/1e3:null}function aI(e,t){return e>=t[0]&&e<t[1]}function aT(e){try{let t=e.replace(/([^\\])\//g,"$1\\/");return new RegExp(t)}catch(e){console.error(e);return}}function aO(e,t){if(!t.length)return!1;let r=!1,n=!1;for(let i=0;i<t.length;i++){let s=function(e,t,r){try{let n=new URL(e,"https://_");if("regex"===t){let e=aT(r);if(!e)return!1;return e.test(n.href)||e.test(n.href.substring(n.origin.length))}if("simple"===t)return function(e,t){try{let r=new URL(t.replace(/^([^:/?]*)\./i,"https://$1.").replace(/\*/g,"_____"),"https://_____"),n=[[e.host,r.host,!1],[e.pathname,r.pathname,!0]];return r.hash&&n.push([e.hash,r.hash,!1]),r.searchParams.forEach((t,r)=>{n.push([e.searchParams.get(r)||"",t,!1])}),!n.some(e=>!function(e,t,r){try{let n=t.replace(/[*.+?^${}()|[\]\\]/g,"\\$&").replace(/_____/g,".*");r&&(n="\\/?"+n.replace(/(^\/|\/$)/g,"")+"\\/?");let i=RegExp("^"+n+"$","i");return i.test(e)}catch(e){return!1}}(e[0],e[1],e[2]))}catch(e){return!1}}(n,r);return!1}catch(e){return!1}}(e,t[i].type,t[i].pattern);if(!1===t[i].include){if(s)return!1}else r=!0,s&&(n=!0)}return n||!r}let aB=e=>Uint8Array.from(atob(e),e=>e.charCodeAt(0));async function aC(e,t,r){if(t=t||"",!(r=r||globalThis.crypto&&globalThis.crypto.subtle||ak.SubtleCrypto))throw Error("No SubtleCrypto implementation found");try{let n=await r.importKey("raw",aB(t),{name:"AES-CBC",length:128},!0,["encrypt","decrypt"]),[i,s]=e.split("."),o=await r.decrypt({name:"AES-CBC",iv:aB(i)},n,aB(s));return new TextDecoder().decode(o)}catch(e){throw Error("Failed to decrypt")}}function aP(e){return"string"==typeof e?e:JSON.stringify(e)}function aR(e){"number"==typeof e&&(e+=""),e&&"string"==typeof e||(e="0");let t=e.replace(/(^v|\+.*$)/g,"").split(/[-.]/);return 3===t.length&&t.push("~"),t.map(e=>e.match(/^[0-9]+$/)?e.padStart(5," "):e).join("-")}function aL(e){return"object"==typeof e&&null!==e}function aM(e){return e.urlPatterns&&e.variations.some(e=>aL(e)&&"urlRedirect"in e)?"redirect":e.variations.some(e=>aL(e)&&(e.domMutations||"js"in e||"css"in e))?"visual":"unknown"}async function aN(e,t){return new Promise(r=>{let n,i=!1,s=e=>{i||(i=!0,n&&clearTimeout(n),r(e||null))};t&&(n=setTimeout(()=>s(),t)),e.then(e=>s(e)).catch(()=>s())})}let aD={staleTTL:6e4,maxAge:144e5,cacheKey:"gbFeaturesCache",backgroundSync:!0,maxEntries:10,disableIdleStreams:!1,idleStreamInterval:2e4,disableCache:!1},aU={fetchFeaturesCall:e=>{let{host:t,clientKey:r,headers:n}=e;return ak.fetch(`${t}/api/features/${r}`,{headers:n})},fetchRemoteEvalCall:e=>{let{host:t,clientKey:r,payload:n,headers:i}=e,s={method:"POST",headers:{"Content-Type":"application/json",...i},body:JSON.stringify(n)};return ak.fetch(`${t}/api/eval/${r}`,s)},eventSourceCall:e=>{let{host:t,clientKey:r,headers:n}=e;return n?new ak.EventSource(`${t}/sub/${r}`,{headers:n}):new ak.EventSource(`${t}/sub/${r}`)},startIdleListener:()=>{let e;let t="undefined"!=typeof window&&"undefined"!=typeof document;if(!t)return;let r=()=>{"visible"===document.visibilityState?(window.clearTimeout(e),az.forEach(e=>{e&&"idle"===e.state&&a3(e)})):"hidden"===document.visibilityState&&(e=window.setTimeout(aK,aD.idleStreamInterval))};return document.addEventListener("visibilitychange",r),()=>document.removeEventListener("visibilitychange",r)},stopIdleListener:()=>{}};try{globalThis.localStorage&&(ak.localStorage=globalThis.localStorage)}catch(e){}let aj=new Map,aq=!1,aF=new Map,a$=new Map,az=new Map,aH=new Set;async function aW(e){let{instance:t,timeout:r,skipCache:n,allowStale:i,backgroundSync:s}=e;return s||(aD.backgroundSync=!1),aG({instance:t,allowStale:i,timeout:r,skipCache:n})}function aK(){az.forEach(e=>{e&&(e.state="idle",a8(e))})}async function aV(){try{if(!ak.localStorage)return;await ak.localStorage.setItem(aD.cacheKey,JSON.stringify(Array.from(aF.entries())))}catch(e){}}async function aG(e){let{instance:t,allowStale:r,timeout:n,skipCache:i}=e,s=aQ(t),o=aJ(t),a=new Date,u=new Date(a.getTime()-aD.maxAge+aD.staleTTL);await aZ();let l=aD.disableCache||i?void 0:aF.get(o);if(l&&(r||l.staleAt>a)&&l.staleAt>u)return l.sse&&aH.add(s),l.staleAt<a?a1(t):a2(t),{data:l.data,success:!0,source:"cache"};{let e=await aN(a1(t),n);return e||{data:null,success:!1,source:"timeout",error:Error("Timeout")}}}function aQ(e){let[t,r]=e.getApiInfo();return`${t}||${r}`}function aJ(e){let t=aQ(e);if(!("isRemoteEval"in e)||!e.isRemoteEval())return t;let r=e.getAttributes(),n=e.getCacheKeyAttributes()||Object.keys(e.getAttributes()),i={};n.forEach(e=>{i[e]=r[e]});let s=e.getForcedVariations(),o=e.getUrl();return`${t}||${JSON.stringify({ca:i,fv:s,url:o})}`}async function aZ(){if(!aq){aq=!0;try{if(ak.localStorage){let e=await ak.localStorage.getItem(aD.cacheKey);if(!aD.disableCache&&e){let t=JSON.parse(e);t&&Array.isArray(t)&&t.forEach(e=>{let[t,r]=e;aF.set(t,{...r,staleAt:new Date(r.staleAt)})}),aX()}}}catch(e){}if(!aD.disableIdleStreams){let e=aU.startIdleListener();e&&(aU.stopIdleListener=e)}}}function aX(){let e=Array.from(aF.entries()).map(e=>{let[t,r]=e;return{key:t,staleAt:r.staleAt.getTime()}}).sort((e,t)=>e.staleAt-t.staleAt),t=Math.min(Math.max(0,aF.size-aD.maxEntries),aF.size);for(let r=0;r<t;r++)aF.delete(e[r].key)}function aY(e,t,r){let n=r.dateUpdated||"",i=new Date(Date.now()+aD.staleTTL),s=aD.disableCache?void 0:aF.get(t);if(s&&n&&s.version===n){s.staleAt=i,aV();return}aD.disableCache||(aF.set(t,{data:r,version:n,staleAt:i,sse:aH.has(e)}),aX()),aV();let o=aj.get(e);o&&o.forEach(e=>a0(e,r))}async function a0(e,t){await e.setPayload(t||e.getPayload())}async function a1(e){let{apiHost:t,apiRequestHeaders:r}=e.getApiHosts(),n=e.getClientKey(),i="isRemoteEval"in e&&e.isRemoteEval(),s=aQ(e),o=aJ(e),a=a$.get(o);if(!a){let u=i?aU.fetchRemoteEvalCall({host:t,clientKey:n,payload:{attributes:e.getAttributes(),forcedVariations:e.getForcedVariations(),forcedFeatures:Array.from(e.getForcedFeatures().entries()),url:e.getUrl()},headers:r}):aU.fetchFeaturesCall({host:t,clientKey:n,headers:r});a=u.then(e=>{if(!e.ok)throw Error(`HTTP error: ${e.status}`);return"enabled"===e.headers.get("x-sse-support")&&aH.add(s),e.json()}).then(t=>(aY(s,o,t),a2(e),a$.delete(o),{data:t,success:!0,source:"network"})).catch(e=>(a$.delete(o),{data:null,source:"error",success:!1,error:e})),a$.set(o,a)}return a}function a2(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=aQ(e),n=aJ(e),{streamingHost:i,streamingHostRequestHeaders:s}=e.getApiHosts(),o=e.getClientKey();if(t&&aH.add(r),aD.backgroundSync&&aH.has(r)&&ak.EventSource){if(az.has(r))return;let e={src:null,host:i,clientKey:o,headers:s,cb:t=>{try{if("features-updated"===t.type){let e=aj.get(r);e&&e.forEach(e=>{a1(e)})}else if("features"===t.type){let e=JSON.parse(t.data);aY(r,n,e)}e.errors=0}catch(t){a6(e)}},errors:0,state:"active"};az.set(r,e),a3(e)}}function a6(e){if("idle"!==e.state&&(e.errors++,e.errors>3||e.src&&2===e.src.readyState)){let t=Math.pow(3,e.errors-3)*(1e3+1e3*Math.random());a8(e),setTimeout(()=>{["idle","active"].includes(e.state)||a3(e)},Math.min(t,3e5))}}function a8(e){e.src&&(e.src.onopen=null,e.src.onerror=null,e.src.close(),e.src=null,"active"===e.state&&(e.state="disabled"))}function a3(e){e.src=aU.eventSourceCall({host:e.host,clientKey:e.clientKey,headers:e.headers}),e.state="active",e.src.addEventListener("features",e.cb),e.src.addEventListener("features-updated",e.cb),e.src.onerror=()=>a6(e),e.src.onopen=()=>{e.errors=0}}function a5(e,t){a8(e),az.delete(t)}function a4(e,t){if(t.streaming){if(!e.getClientKey())throw Error("Must specify clientKey to enable streaming");t.payload&&a2(e,!0),function(e){let t=aQ(e),r=aj.get(t)||new Set;r.add(e),aj.set(t,r)}(e)}}let a7={};function a9(e,t,r){for(let[n,i]of(r=r||{},Object.entries(t)))switch(n){case"$or":if(!ur(e,i,r))return!1;break;case"$nor":if(ur(e,i,r))return!1;break;case"$and":if(!function(e,t,r){for(let n=0;n<t.length;n++)if(!a9(e,t[n],r))return!1;return!0}(e,i,r))return!1;break;case"$not":if(a9(e,i,r))return!1;break;default:if(!function e(t,r,n){if("string"==typeof t)return r+""===t;if("number"==typeof t)return 1*r===t;if("boolean"==typeof t)return null!==r&&!!r===t;if(null===t)return null===r;if(Array.isArray(t)||!ue(t))return JSON.stringify(r)===JSON.stringify(t);for(let i in t)if(!function(t,r,n,i){switch(t){case"$veq":return aR(r)===aR(n);case"$vne":return aR(r)!==aR(n);case"$vgt":return aR(r)>aR(n);case"$vgte":return aR(r)>=aR(n);case"$vlt":return aR(r)<aR(n);case"$vlte":return aR(r)<=aR(n);case"$eq":return r===n;case"$ne":return r!==n;case"$lt":return r<n;case"$lte":return r<=n;case"$gt":return r>n;case"$gte":return r>=n;case"$exists":return n?null!=r:null==r;case"$in":if(!Array.isArray(n))return!1;return ut(r,n);case"$inGroup":return ut(r,i[n]||[]);case"$notInGroup":return!ut(r,i[n]||[]);case"$nin":if(!Array.isArray(n))return!1;return!ut(r,n);case"$not":return!e(n,r,i);case"$size":if(!Array.isArray(r))return!1;return e(n,r.length,i);case"$elemMatch":return function(t,r,n){if(!Array.isArray(t))return!1;let i=ue(r)?t=>e(r,t,n):e=>a9(e,r,n);for(let e=0;e<t.length;e++)if(t[e]&&i(t[e]))return!0;return!1}(r,n,i);case"$all":if(!Array.isArray(r))return!1;for(let t=0;t<n.length;t++){let s=!1;for(let o=0;o<r.length;o++)if(e(n[t],r[o],i)){s=!0;break}if(!s)return!1}return!0;case"$regex":try{return(a7[n]||(a7[n]=new RegExp(n.replace(/([^\\])\//g,"$1\\/"))),a7[n]).test(r)}catch(e){return!1}case"$type":return function(e){if(null===e)return"null";if(Array.isArray(e))return"array";let t=typeof e;return["string","number","boolean","object","undefined"].includes(t)?t:"unknown"}(r)===n;default:return console.error("Unknown operator: "+t),!1}}(i,r,t[i],n))return!1;return!0}(i,function(e,t){let r=t.split("."),n=e;for(let e=0;e<r.length;e++){if(!n||"object"!=typeof n||!(r[e]in n))return null;n=n[r[e]]}return n}(e,n),r))return!1}return!0}function ue(e){let t=Object.keys(e);return t.length>0&&t.filter(e=>"$"===e[0]).length===t.length}function ut(e,t){return Array.isArray(e)?e.some(e=>t.includes(e)):t.includes(e)}function ur(e,t,r){if(!t.length)return!0;for(let n=0;n<t.length;n++)if(a9(e,t[n],r))return!0;return!1}async function un(e){try{await e()}catch(e){}}function ui(e,t,r){if(e.user.trackedExperiments){let n=ub(t,r);if(e.user.trackedExperiments.has(n))return[];e.user.trackedExperiments.add(n)}e.user.enableDevMode&&e.user.devLogs&&e.user.devLogs.push({experiment:t,result:r,timestamp:Date.now().toString(),logType:"experiment"});let n=[];if(e.global.trackingCallback){let i=e.global.trackingCallback;n.push(un(()=>i(t,r,e.user)))}if(e.user.trackingCallback){let i=e.user.trackingCallback;n.push(un(()=>i(t,r)))}if(e.global.eventLogger){let i=e.global.eventLogger;n.push(un(()=>i("Experiment Viewed",{experimentId:t.key,variationId:r.key,hashAttribute:r.hashAttribute,hashValue:r.hashValue},e.user)))}return n}function us(e,t){if(t.stack.evaluatedFeatures.has(e))return ua(t,e,null,"cyclicPrerequisite");t.stack.evaluatedFeatures.add(e),t.stack.id=e;let r=function(e){let t=new Map;return e.global.forcedFeatureValues&&e.global.forcedFeatureValues.forEach((e,r)=>t.set(r,e)),e.user.forcedFeatureValues&&e.user.forcedFeatureValues.forEach((e,r)=>t.set(r,e)),t}(t);if(r.has(e))return ua(t,e,r.get(e),"override");if(!t.global.features||!t.global.features[e])return ua(t,e,null,"unknownFeature");let n=t.global.features[e];if(n.rules){let r=new Set(t.stack.evaluatedFeatures);e:for(let i of n.rules){if(i.parentConditions)for(let n of i.parentConditions){t.stack.evaluatedFeatures=new Set(r);let i=us(n.id,t);if("cyclicPrerequisite"===i.source)return ua(t,e,null,"cyclicPrerequisite");let s={value:i.value},o=a9(s,n.condition||{});if(!o){if(n.gate)return ua(t,e,null,"prerequisite");continue e}}if(i.filters&&uc(i.filters,t))continue;if("force"in i){if(i.condition&&!ul(i.condition,t)||!function(e,t,r,n,i,s,o){if(!i&&void 0===s)return!0;if(!i&&0===s)return!1;let{hashValue:a}=uh(e,r,n);if(!a)return!1;let u=ax(t,a,o||1);return null!==u&&(i?aI(u,i):void 0===s||u<=s)}(t,i.seed||e,i.hashAttribute,t.user.saveStickyBucketAssignmentDoc&&!i.disableStickyBucketing?i.fallbackAttribute:void 0,i.range,i.coverage,i.hashVersion))continue;return i.tracks&&i.tracks.forEach(e=>{let r=ui(t,e.experiment,e.result);!r.length&&t.global.saveDeferredTrack&&t.global.saveDeferredTrack({experiment:e.experiment,result:e.result})}),ua(t,e,i.force,"force",i.id)}if(!i.variations)continue;let n={variations:i.variations,key:i.key||e};"coverage"in i&&(n.coverage=i.coverage),i.weights&&(n.weights=i.weights),i.hashAttribute&&(n.hashAttribute=i.hashAttribute),i.fallbackAttribute&&(n.fallbackAttribute=i.fallbackAttribute),i.disableStickyBucketing&&(n.disableStickyBucketing=i.disableStickyBucketing),void 0!==i.bucketVersion&&(n.bucketVersion=i.bucketVersion),void 0!==i.minBucketVersion&&(n.minBucketVersion=i.minBucketVersion),i.namespace&&(n.namespace=i.namespace),i.meta&&(n.meta=i.meta),i.ranges&&(n.ranges=i.ranges),i.name&&(n.name=i.name),i.phase&&(n.phase=i.phase),i.seed&&(n.seed=i.seed),i.hashVersion&&(n.hashVersion=i.hashVersion),i.filters&&(n.filters=i.filters),i.condition&&(n.condition=i.condition);let{result:s}=uo(n,e,t);if(t.global.onExperimentEval&&t.global.onExperimentEval(n,s),s.inExperiment&&!s.passthrough)return ua(t,e,s.value,"experiment",i.id,n,s)}}return ua(t,e,void 0===n.defaultValue?null:n.defaultValue,"defaultValue")}function uo(e,t,r){let n=e.key,i=e.variations.length;if(i<2||!1===r.global.enabled||!1===r.user.enabled||(e=function(e,t){let r=e.key,n=t.global.overrides;return n&&n[r]&&"string"==typeof(e=Object.assign({},e,n[r])).url&&(e.url=aT(e.url)),e}(e,r)).urlPatterns&&!aO(r.user.url||"",e.urlPatterns))return{result:ud(r,e,-1,!1,t)};let s=function(e,t,r){if(!t)return null;let n=t.split("?")[1];if(!n)return null;let i=n.replace(/#.*/,"").split("&").map(e=>e.split("=",2)).filter(t=>{let[r]=t;return r===e}).map(e=>{let[,t]=e;return parseInt(t)});return i.length>0&&i[0]>=0&&i[0]<r?i[0]:null}(n,r.user.url||"",i);if(null!==s)return{result:ud(r,e,s,!1,t)};let o=r.global.forcedVariations&&r.user.forcedVariations?{...r.global.forcedVariations,...r.user.forcedVariations}:r.global.forcedVariations?r.global.forcedVariations:r.user.forcedVariations?r.user.forcedVariations:{};if(n in o){let i=o[n];return{result:ud(r,e,i,!1,t)}}if("draft"===e.status||!1===e.active)return{result:ud(r,e,-1,!1,t)};let{hashAttribute:a,hashValue:u}=uh(r,e.hashAttribute,r.user.saveStickyBucketAssignmentDoc&&!e.disableStickyBucketing?e.fallbackAttribute:void 0);if(!u)return{result:ud(r,e,-1,!1,t)};let l=-1,c=!1,d=!1;if(r.user.saveStickyBucketAssignmentDoc&&!e.disableStickyBucketing){let{variation:t,versionIsBlocked:n}=function(e){let{ctx:t,expKey:r,expBucketVersion:n,expHashAttribute:i,expFallbackAttribute:s,expMinBucketVersion:o,expMeta:a}=e;n=n||0,o=o||0,i=i||"id",a=a||[];let u=uf(r,n),l=function(e,t,r){if(!e.user.stickyBucketAssignmentDocs)return{};let{hashAttribute:n,hashValue:i}=uh(e,t),s=up(n,aP(i)),{hashAttribute:o,hashValue:a}=uh(e,r),u=a?up(o,aP(a)):null,l={};return u&&e.user.stickyBucketAssignmentDocs[u]&&Object.assign(l,e.user.stickyBucketAssignmentDocs[u].assignments||{}),e.user.stickyBucketAssignmentDocs[s]&&Object.assign(l,e.user.stickyBucketAssignmentDocs[s].assignments||{}),l}(t,i,s);if(o>0)for(let e=0;e<=o;e++){let t=uf(r,e);if(void 0!==l[t])return{variation:-1,versionIsBlocked:!0}}let c=l[u];if(void 0===c)return{variation:-1};let d=a.findIndex(e=>e.key===c);return d<0?{variation:-1}:{variation:d}}({ctx:r,expKey:e.key,expBucketVersion:e.bucketVersion,expHashAttribute:e.hashAttribute,expFallbackAttribute:e.fallbackAttribute,expMinBucketVersion:e.minBucketVersion,expMeta:e.meta});c=t>=0,l=t,d=!!n}if(!c){if(e.filters){if(uc(e.filters,r))return{result:ud(r,e,-1,!1,t)}}else if(e.namespace&&!function(e,t){let r=ax("__"+t[0],e,1);return null!==r&&r>=t[1]&&r<t[2]}(u,e.namespace))return{result:ud(r,e,-1,!1,t)};if(e.include&&!function(e){try{return e()}catch(e){return console.error(e),!1}}(e.include)||e.condition&&!ul(e.condition,r))return{result:ud(r,e,-1,!1,t)};if(e.parentConditions){let n=new Set(r.stack.evaluatedFeatures);for(let i of e.parentConditions){r.stack.evaluatedFeatures=new Set(n);let s=us(i.id,r);if("cyclicPrerequisite"===s.source)return{result:ud(r,e,-1,!1,t)};let o={value:s.value};if(!a9(o,i.condition||{}))return{result:ud(r,e,-1,!1,t)}}}if(e.groups&&!function(e,t){let r=t.global.groups||{};for(let t=0;t<e.length;t++)if(r[e[t]])return!0;return!1}(e.groups,r))return{result:ud(r,e,-1,!1,t)}}if(e.url&&!function(e,t){let r=t.user.url;if(!r)return!1;let n=r.replace(/^https?:\/\//,"").replace(/^[^/]*\//,"/");return!!(e.test(r)||e.test(n))}(e.url,r))return{result:ud(r,e,-1,!1,t)};let h=ax(e.seed||n,u,e.hashVersion||1);if(null===h)return{result:ud(r,e,-1,!1,t)};if(!c){let t=e.ranges||function(e,t,r){(t=void 0===t?1:t)<0?t=0:t>1&&(t=1);let n=e<=0?[]:Array(e).fill(1/e);(r=r||n).length!==e&&(r=n);let i=r.reduce((e,t)=>t+e,0);(i<.99||i>1.01)&&(r=n);let s=0;return r.map(e=>{let r=s;return s+=e,[r,r+t*e]})}(i,void 0===e.coverage?1:e.coverage,e.weights);l=function(e,t){for(let r=0;r<t.length;r++)if(aI(e,t[r]))return r;return -1}(h,t)}if(d)return{result:ud(r,e,-1,!1,t,void 0,!0)};if(l<0)return{result:ud(r,e,-1,!1,t)};if("force"in e)return{result:ud(r,e,void 0===e.force?-1:e.force,!1,t)};if(r.global.qaMode||r.user.qaMode||"stopped"===e.status)return{result:ud(r,e,-1,!1,t)};let f=ud(r,e,l,!0,t,h,c);if(r.user.saveStickyBucketAssignmentDoc&&!e.disableStickyBucketing){let{changed:t,key:n,doc:i}=function(e,t,r,n){let i=up(t,r),s=e.user.stickyBucketAssignmentDocs&&e.user.stickyBucketAssignmentDocs[i]&&e.user.stickyBucketAssignmentDocs[i].assignments||{},o={...s,...n},a=JSON.stringify(s)!==JSON.stringify(o);return{key:i,doc:{attributeName:t,attributeValue:r,assignments:o},changed:a}}(r,a,aP(u),{[uf(e.key,e.bucketVersion)]:f.key});t&&(r.user.stickyBucketAssignmentDocs=r.user.stickyBucketAssignmentDocs||{},r.user.stickyBucketAssignmentDocs[n]=i,r.user.saveStickyBucketAssignmentDoc(i))}let p=ui(r,e,f);0===p.length&&r.global.saveDeferredTrack&&r.global.saveDeferredTrack({experiment:e,result:f});let g=p.length?1===p.length?p[0]:Promise.all(p).then(()=>{}):void 0;return"changeId"in e&&e.changeId&&r.global.recordChangeId&&r.global.recordChangeId(e.changeId),{result:f,trackingCall:g}}function ua(e,t,r,n,i,s,o){let a={value:r,on:!!r,off:!r,source:n,ruleId:i||""};return s&&(a.experiment=s),o&&(a.experimentResult=o),"override"!==n&&function(e,t,r){if(e.user.trackedFeatureUsage){let n=JSON.stringify(r.value);if(e.user.trackedFeatureUsage[t]===n)return;e.user.trackedFeatureUsage[t]=n,e.user.enableDevMode&&e.user.devLogs&&e.user.devLogs.push({featureKey:t,result:r,timestamp:Date.now().toString(),logType:"feature"})}if(e.global.onFeatureUsage){let n=e.global.onFeatureUsage;un(()=>n(t,r,e.user))}if(e.user.onFeatureUsage){let n=e.user.onFeatureUsage;un(()=>n(t,r))}if(e.global.eventLogger){let n=e.global.eventLogger;un(()=>n("Feature Evaluated",{feature:t,source:r.source,value:r.value,ruleId:"defaultValue"===r.source?"$default":r.ruleId||"",variationId:r.experimentResult?r.experimentResult.key:""},e.user))}}(e,t,a),a}function uu(e){return{...e.user.attributes,...e.user.attributeOverrides}}function ul(e,t){return a9(uu(t),e,t.global.savedGroups||{})}function uc(e,t){return e.some(e=>{let{hashValue:r}=uh(t,e.attribute);if(!r)return!0;let n=ax(e.seed,r,e.hashVersion||2);return null===n||!e.ranges.some(e=>aI(n,e))})}function ud(e,t,r,n,i,s,o){let a=!0;(r<0||r>=t.variations.length)&&(r=0,a=!1);let{hashAttribute:u,hashValue:l}=uh(e,t.hashAttribute,e.user.saveStickyBucketAssignmentDoc&&!t.disableStickyBucketing?t.fallbackAttribute:void 0),c=t.meta?t.meta[r]:{},d={key:c.key||""+r,featureId:i,inExperiment:a,hashUsed:n,variationId:r,value:t.variations[r],hashAttribute:u,hashValue:l,stickyBucketUsed:!!o};return c.name&&(d.name=c.name),void 0!==s&&(d.bucket=s),c.passthrough&&(d.passthrough=c.passthrough),d}function uh(e,t,r){let n=t||"id",i="",s=uu(e);return s[n]&&(i=s[n]),!i&&r&&(s[r]&&(i=s[r]),i&&(n=r)),{hashAttribute:n,hashValue:i}}function uf(e,t){return t=t||0,`${e}__${t}`}function up(e,t){return`${e}||${t}`}async function ug(e,t,r){let n=uy(e,r);return t.getAllAssignments(n)}function uy(e,t){let r={},n=function(e,t){let r=new Set,n=t&&t.features?t.features:e.global.features||{},i=t&&t.experiments?t.experiments:e.global.experiments||[];return Object.keys(n).forEach(e=>{let t=n[e];if(t.rules)for(let e of t.rules)e.variations&&(r.add(e.hashAttribute||"id"),e.fallbackAttribute&&r.add(e.fallbackAttribute))}),i.map(e=>{r.add(e.hashAttribute||"id"),e.fallbackAttribute&&r.add(e.fallbackAttribute)}),Array.from(r)}(e,t);return n.forEach(t=>{let{hashValue:n}=uh(e,t);r[t]=aP(n)}),r}async function um(e,t,r){if((e={...e}).encryptedFeatures){try{e.features=JSON.parse(await aC(e.encryptedFeatures,t,r))}catch(e){console.error(e)}delete e.encryptedFeatures}if(e.encryptedExperiments){try{e.experiments=JSON.parse(await aC(e.encryptedExperiments,t,r))}catch(e){console.error(e)}delete e.encryptedExperiments}if(e.encryptedSavedGroups){try{e.savedGroups=JSON.parse(await aC(e.encryptedSavedGroups,t,r))}catch(e){console.error(e)}delete e.encryptedSavedGroups}return e}function ub(e,t){return t.hashAttribute+t.hashValue+e.key+t.variationId}let u_="undefined"!=typeof window&&"undefined"!=typeof document,uv=function(){let e;try{e="1.5.1"}catch(t){e=""}return e}();class uw{constructor(e){if(e=e||{},this.version=uv,this._options=this.context=e,this._renderer=e.renderer||null,this._trackedExperiments=new Set,this._completedChangeIds=new Set,this._trackedFeatures={},this.debug=!!e.debug,this._subscriptions=new Set,this.ready=!1,this._assigned=new Map,this._activeAutoExperiments=new Map,this._triggeredExpKeys=new Set,this._initialized=!1,this._redirectedUrl="",this._deferredTrackingCalls=new Map,this._autoExperimentsAllowed=!e.disableExperimentsOnLoad,this._destroyCallbacks=[],this.logs=[],this.log=this.log.bind(this),this._saveDeferredTrack=this._saveDeferredTrack.bind(this),this._fireSubscriptions=this._fireSubscriptions.bind(this),this._recordChangedId=this._recordChangedId.bind(this),e.remoteEval){if(e.decryptionKey)throw Error("Encryption is not available for remoteEval");if(!e.clientKey)throw Error("Missing clientKey");let t=!1;try{t=!!new URL(e.apiHost||"").hostname.match(/growthbook\.io$/i)}catch(e){}if(t)throw Error("Cannot use remoteEval on GrowthBook Cloud")}else if(e.cacheKeyAttributes)throw Error("cacheKeyAttributes are only used for remoteEval");if(e.stickyBucketService){let t=e.stickyBucketService;this._saveStickyBucketAssignmentDoc=e=>t.saveAssignments(e)}if(e.plugins)for(let t of e.plugins)t(this);if(e.features&&(this.ready=!0),u_&&e.enableDevMode&&(window._growthbook=this,document.dispatchEvent(new Event("gbloaded"))),e.experiments&&(this.ready=!0,this._updateAllAutoExperiments()),this._options.stickyBucketService&&this._options.stickyBucketAssignmentDocs)for(let e in this._options.stickyBucketAssignmentDocs){let t=this._options.stickyBucketAssignmentDocs[e];t&&this._options.stickyBucketService.saveAssignments(t).catch(()=>{})}this.ready&&this.refreshStickyBuckets(this.getPayload())}async setPayload(e){this._payload=e;let t=await um(e,this._options.decryptionKey);this._decryptedPayload=t,await this.refreshStickyBuckets(t),t.features&&(this._options.features=t.features),t.savedGroups&&(this._options.savedGroups=t.savedGroups),t.experiments&&(this._options.experiments=t.experiments,this._updateAllAutoExperiments()),this.ready=!0,this._render()}initSync(e){this._initialized=!0;let t=e.payload;if(t.encryptedExperiments||t.encryptedFeatures)throw Error("initSync does not support encrypted payloads");return this._options.stickyBucketService&&!this._options.stickyBucketAssignmentDocs&&(this._options.stickyBucketAssignmentDocs=this.generateStickyBucketAssignmentDocsSync(this._options.stickyBucketService,t)),this._payload=t,this._decryptedPayload=t,t.features&&(this._options.features=t.features),t.experiments&&(this._options.experiments=t.experiments,this._updateAllAutoExperiments()),this.ready=!0,a4(this,e),this}async init(e){if(this._initialized=!0,(e=e||{}).cacheSettings&&(Object.assign(aD,e.cacheSettings),aD.backgroundSync||(aH.clear(),az.forEach(a5),aj.clear(),aU.stopIdleListener())),e.payload)return await this.setPayload(e.payload),a4(this,e),{success:!0,source:"init"};{let{data:t,...r}=await this._refresh({...e,allowStale:!0});return a4(this,e),await this.setPayload(t||{}),r}}async loadFeatures(e){e=e||{},await this.init({skipCache:e.skipCache,timeout:e.timeout,streaming:(this._options.backgroundSync??!0)&&(e.autoRefresh||this._options.subscribeToChanges)})}async refreshFeatures(e){let t=await this._refresh({...e||{},allowStale:!1});t.data&&await this.setPayload(t.data)}getApiInfo(){return[this.getApiHosts().apiHost,this.getClientKey()]}getApiHosts(){return function(e){let t=e.apiHost||"https://cdn.growthbook.io";return{apiHost:t.replace(/\/*$/,""),streamingHost:(e.streamingHost||t).replace(/\/*$/,""),apiRequestHeaders:e.apiHostRequestHeaders,streamingHostRequestHeaders:e.streamingHostRequestHeaders}}(this._options)}getClientKey(){return this._options.clientKey||""}getPayload(){return this._payload||{features:this.getFeatures(),experiments:this.getExperiments()}}getDecryptedPayload(){return this._decryptedPayload||this.getPayload()}isRemoteEval(){return this._options.remoteEval||!1}getCacheKeyAttributes(){return this._options.cacheKeyAttributes}async _refresh(e){let{timeout:t,skipCache:r,allowStale:n,streaming:i}=e;if(!this._options.clientKey)throw Error("Missing clientKey");return aW({instance:this,timeout:t,skipCache:r||this._options.disableCache,allowStale:n,backgroundSync:i??this._options.backgroundSync??!0})}_render(){if(this._renderer)try{this._renderer()}catch(e){console.error("Failed to render",e)}}setFeatures(e){this._options.features=e,this.ready=!0,this._render()}async setEncryptedFeatures(e,t,r){let n=await aC(e,t||this._options.decryptionKey,r);this.setFeatures(JSON.parse(n))}setExperiments(e){this._options.experiments=e,this.ready=!0,this._updateAllAutoExperiments()}async setEncryptedExperiments(e,t,r){let n=await aC(e,t||this._options.decryptionKey,r);this.setExperiments(JSON.parse(n))}async setAttributes(e){if(this._options.attributes=e,this._options.stickyBucketService&&await this.refreshStickyBuckets(),this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}async updateAttributes(e){return this.setAttributes({...this._options.attributes,...e})}async setAttributeOverrides(e){if(this._options.attributeOverrides=e,this._options.stickyBucketService&&await this.refreshStickyBuckets(),this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}async setForcedVariations(e){if(this._options.forcedVariations=e||{},this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}setForcedFeatures(e){this._options.forcedFeatureValues=e,this._render()}async setURL(e){if(e!==this._options.url){if(this._options.url=e,this._redirectedUrl="",this._options.remoteEval){await this._refreshForRemoteEval(),this._updateAllAutoExperiments(!0);return}this._updateAllAutoExperiments(!0)}}getAttributes(){return{...this._options.attributes,...this._options.attributeOverrides}}getForcedVariations(){return this._options.forcedVariations||{}}getForcedFeatures(){return this._options.forcedFeatureValues||new Map}getStickyBucketAssignmentDocs(){return this._options.stickyBucketAssignmentDocs||{}}getUrl(){return this._options.url||""}getFeatures(){return this._options.features||{}}getExperiments(){return this._options.experiments||[]}getCompletedChangeIds(){return Array.from(this._completedChangeIds)}subscribe(e){return this._subscriptions.add(e),()=>{this._subscriptions.delete(e)}}async _refreshForRemoteEval(){if(!this._options.remoteEval||!this._initialized)return;let e=await this._refresh({allowStale:!1});e.data&&await this.setPayload(e.data)}getAllResults(){return new Map(this._assigned)}onDestroy(e){this._destroyCallbacks.push(e)}isDestroyed(){return!!this._destroyed}destroy(){var e;this._destroyed=!0,this._destroyCallbacks.forEach(e=>{try{e()}catch(e){console.error(e)}}),this._subscriptions.clear(),this._assigned.clear(),this._trackedExperiments.clear(),this._completedChangeIds.clear(),this._deferredTrackingCalls.clear(),this._trackedFeatures={},this._destroyCallbacks=[],this._payload=void 0,this._saveStickyBucketAssignmentDoc=void 0,e=this,aj.forEach(t=>t.delete(e)),this.logs=[],u_&&window._growthbook===this&&delete window._growthbook,this._activeAutoExperiments.forEach(e=>{e.undo()}),this._activeAutoExperiments.clear(),this._triggeredExpKeys.clear()}setRenderer(e){this._renderer=e}forceVariation(e,t){if(this._options.forcedVariations=this._options.forcedVariations||{},this._options.forcedVariations[e]=t,this._options.remoteEval){this._refreshForRemoteEval();return}this._updateAllAutoExperiments(),this._render()}run(e){let{result:t}=uo(e,null,this._getEvalContext());return this._fireSubscriptions(e,t),t}triggerExperiment(e){if(this._triggeredExpKeys.add(e),!this._options.experiments)return null;let t=this._options.experiments.filter(t=>t.key===e);return t.map(e=>this._runAutoExperiment(e)).filter(e=>null!==e)}triggerAutoExperiments(){this._autoExperimentsAllowed=!0,this._updateAllAutoExperiments(!0)}_getEvalContext(){return{user:this._getUserContext(),global:this._getGlobalContext(),stack:{evaluatedFeatures:new Set}}}_getUserContext(){return{attributes:this._options.user?{...this._options.user,...this._options.attributes}:this._options.attributes,enableDevMode:this._options.enableDevMode,blockedChangeIds:this._options.blockedChangeIds,stickyBucketAssignmentDocs:this._options.stickyBucketAssignmentDocs,url:this._getContextUrl(),forcedVariations:this._options.forcedVariations,forcedFeatureValues:this._options.forcedFeatureValues,attributeOverrides:this._options.attributeOverrides,saveStickyBucketAssignmentDoc:this._saveStickyBucketAssignmentDoc,trackingCallback:this._options.trackingCallback,onFeatureUsage:this._options.onFeatureUsage,devLogs:this.logs,trackedExperiments:this._trackedExperiments,trackedFeatureUsage:this._trackedFeatures}}_getGlobalContext(){return{features:this._options.features,experiments:this._options.experiments,log:this.log,enabled:this._options.enabled,qaMode:this._options.qaMode,savedGroups:this._options.savedGroups,groups:this._options.groups,overrides:this._options.overrides,onExperimentEval:this._subscriptions.size>0?this._fireSubscriptions:void 0,recordChangeId:this._recordChangedId,saveDeferredTrack:this._saveDeferredTrack,eventLogger:this._options.eventLogger}}_runAutoExperiment(e,t){let r,n;let i=this._activeAutoExperiments.get(e);if(e.manual&&!this._triggeredExpKeys.has(e.key)&&!i)return null;let s=this._isAutoExperimentBlockedByContext(e);s?r=ud(this._getEvalContext(),e,-1,!1,""):({result:r,trackingCall:n}=uo(e,null,this._getEvalContext()),this._fireSubscriptions(e,r));let o=JSON.stringify(r.value);if(!t&&r.inExperiment&&i&&i.valueHash===o)return r;if(i&&this._undoActiveAutoExperiment(e),r.inExperiment){let t=aM(e);if("redirect"===t&&r.value.urlRedirect&&e.urlPatterns){let t=e.persistQueryString?function(e,t){let r,n;try{r=new URL(e),n=new URL(t)}catch(e){return console.error(`Unable to merge query strings: ${e}`),t}return r.searchParams.forEach((e,t)=>{n.searchParams.has(t)||n.searchParams.set(t,e)}),n.toString()}(this._getContextUrl(),r.value.urlRedirect):r.value.urlRedirect;if(aO(t,e.urlPatterns))return this.log("Skipping redirect because original URL matches redirect URL",{id:e.key}),r;this._redirectedUrl=t;let{navigate:i,delay:s}=this._getNavigateFunction();if(i){if(u_)Promise.all([...n?[aN(n,this._options.maxNavigateDelay??1e3)]:[],new Promise(e=>window.setTimeout(e,this._options.navigateDelay??s))]).then(()=>{try{i(t)}catch(e){console.error(e)}});else try{i(t)}catch(e){console.error(e)}}}else if("visual"===t){let t=this._options.applyDomChangesCallback?this._options.applyDomChangesCallback(r.value):this._applyDOMChanges(r.value);t&&this._activeAutoExperiments.set(e,{undo:t,valueHash:o})}}return r}_undoActiveAutoExperiment(e){let t=this._activeAutoExperiments.get(e);t&&(t.undo(),this._activeAutoExperiments.delete(e))}_updateAllAutoExperiments(e){if(!this._autoExperimentsAllowed)return;let t=this._options.experiments||[],r=new Set(t);for(let n of(this._activeAutoExperiments.forEach((e,t)=>{r.has(t)||(e.undo(),this._activeAutoExperiments.delete(t))}),t)){let t=this._runAutoExperiment(n,e);if(null!=t&&t.inExperiment&&"redirect"===aM(n))break}}_fireSubscriptions(e,t){let r=e.key,n=this._assigned.get(r);n&&n.result.inExperiment===t.inExperiment&&n.result.variationId===t.variationId||(this._assigned.set(r,{experiment:e,result:t}),this._subscriptions.forEach(r=>{try{r(e,t)}catch(e){console.error(e)}}))}_recordChangedId(e){this._completedChangeIds.add(e)}isOn(e){return this.evalFeature(e).on}isOff(e){return this.evalFeature(e).off}getFeatureValue(e,t){let r=this.evalFeature(e).value;return null===r?t:r}feature(e){return this.evalFeature(e)}evalFeature(e){return us(e,this._getEvalContext())}log(e,t){this.debug&&(this._options.log?this._options.log(e,t):console.log(e,t))}getDeferredTrackingCalls(){return Array.from(this._deferredTrackingCalls.values())}setDeferredTrackingCalls(e){this._deferredTrackingCalls=new Map(e.filter(e=>e&&e.experiment&&e.result).map(e=>[ub(e.experiment,e.result),e]))}async fireDeferredTrackingCalls(){if(!this._options.trackingCallback)return;let e=[];this._deferredTrackingCalls.forEach(t=>{t&&t.experiment&&t.result?e.push(this._options.trackingCallback(t.experiment,t.result)):console.error("Invalid deferred tracking call",{call:t})}),this._deferredTrackingCalls.clear(),await Promise.all(e)}setTrackingCallback(e){this._options.trackingCallback=e,this.fireDeferredTrackingCalls()}setEventLogger(e){this._options.eventLogger=e}async logEvent(e,t){if(this._destroyed){console.error("Cannot log event to destroyed GrowthBook instance");return}if(this._options.enableDevMode&&this.logs.push({eventName:e,properties:t,timestamp:Date.now().toString(),logType:"event"}),this._options.eventLogger)try{await this._options.eventLogger(e,t||{},this._getUserContext())}catch(e){console.error(e)}else console.error("No event logger configured")}_saveDeferredTrack(e){this._deferredTrackingCalls.set(ub(e.experiment,e.result),e)}_getContextUrl(){return this._options.url||(u_?window.location.href:"")}_isAutoExperimentBlockedByContext(e){let t=aM(e);if("visual"===t){if(this._options.disableVisualExperiments||this._options.disableJsInjection&&e.variations.some(e=>e.js))return!0}else{if("redirect"!==t||this._options.disableUrlRedirectExperiments)return!0;try{let t=new URL(this._getContextUrl());for(let r of e.variations){if(!r||!r.urlRedirect)continue;let e=new URL(r.urlRedirect);if(this._options.disableCrossOriginUrlRedirectExperiments&&(e.protocol!==t.protocol||e.host!==t.host))return!0}}catch(t){return this.log("Error parsing current or redirect URL",{id:e.key,error:t}),!0}}return!!(e.changeId&&(this._options.blockedChangeIds||[]).includes(e.changeId))}getRedirectUrl(){return this._redirectedUrl}_getNavigateFunction(){return this._options.navigate?{navigate:this._options.navigate,delay:0}:u_?{navigate:e=>{window.location.replace(e)},delay:100}:{navigate:null,delay:0}}_applyDOMChanges(e){if(!u_)return;let t=[];if(e.css){let r=document.createElement("style");r.innerHTML=e.css,document.head.appendChild(r),t.push(()=>r.remove())}if(e.js){let r=document.createElement("script");r.innerHTML=e.js,this._options.jsInjectionNonce&&(r.nonce=this._options.jsInjectionNonce),document.head.appendChild(r),t.push(()=>r.remove())}return e.domMutations&&e.domMutations.forEach(e=>{t.push(aS.declarative(e).revert)}),()=>{t.forEach(e=>e())}}async refreshStickyBuckets(e){if(this._options.stickyBucketService){let t=this._getEvalContext(),r=await ug(t,this._options.stickyBucketService,e);this._options.stickyBucketAssignmentDocs=r}}generateStickyBucketAssignmentDocsSync(e,t){if(!("getAllAssignmentsSync"in e)){console.error("generating StickyBucketAssignmentDocs docs requires StickyBucketServiceSync");return}let r=this._getEvalContext(),n=uy(r,t);return e.getAllAssignmentsSync(n)}inDevMode(){return!!this._options.enableDevMode}}iq("setting-slice");let uE={twitter:!0,gmgn:!0,solscan:!0,axiom:!0,photon:!0,trading:!0,summary:!1},uS={twitter:!0,gmgn:!0,solscan:!0,axiom:!0,photon:!0,trading:!1,summary:!0},uk={labelType:"primary",theme:"dark",platformTheme:{twitter:"dark",axiom:"dark",gmgn:"dark",solscan:"dark",photon:"dark"},language:"en",altWalletLevel:"low",remoteFeatureFlags:uE,userFeatureFlags:uS,tradingPanelSettings:{isOpen:!1,position:{x:0,y:0},isSellBySol:!1,quickBuySolSets:[.01,.1,1,10],quickSellSolSets:[.01,.1,1,10],quickSellPercentageSets:[1,25,50,100]}},uA=nJ({name:"setting",initialState:uk,reducers:{setLabelType:(e,t)=>{e.labelType=t.payload},setTheme:(e,t)=>{e.theme=t.payload},setPlatformTheme:(e,t)=>{let{platform:r,theme:n}=t.payload,i={...e.platformTheme||{}};n!==i[r]&&(i[r]=n,e.platformTheme=i)},setLanguage:(e,t)=>{e.language=t.payload},setRemoteFeatureFlags:(e,t)=>{e.remoteFeatureFlags=t.payload},setUserFeatureFlag:(e,t)=>{e.userFeatureFlags[t.payload.platform]=t.payload.enabled},setAltWalletLevel:(e,t)=>{e.altWalletLevel=t.payload},setTradingPanelSettings:(e,t)=>{e.tradingPanelSettings={...e.tradingPanelSettings||{},...t.payload}}},selectors:{selectEnabledFeatures:ny(e=>e,e=>{let t={};for(let i in uE){var r,n;!1!==(void 0===(r=e.remoteFeatureFlags)||void 0===r[i]?uE[i]:r[i])&&!1!==(void 0===(n=e.userFeatureFlags)||void 0===n[i]?uS[i]:n[i])&&(t[i]=!0)}return t})}}),{selectEnabledFeatures:ux}=uA.selectors,{setLabelType:uI,setTheme:uT,setPlatformTheme:uO,setLanguage:uB,setRemoteFeatureFlags:uC,setAltWalletLevel:uP,setUserFeatureFlag:uR,setTradingPanelSettings:uL}=uA.actions;var uM=uA.reducer;let uN=iq("growthbookMiddleware"),uD=null,uU=e=>{let t="sdk-yto6eEaZTPrfp9eD";if(!t){uN.debug("GrowthBook clientKey is missing. Skipping remote feature flag initialization.");return}let r=e.getState().account.user?.id??null;(uD=new uw({apiHost:"https://cdn.growthbook.io",clientKey:t,attributes:r?{id:r}:void 0})).init().then(()=>{uq(e)}).catch(e=>{uN.error("GrowthBook init failed",e)})},uj=e=>t=>r=>{let n=t(r);if("account/setAccount"===r.type&&uD){let t=r.payload?.user?.id||null;uD.setAttributes({id:t}),uD.refreshFeatures().then(()=>{uq(e)}).catch(e=>uN.error("GrowthBook refresh failed",e)),uN.debug(`GrowthBook attributes updated with user ID: ${t} trading ${uD.getFeatureValue("frontrun-trading",!1)}`)}return r.type===lz.type&&uD&&(uD.setAttributes({id:null}),uN.debug("GrowthBook attributes cleared")),n},uq=e=>{if(!uD)return;let[t,r,n,i,s,o,a]=[uD.getFeatureValue("frontrun-twitter",!0),uD.getFeatureValue("frontrun-gmgn",!0),uD.getFeatureValue("frontrun-solscan",!0),uD.getFeatureValue("frontrun-axiom",!0),uD.getFeatureValue("frontrun-photon",!0),uD.getFeatureValue("frontrun-trading",!1),uD.getFeatureValue("frontrun-summary",!1)];uN.debug(`growthbook init twitter ${t}; gmgn ${r}; solscan ${n}; axiom ${i}; photon ${s}; trading ${o}; summary ${a}`),e.dispatch(uC({twitter:t,gmgn:r,solscan:n,axiom:i,photon:s,trading:o,summary:a}))},uF=s8({reducerPath:"okxApi",baseQuery:ol("okxCall"),endpoints:e=>({getPortfolio:e.mutation({query:({address:e})=>{let t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)});return{url:"/priapi/v2/wallet/asset/profile/all/explorer",method:"POST",headers:{"content-type":"application/json",devid:t},body:{userUniqueId:"",hideValueless:!0,address:e,forceRefresh:!0,page:1,limit:50,chainIndexes:[501]}}},extraOptions:{skipGlobalErrorHandler:!0},transformResponse:e=>e})})}),{useGetPortfolioMutation:u$}=uF,uz={history:[]},uH=nJ({name:"history",initialState:uz,reducers:{setHistory:(e,t)=>{e.history=t.payload}}}),{setHistory:uW}=uH.actions;var uK=uH.reducer;iq("import-labels-slice");let uV={isSyncing:!1,expiry:null},uG=nJ({name:"importLabels",initialState:uV,reducers:{setIsSyncing:(e,t)=>{e.isSyncing=t.payload,e.expiry=Date.now()+36e5}}}),{setIsSyncing:uQ}=uG.actions;var uJ=uG.reducer;let uZ={email:void 0,name:void 0,loginMethod:void 0,lastLoginAt:void 0},uX=nJ({name:"lastAccount",initialState:uZ,reducers:{setLastAccount:(e,t)=>{t.payload?(e.email=t.payload.email,e.name=t.payload.name,e.loginMethod=t.payload.loginMethod,e.lastLoginAt=t.payload.lastLoginAt||new Date().toISOString()):(e.email=void 0,e.name=void 0,e.loginMethod=void 0,e.lastLoginAt=void 0)}}}),{setLastAccount:uY}=uX.actions;var u0=uX.reducer;let u1=iq("navigation-route-slice"),u2={method:null,path:null,from:null,activeTab:{url:null}},u6=nJ({name:"navigationRoute",initialState:u2,reducers:{setMethod:(e,t)=>{e.method=t.payload},setNavigationRoute:(e,t)=>{e.path=t.payload.path||null,e.from=t.payload.from||null},setActiveTab:(e,t)=>{if(e.activeTab?.url){let r=new URL(e.activeTab.url),n=new URL(t.payload.url);if(r.origin===n.origin&&r.pathname===n.pathname)return}u1.debug("setActiveTab",t.payload.url),e.activeTab=t.payload}}}),{setMethod:u8,setNavigationRoute:u3,setActiveTab:u5}=u6.actions;var u4=u6.reducer;let u7={activeProfile:null,profiles:null,cachedProfiles:null},u9=nJ({name:"profile",initialState:u7,reducers:{setActiveProfile:(e,t)=>{e.activeProfile=t.payload||null},setProfiles:(e,t)=>{e.profiles=t.payload||[]},setCachedProfile:(e,t)=>{(function(e,t,r){e.cachedProfiles||(e.cachedProfiles={});let n=Date.now();e.cachedProfiles[t]={...r,__ts:n},Object.keys(e.cachedProfiles).forEach(t=>{e.cachedProfiles[t].__ts<n-864e5&&delete e.cachedProfiles[t]})})(e,t.payload.screenName,t.payload.profile)},clearCachedProfile:(e,t)=>{e.cachedProfiles&&e.cachedProfiles[t.payload]&&delete e.cachedProfiles[t.payload]},updateProfileWallet:(e,t)=>{if(!e.activeProfile||!e.activeProfile.wallets||!e.activeProfile.wallets.length)return;let r=e.activeProfile.wallets.findIndex(e=>e.address===t.payload.address);-1!==r&&(e.activeProfile.wallets[r]={...e.activeProfile.wallets[r],...t.payload})}}}),{setActiveProfile:le,setProfiles:lt,updateProfileWallet:lr,setCachedProfile:ln,clearCachedProfile:li}=u9.actions;var ls=u9.reducer;let lo={keyword:"",checkedTab:"wallets"},la=nJ({name:"search",initialState:lo,reducers:{setKeyword:(e,t)=>{e.keyword=t.payload},setCheckedTab:(e,t)=>{e.checkedTab=t.payload}}}),{setKeyword:lu,setCheckedTab:ll}=la.actions;var lc=la.reducer;let ld={cachedWallets:null,activeWallet:null,importLabelsSuccess:!1},lh=nJ({name:"wallet",initialState:ld,reducers:{setCachedWallets:(e,t)=>{lb(e,t.payload)},clearCachedWallet:(e,t)=>{e.cachedWallets?.[t.payload]&&delete e.cachedWallets[t.payload]},setActiveWallet:(e,t)=>{e.activeWallet=t.payload,t.payload&&lb(e,{[t.payload.address]:t.payload})},setImportLabelsSuccess:(e,t)=>{e.importLabelsSuccess=t.payload}}}),{setCachedWallets:lf,clearCachedWallet:lp,setActiveWallet:lg,setImportLabelsSuccess:ly}=lh.actions;var lm=lh.reducer;function lb(e,t){let r={...e.cachedWallets||{}},n=Date.now();Object.keys(r).forEach(e=>{r[e].__ts<n-864e5&&delete r[e]}),Object.keys(t).forEach(e=>{r[e]={...t[e]||{},__ts:n}}),e.cachedWallets=r}var l_={},lv={};Object.defineProperty(lv,"__esModule",{value:!0});var lw={};Object.defineProperty(lw,"__esModule",{value:!0}),lw.default=function(e){return{getItem:function(t){return new Promise(function(r,n){chrome.storage[e].get(t,function(e){null==chrome.runtime.lastError?r(e[t]):n()})})},removeItem:function(t){return new Promise(function(r,n){chrome.storage[e].remove(t,function(){null==chrome.runtime.lastError?r():n()})})},setItem:function(t,r){return new Promise(function(n,i){var s;chrome.storage[e].set((t in(s={})?Object.defineProperty(s,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[t]=r,s),function(){null==chrome.runtime.lastError?n():i()})})}}};var lE=lw&&lw.__esModule?lw:{default:lw};lv.default=(0,lE.default)("local");var lS=lI(lv),lk={};Object.defineProperty(lk,"__esModule",{value:!0});var lA=lw&&lw.__esModule?lw:{default:lw};lk.default=(0,lA.default)("sync");var lx=lI(lk);function lI(e){return e&&e.__esModule?e:{default:e}}l_={localStorage:lS.default,syncStorage:lx.default};let lT=iq("genPersistConfig"),lO=async e=>{let t=e.transforms||[];try{let r=await (0,l_.localStorage).getItem(`persist:${e.key}`);if(!r)return lT.debug("LocalStorage: no serialized data "),{};let n={},i=JSON.parse(r);return Object.keys(i).forEach(e=>{n[e]=t.reduceRight((t,r)=>r.out(t,e,i),JSON.parse(i[e]))}),n}catch(e){throw lT.error("redux-persist/getStoredState: Error restoring data",e),e}},lB=e=>({...e,storage:l_.localStorage,getStoredState:lO}),lC=iq("store"),lP={[oc.reducerPath]:void 0,[oJ.reducerPath]:void 0,[oz.reducerPath]:void 0,[oW.reducerPath]:void 0,[uF.reducerPath]:void 0,account:s4,setting:uk,navigationRoute:u2,profile:u7,wallet:ld,error:os,search:lo,history:uz,lastAccount:uZ,importLabels:uV},lR=lB({key:"account",version:1}),lL=lB({key:"lastAccount",version:1}),lM=lB({key:"setting",version:1}),lN=lB({key:"history",version:1}),lD=lB({key:"navigationRoute",version:1}),lU=lB({key:"profile",version:1}),lj=lB({key:"wallet",version:1}),lq=lB({key:"importLabels",version:1}),lF=tZ({[oc.reducerPath]:oc.reducer,[oJ.reducerPath]:oJ.reducer,[oz.reducerPath]:oz.reducer,[oW.reducerPath]:oW.reducer,[uF.reducerPath]:uF.reducer,error:ou,search:lc,account:(0,id.default)(lR,oi),lastAccount:(0,id.default)(lL,u0),setting:(0,id.default)(lM,uM),navigationRoute:(0,id.default)(lD,u4),profile:(0,id.default)(lU,ls),wallet:(0,id.default)(lj,lm),importLabels:(0,id.default)(lq,uJ),history:(0,id.default)(lN,uK)}),l$=lB({key:"root",version:2,migrate:function(e,t){let{debug:r}=t||{};return function(t,r){if(!t)return Promise.resolve(void 0);let n=t._persist&&void 0!==t._persist.version?t._persist.version:-1;if(n===r||n>r)return Promise.resolve(t);let i=Object.keys(e).map(e=>parseInt(e)).filter(e=>r>=e&&e>n).sort((e,t)=>e-t);try{let r=i.reduce((t,r)=>e[r](t),t);return Promise.resolve(r)}catch(e){return Promise.reject(e)}}}({2:e=>{let t={...e};return delete t.interceptor,delete t.recentLabels,t}},{debug:!1}),whitelist:[]}),lz=n_("RESET_ALL"),lH=(0,id.default)(l$,(e,t)=>{let{type:r,...n}=t;return("setting/setPlatformTheme"!==r&&lC.debug("rootReducer",r,n),t.type===lz.type)?lP:lF(e,t)}),lW=function(e){let t,r;let n=nS(),{reducer:i,middleware:s,devTools:o=!0,duplicateMiddlewareCheck:a=!0,preloadedState:u,enhancers:l}=e||{};if("function"==typeof i)t=i;else if(tQ(i))t=tZ(i);else throw Error(n3(1));r="function"==typeof s?s(n):n();let c=tX;o&&(c=nm(nh({trace:!1},"object"==typeof o&&o)));let d=function(...e){return t=>(r,n)=>{let i=t(r,n),s=()=>{throw Error(tW(15))},o={getState:i.getState,dispatch:(e,...t)=>s(e,...t)},a=e.map(e=>e(o));return s=tX(...a)(i.dispatch),{...i,dispatch:s}}}(...r),h=nT(d),f="function"==typeof l?l(h):h(),p=c(...f);return tJ(t,u,p)}({reducer:lH,middleware:e=>e({serializableCheck:{isSerializable:e=>(function(e){let t=typeof e;return null==e||"string"===t||"boolean"===t||"number"===t||Array.isArray(e)||tQ(e)})(e)||e instanceof Date,ignoredActions:[ip,ig,im,ib,i_,iv,iy]},immutableCheck:{warnAfter:128}}).concat(oc.middleware).concat(oJ.middleware).concat(oz.middleware).concat(oW.middleware).concat(uF.middleware).concat(uj),devTools:!1}),lK=function(e,t,r){let n=r||!1,i=tJ(iO,iT,t&&t.enhancer?t.enhancer:void 0),s=e=>{i.dispatch({type:iv,key:e})},o=(t,r,s)=>{let o={type:ig,payload:r,err:s,key:t};e.dispatch(o),i.dispatch(o),"function"==typeof n&&a.getState().bootstrapped&&(n(),n=!1)},a=Object.assign(Object.assign({},i),{purge:()=>{let t=[];return e.dispatch({type:i_,result:e=>{t.push(e)}}),Promise.all(t)},flush:()=>{let t=[];return e.dispatch({type:ip,result:e=>{t.push(e)}}),Promise.all(t)},pause:()=>{e.dispatch({type:im})},persist:()=>{e.dispatch({type:ib,register:s,rehydrate:o})},resync:()=>new Promise(t=>{e.dispatch({type:iy,rehydrate:o,result:()=>t()})})});return t&&t.manualPersist||a.persist(),a}(lW,{manualPersist:!1},()=>{lW.dispatch(ly(!1)),lW.dispatch(lg(null)),lW.dispatch(le(null)),uU(lW)}),lV=e=>async t=>{let{oldValue:r,newValue:n}=t;if(!r||!n)return;let i=JSON.stringify(r)!==JSON.stringify(n);if(i){let t,r;lC.debug(`persistor change detected: ${e.key}. resyncing`);try{t=await e.getStoredState(e)}catch(e){r=e}let n={type:ig,payload:t,key:e.key,err:r};lW.dispatch(n),lK.dispatch(n)}else lC.debug(`persistor no change: ${e.key}`)};new iL({area:"local"}).watch({[`persist:${lR.key}`]:lV(lR),[`persist:${lM.key}`]:lV(lM),[`persist:${lU.key}`]:lV(lU),[`persist:${lj.key}`]:lV(lj),[`persist:${lD.key}`]:lV(lD)});let lG=iq("auth"),lQ=async(e,t)=>{try{let{sessionPublicKey:r}=e.body,n=lW.getState().account,i=chrome.identity.getRedirectURL(),{data:s}=await tH.signIn.social({provider:"google",disableRedirect:!0,callbackURL:i,loginHint:n?.user?.email});lG.debug("authData:",s);let o=(function(e,t){let r=(0,N.sha256)(eW(e,{strict:!1})?function(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){let r=e6(e,t);return e7(r)}(e,t):"boolean"==typeof e?function(e,t={}){let r=new Uint8Array(1);return(r[0]=Number(e),"number"==typeof t.size)?(e0(r,{size:t.size}),eJ(r,{size:t.size})):r}(e,t):eW(e)?e7(e,t):function(e,t={}){let r=e3.encode(e);return"number"==typeof t.size?(e0(r,{size:t.size}),eJ(r,{dir:"right",size:t.size})):r}(e,t)}(e):e);return function(e,t={}){return"number"==typeof e||"bigint"==typeof e?e6(e,t):"string"==typeof e?function(e,t={}){let r=e8.encode(e);return e2(r,t)}(e,t):"boolean"==typeof e?function(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?(e0(r,{size:t.size}),eJ(r,{size:t.size})):r}(e,t):e2(e,t)}(r)})(r).replace(/^0x/,""),a=new URL(s.url);a.searchParams.set("nonce",o),lG.debug("oauthUrl",a.toString());let u=await chrome.identity.launchWebAuthFlow({url:a.toString(),interactive:!0});lG.debug("launchWebAuthFlow result",u),t.send({success:!0})}catch(e){lG.error(e),t.send({success:!1,error:e.message})}},lJ="9.30.0",lZ=globalThis;function lX(){return lY(lZ),lZ}function lY(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||lJ,t[lJ]=t[lJ]||{}}function l0(e,t,r=lZ){let n=r.__SENTRY__=r.__SENTRY__||{},i=n[lJ]=n[lJ]||{};return i[e]||(i[e]=t())}let l1="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,l2=Object.prototype.toString;function l6(e){switch(l2.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return cn(e,Error)}}function l8(e,t){return l2.call(e)===`[object ${t}]`}function l3(e){return l8(e,"ErrorEvent")}function l5(e){return l8(e,"DOMError")}function l4(e){return l8(e,"String")}function l7(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function l9(e){return null===e||l7(e)||"object"!=typeof e&&"function"!=typeof e}function ce(e){return l8(e,"Object")}function ct(e){return"undefined"!=typeof Event&&cn(e,Event)}function cr(e){return!!(e?.then&&"function"==typeof e.then)}function cn(e,t){try{return e instanceof t}catch(e){return!1}}function ci(e){return!!("object"==typeof e&&null!==e&&(e.__isVue||e._isVue))}function cs(e,t={}){if(!e)return"<unknown>";try{let r,n=e,i=[],s=0,o=0,a=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&s++<5&&(r=function(e,t){let r=[];if(!e?.tagName)return"";if(lZ.HTMLElement&&e instanceof HTMLElement&&e.dataset){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}r.push(e.tagName.toLowerCase());let n=t?.length?t.filter(t=>e.getAttribute(t)).map(t=>[t,e.getAttribute(t)]):null;if(n?.length)n.forEach(e=>{r.push(`[${e[0]}="${e[1]}"]`)});else{e.id&&r.push(`#${e.id}`);let t=e.className;if(t&&l4(t)){let e=t.split(/\s+/);for(let t of e)r.push(`.${t}`)}}for(let t of["aria-label","type","name","title","alt"]){let n=e.getAttribute(t);n&&r.push(`[${t}="${n}"]`)}return r.join("")}(n,a),"html"!==r&&(!(s>1)||!(o+3*i.length+r.length>=u)));)i.push(r),o+=r.length,n=n.parentNode;return i.reverse().join(" > ")}catch(e){return"<unknown>"}}function co(){try{return lZ.document.location.href}catch(e){return""}}let ca=["debug","info","warn","error","log","assert","trace"],cu={};function cl(e){if(!("console"in lZ))return e();let t=lZ.console,r={},n=Object.keys(cu);n.forEach(e=>{let n=cu[e];r[e]=t[e],t[e]=n});try{return e()}finally{n.forEach(e=>{t[e]=r[e]})}}let cc=l0("logger",function(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return l1?ca.forEach(r=>{t[r]=(...t)=>{e&&cl(()=>{lZ.console[r](`Sentry Logger [${r}]:`,...t)})}}):ca.forEach(e=>{t[e]=()=>void 0}),t});function cd(e,t=0){return"string"!=typeof e||0===t?e:e.length<=t?e:`${e.slice(0,t)}...`}function ch(e,t){if(!Array.isArray(e))return"";let r=[];for(let t=0;t<e.length;t++){let n=e[t];try{ci(n)?r.push("[VueViewModel]"):r.push(String(n))}catch(e){r.push("[value cannot be serialized]")}}return r.join(t)}function cf(e,t=[],r=!1){return t.some(t=>(function(e,t,r=!1){return!!l4(e)&&(l8(t,"RegExp")?t.test(e):!!l4(t)&&(r?e===t:e.includes(t)))})(e,t,r))}function cp(e,t,r){if(!(t in e))return;let n=e[t];if("function"!=typeof n)return;let i=r(n);"function"==typeof i&&cy(i,n);try{e[t]=i}catch{l1&&cc.log(`Failed to replace method "${t}" in object`,e)}}function cg(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch(r){l1&&cc.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function cy(e,t){try{let r=t.prototype||{};e.prototype=t.prototype=r,cg(e,"__sentry_original__",t)}catch(e){}}function cm(e){return e.__sentry_original__}function cb(e){if(l6(e))return{message:e.message,name:e.name,stack:e.stack,...cv(e)};if(!ct(e))return e;{let t={type:e.type,target:c_(e.target),currentTarget:c_(e.currentTarget),...cv(e)};return"undefined"!=typeof CustomEvent&&cn(e,CustomEvent)&&(t.detail=e.detail),t}}function c_(e){try{return"undefined"!=typeof Element&&cn(e,Element)?cs(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function cv(e){if("object"!=typeof e||null===e)return{};{let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}}function cw(e=lZ.crypto||lZ.msCrypto){let t=()=>16*Math.random();try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{let t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(e){}return"10000000100040008000100000000000".replace(/[018]/g,e=>(e^(15&t())>>e/4).toString(16))}function cE(e){return e.exception?.values?.[0]}function cS(e){let{message:t,event_id:r}=e;if(t)return t;let n=cE(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function ck(e,t,r){let n=e.exception=e.exception||{},i=n.values=n.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=r||"Error")}function cA(e,t){let r=cE(e);if(!r)return;let n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){let e={...n?.data,...t.data};r.mechanism.data=e}}function cx(e){if(function(e){try{return e.__sentry_captured__}catch{}}(e))return!0;try{cg(e,"__sentry_captured__",!0)}catch(e){}return!1}function cI(){return Date.now()/1e3}let cT=function(){let{performance:e}=lZ;if(!e?.now)return cI;let t=Date.now()-e.now(),r=void 0==e.timeOrigin?t:e.timeOrigin;return()=>(r+e.now())/1e3}();function cO(e,t={}){if(!t.user||(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||cT(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:cw()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{let t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function cB(e,t,r=2){if(!t||"object"!=typeof t||r<=0)return t;if(e&&0===Object.keys(t).length)return e;let n={...e};for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=cB(n[e],t[e],r-1));return n}let cC="_sentrySpan";function cP(e,t){t?cg(e,cC,t):delete e[cC]}function cR(){return cw().substring(16)}class cL{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:cw(),sampleRand:Math.random()}}clone(){let e=new cL;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,cP(e,this[cC]),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&cO(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let t="function"==typeof e?e(this):e,r=t instanceof cL?t.getScopeData():ce(t)?e:void 0,{tags:n,extra:i,user:s,contexts:o,level:a,fingerprint:u=[],propagationContext:l}=r||{};return this._tags={...this._tags,...n},this._extra={...this._extra,...i},this._contexts={...this._contexts,...o},s&&Object.keys(s).length&&(this._user=s),a&&(this._level=a),u.length&&(this._fingerprint=u),l&&(this._propagationContext=l),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,cP(this,void 0),this._attachments=[],this.setPropagationContext({traceId:cw(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){let r="number"==typeof t?t:100;if(r<=0)return this;let n={timestamp:cI(),...e,message:e.message?cd(e.message,2048):e.message};return this._breadcrumbs.push(n),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:this[cC]}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=cB(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){let r=t?.event_id||cw();if(!this._client)return cc.warn("No client configured on scope - will not capture exception!"),r;let n=Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:n,...t,event_id:r},this),r}captureMessage(e,t,r){let n=r?.event_id||cw();if(!this._client)return cc.warn("No client configured on scope - will not capture message!"),n;let i=Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...r,event_id:n},this),n}captureEvent(e,t){let r=t?.event_id||cw();return this._client?this._client.captureEvent(e,{...t,event_id:r},this):cc.warn("No client configured on scope - will not capture event!"),r}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}class cM{constructor(e,t){let r,n;r=e||new cL,n=t||new cL,this._stack=[{scope:r}],this._isolationScope=n}withScope(e){let t;let r=this._pushScope();try{t=e(r)}catch(e){throw this._popScope(),e}return cr(t)?t.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e}):(this._popScope(),t)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function cN(){let e=lX(),t=lY(e);return t.stack=t.stack||new cM(l0("defaultCurrentScope",()=>new cL),l0("defaultIsolationScope",()=>new cL))}function cD(e){return cN().withScope(e)}function cU(e,t){let r=cN();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function cj(e){return cN().withScope(()=>e(cN().getIsolationScope()))}function cq(e){let t=lY(e);return t.acs?t.acs:{withIsolationScope:cj,withScope:cD,withSetScope:cU,withSetIsolationScope:(e,t)=>cj(t),getCurrentScope:()=>cN().getScope(),getIsolationScope:()=>cN().getIsolationScope()}}function cF(){let e=lX(),t=cq(e);return t.getCurrentScope()}function c$(){let e=lX(),t=cq(e);return t.getIsolationScope()}function cz(){return l0("globalScope",()=>new cL)}function cH(...e){let t=lX(),r=cq(t);if(2===e.length){let[t,n]=e;return t?r.withSetScope(t,n):r.withScope(n)}return r.withScope(e[0])}function cW(){return cF().getClient()}function cK(e){let t=e.getPropagationContext(),{traceId:r,parentSpanId:n,propagationSpanId:i}=t,s={trace_id:r,span_id:i||cR()};return n&&(s.parent_span_id=n),s}let cV="production";function cG(e){return new cJ(t=>{t(e)})}function cQ(e){return new cJ((t,r)=>{r(e)})}(p=x||(x={}))[p.PENDING=0]="PENDING",p[p.RESOLVED=1]="RESOLVED",p[p.REJECTED=2]="REJECTED";class cJ{constructor(e){this._state=x.PENDING,this._handlers=[],this._runExecutor(e)}then(e,t){return new cJ((r,n)=>{this._handlers.push([!1,t=>{if(e)try{r(e(t))}catch(e){n(e)}else r(t)},e=>{if(t)try{r(t(e))}catch(e){n(e)}else n(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new cJ((t,r)=>{let n,i;return this.then(t=>{i=!1,n=t,e&&e()},t=>{i=!0,n=t,e&&e()}).then(()=>{if(i){r(n);return}t(n)})})}_executeHandlers(){if(this._state===x.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(this._state===x.RESOLVED&&e[1](this._value),this._state===x.REJECTED&&e[2](this._value),e[0]=!0)})}_runExecutor(e){let t=(e,t)=>{if(this._state===x.PENDING){if(cr(t)){t.then(r,n);return}this._state=e,this._value=t,this._executeHandlers()}},r=e=>{t(x.RESOLVED,e)},n=e=>{t(x.REJECTED,e)};try{e(r,n)}catch(e){n(e)}}}let cZ=/\(error: (.*)\)/,cX=/captureMessage|captureException/;function cY(...e){let t=e.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return(e,r=0,n=0)=>{let i=[],s=e.split("\n");for(let e=r;e<s.length;e++){let r=s[e];if(r.length>1024)continue;let o=cZ.test(r)?r.replace(cZ,"$1"):r;if(!o.match(/\S*Error: /)){for(let e of t){let t=e(o);if(t){i.push(t);break}}if(i.length>=50+n)break}}return function(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(c0(t).function||"")&&t.pop(),t.reverse(),cX.test(c0(t).function||"")&&(t.pop(),cX.test(c0(t).function||"")&&t.pop()),t.slice(0,50).map(e=>({...e,filename:e.filename||c0(t).filename,function:e.function||"?"}))}(i.slice(n))}}function c0(e){return e[e.length-1]||{}}let c1="<anonymous>";function c2(e){try{if(!e||"function"!=typeof e)return c1;return e.name||c1}catch(e){return c1}}function c6(e){let t=e.exception;if(t){let e=[];try{return t.values.forEach(t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)}),e}catch(e){}}}function c8(e,t=100,r=1/0){try{return function e(t,r,n=1/0,i=1/0,s=function(){let e=new WeakSet;return[function(t){return!!e.has(t)||(e.add(t),!1)},function(t){e.delete(t)}]}()){let[o,a]=s;if(null==r||["boolean","string"].includes(typeof r)||"number"==typeof r&&Number.isFinite(r))return r;let u=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==C&&t===C)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(ci(t))return"[VueViewModel]";if(ce(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t)return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${c2(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;let r=function(e){let t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}(t);if(/^HTML(\w*)Element$/.test(r))return`[HTMLElement: ${r}]`;return`[object ${r}]`}catch(e){return`**non-serializable** (${e})`}}(t,r);if(!u.startsWith("[object "))return u;if(r.__sentry_skip_normalization__)return r;let l="number"==typeof r.__sentry_override_normalization_depth__?r.__sentry_override_normalization_depth__:n;if(0===l)return u.replace("object ","");if(o(r))return"[Circular ~]";if(r&&"function"==typeof r.toJSON)try{let t=r.toJSON();return e("",t,l-1,i,s)}catch(e){}let c=Array.isArray(r)?[]:{},d=0,h=cb(r);for(let t in h){if(!Object.prototype.hasOwnProperty.call(h,t))continue;if(d>=i){c[t]="[MaxProperties ~]";break}let r=h[t];c[t]=e(t,r,l-1,i,s),d++}return a(r),c}("",e,t,r)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}let c3="sentry.profile_id",c5="sentry.exclusive_time";function c4(e){return{scope:e._sentryScope,isolationScope:e._sentryIsolationScope}}let c7=/^sentry-/;function c9(e){return e.split(",").map(e=>e.split("=").map(e=>{try{return decodeURIComponent(e.trim())}catch{return}})).reduce((e,[t,r])=>(t&&r&&(e[t]=r),e),{})}RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");let de=!1;function dt(e){let{spanId:t,traceId:r,isRemote:n}=e.spanContext(),i=n?t:di(e).parent_span_id,s=c4(e).scope,o=n?s?.getPropagationContext().propagationSpanId||cR():t;return{parent_span_id:i,span_id:o,trace_id:r}}function dr(e){return"number"==typeof e?dn(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?dn(e.getTime()):cT()}function dn(e){return e>9999999999?e/1e3:e}function di(e){if("function"==typeof e.getSpanJSON)return e.getSpanJSON();let{spanId:t,traceId:r}=e.spanContext();if(e.attributes&&e.startTime&&e.name&&e.endTime&&e.status){let{attributes:n,startTime:i,name:s,endTime:o,status:a,links:u}=e,l="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:r,data:n,description:s,parent_span_id:l,start_timestamp:dr(i),timestamp:dr(o)||void 0,status:function(e){if(e&&0!==e.code)return 1===e.code?"ok":e.message||"unknown_error"}(a),op:n["sentry.op"],origin:n["sentry.origin"],links:u&&u.length>0?u.map(({context:{spanId:e,traceId:t,traceFlags:r,...n},attributes:i})=>({span_id:e,trace_id:t,sampled:1===r,attributes:i,...n})):void 0}}return{span_id:t,trace_id:r,start_timestamp:0,data:{}}}function ds(e){return e._sentryRootSpan||e}function da(){de||(cl(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),de=!0)}let du=/^o(\d+)\./,dl=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function dc(e,t=!1){let{host:r,path:n,pass:i,port:s,projectId:o,protocol:a,publicKey:u}=e;return`${a}://${u}${t&&i?`:${i}`:""}@${r}${s?`:${s}`:""}/${n?`${n}/`:n}${o}`}function dd(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function dh(e,t){let r;let n=t.getOptions(),{publicKey:i,host:s}=t.getDsn()||{};n.orgId?r=String(n.orgId):s&&(r=function(e){let t=e.match(du);return t?.[1]}(s));let o={environment:n.environment||cV,release:n.release,public_key:i,trace_id:e,org_id:r};return t.emit("createDsc",o),o}function df(e,t){let r=t.getPropagationContext();return r.dsc||dh(r.traceId,e)}function dp(e){let t=cW();if(!t)return{};let r=ds(e),n=di(r),i=n.data,s=r.spanContext().traceState,o=s?.get("sentry.sample_rate")??i["sentry.sample_rate"]??i["sentry.previous_trace_sample_rate"];function a(e){return("number"==typeof o||"string"==typeof o)&&(e.sample_rate=`${o}`),e}let u=r._frozenDsc;if(u)return a(u);let l=s?.get("sentry.dsc"),c=l&&function(e){let t=function(e){if(e&&(l4(e)||Array.isArray(e)))return Array.isArray(e)?e.reduce((e,t)=>{let r=c9(t);return Object.entries(r).forEach(([t,r])=>{e[t]=r}),e},{}):c9(e)}(e);if(!t)return;let r=Object.entries(t).reduce((e,[t,r])=>{if(t.match(c7)){let n=t.slice(7);e[n]=r}return e},{});return Object.keys(r).length>0?r:void 0}(l);if(c)return a(c);let d=dh(e.spanContext().traceId,t),h=i["sentry.source"],f=n.description;return"url"!==h&&f&&(d.transaction=f),function(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;let t=cW()?.getOptions();return!!t&&(null!=t.tracesSampleRate||!!t.tracesSampler)}()&&(d.sampled=String(function(e){let{traceFlags:t}=e.spanContext();return 1===t}(r)),d.sample_rand=s?.get("sentry.sample_rand")??c4(r).scope?.getPropagationContext().sampleRand.toString()),a(d),t.emit("createDsc",d,r),d}function dg(e,t){let{extra:r,tags:n,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:u,fingerprint:l,eventProcessors:c,attachments:d,propagationContext:h,transactionName:f,span:p}=t;dy(e,"extra",r),dy(e,"tags",n),dy(e,"user",i),dy(e,"contexts",s),e.sdkProcessingMetadata=cB(e.sdkProcessingMetadata,a,2),o&&(e.level=o),f&&(e.transactionName=f),p&&(e.span=p),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),c.length&&(e.eventProcessors=[...e.eventProcessors,...c]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function dy(e,t,r){e[t]=cB(e[t],r,1)}let dm=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function db(e,t){return cF().captureException(e,function(e){if(e)return e instanceof cL||"function"==typeof e||Object.keys(e).some(e=>dm.includes(e))?{captureContext:e}:e}(t))}function d_(e,t){return cF().captureEvent(e,t)}function dv(e){c$().setUser(e)}function dw(e){let t=c$(),r=cF(),{userAgent:n}=lZ.navigator||{},i=function(e){let t=cT(),r={sid:cw(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:"number"==typeof r.did||"string"==typeof r.did?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})};return e&&cO(r,e),r}({user:r.getUser()||t.getUser(),...n&&{userAgent:n},...e}),s=t.getSession();return s?.status==="ok"&&cO(s,{status:"exited"}),dE(),t.setSession(i),i}function dE(){let e=c$(),t=cF(),r=t.getSession()||e.getSession();if(r){var n;let e;e={},n?e={status:n}:"ok"===r.status&&(e={status:"exited"}),cO(r,e)}dS(),e.setSession()}function dS(){let e=c$(),t=cW(),r=e.getSession();r&&t&&t.captureSession(r)}function dk(e=!1){if(e){dE();return}dS()}let dA=iq("captureSentryEvent"),dx=async(e,t)=>{try{let{event:r,error:n,errorInfo:i}=e.body,s=e.body.source||"unknown";if(r)d_({...r,tags:{...r.tags,source:s,forwarded:"true"}});else if(n){let e=Error(n.message);e.name=n.name,e.stack=n.stack,await db(e,{extra:{...i,forwarded:!0},tags:{source:s}})}else throw Error("Invalid Sentry payload: missing 'event' or 'error'.");t.send({success:!0})}catch(r){let e=r instanceof Error?r.message:"Unknown error";dA.error("Failed to forward event to Sentry:",r),t.send({success:!1,error:e})}},dI=iq("checkJitoBundle"),dT=async(e,t)=>{let{transactionId:r,baseUrl:n="https://bundles.jito.wtf/api/v1"}=e.body;if(!r){t.send({success:!1,error:"Transaction ID is required"});return}let i=`${n}/bundles/transaction/${r}`;dI.debug(`Checking Jito bundle for transaction: ${r}`);try{let e=new AbortController,s=setTimeout(()=>e.abort(),1e4),o=await fetch(i,{method:"GET",headers:{"Content-Type":"application/json"},signal:e.signal});if(clearTimeout(s),404===o.status){dI.warn(`Transaction ${r} is not part of any Jito bundle`),t.send({success:!0,bundleId:void 0});return}if(!o.ok){dI.warn(`Jito API returned status ${o.status} for transaction ${r}`),t.send({success:!1,error:`API returned status ${o.status}`});return}let a=await o.json();if(dI.warn(`Jito API response: ${JSON.stringify(a)}`),!Array.isArray(a)||0===a.length){dI.warn(`Unexpected response format from Jito API for transaction ${r}`),t.send({success:!1,error:"Unexpected response format"});return}let u=a[0]?.bundle_id;if(!u){dI.warn(`No bundle_id found in response for transaction ${r}`),t.send({success:!1,error:"No bundle_id found in response"});return}dI.warn(`Found bundle ${u} for transaction ${r}`);try{let r=`${n}/bundles/bundle/${u}`;dI.info(`Fetching bundle details from: ${r}`);let i=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json"},signal:e.signal});if(i.ok){let e=await i.json();if(Array.isArray(e)&&e.length>0){let r=e[0];dI.info(`Bundle details fetched successfully: ${r.txSignatures?.length} transactions`),t.send({success:!0,bundleId:u,bundleDetails:r});return}dI.warn(`Unexpected bundle details response format for ${u}`)}else dI.warn(`Failed to fetch bundle details for ${u}: ${i.status}`)}catch(e){dI.warn(`Error fetching bundle details for ${u}:`,e)}t.send({success:!0,bundleId:u})}catch(n){let e="Unknown error";n instanceof Error&&("AbortError"===n.name?(e="Request timeout",dI.warn(`Jito bundle check timed out for transaction ${r}`)):(e=n.message,dI.error(`Error checking Jito bundle for transaction ${r}:`,n))),t.send({success:!1,error:e})}};var dO=M("acDaE"),dB={};Object.defineProperty(dB,"__esModule",{value:!0}),dB.hash_to_ristretto255=dB.hashToRistretto255=dB.RistrettoPoint=dB.encodeToCurve=dB.hashToCurve=dB.ed25519_hasher=dB.edwardsToMontgomery=dB.x25519=dB.ed25519ph=dB.ed25519ctx=dB.ed25519=dB.ED25519_TORSION_SUBGROUP=void 0,dB.edwardsToMontgomeryPub=hW,dB.edwardsToMontgomeryPriv=function(e){let t=hz.hash(e.subarray(0,32));return hz.adjustScalarBytes(t).subarray(0,32)};var dC={};Object.defineProperty(dC,"__esModule",{value:!0}),dC.negateCt=ht,dC.normalizeZ=function(e,t,r){let n=(0,dF.FpInvertBatch)(e.Fp,r.map("pz"===t?e=>e.pz:e=>e.ez)),i=r.map((e,t)=>e.toAffine(n[t]));return i.map(e.fromAffine)},dC.wNAF=function(e,t){return{constTimeNegate:ht,hasPrecomputes:e=>1!==hl(e),unsafeLadder(t,r,n=e.ZERO){let i=t;for(;r>d9;)r&he&&(n=n.add(i)),i=i.double(),r>>=he;return n},precomputeWindow(e,r){let{windows:n,windowSize:i}=hn(r,t),s=[],o=e,a=o;for(let e=0;e<n;e++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(r,n,i){let s=e.ZERO,o=e.BASE,a=hn(r,t);for(let e=0;e<a.windows;e++){let{nextN:t,offset:r,isZero:u,isNeg:l,isNegF:c,offsetF:d}=hi(i,e,a);i=t,u?o=o.add(ht(c,n[d])):s=s.add(ht(l,n[r]))}return hc(i),{p:s,f:o}},wNAFUnsafe(r,n,i,s=e.ZERO){let o=hn(r,t);for(let e=0;e<o.windows&&i!==d9;e++){let{nextN:t,offset:r,isZero:a,isNeg:u}=hi(i,e,o);if(i=t,!a){let e=n[r];s=s.add(u?e.negate():e)}}return hc(i),s},getPrecomputes(e,t,r){let n=ha.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),ha.set(t,n))),n},wNAFCached(e,t,r){let n=hl(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=hl(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){hr(r,t),hu.set(e,r),ha.delete(e)}}},dC.mulEndoUnsafe=function(e,t,r,n){let i=t,s=e.ZERO,o=e.ZERO;for(;r>d9||n>d9;)r&he&&(s=s.add(i)),n&he&&(o=o.add(i)),i=i.double(),r>>=he,n>>=he;return{p1:s,p2:o}},dC.pippenger=function(e,t,r,n){hs(r,e),ho(n,t);let i=r.length,s=n.length;if(i!==s)throw Error("arrays of points and scalars must have equal length");let o=e.ZERO,a=(0,dP.bitLen)(BigInt(i)),u=1;a>12?u=a-3:a>4?u=a-2:a>0&&(u=2);let l=(0,dP.bitMask)(u),c=Array(Number(l)+1).fill(o),d=Math.floor((t.BITS-1)/u)*u,h=o;for(let e=d;e>=0;e-=u){c.fill(o);for(let t=0;t<s;t++){let i=n[t],s=Number(i>>BigInt(e)&l);c[s]=c[s].add(r[t])}let t=o;for(let e=c.length-1,r=o;e>0;e--)r=r.add(c[e]),t=t.add(r);if(h=h.add(t),0!==e)for(let e=0;e<u;e++)h=h.double()}return h},dC.precomputeMSMUnsafe=function(e,t,r,n){hr(n,t.BITS),hs(r,e);let i=e.ZERO,s=2**n-1,o=Math.ceil(t.BITS/n),a=(0,dP.bitMask)(n),u=r.map(e=>{let t=[];for(let r=0,n=e;r<s;r++)t.push(n),n=n.add(e);return t});return e=>{if(ho(e,t),e.length>r.length)throw Error("array of scalars must be smaller than array of points");let s=i;for(let t=0;t<o;t++){if(s!==i)for(let e=0;e<n;e++)s=s.double();let r=BigInt(o*n-(t+1)*n);for(let t=0;t<e.length;t++){let n=e[t],i=Number(n>>r&a);i&&(s=s.add(u[t][i-1]))}}return s}},dC.validateBasic=function(e){return(0,dF.validateField)(e.Fp),(0,dP.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,dF.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})},dC._createCurveFields=function(e,t,r={}){if(!t||"object"!=typeof t)throw Error(`expected valid ${e} CURVE object`);for(let e of["p","n","h"]){let r=t[e];if(!("bigint"==typeof r&&r>d9))throw Error(`CURVE.${e} must be positive bigint`)}let n=hd(t.p,r.Fp),i=hd(t.n,r.Fn);for(let r of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!n.isValid(t[r]))throw Error(`CURVE.${r} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}};var dP={};Object.defineProperty(dP,"__esModule",{value:!0}),dP.notImplemented=dP.bitMask=dP.utf8ToBytes=dP.randomBytes=dP.isBytes=dP.hexToBytes=dP.concatBytes=dP.bytesToUtf8=dP.bytesToHex=dP.anumber=dP.abytes=void 0,dP.abool=function(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)},dP.numberToHexUnpadded=dM,dP.hexToNumber=dN,dP.bytesToNumberBE=function(e){return dN((0,j.bytesToHex)(e))},dP.bytesToNumberLE=function(e){return(0,j.abytes)(e),dN((0,j.bytesToHex)(Uint8Array.from(e).reverse()))},dP.numberToBytesBE=dD,dP.numberToBytesLE=function(e,t){return dD(e,t).reverse()},dP.numberToVarBytesBE=function(e){return(0,j.hexToBytes)(dM(e))},dP.ensureBytes=function(e,t,r){let n;if("string"==typeof t)try{n=(0,j.hexToBytes)(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if((0,j.isBytes)(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n},dP.equalBytes=function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},dP.inRange=dj,dP.aInRange=function(e,t,r,n){if(!dj(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)},dP.bitLen=function(e){let t;for(t=0;e>dR;e>>=dL,t+=1);return t},dP.bitGet=function(e,t){return e>>BigInt(t)&dL},dP.bitSet=function(e,t,r){return e|(r?dL:dR)<<BigInt(t)},dP.createHmacDrbg=function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=e=>new Uint8Array(e),i=e=>Uint8Array.of(e),s=n(e),o=n(e),a=0,u=()=>{s.fill(1),o.fill(0),a=0},l=(...e)=>r(o,s,...e),c=(e=n(0))=>{o=l(i(0),e),s=l(),0!==e.length&&(o=l(i(1),e),s=l())},d=()=>{if(a++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){s=l();let t=s.slice();r.push(t),e+=s.length}return(0,j.concatBytes)(...r)};return(e,t)=>{let r;for(u(),c(e);!(r=t(d()));)c();return u(),r}},dP.validateObject=function(e,t,r={}){let n=(t,r,n)=>{let i=dq[r];if("function"!=typeof i)throw Error("invalid validator function");let s=e[t];if((!n||void 0!==s)&&!i(s,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+s)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e},dP.isHash=function(e){return"function"==typeof e&&Number.isSafeInteger(e.outputLen)},dP._validateObject=function(e,t,r={}){if(!e||"object"!=typeof e)throw Error("expected valid options object");function n(t,r,n){let i=e[t];if(n&&void 0===i)return;let s=typeof i;if(s!==r||null===i)throw Error(`param "${t}" is invalid: expected ${r}, got ${s}`)}Object.entries(t).forEach(([e,t])=>n(e,t,!1)),Object.entries(r).forEach(([e,t])=>n(e,t,!0))},dP.memoized=function(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let s=e(r,...n);return t.set(r,s),s}},Object.defineProperty(dP,"abytes",{enumerable:!0,get:function(){return j.abytes}}),Object.defineProperty(dP,"anumber",{enumerable:!0,get:function(){return j.anumber}}),Object.defineProperty(dP,"bytesToHex",{enumerable:!0,get:function(){return j.bytesToHex}}),Object.defineProperty(dP,"bytesToUtf8",{enumerable:!0,get:function(){return j.bytesToUtf8}}),Object.defineProperty(dP,"concatBytes",{enumerable:!0,get:function(){return j.concatBytes}}),Object.defineProperty(dP,"hexToBytes",{enumerable:!0,get:function(){return j.hexToBytes}}),Object.defineProperty(dP,"isBytes",{enumerable:!0,get:function(){return j.isBytes}}),Object.defineProperty(dP,"randomBytes",{enumerable:!0,get:function(){return j.randomBytes}}),Object.defineProperty(dP,"utf8ToBytes",{enumerable:!0,get:function(){return j.utf8ToBytes}});let dR=BigInt(0),dL=BigInt(1);function dM(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function dN(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?dR:BigInt("0x"+e)}function dD(e,t){return(0,j.hexToBytes)(e.toString(16).padStart(2*t,"0"))}let dU=e=>"bigint"==typeof e&&dR<=e;function dj(e,t,r){return dU(e)&&dU(t)&&dU(r)&&t<=e&&e<r}dP.bitMask=e=>(dL<<BigInt(e))-dL;let dq={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||(0,j.isBytes)(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};dP.notImplemented=()=>{throw Error("not implemented")};var dF={};Object.defineProperty(dF,"__esModule",{value:!0}),dF.isNegativeLE=void 0,dF.mod=dQ,dF.pow=function(e,t,r){return d2(d5(r),e,t)},dF.pow2=function(e,t,r){let n=e;for(;t-- >d$;)n*=n,n%=r;return n},dF.invert=dJ,dF.tonelliShanks=dY,dF.FpSqrt=d0,dF.validateField=function(e){let t=d1.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"});return(0,dP._validateObject)(e,t),e},dF.FpPow=d2,dF.FpInvertBatch=d6,dF.FpDiv=function(e,t,r){return e.mul(t,"bigint"==typeof r?dJ(r,e.ORDER):e.inv(r))},dF.FpLegendre=d8,dF.FpIsSquare=function(e,t){let r=d8(e,t);return 1===r},dF.nLength=d3,dF.Field=d5,dF.FpSqrtOdd=function(e,t){if(!e.isOdd)throw Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)},dF.FpSqrtEven=function(e,t){if(!e.isOdd)throw Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r},dF.hashToPrivateScalar=function(e,t,r=!1){e=(0,dP.ensureBytes)("privateHash",e);let n=e.length,i=d3(t).nByteLength+8;if(i<24||n<i||n>1024)throw Error("hashToPrivateScalar: expected "+i+"-1024 bytes of input, got "+n);let s=r?(0,dP.bytesToNumberLE)(e):(0,dP.bytesToNumberBE)(e);return dQ(s,t-dz)+dz},dF.getFieldBytesLength=d4,dF.getMinHashLength=d7,dF.mapHashToField=function(e,t,r=!1){let n=e.length,i=d4(t),s=d7(t);if(n<16||n<s||n>1024)throw Error("expected "+s+"-1024 bytes of input, got "+n);let o=r?(0,dP.bytesToNumberLE)(e):(0,dP.bytesToNumberBE)(e),a=dQ(o,t-dz)+dz;return r?(0,dP.numberToBytesLE)(a,i):(0,dP.numberToBytesBE)(a,i)};let d$=BigInt(0),dz=BigInt(1),dH=BigInt(2),dW=BigInt(3),dK=BigInt(4),dV=BigInt(5),dG=BigInt(8);function dQ(e,t){let r=e%t;return r>=d$?r:t+r}function dJ(e,t){if(e===d$)throw Error("invert: expected non-zero number");if(t<=d$)throw Error("invert: expected positive modulus, got "+t);let r=dQ(e,t),n=t,i=d$,s=dz,o=dz,a=d$;for(;r!==d$;){let e=n/r,t=n%r,u=i-o*e,l=s-a*e;n=r,r=t,i=o,s=a,o=u,a=l}let u=n;if(u!==dz)throw Error("invert: does not exist");return dQ(i,t)}function dZ(e,t){let r=(e.ORDER+dz)/dK,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function dX(e,t){let r=(e.ORDER-dV)/dG,n=e.mul(t,dH),i=e.pow(n,r),s=e.mul(t,i),o=e.mul(e.mul(s,dH),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw Error("Cannot find square root");return a}function dY(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-dz,r=0;for(;t%dH===d$;)t/=dH,r++;let n=dH,i=d5(e);for(;1===d8(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return dZ;let s=i.pow(n,t),o=(t+dz)/dH;return function(e,n){if(e.is0(n))return n;if(1!==d8(e,n))throw Error("Cannot find square root");let i=r,a=e.mul(e.ONE,s),u=e.pow(n,t),l=e.pow(n,o);for(;!e.eql(u,e.ONE);){if(e.is0(u))return e.ZERO;let t=1,r=e.sqr(u);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=dz<<BigInt(i-t-1),s=e.pow(a,n);i=t,a=e.sqr(s),u=e.mul(u,a),l=e.mul(l,s)}return l}}function d0(e){return e%dK===dW?dZ:e%dG===dV?dX:dY(e)}dF.isNegativeLE=(e,t)=>(dQ(e,t)&dz)===dz;let d1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function d2(e,t,r){if(r<d$)throw Error("invalid exponent, negatives unsupported");if(r===d$)return e.ONE;if(r===dz)return t;let n=e.ONE,i=t;for(;r>d$;)r&dz&&(n=e.mul(n,i)),i=e.sqr(i),r>>=dz;return n}function d6(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),s=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),s),n}function d8(e,t){let r=(e.ORDER-dz)/dH,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),o=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!o)throw Error("invalid Legendre symbol result");return i?1:s?0:-1}function d3(e,t){void 0!==t&&(0,dP.anumber)(t);let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function d5(e,t,r=!1,n={}){let i,s,o;if(e<=d$)throw Error("invalid field: expected ORDER > 0, got "+e);if("object"==typeof t&&null!=t){if(n.sqrt||r)throw Error("cannot specify opts in two arguments");t.BITS&&(s=t.BITS),t.sqrt&&(o=t.sqrt),"boolean"==typeof t.isLE&&(r=t.isLE)}else"number"==typeof t&&(s=t),n.sqrt&&(o=n.sqrt);let{nBitLength:a,nByteLength:u}=d3(e,s);if(u>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let l=Object.freeze({ORDER:e,isLE:r,BITS:a,BYTES:u,MASK:(0,dP.bitMask)(a),ZERO:d$,ONE:dz,create:t=>dQ(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return d$<=t&&t<e},is0:e=>e===d$,isValidNot0:e=>!l.is0(e)&&l.isValid(e),isOdd:e=>(e&dz)===dz,neg:t=>dQ(-t,e),eql:(e,t)=>e===t,sqr:t=>dQ(t*t,e),add:(t,r)=>dQ(t+r,e),sub:(t,r)=>dQ(t-r,e),mul:(t,r)=>dQ(t*r,e),pow:(e,t)=>d2(l,e,t),div:(t,r)=>dQ(t*dJ(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>dJ(t,e),sqrt:o||(t=>(i||(i=d0(e)),i(l,t))),toBytes:e=>r?(0,dP.numberToBytesLE)(e,u):(0,dP.numberToBytesBE)(e,u),fromBytes:e=>{if(e.length!==u)throw Error("Field.fromBytes: expected "+u+" bytes, got "+e.length);return r?(0,dP.bytesToNumberLE)(e):(0,dP.bytesToNumberBE)(e)},invertBatch:e=>d6(l,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(l)}function d4(e){if("bigint"!=typeof e)throw Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function d7(e){let t=d4(e);return t+Math.ceil(t/2)}let d9=BigInt(0),he=BigInt(1);function ht(e,t){let r=t.negate();return e?r:t}function hr(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function hn(e,t){hr(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e,s=(0,dP.bitMask)(e),o=BigInt(e);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function hi(e,t,r){let{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r,a=Number(e&i),u=e>>o;a>n&&(a-=s,u+=he);let l=t*n,c=l+Math.abs(a)-1,d=0===a,h=a<0;return{nextN:u,offset:c,isZero:d,isNeg:h,isNegF:t%2!=0,offsetF:l}}function hs(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}function ho(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}let ha=new WeakMap,hu=new WeakMap;function hl(e){return hu.get(e)||1}function hc(e){if(e!==d9)throw Error("invalid wNAF")}function hd(e,t){if(!t)return(0,dF.Field)(e);if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return(0,dF.validateField)(t),t}var hh={};Object.defineProperty(hh,"__esModule",{value:!0}),hh.edwards=hb,hh.eddsa=h_,hh.twistedEdwards=function(e){let{CURVE:t,curveOpts:r,eddsaOpts:n}=function(e){let t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=(0,dF.Field)(t.n,e.nBitLength,!0),i={Fp:r,Fn:n,uvRatio:e.uvRatio},s={hash:e.hash,randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:i,eddsaOpts:s}}(e),i=hb(t,r),s=h_(i,n);return function(e,t){let r=Object.assign({},t,{ExtendedPoint:t.Point,CURVE:e});return r}(e,s)};let hf=BigInt(0),hp=BigInt(1),hg=BigInt(2),hy=BigInt(8),hm={zip215:!0};function hb(e,t={}){let{Fp:r,Fn:n}=(0,dC._createCurveFields)("edwards",e,t),{h:i,n:s}=e;(0,dP._validateObject)(t,{},{uvRatio:"function"});let o=hg<<BigInt(8*n.BYTES)-hp,a=e=>r.create(e),u=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(r.div(e,t))}}catch(e){return{isValid:!1,value:hf}}});if(!function(e,t,r,n){let i=e.sqr(r),s=e.sqr(n),o=e.add(e.mul(t.a,i),s),a=e.add(e.ONE,e.mul(t.d,e.mul(i,s)));return e.eql(o,a)}(r,e,e.Gx,e.Gy))throw Error("bad curve params: generator point");function l(e,t,r=!1){let n=r?hp:hf;return(0,dP.aInRange)("coordinate "+e,t,n,o),t}function c(e){if(!(e instanceof f))throw Error("ExtendedPoint expected")}let d=(0,dP.memoized)((e,t)=>{let{ex:n,ey:i,ez:s}=e,o=e.is0();null==t&&(t=o?hy:r.inv(s));let u=a(n*t),l=a(i*t),c=a(s*t);if(o)return{x:hf,y:hp};if(c!==hp)throw Error("invZ was invalid");return{x:u,y:l}}),h=(0,dP.memoized)(t=>{let{a:r,d:n}=e;if(t.is0())throw Error("bad point: ZERO");let{ex:i,ey:s,ez:o,et:u}=t,l=a(i*i),c=a(s*s),d=a(o*o),h=a(d*d),f=a(l*r),p=a(d*a(f+c)),g=a(h+a(n*a(l*c)));if(p!==g)throw Error("bad point: equation left != right (1)");let y=a(i*s),m=a(o*u);if(y!==m)throw Error("bad point: equation left != right (2)");return!0});class f{constructor(e,t,r,n){this.ex=l("x",e),this.ey=l("y",t),this.ez=l("z",r,!0),this.et=l("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof f)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return l("x",t),l("y",r),new f(t,r,hp,a(t*r))}static normalizeZ(e){return(0,dC.normalizeZ)(f,"ez",e)}static msm(e,t){return(0,dC.pippenger)(f,n,e,t)}_setWindowSize(e){this.precompute(e)}precompute(e=8,t=!0){return p.setWindowSize(this,e),t||this.multiply(hg),this}assertValidity(){h(this)}equals(e){c(e);let{ex:t,ey:r,ez:n}=this,{ex:i,ey:s,ez:o}=e,u=a(t*o),l=a(i*n),d=a(r*o),h=a(s*n);return u===l&&d===h}is0(){return this.equals(f.ZERO)}negate(){return new f(a(-this.ex),this.ey,this.ez,a(-this.et))}double(){let{a:t}=e,{ex:r,ey:n,ez:i}=this,s=a(r*r),o=a(n*n),u=a(hg*a(i*i)),l=a(t*s),c=r+n,d=a(a(c*c)-s-o),h=l+o,p=h-u,g=l-o,y=a(d*p),m=a(h*g),b=a(d*g),_=a(p*h);return new f(y,m,_,b)}add(t){c(t);let{a:r,d:n}=e,{ex:i,ey:s,ez:o,et:u}=this,{ex:l,ey:d,ez:h,et:p}=t,g=a(i*l),y=a(s*d),m=a(u*n*p),b=a(o*h),_=a((i+s)*(l+d)-g-y),v=b-m,w=b+m,E=a(y-r*g),S=a(_*v),k=a(w*E),A=a(_*E),x=a(v*w);return new f(S,k,x,A)}subtract(e){return this.add(e.negate())}multiply(e){(0,dP.aInRange)("scalar",e,hp,s);let{p:t,f:r}=p.wNAFCached(this,e,f.normalizeZ);return f.normalizeZ([t,r])[0]}multiplyUnsafe(e,t=f.ZERO){return((0,dP.aInRange)("scalar",e,hf,s),e===hf)?f.ZERO:this.is0()||e===hp?this:p.wNAFCachedUnsafe(this,e,f.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}isTorsionFree(){return p.wNAFCachedUnsafe(this,s).is0()}toAffine(e){return d(this,e)}clearCofactor(){return i===hp?this:this.multiplyUnsafe(i)}static fromBytes(e,t=!1){return(0,dP.abytes)(e),this.fromHex(e,t)}static fromHex(t,n=!1){let{d:i,a:s}=e,l=r.BYTES;t=(0,dP.ensureBytes)("pointHex",t,l),(0,dP.abool)("zip215",n);let c=t.slice(),d=t[l-1];c[l-1]=-129&d;let h=(0,dP.bytesToNumberLE)(c),p=n?o:r.ORDER;(0,dP.aInRange)("pointHex.y",h,hf,p);let g=a(h*h),y=a(g-hp),m=a(i*g-s),{isValid:b,value:_}=u(y,m);if(!b)throw Error("Point.fromHex: invalid y coordinate");let v=(_&hp)===hp,w=(128&d)!=0;if(!n&&_===hf&&w)throw Error("Point.fromHex: x=0 and x_0=1");return w!==v&&(_=a(-_)),f.fromAffine({x:_,y:h})}static fromPrivateScalar(e){return f.BASE.multiply(e)}toBytes(){let{x:e,y:t}=this.toAffine(),n=(0,dP.numberToBytesLE)(t,r.BYTES);return n[n.length-1]|=e&hp?128:0,n}toRawBytes(){return this.toBytes()}toHex(){return(0,dP.bytesToHex)(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}f.BASE=new f(e.Gx,e.Gy,hp,a(e.Gx*e.Gy)),f.ZERO=new f(hf,hp,hp,hf),f.Fp=r,f.Fn=n;let p=(0,dC.wNAF)(f,8*n.BYTES);return f}function h_(e,t){(0,dP._validateObject)(t,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:r,hash:n}=t,{BASE:i,Fp:s,Fn:o}=e,a=o.ORDER,u=t.randomBytes||dP.randomBytes,l=t.adjustScalarBytes||(e=>e),c=t.domain||((e,t,r)=>{if((0,dP.abool)("phflag",r),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function d(e){var t;return t=(0,dP.bytesToNumberLE)(e),o.create(t)}function h(e){let{head:t,prefix:r,scalar:o}=function(e){let t=s.BYTES;e=(0,dP.ensureBytes)("private key",e,t);let r=(0,dP.ensureBytes)("hashed private key",n(e),2*t),i=l(r.slice(0,t)),o=r.slice(t,2*t),a=d(i);return{head:i,prefix:o,scalar:a}}(e),a=i.multiply(o),u=a.toBytes();return{head:t,prefix:r,scalar:o,point:a,pointBytes:u}}function f(e=Uint8Array.of(),...t){let i=(0,dP.concatBytes)(...t);return d(n(c(i,(0,dP.ensureBytes)("context",e),!!r)))}return i.precompute(8),{getPublicKey:function(e){return h(e).pointBytes},sign:function(e,t,n={}){e=(0,dP.ensureBytes)("message",e),r&&(e=r(e));let{prefix:u,scalar:l,pointBytes:c}=h(t),d=f(n.context,u,e),p=i.multiply(d).toBytes(),g=f(n.context,p,c,e),y=o.create(d+g*l);(0,dP.aInRange)("signature.s",y,hf,a);let m=s.BYTES,b=(0,dP.concatBytes)(p,(0,dP.numberToBytesLE)(y,m));return(0,dP.ensureBytes)("result",b,2*m)},verify:function(t,n,o,a=hm){let u,l,c;let{context:d,zip215:h}=a,p=s.BYTES;t=(0,dP.ensureBytes)("signature",t,2*p),n=(0,dP.ensureBytes)("message",n),o=(0,dP.ensureBytes)("publicKey",o,p),void 0!==h&&(0,dP.abool)("zip215",h),r&&(n=r(n));let g=(0,dP.bytesToNumberLE)(t.slice(p,2*p));try{u=e.fromHex(o,h),l=e.fromHex(t.slice(0,p),h),c=i.multiplyUnsafe(g)}catch(e){return!1}if(!h&&u.isSmallOrder())return!1;let y=f(d,l.toBytes(),u.toBytes(),n),m=l.add(u.multiplyUnsafe(y));return m.subtract(c).clearCofactor().is0()},utils:{getExtendedPublicKey:h,randomPrivateKey:()=>u(s.BYTES),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},Point:e}}var hv={};Object.defineProperty(hv,"__esModule",{value:!0}),hv.expand_message_xmd=hk,hv.expand_message_xof=hA,hv.hash_to_field=hx,hv.isogenyMap=function(e,t){let r=t.map(e=>Array.from(e).reverse());return(t,n)=>{let[i,s,o,a]=r.map(r=>r.reduce((r,n)=>e.add(e.mul(r,t),n))),[u,l]=(0,dF.FpInvertBatch)(e,[s,a],!0);return t=e.mul(i,u),n=e.mul(n,e.mul(o,l)),{x:t,y:n}}},hv.createHasher=function(e,t,r){if("function"!=typeof t)throw Error("mapToCurve() must be defined");function n(r){return e.fromAffine(t(r))}function i(t){let r=t.clearCofactor();return r.equals(e.ZERO)?e.ZERO:(r.assertValidity(),r)}return{defaults:r,hashToCurve(e,t){let s=r.DST?r.DST:{},o=Object.assign({},r,s,t),a=hx(e,2,o),u=n(a[0]),l=n(a[1]);return i(u.add(l))},encodeToCurve(e,t){let s=r.encodeDST?r.encodeDST:{},o=Object.assign({},r,s,t),a=hx(e,1,o);return i(n(a[0]))},mapToCurve(e){if(!Array.isArray(e))throw Error("expected array of bigints");for(let t of e)if("bigint"!=typeof t)throw Error("expected array of bigints");return i(n(e))}}};let hw=dP.bytesToNumberBE;function hE(e,t){if(hS(e),hS(t),e<0||e>=1<<8*t)throw Error("invalid I2OSP input: "+e);let r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function hS(e){if(!Number.isSafeInteger(e))throw Error("number expected")}function hk(e,t,r,n){(0,dP.abytes)(e),(0,dP.abytes)(t),hS(r),t.length>255&&(t=n((0,dP.concatBytes)((0,dP.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));let{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(r>65535||o>255)throw Error("expand_message_xmd: invalid lenInBytes");let a=(0,dP.concatBytes)(t,hE(t.length,1)),u=hE(0,s),l=hE(r,2),c=Array(o),d=n((0,dP.concatBytes)(u,e,l,hE(0,1),a));c[0]=n((0,dP.concatBytes)(d,hE(1,1),a));for(let e=1;e<=o;e++){let t=[function(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}(d,c[e-1]),hE(e+1,1),a];c[e]=n((0,dP.concatBytes)(...t))}let h=(0,dP.concatBytes)(...c);return h.slice(0,r)}function hA(e,t,r,n,i){if((0,dP.abytes)(e),(0,dP.abytes)(t),hS(r),t.length>255&&(t=i.create({dkLen:Math.ceil(2*n/8)}).update((0,dP.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()),r>65535||t.length>255)throw Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(hE(r,2)).update(t).update(hE(t.length,1)).digest()}function hx(e,t,r){let n;(0,dP._validateObject)(r,{p:"bigint",m:"number",k:"number",hash:"function"});let{p:i,k:s,m:o,hash:a,expand:u,DST:l}=r;if(!(0,dP.isBytes)(l)&&"string"!=typeof l)throw Error("DST must be string or uint8array");if(!(0,dP.isHash)(r.hash))throw Error("expected valid hash");(0,dP.abytes)(e),hS(t);let c="string"==typeof l?(0,dP.utf8ToBytes)(l):l,d=i.toString(2).length,h=Math.ceil((d+s)/8),f=t*o*h;if("xmd"===u)n=hk(e,c,f,a);else if("xof"===u)n=hA(e,c,f,s,a);else if("_internal_pass"===u)n=e;else throw Error('expand must be "xmd" or "xof"');let p=Array(t);for(let e=0;e<t;e++){let t=Array(o);for(let r=0;r<o;r++){let s=h*(r+e*o),a=n.subarray(s,s+h);t[r]=(0,dF.mod)(hw(a),i)}p[e]=t}return p}var hI={};Object.defineProperty(hI,"__esModule",{value:!0}),hI.montgomery=function(e){let t=((0,dP._validateObject)(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})),{P:r,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=t,a="x25519"===n;if(!a&&"x448"!==n)throw Error("invalid type");let u=o||dP.randomBytes,l=a?255:448,c=a?32:56,d=a?BigInt(9):BigInt(5),h=a?BigInt(121665):BigInt(39081),f=a?hB**BigInt(254):hB**BigInt(447),p=a?BigInt(8)*hB**BigInt(251)-hO:BigInt(4)*hB**BigInt(445)-hO,g=f+p+hO,y=e=>(0,dF.mod)(e,r),m=b(d);function b(e){return(0,dP.numberToBytesLE)(y(e),c)}function _(e,t){let n=function(e,t){(0,dP.aInRange)("u",e,hT,r),(0,dP.aInRange)("scalar",t,f,g);let n=hO,i=hT,o=e,a=hO,u=hT;for(let r=BigInt(l-1);r>=hT;r--){let s=t>>r&hO;u^=s,({x_2:n,x_3:o}=w(u,n,o)),({x_2:i,x_3:a}=w(u,i,a)),u=s;let l=n+i,c=y(l*l),d=n-i,f=y(d*d),p=c-f,g=o+a,m=o-a,b=y(m*l),_=y(g*d),v=b+_,E=b-_;o=y(v*v),a=y(e*y(E*E)),n=y(c*f),i=y(p*(c+y(h*p)))}({x_2:n,x_3:o}=w(u,n,o)),{x_2:i,x_3:a}=w(u,i,a);let c=s(i);return y(n*c)}(function(e){let t=(0,dP.ensureBytes)("u coordinate",e,c);return a&&(t[31]&=127),y((0,dP.bytesToNumberLE)(t))}(t),(0,dP.bytesToNumberLE)(i((0,dP.ensureBytes)("scalar",e,c))));if(n===hT)throw Error("invalid private or public key received");return b(n)}function v(e){return _(e,m)}function w(e,t,r){let n=y(e*(t-r));return{x_2:t=y(t-n),x_3:r=y(r+n)}}return{scalarMult:_,scalarMultBase:v,getSharedSecret:(e,t)=>_(e,t),getPublicKey:e=>v(e),utils:{randomPrivateKey:()=>u(c)},GuBytes:m.slice()}};let hT=BigInt(0),hO=BigInt(1),hB=BigInt(2),hC=BigInt(0),hP=BigInt(1),hR=BigInt(2),hL=BigInt(3),hM=BigInt(5),hN=BigInt(8),hD={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:hN,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function hU(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=hD.p,o=e*e%s,a=o*e%s,u=(0,dF.pow2)(a,hR,s)*a%s,l=(0,dF.pow2)(u,hP,s)*e%s,c=(0,dF.pow2)(l,hM,s)*l%s,d=(0,dF.pow2)(c,t,s)*c%s,h=(0,dF.pow2)(d,r,s)*d%s,f=(0,dF.pow2)(h,n,s)*h%s,p=(0,dF.pow2)(f,i,s)*f%s,g=(0,dF.pow2)(p,i,s)*f%s,y=(0,dF.pow2)(g,t,s)*c%s,m=(0,dF.pow2)(y,hR,s)*e%s;return{pow_p_5_8:m,b2:a}}function hj(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}let hq=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function hF(e,t){let r=hD.p,n=(0,dF.mod)(t*t*t,r),i=(0,dF.mod)(n*n*t,r),s=hU(e*i).pow_p_5_8,o=(0,dF.mod)(e*n*s,r),a=(0,dF.mod)(t*o*o,r),u=o,l=(0,dF.mod)(o*hq,r),c=a===e,d=a===(0,dF.mod)(-e,r),h=a===(0,dF.mod)(-e*hq,r);return c&&(o=u),(d||h)&&(o=l),(0,dF.isNegativeLE)(o,r)&&(o=(0,dF.mod)(-o,r)),{isValid:c||d,value:o}}dB.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];let h$=(0,dF.Field)(hD.p,void 0,!0),hz={...hD,Fp:h$,hash:D.sha512,adjustScalarBytes:hj,uvRatio:hF};function hH(e,t,r){if(t.length>255)throw Error("Context is too big");return(0,j.concatBytes)((0,j.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,t.length]),t,e)}function hW(e){let t=(0,dP.ensureBytes)("pub",e),{y:r}=dB.ed25519.Point.fromHex(t),n=BigInt(1);return h$.toBytes(h$.create((n+r)*h$.inv(n-r)))}dB.ed25519=(0,hh.twistedEdwards)(hz),dB.ed25519ctx=(0,hh.twistedEdwards)({...hz,domain:hH}),dB.ed25519ph=(0,hh.twistedEdwards)(Object.assign({},hz,{domain:hH,prehash:D.sha512})),dB.x25519=(()=>{let e=hD.p;return(0,hI.montgomery)({P:e,type:"x25519",powPminus2:t=>{let{pow_p_5_8:r,b2:n}=hU(t);return(0,dF.mod)((0,dF.pow2)(r,hL,e)*n,e)},adjustScalarBytes:hj})})(),dB.edwardsToMontgomery=hW;let hK=(h$.ORDER+hL)/hN,hV=h$.pow(hR,hK),hG=h$.sqrt(h$.neg(h$.ONE)),hQ=(0,dF.FpSqrtEven)(h$,h$.neg(BigInt(486664)));function hJ(e){if(!(e instanceof h3))throw Error("RistrettoPoint expected")}dB.ed25519_hasher=(0,hv.createHasher)(dB.ed25519.Point,e=>(function(e){let{xMn:t,xMd:r,yMn:n,yMd:i}=function(e){let t=(h$.ORDER-hM)/hN,r=BigInt(486662),n=h$.sqr(e);n=h$.mul(n,hR);let i=h$.add(n,h$.ONE),s=h$.neg(r),o=h$.sqr(i),a=h$.mul(o,i),u=h$.mul(n,r);u=h$.mul(u,s),u=h$.add(u,o),u=h$.mul(u,s);let l=h$.sqr(a);o=h$.sqr(l),l=h$.mul(l,a),l=h$.mul(l,u),o=h$.mul(o,l);let c=h$.pow(o,t);c=h$.mul(c,l);let d=h$.mul(c,hG);o=h$.sqr(c),o=h$.mul(o,a);let h=h$.eql(o,u),f=h$.cmov(d,c,h),p=h$.mul(s,n),g=h$.mul(c,e);g=h$.mul(g,hV);let y=h$.mul(g,hG),m=h$.mul(u,n);o=h$.sqr(g),o=h$.mul(o,a);let b=h$.eql(o,m),_=h$.cmov(y,g,b);o=h$.sqr(f),o=h$.mul(o,a);let v=h$.eql(o,u),w=h$.cmov(p,s,v),E=h$.cmov(_,f,v),S=h$.isOdd(E);return{xMn:w,xMd:i,yMn:E=h$.cmov(E,h$.neg(E),v!==S),yMd:hP}}(e),s=h$.mul(t,i);s=h$.mul(s,hQ);let o=h$.mul(r,n),a=h$.sub(t,r),u=h$.add(t,r),l=h$.mul(o,u),c=h$.eql(l,h$.ZERO);s=h$.cmov(s,h$.ZERO,c),o=h$.cmov(o,h$.ONE,c),a=h$.cmov(a,h$.ONE,c),u=h$.cmov(u,h$.ONE,c);let[d,h]=(0,dF.FpInvertBatch)(h$,[o,u],!0);return{x:h$.mul(s,d),y:h$.mul(a,h)}})(e[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:h$.ORDER,m:1,k:128,expand:"xmd",hash:D.sha512}),dB.hashToCurve=dB.ed25519_hasher.hashToCurve,dB.encodeToCurve=dB.ed25519_hasher.encodeToCurve;let hZ=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),hX=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),hY=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),h0=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),h1=e=>hF(hP,e),h2=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),h6=e=>dB.ed25519.CURVE.Fp.create((0,dP.bytesToNumberLE)(e)&h2);function h8(e){let{d:t}=dB.ed25519.CURVE,r=dB.ed25519.CURVE.Fp.ORDER,n=dB.ed25519.CURVE.Fp.create,i=n(hq*e*e),s=n((i+hP)*hY),o=BigInt(-1),a=n((o-t*i)*n(i+t)),{isValid:u,value:l}=hF(s,a),c=n(l*e);(0,dF.isNegativeLE)(c,r)||(c=n(-c)),u||(l=c),u||(o=i);let d=n(o*(i-hP)*h0-a),h=l*l,f=n((l+l)*a),p=n(d*hZ),g=n(hP-h),y=n(hP+h);return new dB.ed25519.Point(n(f*y),n(g*p),n(p*y),n(f*g))}class h3{constructor(e){this.ep=e}static fromAffine(e){return new h3(dB.ed25519.Point.fromAffine(e))}static hashToCurve(e){e=(0,dP.ensureBytes)("ristrettoHash",e,64);let t=h6(e.slice(0,32)),r=h8(t),n=h6(e.slice(32,64)),i=h8(n);return new h3(r.add(i))}static fromBytes(e){return(0,j.abytes)(e),this.fromHex(e)}static fromHex(e){e=(0,dP.ensureBytes)("ristrettoHex",e,32);let{a:t,d:r}=dB.ed25519.CURVE,n=h$.ORDER,i=h$.create,s="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=h6(e);if(!(0,dP.equalBytes)((0,dP.numberToBytesLE)(o,32),e)||(0,dF.isNegativeLE)(o,n))throw Error(s);let a=i(o*o),u=i(hP+t*a),l=i(hP-t*a),c=i(u*u),d=i(l*l),h=i(t*r*c-d),{isValid:f,value:p}=h1(i(h*d)),g=i(p*l),y=i(p*g*h),m=i((o+o)*g);(0,dF.isNegativeLE)(m,n)&&(m=i(-m));let b=i(u*y),_=i(m*b);if(!f||(0,dF.isNegativeLE)(_,n)||b===hC)throw Error(s);return new h3(new dB.ed25519.Point(m,b,hP,_))}static msm(e,t){let r=(0,dF.Field)(dB.ed25519.CURVE.n,dB.ed25519.CURVE.nBitLength);return(0,dC.pippenger)(h3,r,e,t)}toBytes(){let e,{ex:t,ey:r,ez:n,et:i}=this.ep,s=h$.ORDER,o=h$.create,a=o(o(n+r)*o(n-r)),u=o(t*r),l=o(u*u),{value:c}=h1(o(a*l)),d=o(c*a),h=o(c*u),f=o(d*h*i);if((0,dF.isNegativeLE)(i*f,s)){let n=o(r*hq),i=o(t*hq);t=n,r=i,e=o(d*hX)}else e=h;(0,dF.isNegativeLE)(t*f,s)&&(r=o(-r));let p=o((n-r)*e);return(0,dF.isNegativeLE)(p,s)&&(p=o(-p)),(0,dP.numberToBytesLE)(p,32)}toRawBytes(){return this.toBytes()}toHex(){return(0,dP.bytesToHex)(this.toBytes())}toString(){return this.toHex()}equals(e){hJ(e);let{ex:t,ey:r}=this.ep,{ex:n,ey:i}=e.ep,s=h$.create,o=s(t*i)===s(r*n),a=s(r*i)===s(t*n);return o||a}add(e){return hJ(e),new h3(this.ep.add(e.ep))}subtract(e){return hJ(e),new h3(this.ep.subtract(e.ep))}multiply(e){return new h3(this.ep.multiply(e))}multiplyUnsafe(e){return new h3(this.ep.multiplyUnsafe(e))}double(){return new h3(this.ep.double())}negate(){return new h3(this.ep.negate())}}dB.RistrettoPoint=(h3.BASE||(h3.BASE=new h3(dB.ed25519.Point.BASE)),h3.ZERO||(h3.ZERO=new h3(dB.ed25519.Point.ZERO)),h3),dB.hashToRistretto255=(e,t)=>{let r=t.DST,n="string"==typeof r?(0,j.utf8ToBytes)(r):r,i=(0,hv.expand_message_xmd)(e,n,64,D.sha512),s=h3.hashToCurve(i);return s},dB.hash_to_ristretto255=dB.hashToRistretto255;var h5=M("9U7pb"),h4=M("63LgX"),h7={},dO=M("acDaE"),h9=dO.Buffer,fe=h7&&h7.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),ft=h7&&h7.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fr=h7&&h7.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},fn=h7&&h7.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&fe(t,e,r);return ft(t,e),t},fi=h7&&h7.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(h7,"__esModule",{value:!0}),h7.deserializeUnchecked=h7.deserialize=h7.serialize=h7.BinaryReader=h7.BinaryWriter=h7.BorshError=h7.baseDecode=h7.baseEncode=void 0;let fs=fi(M("9U7pb")),fo=fi(M("63LgX")),fa=fn(M("gbUa2")),fu="function"!=typeof TextDecoder?fa.TextDecoder:TextDecoder,fl=new fu("utf-8",{fatal:!0});h7.baseEncode=function(e){return"string"==typeof e&&(e=h9.from(e,"utf8")),fo.default.encode(h9.from(e))},h7.baseDecode=function(e){return h9.from(fo.default.decode(e))};class fc extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}h7.BorshError=fc;class fd{constructor(){this.buf=h9.alloc(1024),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=h9.concat([this.buf,h9.alloc(1024)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(h9.from(new fs.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(h9.from(new fs.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(h9.from(new fs.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(h9.from(new fs.default(e).toArray("le",64)))}writeBuffer(e){this.buf=h9.concat([h9.from(this.buf.subarray(0,this.length)),e,h9.alloc(1024)]),this.length+=e.length}writeString(e){this.maybeResize();let t=h9.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(h9.from(e))}writeArray(e,t){for(let r of(this.maybeResize(),this.writeU32(e.length),e))this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function fh(e,t,r){let n=r.value;r.value=function(...e){try{return n.apply(this,e)}catch(e){if(e instanceof RangeError){let t=e.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(t)>=0)throw new fc("Reached the end of buffer when deserializing")}throw e}}}h7.BinaryWriter=fd;class ff{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new fs.default(e,"le")}readU128(){let e=this.readBuffer(16);return new fs.default(e,"le")}readU256(){let e=this.readBuffer(32);return new fs.default(e,"le")}readU512(){let e=this.readBuffer(64);return new fs.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new fc(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return fl.decode(t)}catch(e){throw new fc(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),r=[];for(let n=0;n<t;++n)r.push(e());return r}}function fp(e){return e.charAt(0).toUpperCase()+e.slice(1)}function fg(e,t,r,n,i){try{if("string"==typeof n)i[`write${fp(n)}`](r);else if(n instanceof Array){if("number"==typeof n[0]){if(r.length!==n[0])throw new fc(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new fc(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let t=0;t<n[1];t++)fg(e,null,r[t],n[0],i)}else i.writeArray(r,r=>{fg(e,t,r,n[0],i)})}else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),fg(e,t,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach((r,s)=>{fg(e,t,s,n.key,i),fg(e,t,r,n.value,i)});break;default:throw new fc(`FieldType ${n} unrecognized`)}else fy(e,r,i)}catch(e){throw e instanceof fc&&e.addToFieldPath(t),e}}function fy(e,t,r){if("function"==typeof t.borshSerialize){t.borshSerialize(r);return}let n=e.get(t.constructor);if(!n)throw new fc(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map(([n,i])=>{fg(e,n,t[n],i,r)});else if("enum"===n.kind){let i=t[n.field];for(let s=0;s<n.values.length;++s){let[o,a]=n.values[s];if(o===i){r.writeU8(s),fg(e,o,t[o],a,r);break}}}else throw new fc(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function fm(e,t,r,n){try{if("string"==typeof r)return n[`read${fp(r)}`]();if(r instanceof Array){if("number"==typeof r[0])return n.readFixedArray(r[0]);if("number"!=typeof r[1])return n.readArray(()=>fm(e,t,r[0],n));{let t=[];for(let i=0;i<r[1];i++)t.push(fm(e,null,r[0],n));return t}}if("option"===r.kind){let i=n.readU8();if(i)return fm(e,t,r.type,n);return}if("map"===r.kind){let i=new Map,s=n.readU32();for(let o=0;o<s;o++){let s=fm(e,t,r.key,n),o=fm(e,t,r.value,n);i.set(s,o)}return i}return fb(e,r,n)}catch(e){throw e instanceof fc&&e.addToFieldPath(t),e}}function fb(e,t,r){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(r);let n=e.get(t);if(!n)throw new fc(`Class ${t.name} is missing in schema`);if("struct"===n.kind){let n={};for(let[i,s]of e.get(t).fields)n[i]=fm(e,i,s,r);return new t(n)}if("enum"===n.kind){let i=r.readU8();if(i>=n.values.length)throw new fc(`Enum index: ${i} is out of range`);let[s,o]=n.values[i],a=fm(e,s,o,r);return new t({[s]:a})}throw new fc(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}fr([fh],ff.prototype,"readU8",null),fr([fh],ff.prototype,"readU16",null),fr([fh],ff.prototype,"readU32",null),fr([fh],ff.prototype,"readU64",null),fr([fh],ff.prototype,"readU128",null),fr([fh],ff.prototype,"readU256",null),fr([fh],ff.prototype,"readU512",null),fr([fh],ff.prototype,"readString",null),fr([fh],ff.prototype,"readFixedArray",null),fr([fh],ff.prototype,"readArray",null),h7.BinaryReader=ff,h7.serialize=function(e,t,r=fd){let n=new r;return fy(e,t,n),n.toArray()},h7.deserialize=function(e,t,r,n=ff){let i=new n(r),s=fb(e,t,i);if(i.offset<r.length)throw new fc(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s},h7.deserializeUnchecked=function(e,t,r,n=ff){let i=new n(r);return fb(e,t,i)};var f_={};Object.defineProperty(f_,"__esModule",{value:!0}),f_.s16=f_.s8=f_.nu64be=f_.u48be=f_.u40be=f_.u32be=f_.u24be=f_.u16be=f_.nu64=f_.u48=f_.u40=f_.u32=f_.u24=f_.u16=f_.u8=f_.offset=f_.greedy=f_.Constant=f_.UTF8=f_.CString=f_.Blob=f_.Boolean=f_.BitField=f_.BitStructure=f_.VariantLayout=f_.Union=f_.UnionLayoutDiscriminator=f_.UnionDiscriminator=f_.Structure=f_.Sequence=f_.DoubleBE=f_.Double=f_.FloatBE=f_.Float=f_.NearInt64BE=f_.NearInt64=f_.NearUInt64BE=f_.NearUInt64=f_.IntBE=f_.Int=f_.UIntBE=f_.UInt=f_.OffsetLayout=f_.GreedyCount=f_.ExternalLayout=f_.bindConstructorLayout=f_.nameWithProperty=f_.Layout=f_.uint8ArrayToBuffer=f_.checkUint8Array=void 0,f_.constant=f_.utf8=f_.cstr=f_.blob=f_.unionLayoutDiscriminator=f_.union=f_.seq=f_.bits=f_.struct=f_.f64be=f_.f64=f_.f32be=f_.f32=f_.ns64be=f_.s48be=f_.s40be=f_.s32be=f_.s24be=f_.s16be=f_.ns64=f_.s48=f_.s40=f_.s32=f_.s24=void 0;var dO=M("acDaE");function fv(e){if(!(e instanceof Uint8Array))throw TypeError("b must be a Uint8Array")}function fw(e){return fv(e),dO.Buffer.from(e.buffer,e.byteOffset,e.length)}f_.checkUint8Array=fv,f_.uint8ArrayToBuffer=fw;class fE{constructor(e,t){if(!Number.isInteger(e))throw TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function fS(e,t){return t.property?e+"["+t.property+"]":e}f_.Layout=fE,f_.nameWithProperty=fS,f_.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw Error("Class is already bound to a layout");if(!(t&&t instanceof fE))throw TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value:(e,r)=>t.decode(e,r),writable:!0})};class fk extends fE{isCount(){throw Error("ExternalLayout is abstract")}}f_.ExternalLayout=fk;class fA extends fk{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){fv(e);let r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}f_.GreedyCount=fA;class fx extends fk{constructor(e,t=0,r){if(!(e instanceof fE))throw TypeError("layout must be a Layout");if(!Number.isInteger(t))throw TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof fI||this.layout instanceof fT}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}f_.OffsetLayout=fx;class fI extends fE{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return fw(e).readUIntLE(t,this.span)}encode(e,t,r=0){return fw(t).writeUIntLE(e,r,this.span),this.span}}f_.UInt=fI;class fT extends fE{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return fw(e).readUIntBE(t,this.span)}encode(e,t,r=0){return fw(t).writeUIntBE(e,r,this.span),this.span}}f_.UIntBE=fT;class fO extends fE{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return fw(e).readIntLE(t,this.span)}encode(e,t,r=0){return fw(t).writeIntLE(e,r,this.span),this.span}}f_.Int=fO;class fB extends fE{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return fw(e).readIntBE(t,this.span)}encode(e,t,r=0){return fw(t).writeIntBE(e,r,this.span),this.span}}function fC(e){let t=Math.floor(e/4294967296);return{hi32:t,lo32:e-4294967296*t}}function fP(e,t){return 4294967296*e+t}f_.IntBE=fB;class fR extends fE{constructor(e){super(8,e)}decode(e,t=0){let r=fw(e),n=r.readUInt32LE(t),i=r.readUInt32LE(t+4);return fP(i,n)}encode(e,t,r=0){let n=fC(e),i=fw(t);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}f_.NearUInt64=fR;class fL extends fE{constructor(e){super(8,e)}decode(e,t=0){let r=fw(e),n=r.readUInt32BE(t),i=r.readUInt32BE(t+4);return fP(n,i)}encode(e,t,r=0){let n=fC(e),i=fw(t);return i.writeUInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}f_.NearUInt64BE=fL;class fM extends fE{constructor(e){super(8,e)}decode(e,t=0){let r=fw(e),n=r.readUInt32LE(t),i=r.readInt32LE(t+4);return fP(i,n)}encode(e,t,r=0){let n=fC(e),i=fw(t);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}f_.NearInt64=fM;class fN extends fE{constructor(e){super(8,e)}decode(e,t=0){let r=fw(e),n=r.readInt32BE(t),i=r.readUInt32BE(t+4);return fP(n,i)}encode(e,t,r=0){let n=fC(e),i=fw(t);return i.writeInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}f_.NearInt64BE=fN;class fD extends fE{constructor(e){super(4,e)}decode(e,t=0){return fw(e).readFloatLE(t)}encode(e,t,r=0){return fw(t).writeFloatLE(e,r),4}}f_.Float=fD;class fU extends fE{constructor(e){super(4,e)}decode(e,t=0){return fw(e).readFloatBE(t)}encode(e,t,r=0){return fw(t).writeFloatBE(e,r),4}}f_.FloatBE=fU;class fj extends fE{constructor(e){super(8,e)}decode(e,t=0){return fw(e).readDoubleLE(t)}encode(e,t,r=0){return fw(t).writeDoubleLE(e,r),8}}f_.Double=fj;class fq extends fE{constructor(e){super(8,e)}decode(e,t=0){return fw(e).readDoubleBE(t)}encode(e,t,r=0){return fw(t).writeDoubleBE(e,r),8}}f_.DoubleBE=fq;class fF extends fE{constructor(e,t,r){if(!(e instanceof fE))throw TypeError("elementLayout must be a Layout");if(!(t instanceof fk&&t.isCount()||Number.isInteger(t)&&0<=t))throw TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;t instanceof fk||!(0<e.span)||(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof fk&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t=0){let r=[],n=0,i=this.count;for(i instanceof fk&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r=0){let n=this.elementLayout,i=e.reduce((e,i)=>e+n.encode(i,t,r+e),0);return this.count instanceof fk&&this.count.encode(e.length,t,r),i}}f_.Sequence=fF;class f$ extends fE{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((e,t)=>e&&t instanceof fE,!0)))throw TypeError("fields must be array of Layout instances");for(let n of("boolean"==typeof t&&void 0===r&&(r=t,t=void 0),e))if(0>n.span&&void 0===n.property)throw Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce((e,t)=>e+t.getSpan(),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((r,n)=>{let i=n.getSpan(e,t);return t+=i,r+i},0)}catch(e){throw RangeError("indeterminate span")}return r}decode(e,t=0){fv(e);let r=this.makeDestinationObject();for(let n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){let n=r,i=0,s=0;for(let n of this.fields){let o=n.span;if(s=0<o?o:0,void 0!==n.property){let i=e[n.property];void 0!==i&&(s=n.encode(i,t,r),0>o&&(o=n.getSpan(t,r)))}i=r,r+=o}return i+s-n}fromArray(e){let t=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw TypeError("property must be string");let t=0;for(let r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}f_.Structure=f$;class fz{constructor(e){this.property=e}decode(e,t){throw Error("UnionDiscriminator is abstract")}encode(e,t,r){throw Error("UnionDiscriminator is abstract")}}f_.UnionDiscriminator=fz;class fH extends fz{constructor(e,t){if(!(e instanceof fk&&e.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}f_.UnionLayoutDiscriminator=fH;class fW extends fE{constructor(e,t,r){let n;if(e instanceof fI||e instanceof fT)n=new fH(new fx(e));else if(e instanceof fk&&e.isCount())n=new fH(e);else if(e instanceof fz)n=e;else throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof fE))throw TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&0<=(i=t.span)&&(e instanceof fI||e instanceof fT)&&(i+=n.layout.span),super(i,r),this.discriminator=n,this.usesPrefixDiscriminator=e instanceof fI||e instanceof fT,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return s(e)},this.configGetSourceVariant=function(e){s=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let r=this.getVariant(e,t);if(!r)throw Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw Error("unable to infer src variant")}decode(e,t=0){let r;let n=this.discriminator,i=n.decode(e,t),s=this.registry[i];if(void 0===s){let s=this.defaultLayout,o=0;this.usesPrefixDiscriminator&&(o=n.layout.span),(r=this.makeDestinationObject())[n.property]=i,r[s.property]=s.decode(e,t+o)}else r=s.decode(e,t);return r}encode(e,t,r=0){let n=this.getSourceVariant(e);if(void 0===n){let n=this.discriminator,i=this.defaultLayout,s=0;return this.usesPrefixDiscriminator&&(s=n.layout.span),n.encode(e[n.property],t,r),s+i.encode(e[i.property],t,r+s)}return n.encode(e,t,r)}addVariant(e,t,r){let n=new fK(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t=0){let r;return r=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[r]}}f_.Union=fW;class fK extends fE{constructor(e,t,r,n){if(!(e instanceof fW))throw TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof fE))throw TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof n)throw TypeError("variant must have a String property")}let i=e.span;0>e.span&&0<=(i=r?r.span:0)&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n}decode(e,t=0){let r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function fV(e){return 0>e&&(e+=4294967296),e}f_.VariantLayout=fK;class fG extends fE{constructor(e,t,r){if(!(e instanceof fI||e instanceof fT))throw TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=fV(e),this},this._packedGetValue=function(){return n}}decode(e,t=0){let r=this.makeDestinationObject(),n=this.word.decode(e,t);for(let t of(this._packedSetValue(n),this.fields))void 0!==t.property&&(r[t.property]=t.decode(e));return r}encode(e,t,r=0){let n=this.word.decode(t,r);for(let t of(this._packedSetValue(n),this.fields))if(void 0!==t.property){let r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){let r=new fQ(this,e,t);return this.fields.push(r),r}addBoolean(e){let t=new fJ(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}}f_.BitStructure=fG;class fQ{constructor(e,t,r){if(!(e instanceof fG))throw TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw TypeError("bits must be positive integer");let n=8*e.span,i=e.fields.reduce((e,t)=>e+t.bits,0);if(t+i>n)throw Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=fV(this.valueMask<<this.start),this.property=r}decode(e,t){let r=this.container._packedGetValue(),n=fV(r&this.wordMask),i=n>>>this.start;return i}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==fV(e&this.valueMask))throw TypeError(fS("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),r=fV(e<<this.start);this.container._packedSetValue(fV(t&~this.wordMask)|r)}}f_.BitField=fQ;class fJ extends fQ{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e=+e),super.encode(e)}}f_.Boolean=fJ;class fZ extends fE{constructor(e,t){if(!(e instanceof fk&&e.isCount()||Number.isInteger(e)&&0<=e))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof fk||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),fw(e).slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof fk&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw TypeError(fS("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw RangeError("encoding overruns Uint8Array");let i=fw(e);return fw(t).write(i.toString("hex"),r,n,"hex"),this.length instanceof fk&&this.length.encode(n,t,r),n}}f_.Blob=fZ;class fX extends fE{constructor(e){super(-1,e)}getSpan(e,t=0){fv(e);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e,t=0){let r=this.getSpan(e,t);return fw(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));let n=dO.Buffer.from(e,"utf8"),i=n.length;if(r+i>t.length)throw RangeError("encoding overruns Buffer");let s=fw(t);return n.copy(s,r),s[r+i]=0,i+1}}f_.CString=fX;class fY extends fE{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return fv(e),e.length-t}decode(e,t=0){let r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw RangeError("text length exceeds maxSpan");return fw(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));let n=dO.Buffer.from(e,"utf8"),i=n.length;if(0<=this.maxSpan&&this.maxSpan<i)throw RangeError("text length exceeds maxSpan");if(r+i>t.length)throw RangeError("encoding overruns Buffer");return n.copy(fw(t),r),i}}f_.UTF8=fY;class f0 extends fE{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}}function f1([e,t]){return`${e}=${function e(t){if(Array.isArray(t)){let r=t.map(e).join("%2C%20");return"%5B"+r+"%5D"}return"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}f_.Constant=f0,f_.greedy=(e,t)=>new fA(e,t),f_.offset=(e,t,r)=>new fx(e,t,r),f_.u8=e=>new fI(1,e),f_.u16=e=>new fI(2,e),f_.u24=e=>new fI(3,e),f_.u32=e=>new fI(4,e),f_.u40=e=>new fI(5,e),f_.u48=e=>new fI(6,e),f_.nu64=e=>new fR(e),f_.u16be=e=>new fT(2,e),f_.u24be=e=>new fT(3,e),f_.u32be=e=>new fT(4,e),f_.u40be=e=>new fT(5,e),f_.u48be=e=>new fT(6,e),f_.nu64be=e=>new fL(e),f_.s8=e=>new fO(1,e),f_.s16=e=>new fO(2,e),f_.s24=e=>new fO(3,e),f_.s32=e=>new fO(4,e),f_.s40=e=>new fO(5,e),f_.s48=e=>new fO(6,e),f_.ns64=e=>new fM(e),f_.s16be=e=>new fB(2,e),f_.s24be=e=>new fB(3,e),f_.s32be=e=>new fB(4,e),f_.s40be=e=>new fB(5,e),f_.s48be=e=>new fB(6,e),f_.ns64be=e=>new fN(e),f_.f32=e=>new fD(e),f_.f32be=e=>new fU(e),f_.f64=e=>new fj(e),f_.f64be=e=>new fq(e),f_.struct=(e,t,r)=>new f$(e,t,r),f_.bits=(e,t,r)=>new fG(e,t,r),f_.seq=(e,t,r)=>new fF(e,t,r),f_.union=(e,t,r)=>new fW(e,t,r),f_.unionLayoutDiscriminator=(e,t)=>new fH(e,t),f_.blob=(e,t)=>new fZ(e,t),f_.cstr=e=>new fX(e),f_.utf8=(e,t)=>new fY(e,t),f_.constant=(e,t)=>new f0(e,t);var f2=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,n;if(t){let{cause:e,...i}=t;e&&(n={cause:e}),Object.keys(i).length>0&&(r=i)}let i=function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${function(e){let t=Object.entries(e).map(f1).join("&");return btoa(t)}(t)}'`),`${r}\``}}(e,r);super(i,n),this.context={__code:e,...r},this.name="SolanaError"}};function f6(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}var f8=((g=f8||{})[g.Little=0]="Little",g[g.Big=1]="Big",g);function f3(e){return e?.endian!==1}var f5=(e={})=>{var t,r;return Object.freeze({...r={fixedSize:(t={config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}).size,write(e,r,n){t.range&&function(e,t,r,n){if(n<t||n>r)throw new f2(8078011,{codecDescription:e,max:r,min:t,value:n})}(t.name,t.range[0],t.range[1],e);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,f3(t.config)),r.set(new Uint8Array(i),n),n+t.size}},encode:e=>{let t=new Uint8Array("fixedSize"in r?r.fixedSize:r.getSizeFromValue(e));return r.write(e,t,0),t}})},f4=(e={})=>{var t,r;return Object.freeze({...r={fixedSize:(t={config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}).size,read(e,r=0){(function(e,t,r=0){if(t.length-r<=0)throw new f2(8078e3,{codecDescription:e})})(t.name,e,r),function(e,t,r,n=0){let i=r.length-n;if(i<t)throw new f2(8078001,{bytesLength:i,codecDescription:e,expected:t})}(t.name,t.size,e,r);let n=new DataView(function(e,t,r){let n=e.byteOffset+(t??0),i=r??e.byteLength;return e.buffer.slice(n,n+i)}(e,r,t.size));return[t.get(n,f3(t.config)),r+t.size]}},decode:(e,t=0)=>r.read(e,t)[0]})},f7=(e={})=>(function(e,t){if(f6(e)!==f6(t))throw new f2(8078004);if(f6(e)&&f6(t)&&e.fixedSize!==t.fixedSize)throw new f2(8078005,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!f6(e)&&!f6(t)&&e.maxSize!==t.maxSize)throw new f2(8078006,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}})(f5(e),f4(e));class f9 extends TypeError{constructor(e,t){let r;let{message:n,explanation:i,...s}=e,{path:o}=e,a=0===o.length?n:`At path: ${o.join(".")} -- ${n}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function pe(e){return"object"==typeof e&&null!=e}function pt(e){return pe(e)&&!Array.isArray(e)}function pr(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*pn(e,t,r,n){var i;for(let s of(pe(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:i,branch:s}=t,{type:o}=r,{refinement:a,message:u=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${pr(n)}\``}=e;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:u}}(s,t,r,n);e&&(yield e)}}function*pi(e,t,r={}){let{path:n=[],branch:i=[e],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i,mask:o};s&&(e=t.coercer(e,a));let u="valid";for(let n of t.validator(e,a))n.explanation=r.message,u="not_valid",yield[n,void 0];for(let[l,c,d]of t.entries(e,a)){let t=pi(c,d,{path:void 0===l?n:[...n,l],branch:void 0===l?i:[...i,c],coerce:s,mask:o,message:r.message});for(let r of t)r[0]?(u=null!=r[0].refinement?"not_refined":"not_valid",yield[r[0],void 0]):s&&(c=r[1],void 0===l?e=c:e instanceof Map?e.set(l,c):e instanceof Set?e.add(c):pe(e)&&(void 0!==c||l in e)&&(e[l]=c))}if("not_valid"!==u)for(let n of t.refiner(e,a))n.explanation=r.message,u="not_refined",yield[n,void 0];"valid"===u&&(yield[void 0,e])}class ps{constructor(e){let{type:t,schema:r,validator:n,refiner:i,coercer:s=e=>e,entries:o=function*(){}}=e;this.type=t,this.schema=r,this.entries=o,this.coercer=s,n?this.validator=(e,t)=>{let r=n(e,t);return pn(r,t,this,e)}:this.validator=()=>[],i?this.refiner=(e,t)=>{let r=i(e,t);return pn(r,t,this,e)}:this.refiner=()=>[]}assert(e,t){return function(e,t,r){let n=pu(e,t,{message:r});if(n[0])throw n[0]}(e,this,t)}create(e,t){return po(e,this,t)}is(e){return pa(e,this)}mask(e,t){return function(e,t,r){let n=pu(e,t,{coerce:!0,mask:!0,message:r});if(!n[0])return n[1];throw n[0]}(e,this,t)}validate(e,t={}){return pu(e,this,t)}}function po(e,t,r){let n=pu(e,t,{coerce:!0,message:r});if(!n[0])return n[1];throw n[0]}function pa(e,t){let r=pu(e,t);return!r[0]}function pu(e,t,r={}){let n=pi(e,t,r),i=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(n);if(i[0]){let e=new f9(i[0],function*(){for(let e of n)e[0]&&(yield e[0])});return[e,void 0]}{let e=i[1];return[void 0,e]}}function pl(e,t){return new ps({type:e,schema:null,validator:t})}function pc(e){return new ps({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${pr(e)}`})}function pd(){return pl("boolean",e=>"boolean"==typeof e)}function ph(e){return pl("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${pr(t)}`)}function pf(e){let t=pr(e),r=typeof e;return new ps({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${pr(r)}`})}function pp(e){return new ps({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function pg(){return pl("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${pr(e)}`)}function py(e){return new ps({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function pm(e,t){return new ps({type:"record",schema:null,*entries(r){if(pe(r))for(let n in r){let i=r[n];yield[n,n,e],yield[n,i,t]}},validator:e=>pt(e)||`Expected an object, but received: ${pr(e)}`,coercer:e=>pt(e)?{...e}:e})}function pb(){return pl("string",e=>"string"==typeof e||`Expected a string, but received: ${pr(e)}`)}function p_(e){let t=pl("never",()=>!1);return new ps({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${pr(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function pv(e){let t=Object.keys(e);return new ps({type:"type",schema:e,*entries(r){if(pe(r))for(let n of t)yield[n,r[n],e[n]]},validator:e=>pt(e)||`Expected an object, but received: ${pr(e)}`,coercer:e=>pt(e)?{...e}:e})}function pw(e){let t=e.map(e=>e.type).join(" | ");return new ps({type:"union",schema:null,coercer(t,r){for(let n of e){let[e,i]=n.validate(t,{coerce:!0,mask:r.mask});if(!e)return i}return t},validator(r,n){let i=[];for(let t of e){let[...e]=pi(r,t,n),[s]=e;if(!s[0])return[];for(let[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${pr(r)}`,...i]}})}function pE(){return pl("unknown",()=>!0)}function pS(e,t,r){return new ps({...e,coercer:(n,i)=>pa(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}for(var pk={},pA=new Uint8Array(16),px=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,pI=[],pT=0;pT<256;++pT)pI.push((pT+256).toString(16).substr(1));var pO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(pI[e[t+0]]+pI[e[t+1]]+pI[e[t+2]]+pI[e[t+3]]+"-"+pI[e[t+4]]+pI[e[t+5]]+"-"+pI[e[t+6]]+pI[e[t+7]]+"-"+pI[e[t+8]]+pI[e[t+9]]+"-"+pI[e[t+10]]+pI[e[t+11]]+pI[e[t+12]]+pI[e[t+13]]+pI[e[t+14]]+pI[e[t+15]]).toLowerCase();if(!("string"==typeof r&&px.test(r)))throw TypeError("Stringified UUID is invalid");return r},pB=function(e,t,r){var n=(e=e||{}).random||(e.rng||function(){if(!I&&!(I="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return I(pA)})();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return pO(n)},pC={};pC=function(e,t,r,n){if("string"!=typeof e)throw TypeError(e+" must be a string");n=n||{};let i="number"==typeof n.version?n.version:2;if(1!==i&&2!==i)throw TypeError(i+" must be 1 or 2");let s={method:e};if(2===i&&(s.jsonrpc="2.0"),t){if("object"!=typeof t&&!Array.isArray(t))throw TypeError(t+" must be an object, array or omitted");s.params=t}if(void 0===r){let e="function"==typeof n.generator?n.generator:function(){return pB()};s.id=e(s,n)}else 2===i&&null===r?n.notificationIdNull&&(s.id=null):s.id=r;return s};let pP=function(e,t){if(!(this instanceof pP))return new pP(e,t);t||(t={}),this.options={reviver:void 0!==t.reviver?t.reviver:null,replacer:void 0!==t.replacer?t.replacer:null,generator:void 0!==t.generator?t.generator:function(){return pB()},version:void 0!==t.version?t.version:2,notificationIdNull:"boolean"==typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};pk=pP,pP.prototype.request=function(e,t,r,n){let i;let s=this,o=null,a=Array.isArray(e)&&"function"==typeof t;if(1===this.options.version&&a)throw TypeError("JSON-RPC 1.0 does not support batching");let u=!a&&e&&"object"==typeof e&&"function"==typeof t;if(a||u)n=t,o=e;else{"function"==typeof r&&(n=r,r=void 0);let i="function"==typeof n;try{o=pC(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(e){if(i)return n(e);throw e}if(!i)return o}try{i=JSON.stringify(o,this.options.replacer)}catch(e){return n(e)}return this.callServer(i,function(e,t){s._parseResponse(e,t,n)}),o},pP.prototype._parseResponse=function(e,t,r){let n;if(e){r(e);return}if(!t)return r();try{n=JSON.parse(t,this.options.reviver)}catch(e){return r(e)}if(3===r.length){if(!Array.isArray(n))return r(null,n.error,n.result);{let e=function(e){return void 0!==e.error};return r(null,n.filter(e),n.filter(function(t){return!e(t)}))}}r(null,n)};var dO=M("acDaE"),pR={},pL=Object.prototype.hasOwnProperty,pM="~";function pN(){}function pD(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function pU(e,t,r,n,i){if("function"!=typeof r)throw TypeError("The listener must be a function");var s=new pD(r,n||e,i),o=pM?pM+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],s]:e._events[o].push(s):(e._events[o]=s,e._eventsCount++),e}function pj(e,t){0==--e._eventsCount?e._events=new pN:delete e._events[t]}function pq(){this._events=new pN,this._eventsCount=0}Object.create&&(pN.prototype=Object.create(null),new pN().__proto__||(pM=!1)),pq.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)pL.call(e,t)&&r.push(pM?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},pq.prototype.listeners=function(e){var t=pM?pM+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,s=Array(i);n<i;n++)s[n]=r[n].fn;return s},pq.prototype.listenerCount=function(e){var t=pM?pM+e:e,r=this._events[t];return r?r.fn?1:r.length:0},pq.prototype.emit=function(e,t,r,n,i,s){var o=pM?pM+e:e;if(!this._events[o])return!1;var a,u,l=this._events[o],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,n),!0;case 5:return l.fn.call(l.context,t,r,n,i),!0;case 6:return l.fn.call(l.context,t,r,n,i,s),!0}for(u=1,a=Array(c-1);u<c;u++)a[u-1]=arguments[u];l.fn.apply(l.context,a)}else{var d,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,n);break;default:if(!a)for(d=1,a=Array(c-1);d<c;d++)a[d-1]=arguments[d];l[u].fn.apply(l[u].context,a)}}return!0},pq.prototype.on=function(e,t,r){return pU(this,e,t,r,!1)},pq.prototype.once=function(e,t,r){return pU(this,e,t,r,!0)},pq.prototype.removeListener=function(e,t,r,n){var i=pM?pM+e:e;if(!this._events[i])return this;if(!t)return pj(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||n&&!s.once||r&&s.context!==r||pj(this,i);else{for(var o=0,a=[],u=s.length;o<u;o++)(s[o].fn!==t||n&&!s[o].once||r&&s[o].context!==r)&&a.push(s[o]);a.length?this._events[i]=1===a.length?a[0]:a:pj(this,i)}return this},pq.prototype.removeAllListeners=function(e){var t;return e?(t=pM?pM+e:e,this._events[t]&&pj(this,t)):(this._events=new pN,this._eventsCount=0),this},pq.prototype.off=pq.prototype.removeListener,pq.prototype.addListener=pq.prototype.on,pq.prefixed=pM,pq.EventEmitter=pq,pR=pq;var pF=class extends pR.EventEmitter{socket;constructor(e,t,r){super(),this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,r){let n=r||t;try{this.socket.send(e),n()}catch(e){n(e)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,r){this.socket.addEventListener(e,t,r)}},p$=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},pz=class extends pR.EventEmitter{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,t="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...o}={},a,u){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=o,this.current_reconnects=0,this.generate_request_id=a||(()=>"number"==typeof this.rpc_id?++this.rpc_id:Number(this.rpc_id)+1),u?this.dataPack=u:this.dataPack=new p$,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,r,n){return n||"object"!=typeof r||(n=r,r=null),new Promise((i,s)=>{if(!this.ready)return s(Error("socket not ready"));let o=this.generate_request_id(e,t);this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:e,params:t||void 0,id:o}),n,e=>{if(e)return s(e);this.queue[o]={promise:[i,s]},r&&(this.queue[o].timeout=setTimeout(()=>{delete this.queue[o],s(Error("reply timeout"))},r))})})}async login(e){let t=await this.call("rpc.login",e);if(!t)throw Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((r,n)=>{if(!this.ready)return n(Error("socket not ready"));this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:e,params:t}),e=>{if(e)return n(e);r()})})}async subscribe(e){"string"==typeof e&&(e=[e]);let t=await this.call("rpc.on",e);if("string"==typeof e&&"ok"!==t[e])throw Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"==typeof e&&(e=[e]);let t=await this.call("rpc.off",e);if("string"==typeof e&&"ok"!==t[e])throw Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:e})=>{e instanceof ArrayBuffer&&(e=(0,dO.Buffer).from(e).toString());try{e=this.dataPack.decode(e)}catch(e){return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);let t=[e.notification];if(e.params.constructor===Object)t.push(e.params);else for(let r=0;r<e.params.length;r++)t.push(e.params[r]);return Promise.resolve().then(()=>{this.emit.apply(this,t)})}if(!this.queue[e.id])return e.method?Promise.resolve().then(()=>{this.emit(e.method,e?.params)}):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]}),this.socket.addEventListener("error",e=>this.emit("error",e)),this.socket.addEventListener("close",({code:r,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",r,n),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval)))})}},pH={};Object.defineProperty(pH,"__esModule",{value:!0}),pH.shake256=pH.shake128=pH.keccak_512=pH.keccak_384=pH.keccak_256=pH.keccak_224=pH.sha3_512=pH.sha3_384=pH.sha3_256=pH.sha3_224=pH.Keccak=void 0,pH.keccakP=p3;let pW=BigInt(0),pK=BigInt(1),pV=BigInt(2),pG=BigInt(7),pQ=BigInt(256),pJ=BigInt(113),pZ=[],pX=[],pY=[];for(let e=0,t=pK,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],pZ.push(2*(5*n+r)),pX.push((e+1)*(e+2)/2%64);let i=pW;for(let e=0;e<7;e++)(t=(t<<pK^(t>>pG)*pJ)%pQ)&pV&&(i^=pK<<(pK<<BigInt(e))-pK);pY.push(i)}let p0=(0,es.split)(pY,!0),p1=p0[0],p2=p0[1],p6=(e,t,r)=>r>32?(0,es.rotlBH)(e,t,r):(0,es.rotlSH)(e,t,r),p8=(e,t,r)=>r>32?(0,es.rotlBL)(e,t,r):(0,es.rotlSL)(e,t,r);function p3(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=p6(s,o,1)^r[n],u=p8(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=u}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=pX[r],s=p6(t,i,n),o=p8(t,i,n),a=pZ[r];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=p1[n],e[1]^=p2[n]}(0,j.clean)(r)}class p5 extends j.Hash{constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,(0,j.anumber)(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,j.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,j.swap32IfBE)(this.state32),p3(this.state32,this.rounds),(0,j.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,j.aexists)(this),e=(0,j.toBytes)(e),(0,j.abytes)(e);let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,j.aexists)(this,!1),(0,j.abytes)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,j.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,j.aoutput)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,j.clean)(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new p5(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}pH.Keccak=p5;let p4=(e,t,r)=>(0,j.createHasher)(()=>new p5(t,e,r));pH.sha3_224=p4(6,144,28),pH.sha3_256=p4(6,136,32),pH.sha3_384=p4(6,104,48),pH.sha3_512=p4(6,72,64),pH.keccak_224=p4(1,144,28),pH.keccak_256=p4(1,136,32),pH.keccak_384=p4(1,104,48),pH.keccak_512=p4(1,72,64);let p7=(e,t,r)=>(0,j.createXOFer)((n={})=>new p5(t,e,void 0===n.dkLen?r:n.dkLen,!0));pH.shake128=p7(31,168,16),pH.shake256=p7(31,136,32);var p9={};Object.defineProperty(p9,"__esModule",{value:!0}),p9.encodeToCurve=p9.hashToCurve=p9.secp256k1_hasher=p9.schnorr=p9.secp256k1=void 0;var ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.getHash=function(e){return{hash:e}},ge.createCurve=function(e,t){let r=t=>(0,gt.weierstrass)({...e,hash:t});return{...r(t),create:r}};var gt={};Object.defineProperty(gt,"__esModule",{value:!0}),gt.DER=gt.DERErr=void 0,gt._legacyHelperEquat=gd,gt._legacyHelperNormPriv=gh,gt.weierstrassN=gf,gt.weierstrassPoints=function(e){let{CURVE:t,curveOpts:r}=gy(e),n=gf(t,r);return function(e,t){let{Fp:r,Fn:n}=t,i=gd(r,e.a,e.b),s=gh(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return Object.assign({},{CURVE:e,Point:t,ProjectivePoint:t,normPrivateKeyToScalar:s,weierstrassEquation:i,isWithinCurveOrder:function(e){return(0,dP.inRange)(e,ga,n.ORDER)}})}(e,n)},gt.ecdsa=gg,gt.weierstrass=function(e){let{CURVE:t,curveOpts:r,ecdsaOpts:n}=function(e){let{CURVE:t,curveOpts:r}=gy(e),n={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:r,ecdsaOpts:n}}(e),i=gf(t,r),s=gg(i,n,r);return Object.assign({},s,{ProjectivePoint:s.Point,CURVE:e})},gt.SWUFpSqrtRatio=gm,gt.mapToCurveSimpleSWU=function(e,t){(0,dF.validateField)(e);let{A:r,B:n,Z:i}=t;if(!e.isValid(r)||!e.isValid(n)||!e.isValid(i))throw Error("mapToCurveSimpleSWU: invalid opts");let s=gm(e,i);if(!e.isOdd)throw Error("Field does not have .isOdd()");return t=>{let o,a,u,l,c,d,h,f;o=e.sqr(t),o=e.mul(o,i),a=e.sqr(o),a=e.add(a,o),u=e.add(a,e.ONE),u=e.mul(u,n),l=e.cmov(i,e.neg(a),!e.eql(a,e.ZERO)),l=e.mul(l,r),a=e.sqr(u),d=e.sqr(l),c=e.mul(d,r),a=e.add(a,c),a=e.mul(a,u),d=e.mul(d,l),c=e.mul(d,n),a=e.add(a,c),h=e.mul(o,u);let{isValid:p,value:g}=s(a,d);f=e.mul(o,t),f=e.mul(f,g),h=e.cmov(h,u,p),f=e.cmov(f,g,p);let y=e.isOdd(t)===e.isOdd(f);f=e.cmov(e.neg(f),f,y);let m=(0,dF.FpInvertBatch)(e,[l],!0)[0];return{x:h=e.mul(h,m),y:f}}};var gr={};Object.defineProperty(gr,"__esModule",{value:!0}),gr.hmac=gr.HMAC=void 0;class gn extends j.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,j.ahash)(e);let r=(0,j.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),(0,j.clean)(i)}update(e){return(0,j.aexists)(this),this.iHash.update(e),this}digestInto(e){(0,j.aexists)(this),(0,j.abytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}function gi(e){void 0!==e.lowS&&(0,dP.abool)("lowS",e.lowS),void 0!==e.prehash&&(0,dP.abool)("prehash",e.prehash)}gr.HMAC=gn,gr.hmac=(e,t,r)=>new gn(e,t).update(r).digest(),gr.hmac.create=(e,t)=>new gn(e,t);class gs extends Error{constructor(e=""){super(e)}}gt.DERErr=gs,gt.DER={Err:gs,_tlv:{encode:(e,t)=>{let{Err:r}=gt.DER;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=(0,dP.numberToHexUnpadded)(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let s=n>127?(0,dP.numberToHexUnpadded)(i.length/2|128):"",o=(0,dP.numberToHexUnpadded)(e);return o+s+i+t},decode(e,t){let{Err:r}=gt.DER,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],s=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let o=t.subarray(n,n+e);if(o.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===o[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of o)s=s<<8|e;if(n+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;let o=t.subarray(n,n+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:t.subarray(n+s)}}},_int:{encode(e){let{Err:t}=gt.DER;if(e<go)throw new t("integer: negative integers are not allowed");let r=(0,dP.numberToHexUnpadded)(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=gt.DER;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return(0,dP.bytesToNumberBE)(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=gt.DER,i=(0,dP.ensureBytes)("signature",e),{v:s,l:o}=n.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:u}=n.decode(2,s),{v:l,l:c}=n.decode(2,u);if(c.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=gt.DER,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}};let go=BigInt(0),ga=BigInt(1),gu=BigInt(2),gl=BigInt(3),gc=BigInt(4);function gd(e,t,r){return function(n){let i=e.sqr(n),s=e.mul(i,n);return e.add(e.add(s,e.mul(n,t)),r)}}function gh(e,t,r){let{BYTES:n}=e;return function(i){let s;if("bigint"==typeof i)s=i;else{let r=(0,dP.ensureBytes)("private key",i);if(t){if(!t.includes(2*r.length))throw Error("invalid private key");let e=new Uint8Array(n);e.set(r,e.length-r.length),r=e}try{s=e.fromBytes(r)}catch(e){throw Error(`invalid private key: expected ui8a of size ${n}, got ${typeof i}`)}}if(r&&(s=e.create(s)),!e.isValidNot0(s))throw Error("invalid private key: out of range [1..N-1]");return s}}function gf(e,t={}){let{Fp:r,Fn:n}=(0,dC._createCurveFields)("weierstrass",e,t),{h:i,n:s}=e;(0,dP._validateObject)(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:o}=t;if(o&&(!r.is0(e.a)||"bigint"!=typeof o.beta||"function"!=typeof o.splitScalar))throw Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!r.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let u=t.toBytes||function(e,t,n){let{x:i,y:s}=t.toAffine(),o=r.toBytes(i);if((0,dP.abool)("isCompressed",n),!n)return(0,dP.concatBytes)(Uint8Array.of(4),o,r.toBytes(s));{a();let e=!r.isOdd(s);return(0,dP.concatBytes)(gp(e),o)}},l=t.fromBytes||function(e){(0,dP.abytes)(e);let t=r.BYTES,n=t+1,i=2*t+1,s=e.length,o=e[0],u=e.subarray(1);if(s===n&&(2===o||3===o)){let e;let t=r.fromBytes(u);if(!r.isValid(t))throw Error("bad point: is not on curve, wrong x");let n=c(t);try{e=r.sqrt(n)}catch(t){let e=t instanceof Error?": "+t.message:"";throw Error("bad point: is not on curve, sqrt error"+e)}a();let i=r.isOdd(e);return(1&o)==1!==i&&(e=r.neg(e)),{x:t,y:e}}if(s===i&&4===o){let e=r.fromBytes(u.subarray(0*t,1*t)),n=r.fromBytes(u.subarray(1*t,2*t));if(!d(e,n))throw Error("bad point: is not on curve");return{x:e,y:n}}throw Error(`bad point: got length ${s}, expected compressed=${n} or uncompressed=${i}`)},c=gd(r,e.a,e.b);function d(e,t){let n=r.sqr(t),i=c(e);return r.eql(n,i)}if(!d(e.Gx,e.Gy))throw Error("bad curve params: generator point");let h=r.mul(r.pow(e.a,gl),gc),f=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(h,f)))throw Error("bad curve params: a or b");function p(e,t,n=!1){if(!r.isValid(t)||n&&r.is0(t))throw Error(`bad point coordinate ${e}`);return t}function g(e){if(!(e instanceof _))throw Error("ProjectivePoint expected")}let y=(0,dP.memoized)((e,t)=>{let{px:n,py:i,pz:s}=e;if(r.eql(s,r.ONE))return{x:n,y:i};let o=e.is0();null==t&&(t=o?r.ONE:r.inv(s));let a=r.mul(n,t),u=r.mul(i,t),l=r.mul(s,t);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw Error("invZ was invalid");return{x:a,y:u}}),m=(0,dP.memoized)(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.py))return;throw Error("bad point: ZERO")}let{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw Error("bad point: x or y not field elements");if(!d(n,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function b(e,t,n,i,s){return n=new _(r.mul(n.px,e),n.py,n.pz),t=(0,dC.negateCt)(i,t),n=(0,dC.negateCt)(s,n),t.add(n)}class _{constructor(e,t,r){this.px=p("x",e),this.py=p("y",t,!0),this.pz=p("z",r),Object.freeze(this)}static fromAffine(e){let{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw Error("invalid affine point");if(e instanceof _)throw Error("projective point not allowed");return r.is0(t)&&r.is0(n)?_.ZERO:new _(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){return(0,dC.normalizeZ)(_,"pz",e)}static fromBytes(e){return(0,dP.abytes)(e),_.fromHex(e)}static fromHex(e){let t=_.fromAffine(l((0,dP.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){let r=gh(n,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return _.BASE.multiply(r(e))}static msm(e,t){return(0,dC.pippenger)(_,n,e,t)}precompute(e=8,t=!0){return w.setWindowSize(this,e),t||this.multiply(gl),this}_setWindowSize(e){this.precompute(e)}assertValidity(){m(this)}hasEvenY(){let{y:e}=this.toAffine();if(!r.isOdd)throw Error("Field doesn't support isOdd");return!r.isOdd(e)}equals(e){g(e);let{px:t,py:n,pz:i}=this,{px:s,py:o,pz:a}=e,u=r.eql(r.mul(t,a),r.mul(s,i)),l=r.eql(r.mul(n,a),r.mul(o,i));return u&&l}negate(){return new _(this.px,r.neg(this.py),this.pz)}double(){let{a:t,b:n}=e,i=r.mul(n,gl),{px:s,py:o,pz:a}=this,u=r.ZERO,l=r.ZERO,c=r.ZERO,d=r.mul(s,s),h=r.mul(o,o),f=r.mul(a,a),p=r.mul(s,o);return p=r.add(p,p),c=r.mul(s,a),c=r.add(c,c),u=r.mul(t,c),l=r.mul(i,f),l=r.add(u,l),u=r.sub(h,l),l=r.add(h,l),l=r.mul(u,l),u=r.mul(p,u),c=r.mul(i,c),f=r.mul(t,f),p=r.sub(d,f),p=r.mul(t,p),p=r.add(p,c),c=r.add(d,d),d=r.add(c,d),d=r.add(d,f),d=r.mul(d,p),l=r.add(l,d),f=r.mul(o,a),f=r.add(f,f),d=r.mul(f,p),u=r.sub(u,d),c=r.mul(f,h),c=r.add(c,c),new _(u,l,c=r.add(c,c))}add(t){g(t);let{px:n,py:i,pz:s}=this,{px:o,py:a,pz:u}=t,l=r.ZERO,c=r.ZERO,d=r.ZERO,h=e.a,f=r.mul(e.b,gl),p=r.mul(n,o),y=r.mul(i,a),m=r.mul(s,u),b=r.add(n,i),v=r.add(o,a);b=r.mul(b,v),v=r.add(p,y),b=r.sub(b,v),v=r.add(n,s);let w=r.add(o,u);return v=r.mul(v,w),w=r.add(p,m),v=r.sub(v,w),w=r.add(i,s),l=r.add(a,u),w=r.mul(w,l),l=r.add(y,m),w=r.sub(w,l),d=r.mul(h,v),l=r.mul(f,m),d=r.add(l,d),l=r.sub(y,d),d=r.add(y,d),c=r.mul(l,d),y=r.add(p,p),y=r.add(y,p),m=r.mul(h,m),v=r.mul(f,v),y=r.add(y,m),m=r.sub(p,m),m=r.mul(h,m),v=r.add(v,m),p=r.mul(y,v),c=r.add(c,p),p=r.mul(w,v),l=r.mul(b,l),l=r.sub(l,p),p=r.mul(b,y),d=r.mul(w,d),new _(l,c,d=r.add(d,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(_.ZERO)}multiply(e){let r,i;let{endo:s}=t;if(!n.isValidNot0(e))throw Error("invalid scalar: out of range");let o=e=>w.wNAFCached(this,e,_.normalizeZ);if(s){let{k1neg:t,k1:n,k2neg:a,k2:u}=s.splitScalar(e),{p:l,f:c}=o(n),{p:d,f:h}=o(u);i=c.add(h),r=b(s.beta,l,d,t,a)}else{let{p:t,f:n}=o(e);r=t,i=n}return _.normalizeZ([r,i])[0]}multiplyUnsafe(e){let{endo:r}=t;if(!n.isValid(e))throw Error("invalid scalar: out of range");if(e===go||this.is0())return _.ZERO;if(e===ga)return this;if(w.hasPrecomputes(this))return this.multiply(e);if(!r)return w.wNAFCachedUnsafe(this,e);{let{k1neg:t,k1:n,k2neg:i,k2:s}=r.splitScalar(e),{p1:o,p2:a}=(0,dC.mulEndoUnsafe)(_,this,n,s);return b(r.beta,o,a,t,i)}}multiplyAndAddUnsafe(e,t,r){let n=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(e){return y(this,e)}isTorsionFree(){let{isTorsionFree:e}=t;return i===ga||(e?e(_,this):w.wNAFCachedUnsafe(this,s).is0())}clearCofactor(){let{clearCofactor:e}=t;return i===ga?this:e?e(_,this):this.multiplyUnsafe(i)}toBytes(e=!0){return(0,dP.abool)("isCompressed",e),this.assertValidity(),u(_,this,e)}toRawBytes(e=!0){return this.toBytes(e)}toHex(e=!0){return(0,dP.bytesToHex)(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}_.BASE=new _(e.Gx,e.Gy,r.ONE),_.ZERO=new _(r.ZERO,r.ONE,r.ZERO),_.Fp=r,_.Fn=n;let v=n.BITS,w=(0,dC.wNAF)(_,t.endo?Math.ceil(v/2):v);return _}function gp(e){return Uint8Array.of(e?2:3)}function gg(e,t,r={}){(0,dP._validateObject)(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=t.randomBytes||dP.randomBytes,i=t.hmac||((e,...r)=>(0,gr.hmac)(t.hash,e,(0,dP.concatBytes)(...r))),{Fp:s,Fn:o}=e,{ORDER:a,BITS:u}=o;function l(e){let t=a>>ga;return e>t}function c(e,t){if(!o.isValidNot0(t))throw Error(`invalid signature ${e}: out of range 1..CURVE.n`)}class d{constructor(e,t,r){c("r",e),c("s",t),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){let t=o.BYTES,r=(0,dP.ensureBytes)("compactSignature",e,2*t);return new d(o.fromBytes(r.subarray(0,t)),o.fromBytes(r.subarray(t,2*t)))}static fromDER(e){let{r:t,s:r}=gt.DER.toSig((0,dP.ensureBytes)("DER",e));return new d(t,r)}assertValidity(){}addRecoveryBit(e){return new d(this.r,this.s,e)}recoverPublicKey(t){let r=s.ORDER,{r:n,s:i,recovery:u}=this;if(null==u||![0,1,2,3].includes(u))throw Error("recovery id invalid");let l=a*gu<r;if(l&&u>1)throw Error("recovery id is ambiguous for h>1 curve");let c=2===u||3===u?n+a:n;if(!s.isValid(c))throw Error("recovery id 2 or 3 invalid");let d=s.toBytes(c),h=e.fromHex((0,dP.concatBytes)(gp((1&u)==0),d)),f=o.inv(c),p=g((0,dP.ensureBytes)("msgHash",t)),y=o.create(-p*f),m=o.create(i*f),b=e.BASE.multiplyUnsafe(y).add(h.multiplyUnsafe(m));if(b.is0())throw Error("point at infinify");return b.assertValidity(),b}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new d(this.r,o.neg(this.s),this.recovery):this}toBytes(e){if("compact"===e)return(0,dP.concatBytes)(o.toBytes(this.r),o.toBytes(this.s));if("der"===e)return(0,dP.hexToBytes)(gt.DER.hexFromSig(this));throw Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return(0,dP.bytesToHex)(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return(0,dP.bytesToHex)(this.toBytes("compact"))}}let h=gh(o,r.allowedPrivateKeyLengths,r.wrapPrivateKey);function f(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;let n=(0,dP.ensureBytes)("key",t),i=n.length,a=s.BYTES,u=a+1;if(!r.allowedPrivateKeyLengths&&o.BYTES!==u)return i===u||i===2*a+1}let p=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=(0,dP.bytesToNumberBE)(e),r=8*e.length-u;return r>0?t>>BigInt(r):t},g=t.bits2int_modN||function(e){return o.create(p(e))},y=(0,dP.bitMask)(u);function m(e){return(0,dP.aInRange)("num < 2^"+u,e,go,y),o.toBytes(e)}let b={lowS:t.lowS,prehash:!1},_={lowS:t.lowS,prehash:!1};return e.BASE.precompute(8),Object.freeze({getPublicKey:function(t,r=!0){return e.fromPrivateKey(t).toBytes(r)},getSharedSecret:function(t,r,n=!0){if(!0===f(t))throw Error("first arg must be private key");if(!1===f(r))throw Error("second arg must be public key");let i=e.fromHex(r);return i.multiply(h(t)).toBytes(n)},sign:function(r,a,u=b){let{seed:c,k2sig:f}=function(r,i,a=b){if(["recovered","canonical"].some(e=>e in a))throw Error("sign() legacy options not supported");let{hash:u}=t,{lowS:c,prehash:f,extraEntropy:y}=a;null==c&&(c=!0),r=(0,dP.ensureBytes)("msgHash",r),gi(a),f&&(r=(0,dP.ensureBytes)("prehashed msgHash",u(r)));let _=g(r),v=h(i),w=[m(v),m(_)];if(null!=y&&!1!==y){let e=!0===y?n(s.BYTES):y;w.push((0,dP.ensureBytes)("extraEntropy",e))}let E=(0,dP.concatBytes)(...w);return{seed:E,k2sig:function(t){let r=p(t);if(!o.isValidNot0(r))return;let n=o.inv(r),i=e.BASE.multiply(r).toAffine(),s=o.create(i.x);if(s===go)return;let a=o.create(n*o.create(_+s*v));if(a===go)return;let u=(i.x===s?0:2)|Number(i.y&ga),h=a;return c&&l(a)&&(h=l(a)?o.neg(a):a,u^=1),new d(s,h,u)}}}(r,a,u),y=(0,dP.createHmacDrbg)(t.hash.outputLen,o.BYTES,i);return y(c,f)},verify:function(r,n,i,s=_){let a,u;n=(0,dP.ensureBytes)("msgHash",n),i=(0,dP.ensureBytes)("publicKey",i),gi(s);let{lowS:l,prehash:c,format:h}=s;if("strict"in s)throw Error("options.strict was renamed to lowS");if(void 0!==h&&!["compact","der","js"].includes(h))throw Error('format must be "compact", "der" or "js"');let f="string"==typeof r||(0,dP.isBytes)(r),p=!f&&!h&&"object"==typeof r&&null!==r&&"bigint"==typeof r.r&&"bigint"==typeof r.s;if(!f&&!p)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(p){if(void 0===h||"js"===h)u=new d(r.r,r.s);else throw Error("invalid format")}if(f){try{"compact"!==h&&(u=d.fromDER(r))}catch(e){if(!(e instanceof gt.DER.Err))throw e}u||"der"===h||(u=d.fromCompact(r))}a=e.fromHex(i)}catch(e){return!1}if(!u||l&&u.hasHighS())return!1;c&&(n=t.hash(n));let{r:y,s:m}=u,b=g(n),v=o.inv(m),w=o.create(b*v),E=o.create(y*v),S=e.BASE.multiplyUnsafe(w).add(a.multiplyUnsafe(E));if(S.is0())return!1;let k=o.create(S.x);return k===y},utils:{isValidPrivateKey(e){try{return h(e),!0}catch(e){return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>(0,dF.mapHashToField)(n((0,dF.getMinHashLength)(a)),a),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},Point:e,Signature:d})}function gy(e){let t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=(0,dF.Field)(t.n,e.nBitLength),i={Fp:r,Fn:n,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function gm(e,t){let r=e.ORDER,n=go;for(let e=r-ga;e%gu===go;e/=gu)n+=ga;let i=n,s=gu<<i-ga-ga,o=s*gu,a=(r-ga)/o,u=(a-ga)/gu,l=o-ga,c=e.pow(t,a),d=e.pow(t,(a+ga)/gu),h=(t,r)=>{let n=c,o=e.pow(r,l),a=e.sqr(o);a=e.mul(a,r);let h=e.mul(t,a);h=e.pow(h,u),h=e.mul(h,o),o=e.mul(h,r),a=e.mul(h,t);let f=e.mul(a,o);h=e.pow(f,s);let p=e.eql(h,e.ONE);o=e.mul(a,d),h=e.mul(f,n),a=e.cmov(o,a,p),f=e.cmov(h,f,p);for(let t=i;t>ga;t--){let r=t-gu;r=gu<<r-ga;let i=e.pow(f,r),s=e.eql(i,e.ONE);o=e.mul(a,n),n=e.mul(n,n),i=e.mul(f,n),a=e.cmov(o,a,s),f=e.cmov(i,f,s)}return{isValid:p,value:a}};if(e.ORDER%gc===gl){let r=(e.ORDER-gl)/gc,n=e.sqrt(e.neg(t));h=(t,i)=>{let s=e.sqr(i),o=e.mul(t,i);s=e.mul(s,o);let a=e.pow(s,r);a=e.mul(a,o);let u=e.mul(a,n),l=e.mul(e.sqr(a),i),c=e.eql(l,t),d=e.cmov(u,a,c);return{isValid:c,value:d}}}return h}let gb={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},g_=BigInt(0),gv=BigInt(1),gw=BigInt(2),gE=(e,t)=>(e+t/gw)/t;function gS(e){let t=gb.p,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),l=e*e*e%t,c=l*l*e%t,d=(0,dF.pow2)(c,r,t)*c%t,h=(0,dF.pow2)(d,r,t)*c%t,f=(0,dF.pow2)(h,gw,t)*l%t,p=(0,dF.pow2)(f,i,t)*f%t,g=(0,dF.pow2)(p,s,t)*p%t,y=(0,dF.pow2)(g,a,t)*g%t,m=(0,dF.pow2)(y,u,t)*y%t,b=(0,dF.pow2)(m,a,t)*g%t,_=(0,dF.pow2)(b,r,t)*c%t,v=(0,dF.pow2)(_,o,t)*p%t,w=(0,dF.pow2)(v,n,t)*l%t,E=(0,dF.pow2)(w,gw,t);if(!gk.eql(gk.sqr(E),e))throw Error("Cannot find square root");return E}let gk=(0,dF.Field)(gb.p,void 0,void 0,{sqrt:gS});p9.secp256k1=(0,ge.createCurve)({...gb,Fp:gk,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=gb.n,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-gv*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=BigInt("0x100000000000000000000000000000000"),o=gE(r*e,t),a=gE(-n*e,t),u=(0,dF.mod)(e-o*r-a*i,t),l=(0,dF.mod)(-o*n-a*r,t),c=u>s,d=l>s;if(c&&(u=t-u),d&&(l=t-l),u>s||l>s)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:c,k1:u,k2neg:d,k2:l}}}},D.sha256);let gA={};function gx(e,...t){let r=gA[e];if(void 0===r){let t=(0,D.sha256)(Uint8Array.from(e,e=>e.charCodeAt(0)));r=(0,dP.concatBytes)(t,t),gA[e]=r}return(0,D.sha256)((0,dP.concatBytes)(r,...t))}let gI=e=>e.toBytes(!0).slice(1),gT=e=>(0,dP.numberToBytesBE)(e,32),gO=e=>(0,dF.mod)(e,gb.p),gB=e=>(0,dF.mod)(e,gb.n),gC=p9.secp256k1.Point,gP=e=>e%gw===g_;function gR(e){let t=p9.secp256k1.utils.normPrivateKeyToScalar(e),r=gC.fromPrivateKey(t),n=gP(r.y)?t:gB(-t);return{scalar:n,bytes:gI(r)}}function gL(e){(0,dP.aInRange)("x",e,gv,gb.p);let t=gO(e*e),r=gO(t*e+BigInt(7)),n=gS(r);gP(n)||(n=gO(-n));let i=gC.fromAffine({x:e,y:n});return i.assertValidity(),i}let gM=dP.bytesToNumberBE;function gN(...e){return gB(gM(gx("BIP0340/challenge",...e)))}function gD(e,t,r){let n=(0,dP.ensureBytes)("signature",e,64),i=(0,dP.ensureBytes)("message",t),s=(0,dP.ensureBytes)("publicKey",r,32);try{let e=gL(gM(s)),t=gM(n.subarray(0,32));if(!(0,dP.inRange)(t,gv,gb.p))return!1;let r=gM(n.subarray(32,64));if(!(0,dP.inRange)(r,gv,gb.n))return!1;let o=gN(gT(t),gI(e),i),a=gC.BASE.multiplyUnsafe(r).add(e.multiplyUnsafe(gB(-o))),{x:u,y:l}=a.toAffine();if(a.is0()||!gP(l)||u!==t)return!1;return!0}catch(e){return!1}}p9.schnorr={getPublicKey:function(e){return gR(e).bytes},sign:function(e,t,r=(0,j.randomBytes)(32)){let n=(0,dP.ensureBytes)("message",e),{bytes:i,scalar:s}=gR(t),o=(0,dP.ensureBytes)("auxRand",r,32),a=gT(s^gM(gx("BIP0340/aux",o))),u=gx("BIP0340/nonce",a,i,n),l=gB(gM(u));if(l===g_)throw Error("sign failed: k is zero");let{bytes:c,scalar:d}=gR(l),h=gN(c,i,n),f=new Uint8Array(64);if(f.set(c,0),f.set(gT(gB(d+h*s)),32),!gD(f,n,i))throw Error("sign: Invalid signature produced");return f},verify:gD,utils:{randomPrivateKey:p9.secp256k1.utils.randomPrivateKey,lift_x:gL,pointToBytes:gI,numberToBytesBE:dP.numberToBytesBE,bytesToNumberBE:dP.bytesToNumberBE,taggedHash:gx,mod:dF.mod}};let gU=(0,hv.isogenyMap)(gk,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e)))),gj=(0,gt.mapToCurveSimpleSWU)(gk,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:gk.create(BigInt("-11"))});p9.secp256k1_hasher=(0,hv.createHasher)(p9.secp256k1.Point,e=>{let{x:t,y:r}=gj(gk.create(e[0]));return gU(t,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:gk.ORDER,m:1,k:128,expand:"xmd",hash:D.sha256}),p9.hashToCurve=p9.secp256k1_hasher.hashToCurve,p9.encodeToCurve=p9.secp256k1_hasher.encodeToCurve,dB.ed25519.utils.randomPrivateKey;let gq=()=>{let e=(0,dB.ed25519).utils.randomPrivateKey(),t=gF(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},gF=dB.ed25519.getPublicKey;function g$(e){try{return(0,dB.ed25519).ExtendedPoint.fromHex(e),!0}catch{return!1}}let gz=(e,t)=>(0,dB.ed25519).sign(e,t.slice(0,32)),gH=dB.ed25519.verify,gW=e=>(0,dO.Buffer).isBuffer(e)?e:e instanceof Uint8Array?(0,dO.Buffer).from(e.buffer,e.byteOffset,e.byteLength):(0,dO.Buffer).from(e);class gK{constructor(e){Object.assign(this,e)}encode(){return(0,dO.Buffer).from((0,h7.serialize)(gV,this))}static decode(e){return(0,h7.deserialize)(gV,this,e)}static decodeUnchecked(e){return(0,h7.deserializeUnchecked)(gV,this,e)}}let gV=new Map,gG=1;class gQ extends gK{constructor(e){if(super({}),this._bn=void 0,void 0!==e._bn)this._bn=e._bn;else{if("string"==typeof e){let t=P(h4).decode(e);if(32!=t.length)throw Error("Invalid public key input");this._bn=new(P(h5))(t)}else this._bn=new(P(h5))(e);if(this._bn.byteLength()>32)throw Error("Invalid public key input")}}static unique(){let e=new gQ(gG);return gG+=1,new gQ(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return P(h4).encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(dO.Buffer);if(32===e.length)return e;let t=(0,dO.Buffer).alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){let n=(0,dO.Buffer).concat([e.toBuffer(),(0,dO.Buffer).from(t),r.toBuffer()]),i=(0,N.sha256)(n);return new gQ(i)}static createProgramAddressSync(e,t){let r=(0,dO.Buffer).alloc(0);e.forEach(function(e){if(e.length>32)throw TypeError("Max seed length exceeded");r=(0,dO.Buffer).concat([r,gW(e)])}),r=(0,dO.Buffer).concat([r,t.toBuffer(),(0,dO.Buffer).from("ProgramDerivedAddress")]);let n=(0,N.sha256)(r);if(g$(n))throw Error("Invalid seeds, address must fall off the curve");return new gQ(n)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,n=255;for(;0!=n;){try{let i=e.concat((0,dO.Buffer).from([n]));r=this.createProgramAddressSync(i,t)}catch(e){if(e instanceof TypeError)throw e;n--;continue}return[r,n]}throw Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){let t=new gQ(e);return g$(t.toBytes())}}gQ.default=new gQ("11111111111111111111111111111111"),gV.set(gQ,{kind:"struct",fields:[["_bn","u256"]]}),new gQ("BPFLoader1111111111111111111111111111111111");class gJ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(gJ.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class gZ extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(gZ.prototype,"name",{value:"TransactionExpiredTimeoutError"});class gX extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(gX.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class gY{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw Error("Account index overflow encountered during compilation");let t=new Map;this.keySegments().flat().forEach((e,r)=>{t.set(e.toBase58(),r)});let r=e=>{let r=t.get(e.toBase58());if(void 0===r)throw Error("Encountered an unknown instruction account key during compilation");return r};return e.map(e=>({programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map(e=>r(e.pubkey)),data:e.data}))}}let g0=(e="publicKey")=>f_.blob(32,e),g1=(e="string")=>{let t=f_.struct([f_.u32("length"),f_.u32("lengthPadding"),f_.blob(f_.offset(f_.u32(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t);return t.decode=(e,t)=>{let n=r(e,t);return n.chars.toString()},t.encode=(e,t,r)=>{let i={chars:(0,dO.Buffer).from(e,"utf8")};return n(i,t,r)},t.alloc=e=>f_.u32().span+f_.u32().span+(0,dO.Buffer).from(e,"utf8").length,t};function g2(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,(128&n)==0)break}return t}function g6(e,t){let r=t;for(;;){let t=127&r;if(0==(r>>=7)){e.push(t);break}t|=128,e.push(t)}}function g8(e,t){if(!e)throw Error(t||"Assertion failed")}class g3{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){let r=new Map,n=e=>{let t=e.toBase58(),n=r.get(t);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(t,n)),n},i=n(t);for(let t of(i.isSigner=!0,i.isWritable=!0,e))for(let e of(n(t.programId).isInvoked=!0,t.keys)){let t=n(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}return new g3(t,r)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];g8(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,e])=>e.isSigner&&e.isWritable),r=e.filter(([,e])=>e.isSigner&&!e.isWritable),n=e.filter(([,e])=>!e.isSigner&&e.isWritable),i=e.filter(([,e])=>!e.isSigner&&!e.isWritable),s={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{g8(t.length>0,"Expected at least one writable signer key");let[e]=t[0];g8(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let o=[...t.map(([e])=>new gQ(e)),...r.map(([e])=>new gQ(e)),...n.map(([e])=>new gQ(e)),...i.map(([e])=>new gQ(e))];return[s,o]}extractTableLookup(e){let[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&e.isWritable),[n,i]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&!e.isWritable);if(0!==t.length||0!==n.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:n},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){let r=[],n=[];for(let[i,s]of this.keyMetaMap.entries())if(t(s)){let t=new gQ(i),s=e.findIndex(e=>e.equals(t));s>=0&&(g8(s<256,"Max lookup table index exceeded"),r.push(s),n.push(t),this.keyMetaMap.delete(i))}return[r,n]}}let g5="Reached end of buffer unexpectedly";function g4(e){if(0===e.length)throw Error(g5);return e.shift()}function g7(e,...t){let[r]=t;if(2===t.length?r+(t[1]??0)>e.length:r>=e.length)throw Error(g5);return e.splice(...t)}class g9{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(e=>new gQ(e)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:P(h4).decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new gY(this.staticAccountKeys)}static compile(e){let t=g3.compile(e.instructions,e.payerKey),[r,n]=t.getMessageComponents(),i=new gY(n),s=i.compileInstructions(e.instructions).map(e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:P(h4).encode(e.data)}));return new g9({header:r,accountKeys:n,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let r=this.accountKeys.length-t,n=r-this.header.numReadonlyUnsignedAccounts;return e-t<n}{let r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];g6(t,e);let r=this.instructions.map(e=>{let{accounts:t,programIdIndex:r}=e,n=Array.from(P(h4).decode(e.data)),i=[];g6(i,t.length);let s=[];return g6(s,n.length),{programIdIndex:r,keyIndicesCount:(0,dO.Buffer).from(i),keyIndices:t,dataLength:(0,dO.Buffer).from(s),data:n}}),n=[];g6(n,r.length);let i=(0,dO.Buffer).alloc(1232);(0,dO.Buffer).from(n).copy(i);let s=n.length;r.forEach(e=>{let t=f_.struct([f_.u8("programIdIndex"),f_.blob(e.keyIndicesCount.length,"keyIndicesCount"),f_.seq(f_.u8("keyIndex"),e.keyIndices.length,"keyIndices"),f_.blob(e.dataLength.length,"dataLength"),f_.seq(f_.u8("userdatum"),e.data.length,"data")]),r=t.encode(e,i,s);s+=r}),i=i.slice(0,s);let o=f_.struct([f_.blob(1,"numRequiredSignatures"),f_.blob(1,"numReadonlySignedAccounts"),f_.blob(1,"numReadonlyUnsignedAccounts"),f_.blob(t.length,"keyCount"),f_.seq(g0("key"),e,"keys"),g0("recentBlockhash")]),a={numRequiredSignatures:(0,dO.Buffer).from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:(0,dO.Buffer).from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:(0,dO.Buffer).from([this.header.numReadonlyUnsignedAccounts]),keyCount:(0,dO.Buffer).from(t),keys:this.accountKeys.map(e=>gW(e.toBytes())),recentBlockhash:P(h4).decode(this.recentBlockhash)},u=(0,dO.Buffer).alloc(2048),l=o.encode(a,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e],r=g4(t);if(r!==(127&r))throw Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let n=g4(t),i=g4(t),s=g2(t),o=[];for(let e=0;e<s;e++){let e=g7(t,0,32);o.push(new gQ((0,dO.Buffer).from(e)))}let a=g7(t,0,32),u=g2(t),l=[];for(let e=0;e<u;e++){let e=g4(t),r=g2(t),n=g7(t,0,r),i=g2(t),s=g7(t,0,i),o=P(h4).encode((0,dO.Buffer).from(s));l.push({programIdIndex:e,accounts:n,data:o})}let c={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:P(h4).encode((0,dO.Buffer).from(a)),accountKeys:o,instructions:l};return new g9(c)}}class ye{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw Error("Failed to get account keys because address table lookups were not resolved");return new gY(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){let t=this.addressTableLookups.reduce((e,t)=>e+t.writableIndexes.length,0);return e-r<t}if(e>=this.header.numRequiredSignatures){let n=r-t-this.header.numReadonlyUnsignedAccounts;return e-t<n}{let r=t-this.header.numReadonlySignedAccounts;return e<r}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let r of this.addressTableLookups){let n=e.find(e=>e.key.equals(r.accountKey));if(!n)throw Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(let e of r.writableIndexes)if(e<n.state.addresses.length)t.writable.push(n.state.addresses[e]);else throw Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`);for(let e of r.readonlyIndexes)if(e<n.state.addresses.length)t.readonly.push(n.state.addresses[e]);else throw Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){let t=g3.compile(e.instructions,e.payerKey),r=[],n={writable:[],readonly:[]},i=e.addressLookupTableAccounts||[];for(let e of i){let i=t.extractTableLookup(e);if(void 0!==i){let[e,{writable:t,readonly:s}]=i;r.push(e),n.writable.push(...t),n.readonly.push(...s)}}let[s,o]=t.getMessageComponents(),a=new gY(o,n),u=a.compileInstructions(e.instructions);return new ye({header:s,staticAccountKeys:o,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){let e=[];g6(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),r=[];g6(r,this.compiledInstructions.length);let n=this.serializeAddressTableLookups(),i=[];g6(i,this.addressTableLookups.length);let s=f_.struct([f_.u8("prefix"),f_.struct([f_.u8("numRequiredSignatures"),f_.u8("numReadonlySignedAccounts"),f_.u8("numReadonlyUnsignedAccounts")],"header"),f_.blob(e.length,"staticAccountKeysLength"),f_.seq(g0(),this.staticAccountKeys.length,"staticAccountKeys"),g0("recentBlockhash"),f_.blob(r.length,"instructionsLength"),f_.blob(t.length,"serializedInstructions"),f_.blob(i.length,"addressTableLookupsLength"),f_.blob(n.length,"serializedAddressTableLookups")]),o=new Uint8Array(1232),a=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(e=>e.toBytes()),recentBlockhash:P(h4).decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},o);return o.slice(0,a)}serializeInstructions(){let e=0,t=new Uint8Array(1232);for(let r of this.compiledInstructions){let n=[];g6(n,r.accountKeyIndexes.length);let i=[];g6(i,r.data.length);let s=f_.struct([f_.u8("programIdIndex"),f_.blob(n.length,"encodedAccountKeyIndexesLength"),f_.seq(f_.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),f_.blob(i.length,"encodedDataLength"),f_.blob(r.data.length,"data")]);e+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(n),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(1232);for(let r of this.addressTableLookups){let n=[];g6(n,r.writableIndexes.length);let i=[];g6(i,r.readonlyIndexes.length);let s=f_.struct([g0("accountKey"),f_.blob(n.length,"encodedWritableIndexesLength"),f_.seq(f_.u8(),r.writableIndexes.length,"writableIndexes"),f_.blob(i.length,"encodedReadonlyIndexesLength"),f_.seq(f_.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(n),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],r=g4(t),n=127&r;g8(r!==n,"Expected versioned message but received legacy message"),g8(0===n,`Expected versioned message with version 0 but found version ${n}`);let i={numRequiredSignatures:g4(t),numReadonlySignedAccounts:g4(t),numReadonlyUnsignedAccounts:g4(t)},s=[],o=g2(t);for(let e=0;e<o;e++)s.push(new gQ(g7(t,0,32)));let a=P(h4).encode(g7(t,0,32)),u=g2(t),l=[];for(let e=0;e<u;e++){let e=g4(t),r=g2(t),n=g7(t,0,r),i=g2(t),s=new Uint8Array(g7(t,0,i));l.push({programIdIndex:e,accountKeyIndexes:n,data:s})}let c=g2(t),d=[];for(let e=0;e<c;e++){let e=new gQ(g7(t,0,32)),r=g2(t),n=g7(t,0,r),i=g2(t),s=g7(t,0,i);d.push({accountKey:e,writableIndexes:n,readonlyIndexes:s})}return new ye({header:i,staticAccountKeys:s,recentBlockhash:a,compiledInstructions:l,addressTableLookups:d})}}let yt=((y={})[y.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",y[y.PROCESSED=1]="PROCESSED",y[y.TIMED_OUT=2]="TIMED_OUT",y[y.NONCE_INVALID=3]="NONCE_INVALID",y),yr=(0,dO.Buffer).alloc(64).fill(0);class yn{constructor(e){this.keys=void 0,this.programId=void 0,this.data=(0,dO.Buffer).alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class yi{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!e)return;if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{let{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(0===e.length)throw Error("No instructions");return e.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new yn(e))}),this}compileMessage(){let e,t,r;if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw Error("Transaction fee payer required");for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw Error(`Transaction instruction index ${e} has undefined program id`);let n=[],i=[];t.forEach(e=>{e.keys.forEach(e=>{i.push({...e})});let t=e.programId.toString();n.includes(t)||n.push(t)}),n.forEach(e=>{i.push({pubkey:new gQ(e),isSigner:!1,isWritable:!1})});let s=[];i.forEach(e=>{let t=e.pubkey.toString(),r=s.findIndex(e=>e.pubkey.toString()===t);r>-1?(s[r].isWritable=s[r].isWritable||e.isWritable,s[r].isSigner=s[r].isSigner||e.isSigner):s.push(e)}),s.sort(function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});let o=s.findIndex(e=>e.pubkey.equals(r));if(o>-1){let[e]=s.splice(o,1);e.isSigner=!0,e.isWritable=!0,s.unshift(e)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(let e of this.signatures){let t=s.findIndex(t=>t.pubkey.equals(e.publicKey));if(t>-1)s[t].isSigner||(s[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw Error(`unknown signer: ${e.publicKey.toString()}`)}let a=0,u=0,l=0,c=[],d=[];s.forEach(({pubkey:e,isSigner:t,isWritable:r})=>{t?(c.push(e.toString()),a+=1,r||(u+=1)):(d.push(e.toString()),r||(l+=1))});let h=c.concat(d),f=t.map(e=>{let{data:t,programId:r}=e;return{programIdIndex:h.indexOf(r.toString()),accounts:e.keys.map(e=>h.indexOf(e.pubkey.toString())),data:P(h4).encode(t)}});return f.forEach(e=>{g8(e.programIdIndex>=0),e.accounts.forEach(e=>g8(e>=0))}),new g9({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:f})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){let r=this.signatures.every((e,r)=>t[r].equals(e.publicKey));if(r)return e}return this.signatures=t.map(e=>({signature:null,publicKey:e})),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw Error("No signers");let t=new Set;this.signatures=e.filter(e=>{let r=e.toString();return!t.has(r)&&(t.add(r),!0)}).map(e=>({signature:null,publicKey:e}))}sign(...e){if(0===e.length)throw Error("No signers");let t=new Set,r=[];for(let n of e){let e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}this.signatures=r.map(e=>({signature:null,publicKey:e.publicKey}));let n=this._compile();this._partialSign(n,...r)}partialSign(...e){if(0===e.length)throw Error("No signers");let t=new Set,r=[];for(let n of e){let e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}let n=this._compile();this._partialSign(n,...r)}_partialSign(e,...t){let r=e.serialize();t.forEach(e=>{let t=gz(r,e.secretKey);this._addSignature(e.publicKey,gW(t))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){g8(64===t.length);let r=this.signatures.findIndex(t=>e.equals(t.publicKey));if(r<0)throw Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=(0,dO.Buffer).from(t)}verifySignatures(e=!0){let t=this._getMessageSignednessErrors(this.serializeMessage(),e);return!t}_getMessageSignednessErrors(e,t){let r={};for(let{signature:n,publicKey:i}of this.signatures)null===n?t&&(r.missing||=[]).push(i):gH(n,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){let{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r){let e=this._getMessageSignednessErrors(n,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`
Invalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map(e=>e.toBase58()).join("`, `")}\`].`),e.missing&&(t+=`
Missing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map(e=>e.toBase58()).join("`, `")}\`].`),Error(t)}}return this._serialize(n)}_serialize(e){let{signatures:t}=this,r=[];g6(r,t.length);let n=r.length+64*t.length+e.length,i=(0,dO.Buffer).alloc(n);return g8(t.length<256),(0,dO.Buffer).from(r).copy(i,0),t.forEach(({signature:e},t)=>{null!==e&&(g8(64===e.length,"signature has invalid length"),(0,dO.Buffer).from(e).copy(i,r.length+64*t))}),e.copy(i,r.length+64*t.length),g8(i.length<=1232,`Transaction too large: ${i.length} > 1232`),i}get keys(){return g8(1===this.instructions.length),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return g8(1===this.instructions.length),this.instructions[0].programId}get data(){return g8(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e],r=g2(t),n=[];for(let e=0;e<r;e++){let e=g7(t,0,64);n.push(P(h4).encode((0,dO.Buffer).from(e)))}return yi.populate(g9.from(t),n)}static populate(e,t=[]){let r=new yi;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((t,n)=>{let i={signature:t==P(h4).encode(yr)?null:P(h4).decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)}),e.instructions.forEach(t=>{let n=t.accounts.map(t=>{let n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some(e=>e.publicKey.toString()===n.toString())||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}});r.instructions.push(new yn({keys:n,programId:e.accountKeys[t.programIdIndex],data:P(h4).decode(t.data)}))}),r._message=e,r._json=r.toJSON(),r}}let ys=new gQ("SysvarC1ock11111111111111111111111111111111");new gQ("SysvarEpochSchedu1e111111111111111111111111"),new gQ("Sysvar1nstructions1111111111111111111111111");let yo=new gQ("SysvarRecentB1ockHashes11111111111111111111"),ya=new gQ("SysvarRent111111111111111111111111111111111");new gQ("SysvarRewards111111111111111111111111111111"),new gQ("SysvarS1otHashes111111111111111111111111111"),new gQ("SysvarS1otHistory11111111111111111111111111");let yu=new gQ("SysvarStakeHistory1111111111111111111111111");class yl extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:n}){let i;let s=n?`Logs: 
${JSON.stringify(n.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";switch(e){case"send":i=`Transaction ${t} resulted in an error. 
${r}. `+s+o;break;case"simulate":i=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:i=`Unknown action '${e}'`}super(i),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=n||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(null==e||"object"!=typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(e=>{if(e&&e.meta&&e.meta.logMessages){let r=e.meta.logMessages;this.transactionLogs=r,t(r)}else r(Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class yc extends Error{constructor({code:e,message:t,data:r},n){super(null!=n?`${n}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function yd(e,t,r,n){let i;let s=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await e.sendTransaction(t,r,s);if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)i=(await e.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){let{nonceInstruction:r}=t.nonceInfo,s=r.keys[0].pubkey;i=(await e.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:s,nonceValue:t.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),i=(await e.confirmTransaction(o,n&&n.commitment)).value;if(i.err){if(null!=o)throw new yl({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(i)})`});throw Error(`Transaction ${o} failed (${JSON.stringify(i)})`)}return o}function yh(e){return new Promise(t=>setTimeout(t,e))}function yf(e,t){let r=e.layout.span>=0?e.layout.span:function e(t,r){let n=t=>{if(t.span>=0)return t.span;if("function"==typeof t.alloc)return t.alloc(r[t.property]);if("count"in t&&"elementLayout"in t){let e=r[t.property];if(Array.isArray(e))return e.length*n(t.elementLayout)}else if("fields"in t)return e({layout:t},r[t.property]);return 0},i=0;return t.layout.fields.forEach(e=>{i+=n(e)}),i}(e,t),n=(0,dO.Buffer).alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}let yp=f_.nu64("lamportsPerSignature"),yg=f_.struct([f_.u32("version"),f_.u32("state"),g0("authorizedPubkey"),g0("nonce"),f_.struct([yp],"feeCalculator")]),yy=yg.span;class ym{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let t=yg.decode(gW(e),0);return new ym({authorizedPubkey:new gQ(t.authorizedPubkey),nonce:new gQ(t.nonce).toString(),feeCalculator:t.feeCalculator})}}function yb(e){let t=(0,f_.blob)(8,e),r=t.decode.bind(t),n=t.encode.bind(t),i=f7();return t.decode=(e,t)=>{let n=r(e,t);return i.decode(n)},t.encode=(e,t,r)=>{let s=i.encode(e);return n(s,t,r)},t}let y_=Object.freeze({Create:{index:0,layout:f_.struct([f_.u32("instruction"),f_.ns64("lamports"),f_.ns64("space"),g0("programId")])},Assign:{index:1,layout:f_.struct([f_.u32("instruction"),g0("programId")])},Transfer:{index:2,layout:f_.struct([f_.u32("instruction"),yb("lamports")])},CreateWithSeed:{index:3,layout:f_.struct([f_.u32("instruction"),g0("base"),g1("seed"),f_.ns64("lamports"),f_.ns64("space"),g0("programId")])},AdvanceNonceAccount:{index:4,layout:f_.struct([f_.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:f_.struct([f_.u32("instruction"),f_.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:f_.struct([f_.u32("instruction"),g0("authorized")])},AuthorizeNonceAccount:{index:7,layout:f_.struct([f_.u32("instruction"),g0("authorized")])},Allocate:{index:8,layout:f_.struct([f_.u32("instruction"),f_.ns64("space")])},AllocateWithSeed:{index:9,layout:f_.struct([f_.u32("instruction"),g0("base"),g1("seed"),f_.ns64("space"),g0("programId")])},AssignWithSeed:{index:10,layout:f_.struct([f_.u32("instruction"),g0("base"),g1("seed"),g0("programId")])},TransferWithSeed:{index:11,layout:f_.struct([f_.u32("instruction"),yb("lamports"),g1("seed"),g0("programId")])},UpgradeNonceAccount:{index:12,layout:f_.struct([f_.u32("instruction")])}});class yv{constructor(){}static createAccount(e){let t=y_.Create,r=yf(t,{lamports:e.lamports,space:e.space,programId:gW(e.programId.toBuffer())});return new yn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){let n=y_.TransferWithSeed;t=yf(n,{lamports:BigInt(e.lamports),seed:e.seed,programId:gW(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let n=y_.Transfer;t=yf(n,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new yn({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){let n=y_.AssignWithSeed;t=yf(n,{base:gW(e.basePubkey.toBuffer()),seed:e.seed,programId:gW(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let n=y_.Assign;t=yf(n,{programId:gW(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new yn({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=y_.CreateWithSeed,r=yf(t,{base:gW(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:gW(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new yn({keys:n,programId:this.programId,data:r})}static createNonceAccount(e){let t=new yi;"basePubkey"in e&&"seed"in e?t.add(yv.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:yy,programId:this.programId})):t.add(yv.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:yy,programId:this.programId}));let r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){let t=y_.InitializeNonceAccount,r=yf(t,{authorized:gW(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:yo,isSigner:!1,isWritable:!1},{pubkey:ya,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new yn(n)}static nonceAdvance(e){let t=y_.AdvanceNonceAccount,r=yf(t),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:yo,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new yn(n)}static nonceWithdraw(e){let t=y_.WithdrawNonceAccount,r=yf(t,{lamports:e.lamports});return new yn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:yo,isSigner:!1,isWritable:!1},{pubkey:ya,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){let t=y_.AuthorizeNonceAccount,r=yf(t,{authorized:gW(e.newAuthorizedPubkey.toBuffer())});return new yn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){let n=y_.AllocateWithSeed;t=yf(n,{base:gW(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:gW(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let n=y_.Allocate;t=yf(n,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new yn({keys:r,programId:this.programId,data:t})}}yv.programId=new gQ("11111111111111111111111111111111");class yw{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/yw.chunkSize)+1+1)}static async load(e,t,r,n,i){{let s=await e.getMinimumBalanceForRentExemption(i.length),o=await e.getAccountInfo(r.publicKey,"confirmed"),a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==i.length&&(a=a||new yi).add(yv.allocate({accountPubkey:r.publicKey,space:i.length})),o.owner.equals(n)||(a=a||new yi).add(yv.assign({accountPubkey:r.publicKey,programId:n})),o.lamports<s&&(a=a||new yi).add(yv.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:s-o.lamports}))}else a=new yi().add(yv.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:s>0?s:1,space:i.length,programId:n}));null!==a&&await yd(e,a,[t,r],{commitment:"confirmed"})}let s=f_.struct([f_.u32("instruction"),f_.u32("offset"),f_.u32("bytesLength"),f_.u32("bytesLengthPadding"),f_.seq(f_.u8("byte"),f_.offset(f_.u32(),-8),"bytes")]),o=yw.chunkSize,a=0,u=i,l=[];for(;u.length>0;){let i=u.slice(0,o),c=(0,dO.Buffer).alloc(o+16);s.encode({instruction:0,offset:a,bytes:i,bytesLength:0,bytesLengthPadding:0},c);let d=new yi().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:c});l.push(yd(e,d,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await yh(250),a+=o,u=u.slice(o)}await Promise.all(l);{let i=f_.struct([f_.u32("instruction")]),s=(0,dO.Buffer).alloc(i.span);i.encode({instruction:1},s);let o=new yi().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:ya,isSigner:!1,isWritable:!1}],programId:n,data:s}),a="processed",u=await e.sendTransaction(o,[t,r],{preflightCommitment:a}),{context:l,value:c}=await e.confirmTransaction({signature:u,lastValidBlockHeight:o.lastValidBlockHeight,blockhash:o.recentBlockhash},a);if(c.err)throw Error(`Transaction ${u} failed (${JSON.stringify(c)})`);for(;;){try{let t=await e.getSlot({commitment:a});if(t>l.slot)break}catch{}await new Promise(e=>setTimeout(e,Math.round(200)))}}return!0}}yw.chunkSize=932,new gQ("BPFLoader2111111111111111111111111111111111");var yE=(m=function(){if(O)return T;O=1;var e=Object.prototype.toString,t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};return T=function(r){var n=function r(n,i){var s,o,a,u,l,c,d;if(!0===n)return"true";if(!1===n)return"false";switch(typeof n){case"object":if(null===n)return null;if(n.toJSON&&"function"==typeof n.toJSON)return r(n.toJSON(),i);if("[object Array]"===(d=e.call(n))){for(s=0,a="[",o=n.length-1;s<o;s++)a+=r(n[s],!0)+",";return o>-1&&(a+=r(n[s],!0)),a+"]"}if("[object Object]"!==d)return JSON.stringify(n);for(o=(u=t(n).sort()).length,a="",s=0;s<o;)void 0!==(c=r(n[l=u[s]],!1))&&(a&&(a+=","),a+=JSON.stringify(l)+":"+c),s++;return"{"+a+"}";case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}(r,!1);if(void 0!==n)return""+n}}())&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m;function yS(e){let t=0;for(;e>1;)e/=2,t++;return t}class yk{constructor(e,t,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){var t;let r=yS(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,(t|=t>>32)+1))-yS(32)-1,n=this.getSlotsInEpoch(r);return[r,e-(n-32)]}{let t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),n=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[n,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*32:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+yS(32)):this.slotsPerEpoch}}var yA=globalThis.fetch;class yx extends pz{constructor(e,t,r){super(e=>{let r=new pF(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in r?this.underlyingSocket=r.socket:this.underlyingSocket=r,r},e,t,r),this.underlyingSocket=void 0}call(...e){let t=this.underlyingSocket?.readyState;return 1===t?super.call(...e):Promise.reject(Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){let t=this.underlyingSocket?.readyState;return 1===t?super.notify(...e):Promise.reject(Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}class yI{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let t=function(e,t){let r;try{r=e.layout.decode(t)}catch(e){throw Error("invalid instruction; "+e)}if(r.typeIndex!==e.index)throw Error(`invalid account data; account type mismatch ${r.typeIndex} != ${e.index}`);return r}(yT,e),r=e.length-56;g8(r>=0,"lookup table is invalid"),g8(r%32==0,"lookup table is invalid");let{addresses:n}=f_.struct([f_.seq(g0(),r/32,"addresses")]).decode(e.slice(56));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new gQ(t.authority[0]):void 0,addresses:n.map(e=>new gQ(e))}}}let yT={index:1,layout:f_.struct([f_.u32("typeIndex"),yb("deactivationSlot"),f_.nu64("lastExtendedSlot"),f_.u8("lastExtendedStartIndex"),f_.u8(),f_.seq(g0(),f_.offset(f_.u8(),-1),"authority")])},yO=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i,yB=pS(ph(gQ),pb(),e=>new gQ(e)),yC=p_([pb(),pf("base64")]),yP=pS(ph(dO.Buffer),yC,e=>(0,dO.Buffer).from(e[0],"base64"));function yR(e){let t,r;if("string"==typeof e)t=e;else if(e){let{commitment:n,...i}=e;t=n,r=i}return{commitment:t,config:r}}function yL(e){return e.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function yM(e){return pw([pv({jsonrpc:pf("2.0"),id:pb(),result:e}),pv({jsonrpc:pf("2.0"),id:pb(),error:pv({code:pE(),message:pb(),data:py(pl("any",()=>!0))})})])}let yN=yM(pE());function yD(e){return pS(yM(e),yN,t=>"error"in t?t:{...t,result:po(t.result,e)})}function yU(e){return yD(pv({context:pv({slot:pg()}),value:e}))}function yj(e){return pv({context:pv({slot:pg()}),value:e})}function yq(e,t){return 0===e?new ye({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new gQ(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:P(h4).decode(e.data)})),addressTableLookups:t.addressTableLookups}):new g9(t)}let yF=pv({foundation:pg(),foundationTerm:pg(),initial:pg(),taper:pg(),terminal:pg()}),y$=yD(pc(pp(pv({epoch:pg(),effectiveSlot:pg(),amount:pg(),postBalance:pg(),commission:py(pp(pg()))})))),yz=pc(pv({slot:pg(),prioritizationFee:pg()})),yH=pv({total:pg(),validator:pg(),foundation:pg(),epoch:pg()}),yW=pv({epoch:pg(),slotIndex:pg(),slotsInEpoch:pg(),absoluteSlot:pg(),blockHeight:py(pg()),transactionCount:py(pg())}),yK=pv({slotsPerEpoch:pg(),leaderScheduleSlotOffset:pg(),warmup:pd(),firstNormalEpoch:pg(),firstNormalSlot:pg()}),yV=pm(pb(),pc(pg())),yG=pp(pw([pv({}),pb()])),yQ=pv({err:yG}),yJ=pf("receivedSignature"),yZ=pv({"solana-core":pb(),"feature-set":py(pg())}),yX=pv({program:pb(),programId:yB,parsed:pE()}),yY=pv({programId:yB,accounts:pc(yB),data:pb()}),y0=yU(pv({err:pp(pw([pv({}),pb()])),logs:pp(pc(pb())),accounts:py(pp(pc(pp(pv({executable:pd(),owner:pb(),lamports:pg(),data:pc(pb()),rentEpoch:py(pg())}))))),unitsConsumed:py(pg()),returnData:py(pp(pv({programId:pb(),data:p_([pb(),pf("base64")])}))),innerInstructions:py(pp(pc(pv({index:pg(),instructions:pc(pw([yX,yY]))}))))})),y1=yU(pv({byIdentity:pm(pb(),pc(pg())),range:pv({firstSlot:pg(),lastSlot:pg()})})),y2=yD(yF),y6=yD(yH),y8=yD(yz),y3=yD(yW),y5=yD(yK),y4=yD(yV),y7=yD(pg()),y9=yU(pv({total:pg(),circulating:pg(),nonCirculating:pg(),nonCirculatingAccounts:pc(yB)})),me=pv({amount:pb(),uiAmount:pp(pg()),decimals:pg(),uiAmountString:py(pb())}),mt=yU(pc(pv({address:yB,amount:pb(),uiAmount:pp(pg()),decimals:pg(),uiAmountString:py(pb())}))),mr=yU(pc(pv({pubkey:yB,account:pv({executable:pd(),owner:yB,lamports:pg(),data:yP,rentEpoch:pg()})}))),mn=pv({program:pb(),parsed:pE(),space:pg()}),mi=yU(pc(pv({pubkey:yB,account:pv({executable:pd(),owner:yB,lamports:pg(),data:mn,rentEpoch:pg()})}))),ms=yU(pc(pv({lamports:pg(),address:yB}))),mo=pv({executable:pd(),owner:yB,lamports:pg(),data:yP,rentEpoch:pg()}),ma=pv({pubkey:yB,account:mo}),mu=pS(pw([ph(dO.Buffer),mn]),pw([yC,mn]),e=>Array.isArray(e)?po(e,yP):e),ml=pv({executable:pd(),owner:yB,lamports:pg(),data:mu,rentEpoch:pg()}),mc=pv({pubkey:yB,account:ml}),md=pv({state:pw([pf("active"),pf("inactive"),pf("activating"),pf("deactivating")]),active:pg(),inactive:pg()}),mh=yD(pc(pv({signature:pb(),slot:pg(),err:yG,memo:pp(pb()),blockTime:py(pp(pg()))}))),mf=yD(pc(pv({signature:pb(),slot:pg(),err:yG,memo:pp(pb()),blockTime:py(pp(pg()))}))),mp=pv({subscription:pg(),result:yj(mo)}),mg=pv({pubkey:yB,account:mo}),my=pv({subscription:pg(),result:yj(mg)}),mm=pv({parent:pg(),slot:pg(),root:pg()}),mb=pv({subscription:pg(),result:mm}),m_=pw([pv({type:pw([pf("firstShredReceived"),pf("completed"),pf("optimisticConfirmation"),pf("root")]),slot:pg(),timestamp:pg()}),pv({type:pf("createdBank"),parent:pg(),slot:pg(),timestamp:pg()}),pv({type:pf("frozen"),slot:pg(),timestamp:pg(),stats:pv({numTransactionEntries:pg(),numSuccessfulTransactions:pg(),numFailedTransactions:pg(),maxTransactionsPerEntry:pg()})}),pv({type:pf("dead"),slot:pg(),timestamp:pg(),err:pb()})]),mv=pv({subscription:pg(),result:m_}),mw=pv({subscription:pg(),result:yj(pw([yQ,yJ]))}),mE=pv({subscription:pg(),result:pg()}),mS=pv({pubkey:pb(),gossip:pp(pb()),tpu:pp(pb()),rpc:pp(pb()),version:pp(pb())}),mk=pv({votePubkey:pb(),nodePubkey:pb(),activatedStake:pg(),epochVoteAccount:pd(),epochCredits:pc(p_([pg(),pg(),pg()])),commission:pg(),lastVote:pg(),rootSlot:pp(pg())}),mA=yD(pv({current:pc(mk),delinquent:pc(mk)})),mx=pw([pf("processed"),pf("confirmed"),pf("finalized")]),mI=pv({slot:pg(),confirmations:pp(pg()),err:yG,confirmationStatus:py(mx)}),mT=yU(pc(pp(mI))),mO=yD(pg()),mB=pv({accountKey:yB,writableIndexes:pc(pg()),readonlyIndexes:pc(pg())}),mC=pv({signatures:pc(pb()),message:pv({accountKeys:pc(pb()),header:pv({numRequiredSignatures:pg(),numReadonlySignedAccounts:pg(),numReadonlyUnsignedAccounts:pg()}),instructions:pc(pv({accounts:pc(pg()),data:pb(),programIdIndex:pg()})),recentBlockhash:pb(),addressTableLookups:py(pc(mB))})}),mP=pv({pubkey:yB,signer:pd(),writable:pd(),source:py(pw([pf("transaction"),pf("lookupTable")]))}),mR=pv({accountKeys:pc(mP),signatures:pc(pb())}),mL=pv({parsed:pE(),program:pb(),programId:yB}),mM=pv({accounts:pc(yB),data:pb(),programId:yB}),mN=pw([mM,mL]),mD=pw([pv({parsed:pE(),program:pb(),programId:pb()}),pv({accounts:pc(pb()),data:pb(),programId:pb()})]),mU=pS(mN,mD,e=>"accounts"in e?po(e,mM):po(e,mL)),mj=pv({signatures:pc(pb()),message:pv({accountKeys:pc(mP),instructions:pc(mU),recentBlockhash:pb(),addressTableLookups:py(pp(pc(mB)))})}),mq=pv({accountIndex:pg(),mint:pb(),owner:py(pb()),programId:py(pb()),uiTokenAmount:me}),mF=pv({writable:pc(yB),readonly:pc(yB)}),m$=pv({err:yG,fee:pg(),innerInstructions:py(pp(pc(pv({index:pg(),instructions:pc(pv({accounts:pc(pg()),data:pb(),programIdIndex:pg()}))})))),preBalances:pc(pg()),postBalances:pc(pg()),logMessages:py(pp(pc(pb()))),preTokenBalances:py(pp(pc(mq))),postTokenBalances:py(pp(pc(mq))),loadedAddresses:py(mF),computeUnitsConsumed:py(pg())}),mz=pv({err:yG,fee:pg(),innerInstructions:py(pp(pc(pv({index:pg(),instructions:pc(mU)})))),preBalances:pc(pg()),postBalances:pc(pg()),logMessages:py(pp(pc(pb()))),preTokenBalances:py(pp(pc(mq))),postTokenBalances:py(pp(pc(mq))),loadedAddresses:py(mF),computeUnitsConsumed:py(pg())}),mH=pw([pf(0),pf("legacy")]),mW=pv({pubkey:pb(),lamports:pg(),postBalance:pp(pg()),rewardType:pp(pb()),commission:py(pp(pg()))}),mK=yD(pp(pv({blockhash:pb(),previousBlockhash:pb(),parentSlot:pg(),transactions:pc(pv({transaction:mC,meta:pp(m$),version:py(mH)})),rewards:py(pc(mW)),blockTime:pp(pg()),blockHeight:pp(pg())}))),mV=yD(pp(pv({blockhash:pb(),previousBlockhash:pb(),parentSlot:pg(),rewards:py(pc(mW)),blockTime:pp(pg()),blockHeight:pp(pg())}))),mG=yD(pp(pv({blockhash:pb(),previousBlockhash:pb(),parentSlot:pg(),transactions:pc(pv({transaction:mR,meta:pp(m$),version:py(mH)})),rewards:py(pc(mW)),blockTime:pp(pg()),blockHeight:pp(pg())}))),mQ=yD(pp(pv({blockhash:pb(),previousBlockhash:pb(),parentSlot:pg(),transactions:pc(pv({transaction:mj,meta:pp(mz),version:py(mH)})),rewards:py(pc(mW)),blockTime:pp(pg()),blockHeight:pp(pg())}))),mJ=yD(pp(pv({blockhash:pb(),previousBlockhash:pb(),parentSlot:pg(),transactions:pc(pv({transaction:mR,meta:pp(mz),version:py(mH)})),rewards:py(pc(mW)),blockTime:pp(pg()),blockHeight:pp(pg())}))),mZ=yD(pp(pv({blockhash:pb(),previousBlockhash:pb(),parentSlot:pg(),rewards:py(pc(mW)),blockTime:pp(pg()),blockHeight:pp(pg())}))),mX=yD(pp(pv({blockhash:pb(),previousBlockhash:pb(),parentSlot:pg(),transactions:pc(pv({transaction:mC,meta:pp(m$)})),rewards:py(pc(mW)),blockTime:pp(pg())}))),mY=yD(pp(pv({blockhash:pb(),previousBlockhash:pb(),parentSlot:pg(),signatures:pc(pb()),blockTime:pp(pg())}))),m0=yD(pp(pv({slot:pg(),meta:pp(m$),blockTime:py(pp(pg())),transaction:mC,version:py(mH)}))),m1=yD(pp(pv({slot:pg(),transaction:mj,meta:pp(mz),blockTime:py(pp(pg())),version:py(mH)}))),m2=yU(pv({blockhash:pb(),lastValidBlockHeight:pg()})),m6=yU(pd()),m8=pv({slot:pg(),numTransactions:pg(),numSlots:pg(),samplePeriodSecs:pg()}),m3=yD(pc(m8)),m5=yU(pp(pv({feeCalculator:pv({lamportsPerSignature:pg()})}))),m4=yD(pb()),m7=yD(pb()),m9=pv({err:yG,logs:pc(pb()),signature:pb()}),be=pv({result:yj(m9),subscription:pg()}),bt={"solana-client":"js/1.0.0-maintenance"};class br{constructor(e,t){var r,n;let i,s,o,a,u,l;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let e={};return async t=>{let{commitment:r,config:n}=yR(t),i=this._buildArgs([],r,void 0,n),s=yE(i);return e[s]=e[s]??(async()=>{try{let e=await this._rpcRequest("getBlockHeight",i),t=po(e,yD(pg()));if("error"in t)throw new yc(t.error,"failed to get block height information");return t.result}finally{delete e[s]}})(),await e[s]}})(),t&&"string"==typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,i=t.wsEndpoint,s=t.httpHeaders,o=t.fetch,a=t.fetchMiddleware,u=t.disableRetryOnRateLimit,l=t.httpAgent),this._rpcEndpoint=function(e){if(!1===/^https?:/.test(e))throw TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=i||function(e){let t=e.match(yO);if(null==t)throw TypeError(`Failed to validate endpoint URL \`${e}\``);let[r,n,i,s]=t,o=e.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10),u=null==a?"":`:${a+1}`;return`${o}//${n}${u}${s}`}(e),this._rpcClient=function(e,t,r,n,i,s){let o,a;let u=r||yA;null!=s&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),n&&(a=async(e,t)=>{let r=await new Promise((r,i)=>{try{n(e,t,(e,t)=>r([e,t]))}catch(e){i(e)}});return await u(...r)});let l=new(P(pk))(async(r,n)=>{let s={method:"POST",body:r,agent:o,headers:Object.assign({"Content-Type":"application/json"},t||{},bt)};try{let t,r=5,o=500;for(;t=a?await a(e,s):await u(e,s),429===t.status&&!0!==i&&(r-=1,0!==r);)console.error(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${o}ms delay...`),await yh(o),o*=2;let l=await t.text();t.ok?n(null,l):n(Error(`${t.status} ${t.statusText}: ${l}`))}catch(e){e instanceof Error&&n(e)}},{});return l}(e,s,o,a,u,l),this._rpcRequest=(r=this._rpcClient,(e,t)=>new Promise((n,i)=>{r.request(e,t,(e,t)=>{if(e){i(e);return}n(t)})})),this._rpcBatchRequest=(n=this._rpcClient,e=>new Promise((t,r)=>{0===e.length&&t([]);let i=e.map(e=>n.request(e.methodName,e.args));n.request(i,(e,n)=>{if(e){r(e);return}t(n)})})),this._rpcWebSocket=new yx(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){let{commitment:r,config:n}=yR(t),i=this._buildArgs([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getBalance",i),o=po(s,yU(pg()));if("error"in o)throw new yc(o.error,`failed to get balance for ${e.toBase58()}`);return o.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(e=>e.value).catch(t=>{throw Error("failed to get balance of account "+e.toBase58()+": "+t)})}async getBlockTime(e){let t=await this._rpcRequest("getBlockTime",[e]),r=po(t,yD(pp(pg())));if("error"in r)throw new yc(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),t=po(e,yD(pg()));if("error"in t)throw new yc(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),t=po(e,y7);if("error"in t)throw new yc(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};t="string"==typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};let r=await this._rpcRequest("getSupply",[t]),n=po(r,y9);if("error"in n)throw new yc(n.error,"failed to get supply");return n.result}async getTokenSupply(e,t){let r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenSupply",r),i=po(n,yU(me));if("error"in i)throw new yc(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){let r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenAccountBalance",r),i=po(n,yU(me));if("error"in i)throw new yc(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){let{commitment:n,config:i}=yR(r),s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});let o=this._buildArgs(s,n,"base64",i),a=await this._rpcRequest("getTokenAccountsByOwner",o),u=po(a,mr);if("error"in u)throw new yc(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});let i=this._buildArgs(n,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",i),o=po(s,mi);if("error"in o)throw new yc(o.error,`failed to get token accounts owned by account ${e.toBase58()}`);return o.result}async getLargestAccounts(e){let t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],n=await this._rpcRequest("getLargestAccounts",r),i=po(n,ms);if("error"in i)throw new yc(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){let r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenLargestAccounts",r),i=po(n,mt);if("error"in i)throw new yc(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){let{commitment:r,config:n}=yR(t),i=this._buildArgs([e.toBase58()],r,"base64",n),s=await this._rpcRequest("getAccountInfo",i),o=po(s,yU(pp(mo)));if("error"in o)throw new yc(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getParsedAccountInfo(e,t){let{commitment:r,config:n}=yR(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",n),s=await this._rpcRequest("getAccountInfo",i),o=po(s,yU(pp(ml)));if("error"in o)throw new yc(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getAccountInfo(e,t){try{let r=await this.getAccountInfoAndContext(e,t);return r.value}catch(t){throw Error("failed to get info about account "+e.toBase58()+": "+t)}}async getMultipleParsedAccounts(e,t){let{commitment:r,config:n}=yR(t),i=e.map(e=>e.toBase58()),s=this._buildArgs([i],r,"jsonParsed",n),o=await this._rpcRequest("getMultipleAccounts",s),a=po(o,yU(pc(pp(ml))));if("error"in a)throw new yc(a.error,`failed to get info for accounts ${i}`);return a.result}async getMultipleAccountsInfoAndContext(e,t){let{commitment:r,config:n}=yR(t),i=e.map(e=>e.toBase58()),s=this._buildArgs([i],r,"base64",n),o=await this._rpcRequest("getMultipleAccounts",s),a=po(o,yU(pc(pp(mo))));if("error"in a)throw new yc(a.error,`failed to get info for accounts ${i}`);return a.result}async getMultipleAccountsInfo(e,t){let r=await this.getMultipleAccountsInfoAndContext(e,t);return r.value}async getStakeActivation(e,t,r){let{commitment:n,config:i}=yR(t),s=this._buildArgs([e.toBase58()],n,void 0,{...i,epoch:null!=r?r:i?.epoch}),o=await this._rpcRequest("getStakeActivation",s),a=po(o,yD(md));if("error"in a)throw new yc(a.error,`failed to get Stake Activation ${e.toBase58()}`);return a.result}async getProgramAccounts(e,t){let{commitment:r,config:n}=yR(t),{encoding:i,...s}=n||{},o=this._buildArgs([e.toBase58()],r,i||"base64",{...s,...s.filters?{filters:yL(s.filters)}:null}),a=await this._rpcRequest("getProgramAccounts",o),u=pc(ma),l=!0===s.withContext?po(a,yU(u)):po(a,yD(u));if("error"in l)throw new yc(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){let{commitment:r,config:n}=yR(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",n),s=await this._rpcRequest("getProgramAccounts",i),o=po(s,yD(pc(mc)));if("error"in o)throw new yc(o.error,`failed to get accounts owned by program ${e.toBase58()}`);return o.result}async confirmTransaction(e,t){let r,n;if("string"==typeof e)r=e;else{if(e.abortSignal?.aborted)return Promise.reject(e.abortSignal.reason);r=e.signature}try{n=P(h4).decode(r)}catch(e){throw Error("signature must be base58 encoded: "+r)}return(g8(64===n.length,"signature has invalid length"),"string"==typeof e)?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{null!=e&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,n;let i=!1,s=new Promise((s,o)=>{try{r=this.onSignature(t,(e,t)=>{r=void 0,s({__type:yt.PROCESSED,response:{context:t,value:e}})},e);let a=new Promise(e=>{null==r?e():n=this._onSubscriptionStateChange(r,t=>{"subscribed"===t&&e()})});(async()=>{if(await a,i)return;let r=await this.getSignatureStatus(t);if(i||null==r)return;let{context:n,value:u}=r;if(null!=u){if(u?.err)o(u.err);else{switch(e){case"confirmed":case"single":case"singleGossip":if("processed"===u.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===u.confirmationStatus||"confirmed"===u.confirmationStatus)return}i=!0,s({__type:yt.PROCESSED,response:{context:n,value:u}})}}})()}catch(e){o(e)}});return{abortConfirmation:()=>{n&&(n(),n=void 0),null!=r&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:n}}){let i,s=!1,o=new Promise(t=>{let n=async()=>{try{let t=await this.getBlockHeight(e);return t}catch(e){return -1}};(async()=>{let e=await n();if(!s){for(;e<=r;)if(await yh(1e3),s||(e=await n(),s))return;t({__type:yt.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:n}),l=this.getCancellationPromise(t);try{let e=await Promise.race([l,u,o]);if(e.__type===yt.PROCESSED)i=e.response;else throw new gJ(n)}finally{s=!0,a()}return i}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:n,nonceValue:i,signature:s}}){let o,a=!1,u=new Promise(t=>{let s=i,o=null,u=async()=>{try{let{context:t,value:i}=await this.getNonceAndContext(n,{commitment:e,minContextSlot:r});return o=t.slot,i?.nonce}catch(e){return s}};(async()=>{if(s=await u(),!a)for(;;){if(i!==s){t({__type:yt.NONCE_INVALID,slotInWhichNonceDidAdvance:o});return}if(await yh(2e3),a||(s=await u(),a))return}})()}),{abortConfirmation:l,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),d=this.getCancellationPromise(t);try{let t=await Promise.race([d,c,u]);if(t.__type===yt.PROCESSED)o=t.response;else{let n;for(;;){let e=await this.getSignatureStatus(s);if(null==e)break;if(e.context.slot<(t.slotInWhichNonceDidAdvance??r)){await yh(400);continue}n=e;break}if(n?.value){let t=e||"finalized",{confirmationStatus:r}=n.value;switch(t){case"processed":case"recent":if("processed"!==r&&"confirmed"!==r&&"finalized"!==r)throw new gX(s);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==r&&"finalized"!==r)throw new gX(s);break;case"finalized":case"max":case"root":if("finalized"!==r)throw new gX(s)}o={context:n.context,value:{err:n.value.err}}}else throw new gX(s)}}finally{a=!0,l()}return o}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r,n;let i=new Promise(t=>{let n=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":n=this._confirmTransactionInitialTimeout||3e4}r=setTimeout(()=>t({__type:yt.TIMED_OUT,timeoutMs:n}),n)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});try{let e=await Promise.race([o,i]);if(e.__type===yt.PROCESSED)n=e.response;else throw new gZ(t,e.timeoutMs/1e3)}finally{clearTimeout(r),s()}return n}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),t=po(e,yD(pc(mS)));if("error"in t)throw new yc(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){let t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),n=po(r,mA);if("error"in n)throw new yc(n.error,"failed to get vote accounts");return n.result}async getSlot(e){let{commitment:t,config:r}=yR(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",n),s=po(i,yD(pg()));if("error"in s)throw new yc(s.error,"failed to get slot");return s.result}async getSlotLeader(e){let{commitment:t,config:r}=yR(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",n),s=po(i,yD(pb()));if("error"in s)throw new yc(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,t){let r=await this._rpcRequest("getSlotLeaders",[e,t]),n=po(r,yD(pc(yB)));if("error"in n)throw new yc(n.error,"failed to get slot leaders");return n.result}async getSignatureStatus(e,t){let{context:r,value:n}=await this.getSignatureStatuses([e],t);g8(1===n.length);let i=n[0];return{context:r,value:i}}async getSignatureStatuses(e,t){let r=[e];t&&r.push(t);let n=await this._rpcRequest("getSignatureStatuses",r),i=po(n,mT);if("error"in i)throw new yc(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){let{commitment:t,config:r}=yR(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",n),s=po(i,yD(pg()));if("error"in s)throw new yc(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){let t=await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0});return t.value.total}async getInflationGovernor(e){let t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),n=po(r,y2);if("error"in n)throw new yc(n.error,"failed to get inflation");return n.result}async getInflationReward(e,t,r){let{commitment:n,config:i}=yR(r),s=this._buildArgs([e.map(e=>e.toBase58())],n,void 0,{...i,epoch:null!=t?t:i?.epoch}),o=await this._rpcRequest("getInflationReward",s),a=po(o,y$);if("error"in a)throw new yc(a.error,"failed to get inflation reward");return a.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),t=po(e,y6);if("error"in t)throw new yc(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){let{commitment:t,config:r}=yR(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",n),s=po(i,y3);if("error"in s)throw new yc(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),t=po(e,y5);if("error"in t)throw new yc(t.error,"failed to get epoch schedule");let r=t.result;return new yk(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),t=po(e,y4);if("error"in t)throw new yc(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){let r=this._buildArgs([e],t),n=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=po(n,mO);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){let{context:t,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON:()=>({})}}}}async getRecentPerformanceSamples(e){let t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=po(t,m3);if("error"in r)throw new yc(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){let r=this._buildArgs([e],t),n=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=po(n,m5);if("error"in i)throw new yc(i.error,"failed to get fee calculator");let{context:s,value:o}=i.result;return{context:s,value:null!==o?o.feeCalculator:null}}async getFeeForMessage(e,t){let r=gW(e.serialize()).toString("base64"),n=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",n),s=po(i,yU(pp(pg())));if("error"in s)throw new yc(s.error,"failed to get fee for message");if(null===s.result)throw Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(e){let t=e?.lockedWritableAccounts?.map(e=>e.toBase58()),r=t?.length?[t]:[],n=await this._rpcRequest("getRecentPrioritizationFees",r),i=po(n,y8);if("error"in i)throw new yc(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{let t=await this.getRecentBlockhashAndContext(e);return t.value}catch(e){throw Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(e){try{let t=await this.getLatestBlockhashAndContext(e);return t.value}catch(e){throw Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(e){let{commitment:t,config:r}=yR(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",n),s=po(i,m2);if("error"in s)throw new yc(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(e,t){let{commitment:r,config:n}=yR(t),i=this._buildArgs([e],r,void 0,n),s=await this._rpcRequest("isBlockhashValid",i),o=po(s,m6);if("error"in o)throw new yc(o.error,"failed to determine if the blockhash `"+e+"`is valid");return o.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),t=po(e,yD(yZ));if("error"in t)throw new yc(t.error,"failed to get version");return t.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),t=po(e,yD(pb()));if("error"in t)throw new yc(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){let{commitment:r,config:n}=yR(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,n),s=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{let e=po(s,mG);if("error"in e)throw e.error;return e.result}case"none":{let e=po(s,mV);if("error"in e)throw e.error;return e.result}default:{let e=po(s,mK);if("error"in e)throw e.error;let{result:t}=e;return t?{...t,transactions:t.transactions.map(({transaction:e,meta:t,version:r})=>({meta:t,transaction:{...e,message:yq(r,e.message)},version:r}))}:null}}}catch(e){throw new yc(e,"failed to get confirmed block")}}async getParsedBlock(e,t){let{commitment:r,config:n}=yR(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n),s=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{let e=po(s,mJ);if("error"in e)throw e.error;return e.result}case"none":{let e=po(s,mZ);if("error"in e)throw e.error;return e.result}default:{let e=po(s,mQ);if("error"in e)throw e.error;return e.result}}}catch(e){throw new yc(e,"failed to get block")}}async getBlockProduction(e){let t,r;if("string"==typeof e)r=e;else if(e){let{commitment:n,...i}=e;r=n,t=i}let n=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",n),s=po(i,y1);if("error"in s)throw new yc(s.error,"failed to get block production information");return s.result}async getTransaction(e,t){let{commitment:r,config:n}=yR(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,n),s=await this._rpcRequest("getTransaction",i),o=po(s,m0);if("error"in o)throw new yc(o.error,"failed to get transaction");let a=o.result;return a?{...a,transaction:{...a.transaction,message:yq(a.version,a.transaction.message)}}:a}async getParsedTransaction(e,t){let{commitment:r,config:n}=yR(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n),s=await this._rpcRequest("getTransaction",i),o=po(s,m1);if("error"in o)throw new yc(o.error,"failed to get transaction");return o.result}async getParsedTransactions(e,t){let{commitment:r,config:n}=yR(t),i=e.map(e=>{let t=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n);return{methodName:"getTransaction",args:t}}),s=await this._rpcBatchRequest(i),o=s.map(e=>{let t=po(e,m1);if("error"in t)throw new yc(t.error,"failed to get transactions");return t.result});return o}async getTransactions(e,t){let{commitment:r,config:n}=yR(t),i=e.map(e=>{let t=this._buildArgsAtLeastConfirmed([e],r,void 0,n);return{methodName:"getTransaction",args:t}}),s=await this._rpcBatchRequest(i),o=s.map(e=>{let t=po(e,m0);if("error"in t)throw new yc(t.error,"failed to get transactions");let r=t.result;return r?{...r,transaction:{...r.transaction,message:yq(r.version,r.transaction.message)}}:r});return o}async getConfirmedBlock(e,t){let r=this._buildArgsAtLeastConfirmed([e],t),n=await this._rpcRequest("getBlock",r),i=po(n,mX);if("error"in i)throw new yc(i.error,"failed to get confirmed block");let s=i.result;if(!s)throw Error("Confirmed block "+e+" not found");let o={...s,transactions:s.transactions.map(({transaction:e,meta:t})=>{let r=new g9(e.message);return{meta:t,transaction:{...e,message:r}}})};return{...o,transactions:o.transactions.map(({transaction:e,meta:t})=>({meta:t,transaction:yi.populate(e.message,e.signatures)}))}}async getBlocks(e,t,r){let n=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",n),s=po(i,yD(pc(pg())));if("error"in s)throw new yc(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,t){let r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getBlock",r),i=po(n,mY);if("error"in i)throw new yc(i.error,"failed to get block");let s=i.result;if(!s)throw Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,t){let r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getBlock",r),i=po(n,mY);if("error"in i)throw new yc(i.error,"failed to get confirmed block");let s=i.result;if(!s)throw Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,t){let r=this._buildArgsAtLeastConfirmed([e],t),n=await this._rpcRequest("getTransaction",r),i=po(n,m0);if("error"in i)throw new yc(i.error,"failed to get transaction");let s=i.result;if(!s)return s;let o=new g9(s.transaction.message),a=s.transaction.signatures;return{...s,transaction:yi.populate(o,a)}}async getParsedConfirmedTransaction(e,t){let r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),n=await this._rpcRequest("getTransaction",r),i=po(n,m1);if("error"in i)throw new yc(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){let r=e.map(e=>{let r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed");return{methodName:"getTransaction",args:r}}),n=await this._rpcBatchRequest(r),i=n.map(e=>{let t=po(e,m1);if("error"in t)throw new yc(t.error,"failed to get confirmed transactions");return t.result});return i}async getConfirmedSignaturesForAddress(e,t,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--t<=0)&&!(t<i);)try{let e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(n.until=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}let s=await this.getSlot("finalized");for(;!("before"in n)&&!(++r>s);)try{let e=await this.getConfirmedBlockSignatures(r);e.signatures.length>0&&(n.before=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}let o=await this.getConfirmedSignaturesForAddress2(e,n);return o.map(e=>e.signature)}async getConfirmedSignaturesForAddress2(e,t,r){let n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",n),s=po(i,mh);if("error"in s)throw new yc(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,t,r){let n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",n),s=po(i,mf);if("error"in s)throw new yc(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,t){let{context:r,value:n}=await this.getAccountInfoAndContext(e,t),i=null;return null!==n&&(i=new yI({key:e,state:yI.deserialize(n.data)})),{context:r,value:i}}async getNonceAndContext(e,t){let{context:r,value:n}=await this.getAccountInfoAndContext(e,t),i=null;return null!==n&&(i=ym.fromAccountData(n.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(e=>e.value).catch(t=>{throw Error("failed to get nonce for account "+e.toBase58()+": "+t)})}async requestAirdrop(e,t){let r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),n=po(r,m4);if("error"in n)throw new yc(n.error,`airdrop to ${e.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await yh(100);let e=Date.now()-this._blockhashInfo.lastFetch;if(null!==this._blockhashInfo.latestBlockhash&&!(e>=3e4))return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let e=0;e<50;e++){let e=await this.getLatestBlockhash("finalized");if(r!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await yh(200)}throw Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:t,config:r}=yR(e),n=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",n),s=po(i,yU(pg()));if("error"in s)throw new yc(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,t,r){let n;if("message"in e){let n=e.serialize(),i=(0,dO.Buffer).from(n).toString("base64");if(Array.isArray(t)||void 0!==r)throw Error("Invalid arguments");let s=t||{};s.encoding="base64","commitment"in s||(s.commitment=this.commitment),t&&"object"==typeof t&&"innerInstructions"in t&&(s.innerInstructions=t.innerInstructions);let o=[i,s],a=await this._rpcRequest("simulateTransaction",o),u=po(a,y0);if("error"in u)throw Error("failed to simulate transaction: "+u.error.message);return u.result}if(e instanceof yi?((n=new yi).feePayer=e.feePayer,n.instructions=e.instructions,n.nonceInfo=e.nonceInfo,n.signatures=e.signatures):(n=yi.populate(e))._message=n._json=void 0,void 0!==t&&!Array.isArray(t))throw Error("Invalid arguments");if(n.nonceInfo&&t)n.sign(...t);else{let e=this._disableBlockhashCaching;for(;;){let r=await this._blockhashWithExpiryBlockHeight(e);if(n.lastValidBlockHeight=r.lastValidBlockHeight,n.recentBlockhash=r.blockhash,!t)break;if(n.sign(...t),!n.signature)throw Error("!signature");let i=n.signature.toString("base64");if(this._blockhashInfo.simulatedSignatures.includes(i)||this._blockhashInfo.transactionSignatures.includes(i))e=!0;else{this._blockhashInfo.simulatedSignatures.push(i);break}}}let i=n._compile(),s=i.serialize(),o=n._serialize(s),a=o.toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){let e=(Array.isArray(r)?r:i.nonProgramIds()).map(e=>e.toBase58());u.accounts={encoding:"base64",addresses:e}}t&&(u.sigVerify=!0),t&&"object"==typeof t&&"innerInstructions"in t&&(u.innerInstructions=t.innerInstructions);let l=[a,u],c=await this._rpcRequest("simulateTransaction",l),d=po(c,y0);if("error"in d){let e;if("data"in d.error&&(e=d.error.data.logs)&&Array.isArray(e)){let t="\n    ",r=t+e.join(t);console.error(d.error.message,r)}throw new yl({action:"simulate",signature:"",transactionMessage:d.error.message,logs:e})}return d.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw Error("Invalid arguments");let r=e.serialize();return await this.sendRawTransaction(r,t)}if(void 0===t||!Array.isArray(t))throw Error("Invalid arguments");if(e.nonceInfo)e.sign(...t);else{let r=this._disableBlockhashCaching;for(;;){let n=await this._blockhashWithExpiryBlockHeight(r);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...t),!e.signature)throw Error("!signature");let i=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(i))r=!0;else{this._blockhashInfo.transactionSignatures.push(i);break}}}let n=e.serialize();return await this.sendRawTransaction(n,r)}async sendRawTransaction(e,t){let r=gW(e).toString("base64"),n=await this.sendEncodedTransaction(r,t);return n}async sendEncodedTransaction(e,t){let r={encoding:"base64"},n=t&&t.skipPreflight,i=!0===n?"processed":t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(r.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(r.minContextSlot=t.minContextSlot),n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);let s=[e,r],o=await this._rpcRequest("sendTransaction",s),a=po(o,m7);if("error"in a){let e;throw"data"in a.error&&(e=a.error.data.logs),new yl({action:n?"send":"simulate",signature:"",transactionMessage:a.error.message,logs:e})}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3===e){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,t])=>{this._setSubscription(e,{...t,state:"pending"})})}_setSubscription(e,t){let r=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,r!==t.state){let r=this._subscriptionStateChangeCallbacksByHash[e];r&&r.forEach(e=>{try{e(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){let r=this._subscriptionHashByClientSubscriptionId[e];if(null==r)return()=>{};let n=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return n.add(t),()=>{n.delete(t),0===n.size&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}},500));return}if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async e=>{let r=this._subscriptionsByHash[e];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size){delete this._subscriptionsByHash[e],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],await this._updateSubscriptions();return}await (async()=>{let{args:n,method:i}=r;try{this._setSubscription(e,{...r,state:"subscribing"});let t=await this._rpcWebSocket.call(i,n);this._setSubscription(e,{...r,serverSubscriptionId:t,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[t]=r.callbacks,await this._updateSubscriptions()}catch(s){if(console.error(`Received ${s instanceof Error?"":"JSON-RPC "}error calling \`${i}\``,{args:n,error:s}),!t())return;this._setSubscription(e,{...r,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await (async()=>{let{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._setSubscription(e,{...r,state:"unsubscribing"}),this._setSubscription(e,{...r,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[n])}catch(n){if(n instanceof Error&&console.error(`${i} error:`,n.message),!t())return;this._setSubscription(e,{...r,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(e,{...r,state:"unsubscribed"}),await this._updateSubscriptions()})()}}))}_handleServerNotification(e,t){let r=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==r&&r.forEach(e=>{try{e(...t)}catch(e){console.error(e)}})}_wsOnAccountNotification(e){let{result:t,subscription:r}=po(e,mp);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){let r=this._nextClientSubscriptionId++,n=yE([e.method,t]),i=this._subscriptionsByHash[n];return void 0===i?this._subscriptionsByHash[n]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=n,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];let t=this._subscriptionsByHash[n];g8(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){let{commitment:n,config:i}=yR(r),s=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:t,subscription:r}=po(e,my);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,n){let{commitment:i,config:s}=yR(r),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s||(n?{filters:yL(n)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){let n=this._buildArgs(["object"==typeof e?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:t,subscription:r}=po(e,be);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){let{result:t,subscription:r}=po(e,mb);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:t,subscription:r}=po(e,mv);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){let r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,n){let i=t||this._commitment;if(i||r||n){let t={};r&&(t.encoding=r),i&&(t.commitment=i),n&&(t=Object.assign(t,n)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,r,n){let i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,n)}_wsOnSignatureNotification(e){let{result:t,subscription:r}=po(e,mw);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){let n=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,r)=>{if("status"===e.type){t(e.result,r);try{this.removeSignatureListener(i)}catch(e){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return i}onSignatureWithOptions(e,t,r){let{commitment:n,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([e],n,void 0,i),o=this._makeSubscription({callback:(e,r)=>{t(e,r);try{this.removeSignatureListener(o)}catch(e){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:t,subscription:r}=po(e,mE);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class bn{constructor(e){this._keypair=void 0,this._keypair=e??gq()}static generate(){return new bn(gq())}static fromSecretKey(e,t){if(64!==e.byteLength)throw Error("bad secret key size");let r=e.slice(32,64);if(!t||!t.skipValidation){let t=e.slice(0,32),n=gF(t);for(let e=0;e<32;e++)if(r[e]!==n[e])throw Error("provided secretKey is invalid")}return new bn({publicKey:r,secretKey:e})}static fromSeed(e){let t=gF(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new bn({publicKey:t,secretKey:r})}get publicKey(){return new gQ(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:f_.struct([f_.u32("instruction"),yb("recentSlot"),f_.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:f_.struct([f_.u32("instruction")])},ExtendLookupTable:{index:2,layout:f_.struct([f_.u32("instruction"),yb(),f_.seq(g0(),f_.offset(f_.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:f_.struct([f_.u32("instruction")])},CloseLookupTable:{index:4,layout:f_.struct([f_.u32("instruction")])}}),new gQ("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:f_.struct([f_.u8("instruction"),f_.u32("units"),f_.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:f_.struct([f_.u8("instruction"),f_.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:f_.struct([f_.u8("instruction"),f_.u32("units")])},SetComputeUnitPrice:{index:3,layout:f_.struct([f_.u8("instruction"),yb("microLamports")])}}),new gQ("ComputeBudget111111111111111111111111111111");let bi=f_.struct([f_.u8("numSignatures"),f_.u8("padding"),f_.u16("signatureOffset"),f_.u16("signatureInstructionIndex"),f_.u16("publicKeyOffset"),f_.u16("publicKeyInstructionIndex"),f_.u16("messageDataOffset"),f_.u16("messageDataSize"),f_.u16("messageInstructionIndex")]);class bs{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:t,message:r,signature:n,instructionIndex:i}=e;g8(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),g8(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);let s=bi.span,o=s+t.length,a=o+n.length,u=(0,dO.Buffer).alloc(a+r.length),l=null==i?65535:i;return bi.encode({numSignatures:1,padding:0,signatureOffset:o,signatureInstructionIndex:l,publicKeyOffset:s,publicKeyInstructionIndex:l,messageDataOffset:a,messageDataSize:r.length,messageInstructionIndex:l},u),u.fill(t,s),u.fill(n,o),u.fill(r,a),new yn({keys:[],programId:bs.programId,data:u})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:r,instructionIndex:n}=e;g8(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{let e=bn.fromSecretKey(t),i=e.publicKey.toBytes(),s=gz(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,instructionIndex:n})}catch(e){throw Error(`Error creating instruction; ${e}`)}}}bs.programId=new gQ("Ed25519SigVerify111111111111111111111111111");let bo=(e,t)=>{let r=(0,p9.secp256k1).sign(e,t);return[r.toCompactRawBytes(),r.recovery]};p9.secp256k1.utils.isValidPrivateKey;let ba=p9.secp256k1.getPublicKey,bu=f_.struct([f_.u8("numSignatures"),f_.u16("signatureOffset"),f_.u8("signatureInstructionIndex"),f_.u16("ethAddressOffset"),f_.u8("ethAddressInstructionIndex"),f_.u16("messageDataOffset"),f_.u16("messageDataSize"),f_.u8("messageInstructionIndex"),f_.blob(20,"ethAddress"),f_.blob(64,"signature"),f_.u8("recoveryId")]);class bl{constructor(){}static publicKeyToEthAddress(e){g8(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return(0,dO.Buffer).from((0,pH.keccak_256)(gW(e))).slice(-20)}catch(e){throw Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){let{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:s}=e;return bl.createInstructionWithEthAddress({ethAddress:bl.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){let t;let{ethAddress:r,message:n,signature:i,recoveryId:s,instructionIndex:o=0}=e;g8(20===(t="string"==typeof r?r.startsWith("0x")?(0,dO.Buffer).from(r.substr(2),"hex"):(0,dO.Buffer).from(r,"hex"):r).length,`Address must be 20 bytes but received ${t.length} bytes`);let a=12+t.length,u=a+i.length+1,l=(0,dO.Buffer).alloc(bu.span+n.length);return bu.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:o,ethAddressOffset:12,ethAddressInstructionIndex:o,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:o,signature:gW(i),ethAddress:gW(t),recoveryId:s},l),l.fill(gW(n),bu.span),new yn({keys:[],programId:bl.programId,data:l})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:r,instructionIndex:n}=e;g8(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{let e=gW(t),i=ba(e,!1).slice(1),s=(0,dO.Buffer).from((0,pH.keccak_256)(gW(r))),[o,a]=bo(s,e);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:o,recoveryId:a,instructionIndex:n})}catch(e){throw Error(`Error creating instruction; ${e}`)}}}bl.programId=new gQ("KeccakSecp256k11111111111111111111111111111");let bc=new gQ("StakeConfig11111111111111111111111111111111");class bd{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}bd.default=new bd(0,0,gQ.default);let bh=Object.freeze({Initialize:{index:0,layout:f_.struct([f_.u32("instruction"),((e="authorized")=>f_.struct([g0("staker"),g0("withdrawer")],e))(),((e="lockup")=>f_.struct([f_.ns64("unixTimestamp"),f_.ns64("epoch"),g0("custodian")],e))()])},Authorize:{index:1,layout:f_.struct([f_.u32("instruction"),g0("newAuthorized"),f_.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:f_.struct([f_.u32("instruction")])},Split:{index:3,layout:f_.struct([f_.u32("instruction"),f_.ns64("lamports")])},Withdraw:{index:4,layout:f_.struct([f_.u32("instruction"),f_.ns64("lamports")])},Deactivate:{index:5,layout:f_.struct([f_.u32("instruction")])},Merge:{index:7,layout:f_.struct([f_.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:f_.struct([f_.u32("instruction"),g0("newAuthorized"),f_.u32("stakeAuthorizationType"),g1("authoritySeed"),g0("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class bf{constructor(){}static initialize(e){let{stakePubkey:t,authorized:r,lockup:n}=e,i=n||bd.default,s=bh.Initialize,o=yf(s,{authorized:{staker:gW(r.staker.toBuffer()),withdrawer:gW(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:gW(i.custodian.toBuffer())}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ya,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new yn(a)}static createAccountWithSeed(e){let t=new yi;t.add(yv.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){let t=new yi;t.add(yv.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){let{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=bh.Delegate,s=yf(i);return new yi().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:ys,isSigner:!1,isWritable:!1},{pubkey:yu,isSigner:!1,isWritable:!1},{pubkey:bc,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:s}=e,o=bh.Authorize,a=yf(o,{newAuthorized:gW(n.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ys,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&u.push({pubkey:s,isSigner:!0,isWritable:!1}),new yi().add({keys:u,programId:this.programId,data:a})}static authorizeWithSeed(e){let{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=e,u=bh.AuthorizeWithSeed,l=yf(u,{newAuthorized:gW(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:gW(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:ys,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!0,isWritable:!1}),new yi().add({keys:c,programId:this.programId,data:l})}static splitInstruction(e){let{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,s=bh.Split,o=yf(s,{lamports:i});return new yn({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(e,t){let r=new yi;return r.add(yv.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:s,seed:o,lamports:a}=e,u=new yi;return u.add(yv.allocate({accountPubkey:i,basePubkey:s,seed:o,space:this.space,programId:this.programId})),t&&t>0&&u.add(yv.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(e){let{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=bh.Merge,s=yf(i);return new yi().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ys,isSigner:!1,isWritable:!1},{pubkey:yu,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:s}=e,o=bh.Withdraw,a=yf(o,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ys,isSigner:!1,isWritable:!1},{pubkey:yu,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&u.push({pubkey:s,isSigner:!0,isWritable:!1}),new yi().add({keys:u,programId:this.programId,data:a})}static deactivate(e){let{stakePubkey:t,authorizedPubkey:r}=e,n=bh.Deactivate,i=yf(n);return new yi().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ys,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}bf.programId=new gQ("Stake11111111111111111111111111111111111111"),bf.space=200;let bp=Object.freeze({InitializeAccount:{index:0,layout:f_.struct([f_.u32("instruction"),((e="voteInit")=>f_.struct([g0("nodePubkey"),g0("authorizedVoter"),g0("authorizedWithdrawer"),f_.u8("commission")],e))()])},Authorize:{index:1,layout:f_.struct([f_.u32("instruction"),g0("newAuthorized"),f_.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:f_.struct([f_.u32("instruction"),f_.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:f_.struct([f_.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:f_.struct([f_.u32("instruction"),((e="voteAuthorizeWithSeedArgs")=>f_.struct([f_.u32("voteAuthorizationType"),g0("currentAuthorityDerivedKeyOwnerPubkey"),g1("currentAuthorityDerivedKeySeed"),g0("newAuthorized")],e))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class bg{constructor(){}static initializeAccount(e){let{votePubkey:t,nodePubkey:r,voteInit:n}=e,i=bp.InitializeAccount,s=yf(i,{voteInit:{nodePubkey:gW(n.nodePubkey.toBuffer()),authorizedVoter:gW(n.authorizedVoter.toBuffer()),authorizedWithdrawer:gW(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ya,isSigner:!1,isWritable:!1},{pubkey:ys,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new yn(o)}static createAccount(e){let t=new yi;return t.add(yv.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=e,s=bp.Authorize,o=yf(s,{newAuthorized:gW(n.toBuffer()),voteAuthorizationType:i.index});return new yi().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ys,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:i,voteAuthorizationType:s,votePubkey:o}=e,a=bp.AuthorizeWithSeed,u=yf(a,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:gW(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:gW(i.toBuffer()),voteAuthorizationType:s.index}});return new yi().add({keys:[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:ys,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static withdraw(e){let{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=e,s=bp.Withdraw,o=yf(s,{lamports:n});return new yi().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw Error("Withdraw will leave vote account with insufficient funds.");return bg.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:n}=e,i=bp.UpdateValidatorIdentity,s=yf(i);return new yi().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}}bg.programId=new gQ("Vote111111111111111111111111111111111111111"),bg.space=3762,new gQ("Va1idator1nfo111111111111111111111111111111"),pv({name:pb(),website:py(pb()),details:py(pb()),iconUrl:py(pb()),keybaseUsername:py(pb())}),new gQ("Vote111111111111111111111111111111111111111"),f_.struct([g0("nodePubkey"),g0("authorizedWithdrawer"),f_.u8("commission"),f_.nu64(),f_.seq(f_.struct([f_.nu64("slot"),f_.u32("confirmationCount")]),f_.offset(f_.u32(),-8),"votes"),f_.u8("rootSlotValid"),f_.nu64("rootSlot"),f_.nu64(),f_.seq(f_.struct([f_.nu64("epoch"),g0("authorizedVoter")]),f_.offset(f_.u32(),-8),"authorizedVoters"),f_.struct([f_.seq(f_.struct([g0("authorizedPubkey"),f_.nu64("epochOfLastAuthorizedSwitch"),f_.nu64("targetEpoch")]),32,"buf"),f_.nu64("idx"),f_.u8("isEmpty")],"priorVoters"),f_.nu64(),f_.seq(f_.struct([f_.nu64("epoch"),f_.nu64("credits"),f_.nu64("prevCredits")]),f_.offset(f_.u32(),-8),"epochCredits"),f_.struct([f_.nu64("slot"),f_.nu64("timestamp")],"lastTimestamp")]);let by=iq("fetchTransactionDetails"),bm=async(e,t)=>{let{signatures:r}=e.body;if(!r||!Array.isArray(r)||0===r.length){by.error("Invalid request: signatures missing or empty"),t.send({success:!1,error:"Transaction signatures are required"});return}by.debug("Using Helius RPC endpoint with API key"),by.debug(`Fetching transaction details for ${r.length} signatures:`,r);try{let e=new br("https://binny-51yiwd-fast-mainnet.helius-rpc.com","confirmed"),n=new AbortController,i=setTimeout(()=>{n.abort(),by.warn("Request timed out after 15000ms")},15e3),s=await e.getParsedTransactions(r,{commitment:"confirmed",maxSupportedTransactionVersion:0});clearTimeout(i),by.debug(`Successfully fetched ${s.length} transaction details from Helius RPC`),s.forEach((e,t)=>{e?by.debug(`Transaction ${t} (${r[t]}): Found - Slot: ${e.slot}, BlockTime: ${e.blockTime}, Fee: ${e.meta?.fee}`):by.warn(`Transaction ${t} (${r[t]}): Not found or null`)}),t.send({success:!0,transactions:s})}catch(r){by.error("Error fetching transaction details from Helius RPC:",r);let e="Unknown error occurred";r instanceof Error&&(e="AbortError"===r.name?"Request timeout - RPC call took too long":r.message.includes("403")||r.message.includes("Access forbidden")?"Access forbidden - Check Helius API key permissions":r.message),t.send({success:!1,error:e})}},bb=async(e,t)=>{let r=ux(lW.getState());t.send(r)};chrome.webRequest.onBeforeSendHeaders.addListener(e=>{let t=e.requestHeaders.find(e=>"authorization"===e.name.toLowerCase());t&&t.value&&(i=t.value);let r=new URL(e.url);return n=r.searchParams.toString(),{requestHeaders:e.requestHeaders}},{urls:["*://gmgn.ai/defi/quotation/v1/wallet/sol/remark_wallets*"]},["requestHeaders"]);let b_=async(e,t)=>{i&&n?t.send({authToken:i,deviceQuery:n}):t.send({authToken:null,deviceQuery:null})},bv=new Map,bw=async(e,t)=>{let{address:r,privateKey:n}=e.body;if(!r){t.send({success:!1});return}n?(bv.set(r,n),t.send({success:!0})):t.send({success:!0,privateKey:bv.get(r)})};async function bE(){let e=lW.getState().navigationRoute.method;if(e)return"sidepanel"===e;if(!chrome.runtime.getContexts)return lW.dispatch(u8("tabs")),!1;await new Promise(e=>setTimeout(e,500));let t=await chrome.runtime.getContexts({}),r=t.some(e=>"SIDE_PANEL"===e.contextType);return lW.dispatch(u8(r?"sidepanel":"tabs")),r}async function bS(){try{let e=chrome.runtime.getURL("/tabs/index.html"),t=await chrome.tabs.query({}),r=t.find(t=>t.url&&t.url.startsWith(e));r&&r.id?r.url&&r.url!==e?await chrome.tabs.update(r.id,{url:e,active:!0}):await chrome.tabs.update(r.id,{active:!0}):await chrome.tabs.create({url:e})}catch(e){console.error("Error opening index.html tab:",e)}}let bk=()=>{chrome.action.onClicked.addListener(async e=>{try{await chrome.sidePanel.open({windowId:e.windowId})}catch(e){d_({level:"error",message:"Failed to open side panel",extra:{error:e}})}try{let e=await bE();e||await bS()}catch(e){d_({level:"error",message:"Failed to check sidepanel support or open tabs",extra:{error:e}})}})};var bA={};function bx(e,t=[]){return[e,t]}function bI(e,t){let r=e[1];for(let e of r){let r=e[0].type,n=t(e,r);if(n)return!0}return!1}function bT(e){let t=lY(lZ);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}c(bA,"trace",()=>bX),c(bA,"debug",()=>bY),c(bA,"info",()=>b0),c(bA,"warn",()=>b1),c(bA,"error",()=>b2),c(bA,"fatal",()=>b6),c(bA,"fmt",()=>bJ);let bO={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function bB(e){if(!e?.sdk)return;let{name:t,version:r}=e.sdk;return{name:t,version:r}}let bC=[];function bP(e,t){for(let r of t)r?.afterAllSetup&&r.afterAllSetup(e)}function bR(e,t,r){if(r[t.name]){l1&&cc.log(`Integration skipped because it was already installed: ${t.name}`);return}if(r[t.name]=t,-1===bC.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),bC.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,n)=>r(t,n,e))}if("function"==typeof t.processEvent){let r=t.processEvent.bind(t),n=Object.assign((t,n)=>r(t,n,e),{id:t.name});e.addEventProcessor(n)}l1&&cc.log(`Integration installed: ${t.name}`)}function bL(e){let t=[];e.message&&t.push(e.message);try{let r=e.exception.values[e.exception.values.length-1];r?.value&&(t.push(r.value),r.type&&t.push(`${r.type}: ${r.value}`))}catch(e){}return t}let bM="Not capturing exception because it's already been captured.",bN="Discarded session because of missing or non-string release",bD=Symbol.for("SentryInternalError"),bU=Symbol.for("SentryDoNotSendEventError");function bj(e){return{message:e,[bD]:!0}}function bq(e){return{message:e,[bU]:!0}}function bF(e){return!!e&&"object"==typeof e&&bD in e}function b$(e){return!!e&&"object"==typeof e&&bU in e}class bz{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=function(e){let t="string"==typeof e?function(e){let t=dl.exec(e);if(!t){cl(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[r,n,i="",s="",o="",a=""]=t.slice(1),u="",l=a,c=l.split("/");if(c.length>1&&(u=c.slice(0,-1).join("/"),l=c.pop()),l){let e=l.match(/^\d+/);e&&(l=e[0])}return dd({host:s,pass:i,path:u,projectId:l,port:o,protocol:r,publicKey:n})}(e):dd(e);if(t&&function(e){if(!l1)return!0;let{port:t,projectId:r,protocol:n}=e,i=["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(cc.error(`Invalid Sentry Dsn: ${t} missing`),!0));return!i&&(r.match(/^\d+$/)?"http"===n||"https"===n?!(t&&isNaN(parseInt(t,10)))||(cc.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):(cc.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(cc.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1))}(t))return t}(e.dsn):l1&&cc.warn("No DSN provided, client will not send events."),this._dsn){var t,r,n;let i=(t=this._dsn,r=e.tunnel,n=e._metadata?e._metadata.sdk:void 0,r||`${function(e){let t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}(t)}${t.projectId}/envelope/?${function(e,t){let r={sentry_version:"7"};return e.publicKey&&(r.sentry_key=e.publicKey),t&&(r.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(r).toString()}(t,n)}`);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}}captureException(e,t,r){let n=cw();if(cx(e))return l1&&cc.log(bM),n;let i={event_id:n,...t};return this._process(this.eventFromException(e,i).then(e=>this._captureEvent(e,i,r))),i.event_id}captureMessage(e,t,r,n){let i={event_id:cw(),...r},s=l7(e)?e:String(e),o=l9(e)?this.eventFromMessage(s,t,i):this.eventFromException(e,i);return this._process(o.then(e=>this._captureEvent(e,i,n))),i.event_id}captureEvent(e,t,r){let n=cw();if(t?.originalException&&cx(t.originalException))return l1&&cc.log(bM),n;let i={event_id:n,...t},s=e.sdkProcessingMetadata||{},o=s.capturedSpanScope,a=s.capturedSpanIsolationScope;return this._process(this._captureEvent(e,i,o||r,a)),i.event_id}captureSession(e){this.sendSession(e),cO(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(r=>t.flush(e).then(e=>r&&e))):cG(!0)}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,this.emit("close"),e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let t=this._integrations[e.name];bR(this,e,this._integrations),t||bP(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let r=function(e,t,r,n){var i;let s=bB(r),o=e.type&&"replay_event"!==e.type?e.type:"event";(i=r?.sdk)&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||i.name,e.sdk.version=e.sdk.version||i.version,e.sdk.integrations=[...e.sdk.integrations||[],...i.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...i.packages||[]]);let a=function(e,t,r,n){let i=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!r&&n&&{dsn:dc(n)},...i&&{trace:i}}}(e,s,n,t);delete e.sdkProcessingMetadata;let u=[{type:o},e];return bx(a,[u])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(let e of t.attachments||[])r=function(e,t){let[r,n]=e;return[r,[...n,t]]}(r,function(e){let t="string"==typeof e.data?bT(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}(e));let n=this.sendEnvelope(r);n&&n.then(t=>this.emit("afterSendEvent",e,t),null)}sendSession(e){let{release:t,environment:r=cV}=this._options;if("aggregates"in e){let n=e.attrs||{};if(!n.release&&!t){l1&&cc.warn(bN);return}n.release=n.release||t,n.environment=n.environment||r,e.attrs=n}else{if(!e.release&&!t){l1&&cc.warn(bN);return}e.release=e.release||t,e.environment=e.environment||r}this.emit("beforeSendSession",e);let n=function(e,t,r,n){let i=bB(r),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!n&&t&&{dsn:dc(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return bx(s,[o])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(e,t,r=1){if(this._options.sendClientReports){let n=`${e}:${t}`;l1&&cc.log(`Recording outcome: "${n}"${r>1?` (${r} times)`:""}`),this._outcomes[n]=(this._outcomes[n]||0)+r}}on(e,t){let r=this._hooks[e]=this._hooks[e]||[];return r.push(t),()=>{let e=r.indexOf(t);e>-1&&r.splice(e,1)}}emit(e,...t){let r=this._hooks[e];r&&r.forEach(e=>e(...t))}sendEnvelope(e){return(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)?this._transport.send(e).then(null,e=>(l1&&cc.error("Error while sending envelope:",e),e)):(l1&&cc.error("Transport disabled"),cG({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=function(e,t){let r={};return t.forEach(t=>{t&&bR(e,t,r)}),r}(this,e),bP(this,e)}_updateSessionFromEvent(e,t){let r="fatal"===t.level,n=!1,i=t.exception?.values;if(i)for(let e of(n=!0,i)){let t=e.mechanism;if(t?.handled===!1){r=!0;break}}let s="ok"===e.status,o=s&&0===e.errors||s&&r;o&&(cO(e,{...r&&{status:"crashed"},errors:e.errors||Number(n||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new cJ(t=>{let r=0,n=setInterval(()=>{0==this._numProcessing?(clearInterval(n),t(!0)):(r+=1,e&&r>=e&&(clearInterval(n),t(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(n,i,s,o){let a=this.getOptions(),u=Object.keys(this._integrations);return!i.integrations&&u?.length&&(i.integrations=u),this.emit("preprocessEvent",n,i),n.type||o.setLastEventId(n.event_id||i.event_id),(function(n,i,s,o,a,u){let{normalizeDepth:l=3,normalizeMaxBreadth:c=1e3}=n,d={...i,event_id:i.event_id||s.event_id||cw(),timestamp:i.timestamp||cI()},h=s.integrations||n.integrations.map(e=>e.name);(function(e,t){let{environment:r,release:n,dist:i,maxValueLength:s=250}=t;e.environment=e.environment||r||cV,!e.release&&n&&(e.release=n),!e.dist&&i&&(e.dist=i);let o=e.request;o?.url&&(o.url=cd(o.url,s))})(d,n),h.length>0&&(d.sdk=d.sdk||{},d.sdk.integrations=[...d.sdk.integrations||[],...h]),a&&a.emit("applyFrameMetadata",i),void 0===i.type&&function(n,i){let s=function(n){let i=lZ._sentryDebugIds;if(!i)return{};let s=Object.keys(i);return r&&s.length===t?r:(t=s.length,r=s.reduce((t,r)=>{e||(e={});let s=e[r];if(s)t[s[0]]=s[1];else{let s=n(r);for(let n=s.length-1;n>=0;n--){let o=s[n],a=o?.filename,u=i[r];if(a&&u){t[a]=u,e[r]=[a,u];break}}}return t},{}))}(i);n.exception?.values?.forEach(e=>{e.stacktrace?.frames?.forEach(e=>{e.filename&&(e.debug_id=s[e.filename])})})}(d,n.stackParser);let f=function(e,t){if(!t)return e;let r=e?e.clone():new cL;return r.update(t),r}(o,s.captureContext);s.mechanism&&cA(d,s.mechanism);let p=a?a.getEventProcessors():[],g=cz().getScopeData();if(u){let e=u.getScopeData();dg(g,e)}if(f){let e=f.getScopeData();dg(g,e)}let y=[...s.attachments||[],...g.attachments];y.length&&(s.attachments=y),function(e,t){let{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:s}=t;(function(e,t){let{extra:r,tags:n,user:i,contexts:s,level:o,transactionName:a}=t;Object.keys(r).length&&(e.extra={...r,...e.extra}),Object.keys(n).length&&(e.tags={...n,...e.tags}),Object.keys(i).length&&(e.user={...i,...e.user}),Object.keys(s).length&&(e.contexts={...s,...e.contexts}),o&&(e.level=o),a&&"transaction"!==e.type&&(e.transaction=a)})(e,t),n&&function(e,t){e.contexts={trace:dt(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:dp(t),...e.sdkProcessingMetadata};let r=ds(t),n=di(r).description;n&&!e.transaction&&"transaction"===e.type&&(e.transaction=n)}(e,n),e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],r&&(e.fingerprint=e.fingerprint.concat(r)),e.fingerprint.length||delete e.fingerprint,function(e,t){let r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}(e,i),e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...s}}(d,g);let m=[...p,...g.eventProcessors],b=function e(t,r,n,i=0){return new cJ((s,o)=>{let a=t[i];if(null===r||"function"!=typeof a)s(r);else{let u=a({...r},n);l1&&a.id&&null===u&&cc.log(`Event processor "${a.id}" dropped event`),cr(u)?u.then(r=>e(t,r,n,i+1).then(s)).then(null,o):e(t,u,n,i+1).then(s).then(null,o)}})}(m,d,s);return b.then(e=>(e&&function(e){let t={};if(e.exception?.values?.forEach(e=>{e.stacktrace?.frames?.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})}),0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let r=e.debug_meta.images;Object.entries(t).forEach(([e,t])=>{r.push({type:"sourcemap",code_file:e,debug_id:t})})}(e),"number"==typeof l&&l>0)?function(e,t,r){if(!e)return null;let n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:c8(e.data,t,r)}}))},...e.user&&{user:c8(e.user,t,r)},...e.contexts&&{contexts:c8(e.contexts,t,r)},...e.extra&&{extra:c8(e.extra,t,r)}};return e.contexts?.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=c8(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map(e=>({...e,...e.data&&{data:c8(e.data,t,r)}}))),e.contexts?.flags&&n.contexts&&(n.contexts.flags=c8(e.contexts.flags,3,r)),n}(e,l,c):e)})(a,n,i,s,this,o).then(e=>{if(null===e)return e;this.emit("postprocessEvent",e,i),e.contexts={trace:cK(s),...e.contexts};let t=df(this,s);return e.sdkProcessingMetadata={dynamicSamplingContext:t,...e.sdkProcessingMetadata},e})}_captureEvent(e,t={},r=cF(),n=c$()){return l1&&bH(e)&&cc.log(`Captured error event \`${bL(e)[0]||"<unknown>"}\``),this._processEvent(e,t,r,n).then(e=>e.event_id,e=>{l1&&(b$(e)?cc.log(e.message):bF(e)?cc.warn(e.message):cc.warn(e))})}_processEvent(e,t,r,n){let i=this.getOptions(),{sampleRate:s}=i,o=bW(e),a=bH(e),u=e.type||"error",l=`before send for type \`${u}\``,c=void 0===s?void 0:function(e){if("boolean"==typeof e)return Number(e);let t="string"==typeof e?parseFloat(e):e;if(!("number"!=typeof t||isNaN(t))&&!(t<0)&&!(t>1))return t}(s);if(a&&"number"==typeof c&&Math.random()>c)return this.recordDroppedEvent("sample_rate","error"),cQ(bq(`Discarding event because it's not included in the random sample (sampling rate = ${s})`));let d="replay_event"===u?"replay":u;return this._prepareEvent(e,t,r,n).then(e=>{if(null===e)throw this.recordDroppedEvent("event_processor",d),bq("An event processor returned `null`, will not send event.");let r=t.data&&!0===t.data.__sentry__;if(r)return e;let n=function(e,t,r,n){let{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o}=t,a=r;if(bH(a)&&i)return i(a,n);if(bW(a)){if(o){let e=o(function(e){let{trace_id:t,parent_span_id:r,span_id:n,status:i,origin:s,data:o,op:a}=e.contexts?.trace??{};return{data:o??{},description:e.transaction,op:a,parent_span_id:r,span_id:n??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:s,profile_id:o?.[c3],exclusive_time:o?.[c5],measurements:e.measurements,is_segment:!0}}(a));if(e?a=cB(r,{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[c3]:e.profile_id},...e.exclusive_time&&{[c5]:e.exclusive_time}}}},measurements:e.measurements}):da(),a.spans){let e=[];for(let t of a.spans){let r=o(t);r?e.push(r):(da(),e.push(t))}a.spans=e}}if(s){if(a.spans){let e=a.spans.length;a.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return s(a,n)}}return a}(0,i,e,t);return function(e,t){let r=`${t} must return \`null\` or a valid event.`;if(cr(e))return e.then(e=>{if(!ce(e)&&null!==e)throw bj(r);return e},e=>{throw bj(`${t} rejected with ${e}`)});if(!ce(e)&&null!==e)throw bj(r);return e}(n,l)}).then(i=>{if(null===i){if(this.recordDroppedEvent("before_send",d),o){let t=e.spans||[],r=1+t.length;this.recordDroppedEvent("before_send","span",r)}throw bq(`${l} returned \`null\`, will not send event.`)}let s=r.getSession()||n.getSession();if(a&&s&&this._updateSessionFromEvent(s,i),o){let e=i.sdkProcessingMetadata?.spanCountBeforeProcessing||0,t=i.spans?i.spans.length:0,r=e-t;r>0&&this.recordDroppedEvent("before_send","span",r)}let u=i.transaction_info;return o&&u&&i.transaction!==e.transaction&&(i.transaction_info={...u,source:"custom"}),this.sendEvent(i,t),i}).then(null,e=>{if(b$(e)||bF(e))throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),bj(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${e}`)})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([e,t])=>{let[r,n]=e.split(":");return{reason:r,category:n,quantity:t}})}_flushOutcomes(){l1&&cc.log("Flushing outcomes...");let e=this._clearOutcomes();if(0===e.length){l1&&cc.log("No outcomes to send");return}if(!this._dsn){l1&&cc.log("No dsn provided, will not send outcomes");return}l1&&cc.log("Sending outcomes:",e);let t=function(e,t,r){let n=[{type:"client_report"},{timestamp:cI(),discarded_events:e}];return bx(t?{dsn:t}:{},[n])}(e,this._options.tunnel&&dc(this._dsn));this.sendEnvelope(t)}}function bH(e){return void 0===e.type}function bW(e){return"transaction"===e.type}let bK={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function bV(e,t,r,n=!0){r&&(!e[t]||n)&&(e[t]=r)}function bG(e,t){let r=t??bQ(e)??[];if(0===r.length)return;let n=e.getOptions(),i=function(e,t,r,n){let i={};return t?.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),r&&n&&(i.dsn=dc(n)),bx(i,[[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]])}(r,n._metadata,n.tunnel,e.getDsn());lZ._sentryClientToLogBufferMap?.set(e,[]),e.emit("flushLogs"),e.sendEnvelope(i)}function bQ(e){return lZ._sentryClientToLogBufferMap?.get(e)}lZ._sentryClientToLogBufferMap=new WeakMap;let bJ=function(e,...t){let r=new String(String.raw(e,...t));return r.__sentry_template_string__=e.join("\x00").replace(/%/g,"%%").replace(/\0/g,"%s"),r.__sentry_template_values__=t,r};function bZ(e,t,r,n){!function(e,t=cW(),r=cF(),n=function(e,t){let r=bQ(e);void 0===r?lZ._sentryClientToLogBufferMap?.set(e,[t]):(lZ._sentryClientToLogBufferMap?.set(e,[...r,t]),r.length>=100&&bG(e,r))}){if(!t){l1&&cc.warn("No client available to capture log.");return}let{_experiments:i,release:s,environment:o}=t.getOptions(),{enableLogs:a=!1,beforeSendLog:u}=i??{};if(!a){l1&&cc.warn("logging option not enabled, log will not be captured.");return}let[,l]=r?cH(r,()=>{let e=function(){let e=lX(),t=cq(e);return t.getActiveSpan?t.getActiveSpan():cF()[cC]}(),n=e?dt(e):cK(r),i=e?dp(e):df(t,r);return[i,n]}):[void 0,void 0],c={...e.attributes},{user:{id:d,email:h,username:f}}=function(e){let t=cz().getScopeData();return dg(t,c$().getScopeData()),dg(t,e.getScopeData()),t}(r);bV(c,"user.id",d,!1),bV(c,"user.email",h,!1),bV(c,"user.name",f,!1),bV(c,"sentry.release",s),bV(c,"sentry.environment",o);let{name:p,version:g}=t.getSdkMetadata()?.sdk??{};bV(c,"sentry.sdk.name",p),bV(c,"sentry.sdk.version",g);let y=e.message;if(l7(y)){let{__sentry_template_string__:e,__sentry_template_values__:t=[]}=y;c["sentry.message.template"]=e,t.forEach((e,t)=>{c[`sentry.message.parameter.${t}`]=e})}let m=r[cC];bV(c,"sentry.trace.parent_span_id",m?.spanContext().spanId);let b={...e,attributes:c};t.emit("beforeCaptureLog",b);let _=u?u(b):b;if(!_){t.recordDroppedEvent("before_send","log_item",1),l1&&cc.warn("beforeSendLog returned null, log will not be captured.");return}let{level:v,message:w,attributes:E={},severityNumber:S}=_,k={timestamp:cT(),level:v,body:w,trace_id:l?.trace_id,severity_number:S??bK[v],attributes:Object.keys(E).reduce((e,t)=>(e[t]=function(e){switch(typeof e){case"number":if(Number.isInteger(e))return{value:e,type:"integer"};return{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}(E[t]),e),{})};n(t,k),t.emit("afterCaptureLog",_)}({level:e,message:t,attributes:r,severityNumber:n})}function bX(e,t){bZ("trace",e,t)}function bY(e,t){bZ("debug",e,t)}function b0(e,t){bZ("info",e,t)}function b1(e,t){bZ("warn",e,t)}function b2(e,t){bZ("error",e,t)}function b6(e,t){bZ("fatal",e,t)}let b8=new iL;function b3(){try{let e=navigator.userAgent,t=navigator.platform,r="Unknown",n="Unknown",i="Unknown";if(t.includes("Win")?i="Windows":t.includes("Mac")?i="macOS":t.includes("Linux")?i="Linux":t.includes("Android")?i="Android":(t.includes("iPhone")||t.includes("iPad"))&&(i="iOS"),e.includes("Edg/")){r="Edge";let t=e.match(/Edg\/([0-9.]+)/);n=t?t[1]:"Unknown"}else if(e.includes("Chrome/")){r="Chrome";let t=e.match(/Chrome\/([0-9.]+)/);n=t?t[1]:"Unknown"}else if(e.includes("Firefox/")){r="Firefox";let t=e.match(/Firefox\/([0-9.]+)/);n=t?t[1]:"Unknown"}else if(e.includes("Safari/")&&!e.includes("Chrome")){r="Safari";let t=e.match(/Version\/([0-9.]+)/);n=t?t[1]:"Unknown"}return{platform:`${i} ${r} ${n}`,browser:r,browserVersion:n,os:i}}catch(e){return console.error("Error in getPlatformInfo:",e),{platform:"null",browser:"null",browserVersion:"null",os:"null"}}}function b5(){try{let e=navigator.language||"unknown",t=navigator.languages||[e],r=Intl.DateTimeFormat().resolvedOptions().locale||e;return{language:e,languages:t,locale:r}}catch(e){return console.error("Error in getLanguageInfo:",e),{language:"null",languages:["null"],locale:"null"}}}async function b4(){try{let e=await b7(),t=b3(),r=b5(),n=Intl.DateTimeFormat().resolvedOptions().timeZone||"null";return{deviceId:e,...t,...r,timezone:n}}catch(e){return console.error("Error in getDeviceInfo:",e),{deviceId:"null",platform:"null",browser:"null",browserVersion:"null",os:"null",language:"null",languages:["null"],locale:"null",timezone:"null"}}}async function b7(){let e="amplitude_device_id_frontrun";try{let t=await b8.getItem(e);return t||(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),await b8.setItem(e,t)),t}catch(e){return console.error("Failed to get/set device ID:",e),"null"}}async function b9(){let e="amplitude_session_id_frontrun",t="amplitude_last_event_time_frontrun";try{let r=Date.now(),n=Number(await b8.getItem(t)||"0"),i=Number(await b8.getItem(e)||"0");return(r-n>18e5||!i)&&(i=r,await b8.setItem(e,i.toString())),await b8.setItem(t,r.toString()),i}catch(e){return console.error("Error getting session ID:",e),0}}(b=B||(B={})).PAGE_VIEW="page_view",b.WEBSITE_VISIT="website_visit",b.LOGIN_ATTEMPT_GOOGLE="login_attempt_google",b.LOGIN_ATTEMPT_TWITTER="login_attempt_twitter",b.LOGIN_SUCCESS_GOOGLE="login_success_google",b.LOGIN_SUCCESS_TWITTER="login_success_twitter",b.HOVER_ON_PROFILE="hover_on_profile",b.UNFOLLOW_KOL="unfollow_kol",b.FOLLOW_KOL="follow_kol",b.CLICK_ON_FOLLOWING="click_on_following",b.CLICK_ON_FOLLOWERS="click_on_followers",b.CLICK_ON_PROFILE="click_on_profile_from_twitter",b.HOVER_ON_INLINE_WALLET="hover_on_inline_wallet",b.CLICK_ON_EDIT_LABEL_SIDE_PANEL="click_on_edit_label_side_panel",b.CLICK_ON_CANCEL_MANAGE_SIDE_PANEL="click_on_cancel_manage_side_panel",b.CLICK_ON_EDIT_LABEL_TWITTER="click_on_edit_label_twitter",b.TWITTER_PROFILE_WALLET_EXPAND="twitter_profile_wallet_expand",b.TWITTER_PROFILE_WALLET_HISTORY_CLICK="twitter_profile_wallet_history_click",b.SIDE_PANEL_UPDATE_LABEL_TWITTER="side_panel_update_label_twitter",b.SIDE_PANEL_CLEAR_LABEL_TWITTER="side_panel_clear_label_twitter",b.CLICK_ON_PROFILE_SIDE_PANEL="click_on_profile_side_panel",b.CLICK_ON_WALLET_COPY="click_on_wallet_copy",b.CLICK_ON_WALLET_COPY_ALL="click_on_wallet_copy_all",b.CLICK_ON_WALLET_DETAIL_SIDE_PANEL="click_on_wallet_detail_side_panel",b.HOME_START_TRADING_CLICK="home_start_trading_click",b.HOME_CLICK_ON_TWITTER_X="home_click_on_twitter_x",b.HOME_CLICK_ON_WALLET_DETAIL_TAB="home_click_on_wallet_detail_tab",b.HOME_CLICK_ON_TWITTER_DETAIL_TAB="home_click_on_twitter_detail_tab",b.HOME_CLICK_ON_LABEL="home_click_on_label",b.HOME_CLICK_ON_WALLET_SOLSCAN="home_click_on_wallet_solscan",b.HOME_CLICK_ON_TWITTER="home_click_on_twitter",b.CLICK_ON_GROUP_DETAIL_SIDE_PANEL="click_on_group_detail_side_panel",b.CLICK_ON_GROUP_SIDE_PANEL="click_on_group_side_panel",b.CLICK_ON_CREATE_GROUP_SIDE_PANEL="click_on_create_group_side_panel",b.CLICK_DELETE_GROUP_SIDE_PANEL="click_delete_group_side_panel",b.CLICK_EDIT_GROUP_SIDE_PANEL="click_edit_group_side_panel",b.CLICK_SAVE_GROUP_CHANGES_SIDE_PANEL="click_save_group_changes_side_panel",b.CLICK_CANCEL_GROUP_CHANGES_SIDE_PANEL="click_cancel_group_changes_side_panel",b.CLICK_DELETE_WALLET_FROM_GROUP_SIDE_PANEL="click_delete_wallet_from_group_side_panel",b.CLICK_CANCEL_ADD_WALLET_TO_GROUP_SIDE_PANEL="click_cancel_add_wallet_to_group_side_panel",b.CLICK_SAVE_NEW_WALLET_TO_GROUP_SIDE_PANEL="click_save_new_wallet_to_group_side_panel",b.CLICK_ON_PRIMARY_LABEL_ADD_WALLET_TO_GROUP_SIDE_PANEL="click_on_primary_label_add_wallet_to_group_side_panel",b.CLICK_ADD_GROUP_SIDE_PANEL="click_add_group_side_panel",b.CLICK_SAVE_GROUP_SIDE_PANEL="click_save_group_side_panel",b.CLICK_CANCEL_ADD_GROUP_SIDE_PANEL="click_cancel_add_group_side_panel",b.CLICK_ADD_WALLET_TO_GROUP_SIDE_PANEL="click_add_wallet_to_group_side_panel",b.GROUP_SELECT_TOGGLE_SIDE_PANEL="group_select_toggle_side_panel",b.CLICK_ON_CUSTOMIZED_GROUP="click_on_customized_group",b.CLICK_ON_GMGN_IMPORT_SIDE_PANEL="click_on_gmgn_import_side_panel",b.CLICK_ON_SOLSCAN_IMPORT_SIDE_PANEL="click_on_solscan_import_side_panel",b.CLICK_ON_AXIOM_IMPORT_SIDE_PANEL="click_on_axiom_import_side_panel",b.CLICK_ON_PHOTON_IMPORT_SIDE_PANEL="click_on_photon_import_side_panel",b.CLICK_ON_BULK_IMPORT_SIDE_PANEL="click_on_bulk_import_side_panel",b.CLICK_ON_CONFIRMING_IMPORT_LABELS="click_on_confirming_import_labels",b.CLICK_ON_SUBMIT_BULK_IMPORT_SIDE_PANEL="click_on_submit_bulk_import_side_panel",b.CLICK_ON_TAB_SIDE_PANEL="click_on_tab_side_panel",b.CLICK_ON_TAB_WHILE_SEARCHING_SIDE_PANEL="click_on_tab_while_searching_side_panel",b.HOME_CLICK_ON_HOME_TAB="home_click_on_home_tab",b.HOME_CLICK_ON_IMPORT_TAB="home_click_on_import_tab",b.HOME_EXPLORE_LABEL_CLICK="home_explore_label_click",b.SEARCH_ON_TAB_SIDE_PANEL="search_on_tab_side_panel",b.CLICK_ON_WALLET_SEARCH_TAB="click_on_wallet_search_tab",b.CLICK_ON_PROFILE_SEARCH_TAB="click_on_profile_search_tab",b.CLICK_ON_GROUP_SEARCH_TAB="click_on_group_search_tab",b.CLICK_ON_SETTING_TAB="click_on_setting_tab",b.CLICK_ON_ADD_TAB="click_on_add_tab",b.SETTING_THEME_SIDE_PANEL="setting_theme_side_panel",b.CLICK_CLOSE_SETTING_SIDE_PANEL="click_close_setting_side_panel",b.CLICK_LOGOUT_SIDE_PANEL="click_logout_side_panel",b.CLICK_ON_SETTING="click_on_setting",b.CLICK_ON_LOGIN_SIDE_PANEL="click_on_login_side_panel",b.CLICK_OFF_SETTING_SIDE_PANEL="click_off_setting_side_panel",b.CLICK_SHOW_SETTING_SIDE_PANEL="click_show_setting_side_panel",b.CLICK_TOGGLE_PLATFORM_DISABLED_SIDE_PANEL="click_toggle_platform_disabled_side_panel",b.CLICK_ON_CLOSE_ADD_SIDE_PANEL="click_on_close_add_side_panel",b.CLICK_ON_NEW_WALLET_SIDE_PANEL="click_on_new_wallet_side_panel",b.CLICK_ON_NEW_GROUP_SIDE_PANEL="click_on_new_group_side_panel",b.GROUP_NAME_CHANGE_ADD_SIDE_PANEL="group_name_change_add_side_panel",b.CLICK_ON_SAVE_GROUP_SIDE_PANEL="click_on_save_group_side_panel",b.WALLET_ADDRESS_CHANGE_ADD_SIDE_PANEL="wallet_address_change_add_side_panel",b.PRIMARY_LABEL_CHANGE_ADD_SIDE_PANEL="primary_label_change_add_side_panel",b.CLICK_ON_SAVE_WALLET_SIDE_PANEL="click_on_save_wallet_side_panel",b.GROUP_SELECT_CHANGE_ADD_SIDE_PANEL="group_select_change_add_side_panel",b.CLICK_ON_BACK_ADD_SIDE_PANEL="click_on_back_add_side_panel",b.CLICK_ON_WALLET_EDIT_SIDE_PANEL="click_on_wallet_edit_side_panel",b.CLICK_ON_DELETE_LABEL_SIDE_PANEL="click_on_delete_label_side_panel",b.CLICK_ON_SAVE_MANAGE_SIDE_PANEL="click_on_save_manage_side_panel",b.CLICK_ON_ADD_WALLET_TO_GROUP_SIDE_PANEL="click_on_add_wallet_to_group_side_panel",b.CLICK_IMPORT_OPTIONS_WELCOME_SIDE_PANEL="click_import_options_welcome_side_panel",b.CLICK_EXPLORE_WELCOME_SIDE_PANEL="click_explore_welcome_side_panel",b.CLICK_ON_EXPLORE_FRONTRUN_BUTTON="click_on_explore_frontrun_button",b.CLICK_EXTENSION_CHROME="click_extension_chrome",b.EXTENSION_INSTALLED="extension_installed",b.EXTENSION_UPDATED="extension_updated",b.CHROME_BROWSER_UPDATED="chrome_browser_updated",b.SHARED_MODULE_UPDATED="shared_module_updated",b.SESSION_STARTED="session_started",b.SESSION_ENDED="session_ended",b.CLICK_ON_ADD_ALT_WALLET_TO_GROUP_SIDE_PANEL="click_on_add_alt_wallet_to_group_side_panel",b.CLICK_ON_ALT_WALLET_SOLSCAN_SIDE_PANEL="click_on_alt_wallet_solscan_side_panel",b.CLICK_ON_ALT_WALLET_LAST_ACTIVE_SIDE_PANEL="click_on_alt_wallet_last_active_side_panel",b.CLICK_ON_ALT_WALLET_DETAIL_SIDE_PANEL="click_on_alt_wallet_detail_side_panel",b.CLICK_ON_ALT_WALLET_EDIT_LABEL_SIDE_PANEL="click_on_alt_wallet_edit_label_side_panel",b.CLICK_ON_ALT_WALLET_FIND_SIDE_PANEL="click_on_alt_wallet_find_side_panel",b.SUCCESS_BULK_IMPORT_SIDE_PANEL="success_bulk_import_side_panel",b.ERROR_BULK_IMPORT_SIDE_PANEL="error_bulk_import_side_panel",b.CLICK_ON_FIND_ALT_WALLETS_SIDE_PANEL="click_on_find_alt_wallets_side_panel",b.HOME_CLICK_ON_TRADING="home_click_on_trading",b.HOME_START_TRADING_AUTH="home_start_trading_auth",b.TRADING_CREATE_WALLET="trading_create_wallet",b.TRADING_IMPORT_WALLET="trading_import_wallet",b.TRADING_COPY_ADDRESS="trading_copy_address",b.TRADING_EXPORT_PRIVATE_KEY="trading_export_private_key",b.TRADING_EXPORT_PRIVATE_KEY_ERROR="trading_export_private_key_error",b.TRADING_EXPORT_PRIVATE_KEY_AUTH="trading_export_private_key_auth",b.TRADING_SET_ACTIVE_WALLET="trading_set_active_wallet",b.TRADING_CLICK_WITHDRAW="trading_click_withdraw",b.TRADING_CLICK_DEPOSIT="trading_click_deposit",b.TRADING_TOKEN_ON_AXIOM="trading_token_on_axiom",b.TRADING_CLICK_EXPORT_PRIVATE_KEY="trading_click_export_private_key",b.TRADING_HIDE_LOW_BALANCES="trading_hide_low_balances",b.TRADING_IMPORT_PRIVATE_KEY_SUCCESS="trading_import_private_key_success",b.TRADING_IMPORT_PRIVATE_KEY_ERROR="trading_import_private_key_error",b.TRADING_WITHDRAW_SUCCESS="trading_withdraw_success",b.TRADING_WITHDRAW_ERROR="trading_withdraw_error",b.TRADING_WITHDRAW_AUTH="trading_withdraw_auth",b.HOME_CLICK_ON_LABELING_TAB="home_click_on_labeling_tab",b.HOME_CLICK_ON_TRADING_TAB="home_click_on_trading_tab",b.HOME_CLICK_ON_ADD_TAB="home_click_on_add_tab",b.HOME_CLICK_CLOSE_ADD_TAB="home_click_close_add_tab",b.HOME_CLICK_ON_SETTING_TAB="home_click_on_setting_tab",b.TRADING_IMPORT_WALLET_FAILED="trading_import_wallet_failed",b.TRADING_IMPORT_WALLET_MORE_THAN_5_WALLETS="trading_import_wallet_more_than_5_wallets",b.TRADING_CREATE_WALLET_FAILED="trading_create_wallet_failed",b.CLICK_ON_JITO_BUNDLE_INFO="click_on_jito_bundle_info",b.CHECK_JITO_BUNDLE_COPY_TX="check_jito_bundle_copy_tx",b.CHECK_JITO_BUNDLE_VIEW_SOLSCAN="check_jito_bundle_view_solscan",b.CLICK_ON_HISTORICAL_CA_AXIOM="click_on_historical_ca_axiom",b.CLICK_ON_HISTORICAL_CA_GMGN="click_on_historical_ca_gmgn",b.CLICK_ON_HISTORICAL_WALLET_GMGN="click_on_historical_wallet_gmgn",b.CLICK_ON_HISTORICAL_WALLET_SOLSCAN="click_on_historical_wallet_solscan",b.UPDATE_LABEL="update_label";let _e=null,_t=null,_r=null;async function _n(){try{_e||(_e=await b4()),_t||(_t=b3()),_r||(_r=b5())}catch(e){bA.error("Failed to initialize amplitude cache",e)}}async function _i(e){}let _s=async(e,t)=>{try{await _n();let r=_e,n=_t,i=_r,{account:s}=lW.getState(),o=await b9(),a={event_type:e,user_id:s.user?.id||"anonymous",device_id:r.deviceId,session_id:o,time:Date.now(),app_version:chrome.runtime.getManifest().version,platform:n.platform,language:i.language,ip:"$remote",event_properties:{...t,context:"background",browser:n.browser,browser_version:n.browserVersion,os:n.os,locale:i.locale,supported_languages:i.languages,timezone:r.timezone},user_properties:{$set:{browser:n.browser,browser_version:n.browserVersion,os:n.os,language:i.language,locale:i.locale,timezone:r.timezone}}};await _i([a])}catch(e){bA.error("Failed to track amplitude event",e)}},_o=async e=>{try{let{account:t}=lW.getState();if(!t.user?.id){bA.warn("Cannot identify user without user_id");return}await _n();let r=_e,n=_t,i=_r,s={event_type:"$identify",user_id:t.user?.id,device_id:r.deviceId,session_id:await b9(),time:Date.now(),language:i.language,platform:n.platform,ip:"$remote",user_properties:{$set:{...e,browser:n.browser,browser_version:n.browserVersion,os:n.os,language:i.language,locale:i.locale,timezone:r.timezone}}};await _i([s])}catch(e){bA.error("Failed to identify amplitude user",e)}},_a=async()=>{try{let{account:e}=lW.getState();e.user&&await _o({email:e.user.email||"",name:e.user.name||""})}catch(e){bA.error("Failed to update amplitude user",e)}},_u=async()=>{try{await _n();let e=lW.getState(),t=e.account.user?.id;lW.subscribe(()=>{try{let e=lW.getState(),r=e.account.user?.id;t!==r&&(t=r,_a().catch(e=>{bA.error("Failed to update amplitude user in subscription",e)}))}catch(e){bA.error("Error in store subscription",e)}}),_s(B.SESSION_STARTED,{initialization_context:"background_script_startup"}).catch(e=>{bA.error("Failed to track session started event",e)})}catch(e){bA.error("Failed to initialize Amplitude",e)}},_l=iq("openSidepanel"),_c=!1;chrome.runtime.onConnect.addListener(function(e){"sidepanel"===e.name&&(_l.debug("sidepanel connected"),_c=!0,_s(B.SESSION_STARTED),e.onDisconnect.addListener(()=>{_l.debug("sidepanel disconnected."),_c=!1,_s(B.SESSION_ENDED)}))});let _d=async(e,t)=>{if(e.body&&lW.dispatch(u3(e.body)),!_c){let t=e.sender.tab?.id||0;if(t){try{await chrome.sidePanel.open({tabId:t})}catch(e){console.error("Failed to open side panel:",e)}let e=await bE();e||await bS()}}t.send({success:!0})},_h=iq("background/messages/trackAmplitudeEvent"),_f=async(e,t)=>{let{eventName:r,eventProperties:n}=e.body;try{await Promise.race([_s(r,n),new Promise((e,t)=>setTimeout(()=>t(Error("Request timeout")),5e3))]),t.send({success:!0})}catch(n){let e=n instanceof Error?n.message:String(n);_h.error("trackAmplitudeEvent failed",{error:e,eventName:r}),t.send({success:!1,error:e})}};var tk=M("jcdBh");let _p=/\{[^{}]+\}/g,_g=()=>"object"==typeof tk&&Number.parseInt(tk?.versions?.node?.substring(0,2))>=18&&tk.versions.undici;function _y(e){let{baseUrl:t="",Request:r=globalThis.Request,fetch:n=globalThis.fetch,querySerializer:i,bodySerializer:s,headers:o,requestInitExt:a,...u}={...e};a=_g()?a:void 0,t=_S(t);let l=[];async function c(e,c){var d;let h,f,p,g,y;let{baseUrl:m,fetch:b=n,Request:_=r,headers:v,params:w={},parseAs:E="json",querySerializer:S,bodySerializer:k=s??_w,body:A,...x}=c||{},I=t;m&&(I=_S(m)??t);let T="function"==typeof i?i:_v(i);S&&(T="function"==typeof S?S:_v({..."object"==typeof i?i:{},...S}));let O=void 0===A?void 0:k(A,_E(o,v,w.header)),B=_E(void 0===O||O instanceof FormData?{}:{"Content-Type":"application/json"},o,v,w.header),C={redirect:"follow",...u,...x,body:O,headers:B},P=new r((d={baseUrl:I,params:w,querySerializer:T},g=`${d.baseUrl}${e}`,d.params?.path&&(g=function(e,t){let r=e;for(let n of e.match(_p)??[]){let e=n.substring(1,n.length-1),i=!1,s="simple";if(e.endsWith("*")&&(i=!0,e=e.substring(0,e.length-1)),e.startsWith(".")?(s="label",e=e.substring(1)):e.startsWith(";")&&(s="matrix",e=e.substring(1)),!t||void 0===t[e]||null===t[e])continue;let o=t[e];if(Array.isArray(o)){r=r.replace(n,__(e,o,{style:s,explode:i}));continue}if("object"==typeof o){r=r.replace(n,_b(e,o,{style:s,explode:i}));continue}if("matrix"===s){r=r.replace(n,`;${_m(e,o)}`);continue}r=r.replace(n,"label"===s?`.${encodeURIComponent(o)}`:encodeURIComponent(o))}return r}(g,d.params.path)),(y=d.querySerializer(d.params.query??{})).startsWith("?")&&(y=y.substring(1)),y&&(g+=`?${y}`),g),C);for(let e in x)e in P||(P[e]=x[e]);if(l.length){for(let t of(h=Math.random().toString(36).slice(2,11),f=Object.freeze({baseUrl:I,fetch:b,parseAs:E,querySerializer:T,bodySerializer:k}),l))if(t&&"object"==typeof t&&"function"==typeof t.onRequest){let n=await t.onRequest({request:P,schemaPath:e,params:w,options:f,id:h});if(n){if(n instanceof r)P=n;else if(n instanceof Response){p=n;break}else throw Error("onRequest: must return new Request() or Response() when modifying the request")}}}if(!p){try{p=await b(P,a)}catch(r){let t=r;if(l.length)for(let r=l.length-1;r>=0;r--){let n=l[r];if(n&&"object"==typeof n&&"function"==typeof n.onError){let r=await n.onError({request:P,error:t,schemaPath:e,params:w,options:f,id:h});if(r){if(r instanceof Response){t=void 0,p=r;break}if(r instanceof Error){t=r;continue}throw Error("onError: must return new Response() or instance of Error")}}}if(t)throw t}if(l.length)for(let t=l.length-1;t>=0;t--){let r=l[t];if(r&&"object"==typeof r&&"function"==typeof r.onResponse){let t=await r.onResponse({request:P,response:p,schemaPath:e,params:w,options:f,id:h});if(t){if(!(t instanceof Response))throw Error("onResponse: must return new Response() when modifying the response");p=t}}}}if(204===p.status||"HEAD"===P.method||"0"===p.headers.get("Content-Length"))return p.ok?{data:void 0,response:p}:{error:void 0,response:p};if(p.ok)return"stream"===E?{data:p.body,response:p}:{data:await p[E](),response:p};let R=await p.text();try{R=JSON.parse(R)}catch{}return{error:R,response:p}}return{request:(e,t,r)=>c(t,{...r,method:e.toUpperCase()}),GET:(e,t)=>c(e,{...t,method:"GET"}),PUT:(e,t)=>c(e,{...t,method:"PUT"}),POST:(e,t)=>c(e,{...t,method:"POST"}),DELETE:(e,t)=>c(e,{...t,method:"DELETE"}),OPTIONS:(e,t)=>c(e,{...t,method:"OPTIONS"}),HEAD:(e,t)=>c(e,{...t,method:"HEAD"}),PATCH:(e,t)=>c(e,{...t,method:"PATCH"}),TRACE:(e,t)=>c(e,{...t,method:"TRACE"}),use(...e){for(let t of e)if(t){if("object"!=typeof t||!("onRequest"in t||"onResponse"in t||"onError"in t))throw Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");l.push(t)}},eject(...e){for(let t of e){let e=l.indexOf(t);-1!==e&&l.splice(e,1)}}}}function _m(e,t,r){if(null==t)return"";if("object"==typeof t)throw Error("Deeply-nested arrays/objects aren\u2019t supported. Provide your own `querySerializer()` to handle these.");return`${e}=${r?.allowReserved===!0?t:encodeURIComponent(t)}`}function _b(e,t,r){if(!t||"object"!=typeof t)return"";let n=[],i={simple:",",label:".",matrix:";"}[r.style]||"&";if("deepObject"!==r.style&&!1===r.explode){for(let e in t)n.push(e,!0===r.allowReserved?t[e]:encodeURIComponent(t[e]));let i=n.join(",");switch(r.style){case"form":return`${e}=${i}`;case"label":return`.${i}`;case"matrix":return`;${e}=${i}`;default:return i}}for(let i in t){let s="deepObject"===r.style?`${e}[${i}]`:i;n.push(_m(s,t[i],r))}let s=n.join(i);return"label"===r.style||"matrix"===r.style?`${i}${s}`:s}function __(e,t,r){if(!Array.isArray(t))return"";if(!1===r.explode){let n={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[r.style]||",",i=(!0===r.allowReserved?t:t.map(e=>encodeURIComponent(e))).join(n);switch(r.style){case"simple":return i;case"label":return`.${i}`;case"matrix":return`;${e}=${i}`;default:return`${e}=${i}`}}let n={simple:",",label:".",matrix:";"}[r.style]||"&",i=[];for(let n of t)"simple"===r.style||"label"===r.style?i.push(!0===r.allowReserved?n:encodeURIComponent(n)):i.push(_m(e,n,r));return"label"===r.style||"matrix"===r.style?`${n}${i.join(n)}`:i.join(n)}function _v(e){return function(t){let r=[];if(t&&"object"==typeof t)for(let n in t){let i=t[n];if(null!=i){if(Array.isArray(i)){if(0===i.length)continue;r.push(__(n,i,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if("object"==typeof i){r.push(_b(n,i,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}r.push(_m(n,i,e))}}return r.join("&")}}function _w(e,t){if(e instanceof FormData)return e;if(t){let r=t.get instanceof Function?t.get("Content-Type")??t.get("content-type"):t["Content-Type"]??t["content-type"];if("application/x-www-form-urlencoded"===r)return new URLSearchParams(e).toString()}return JSON.stringify(e)}function _E(...e){let t=new Headers;for(let r of e){if(!r||"object"!=typeof r)continue;let e=r instanceof Headers?r.entries():Object.entries(r);for(let[r,n]of e)if(null===n)t.delete(r);else if(Array.isArray(n))for(let e of n)t.append(r,e);else void 0!==n&&t.set(r,n)}return t}function _S(e){return e.endsWith("/")?e.substring(0,e.length-1):e}class _k extends Error{constructor({message:e,code:t,path:r,method:n}){super(`CopilotApiError: ${t} ${e} ${n} ${r}`),this.copilotCode=t,this.copilotMessage=e,this.name="CopilotApiError"}}let _A=iq("ApiClient"),_x=(({baseUrl:e,headers:t})=>{let r=_y({baseUrl:e,fetch:async(e,r)=>{let n=lW.getState()?.setting?.language||"en",i={"X-Copilot-Client-Language":n.includes("zh")?"ZH_CN":"EN_US"},s={...r,headers:{...t,...i,...r?.headers},credentials:"include"};try{let t=await fetch(e,s);return t}catch(t){throw _A.error("Fetch failed for: "+e.toString(),{options:s,error:t}),t}}});return new Proxy(r,{get:(e,t)=>async(...e)=>{let n=await r[t](...e);if(n.error){if(401===n.error.statusCode){_A.error("401 error",n.error);let{session:e}=lW.getState().account;e&&lW.dispatch(s9({user:null,session:null}))}throw new _k({message:n.error?.message,code:n.error?.statusCode,path:e[0],method:t})}if(!n.data.status&&"success"!==n.data.message)throw new _k({message:n.data.message,code:n.data.code,path:e[0],method:t});return{...n,data:n.data.data}}})})({baseUrl:(void 0)??"https://loadbalance.frontrun.pro",headers:{"X-Copilot-Client-Version":chrome.runtime.getManifest().version,"Content-Type":"application/json"}});iq("ApiCall");let _I=async(e,t)=>{let{args:r}=e.body;try{let e;e="string"==typeof r?await _x.GET(r,{}):await _x.request(r.method,r.url,{body:r.body,params:r.params,headers:r.headers});let{data:n,error:i,response:s}=e;n||200===s.status?t.send({data:n}):t.send({error:{status:s.status,data:i}})}catch(e){t.send({error:{status:"FETCH_ERROR",error:e.message}})}};iq("DexscreenerCall");let _T=_y({baseUrl:"https://api.dexscreener.com/latest"}),_O=async(e,t)=>{let{args:r}=e.body;try{let e;e="string"==typeof r?await _T.GET(r,{}):await _T.request(r.method,r.url,{body:r.body,params:r.params,headers:r.headers});let{data:n,error:i,response:s}=e;n?t.send({data:n}):t.send({error:{status:s.status,data:i}})}catch(e){t.send({error:{status:"FETCH_ERROR",error:e.message}})}},_B=async(e,t)=>{try{let{wallet:r}=e.body,n=await _x.GET("/api/v1/wallet/metadata/{chain}/{address}",{params:{path:{chain:"SOLANA",address:r}}});t.send({success:!0,data:n.data})}catch(e){t.send({success:!1,error:e.message})}},_C=async(e,t)=>{try{let r=await _x.GET("/api/v1/twitter/{twitterUsername}/info",{params:{path:{twitterUsername:e.body.twitterUsername}}});t.send({success:!0,data:r.data})}catch(e){t.send({success:!1,error:e.message})}},_P=iq("getWalletLabels"),_R=async(e,t)=>{try{let{wallets:r,excludeTokenCA:n,requestSource:i}=e.body,s=await _x.POST("/api/v1/wallet/metadata/batch-query",{body:{excludeTokenContractAddresses:n?[n]:void 0,wallets:r.map(e=>({chain:"SOLANA",address:e})),requestSource:i}});t.send({success:!0,data:s.data})}catch(e){_P.error("[Background] Error:",e),t.send({success:!1,error:e.message})}},_L=_y({baseUrl:"https://bundles.jito.wtf/api/v1"}),_M=async(e,t)=>{let{args:r}=e.body;try{let e;e="string"==typeof r?await _L.GET(r,{}):await _L.request(r.method,r.url,{body:r.body,params:r.params,headers:r.headers});let{data:n,error:i,response:s}=e;n?t.send({data:n}):t.send({error:{status:s.status,data:i}})}catch(e){t.send({error:{status:"FETCH_ERROR",error:e.message}})}};iq("JupiterCall");let _N=_y({baseUrl:"https://lite-api.jup.ag/ultra/v1"}),_D=async(e,t)=>{let{args:r}=e.body;try{let e;e="string"==typeof r?await _N.GET(r,{}):await _N.request(r.method,r.url,{body:r.body,params:r.params,headers:r.headers});let{data:n,error:i,response:s}=e;n?t.send({data:n}):t.send({error:{status:s.status,data:i}})}catch(e){t.send({error:{status:"FETCH_ERROR",error:e.message}})}};iq("OkxCall");let _U=_y({baseUrl:"https://web3.okx.com"}),_j=async(e,t)=>{let{args:r}=e.body;try{let e;e="string"==typeof r?await _U.GET(r,{}):await _U.request(r.method,r.url,{body:r.body,params:r.params,headers:r.headers});let{data:n,error:i,response:s}=e;n?t.send({data:n}):t.send({error:{status:s.status,data:i}})}catch(e){t.send({error:{status:"FETCH_ERROR",error:e.message}})}};globalThis.__plasmoInternalPortMap=new Map,chrome.runtime.onMessageExternal.addListener((e,t,r)=>(e?.name,!0)),chrome.runtime.onMessage.addListener((e,t,r)=>{switch(e.name){case"auth":lQ({...e,sender:t},{send:e=>r(e)});break;case"captureSentryEvent":dx({...e,sender:t},{send:e=>r(e)});break;case"checkJitoBundle":dT({...e,sender:t},{send:e=>r(e)});break;case"fetchTransactionDetails":bm({...e,sender:t},{send:e=>r(e)});break;case"getEnabledFeatures":bb({...e,sender:t},{send:e=>r(e)});break;case"getGmgnAuth":b_({...e,sender:t},{send:e=>r(e)});break;case"keepPrivateKey":bw({...e,sender:t},{send:e=>r(e)});break;case"openSidepanel":_d({...e,sender:t},{send:e=>r(e)});break;case"trackAmplitudeEvent":_f({...e,sender:t},{send:e=>r(e)});break;case"service/apiCall":_I({...e,sender:t},{send:e=>r(e)});break;case"service/dexscreenerCall":_O({...e,sender:t},{send:e=>r(e)});break;case"service/getSingleWalletMeta":_B({...e,sender:t},{send:e=>r(e)});break;case"service/getTwitterInfo":_C({...e,sender:t},{send:e=>r(e)});break;case"service/getWalletLabels":_R({...e,sender:t},{send:e=>r(e)});break;case"service/jitoCall":_M({...e,sender:t},{send:e=>r(e)});break;case"service/jupiterCall":_D({...e,sender:t},{send:e=>r(e)});break;case"service/okxCall":_j({...e,sender:t},{send:e=>r(e)})}return!0}),chrome.runtime.onConnect.addListener(function(e){globalThis.__plasmoInternalPortMap.set(e.name,e),e.onMessage.addListener(function(t){e.name})});let _q=()=>{chrome.i18n.getAcceptLanguages().then(e=>{let t=e&&e.length>0?e[0]:"en",r="en";t.startsWith("zh")?r="zh":t.startsWith("ru")&&(r="ru"),lW.dispatch(uB(r))}).catch(()=>{lW.dispatch(uB("en"))})};function _F(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function _$(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in lZ))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}())return!1;if(_F(lZ.fetch))return!0;let e=!1,t=lZ.document;if(t&&"function"==typeof t.createElement)try{let r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow?.fetch&&(e=_F(r.contentWindow.fetch)),t.head.removeChild(r)}catch(e){l1&&cc.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}let _z={},_H={};function _W(e,t){_z[e]=_z[e]||[],_z[e].push(t)}function _K(e,t){if(!_H[e]){_H[e]=!0;try{t()}catch(t){l1&&cc.error(`Error while instrumenting ${e}`,t)}}}function _V(e,t){let r=e&&_z[e];if(r)for(let n of r)try{n(t)}catch(t){l1&&cc.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${c2(n)}
Error:`,t)}}function _G(e,t){let r="fetch";_W(r,e),_K(r,()=>(function(e,t=!1){(!t||_$())&&cp(lZ,"fetch",function(t){return function(...r){let n=Error(),{method:i,url:s}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){let[t,r]=e;return{url:_J(t),method:_Q(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:_J(t),method:_Q(t,"method")?String(t.method).toUpperCase():"GET"}}(r),o={args:r,fetchData:{method:i,url:s},startTimestamp:1e3*cT(),virtualError:n,headers:function(e){let[t,r]=e;try{if("object"==typeof r&&null!==r&&"headers"in r&&r.headers)return new Headers(r.headers);if("undefined"!=typeof Request&&cn(t,Request))return new Headers(t.headers)}catch{}}(r)};return e||_V("fetch",{...o}),t.apply(lZ,r).then(async t=>(e?e(t):_V("fetch",{...o,endTimestamp:1e3*cT(),response:t}),t),e=>{if(_V("fetch",{...o,endTimestamp:1e3*cT(),error:e}),l6(e)&&void 0===e.stack&&(e.stack=n.stack,cg(e,"framesToPop",1)),e instanceof TypeError&&("Failed to fetch"===e.message||"Load failed"===e.message||"NetworkError when attempting to fetch resource."===e.message))try{let t=new URL(o.fetchData.url);e.message=`${e.message} (${t.host})`}catch{}throw e})}})})(void 0,t))}function _Q(e,t){return!!e&&"object"==typeof e&&!!e[t]}function _J(e){return"string"==typeof e?e:e?_Q(e,"url")?e.url:e.toString?e.toString():"":""}function _Z(e){return"/"===e[e.length-1]?e.slice(0,-1):e}let _X="__sentry_xhr_v3__";function _Y(e){_W("xhr",e),_K("xhr",_0)}function _0(){if(!lZ.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,r){let n=Error(),i=1e3*cT(),s=l4(r[0])?r[0].toUpperCase():void 0,o=function(e){if(l4(e))return e;try{return e.toString()}catch{}}(r[1]);if(!s||!o)return e.apply(t,r);t[_X]={method:s,url:o,request_headers:{}},"POST"===s&&o.match(/sentry_key/)&&(t.__sentry_own_request__=!0);let a=()=>{let e=t[_X];if(e&&4===t.readyState){try{e.status_code=t.status}catch(e){}let r={endTimestamp:1e3*cT(),startTimestamp:i,xhr:t,virtualError:n};_V("xhr",r)}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,r)=>(a(),e.apply(t,r))}):t.addEventListener("readystatechange",a),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,r){let[n,i]=r,s=t[_X];return s&&l4(n)&&l4(i)&&(s.request_headers[n.toLowerCase()]=i),e.apply(t,r)}}),e.apply(t,r)}}),e.send=new Proxy(e.send,{apply(e,t,r){let n=t[_X];if(!n)return e.apply(t,r);void 0!==r[0]&&(n.body=r[0]);let i={startTimestamp:1e3*cT(),xhr:t};return _V("xhr",i),e.apply(t,r)}})}let _1="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,_2=(e={})=>{let t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:"HttpClient",setup(e){_$()&&_G(r=>{if(cW()!==e)return;let{response:n,args:i,error:s,virtualError:o}=r,[a,u]=i;n&&function(e,t,r,n,i){if(_3(e,r.status,r.url)){let e,s,o,a;let u=!n&&t instanceof Request||t instanceof Request&&t.bodyUsed?t:new Request(t,n);_4()&&([e,o]=_6("Cookie",u),[s,a]=_6("Set-Cookie",r));let l=_5({url:u.url,method:u.method,status:r.status,requestHeaders:e,responseHeaders:s,requestCookies:o,responseCookies:a,error:i});d_(l)}}(t,a,n,u,s||o)},!1),"XMLHttpRequest"in lZ&&_Y(r=>{if(cW()!==e)return;let{error:n,virtualError:i}=r,s=r.xhr,o=s[_X];if(!o)return;let{method:a,request_headers:u}=o;try{!function(e,t,r,n,i){if(_3(e,t.status,t.responseURL)){let e,s,o;if(_4()){try{let e=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;e&&(s=_8(e))}catch{}try{o=function(e){let t=e.getAllResponseHeaders();return t?t.split("\r\n").reduce((e,t)=>{let[r,n]=t.split(": ");return r&&n&&(e[r]=n),e},{}):{}}(t)}catch{}e=n}let a=_5({url:t.responseURL,method:r,status:t.status,requestHeaders:e,responseHeaders:o,responseCookies:s,error:i});d_(a)}}(t,s,a,u,n||i)}catch(e){_1&&cc.warn("Error while extracting response event form XHR response",e)}})}}};function _6(e,t){let r;let n=function(e){let t={};return e.forEach((e,r)=>{t[r]=e}),t}(t.headers);try{let t=n[e]||n[e.toLowerCase()]||void 0;t&&(r=_8(t))}catch{}return[n,r]}function _8(e){return e.split("; ").reduce((e,t)=>{let[r,n]=t.split("=");return r&&n&&(e[r]=n),e},{})}function _3(e,t,r){return e.failedRequestStatusCodes.some(e=>"number"==typeof e?e===t:t>=e[0]&&t<=e[1])&&e.failedRequestTargets.some(e=>"string"==typeof e?r.includes(e):e.test(r))&&!function(e,t){let r=t?.getDsn(),n=t?.getOptions().tunnel;return!!r&&e.includes(r.host)||!!n&&_Z(e)===_Z(n)}(r,cW())}function _5(e){let t=cW(),r=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,n=r&&t?t.getOptions().stackParser(r,0,1):void 0,i=`HTTP Client Error with status code: ${e.status}`,s={message:i,exception:{values:[{type:"Error",value:i,stacktrace:n?{frames:n}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:function(e){if(e){let t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}(e.responseHeaders)}}};return cA(s,{type:"http.client",handled:!1}),s}function _4(){let e=cW();return!!e&&!!e.getOptions().sendDefaultPii}let _7=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{var r;if((r=e)&&(function(e,t){let r=e.message,n=t.message;return!!((r||n)&&(!r||n)&&(r||!n)&&r===n&&ve(e,t)&&_9(e,t))}(t,r)||function(e,t){let r=vt(t),n=vt(e);return!!(r&&n&&r.type===n.type&&r.value===n.value&&ve(e,t)&&_9(e,t))}(t,r)))return l1&&cc.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};function _9(e,t){let r=c6(e),n=c6(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(let e=0;e<n.length;e++){let t=n[e],i=r[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function ve(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return!(r.join("")!==n.join(""))}catch(e){return!1}}function vt(e){return e.exception?.values&&e.exception.values[0]}let vr=new WeakMap,vn=()=>({name:"FunctionToString",setupOnce(){s=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=cm(this),r=vr.has(cW())&&void 0!==t?t:this;return s.apply(r,e)}}catch{}},setup(e){vr.set(e,!0)}}),vi=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],vs=(e={})=>{let t;return{name:"EventFilters",setup(r){let n=r.getOptions();t=va(e,n)},processEvent(r,n,i){if(!t){let r=i.getOptions();t=va(e,r)}return!function(e,t){if(e.type){if("transaction"===e.type&&function(e,t){if(!t?.length)return!1;let r=e.transaction;return!!r&&cf(r,t)}(e,t.ignoreTransactions))return l1&&cc.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${cS(e)}`),!0}else{var r;if(r=t.ignoreErrors,r?.length&&bL(e).some(e=>cf(e,r)))return l1&&cc.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${cS(e)}`),!0;if(e.exception?.values?.length&&!e.message&&!e.exception.values.some(e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))return l1&&cc.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${cS(e)}`),!0;if(function(e,t){if(!t?.length)return!1;let r=vu(e);return!!r&&cf(r,t)}(e,t.denyUrls))return l1&&cc.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${cS(e)}.
Url: ${vu(e)}`),!0;if(!function(e,t){if(!t?.length)return!0;let r=vu(e);return!r||cf(r,t)}(e,t.allowUrls))return l1&&cc.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${cS(e)}.
Url: ${vu(e)}`),!0}return!1}(r,t)?r:null}}},vo=(e={})=>({...vs(e),name:"InboundFilters"});function va(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:vi],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function vu(e){try{let t=[...e.exception?.values??[]].reverse().find(e=>e.mechanism?.parent_id===void 0&&e.stacktrace?.frames?.length),r=t?.stacktrace?.frames;return r?function(e=[]){for(let t=e.length-1;t>=0;t--){let r=e[t];if(r&&"<anonymous>"!==r.filename&&"[native code]"!==r.filename)return r.filename||null}return null}(r):null}catch(t){return l1&&cc.error(`Cannot extract url for event ${cS(e)}`),null}}function vl(e){e.user?.ip_address===void 0&&(e.user={...e.user,ip_address:"{{auto}}"})}function vc(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):void 0===e.ipAddress&&(e.ipAddress="{{auto}}")}function vd(e,t){let r=vf(e,t),n={type:function(e){let t=e?.name;if(!t&&vg(e)){let t=e.message&&Array.isArray(e.message)&&2==e.message.length;return t?e.message[0]:"WebAssembly.Exception"}return t}(t),value:function(e){let t=e?.message;return vg(e)?Array.isArray(e.message)&&2==e.message.length?e.message[1]:"wasm exception":t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}(t)};return r.length&&(n.stacktrace={frames:r}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function vh(e,t){return{exception:{values:[vd(e,t)]}}}function vf(e,t){let r=t.stacktrace||t.stack||"",n=t&&vp.test(t.message)?1:0,i="number"==typeof t.framesToPop?t.framesToPop:0;try{return e(r,n,i)}catch(e){}return[]}let vp=/Minified React error #\d+;/i;function vg(e){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function vy(e,t,r,n,i){let s;if(l3(t)&&t.error)return vh(e,t.error);if(l5(t)||l8(t,"DOMException")){if("stack"in t)s=vh(e,t);else{let i=t.name||(l5(t)?"DOMError":"DOMException"),o=t.message?`${i}: ${t.message}`:i;ck(s=vm(e,o,r,n),o)}return"code"in t&&(s.tags={...s.tags,"DOMException.code":`${t.code}`}),s}return l6(t)?vh(e,t):(ce(t)||ct(t)?cA(s=function(e,t,r,n){let i=cW(),s=i?.getOptions().normalizeDepth,o=function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let r=e[t];if(r instanceof Error)return r}}(t),a={__serialized__:function e(t,r=3,n=102400){let i=c8(t,r);return~-encodeURI(JSON.stringify(i)).split(/%..|./).length>n?e(t,r-1,n):i}(t,s)};if(o)return{exception:{values:[vd(e,o)]},extra:a};let u={exception:{values:[{type:ct(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:function(e,{isUnhandledRejection:t}){let r=function(e,t=40){let r=Object.keys(cb(e));r.sort();let n=r[0];if(!n)return"[object has no keys]";if(n.length>=t)return cd(n,t);for(let e=r.length;e>0;e--){let n=r.slice(0,e).join(", ");if(!(n.length>t)){if(e===r.length)return n;return cd(n,t)}}return""}(e),n=t?"promise rejection":"exception";if(l3(e))return`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``;if(ct(e)){let t=function(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e);return`Event \`${t}\` (type=${e.type}) captured as ${n}`}return`Object captured as ${n} with keys: ${r}`}(t,{isUnhandledRejection:n})}]},extra:a};if(r){let t=vf(e,r);t.length&&(u.exception.values[0].stacktrace={frames:t})}return u}(e,t,r,i),{synthetic:!0}):(ck(s=vm(e,t,r,n),`${t}`,void 0),cA(s,{synthetic:!0})),s)}function vm(e,t,r,n){let i={};if(n&&r){let n=vf(e,r);n.length&&(i.exception={values:[{value:t,stacktrace:{frames:n}}]}),cA(i,{synthetic:!0})}if(l7(t)){let{__sentry_template_string__:e,__sentry_template_values__:r}=t;return i.logentry={message:e,params:r},i}return i.message=t,i}let vb=0;function v_(e,t={}){if("function"!=typeof e)return e;try{let t=e.__sentry_wrapped__;if(t){if("function"==typeof t)return t;return e}if(cm(e))return e}catch(t){return e}let r=function(...r){try{let n=r.map(e=>v_(e,t));return e.apply(this,n)}catch(e){throw vb++,setTimeout(()=>{vb--}),cH(n=>{n.addEventProcessor(e=>(t.mechanism&&(ck(e,void 0,void 0),cA(e,t.mechanism)),e.extra={...e.extra,arguments:r},e)),db(e)}),e}};try{for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch{}cy(r,e),cg(e,"__sentry_wrapped__",r);try{let t=Object.getOwnPropertyDescriptor(r,"name");t.configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch{}return r}class vv extends bz{constructor(e){let t={release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:lZ.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e},r=lZ.SENTRY_SDK_SOURCE||"npm";(function(e,t,r=[t],n="npm"){let i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:r.map(e=>({name:`${n}:@sentry/${e}`,version:lJ})),version:lJ}),e._metadata=i})(t,"browser",["browser"],r),super(t);let{sendDefaultPii:n,sendClientReports:i,_experiments:s}=this._options,o=s?.enableLogs;lZ.document&&(i||o)&&lZ.document.addEventListener("visibilitychange",()=>{"hidden"===lZ.document.visibilityState&&(i&&this._flushOutcomes(),o&&bG(this))}),o&&(this.on("flush",()=>{bG(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{bG(this)},5e3)})),n&&(this.on("postprocessEvent",vl),this.on("beforeSendSession",vc))}eventFromException(e,t){return function(e,t,r,n){let i=r?.syntheticException||void 0,s=vy(e,t,i,n);return cA(s),s.level="error",r?.event_id&&(s.event_id=r.event_id),cG(s)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",r){return function(e,t,r="info",n,i){let s=n?.syntheticException||void 0,o=vm(e,t,s,i);return o.level=r,n?.event_id&&(o.event_id=n.event_id),cG(o)}(this._options.stackParser,e,t,r,this._options.attachStacktrace)}_prepareEvent(e,t,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,r,n)}}function vw(e,t){let r=cW(),n=c$();if(!r)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:s=100}=r.getOptions();if(s<=0)return;let o=cI(),a={timestamp:o,...e},u=i?cl(()=>i(a,t)):a;null!==u&&(r.emit&&r.emit("beforeAddBreadcrumb",u,t),n.addBreadcrumb(u,s))}function vE(){"console"in lZ&&ca.forEach(function(e){e in lZ.console&&cp(lZ.console,e,function(t){return cu[e]=t,function(...t){_V("console",{args:t,level:e});let r=cu[e];r?.apply(lZ.console,t)}})})}function vS(e){if(void 0!==e)return e>=400&&e<500?"warning":e>=500?"error":void 0}function vk(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function vA(){if(!lZ.document)return;let e=_V.bind(null,"dom"),t=vx(e,!0);lZ.document.addEventListener("click",t,!1),lZ.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{let r=lZ[t]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(cp(r,"addEventListener",function(t){return function(r,n,i){if("click"===r||"keypress"==r)try{let n=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},s=n[r]=n[r]||{refCount:0};if(!s.handler){let n=vx(e);s.handler=n,t.call(this,r,n,i)}s.refCount++}catch(e){}return t.call(this,r,n,i)}}),cp(r,"removeEventListener",function(e){return function(t,r,n){if("click"===t||"keypress"==t)try{let r=this.__sentry_instrumentation_handlers__||{},i=r[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,n),i.handler=void 0,delete r[t]),0===Object.keys(r).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,r,n)}}))})}function vx(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;let n=function(e){try{return e.target}catch(e){return null}}(r);if("keypress"===r.type&&(!n?.tagName||"INPUT"!==n.tagName&&"TEXTAREA"!==n.tagName&&!n.isContentEditable))return;cg(r,"_sentryCaptured",!0),n&&!n._sentryId&&cg(n,"_sentryId",cw());let i="keypress"===r.type?"input":r.type;!function(e){if(e.type!==a)return!1;try{if(!e.target||e.target._sentryId!==u)return!1}catch(e){}return!0}(r)&&(e({event:r,name:i,global:t}),a=r.type,u=n?n._sentryId:void 0),clearTimeout(o),o=lZ.setTimeout(()=>{u=void 0,a=void 0},1e3)}}function vI(e){let t="history";_W(t,e),_K(t,vT)}function vT(){function e(e){return function(...t){let r=t.length>2?t[2]:void 0;if(r){let n=l,i=function(e){try{let t=new URL(e,lZ.location.origin);return t.toString()}catch{return e}}(String(r));if(l=i,n===i)return e.apply(this,t);_V("history",{from:n,to:i})}return e.apply(this,t)}}lZ.addEventListener("popstate",()=>{let e=lZ.location.href,t=l;l=e,t!==e&&_V("history",{from:t,to:e})}),"history"in lZ&&lZ.history&&(cp(lZ.history,"pushState",e),cp(lZ.history,"replaceState",e))}let vO=(e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(e){var r;t.console&&function(e){let t="console";_W(t,e),_K(t,vE)}(function(t){var r;if(cW()!==e)return;let n={category:"console",data:{arguments:t.args,logger:"console"},level:"warn"===(r=t.level)?"warning":["fatal","error","warning","log","info","debug"].includes(r)?r:"log",message:ch(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${ch(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}vw(n,{input:t.args,level:t.level})}),t.dom&&(_W("dom",(r=t.dom,function(t){let n,i;if(cW()!==e)return;let s="object"==typeof r?r.serializeAttribute:void 0,o="object"==typeof r&&"number"==typeof r.maxStringLength?r.maxStringLength:void 0;o&&o>1024&&(_1&&cc.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${o} was configured. Sentry will use 1024 instead.`),o=1024),"string"==typeof s&&(s=[s]);try{let e=t.event,r=e&&e.target?e.target:e;n=cs(r,{keyAttrs:s,maxStringLength:o}),i=function(e){if(!lZ.HTMLElement)return null;let t=e;for(let e=0;e<5&&t;e++){if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}(r)}catch(e){n="<unknown>"}if(0===n.length)return;let a={category:`ui.${t.name}`,message:n};i&&(a.data={"ui.component_name":i}),vw(a,{event:t.event,name:t.name,global:t.global})})),_K("dom",vA)),t.xhr&&_Y(function(t){if(cW()!==e)return;let{startTimestamp:r,endTimestamp:n}=t,i=t.xhr[_X];if(!r||!n||!i)return;let{method:s,url:o,status_code:a,body:u}=i,l={xhr:t.xhr,input:u,startTimestamp:r,endTimestamp:n},c={category:"xhr",data:{method:s,url:o,status_code:a},type:"http",level:vS(a)};e.emit("beforeOutgoingRequestBreadcrumb",c,l),vw(c,l)}),t.fetch&&_G(function(t){if(cW()!==e)return;let{startTimestamp:r,endTimestamp:n}=t;if(n&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method)){if(t.fetchData.method,t.fetchData.url,t.error){let i=t.fetchData,s={data:t.error,input:t.args,startTimestamp:r,endTimestamp:n},o={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",o,s),vw(o,s)}else{let i=t.response,s={...t.fetchData,status_code:i?.status};t.fetchData.request_body_size,t.fetchData.response_body_size,i?.status;let o={input:t.args,response:i,startTimestamp:r,endTimestamp:n},a={category:"fetch",data:s,type:"http",level:vS(s.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",a,o),vw(a,o)}}}),t.history&&vI(function(t){if(cW()!==e)return;let r=t.from,n=t.to,i=vk(lZ.location.href),s=r?vk(r):void 0,o=vk(n);s?.path||(s=i),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),vw({category:"navigation",data:{from:r,to:n}})}),t.sentry&&e.on("beforeSendEvent",function(t){cW()===e&&vw({category:`sentry.${"transaction"===t.type?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:cS(t)},{event:t})})}}},vB=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],vC=(e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&cp(lZ,"setTimeout",vP),t.setInterval&&cp(lZ,"setInterval",vP),t.requestAnimationFrame&&cp(lZ,"requestAnimationFrame",vR),t.XMLHttpRequest&&"XMLHttpRequest"in lZ&&cp(XMLHttpRequest.prototype,"send",vL);let e=t.eventTarget;if(e){let r=Array.isArray(e)?e:vB;r.forEach(e=>(function(e,t){let r=lZ[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(cp(r,"addEventListener",function(r){return function(n,i,s){try{"function"==typeof i.handleEvent&&(i.handleEvent=v_(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:c2(i),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&this&&"object"==typeof this&&"removeEventListener"in this&&"function"==typeof this.removeEventListener&&this.removeEventListener(n,i),r.apply(this,[n,v_(i,{mechanism:{data:{function:"addEventListener",handler:c2(i),target:e},handled:!1,type:"instrument"}}),s])}}),cp(r,"removeEventListener",function(e){return function(t,r,n){try{let i=r.__sentry_wrapped__;i&&e.call(this,t,i,n)}catch(e){}return e.call(this,t,r,n)}}))})(e,t))}}}};function vP(e){return function(...t){let r=t[0];return t[0]=v_(r,{mechanism:{data:{function:c2(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function vR(e){return function(t){return e.apply(this,[v_(t,{mechanism:{data:{function:"requestAnimationFrame",handler:c2(e)},handled:!1,type:"instrument"}})])}}function vL(e){return function(...t){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in r&&"function"==typeof r[e]&&cp(r,e,function(t){let r={mechanism:{data:{function:e,handler:c2(t)},handled:!1,type:"instrument"}},n=cm(t);return n&&(r.mechanism.data.handler=c2(n)),v_(t,r)})}),e.apply(this,t)}}let vM=()=>({name:"BrowserSession",setupOnce(){if(void 0===lZ.document){_1&&cc.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}dw({ignoreDuration:!0}),dk(),vI(({from:e,to:t})=>{void 0!==e&&e!==t&&(dw({ignoreDuration:!0}),dk())})}}),vN=null;function vD(){vN=lZ.onerror,lZ.onerror=function(e,t,r,n,i){return _V("error",{column:n,error:i,line:r,msg:e,url:t}),!!vN&&vN.apply(this,arguments)},lZ.onerror.__SENTRY_INSTRUMENTED__=!0}let vU=null;function vj(){vU=lZ.onunhandledrejection,lZ.onunhandledrejection=function(e){return _V("unhandledrejection",e),!vU||vU.apply(this,arguments)},lZ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}let vq=(e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(function(e){let t="error";_W(t,e),_K(t,vD)}(t=>{let{stackParser:r,attachStacktrace:n}=v$();if(cW()!==e||vb>0)return;let{msg:i,url:s,line:o,column:a,error:u}=t,l=function(e,t,r,n){let i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},u=a.frames=a.frames||[],l=l4(t)&&t.length>0?t:co();return 0===u.length&&u.push({colno:n,filename:l,function:"?",in_app:!0,lineno:r}),e}(vy(r,u||i,void 0,n,!1),s,o,a);l.level="error",d_(l,{originalException:u,mechanism:{handled:!1,type:"onerror"}})}),vF("onerror")),t.onunhandledrejection&&(function(e){let t="unhandledrejection";_W(t,e),_K(t,vj)}(t=>{let{stackParser:r,attachStacktrace:n}=v$();if(cW()!==e||vb>0)return;let i=function(e){if(l9(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}(t),s=l9(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:vy(r,i,void 0,n,!0);s.level="error",d_(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})}),vF("onunhandledrejection"))}}};function vF(e){_1&&cc.log(`Global Handler attached: ${e}`)}function v$(){let e=cW(),t=e?.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return t}let vz=()=>({name:"HttpContext",preprocessEvent(e){if(!lZ.navigator&&!lZ.location&&!lZ.document)return;let t=function(){let e=co(),{referrer:t}=lZ.document||{},{userAgent:r}=lZ.navigator||{},n={...t&&{Referer:t},...r&&{"User-Agent":r}};return{url:e,headers:n}}(),r={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:r}}});function vH(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function vW(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}let vK=(e={})=>{let t=e.limit||5,r=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,n,i){let s=i.getOptions();!function(e,t,r,n,i,s){if(!i.exception?.values||!s||!cn(s.originalException,Error))return;let o=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;o&&(i.exception.values=function e(t,r,n,i,s,o,a,u){if(o.length>=n+1)return o;let l=[...o];if(cn(i[s],Error)){vH(a,u);let o=t(r,i[s]),c=l.length;vW(o,s,c,u),l=e(t,r,n,i[s],s,[o,...l],o,c)}return Array.isArray(i.errors)&&i.errors.forEach((i,o)=>{if(cn(i,Error)){vH(a,u);let c=t(r,i),d=l.length;vW(c,`errors[${o}]`,d,u),l=e(t,r,n,i,s,[c,...l],c,d)}}),l}(e,t,n,s.originalException,r,i.exception.values,o,0))}(vd,s.stackParser,r,t,e,n)}}};function vV(e,t,r,n){let i={filename:e,function:"<anonymous>"===t?"?":t,in_app:!0};return void 0!==r&&(i.lineno=r),void 0!==n&&(i.colno=n),i}let vG=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,vQ=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,vJ=/\((\S*)(?::(\d+))(?::(\d+))\)/,vZ=[30,e=>{let t=vG.exec(e);if(t){let[,e,r,n]=t;return vV(e,"?",+r,+n)}let r=vQ.exec(e);if(r){let e=r[2]&&0===r[2].indexOf("eval");if(e){let e=vJ.exec(r[2]);e&&(r[2]=e[1],r[3]=e[2],r[4]=e[3])}let[t,n]=v2(r[1]||"?",r[2]);return vV(n,t,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],vX=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,vY=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,v0=[50,e=>{let t=vX.exec(e);if(t){let e=t[3]&&t[3].indexOf(" > eval")>-1;if(e){let e=vY.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let r=t[3],n=t[1]||"?";return[n,r]=v2(n,r),vV(r,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],v1=cY(...[vZ,v0]),v2=(e,t)=>{let r=-1!==e.indexOf("safari-extension"),n=-1!==e.indexOf("safari-web-extension");return r||n?[-1!==e.indexOf("@")?e.split("@")[0]:"?",r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},v6=Symbol.for("SentryBufferFullError"),v8="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,v3={};function v5(e,t=function(e){let t=v3[e];if(t)return t;let r=lZ[e];if(_F(r))return v3[e]=r.bind(lZ);let n=lZ.document;if(n&&"function"==typeof n.createElement)try{let t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);let i=t.contentWindow;i?.[e]&&(r=i[e]),n.head.removeChild(t)}catch(t){v8&&cc.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return r?v3[e]=r.bind(lZ):r}("fetch")){let r=0,n=0;return function(e,t,r=function(e){let t=[];function r(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(n){if(!(void 0===e||t.length<e))return cQ(v6);let i=n();return -1===t.indexOf(i)&&t.push(i),i.then(()=>r(i)).then(null,()=>r(i).then(null,()=>{})),i},drain:function(e){return new cJ((r,n)=>{let i=t.length;if(!i)return r(!0);let s=setTimeout(()=>{e&&e>0&&r(!1)},e);t.forEach(e=>{cG(e).then(()=>{--i||(clearTimeout(s),r(!0))},n)})})}}}(e.bufferSize||64)){let n={};return{send:function(i){let s=[];if(bI(i,(t,r)=>{let i=bO[r];(function(e,t,r=Date.now()){return(e[t]||e.all||0)>r})(n,i)?e.recordDroppedEvent("ratelimit_backoff",i):s.push(t)}),0===s.length)return cG({});let o=bx(i[0],s),a=t=>{bI(o,(r,n)=>{e.recordDroppedEvent(t,bO[n])})};return r.add(()=>t({body:function(e){let[t,r]=e,n=JSON.stringify(t);function i(e){"string"==typeof n?n="string"==typeof e?n+e:[bT(n),e]:n.push("string"==typeof e?bT(e):e)}for(let e of r){let[t,r]=e;if(i(`
${JSON.stringify(t)}
`),"string"==typeof r||r instanceof Uint8Array)i(r);else{let e;try{e=JSON.stringify(r)}catch(t){e=JSON.stringify(c8(r))}i(e)}}return"string"==typeof n?n:function(e){let t=e.reduce((e,t)=>e+t.length,0),r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return r}(n)}(o)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&l1&&cc.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),n=function(e,{statusCode:t,headers:r},n=Date.now()){let i={...e},s=r?.["x-sentry-rate-limits"],o=r?.["retry-after"];if(s)for(let e of s.trim().split(",")){let[t,r,,,s]=e.split(":",5),o=parseInt(t,10),a=(isNaN(o)?60:o)*1e3;if(r)for(let e of r.split(";"))"metric_bucket"===e?(!s||s.split(";").includes("custom"))&&(i[e]=n+a):i[e]=n+a;else i.all=n+a}else o?i.all=n+function(e,t=Date.now()){let r=parseInt(`${e}`,10);if(!isNaN(r))return 1e3*r;let n=Date.parse(`${e}`);return isNaN(n)?6e4:n-t}(o,n):429===t&&(i.all=n+6e4);return i}(n,e),e),e=>{throw a("network_error"),l1&&cc.error("Encountered error running transport request:",e),e})).then(e=>e,e=>{if(e===v6)return l1&&cc.error("Skipped sending event because buffer is full."),a("queue_overflow"),cG({});throw e})},flush:e=>r.drain(e)}}(e,function(i){let s=i.body.length;r+=s,n++;let o={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};if(!t)return v3.fetch=void 0,cQ("No fetch implementation available");try{return t(e.url,o).then(e=>(r-=s,n--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}))}catch(e){return v3.fetch=void 0,r-=s,n--,cQ(e)}})}var v4={};v4=JSON.parse('{"name":"@copilot/extension","displayName":"Frontrun","version":"0.0.48","description":"Frontrun is your AI co-pilot, empowering crypto traders to stay ahead of the market","author":"Frontrun","scripts":{"figma":"pnpx figma-developer-mcp","dev":"plasmo dev","build":"plasmo build --hoist && node scripts/afterbuild.mjs","build:staging":"plasmo build --hoist --mode staging --source-maps --bundle-buddy --env=.env.staging && node scripts/afterbuild.mjs","package":"plasmo package","clean":"rm -rf build && rm -rf .plasmo","release":"plasmo build --hoist --env=.env.release && node scripts/afterbuild.mjs && plasmo package","e2e":"playwright test","type-check":"tsc -p tsconfig.json --noEmit","lint":"eslint \\"src/**/*.{ts,tsx}\\"","test":"vitest"},"dependencies":{"@copilot/api-lib":"workspace:*","@copilot/app-utils":"workspace:*","@copilot/external-api":"workspace:*","@copilot/solana-trading-bot":"workspace:*","@copilot/solana-utils-mini":"workspace:*","@dnd-kit/core":"^6.3.1","@floating-ui/react":"^0.27.12","@growthbook/growthbook":"^1.6.0","@plasmohq/messaging":"0.7.1","@plasmohq/redux-persist":"^6.1.0","@plasmohq/storage":"^1.15.0","@reduxjs/toolkit":"^2.8.2","@sentry/browser":"^9.30.0","@sentry/react":"^9.30.0","@solana/web3.js":"^1.98.2","@turnkey/crypto":"^2.4.0","@turnkey/encoding":"^0.5.0","@turnkey/sdk-server":"^4.1.1","@turnkey/solana":"^1.0.30","@uidotdev/usehooks":"^2.4.1","better-auth":"^1.2.10","bignumber.js":"^9.1.2","bs58":"^5.0.0","classnames":"^2.5.1","daisyui":"5.0.23","dayjs":"^1.11.13","lodash.chunk":"^4.2.0","lodash.debounce":"^4.0.8","lodash.differenceby":"^4.8.0","lodash.throttle":"^4.1.1","plasmo":"0.90.5","qrcode-with-logos":"^1.1.1","react":"^19.1.0","react-dom":"^19.1.0","react-error-boundary":"^6.0.0","react-idle-timer":"^5.7.2","react-redux":"^9.2.0","react-router":"^7.6.2","react-shadow":"^20.6.0","redux-persist-webextension-storage":"^1.0.2","stringz":"^2.1.0","tailwindcss":"^3.4.17","viem":"^2.31.4"},"devDependencies":{"@ianvs/prettier-plugin-sort-imports":"4.4.1","@sentry/types":"^9.27.0","@testing-library/jest-dom":"^6.6.3","@testing-library/react":"^16.3.0","@types/chrome":"0.0.313","@types/lodash.chunk":"^4.2.9","@types/lodash.debounce":"^4.0.9","@types/lodash.differenceby":"^4.8.9","@types/lodash.throttle":"^4.1.9","@types/node":"20.11.5","@types/react":"^19.1.8","@types/react-dom":"^19.1.6","jsdom":"^26.1.0","postcss":"8.5.3","prettier":"3.5.3","typescript":"5.3.3","vitest":"^3.2.4"},"manifest":{"key":"$CRX_PUBLIC_KEY","host_permissions":["<all_urls>"],"permissions":["storage","webRequest","sidePanel","windows","identity","scripting"],"default_locale":"en"},"alias":{"./nodecrypto.mjs":"src/alias/nodecrypto.mjs","./purejs.mjs":"src/alias/purejs.mjs"}}');let v7={release:P(v4).version,dsn:void 0,skipBrowserExtensionCheck:!0},v9=()=>{(function(e={}){var t;let r=!e.skipBrowserExtensionCheck&&!!function(){if(void 0===lZ.window||lZ.nw)return!1;let e=lZ.chrome||lZ.browser;if(!e?.runtime?.id)return!1;let t=co(),r=lZ===lZ.top&&["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"].some(e=>t.startsWith(`${e}://`));return!r}()&&(_1&&cl(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0),n={...e,enabled:!r&&e.enabled,stackParser:Array.isArray(t=e.stackParser||v1)?cY(...t):t,integrations:function(e){let t;let r=e.defaultIntegrations||[],n=e.integrations;if(r.forEach(e=>{e.isDefaultInstance=!0}),Array.isArray(n))t=[...r,...n];else if("function"==typeof n){let e=n(r);t=Array.isArray(e)?e:[e]}else t=r;return function(e){let t={};return e.forEach(e=>{let{name:r}=e,n=t[r];n&&!n.isDefaultInstance&&e.isDefaultInstance||(t[r]=e)}),Object.values(t)}(t)}({integrations:e.integrations,defaultIntegrations:null==e.defaultIntegrations?[vo(),vn(),vC(),vO(),vq(),vK(),_7(),vz(),vM()]:e.defaultIntegrations}),transport:e.transport||v5};(function(e,t){!0===t.debug&&(l1?cc.enable():cl(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}));let r=cF();r.update(t.initialScope);let n=new e(t);cF().setClient(n),n.init()})(vv,n)})({...v7,integrations:[_2()],sendDefaultPii:!0}),lW.subscribe(()=>{let{account:e}=lW.getState();e.user?dv({id:e.user.id,email:e.user.email,username:e.user.name}):dv(null)})},we=()=>{let{account:e}=lW.getState(),t=e.user?.id||"anonymous";return`https://www.frontrun.pro/landing?action=uninstall&user_id=${t}`},wt=()=>{try{let e=we();chrome.runtime.setUninstallURL(e),bA.debug("Updated uninstall URL",{url:e})}catch(e){bA.error("Failed to update uninstall URL",e)}},wr=()=>{wt();let e=lW.getState().account.user?.id,t=lW.subscribe(()=>{let t=lW.getState(),r=t.account.user?.id;e!==r&&(e=r,wt())});return t},wn=async()=>{try{v9()}catch(e){bA.error("Failed to initialize Sentry",e)}_u().catch(e=>{bA.error("Failed to initialize Amplitude.",e),d_({level:"error",message:"Failed to initialize Amplitude",extra:{error:e}})});try{bk()}catch(e){bA.error("Failed to initialize action",e),d_({level:"error",message:"Failed to initialize action",extra:{error:e}})}try{_q()}catch(e){bA.error("Failed to initialize language",e),d_({level:"error",message:"Failed to initialize language",extra:{error:e}})}try{chrome.runtime.onInstalled.addListener(async e=>{{try{wr()}catch(e){bA.error("Failed to initialize uninstall URL manager",e),d_({level:"error",message:"Failed to initialize uninstall URL manager",extra:{error:e}})}let t={previousVersion:e.previousVersion||""};switch(e.reason){case"install":chrome.tabs.create({url:"tabs/index.html?onboarding=true"}),await _s(B.EXTENSION_INSTALLED,t);break;case"update":await _s(B.EXTENSION_UPDATED,t);break;case"chrome_update":await _s(B.CHROME_BROWSER_UPDATED,t);break;case"shared_module_update":await _s(B.SHARED_MODULE_UPDATED,t)}}})}catch(e){bA.error("Failed to handle extension installed events",e),d_({level:"error",message:"Failed to handle extension installed events",extra:{error:e}})}try{chrome.tabs.onUpdated.addListener((e,t,r)=>{"loading"===t.status&&lW.dispatch(u5({url:r.url}))})}catch(e){bA.error("Failed to handle tab updated events",e),d_({level:"error",message:"Failed to handle tab updated events",extra:{error:e}})}};wn();var wi={};wi=M("jZrc2").getBundleURL("aoY6u")+"../../"+M("hZnCo").resolve("kj1mr"),chrome.scripting.registerContentScripts([{id:"staticContentsMainInterceptor",js:[P(wi).split("/").pop().split("?")[0]],matches:["https://gmgn.ai/*","https://solscan.io/*","https://axiom.trade/*"],world:"MAIN",runAt:"document_start"}]).catch(e=>{})})(),globalThis.define=t}(globalThis.define);