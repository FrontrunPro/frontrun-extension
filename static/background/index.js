!function(e){var t;"function"==typeof e&&(t=e,e=null),(()=>{let t,r,n,i,o,a,s,u,l,c,d,p,f,h,m,g,y,b,_,w;function v(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var k,A,S,I,E,T,x,P,O,B,C,R,M,L,N,D,F,q,U,j,W,K,z,V,H,G,$,X,Z,Q,Y,J,ee,et,er,en,ei,eo,ea,es,eu,el,ec="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function ed(e){return e&&e.__esModule?e.default:e}var ep={},ef={},eh=ec.parcelRequiref356;null==eh&&((eh=function(e){if(e in ep)return ep[e].exports;if(e in ef){var t=ef[e];delete ef[e];var r={id:e,exports:{}};return ep[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){ef[e]=t},ec.parcelRequiref356=eh),eh.register("hZnCo",function(e,t){v(e.exports,"register",()=>r,e=>r=e),v(e.exports,"resolve",()=>n,e=>n=e);var r,n,i={};r=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)i[t[r]]=e[t[r]]},n=function(e){var t=i[e];if(null==t)throw Error("Could not resolve bundle with id "+e);return t}}),eh.register("hhhy0",function(e,t){v(e.exports,"Children",()=>r,e=>r=e),v(e.exports,"Component",()=>n,e=>n=e),v(e.exports,"Fragment",()=>i,e=>i=e),v(e.exports,"Profiler",()=>o,e=>o=e),v(e.exports,"PureComponent",()=>a,e=>a=e),v(e.exports,"StrictMode",()=>s,e=>s=e),v(e.exports,"Suspense",()=>u,e=>u=e),v(e.exports,"__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE",()=>l,e=>l=e),v(e.exports,"__COMPILER_RUNTIME",()=>c,e=>c=e),v(e.exports,"cache",()=>d,e=>d=e),v(e.exports,"cloneElement",()=>p,e=>p=e),v(e.exports,"createContext",()=>f,e=>f=e),v(e.exports,"createElement",()=>h,e=>h=e),v(e.exports,"createRef",()=>m,e=>m=e),v(e.exports,"forwardRef",()=>g,e=>g=e),v(e.exports,"isValidElement",()=>y,e=>y=e),v(e.exports,"lazy",()=>b,e=>b=e),v(e.exports,"memo",()=>_,e=>_=e),v(e.exports,"startTransition",()=>w,e=>w=e),v(e.exports,"unstable_useCacheRefresh",()=>k,e=>k=e),v(e.exports,"use",()=>A,e=>A=e),v(e.exports,"useActionState",()=>S,e=>S=e),v(e.exports,"useCallback",()=>I,e=>I=e),v(e.exports,"useContext",()=>E,e=>E=e),v(e.exports,"useDebugValue",()=>T,e=>T=e),v(e.exports,"useDeferredValue",()=>x,e=>x=e),v(e.exports,"useEffect",()=>P,e=>P=e),v(e.exports,"useId",()=>O,e=>O=e),v(e.exports,"useImperativeHandle",()=>B,e=>B=e),v(e.exports,"useInsertionEffect",()=>C,e=>C=e),v(e.exports,"useLayoutEffect",()=>R,e=>R=e),v(e.exports,"useMemo",()=>M,e=>M=e),v(e.exports,"useOptimistic",()=>L,e=>L=e),v(e.exports,"useReducer",()=>N,e=>N=e),v(e.exports,"useRef",()=>D,e=>D=e),v(e.exports,"useState",()=>F,e=>F=e),v(e.exports,"useSyncExternalStore",()=>q,e=>q=e),v(e.exports,"useTransition",()=>U,e=>U=e),v(e.exports,"version",()=>j,e=>j=e);var r,n,i,o,a,s,u,l,c,d,p,f,h,m,g,y,b,_,w,k,A,S,I,E,T,x,P,O,B,C,R,M,L,N,D,F,q,U,j,W=eh("jcdBh"),K=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),X=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),Y=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ee=Symbol.iterator,et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},er=Object.assign,en={};function ei(e,t,r){this.props=e,this.context=t,this.refs=en,this.updater=r||et}function eo(){}function ea(e,t,r){this.props=e,this.context=t,this.refs=en,this.updater=r||et}ei.prototype.isReactComponent={},ei.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},ei.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},eo.prototype=ei.prototype;var es=ea.prototype=new eo;es.constructor=ea,er(es,ei.prototype),es.isPureReactComponent=!0;var eu=Array.isArray,el={H:null,A:null,T:null,S:null,V:null},ec=Object.prototype.hasOwnProperty;function ed(e,t,r,n,i,o){return{$$typeof:K,type:e,key:t,ref:void 0!==(r=o.ref)?r:null,props:o}}function ep(e){return"object"==typeof e&&null!==e&&e.$$typeof===K}var ef=/\/+/g;function em(e,t){var r,n;return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,n={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return n[e]})):t.toString(36)}function eg(){}function ey(e,t,r){if(null==e)return e;var n=[],i=0;return function e(t,r,n,i,o){var a,s,u,l=typeof t;("undefined"===l||"boolean"===l)&&(t=null);var c=!1;if(null===t)c=!0;else switch(l){case"bigint":case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case K:case z:c=!0;break;case J:return e((c=t._init)(t._payload),r,n,i,o)}}if(c)return o=o(t),c=""===i?"."+em(t,0):i,eu(o)?(n="",null!=c&&(n=c.replace(ef,"$&/")+"/"),e(o,r,n,"",function(e){return e})):null!=o&&(ep(o)&&(a=o,s=n+(null==o.key||t&&t.key===o.key?"":(""+o.key).replace(ef,"$&/")+"/")+c,o=ed(a.type,s,void 0,void 0,void 0,a.props)),r.push(o)),1;c=0;var d=""===i?".":i+":";if(eu(t))for(var p=0;p<t.length;p++)l=d+em(i=t[p],p),c+=e(i,r,n,l,o);else if("function"==typeof(p=null===(u=t)||"object"!=typeof u?null:"function"==typeof(u=ee&&u[ee]||u["@@iterator"])?u:null))for(t=p.call(t),p=0;!(i=t.next()).done;)l=d+em(i=i.value,p++),c+=e(i,r,n,l,o);else if("object"===l){if("function"==typeof t.then)return e(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(eg,eg):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(t),r,n,i,o);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(r=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return c}(e,n,"","",function(e){return t.call(r,e,i++)}),n}function eb(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var e_="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof W&&"function"==typeof W.emit){W.emit("uncaughtException",e);return}console.error(e)};function ew(){}r={map:ey,forEach:function(e,t,r){ey(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ey(e,function(){t++}),t},toArray:function(e){return ey(e,function(e){return e})||[]},only:function(e){if(!ep(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n=ei,i=V,o=G,a=ea,s=H,u=Q,l=el,c={__proto__:null,c:function(e){return el.H.useMemoCache(e)}},d=function(e){return function(){return e.apply(null,arguments)}},p=function(e,t,r){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var n=er({},e.props),i=e.key,o=void 0;if(null!=t)for(a in void 0!==t.ref&&(o=void 0),void 0!==t.key&&(i=""+t.key),t)ec.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&("ref"!==a||void 0!==t.ref)&&(n[a]=t[a]);var a=arguments.length-2;if(1===a)n.children=r;else if(1<a){for(var s=Array(a),u=0;u<a;u++)s[u]=arguments[u+2];n.children=s}return ed(e.type,i,void 0,void 0,o,n)},f=function(e){return(e={$$typeof:X,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:$,_context:e},e},h=function(e,t,r){var n,i={},o=null;if(null!=t)for(n in void 0!==t.key&&(o=""+t.key),t)ec.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(i[n]=t[n]);var a=arguments.length-2;if(1===a)i.children=r;else if(1<a){for(var s=Array(a),u=0;u<a;u++)s[u]=arguments[u+2];i.children=s}if(e&&e.defaultProps)for(n in a=e.defaultProps)void 0===i[n]&&(i[n]=a[n]);return ed(e,o,void 0,void 0,null,i)},m=function(){return{current:null}},g=function(e){return{$$typeof:Z,render:e}},y=ep,b=function(e){return{$$typeof:J,_payload:{_status:-1,_result:e},_init:eb}},_=function(e,t){return{$$typeof:Y,type:e,compare:void 0===t?null:t}},w=function(e){var t=el.T,r={};el.T=r;try{var n=e(),i=el.S;null!==i&&i(r,n),"object"==typeof n&&null!==n&&"function"==typeof n.then&&n.then(ew,e_)}catch(e){e_(e)}finally{el.T=t}},k=function(){return el.H.useCacheRefresh()},A=function(e){return el.H.use(e)},S=function(e,t,r){return el.H.useActionState(e,t,r)},I=function(e,t){return el.H.useCallback(e,t)},E=function(e){return el.H.useContext(e)},T=function(){},x=function(e,t){return el.H.useDeferredValue(e,t)},P=function(e,t,r){var n=el.H;if("function"==typeof r)throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(e,t)},O=function(){return el.H.useId()},B=function(e,t,r){return el.H.useImperativeHandle(e,t,r)},C=function(e,t){return el.H.useInsertionEffect(e,t)},R=function(e,t){return el.H.useLayoutEffect(e,t)},M=function(e,t){return el.H.useMemo(e,t)},L=function(e,t){return el.H.useOptimistic(e,t)},N=function(e,t,r){return el.H.useReducer(e,t,r)},D=function(e){return el.H.useRef(e)},F=function(e){return el.H.useState(e)},q=function(e,t,r){return el.H.useSyncExternalStore(e,t,r)},U=function(){return el.H.useTransition()},j="19.1.0"}),eh.register("jcdBh",function(e,t){var r,n,i,o,a=Object.create,s=Object.defineProperty,u=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,c=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,p=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of l(t))d.call(e,i)||i===r||s(e,i,{get:()=>t[i],enumerable:!(n=u(t,i))||n.enumerable});return e},f=(e,t,r)=>(r=null!=e?a(c(e)):{},p(!t&&e&&e.__esModule?r:s(r,"default",{value:e,enumerable:!0}),e)),h=(r=(e,t)=>{var r,n,i=t.exports={};function o(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,l=[],c=!1,d=-1;function p(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&f())}function f(){if(!c){var e=s(p);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new h(e,t)),1!==l.length||c||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}},()=>(n||r((n={exports:{}}).exports,n),n.exports)),m={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(m,{default:()=>y}),e.exports=p(s({},"__esModule",{value:!0}),m);var g=f(h());i=f(h()),o=e.exports,p(m,i,"default"),o&&p(o,i,"default");var y=g.default}),eh.register("2RMcW",function(e,t){var r,n,i,o="__lodash_hash_undefined__",a="[object Arguments]",s="[object Array]",u="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",p="[object Map]",f="[object Number]",h="[object Object]",m="[object Promise]",g="[object RegExp]",y="[object Set]",b="[object String]",_="[object WeakMap]",w="[object ArrayBuffer]",v="[object DataView]",k=/^\[object .+?Constructor\]$/,A=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[a]=S[s]=S[w]=S[u]=S[v]=S[l]=S[c]=S[d]=S[p]=S[f]=S[h]=S[g]=S[y]=S[b]=S[_]=!1;var I="object"==typeof ec&&ec&&ec.Object===Object&&ec,E="object"==typeof self&&self&&self.Object===Object&&self,T=I||E||Function("return this")(),x=t&&!t.nodeType&&t,P=x&&e&&!e.nodeType&&e,O=P&&P.exports===x,B=O&&I.process,C=function(){try{return B&&B.binding&&B.binding("util")}catch(e){}}(),R=C&&C.isTypedArray;function M(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function L(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var N=Array.prototype,D=Function.prototype,F=Object.prototype,q=T["__core-js_shared__"],U=D.toString,j=F.hasOwnProperty,W=(r=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",K=F.toString,z=RegExp("^"+U.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=O?T.Buffer:void 0,H=T.Symbol,G=T.Uint8Array,$=F.propertyIsEnumerable,X=N.splice,Z=H?H.toStringTag:void 0,Q=Object.getOwnPropertySymbols,Y=V?V.isBuffer:void 0,J=(n=Object.keys,i=Object,function(e){return n(i(e))}),ee=eI(T,"DataView"),et=eI(T,"Map"),er=eI(T,"Promise"),en=eI(T,"Set"),ei=eI(T,"WeakMap"),eo=eI(Object,"create"),ea=ex(ee),es=ex(et),eu=ex(er),el=ex(en),ed=ex(ei),ep=H?H.prototype:void 0,ef=ep?ep.valueOf:void 0;function eh(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function em(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function eg(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ey(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new eg;++t<r;)this.add(e[t])}function eb(e){var t=this.__data__=new em(e);this.size=t.size}function e_(e,t){for(var r=e.length;r--;)if(eP(e[r][0],t))return r;return -1}function ew(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Z&&Z in Object(e)?function(e){var t=j.call(e,Z),r=e[Z];try{e[Z]=void 0;var n=!0}catch(e){}var i=K.call(e);return n&&(t?e[Z]=r:delete e[Z]),i}(e):K.call(e)}function ev(e){return eN(e)&&ew(e)==a}function ek(e,t,r,n,i,o){var a=1&r,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(e);if(l&&o.get(t))return l==t;var c=-1,d=!0,p=2&r?new ey:void 0;for(o.set(e,t),o.set(t,e);++c<s;){var f=e[c],h=t[c];if(n)var m=a?n(h,f,c,t,e,o):n(f,h,c,e,t,o);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}(t,function(e,t){if(!p.has(t)&&(f===e||i(f,e,r,n,o)))return p.push(t)})){d=!1;break}}else if(!(f===h||i(f,h,r,n,o))){d=!1;break}}return o.delete(e),o.delete(t),d}function eA(e){var t;return t=function(e){return null!=e&&eM(e.length)&&!eR(e)?function(e,t){var r,n=eB(e),i=!n&&eO(e),o=!n&&!i&&eC(e),a=!n&&!i&&!o&&eD(e),s=n||i||o||a,u=s?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=u.length;for(var c in e)j.call(e,c)&&!(s&&("length"==c||o&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||(r=null==(r=l)?9007199254740991:r)&&("number"==typeof c||A.test(c))&&c>-1&&c%1==0&&c<r))&&u.push(c);return u}(e):function(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||F))return J(e);var t,r=[];for(var n in Object(e))j.call(e,n)&&"constructor"!=n&&r.push(n);return r}(e)}(e),eB(e)?t:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(t,eE(e))}function eS(e,t){var r,n=e.__data__;return("string"==(r=typeof t)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}function eI(e,t){var r=null==e?void 0:e[t];return!(!eL(r)||W&&W in r)&&(eR(r)?z:k).test(ex(r))?r:void 0}eh.prototype.clear=function(){this.__data__=eo?eo(null):{},this.size=0},eh.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},eh.prototype.get=function(e){var t=this.__data__;if(eo){var r=t[e];return r===o?void 0:r}return j.call(t,e)?t[e]:void 0},eh.prototype.has=function(e){var t=this.__data__;return eo?void 0!==t[e]:j.call(t,e)},eh.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=eo&&void 0===t?o:t,this},em.prototype.clear=function(){this.__data__=[],this.size=0},em.prototype.delete=function(e){var t=this.__data__,r=e_(t,e);return!(r<0)&&(r==t.length-1?t.pop():X.call(t,r,1),--this.size,!0)},em.prototype.get=function(e){var t=this.__data__,r=e_(t,e);return r<0?void 0:t[r][1]},em.prototype.has=function(e){return e_(this.__data__,e)>-1},em.prototype.set=function(e,t){var r=this.__data__,n=e_(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},eg.prototype.clear=function(){this.size=0,this.__data__={hash:new eh,map:new(et||em),string:new eh}},eg.prototype.delete=function(e){var t=eS(this,e).delete(e);return this.size-=t?1:0,t},eg.prototype.get=function(e){return eS(this,e).get(e)},eg.prototype.has=function(e){return eS(this,e).has(e)},eg.prototype.set=function(e,t){var r=eS(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},ey.prototype.add=ey.prototype.push=function(e){return this.__data__.set(e,o),this},ey.prototype.has=function(e){return this.__data__.has(e)},eb.prototype.clear=function(){this.__data__=new em,this.size=0},eb.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},eb.prototype.get=function(e){return this.__data__.get(e)},eb.prototype.has=function(e){return this.__data__.has(e)},eb.prototype.set=function(e,t){var r=this.__data__;if(r instanceof em){var n=r.__data__;if(!et||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new eg(n)}return r.set(e,t),this.size=r.size,this};var eE=Q?function(e){return null==e?[]:function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}(Q(e=Object(e)),function(t){return $.call(e,t)})}:function(){return[]},eT=ew;function ex(e){if(null!=e){try{return U.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function eP(e,t){return e===t||e!=e&&t!=t}(ee&&eT(new ee(new ArrayBuffer(1)))!=v||et&&eT(new et)!=p||er&&eT(er.resolve())!=m||en&&eT(new en)!=y||ei&&eT(new ei)!=_)&&(eT=function(e){var t=ew(e),r=t==h?e.constructor:void 0,n=r?ex(r):"";if(n)switch(n){case ea:return v;case es:return p;case eu:return m;case el:return y;case ed:return _}return t});var eO=ev(function(){return arguments}())?ev:function(e){return eN(e)&&j.call(e,"callee")&&!$.call(e,"callee")},eB=Array.isArray,eC=Y||function(){return!1};function eR(e){if(!eL(e))return!1;var t=ew(e);return t==d||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eM(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function eL(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eN(e){return null!=e&&"object"==typeof e}var eD=R?function(e){return R(e)}:function(e){return eN(e)&&eM(e.length)&&!!S[ew(e)]};e.exports=function(e,t){return function e(t,r,n,i,o){return t===r||(null!=t&&null!=r&&(eN(t)||eN(r))?function(e,t,r,n,i,o){var d=eB(e),m=eB(t),_=d?s:eT(e),k=m?s:eT(t);_=_==a?h:_,k=k==a?h:k;var A=_==h,S=k==h,I=_==k;if(I&&eC(e)){if(!eC(t))return!1;d=!0,A=!1}if(I&&!A)return o||(o=new eb),d||eD(e)?ek(e,t,r,n,i,o):function(e,t,r,n,i,o,a){switch(r){case v:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case w:if(e.byteLength!=t.byteLength||!o(new G(e),new G(t)))break;return!0;case u:case l:case f:return eP(+e,+t);case c:return e.name==t.name&&e.message==t.message;case g:case b:return e==t+"";case p:var s=M;case y:var d=1&n;if(s||(s=L),e.size!=t.size&&!d)break;var h=a.get(e);if(h)return h==t;n|=2,a.set(e,t);var m=ek(s(e),s(t),n,i,o,a);return a.delete(e),m;case"[object Symbol]":if(ef)return ef.call(e)==ef.call(t)}return!1}(e,t,_,r,n,i,o);if(!(1&r)){var E=A&&j.call(e,"__wrapped__"),T=S&&j.call(t,"__wrapped__");if(E||T){var x=E?e.value():e,P=T?t.value():t;return o||(o=new eb),i(x,P,r,n,o)}}return!!I&&(o||(o=new eb),function(e,t,r,n,i,o){var a=1&r,s=eA(e),u=s.length;if(u!=eA(t).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in t:j.call(t,c)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var p=!0;o.set(e,t),o.set(t,e);for(var f=a;++l<u;){var h=e[c=s[l]],m=t[c];if(n)var g=a?n(m,h,c,t,e,o):n(h,m,c,e,t,o);if(!(void 0===g?h===m||i(h,m,r,n,o):g)){p=!1;break}f||(f="constructor"==c)}if(p&&!f){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(p=!1)}return o.delete(e),o.delete(t),p}(e,t,r,n,i,o))}(t,r,n,i,e,o):t!=t&&r!=r)}(e,t)}}),eh.register("eeNJa",function(e,t){v(e.exports,"useSyncExternalStoreWithSelector",()=>r,e=>r=e);var r,n=eh("eJeWc"),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useSyncExternalStore,a=n.useRef,s=n.useEffect,u=n.useMemo,l=n.useDebugValue;r=function(e,t,r,n,c){var d=a(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;var f=o(e,(d=u(function(){function e(e){if(!s){if(s=!0,o=e,e=n(e),void 0!==c&&p.hasValue){var t=p.value;if(c(t,e))return a=t}return a=e}if(t=a,i(o,e))return t;var r=n(e);return void 0!==c&&c(t,r)?(o=e,t):(o=e,a=r)}var o,a,s=!1,u=void 0===r?null:r;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,r,n,c]))[0],d[1]);return s(function(){p.hasValue=!0,p.value=f},[f]),l(f),f}}),eh.register("eJeWc",function(e,t){e.exports=eh("hhhy0")}),eh.register("acDaE",function(e,t){var r,n,i=Object.create,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,u=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,c=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),d=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of s(t))l.call(e,i)||i===r||o(e,i,{get:()=>t[i],enumerable:!(n=a(t,i))||n.enumerable});return e},p=(e,t,r)=>(r=null!=e?i(u(e)):{},d(!t&&e&&e.__esModule?r:o(r,"default",{value:e,enumerable:!0}),e)),f=c(e=>{e.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return(r+n)*3/4-n},e.toByteArray=function(e){var t,r,n=s(e),a=n[0],u=n[1],l=new o((a+u)*3/4-u),c=0,d=u>0?a-4:a;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===u&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[c++]=255&t),1===u&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},e.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(function(e,t,r){for(var i,o=[],a=t;a<r;a+=3)o.push(n[(i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}(e,a,a+16383>s?s:a+16383));return 1===i?o.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&o.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")};var t,r,n=[],i=[],o="u">typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0,r=a.length;t<r;++t)n[t]=a[t],i[a.charCodeAt(t)]=t;function s(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63}),h=c(e=>{e.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,l=u>>1,c=-7,d=r?i-1:0,p=r?-1:1,f=e[t+d];for(d+=p,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+d],d+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:(f?-1:1)*(1/0);a+=Math.pow(2,n),o-=l}return(f?-1:1)*a*Math.pow(2,o-n)},e.write=function(e,t,r,n,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,d=c>>1,p=23===i?5960464477539062e-23:0,f=n?0:o-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+d>=1?t+=p/u:t+=p*Math.pow(2,1-d),t*u>=2&&(a++,u/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*u-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+f]=255&s,f+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[r+f]=255&a,f+=h,a/=256,l-=8);e[r+f-h]|=128*m}}),m=c(e=>{var t=f(),r=h(),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function i(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return a(e,t,r)}function a(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!o.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|p(e,t),n=i(r),a=n.write(e,t);return a!==r&&(n=n.slice(0,a)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(D(e,Uint8Array)){let t=new Uint8Array(e);return c(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(D(e,ArrayBuffer)||e&&D(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(D(e,SharedArrayBuffer)||e&&D(e.buffer,SharedArrayBuffer)))return c(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return o.from(n,t,r);let a=function(e){var t;if(o.isBuffer(e)){let t=0|d(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?i(0):l(e):"Buffer"===e.type&&Array.isArray(e.data)?l(e.data):void 0}(e);if(a)return a;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function s(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return s(e),i(e<0?0:0|d(e))}function l(e){let t=e.length<0?0:0|d(e.length),r=i(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function c(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),n}function d(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||D(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return L(e).length;default:if(i)return n?-1:M(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,r,n){let i=!1;if((void 0===r||r<0)&&(r=0),r>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(r>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=F[e[n]];return i}(this,r,n);case"utf8":case"utf-8":return _(this,r,n);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,r,n);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,r,n);case"base64":var o,a;return o=r,a=n,0===o&&a===this.length?t.fromByteArray(this):t.fromByteArray(this.slice(o,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,r,n);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){var a;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(a=r=+r)!=a&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,s/=2,u/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(l(e,o)===l(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*a}else -1!==n&&(o-=o-n),n=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(l(e,o+n)!==l(t,n)){r=!1;break}if(r)return o}return -1}function _(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,u;switch(a){case 1:t<128&&(o=t);break;case 2:(192&(r=e[i+1]))==128&&(u=(31&t)<<6|63&r)>127&&(o=u);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(u=(15&t)<<12|(63&r)<<6|63&n)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],(192&r)==128&&(192&n)==128&&(192&s)==128&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function v(e,t,r,n,i,a){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function k(e,t,r,n,i){O(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function A(e,t,r,n,i){O(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function S(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function I(e,t,n,i,o){return t=+t,n>>>=0,o||S(e,t,n,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,n,i,23,4),n+4}function E(e,t,n,i,o){return t=+t,n>>>=0,o||S(e,t,n,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,n,i,52,8),n+8}e.Buffer=o,e.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!o.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return a(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return s(e),e<=0?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)},o.allocUnsafe=function(e){return u(e)},o.allocUnsafeSlow=function(e){return u(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(D(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),D(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(D(t,Uint8Array))i+t.length>n.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(o.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},o.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},o.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},o.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?_(this,0,e):m.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(e,t,r,n,i){if(D(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let a=i-n,s=r-t,u=Math.min(a,s),l=this.slice(n,i),c=e.slice(t,r);for(let e=0;e<u;++e)if(l[e]!==c[e]){a=l[e],s=c[e];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){var i,o,a,s,u,l,c,d;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let p=this.length-t;if((void 0===r||r>p)&&(r=p),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let f=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;let a=t.length;for(n>a/2&&(n=a/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(n!=n)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,N(M(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return a=t,s=r,N(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,a,s);case"base64":return u=t,l=r,N(L(e),this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,d=r,N(function(e,t){let r,n,i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,d);default:if(f)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),f=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=q(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&C(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+16777216*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+16777216*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),o.prototype.readBigUInt64BE=q(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&C(e,this.length-8);let n=16777216*t+65536*this[++e]+256*this[++e]+this[++e],i=16777216*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),128&this[e]?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=q(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&C(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),o.prototype.readBigInt64BE=q(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&C(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+r)}),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),r.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),r.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),r.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),r.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;v(this,e,t,r,n,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;v(this,e,t,r,n,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=q(function(e,t=0){return k(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=q(function(e,t=0){return A(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);v(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);v(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=q(function(e,t=0){return k(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=q(function(e,t=0){return A(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(e,t,r){return I(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return I(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return E(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return E(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},o.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let a=o.isBuffer(e)?e:o.from(e,n),s=a.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var T={};function x(e,t,r){T[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(e,"]"),this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}}function P(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function O(e,t,r,n,i,o){if(e>r||e<t){let n="bigint"==typeof t?"n":"",i;throw i=o>3?0===t||t===BigInt(0)?">= 0".concat(n," and < 2").concat(n," ** ").concat((o+1)*8).concat(n):">= -(2".concat(n," ** ").concat((o+1)*8-1).concat(n,") and < 2 ** ")+"".concat((o+1)*8-1).concat(n):">= ".concat(t).concat(n," and <= ").concat(r).concat(n),new T.ERR_OUT_OF_RANGE("value",i,e)}B(i,"offset"),(void 0===n[i]||void 0===n[i+o])&&C(i,n.length-(o+1))}function B(e,t){if("number"!=typeof e)throw new T.ERR_INVALID_ARG_TYPE(t,"number",e)}function C(e,t,r){throw Math.floor(e)!==e?(B(e,r),new T.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new T.ERR_BUFFER_OUT_OF_BOUNDS:new T.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}x("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),x("ERR_INVALID_ARG_TYPE",function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)},TypeError),x("ERR_OUT_OF_RANGE",function(e,t,r){let n='The value of "'.concat(e,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?i=P(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=P(i)),i+="n"),n+=" It must be ".concat(t,". Received ").concat(i)},RangeError);var R=/[^+/0-9A-Za-z-_]/g;function M(e,t){t=t||1/0;let r,n=e.length,i=null,o=[];for(let a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function L(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function D(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var F=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function q(e){return typeof BigInt>"u"?U:e}function U(){throw Error("BigInt not supported")}}),g={};((e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})})(g,{default:()=>b}),e.exports=d(o({},"__esModule",{value:!0}),g);var y=p(m());r=p(m()),n=e.exports,d(g,r,"default"),n&&d(n,r,"default");var b=y.default;/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/}),eh.register("9U7pb",function(e,t){!function(e,t){function r(e,t){if(!e)throw Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{c="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:eh("acDaE").Buffer}catch(e){}function o(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function a(e,t,r){var n=o(e,r);return r-1>=t&&(n|=o(e,r-1)<<4),n}function s(e,t,n,i){for(var o=0,a=0,s=Math.min(e.length,n),u=t;u<s;u++){var l=e.charCodeAt(u)-48;o*=i,a=l>=49?l-49+10:l>=17?l-17+10:l,r(l>=0&&a<i,"Invalid character"),o+=a}return o}function u(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return 0>e.cmp(t)?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var i,o,a=0;a<this.length;a++)this.words[a]=0;var s=0;if("be"===n)for(a=e.length-1,i=0;a>=0;a-=3)o=e[a]|e[a-1]<<8|e[a-2]<<16,this.words[i]|=o<<s&67108863,this.words[i+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,i++);else if("le"===n)for(a=0,i=0;a<e.length;a+=3)o=e[a]|e[a+1]<<8|e[a+2]<<16,this.words[i]|=o<<s&67108863,this.words[i+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,i++);return this._strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var n,i=0;i<this.length;i++)this.words[i]=0;var o=0,s=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=a(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=a(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this._strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,u=Math.min(o,o-a)+r,l=0,c=r;c<u;c+=n)l=s(e,c,c+n,t),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var d=1;for(l=s(e,c,e.length,t),c=0;c<a;c++)d*=t;this.imuln(d),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},i.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){u(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(e){i.prototype.inspect=l}else i.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c,d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var l=1;l<n;l++){for(var c=u>>>26,d=67108863&u,p=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=p;f++){var h=l-f|0;c+=(a=(i=0|e.words[h])*(o=0|t.words[f])+d)/67108864|0,d=67108863&a}r.words[l]=0|d,u=0|c}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}i.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var n,i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=((s<<i|o)&16777215).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),n=0!==o||a!==this.length-1?d[6-u.length]+u+n:u+n}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=p[e],c=f[e];n="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(c).toString(e);n=(h=h.idivn(c)).isZero()?m+n:d[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},c&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(c,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var a=e.allocUnsafe?e.allocUnsafe(o):new e(o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},i.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r++]=255&a,r<e.length&&(e[r++]=a>>8&255),r<e.length&&(e[r++]=a>>16&255),6===o?(r<e.length&&(e[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r--]=255&a,r>=0&&(e[r--]=a>>8&255),r>=0&&(e[r--]=a>>16&255),6===o?(r>=0&&(e[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return(8191&t)==0&&(r+=13,t>>>=13),(127&t)==0&&(r+=7,t>>>=7),(15&t)==0&&(r+=4,t>>>=4),(3&t)==0&&(r+=2,t>>>=2),(1&t)==0&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return r((this.negative|e.negative)==0),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return r((this.negative|e.negative)==0),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){this.length>e.length?(t=this,r=e):(t=e,r=this);for(var t,r,n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return r((this.negative|e.negative)==0),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),t?this.words[n]=this.words[n]|1<<i:this.words[n]=this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var t,r,n,i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t,r,n=this.iadd(e);return e.negative=1,n._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(t=this,r=e):(t=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(n=(0|t.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&n;for(;0!==o&&a<t.length;a++)o=(n=(0|t.words[a])+o)>>26,this.words[a]=67108863&n;if(0===o&&a<t.length&&t!==this)for(;a<t.length;a++)this.words[a]=t.words[a];return this.length=Math.max(this.length,a),t!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,r){var n,i,o,a=e.words,s=t.words,u=r.words,l=0,c=0|a[0],d=8191&c,p=c>>>13,f=0|a[1],h=8191&f,m=f>>>13,g=0|a[2],y=8191&g,b=g>>>13,_=0|a[3],w=8191&_,v=_>>>13,k=0|a[4],A=8191&k,S=k>>>13,I=0|a[5],E=8191&I,T=I>>>13,x=0|a[6],P=8191&x,O=x>>>13,B=0|a[7],C=8191&B,R=B>>>13,M=0|a[8],L=8191&M,N=M>>>13,D=0|a[9],F=8191&D,q=D>>>13,U=0|s[0],j=8191&U,W=U>>>13,K=0|s[1],z=8191&K,V=K>>>13,H=0|s[2],G=8191&H,$=H>>>13,X=0|s[3],Z=8191&X,Q=X>>>13,Y=0|s[4],J=8191&Y,ee=Y>>>13,et=0|s[5],er=8191&et,en=et>>>13,ei=0|s[6],eo=8191&ei,ea=ei>>>13,es=0|s[7],eu=8191&es,el=es>>>13,ec=0|s[8],ed=8191&ec,ep=ec>>>13,ef=0|s[9],eh=8191&ef,em=ef>>>13;r.negative=e.negative^t.negative,r.length=19;var eg=(l+(n=Math.imul(d,j))|0)+((8191&(i=(i=Math.imul(d,W))+Math.imul(p,j)|0))<<13)|0;l=((o=Math.imul(p,W))+(i>>>13)|0)+(eg>>>26)|0,eg&=67108863,n=Math.imul(h,j),i=(i=Math.imul(h,W))+Math.imul(m,j)|0,o=Math.imul(m,W);var ey=(l+(n=n+Math.imul(d,z)|0)|0)+((8191&(i=(i=i+Math.imul(d,V)|0)+Math.imul(p,z)|0))<<13)|0;l=((o=o+Math.imul(p,V)|0)+(i>>>13)|0)+(ey>>>26)|0,ey&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,W))+Math.imul(b,j)|0,o=Math.imul(b,W),n=n+Math.imul(h,z)|0,i=(i=i+Math.imul(h,V)|0)+Math.imul(m,z)|0,o=o+Math.imul(m,V)|0;var eb=(l+(n=n+Math.imul(d,G)|0)|0)+((8191&(i=(i=i+Math.imul(d,$)|0)+Math.imul(p,G)|0))<<13)|0;l=((o=o+Math.imul(p,$)|0)+(i>>>13)|0)+(eb>>>26)|0,eb&=67108863,n=Math.imul(w,j),i=(i=Math.imul(w,W))+Math.imul(v,j)|0,o=Math.imul(v,W),n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(b,z)|0,o=o+Math.imul(b,V)|0,n=n+Math.imul(h,G)|0,i=(i=i+Math.imul(h,$)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,$)|0;var e_=(l+(n=n+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,Q)|0)+Math.imul(p,Z)|0))<<13)|0;l=((o=o+Math.imul(p,Q)|0)+(i>>>13)|0)+(e_>>>26)|0,e_&=67108863,n=Math.imul(A,j),i=(i=Math.imul(A,W))+Math.imul(S,j)|0,o=Math.imul(S,W),n=n+Math.imul(w,z)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(v,z)|0,o=o+Math.imul(v,V)|0,n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,$)|0,n=n+Math.imul(h,Z)|0,i=(i=i+Math.imul(h,Q)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,Q)|0;var ew=(l+(n=n+Math.imul(d,J)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(p,J)|0))<<13)|0;l=((o=o+Math.imul(p,ee)|0)+(i>>>13)|0)+(ew>>>26)|0,ew&=67108863,n=Math.imul(E,j),i=(i=Math.imul(E,W))+Math.imul(T,j)|0,o=Math.imul(T,W),n=n+Math.imul(A,z)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(S,z)|0,o=o+Math.imul(S,V)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,$)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,Q)|0,n=n+Math.imul(h,J)|0,i=(i=i+Math.imul(h,ee)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,ee)|0;var ev=(l+(n=n+Math.imul(d,er)|0)|0)+((8191&(i=(i=i+Math.imul(d,en)|0)+Math.imul(p,er)|0))<<13)|0;l=((o=o+Math.imul(p,en)|0)+(i>>>13)|0)+(ev>>>26)|0,ev&=67108863,n=Math.imul(P,j),i=(i=Math.imul(P,W))+Math.imul(O,j)|0,o=Math.imul(O,W),n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(S,G)|0,o=o+Math.imul(S,$)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,Q)|0,n=n+Math.imul(y,J)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(h,er)|0,i=(i=i+Math.imul(h,en)|0)+Math.imul(m,er)|0,o=o+Math.imul(m,en)|0;var ek=(l+(n=n+Math.imul(d,eo)|0)|0)+((8191&(i=(i=i+Math.imul(d,ea)|0)+Math.imul(p,eo)|0))<<13)|0;l=((o=o+Math.imul(p,ea)|0)+(i>>>13)|0)+(ek>>>26)|0,ek&=67108863,n=Math.imul(C,j),i=(i=Math.imul(C,W))+Math.imul(R,j)|0,o=Math.imul(R,W),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(O,z)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(E,G)|0,i=(i=i+Math.imul(E,$)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,$)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,Q)|0)+Math.imul(S,Z)|0,o=o+Math.imul(S,Q)|0,n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(v,J)|0,o=o+Math.imul(v,ee)|0,n=n+Math.imul(y,er)|0,i=(i=i+Math.imul(y,en)|0)+Math.imul(b,er)|0,o=o+Math.imul(b,en)|0,n=n+Math.imul(h,eo)|0,i=(i=i+Math.imul(h,ea)|0)+Math.imul(m,eo)|0,o=o+Math.imul(m,ea)|0;var eA=(l+(n=n+Math.imul(d,eu)|0)|0)+((8191&(i=(i=i+Math.imul(d,el)|0)+Math.imul(p,eu)|0))<<13)|0;l=((o=o+Math.imul(p,el)|0)+(i>>>13)|0)+(eA>>>26)|0,eA&=67108863,n=Math.imul(L,j),i=(i=Math.imul(L,W))+Math.imul(N,j)|0,o=Math.imul(N,W),n=n+Math.imul(C,z)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(R,z)|0,o=o+Math.imul(R,V)|0,n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,$)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,Q)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,Q)|0,n=n+Math.imul(A,J)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(S,J)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(w,er)|0,i=(i=i+Math.imul(w,en)|0)+Math.imul(v,er)|0,o=o+Math.imul(v,en)|0,n=n+Math.imul(y,eo)|0,i=(i=i+Math.imul(y,ea)|0)+Math.imul(b,eo)|0,o=o+Math.imul(b,ea)|0,n=n+Math.imul(h,eu)|0,i=(i=i+Math.imul(h,el)|0)+Math.imul(m,eu)|0,o=o+Math.imul(m,el)|0;var eS=(l+(n=n+Math.imul(d,ed)|0)|0)+((8191&(i=(i=i+Math.imul(d,ep)|0)+Math.imul(p,ed)|0))<<13)|0;l=((o=o+Math.imul(p,ep)|0)+(i>>>13)|0)+(eS>>>26)|0,eS&=67108863,n=Math.imul(F,j),i=(i=Math.imul(F,W))+Math.imul(q,j)|0,o=Math.imul(q,W),n=n+Math.imul(L,z)|0,i=(i=i+Math.imul(L,V)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(C,G)|0,i=(i=i+Math.imul(C,$)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,$)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(E,J)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(T,J)|0,o=o+Math.imul(T,ee)|0,n=n+Math.imul(A,er)|0,i=(i=i+Math.imul(A,en)|0)+Math.imul(S,er)|0,o=o+Math.imul(S,en)|0,n=n+Math.imul(w,eo)|0,i=(i=i+Math.imul(w,ea)|0)+Math.imul(v,eo)|0,o=o+Math.imul(v,ea)|0,n=n+Math.imul(y,eu)|0,i=(i=i+Math.imul(y,el)|0)+Math.imul(b,eu)|0,o=o+Math.imul(b,el)|0,n=n+Math.imul(h,ed)|0,i=(i=i+Math.imul(h,ep)|0)+Math.imul(m,ed)|0,o=o+Math.imul(m,ep)|0;var eI=(l+(n=n+Math.imul(d,eh)|0)|0)+((8191&(i=(i=i+Math.imul(d,em)|0)+Math.imul(p,eh)|0))<<13)|0;l=((o=o+Math.imul(p,em)|0)+(i>>>13)|0)+(eI>>>26)|0,eI&=67108863,n=Math.imul(F,z),i=(i=Math.imul(F,V))+Math.imul(q,z)|0,o=Math.imul(q,V),n=n+Math.imul(L,G)|0,i=(i=i+Math.imul(L,$)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,$)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,Q)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(E,er)|0,i=(i=i+Math.imul(E,en)|0)+Math.imul(T,er)|0,o=o+Math.imul(T,en)|0,n=n+Math.imul(A,eo)|0,i=(i=i+Math.imul(A,ea)|0)+Math.imul(S,eo)|0,o=o+Math.imul(S,ea)|0,n=n+Math.imul(w,eu)|0,i=(i=i+Math.imul(w,el)|0)+Math.imul(v,eu)|0,o=o+Math.imul(v,el)|0,n=n+Math.imul(y,ed)|0,i=(i=i+Math.imul(y,ep)|0)+Math.imul(b,ed)|0,o=o+Math.imul(b,ep)|0;var eE=(l+(n=n+Math.imul(h,eh)|0)|0)+((8191&(i=(i=i+Math.imul(h,em)|0)+Math.imul(m,eh)|0))<<13)|0;l=((o=o+Math.imul(m,em)|0)+(i>>>13)|0)+(eE>>>26)|0,eE&=67108863,n=Math.imul(F,G),i=(i=Math.imul(F,$))+Math.imul(q,G)|0,o=Math.imul(q,$),n=n+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,ee)|0,n=n+Math.imul(P,er)|0,i=(i=i+Math.imul(P,en)|0)+Math.imul(O,er)|0,o=o+Math.imul(O,en)|0,n=n+Math.imul(E,eo)|0,i=(i=i+Math.imul(E,ea)|0)+Math.imul(T,eo)|0,o=o+Math.imul(T,ea)|0,n=n+Math.imul(A,eu)|0,i=(i=i+Math.imul(A,el)|0)+Math.imul(S,eu)|0,o=o+Math.imul(S,el)|0,n=n+Math.imul(w,ed)|0,i=(i=i+Math.imul(w,ep)|0)+Math.imul(v,ed)|0,o=o+Math.imul(v,ep)|0;var eT=(l+(n=n+Math.imul(y,eh)|0)|0)+((8191&(i=(i=i+Math.imul(y,em)|0)+Math.imul(b,eh)|0))<<13)|0;l=((o=o+Math.imul(b,em)|0)+(i>>>13)|0)+(eT>>>26)|0,eT&=67108863,n=Math.imul(F,Z),i=(i=Math.imul(F,Q))+Math.imul(q,Z)|0,o=Math.imul(q,Q),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(C,er)|0,i=(i=i+Math.imul(C,en)|0)+Math.imul(R,er)|0,o=o+Math.imul(R,en)|0,n=n+Math.imul(P,eo)|0,i=(i=i+Math.imul(P,ea)|0)+Math.imul(O,eo)|0,o=o+Math.imul(O,ea)|0,n=n+Math.imul(E,eu)|0,i=(i=i+Math.imul(E,el)|0)+Math.imul(T,eu)|0,o=o+Math.imul(T,el)|0,n=n+Math.imul(A,ed)|0,i=(i=i+Math.imul(A,ep)|0)+Math.imul(S,ed)|0,o=o+Math.imul(S,ep)|0;var ex=(l+(n=n+Math.imul(w,eh)|0)|0)+((8191&(i=(i=i+Math.imul(w,em)|0)+Math.imul(v,eh)|0))<<13)|0;l=((o=o+Math.imul(v,em)|0)+(i>>>13)|0)+(ex>>>26)|0,ex&=67108863,n=Math.imul(F,J),i=(i=Math.imul(F,ee))+Math.imul(q,J)|0,o=Math.imul(q,ee),n=n+Math.imul(L,er)|0,i=(i=i+Math.imul(L,en)|0)+Math.imul(N,er)|0,o=o+Math.imul(N,en)|0,n=n+Math.imul(C,eo)|0,i=(i=i+Math.imul(C,ea)|0)+Math.imul(R,eo)|0,o=o+Math.imul(R,ea)|0,n=n+Math.imul(P,eu)|0,i=(i=i+Math.imul(P,el)|0)+Math.imul(O,eu)|0,o=o+Math.imul(O,el)|0,n=n+Math.imul(E,ed)|0,i=(i=i+Math.imul(E,ep)|0)+Math.imul(T,ed)|0,o=o+Math.imul(T,ep)|0;var eP=(l+(n=n+Math.imul(A,eh)|0)|0)+((8191&(i=(i=i+Math.imul(A,em)|0)+Math.imul(S,eh)|0))<<13)|0;l=((o=o+Math.imul(S,em)|0)+(i>>>13)|0)+(eP>>>26)|0,eP&=67108863,n=Math.imul(F,er),i=(i=Math.imul(F,en))+Math.imul(q,er)|0,o=Math.imul(q,en),n=n+Math.imul(L,eo)|0,i=(i=i+Math.imul(L,ea)|0)+Math.imul(N,eo)|0,o=o+Math.imul(N,ea)|0,n=n+Math.imul(C,eu)|0,i=(i=i+Math.imul(C,el)|0)+Math.imul(R,eu)|0,o=o+Math.imul(R,el)|0,n=n+Math.imul(P,ed)|0,i=(i=i+Math.imul(P,ep)|0)+Math.imul(O,ed)|0,o=o+Math.imul(O,ep)|0;var eO=(l+(n=n+Math.imul(E,eh)|0)|0)+((8191&(i=(i=i+Math.imul(E,em)|0)+Math.imul(T,eh)|0))<<13)|0;l=((o=o+Math.imul(T,em)|0)+(i>>>13)|0)+(eO>>>26)|0,eO&=67108863,n=Math.imul(F,eo),i=(i=Math.imul(F,ea))+Math.imul(q,eo)|0,o=Math.imul(q,ea),n=n+Math.imul(L,eu)|0,i=(i=i+Math.imul(L,el)|0)+Math.imul(N,eu)|0,o=o+Math.imul(N,el)|0,n=n+Math.imul(C,ed)|0,i=(i=i+Math.imul(C,ep)|0)+Math.imul(R,ed)|0,o=o+Math.imul(R,ep)|0;var eB=(l+(n=n+Math.imul(P,eh)|0)|0)+((8191&(i=(i=i+Math.imul(P,em)|0)+Math.imul(O,eh)|0))<<13)|0;l=((o=o+Math.imul(O,em)|0)+(i>>>13)|0)+(eB>>>26)|0,eB&=67108863,n=Math.imul(F,eu),i=(i=Math.imul(F,el))+Math.imul(q,eu)|0,o=Math.imul(q,el),n=n+Math.imul(L,ed)|0,i=(i=i+Math.imul(L,ep)|0)+Math.imul(N,ed)|0,o=o+Math.imul(N,ep)|0;var eC=(l+(n=n+Math.imul(C,eh)|0)|0)+((8191&(i=(i=i+Math.imul(C,em)|0)+Math.imul(R,eh)|0))<<13)|0;l=((o=o+Math.imul(R,em)|0)+(i>>>13)|0)+(eC>>>26)|0,eC&=67108863,n=Math.imul(F,ed),i=(i=Math.imul(F,ep))+Math.imul(q,ed)|0,o=Math.imul(q,ep);var eR=(l+(n=n+Math.imul(L,eh)|0)|0)+((8191&(i=(i=i+Math.imul(L,em)|0)+Math.imul(N,eh)|0))<<13)|0;l=((o=o+Math.imul(N,em)|0)+(i>>>13)|0)+(eR>>>26)|0,eR&=67108863;var eM=(l+(n=Math.imul(F,eh))|0)+((8191&(i=(i=Math.imul(F,em))+Math.imul(q,eh)|0))<<13)|0;return l=((o=Math.imul(q,em))+(i>>>13)|0)+(eM>>>26)|0,eM&=67108863,u[0]=eg,u[1]=ey,u[2]=eb,u[3]=e_,u[4]=ew,u[5]=ev,u[6]=ek,u[7]=eA,u[8]=eS,u[9]=eI,u[10]=eE,u[11]=eT,u[12]=ex,u[13]=eP,u[14]=eO,u[15]=eB,u[16]=eC,u[17]=eR,u[18]=eM,0!==l&&(u[19]=l,r.length++),r};function g(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=u;l++){var c=o-l,d=(0|e.words[c])*(0|t.words[l]),p=67108863&d;a=a+(d/67108864|0)|0,s=67108863&(p=p+s|0),i+=(a=a+(p>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(e,t){this.x=e,this.y=t}Math.imul||(m=h),i.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return 10===this.length&&10===e.length?m(this,e,t):n<63?h(this,e,t):g(this,e,t)},y.prototype.makeRBT=function(e){for(var t=Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var d=u,p=l,f=0;f<a;f++){var h=r[c+f],m=n[c+f],g=r[c+f+a],y=n[c+f+a],b=d*g-p*y;y=d*y+p*g,g=b,r[c+f]=h+g,n[c+f]=m+y,r[c+f+a]=h-g,n[c+f+a]=m-y,f!==s&&(b=u*d-l*p,p=u*p+l*d,d=b)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r((-8192&o)==0)},y.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=Array(n),s=Array(n),u=Array(n),l=Array(n),c=Array(n),d=Array(n),p=r.words;p.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,l,n),this.transform(a,o,s,u,n,i),this.transform(l,o,c,d,n,i);for(var f=0;f<n;f++){var h=s[f]*c[f]-u[f]*d[f];u[f]=s[f]*d[f]+u[f]*c[f],s[f]=h}return this.conjugate(s,u,n),this.transform(s,u,p,o,n,i),this.conjugate(p,o,n),this.normalize13b(p,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=Array(this.length+e.length),g(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,a=(67108863&o)+(67108863&n);n>>=26,n+=(o/67108864|0)+(a>>>26),this.words[i]=67108863&a}return 0!==n&&(this.words[i]=n,this.length++),this.length=0===e?1:this.length,t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var i,o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o;if(i-=a,i=Math.max(0,i),n){for(var u=0;u<a;u++)n.words[u]=this.words[u];n.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var c=0|this.words[u];this.words[u]=l<<26-o|c>>>o,l=c&s}return n&&0!==l&&(n.words[n.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;return!(this.length<=n)&&!!(this.words[n]&1<<t)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;return(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)?this:(0!==t&&n++,this.length=Math.min(n,this.length),0!==t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this._strip())},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return(r("number"==typeof e),r(e<67108864),e<0)?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;o-=67108863&u,s=(o>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this._strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var r,n=this.length-e.length,o=this.clone(),a=e,s=0|a.words[a.length-1];0!=(n=26-this._countBits(s))&&(a=a.ushln(n),o.iushln(n),s=0|a.words[a.length-1]);var u=o.length-a.length;if("mod"!==t){(r=new i(null)).length=u+1,r.words=Array(r.length);for(var l=0;l<r.length;l++)r.words[l]=0}var c=o.clone()._ishlnsubmul(a,1,u);0===c.negative&&(o=c,r&&(r.words[u]=1));for(var d=u-1;d>=0;d--){var p=(0|o.words[a.length+d])*67108864+(0|o.words[a.length+d-1]);for(p=Math.min(p/s|0,67108863),o._ishlnsubmul(a,p,d);0!==o.negative;)p--,o.negative=0,o._ishlnsubmul(a,1,d),o.isZero()||(o.negative^=1);r&&(r.words[d]=p)}return r&&r._strip(),o._strip(),"div"!==t&&0!==n&&o.iushrn(n),{div:r||null,mod:o}},i.prototype.divmod=function(e,t,n){var o,a,s;return(r(!e.isZero()),this.isZero())?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):(this.negative&e.negative)!=0?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||0>this.cmp(e)?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t)},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=67108864%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),a=new i(0),s=new i(0),u=new i(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),d=t.clone();!t.isZero();){for(var p=0,f=1;(t.words[0]&f)==0&&p<26;++p,f<<=1);if(p>0)for(t.iushrn(p);p-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(c),a.isub(d)),o.iushrn(1),a.iushrn(1);for(var h=0,m=1;(n.words[0]&m)==0&&h<26;++h,m<<=1);if(h>0)for(n.iushrn(h);h-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(d)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s),a.isub(u)):(n.isub(t),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:n.iushln(l)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t,n=this,o=e.clone();n=0!==n.negative?n.umod(e):n.clone();for(var a=new i(1),s=new i(0),u=o.clone();n.cmpn(1)>0&&o.cmpn(1)>0;){for(var l=0,c=1;(n.words[0]&c)==0&&l<26;++l,c<<=1);if(l>0)for(n.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var d=0,p=1;(o.words[0]&p)==0&&d<26;++d,p<<=1);if(d>0)for(o.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);n.cmp(o)>=0?(n.isub(o),a.isub(s)):(o.isub(n),s.isub(a))}return 0>(t=0===n.cmpn(1)?a:s).cmpn(0)&&t.iadd(e),t},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return(1&this.words[0])==0},i.prototype.isOdd=function(){return(1&this.words[0])==1},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];s+=o,o=s>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return -1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return -1===this.cmpn(e)},i.prototype.lt=function(e){return -1===this.cmp(e)},i.prototype.lten=function(e){return 0>=this.cmpn(e)},i.prototype.lte=function(e){return 0>=this.cmp(e)},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new S(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function _(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function I(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var e=new i(null);return e.words=Array(Math.ceil(this.n/13)),e},_.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(t>this.n)var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(e,t){e.iushrn(this.n,0,t)},_.prototype.imulK=function(e){return e.imul(this.k)},n(w,_),w.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9){e.words[0]=0,e.length=1;return}var i=e.words[9];for(n=10,t.words[t.length++]=4194303&i;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[n-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(v,_),n(k,_),n(A,_),A.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=(0|e.words[r])*19+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){var t;if(b[e])return b[e];if("k256"===e)t=new w;else if("p224"===e)t=new v;else if("p192"===e)t=new k;else if("p25519"===e)t=new A;else throw Error("Unknown prime "+e);return b[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r((e.negative|t.negative)==0,"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(u(e,e.umod(this.m)._forceRed(this)),e)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var d=this.pow(c,o),p=this.pow(e,o.addn(1).iushrn(1)),f=this.pow(e,o),h=a;0!==f.cmp(s);){for(var m=f,g=0;0!==m.cmp(s);g++)m=m.redSqr();r(g<h);var y=this.pow(d,new i(1).iushln(h-g-1));p=p.redMul(y),d=y.redSqr(),f=f.redMul(d),h=g}return p},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var l=t.words[n],c=u-1;c>=0;c--){var d=l>>c&1;if(o!==r[0]&&(o=this.sqr(o)),0===d&&0===a){s=0;continue}a<<=1,a|=d,(4==++s||0===n&&0===c)&&(o=this.mul(o,r[a]),s=0,a=0)}u=26}return o},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new I(e)},n(I,S),I.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},I.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},I.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):0>i.cmpn(0)&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):0>o.cmpn(0)&&(a=o.iadd(this.m)),a._forceRed(this)},I.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}),eh.register("63LgX",function(e,t){var r=eh("gtpva");e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}),eh.register("gtpva",function(e,t){var r=eh("lvb4F").Buffer;e.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==t[a])throw TypeError(o+" is ambiguous");t[a]=i}var s=e.length,u=e.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return r.alloc(0);for(var n=0,i=0,o=0;e[n]===u;)i++,n++;for(var a=(e.length-n)*l+1>>>0,c=new Uint8Array(a);n<e.length;){var d=e.charCodeAt(n);if(d>255)return;var p=t[d];if(255===p)return;for(var f=0,h=a-1;(0!==p||f<o)&&-1!==h;h--,f++)p+=s*c[h]>>>0,c[h]=p%256>>>0,p=p/256>>>0;if(0!==p)throw Error("Non-zero carry");o=f,n++}for(var m=a-o;m!==a&&0===c[m];)m++;var g=r.allocUnsafe(i+(a-m));g.fill(0,0,i);for(var y=i;m!==a;)g[y++]=c[m++];return g}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,o=0,a=t.length;o!==a&&0===t[o];)o++,n++;for(var l=(a-o)*c+1>>>0,d=new Uint8Array(l);o!==a;){for(var p=t[o],f=0,h=l-1;(0!==p||f<i)&&-1!==h;h--,f++)p+=256*d[h]>>>0,d[h]=p%s>>>0,p=p/s>>>0;if(0!==p)throw Error("Non-zero carry");i=f,o++}for(var m=l-i;m!==l&&0===d[m];)m++;for(var g=u.repeat(n);m<l;++m)g+=e.charAt(d[m]);return g},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw Error("Non-base"+s+" character")}}}}),eh.register("lvb4F",function(e,t){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var r=eh("acDaE"),n=r.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,e.exports),e.exports.Buffer=o),o.prototype=Object.create(n.prototype),i(n,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return r.SlowBuffer(e)}}),eh.register("gbUa2",function(e,t){function r(e,t,r){return t<=e&&e<=r}function n(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function i(e){this.tokens=[].slice.call(e)}function o(e,t){if(e)throw TypeError("Decoder error");return t||65533}v(e.exports,"TextEncoder",()=>a,e=>a=e),v(e.exports,"TextDecoder",()=>s,e=>s=e),i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.push(e.shift());else this.tokens.push(e)}};var a,s,u="utf-8";function l(e,t){if(!(this instanceof l))return new l(e,t);if((e=void 0!==e?String(e).toLowerCase():u)!==u)throw Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():u)!==u)throw Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}function d(e){var t=e.fatal,n=0,i=0,a=0,s=128,u=191;this.handler=function(e,l){if(-1===l&&0!==a)return a=0,o(t);if(-1===l)return -1;if(0===a){if(r(l,0,127))return l;if(r(l,194,223))a=1,n=l-192;else if(r(l,224,239))224===l&&(s=160),237===l&&(u=159),a=2,n=l-224;else{if(!r(l,240,244))return o(t);240===l&&(s=144),244===l&&(u=143),a=3,n=l-240}return n<<=6*a,null}if(!r(l,s,u))return n=a=i=0,s=128,u=191,e.prepend(l),o(t);if(s=128,u=191,i+=1,n+=l-128<<6*(a-i),i!==a)return null;var c=n;return n=a=i=0,c}}function p(e){e.fatal,this.handler=function(e,t){if(-1===t)return -1;if(r(t,0,127))return t;r(t,128,2047)?(n=1,i=192):r(t,2048,65535)?(n=2,i=224):r(t,65536,1114111)&&(n=3,i=240);for(var n,i,o=[(t>>6*n)+i];n>0;){var a=t>>6*(n-1);o.push(128|63&a),n-=1}return o}}l.prototype={decode:function(e,t){r="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=n(t),this._streaming||(this._decoder=new d({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var r,o,a=new i(r),s=[];!a.endOfStream()&&-1!==(o=this._decoder.handler(a,a.read()));)null!==o&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(-1===(o=this._decoder.handler(a,a.read())))break;if(null===o)continue;Array.isArray(o)?s.push.apply(s,o):s.push(o)}while(!a.endOfStream())this._decoder=null}return!s.length||-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===s[0]?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),function(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(1023&n)+56320))}return t}(s)}},c.prototype={encode:function(e,t){e=e?String(e):"",t=n(t),this._streaming||(this._encoder=new p(this._options)),this._streaming=!!t.stream;for(var r,o=[],a=new i(function(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var o=t.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319){if(n===r-1)i.push(65533);else{var a=e.charCodeAt(n+1);if(56320<=a&&a<=57343){var s=1023&o,u=1023&a;i.push(65536+(s<<10)+u),n+=1}else i.push(65533)}}n+=1}return i}(e));!a.endOfStream()&&-1!==(r=this._encoder.handler(a,a.read()));)Array.isArray(r)?o.push.apply(o,r):o.push(r);if(!this._streaming){for(;-1!==(r=this._encoder.handler(a,a.read()));)Array.isArray(r)?o.push.apply(o,r):o.push(r);this._encoder=null}return new Uint8Array(o)}},a=c,s=l}),eh.register("bHZR1",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.encodeToCurve=e.exports.hashToCurve=e.exports.secp256k1_hasher=e.exports.schnorr=e.exports.secp256k1=void 0;var r=eh("gDMZD"),n=eh("bHkZ3"),i=eh("3WQ7x"),o=eh("5GEtw"),a=eh("4ULxn"),s=eh("1qYng"),u=eh("joUi2");let l={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},c=BigInt(0),d=BigInt(1),p=BigInt(2),f=(e,t)=>(e+t/p)/t;function h(e){let t=l.p,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),u=BigInt(44),c=BigInt(88),d=e*e*e%t,f=d*d*e%t,h=(0,a.pow2)(f,r,t)*f%t,g=(0,a.pow2)(h,r,t)*f%t,y=(0,a.pow2)(g,p,t)*d%t,b=(0,a.pow2)(y,i,t)*y%t,_=(0,a.pow2)(b,o,t)*b%t,w=(0,a.pow2)(_,u,t)*_%t,v=(0,a.pow2)(w,c,t)*w%t,k=(0,a.pow2)(v,u,t)*_%t,A=(0,a.pow2)(k,r,t)*f%t,S=(0,a.pow2)(A,s,t)*b%t,I=(0,a.pow2)(S,n,t)*d%t,E=(0,a.pow2)(I,p,t);if(!m.eql(m.sqr(E),e))throw Error("Cannot find square root");return E}let m=(0,a.Field)(l.p,void 0,void 0,{sqrt:h});e.exports.secp256k1=(0,i.createCurve)({...l,Fp:m,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=l.n,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-d*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=BigInt("0x100000000000000000000000000000000"),s=f(r*e,t),u=f(-n*e,t),c=(0,a.mod)(e-s*r-u*i,t),p=(0,a.mod)(-s*n-u*r,t),h=c>o,m=p>o;if(h&&(c=t-c),m&&(p=t-p),c>o||p>o)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:c,k2neg:m,k2:p}}}},r.sha256);let g={};function y(e,...t){let n=g[e];if(void 0===n){let t=(0,r.sha256)(Uint8Array.from(e,e=>e.charCodeAt(0)));n=(0,u.concatBytes)(t,t),g[e]=n}return(0,r.sha256)((0,u.concatBytes)(n,...t))}let b=e=>e.toBytes(!0).slice(1),_=e=>(0,u.numberToBytesBE)(e,32),w=e=>(0,a.mod)(e,l.p),v=e=>(0,a.mod)(e,l.n),k=e.exports.secp256k1.Point,A=e=>e%p===c;function S(t){let r=e.exports.secp256k1.utils.normPrivateKeyToScalar(t),n=k.fromPrivateKey(r),i=A(n.y)?r:v(-r);return{scalar:i,bytes:b(n)}}function I(e){(0,u.aInRange)("x",e,d,l.p);let t=w(e*e),r=w(t*e+BigInt(7)),n=h(r);A(n)||(n=w(-n));let i=k.fromAffine({x:e,y:n});return i.assertValidity(),i}let E=u.bytesToNumberBE;function T(...e){return v(E(y("BIP0340/challenge",...e)))}function x(e,t,r){let n=(0,u.ensureBytes)("signature",e,64),i=(0,u.ensureBytes)("message",t),o=(0,u.ensureBytes)("publicKey",r,32);try{let e=I(E(o)),t=E(n.subarray(0,32));if(!(0,u.inRange)(t,d,l.p))return!1;let r=E(n.subarray(32,64));if(!(0,u.inRange)(r,d,l.n))return!1;let a=T(_(t),b(e),i),s=k.BASE.multiplyUnsafe(r).add(e.multiplyUnsafe(v(-a))),{x:c,y:p}=s.toAffine();if(s.is0()||!A(p)||c!==t)return!1;return!0}catch(e){return!1}}e.exports.schnorr={getPublicKey:function(e){return S(e).bytes},sign:function(e,t,r=(0,n.randomBytes)(32)){let i=(0,u.ensureBytes)("message",e),{bytes:o,scalar:a}=S(t),s=(0,u.ensureBytes)("auxRand",r,32),l=_(a^E(y("BIP0340/aux",s))),d=y("BIP0340/nonce",l,o,i),p=v(E(d));if(p===c)throw Error("sign failed: k is zero");let{bytes:f,scalar:h}=S(p),m=T(f,o,i),g=new Uint8Array(64);if(g.set(f,0),g.set(_(v(h+m*a)),32),!x(g,i,o))throw Error("sign: Invalid signature produced");return g},verify:x,utils:{randomPrivateKey:e.exports.secp256k1.utils.randomPrivateKey,lift_x:I,pointToBytes:b,numberToBytesBE:u.numberToBytesBE,bytesToNumberBE:u.bytesToNumberBE,taggedHash:y,mod:a.mod}};let P=(0,o.isogenyMap)(m,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e)))),O=(0,s.mapToCurveSimpleSWU)(m,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:m.create(BigInt("-11"))});e.exports.secp256k1_hasher=(0,o.createHasher)(e.exports.secp256k1.Point,e=>{let{x:t,y:r}=O(m.create(e[0]));return P(t,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:m.ORDER,m:1,k:128,expand:"xmd",hash:r.sha256}),e.exports.hashToCurve=e.exports.secp256k1_hasher.hashToCurve,e.exports.encodeToCurve=e.exports.secp256k1_hasher.encodeToCurve}),eh.register("gDMZD",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.sha512_224=e.exports.sha512_256=e.exports.sha384=e.exports.sha512=e.exports.sha224=e.exports.sha256=e.exports.SHA512_256=e.exports.SHA512_224=e.exports.SHA384=e.exports.SHA512=e.exports.SHA224=e.exports.SHA256=void 0;var r=eh("cp3fd"),n=eh("i02N0"),i=eh("bHkZ3");let o=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array(64);class s extends r.HashMD{constructor(e=32){super(64,e,8,!1),this.A=0|r.SHA256_IV[0],this.B=0|r.SHA256_IV[1],this.C=0|r.SHA256_IV[2],this.D=0|r.SHA256_IV[3],this.E=0|r.SHA256_IV[4],this.F=0|r.SHA256_IV[5],this.G=0|r.SHA256_IV[6],this.H=0|r.SHA256_IV[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:a,H:s}=this;return[e,t,r,n,i,o,a,s]}set(e,t,r,n,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)a[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=a[e-15],r=a[e-2],n=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,o=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;a[e]=o+a[e-7]+n+a[e-16]|0}let{A:n,B:s,C:u,D:l,E:c,F:d,G:p,H:f}=this;for(let e=0;e<64;e++){let t=(0,i.rotr)(c,6)^(0,i.rotr)(c,11)^(0,i.rotr)(c,25),h=f+t+(0,r.Chi)(c,d,p)+o[e]+a[e]|0,m=(0,i.rotr)(n,2)^(0,i.rotr)(n,13)^(0,i.rotr)(n,22),g=m+(0,r.Maj)(n,s,u)|0;f=p,p=d,d=c,c=l+h|0,l=u,u=s,s=n,n=h+g|0}n=n+this.A|0,s=s+this.B|0,u=u+this.C|0,l=l+this.D|0,c=c+this.E|0,d=d+this.F|0,p=p+this.G|0,f=f+this.H|0,this.set(n,s,u,l,c,d,p,f)}roundClean(){(0,i.clean)(a)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,i.clean)(this.buffer)}}e.exports.SHA256=s;class u extends s{constructor(){super(28),this.A=0|r.SHA224_IV[0],this.B=0|r.SHA224_IV[1],this.C=0|r.SHA224_IV[2],this.D=0|r.SHA224_IV[3],this.E=0|r.SHA224_IV[4],this.F=0|r.SHA224_IV[5],this.G=0|r.SHA224_IV[6],this.H=0|r.SHA224_IV[7]}}e.exports.SHA224=u;let l=n.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),c=l[0],d=l[1],p=new Uint32Array(80),f=new Uint32Array(80);class h extends r.HashMD{constructor(e=64){super(128,e,16,!1),this.Ah=0|r.SHA512_IV[0],this.Al=0|r.SHA512_IV[1],this.Bh=0|r.SHA512_IV[2],this.Bl=0|r.SHA512_IV[3],this.Ch=0|r.SHA512_IV[4],this.Cl=0|r.SHA512_IV[5],this.Dh=0|r.SHA512_IV[6],this.Dl=0|r.SHA512_IV[7],this.Eh=0|r.SHA512_IV[8],this.El=0|r.SHA512_IV[9],this.Fh=0|r.SHA512_IV[10],this.Fl=0|r.SHA512_IV[11],this.Gh=0|r.SHA512_IV[12],this.Gl=0|r.SHA512_IV[13],this.Hh=0|r.SHA512_IV[14],this.Hl=0|r.SHA512_IV[15]}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:a,Dl:s,Eh:u,El:l,Fh:c,Fl:d,Gh:p,Gl:f,Hh:h,Hl:m}=this;return[e,t,r,n,i,o,a,s,u,l,c,d,p,f,h,m]}set(e,t,r,n,i,o,a,s,u,l,c,d,p,f,h,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|a,this.Dl=0|s,this.Eh=0|u,this.El=0|l,this.Fh=0|c,this.Fl=0|d,this.Gh=0|p,this.Gl=0|f,this.Hh=0|h,this.Hl=0|m}process(e,t){for(let r=0;r<16;r++,t+=4)p[r]=e.getUint32(t),f[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|p[e-15],r=0|f[e-15],i=n.rotrSH(t,r,1)^n.rotrSH(t,r,8)^n.shrSH(t,r,7),o=n.rotrSL(t,r,1)^n.rotrSL(t,r,8)^n.shrSL(t,r,7),a=0|p[e-2],s=0|f[e-2],u=n.rotrSH(a,s,19)^n.rotrBH(a,s,61)^n.shrSH(a,s,6),l=n.rotrSL(a,s,19)^n.rotrBL(a,s,61)^n.shrSL(a,s,6),c=n.add4L(o,l,f[e-7],f[e-16]),d=n.add4H(c,i,u,p[e-7],p[e-16]);p[e]=0|d,f[e]=0|c}let{Ah:r,Al:i,Bh:o,Bl:a,Ch:s,Cl:u,Dh:l,Dl:h,Eh:m,El:g,Fh:y,Fl:b,Gh:_,Gl:w,Hh:v,Hl:k}=this;for(let e=0;e<80;e++){let t=n.rotrSH(m,g,14)^n.rotrSH(m,g,18)^n.rotrBH(m,g,41),A=n.rotrSL(m,g,14)^n.rotrSL(m,g,18)^n.rotrBL(m,g,41),S=m&y^~m&_,I=g&b^~g&w,E=n.add5L(k,A,I,d[e],f[e]),T=n.add5H(E,v,t,S,c[e],p[e]),x=0|E,P=n.rotrSH(r,i,28)^n.rotrBH(r,i,34)^n.rotrBH(r,i,39),O=n.rotrSL(r,i,28)^n.rotrBL(r,i,34)^n.rotrBL(r,i,39),B=r&o^r&s^o&s,C=i&a^i&u^a&u;v=0|_,k=0|w,_=0|y,w=0|b,y=0|m,b=0|g,({h:m,l:g}=n.add(0|l,0|h,0|T,0|x)),l=0|s,h=0|u,s=0|o,u=0|a,o=0|r,a=0|i;let R=n.add3L(x,O,C);r=n.add3H(R,T,P,B),i=0|R}({h:r,l:i}=n.add(0|this.Ah,0|this.Al,0|r,0|i)),({h:o,l:a}=n.add(0|this.Bh,0|this.Bl,0|o,0|a)),({h:s,l:u}=n.add(0|this.Ch,0|this.Cl,0|s,0|u)),({h:l,l:h}=n.add(0|this.Dh,0|this.Dl,0|l,0|h)),({h:m,l:g}=n.add(0|this.Eh,0|this.El,0|m,0|g)),({h:y,l:b}=n.add(0|this.Fh,0|this.Fl,0|y,0|b)),({h:_,l:w}=n.add(0|this.Gh,0|this.Gl,0|_,0|w)),({h:v,l:k}=n.add(0|this.Hh,0|this.Hl,0|v,0|k)),this.set(r,i,o,a,s,u,l,h,m,g,y,b,_,w,v,k)}roundClean(){(0,i.clean)(p,f)}destroy(){(0,i.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}e.exports.SHA512=h;class m extends h{constructor(){super(48),this.Ah=0|r.SHA384_IV[0],this.Al=0|r.SHA384_IV[1],this.Bh=0|r.SHA384_IV[2],this.Bl=0|r.SHA384_IV[3],this.Ch=0|r.SHA384_IV[4],this.Cl=0|r.SHA384_IV[5],this.Dh=0|r.SHA384_IV[6],this.Dl=0|r.SHA384_IV[7],this.Eh=0|r.SHA384_IV[8],this.El=0|r.SHA384_IV[9],this.Fh=0|r.SHA384_IV[10],this.Fl=0|r.SHA384_IV[11],this.Gh=0|r.SHA384_IV[12],this.Gl=0|r.SHA384_IV[13],this.Hh=0|r.SHA384_IV[14],this.Hl=0|r.SHA384_IV[15]}}e.exports.SHA384=m;let g=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),y=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class b extends h{constructor(){super(28),this.Ah=0|g[0],this.Al=0|g[1],this.Bh=0|g[2],this.Bl=0|g[3],this.Ch=0|g[4],this.Cl=0|g[5],this.Dh=0|g[6],this.Dl=0|g[7],this.Eh=0|g[8],this.El=0|g[9],this.Fh=0|g[10],this.Fl=0|g[11],this.Gh=0|g[12],this.Gl=0|g[13],this.Hh=0|g[14],this.Hl=0|g[15]}}e.exports.SHA512_224=b;class _ extends h{constructor(){super(32),this.Ah=0|y[0],this.Al=0|y[1],this.Bh=0|y[2],this.Bl=0|y[3],this.Ch=0|y[4],this.Cl=0|y[5],this.Dh=0|y[6],this.Dl=0|y[7],this.Eh=0|y[8],this.El=0|y[9],this.Fh=0|y[10],this.Fl=0|y[11],this.Gh=0|y[12],this.Gl=0|y[13],this.Hh=0|y[14],this.Hl=0|y[15]}}e.exports.SHA512_256=_,e.exports.sha256=(0,i.createHasher)(()=>new s),e.exports.sha224=(0,i.createHasher)(()=>new u),e.exports.sha512=(0,i.createHasher)(()=>new h),e.exports.sha384=(0,i.createHasher)(()=>new m),e.exports.sha512_256=(0,i.createHasher)(()=>new _),e.exports.sha512_224=(0,i.createHasher)(()=>new b)}),eh.register("cp3fd",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SHA512_IV=e.exports.SHA384_IV=e.exports.SHA224_IV=e.exports.SHA256_IV=e.exports.HashMD=void 0,e.exports.setBigUint64=n,e.exports.Chi=function(e,t,r){return e&t^~e&r},e.exports.Maj=function(e,t,r){return e&t^e&r^t&r};var r=eh("bHkZ3");function n(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),u=n?4:0,l=n?0:4;e.setUint32(t+u,a,n),e.setUint32(t+l,s,n)}class i extends r.Hash{constructor(e,t,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,r.createView)(this.buffer)}update(e){(0,r.aexists)(this),e=(0,r.toBytes)(e),(0,r.abytes)(e);let{view:t,buffer:n,blockLen:i}=this,o=e.length;for(let a=0;a<o;){let s=Math.min(i-this.pos,o-a);if(s===i){let t=(0,r.createView)(e);for(;i<=o-a;a+=i)this.process(t,a);continue}n.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,r.aexists)(this),(0,r.aoutput)(e,this),this.finished=!0;let{buffer:t,view:i,blockLen:o,isLE:a}=this,{pos:s}=this;t[s++]=128,(0,r.clean)(this.buffer.subarray(s)),this.padOffset>o-s&&(this.process(i,0),s=0);for(let e=s;e<o;e++)t[e]=0;n(i,o-8,BigInt(8*this.length),a),this.process(i,0);let u=(0,r.createView)(e),l=this.outputLen;if(l%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=l/4,d=this.get();if(c>d.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)u.setUint32(4*e,d[e],a)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=n,e.pos=a,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}e.exports.HashMD=i,e.exports.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),e.exports.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),e.exports.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),e.exports.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])}),eh.register("bHkZ3",function(e,t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.wrapXOFConstructorWithOpts=e.exports.wrapConstructorWithOpts=e.exports.wrapConstructor=e.exports.Hash=e.exports.nextTick=e.exports.swap32IfBE=e.exports.byteSwapIfBE=e.exports.swap8IfBE=e.exports.isLE=void 0,e.exports.isBytes=n,e.exports.anumber=i,e.exports.abytes=o,e.exports.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");i(e.outputLen),i(e.blockLen)},e.exports.aexists=function(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")},e.exports.aoutput=function(e,t){o(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)},e.exports.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},e.exports.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},e.exports.clean=function(...e){for(let t=0;t<e.length;t++)e[t].fill(0)},e.exports.createView=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)},e.exports.rotr=function(e,t){return e<<32-t|e>>>t},e.exports.rotl=function(e,t){return e<<t|e>>>32-t>>>0},e.exports.byteSwap=a,e.exports.byteSwap32=s,e.exports.bytesToHex=function(e){if(o(e),u)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=l[e[r]];return t},e.exports.hexToBytes=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(u)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=d(e.charCodeAt(i)),o=d(e.charCodeAt(i+1));if(void 0===r||void 0===o){let t=e[i]+e[i+1];throw Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+o}return n},e.exports.asyncLoop=f,e.exports.utf8ToBytes=h,e.exports.bytesToUtf8=function(e){return new TextDecoder().decode(e)},e.exports.toBytes=m,e.exports.kdfInputToBytes=function(e){return"string"==typeof e&&(e=h(e)),o(e),e},e.exports.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];o(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r},e.exports.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==({}).toString.call(t))throw Error("options should be object or undefined");let r=Object.assign(e,t);return r},e.exports.createHasher=g,e.exports.createOptHasher=y,e.exports.createXOFer=b,e.exports.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));if(r.crypto&&"function"==typeof r.crypto.randomBytes)return Uint8Array.from(r.crypto.randomBytes(e));throw Error("crypto.getRandomValues must be defined")};var r=eh("aUApy");function n(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function i(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function o(e,...t){if(!n(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function a(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function s(e){for(let t=0;t<e.length;t++)e[t]=a(e[t]);return e}e.exports.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],e.exports.swap8IfBE=e.exports.isLE?e=>e:e=>a(e),e.exports.byteSwapIfBE=e.exports.swap8IfBE,e.exports.swap32IfBE=e.exports.isLE?e=>e:s;let u="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,l=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),c={_0:48,_9:57,A:65,F:70,a:97,f:102};function d(e){return e>=c._0&&e<=c._9?e-c._0:e>=c.A&&e<=c.F?e-(c.A-10):e>=c.a&&e<=c.f?e-(c.a-10):void 0}let p=async()=>{};async function f(t,r,n){let i=Date.now();for(let o=0;o<t;o++){n(o);let t=Date.now()-i;t>=0&&t<r||(await (0,e.exports.nextTick)(),i+=t)}}function h(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function m(e){return"string"==typeof e&&(e=h(e)),o(e),e}function g(e){let t=t=>e().update(m(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function y(e){let t=(t,r)=>e(r).update(m(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}function b(e){let t=(t,r)=>e(r).update(m(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}e.exports.nextTick=p,e.exports.Hash=class{},e.exports.wrapConstructor=g,e.exports.wrapConstructorWithOpts=y,e.exports.wrapXOFConstructorWithOpts=b}),eh.register("aUApy",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.crypto=void 0,e.exports.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0}),eh.register("i02N0",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.toBig=e.exports.shrSL=e.exports.shrSH=e.exports.rotrSL=e.exports.rotrSH=e.exports.rotrBL=e.exports.rotrBH=e.exports.rotr32L=e.exports.rotr32H=e.exports.rotlSL=e.exports.rotlSH=e.exports.rotlBL=e.exports.rotlBH=e.exports.add5L=e.exports.add5H=e.exports.add4L=e.exports.add4H=e.exports.add3L=e.exports.add3H=void 0,e.exports.add=_,e.exports.fromBig=i,e.exports.split=o;let r=BigInt(4294967296-1),n=BigInt(32);function i(e,t=!1){return t?{h:Number(e&r),l:Number(e>>n&r)}:{h:0|Number(e>>n&r),l:0|Number(e&r)}}function o(e,t=!1){let r=e.length,n=new Uint32Array(r),o=new Uint32Array(r);for(let a=0;a<r;a++){let{h:r,l:s}=i(e[a],t);[n[a],o[a]]=[r,s]}return[n,o]}let a=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);e.exports.toBig=a;let s=(e,t,r)=>e>>>r;e.exports.shrSH=s;let u=(e,t,r)=>e<<32-r|t>>>r;e.exports.shrSL=u;let l=(e,t,r)=>e>>>r|t<<32-r;e.exports.rotrSH=l;let c=(e,t,r)=>e<<32-r|t>>>r;e.exports.rotrSL=c;let d=(e,t,r)=>e<<64-r|t>>>r-32;e.exports.rotrBH=d;let p=(e,t,r)=>e>>>r-32|t<<64-r;e.exports.rotrBL=p;let f=(e,t)=>t;e.exports.rotr32H=f;let h=(e,t)=>e;e.exports.rotr32L=h;let m=(e,t,r)=>e<<r|t>>>32-r;e.exports.rotlSH=m;let g=(e,t,r)=>t<<r|e>>>32-r;e.exports.rotlSL=g;let y=(e,t,r)=>t<<r-32|e>>>64-r;e.exports.rotlBH=y;let b=(e,t,r)=>e<<r-32|t>>>64-r;function _(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}}e.exports.rotlBL=b;let w=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);e.exports.add3L=w;let v=(e,t,r,n)=>t+r+n+(e/4294967296|0)|0;e.exports.add3H=v;let k=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);e.exports.add4L=k;let A=(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0;e.exports.add4H=A;let S=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);e.exports.add5L=S;let I=(e,t,r,n,i,o)=>t+r+n+i+o+(e/4294967296|0)|0;e.exports.add5H=I,e.exports.default={fromBig:i,split:o,toBig:a,shrSH:s,shrSL:u,rotrSH:l,rotrSL:c,rotrBH:d,rotrBL:p,rotr32H:f,rotr32L:h,rotlSH:m,rotlSL:g,rotlBH:y,rotlBL:b,add:_,add3L:w,add3H:v,add4L:k,add4H:A,add5H:I,add5L:S}}),eh.register("3WQ7x",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.getHash=function(e){return{hash:e}},e.exports.createCurve=function(e,t){let n=t=>(0,r.weierstrass)({...e,hash:t});return{...n(t),create:n}};var r=eh("1qYng")}),eh.register("1qYng",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.DER=e.exports.DERErr=void 0,e.exports._legacyHelperEquat=f,e.exports._legacyHelperNormPriv=h,e.exports.weierstrassN=m,e.exports.weierstrassPoints=function(e){let{CURVE:t,curveOpts:r}=b(e),i=m(t,r);return function(e,t){let{Fp:r,Fn:i}=t,o=f(r,e.a,e.b),a=h(i,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return Object.assign({},{CURVE:e,Point:t,ProjectivePoint:t,normPrivateKeyToScalar:a,weierstrassEquation:o,isWithinCurveOrder:function(e){return(0,n.inRange)(e,l,i.ORDER)}})}(e,i)},e.exports.ecdsa=y,e.exports.weierstrass=function(e){let{CURVE:t,curveOpts:r,ecdsaOpts:n}=function(e){let{CURVE:t,curveOpts:r}=b(e),n={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:r,ecdsaOpts:n}}(e),i=m(t,r),o=y(i,n,r);return Object.assign({},o,{ProjectivePoint:o.Point,CURVE:e})},e.exports.SWUFpSqrtRatio=_,e.exports.mapToCurveSimpleSWU=function(e,t){(0,o.validateField)(e);let{A:r,B:n,Z:i}=t;if(!e.isValid(r)||!e.isValid(n)||!e.isValid(i))throw Error("mapToCurveSimpleSWU: invalid opts");let a=_(e,i);if(!e.isOdd)throw Error("Field does not have .isOdd()");return t=>{let s,u,l,c,d,p,f,h;s=e.sqr(t),s=e.mul(s,i),u=e.sqr(s),u=e.add(u,s),l=e.add(u,e.ONE),l=e.mul(l,n),c=e.cmov(i,e.neg(u),!e.eql(u,e.ZERO)),c=e.mul(c,r),u=e.sqr(l),p=e.sqr(c),d=e.mul(p,r),u=e.add(u,d),u=e.mul(u,l),p=e.mul(p,c),d=e.mul(p,n),u=e.add(u,d),f=e.mul(s,l);let{isValid:m,value:g}=a(u,p);h=e.mul(s,t),h=e.mul(h,g),f=e.cmov(f,l,m),h=e.cmov(h,g,m);let y=e.isOdd(t)===e.isOdd(h);h=e.cmov(e.neg(h),h,y);let b=(0,o.FpInvertBatch)(e,[c],!0)[0];return{x:f=e.mul(f,b),y:h}}};var r=eh("b9NBV"),n=eh("joUi2"),i=eh("9ZBbH"),o=eh("4ULxn");function a(e){void 0!==e.lowS&&(0,n.abool)("lowS",e.lowS),void 0!==e.prehash&&(0,n.abool)("prehash",e.prehash)}class s extends Error{constructor(e=""){super(e)}}e.exports.DERErr=s,e.exports.DER={Err:s,_tlv:{encode:(t,r)=>{let{Err:i}=e.exports.DER;if(t<0||t>256)throw new i("tlv.encode: wrong tag");if(1&r.length)throw new i("tlv.encode: unpadded data");let o=r.length/2,a=(0,n.numberToHexUnpadded)(o);if(a.length/2&128)throw new i("tlv.encode: long form length too big");let s=o>127?(0,n.numberToHexUnpadded)(a.length/2|128):"",u=(0,n.numberToHexUnpadded)(t);return u+s+a+r},decode(t,r){let{Err:n}=e.exports.DER,i=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(r.length<2||r[i++]!==t)throw new n("tlv.decode: wrong tlv");let o=r[i++],a=0;if(128&o){let e=127&o;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");let t=r.subarray(i,i+e);if(t.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===t[0])throw new n("tlv.decode(long): zero leftmost byte");for(let e of t)a=a<<8|e;if(i+=e,a<128)throw new n("tlv.decode(long): not minimal encoding")}else a=o;let s=r.subarray(i,i+a);if(s.length!==a)throw new n("tlv.decode: wrong value length");return{v:s,l:r.subarray(i+a)}}},_int:{encode(t){let{Err:r}=e.exports.DER;if(t<u)throw new r("integer: negative integers are not allowed");let i=(0,n.numberToHexUnpadded)(t);if(8&Number.parseInt(i[0],16)&&(i="00"+i),1&i.length)throw new r("unexpected DER parsing assertion: unpadded hex");return i},decode(t){let{Err:r}=e.exports.DER;if(128&t[0])throw new r("invalid signature integer: negative");if(0===t[0]&&!(128&t[1]))throw new r("invalid signature integer: unnecessary leading zero");return(0,n.bytesToNumberBE)(t)}},toSig(t){let{Err:r,_int:i,_tlv:o}=e.exports.DER,a=(0,n.ensureBytes)("signature",t),{v:s,l:u}=o.decode(48,a);if(u.length)throw new r("invalid signature: left bytes after parsing");let{v:l,l:c}=o.decode(2,s),{v:d,l:p}=o.decode(2,c);if(p.length)throw new r("invalid signature: left bytes after parsing");return{r:i.decode(l),s:i.decode(d)}},hexFromSig(t){let{_tlv:r,_int:n}=e.exports.DER,i=r.encode(2,n.encode(t.r)),o=r.encode(2,n.encode(t.s));return r.encode(48,i+o)}};let u=BigInt(0),l=BigInt(1),c=BigInt(2),d=BigInt(3),p=BigInt(4);function f(e,t,r){return function(n){let i=e.sqr(n),o=e.mul(i,n);return e.add(e.add(o,e.mul(n,t)),r)}}function h(e,t,r){let{BYTES:i}=e;return function(o){let a;if("bigint"==typeof o)a=o;else{let r=(0,n.ensureBytes)("private key",o);if(t){if(!t.includes(2*r.length))throw Error("invalid private key");let e=new Uint8Array(i);e.set(r,e.length-r.length),r=e}try{a=e.fromBytes(r)}catch(e){throw Error(`invalid private key: expected ui8a of size ${i}, got ${typeof o}`)}}if(r&&(a=e.create(a)),!e.isValidNot0(a))throw Error("invalid private key: out of range [1..N-1]");return a}}function m(e,t={}){let{Fp:r,Fn:o}=(0,i._createCurveFields)("weierstrass",e,t),{h:a,n:s}=e;(0,n._validateObject)(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:c}=t;if(c&&(!r.is0(e.a)||"bigint"!=typeof c.beta||"function"!=typeof c.splitScalar))throw Error('invalid endo: expected "beta": bigint and "splitScalar": function');function m(){if(!r.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let y=t.toBytes||function(e,t,i){let{x:o,y:a}=t.toAffine(),s=r.toBytes(o);if((0,n.abool)("isCompressed",i),!i)return(0,n.concatBytes)(Uint8Array.of(4),s,r.toBytes(a));{m();let e=!r.isOdd(a);return(0,n.concatBytes)(g(e),s)}},b=t.fromBytes||function(e){(0,n.abytes)(e);let t=r.BYTES,i=t+1,o=2*t+1,a=e.length,s=e[0],u=e.subarray(1);if(a===i&&(2===s||3===s)){let e;let t=r.fromBytes(u);if(!r.isValid(t))throw Error("bad point: is not on curve, wrong x");let n=_(t);try{e=r.sqrt(n)}catch(t){let e=t instanceof Error?": "+t.message:"";throw Error("bad point: is not on curve, sqrt error"+e)}m();let i=r.isOdd(e);return(1&s)==1!==i&&(e=r.neg(e)),{x:t,y:e}}if(a===o&&4===s){let e=r.fromBytes(u.subarray(0*t,1*t)),n=r.fromBytes(u.subarray(1*t,2*t));if(!w(e,n))throw Error("bad point: is not on curve");return{x:e,y:n}}throw Error(`bad point: got length ${a}, expected compressed=${i} or uncompressed=${o}`)},_=f(r,e.a,e.b);function w(e,t){let n=r.sqr(t),i=_(e);return r.eql(n,i)}if(!w(e.Gx,e.Gy))throw Error("bad curve params: generator point");let v=r.mul(r.pow(e.a,d),p),k=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(v,k)))throw Error("bad curve params: a or b");function A(e,t,n=!1){if(!r.isValid(t)||n&&r.is0(t))throw Error(`bad point coordinate ${e}`);return t}function S(e){if(!(e instanceof x))throw Error("ProjectivePoint expected")}let I=(0,n.memoized)((e,t)=>{let{px:n,py:i,pz:o}=e;if(r.eql(o,r.ONE))return{x:n,y:i};let a=e.is0();null==t&&(t=a?r.ONE:r.inv(o));let s=r.mul(n,t),u=r.mul(i,t),l=r.mul(o,t);if(a)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw Error("invZ was invalid");return{x:s,y:u}}),E=(0,n.memoized)(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.py))return;throw Error("bad point: ZERO")}let{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw Error("bad point: x or y not field elements");if(!w(n,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function T(e,t,n,o,a){return n=new x(r.mul(n.px,e),n.py,n.pz),t=(0,i.negateCt)(o,t),n=(0,i.negateCt)(a,n),t.add(n)}class x{constructor(e,t,r){this.px=A("x",e),this.py=A("y",t,!0),this.pz=A("z",r),Object.freeze(this)}static fromAffine(e){let{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw Error("invalid affine point");if(e instanceof x)throw Error("projective point not allowed");return r.is0(t)&&r.is0(n)?x.ZERO:new x(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){return(0,i.normalizeZ)(x,"pz",e)}static fromBytes(e){return(0,n.abytes)(e),x.fromHex(e)}static fromHex(e){let t=x.fromAffine(b((0,n.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){let r=h(o,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return x.BASE.multiply(r(e))}static msm(e,t){return(0,i.pippenger)(x,o,e,t)}precompute(e=8,t=!0){return O.setWindowSize(this,e),t||this.multiply(d),this}_setWindowSize(e){this.precompute(e)}assertValidity(){E(this)}hasEvenY(){let{y:e}=this.toAffine();if(!r.isOdd)throw Error("Field doesn't support isOdd");return!r.isOdd(e)}equals(e){S(e);let{px:t,py:n,pz:i}=this,{px:o,py:a,pz:s}=e,u=r.eql(r.mul(t,s),r.mul(o,i)),l=r.eql(r.mul(n,s),r.mul(a,i));return u&&l}negate(){return new x(this.px,r.neg(this.py),this.pz)}double(){let{a:t,b:n}=e,i=r.mul(n,d),{px:o,py:a,pz:s}=this,u=r.ZERO,l=r.ZERO,c=r.ZERO,p=r.mul(o,o),f=r.mul(a,a),h=r.mul(s,s),m=r.mul(o,a);return m=r.add(m,m),c=r.mul(o,s),c=r.add(c,c),u=r.mul(t,c),l=r.mul(i,h),l=r.add(u,l),u=r.sub(f,l),l=r.add(f,l),l=r.mul(u,l),u=r.mul(m,u),c=r.mul(i,c),h=r.mul(t,h),m=r.sub(p,h),m=r.mul(t,m),m=r.add(m,c),c=r.add(p,p),p=r.add(c,p),p=r.add(p,h),p=r.mul(p,m),l=r.add(l,p),h=r.mul(a,s),h=r.add(h,h),p=r.mul(h,m),u=r.sub(u,p),c=r.mul(h,f),c=r.add(c,c),new x(u,l,c=r.add(c,c))}add(t){S(t);let{px:n,py:i,pz:o}=this,{px:a,py:s,pz:u}=t,l=r.ZERO,c=r.ZERO,p=r.ZERO,f=e.a,h=r.mul(e.b,d),m=r.mul(n,a),g=r.mul(i,s),y=r.mul(o,u),b=r.add(n,i),_=r.add(a,s);b=r.mul(b,_),_=r.add(m,g),b=r.sub(b,_),_=r.add(n,o);let w=r.add(a,u);return _=r.mul(_,w),w=r.add(m,y),_=r.sub(_,w),w=r.add(i,o),l=r.add(s,u),w=r.mul(w,l),l=r.add(g,y),w=r.sub(w,l),p=r.mul(f,_),l=r.mul(h,y),p=r.add(l,p),l=r.sub(g,p),p=r.add(g,p),c=r.mul(l,p),g=r.add(m,m),g=r.add(g,m),y=r.mul(f,y),_=r.mul(h,_),g=r.add(g,y),y=r.sub(m,y),y=r.mul(f,y),_=r.add(_,y),m=r.mul(g,_),c=r.add(c,m),m=r.mul(w,_),l=r.mul(b,l),l=r.sub(l,m),m=r.mul(b,g),p=r.mul(w,p),new x(l,c,p=r.add(p,m))}subtract(e){return this.add(e.negate())}is0(){return this.equals(x.ZERO)}multiply(e){let r,n;let{endo:i}=t;if(!o.isValidNot0(e))throw Error("invalid scalar: out of range");let a=e=>O.wNAFCached(this,e,x.normalizeZ);if(i){let{k1neg:t,k1:o,k2neg:s,k2:u}=i.splitScalar(e),{p:l,f:c}=a(o),{p:d,f:p}=a(u);n=c.add(p),r=T(i.beta,l,d,t,s)}else{let{p:t,f:i}=a(e);r=t,n=i}return x.normalizeZ([r,n])[0]}multiplyUnsafe(e){let{endo:r}=t;if(!o.isValid(e))throw Error("invalid scalar: out of range");if(e===u||this.is0())return x.ZERO;if(e===l)return this;if(O.hasPrecomputes(this))return this.multiply(e);if(!r)return O.wNAFCachedUnsafe(this,e);{let{k1neg:t,k1:n,k2neg:o,k2:a}=r.splitScalar(e),{p1:s,p2:u}=(0,i.mulEndoUnsafe)(x,this,n,a);return T(r.beta,s,u,t,o)}}multiplyAndAddUnsafe(e,t,r){let n=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(e){return I(this,e)}isTorsionFree(){let{isTorsionFree:e}=t;return a===l||(e?e(x,this):O.wNAFCachedUnsafe(this,s).is0())}clearCofactor(){let{clearCofactor:e}=t;return a===l?this:e?e(x,this):this.multiplyUnsafe(a)}toBytes(e=!0){return(0,n.abool)("isCompressed",e),this.assertValidity(),y(x,this,e)}toRawBytes(e=!0){return this.toBytes(e)}toHex(e=!0){return(0,n.bytesToHex)(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}x.BASE=new x(e.Gx,e.Gy,r.ONE),x.ZERO=new x(r.ZERO,r.ONE,r.ZERO),x.Fp=r,x.Fn=o;let P=o.BITS,O=(0,i.wNAF)(x,t.endo?Math.ceil(P/2):P);return x}function g(e){return Uint8Array.of(e?2:3)}function y(t,i,s={}){(0,n._validateObject)(i,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let d=i.randomBytes||n.randomBytes,p=i.hmac||((e,...t)=>(0,r.hmac)(i.hash,e,(0,n.concatBytes)(...t))),{Fp:f,Fn:m}=t,{ORDER:y,BITS:b}=m;function _(e){let t=y>>l;return e>t}function w(e,t){if(!m.isValidNot0(t))throw Error(`invalid signature ${e}: out of range 1..CURVE.n`)}class v{constructor(e,t,r){w("r",e),w("s",t),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){let t=m.BYTES,r=(0,n.ensureBytes)("compactSignature",e,2*t);return new v(m.fromBytes(r.subarray(0,t)),m.fromBytes(r.subarray(t,2*t)))}static fromDER(t){let{r:r,s:i}=e.exports.DER.toSig((0,n.ensureBytes)("DER",t));return new v(r,i)}assertValidity(){}addRecoveryBit(e){return new v(this.r,this.s,e)}recoverPublicKey(e){let r=f.ORDER,{r:i,s:o,recovery:a}=this;if(null==a||![0,1,2,3].includes(a))throw Error("recovery id invalid");let s=y*c<r;if(s&&a>1)throw Error("recovery id is ambiguous for h>1 curve");let u=2===a||3===a?i+y:i;if(!f.isValid(u))throw Error("recovery id 2 or 3 invalid");let l=f.toBytes(u),d=t.fromHex((0,n.concatBytes)(g((1&a)==0),l)),p=m.inv(u),h=I((0,n.ensureBytes)("msgHash",e)),b=m.create(-h*p),_=m.create(o*p),w=t.BASE.multiplyUnsafe(b).add(d.multiplyUnsafe(_));if(w.is0())throw Error("point at infinify");return w.assertValidity(),w}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,m.neg(this.s),this.recovery):this}toBytes(t){if("compact"===t)return(0,n.concatBytes)(m.toBytes(this.r),m.toBytes(this.s));if("der"===t)return(0,n.hexToBytes)(e.exports.DER.hexFromSig(this));throw Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return(0,n.bytesToHex)(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return(0,n.bytesToHex)(this.toBytes("compact"))}}let k=h(m,s.allowedPrivateKeyLengths,s.wrapPrivateKey);function A(e){if("bigint"==typeof e)return!1;if(e instanceof t)return!0;let r=(0,n.ensureBytes)("key",e),i=r.length,o=f.BYTES,a=o+1;if(!s.allowedPrivateKeyLengths&&m.BYTES!==a)return i===a||i===2*o+1}let S=i.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=(0,n.bytesToNumberBE)(e),r=8*e.length-b;return r>0?t>>BigInt(r):t},I=i.bits2int_modN||function(e){return m.create(S(e))},E=(0,n.bitMask)(b);function T(e){return(0,n.aInRange)("num < 2^"+b,e,u,E),m.toBytes(e)}let x={lowS:i.lowS,prehash:!1},P={lowS:i.lowS,prehash:!1};return t.BASE.precompute(8),Object.freeze({getPublicKey:function(e,r=!0){return t.fromPrivateKey(e).toBytes(r)},getSharedSecret:function(e,r,n=!0){if(!0===A(e))throw Error("first arg must be private key");if(!1===A(r))throw Error("second arg must be public key");let i=t.fromHex(r);return i.multiply(k(e)).toBytes(n)},sign:function(e,r,o=x){let{seed:s,k2sig:c}=function(e,r,o=x){if(["recovered","canonical"].some(e=>e in o))throw Error("sign() legacy options not supported");let{hash:s}=i,{lowS:c,prehash:p,extraEntropy:h}=o;null==c&&(c=!0),e=(0,n.ensureBytes)("msgHash",e),a(o),p&&(e=(0,n.ensureBytes)("prehashed msgHash",s(e)));let g=I(e),y=k(r),b=[T(y),T(g)];if(null!=h&&!1!==h){let e=!0===h?d(f.BYTES):h;b.push((0,n.ensureBytes)("extraEntropy",e))}let w=(0,n.concatBytes)(...b);return{seed:w,k2sig:function(e){let r=S(e);if(!m.isValidNot0(r))return;let n=m.inv(r),i=t.BASE.multiply(r).toAffine(),o=m.create(i.x);if(o===u)return;let a=m.create(n*m.create(g+o*y));if(a===u)return;let s=(i.x===o?0:2)|Number(i.y&l),d=a;return c&&_(a)&&(d=_(a)?m.neg(a):a,s^=1),new v(o,d,s)}}}(e,r,o),h=(0,n.createHmacDrbg)(i.hash.outputLen,m.BYTES,p);return h(s,c)},verify:function(r,o,s,u=P){let l,c;o=(0,n.ensureBytes)("msgHash",o),s=(0,n.ensureBytes)("publicKey",s),a(u);let{lowS:d,prehash:p,format:f}=u;if("strict"in u)throw Error("options.strict was renamed to lowS");if(void 0!==f&&!["compact","der","js"].includes(f))throw Error('format must be "compact", "der" or "js"');let h="string"==typeof r||(0,n.isBytes)(r),g=!h&&!f&&"object"==typeof r&&null!==r&&"bigint"==typeof r.r&&"bigint"==typeof r.s;if(!h&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g){if(void 0===f||"js"===f)c=new v(r.r,r.s);else throw Error("invalid format")}if(h){try{"compact"!==f&&(c=v.fromDER(r))}catch(t){if(!(t instanceof e.exports.DER.Err))throw t}c||"der"===f||(c=v.fromCompact(r))}l=t.fromHex(s)}catch(e){return!1}if(!c||d&&c.hasHighS())return!1;p&&(o=i.hash(o));let{r:y,s:b}=c,_=I(o),w=m.inv(b),k=m.create(_*w),A=m.create(y*w),S=t.BASE.multiplyUnsafe(k).add(l.multiplyUnsafe(A));if(S.is0())return!1;let E=m.create(S.x);return E===y},utils:{isValidPrivateKey(e){try{return k(e),!0}catch(e){return!1}},normPrivateKeyToScalar:k,randomPrivateKey:()=>(0,o.mapHashToField)(d((0,o.getMinHashLength)(y)),y),precompute:(e=8,r=t.BASE)=>r.precompute(e,!1)},Point:t,Signature:v})}function b(e){let t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=(0,o.Field)(t.n,e.nBitLength),i={Fp:r,Fn:n,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function _(e,t){let r=e.ORDER,n=u;for(let e=r-l;e%c===u;e/=c)n+=l;let i=n,o=c<<i-l-l,a=o*c,s=(r-l)/a,f=(s-l)/c,h=a-l,m=e.pow(t,s),g=e.pow(t,(s+l)/c),y=(t,r)=>{let n=m,a=e.pow(r,h),s=e.sqr(a);s=e.mul(s,r);let u=e.mul(t,s);u=e.pow(u,f),u=e.mul(u,a),a=e.mul(u,r),s=e.mul(u,t);let d=e.mul(s,a);u=e.pow(d,o);let p=e.eql(u,e.ONE);a=e.mul(s,g),u=e.mul(d,n),s=e.cmov(a,s,p),d=e.cmov(u,d,p);for(let t=i;t>l;t--){let r=t-c;r=c<<r-l;let i=e.pow(d,r),o=e.eql(i,e.ONE);a=e.mul(s,n),n=e.mul(n,n),i=e.mul(d,n),s=e.cmov(a,s,o),d=e.cmov(i,d,o)}return{isValid:p,value:s}};if(e.ORDER%p===d){let r=(e.ORDER-d)/p,n=e.sqrt(e.neg(t));y=(t,i)=>{let o=e.sqr(i),a=e.mul(t,i);o=e.mul(o,a);let s=e.pow(o,r);s=e.mul(s,a);let u=e.mul(s,n),l=e.mul(e.sqr(s),i),c=e.eql(l,t),d=e.cmov(u,s,c);return{isValid:c,value:d}}}return y}}),eh.register("b9NBV",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.hmac=e.exports.HMAC=void 0;var r=eh("bHkZ3");class n extends r.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,r.ahash)(e);let n=(0,r.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),(0,r.clean)(o)}update(e){return(0,r.aexists)(this),this.iHash.update(e),this}digestInto(e){(0,r.aexists)(this),(0,r.abytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.exports.HMAC=n,e.exports.hmac=(e,t,r)=>new n(e,t).update(r).digest(),e.exports.hmac.create=(e,t)=>new n(e,t)}),eh.register("joUi2",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.notImplemented=e.exports.bitMask=e.exports.utf8ToBytes=e.exports.randomBytes=e.exports.isBytes=e.exports.hexToBytes=e.exports.concatBytes=e.exports.bytesToUtf8=e.exports.bytesToHex=e.exports.anumber=e.exports.abytes=void 0,e.exports.abool=function(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)},e.exports.numberToHexUnpadded=o,e.exports.hexToNumber=a,e.exports.bytesToNumberBE=function(e){return a((0,r.bytesToHex)(e))},e.exports.bytesToNumberLE=function(e){return(0,r.abytes)(e),a((0,r.bytesToHex)(Uint8Array.from(e).reverse()))},e.exports.numberToBytesBE=s,e.exports.numberToBytesLE=function(e,t){return s(e,t).reverse()},e.exports.numberToVarBytesBE=function(e){return(0,r.hexToBytes)(o(e))},e.exports.ensureBytes=function(e,t,n){let i;if("string"==typeof t)try{i=(0,r.hexToBytes)(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if((0,r.isBytes)(t))i=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let o=i.length;if("number"==typeof n&&o!==n)throw Error(e+" of length "+n+" expected, got "+o);return i},e.exports.equalBytes=function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},e.exports.inRange=l,e.exports.aInRange=function(e,t,r,n){if(!l(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)},e.exports.bitLen=function(e){let t;for(t=0;e>n;e>>=i,t+=1);return t},e.exports.bitGet=function(e,t){return e>>BigInt(t)&i},e.exports.bitSet=function(e,t,r){return e|(r?i:n)<<BigInt(t)},e.exports.createHmacDrbg=function(e,t,n){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof n)throw Error("hmacFn must be a function");let i=e=>new Uint8Array(e),o=e=>Uint8Array.of(e),a=i(e),s=i(e),u=0,l=()=>{a.fill(1),s.fill(0),u=0},c=(...e)=>n(s,a,...e),d=(e=i(0))=>{s=c(o(0),e),a=c(),0!==e.length&&(s=c(o(1),e),a=c())},p=()=>{if(u++>=1e3)throw Error("drbg: tried 1000 values");let e=0,n=[];for(;e<t;){a=c();let t=a.slice();n.push(t),e+=a.length}return(0,r.concatBytes)(...n)};return(e,t)=>{let r;for(l(),d(e);!(r=t(p()));)d();return l(),r}},e.exports.validateObject=function(e,t,r={}){let n=(t,r,n)=>{let i=c[r];if("function"!=typeof i)throw Error("invalid validator function");let o=e[t];if((!n||void 0!==o)&&!i(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e},e.exports.isHash=function(e){return"function"==typeof e&&Number.isSafeInteger(e.outputLen)},e.exports._validateObject=function(e,t,r={}){if(!e||"object"!=typeof e)throw Error("expected valid options object");function n(t,r,n){let i=e[t];if(n&&void 0===i)return;let o=typeof i;if(o!==r||null===i)throw Error(`param "${t}" is invalid: expected ${r}, got ${o}`)}Object.entries(t).forEach(([e,t])=>n(e,t,!1)),Object.entries(r).forEach(([e,t])=>n(e,t,!0))},e.exports.memoized=function(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let o=e(r,...n);return t.set(r,o),o}};var r=(eh("bHkZ3"),eh("bHkZ3"));Object.defineProperty(e.exports,"abytes",{enumerable:!0,get:function(){return r.abytes}}),Object.defineProperty(e.exports,"anumber",{enumerable:!0,get:function(){return r.anumber}}),Object.defineProperty(e.exports,"bytesToHex",{enumerable:!0,get:function(){return r.bytesToHex}}),Object.defineProperty(e.exports,"bytesToUtf8",{enumerable:!0,get:function(){return r.bytesToUtf8}}),Object.defineProperty(e.exports,"concatBytes",{enumerable:!0,get:function(){return r.concatBytes}}),Object.defineProperty(e.exports,"hexToBytes",{enumerable:!0,get:function(){return r.hexToBytes}}),Object.defineProperty(e.exports,"isBytes",{enumerable:!0,get:function(){return r.isBytes}}),Object.defineProperty(e.exports,"randomBytes",{enumerable:!0,get:function(){return r.randomBytes}}),Object.defineProperty(e.exports,"utf8ToBytes",{enumerable:!0,get:function(){return r.utf8ToBytes}});let n=BigInt(0),i=BigInt(1);function o(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function a(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?n:BigInt("0x"+e)}function s(e,t){return(0,r.hexToBytes)(e.toString(16).padStart(2*t,"0"))}let u=e=>"bigint"==typeof e&&n<=e;function l(e,t,r){return u(e)&&u(t)&&u(r)&&t<=e&&e<r}e.exports.bitMask=e=>(i<<BigInt(e))-i;let c={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||(0,r.isBytes)(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};e.exports.notImplemented=()=>{throw Error("not implemented")}}),eh.register("9ZBbH",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.negateCt=a,e.exports.normalizeZ=function(e,t,r){let i=(0,n.FpInvertBatch)(e.Fp,r.map("pz"===t?e=>e.pz:e=>e.ez)),o=r.map((e,t)=>e.toAffine(i[t]));return o.map(e.fromAffine)},e.exports.wNAF=function(e,t){return{constTimeNegate:a,hasPrecomputes:e=>1!==h(e),unsafeLadder(t,r,n=e.ZERO){let a=t;for(;r>i;)r&o&&(n=n.add(a)),a=a.double(),r>>=o;return n},precomputeWindow(e,r){let{windows:n,windowSize:i}=u(r,t),o=[],a=e,s=a;for(let e=0;e<n;e++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(r,n,i){let o=e.ZERO,s=e.BASE,c=u(r,t);for(let e=0;e<c.windows;e++){let{nextN:t,offset:r,isZero:u,isNeg:d,isNegF:p,offsetF:f}=l(i,e,c);i=t,u?s=s.add(a(p,n[f])):o=o.add(a(d,n[r]))}return m(i),{p:o,f:s}},wNAFUnsafe(r,n,o,a=e.ZERO){let s=u(r,t);for(let e=0;e<s.windows&&o!==i;e++){let{nextN:t,offset:r,isZero:i,isNeg:u}=l(o,e,s);if(o=t,!i){let e=n[r];a=a.add(u?e.negate():e)}}return m(o),a},getPrecomputes(e,t,r){let n=p.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),p.set(t,n))),n},wNAFCached(e,t,r){let n=h(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=h(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){s(r,t),f.set(e,r),p.delete(e)}}},e.exports.mulEndoUnsafe=function(e,t,r,n){let a=t,s=e.ZERO,u=e.ZERO;for(;r>i||n>i;)r&o&&(s=s.add(a)),n&o&&(u=u.add(a)),a=a.double(),r>>=o,n>>=o;return{p1:s,p2:u}},e.exports.pippenger=function(e,t,n,i){c(n,e),d(i,t);let o=n.length,a=i.length;if(o!==a)throw Error("arrays of points and scalars must have equal length");let s=e.ZERO,u=(0,r.bitLen)(BigInt(o)),l=1;u>12?l=u-3:u>4?l=u-2:u>0&&(l=2);let p=(0,r.bitMask)(l),f=Array(Number(p)+1).fill(s),h=Math.floor((t.BITS-1)/l)*l,m=s;for(let e=h;e>=0;e-=l){f.fill(s);for(let t=0;t<a;t++){let r=i[t],o=Number(r>>BigInt(e)&p);f[o]=f[o].add(n[t])}let t=s;for(let e=f.length-1,r=s;e>0;e--)r=r.add(f[e]),t=t.add(r);if(m=m.add(t),0!==e)for(let e=0;e<l;e++)m=m.double()}return m},e.exports.precomputeMSMUnsafe=function(e,t,n,i){s(i,t.BITS),c(n,e);let o=e.ZERO,a=2**i-1,u=Math.ceil(t.BITS/i),l=(0,r.bitMask)(i),p=n.map(e=>{let t=[];for(let r=0,n=e;r<a;r++)t.push(n),n=n.add(e);return t});return e=>{if(d(e,t),e.length>n.length)throw Error("array of scalars must be smaller than array of points");let r=o;for(let t=0;t<u;t++){if(r!==o)for(let e=0;e<i;e++)r=r.double();let n=BigInt(u*i-(t+1)*i);for(let t=0;t<e.length;t++){let i=e[t],o=Number(i>>n&l);o&&(r=r.add(p[t][o-1]))}}return r}},e.exports.validateBasic=function(e){return(0,n.validateField)(e.Fp),(0,r.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,n.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})},e.exports._createCurveFields=function(e,t,r={}){if(!t||"object"!=typeof t)throw Error(`expected valid ${e} CURVE object`);for(let e of["p","n","h"]){let r=t[e];if(!("bigint"==typeof r&&r>i))throw Error(`CURVE.${e} must be positive bigint`)}let n=g(t.p,r.Fp),o=g(t.n,r.Fn);for(let r of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!n.isValid(t[r]))throw Error(`CURVE.${r} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:o}};var r=eh("joUi2"),n=eh("4ULxn");let i=BigInt(0),o=BigInt(1);function a(e,t){let r=t.negate();return e?r:t}function s(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function u(e,t){s(e,t);let n=Math.ceil(t/e)+1,i=2**(e-1),o=2**e,a=(0,r.bitMask)(e),u=BigInt(e);return{windows:n,windowSize:i,mask:a,maxNumber:o,shiftBy:u}}function l(e,t,r){let{windowSize:n,mask:i,maxNumber:a,shiftBy:s}=r,u=Number(e&i),l=e>>s;u>n&&(u-=a,l+=o);let c=t*n,d=c+Math.abs(u)-1,p=0===u,f=u<0;return{nextN:l,offset:d,isZero:p,isNeg:f,isNegF:t%2!=0,offsetF:c}}function c(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}function d(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}let p=new WeakMap,f=new WeakMap;function h(e){return f.get(e)||1}function m(e){if(e!==i)throw Error("invalid wNAF")}function g(e,t){if(!t)return(0,n.Field)(e);if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return(0,n.validateField)(t),t}}),eh.register("4ULxn",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isNegativeLE=void 0,e.exports.mod=c,e.exports.pow=function(e,t,r){return y(v(r),e,t)},e.exports.pow2=function(e,t,r){let i=e;for(;t-- >n;)i*=i,i%=r;return i},e.exports.invert=d,e.exports.tonelliShanks=h,e.exports.FpSqrt=m,e.exports.validateField=function(e){let t=g.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"});return(0,r._validateObject)(e,t),e},e.exports.FpPow=y,e.exports.FpInvertBatch=b,e.exports.FpDiv=function(e,t,r){return e.mul(t,"bigint"==typeof r?d(r,e.ORDER):e.inv(r))},e.exports.FpLegendre=_,e.exports.FpIsSquare=function(e,t){let r=_(e,t);return 1===r},e.exports.nLength=w,e.exports.Field=v,e.exports.FpSqrtOdd=function(e,t){if(!e.isOdd)throw Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)},e.exports.FpSqrtEven=function(e,t){if(!e.isOdd)throw Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r},e.exports.hashToPrivateScalar=function(e,t,n=!1){e=(0,r.ensureBytes)("privateHash",e);let o=e.length,a=w(t).nByteLength+8;if(a<24||o<a||o>1024)throw Error("hashToPrivateScalar: expected "+a+"-1024 bytes of input, got "+o);let s=n?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e);return c(s,t-i)+i},e.exports.getFieldBytesLength=k,e.exports.getMinHashLength=A,e.exports.mapHashToField=function(e,t,n=!1){let o=e.length,a=k(t),s=A(t);if(o<16||o<s||o>1024)throw Error("expected "+s+"-1024 bytes of input, got "+o);let u=n?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e),l=c(u,t-i)+i;return n?(0,r.numberToBytesLE)(l,a):(0,r.numberToBytesBE)(l,a)};var r=eh("joUi2");let n=BigInt(0),i=BigInt(1),o=BigInt(2),a=BigInt(3),s=BigInt(4),u=BigInt(5),l=BigInt(8);function c(e,t){let r=e%t;return r>=n?r:t+r}function d(e,t){if(e===n)throw Error("invert: expected non-zero number");if(t<=n)throw Error("invert: expected positive modulus, got "+t);let r=c(e,t),o=t,a=n,s=i,u=i,l=n;for(;r!==n;){let e=o/r,t=o%r,n=a-u*e,i=s-l*e;o=r,r=t,a=u,s=l,u=n,l=i}let d=o;if(d!==i)throw Error("invert: does not exist");return c(a,t)}function p(e,t){let r=(e.ORDER+i)/s,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function f(e,t){let r=(e.ORDER-u)/l,n=e.mul(t,o),i=e.pow(n,r),a=e.mul(t,i),s=e.mul(e.mul(a,o),i),c=e.mul(a,e.sub(s,e.ONE));if(!e.eql(e.sqr(c),t))throw Error("Cannot find square root");return c}function h(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-i,r=0;for(;t%o===n;)t/=o,r++;let a=o,s=v(e);for(;1===_(s,a);)if(a++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return p;let u=s.pow(a,t),l=(t+i)/o;return function(e,n){if(e.is0(n))return n;if(1!==_(e,n))throw Error("Cannot find square root");let o=r,a=e.mul(e.ONE,u),s=e.pow(n,t),c=e.pow(n,l);for(;!e.eql(s,e.ONE);){if(e.is0(s))return e.ZERO;let t=1,r=e.sqr(s);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===o)throw Error("Cannot find square root");let n=i<<BigInt(o-t-1),u=e.pow(a,n);o=t,a=e.sqr(u),s=e.mul(s,a),c=e.mul(c,u)}return c}}function m(e){return e%s===a?p:e%l===u?f:h(e)}e.exports.isNegativeLE=(e,t)=>(c(e,t)&i)===i;let g=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function y(e,t,r){if(r<n)throw Error("invalid exponent, negatives unsupported");if(r===n)return e.ONE;if(r===i)return t;let o=e.ONE,a=t;for(;r>n;)r&i&&(o=e.mul(o,a)),a=e.sqr(a),r>>=i;return o}function b(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),o=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),o),n}function _(e,t){let r=(e.ORDER-i)/o,n=e.pow(t,r),a=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),u=e.eql(n,e.neg(e.ONE));if(!a&&!s&&!u)throw Error("invalid Legendre symbol result");return a?1:s?0:-1}function w(e,t){void 0!==t&&(0,r.anumber)(t);let n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function v(e,t,o=!1,a={}){let s,u,l;if(e<=n)throw Error("invalid field: expected ORDER > 0, got "+e);if("object"==typeof t&&null!=t){if(a.sqrt||o)throw Error("cannot specify opts in two arguments");t.BITS&&(u=t.BITS),t.sqrt&&(l=t.sqrt),"boolean"==typeof t.isLE&&(o=t.isLE)}else"number"==typeof t&&(u=t),a.sqrt&&(l=a.sqrt);let{nBitLength:p,nByteLength:f}=w(e,u);if(f>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let h=Object.freeze({ORDER:e,isLE:o,BITS:p,BYTES:f,MASK:(0,r.bitMask)(p),ZERO:n,ONE:i,create:t=>c(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return n<=t&&t<e},is0:e=>e===n,isValidNot0:e=>!h.is0(e)&&h.isValid(e),isOdd:e=>(e&i)===i,neg:t=>c(-t,e),eql:(e,t)=>e===t,sqr:t=>c(t*t,e),add:(t,r)=>c(t+r,e),sub:(t,r)=>c(t-r,e),mul:(t,r)=>c(t*r,e),pow:(e,t)=>y(h,e,t),div:(t,r)=>c(t*d(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>d(t,e),sqrt:l||(t=>(s||(s=m(e)),s(h,t))),toBytes:e=>o?(0,r.numberToBytesLE)(e,f):(0,r.numberToBytesBE)(e,f),fromBytes:e=>{if(e.length!==f)throw Error("Field.fromBytes: expected "+f+" bytes, got "+e.length);return o?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e)},invertBatch:e=>b(h,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(h)}function k(e){if("bigint"!=typeof e)throw Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function A(e){let t=k(e);return t+Math.ceil(t/2)}}),eh.register("5GEtw",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.expand_message_xmd=s,e.exports.expand_message_xof=u,e.exports.hash_to_field=l,e.exports.isogenyMap=function(e,t){let r=t.map(e=>Array.from(e).reverse());return(t,i)=>{let[o,a,s,u]=r.map(r=>r.reduce((r,n)=>e.add(e.mul(r,t),n))),[l,c]=(0,n.FpInvertBatch)(e,[a,u],!0);return t=e.mul(o,l),i=e.mul(i,e.mul(s,c)),{x:t,y:i}}},e.exports.createHasher=function(e,t,r){if("function"!=typeof t)throw Error("mapToCurve() must be defined");function n(r){return e.fromAffine(t(r))}function i(t){let r=t.clearCofactor();return r.equals(e.ZERO)?e.ZERO:(r.assertValidity(),r)}return{defaults:r,hashToCurve(e,t){let o=r.DST?r.DST:{},a=Object.assign({},r,o,t),s=l(e,2,a),u=n(s[0]),c=n(s[1]);return i(u.add(c))},encodeToCurve(e,t){let o=r.encodeDST?r.encodeDST:{},a=Object.assign({},r,o,t),s=l(e,1,a);return i(n(s[0]))},mapToCurve(e){if(!Array.isArray(e))throw Error("expected array of bigints");for(let t of e)if("bigint"!=typeof t)throw Error("expected array of bigints");return i(n(e))}}};var r=eh("joUi2"),n=eh("4ULxn");let i=r.bytesToNumberBE;function o(e,t){if(a(e),a(t),e<0||e>=1<<8*t)throw Error("invalid I2OSP input: "+e);let r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function a(e){if(!Number.isSafeInteger(e))throw Error("number expected")}function s(e,t,n,i){(0,r.abytes)(e),(0,r.abytes)(t),a(n),t.length>255&&(t=i((0,r.concatBytes)((0,r.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));let{outputLen:s,blockLen:u}=i,l=Math.ceil(n/s);if(n>65535||l>255)throw Error("expand_message_xmd: invalid lenInBytes");let c=(0,r.concatBytes)(t,o(t.length,1)),d=o(0,u),p=o(n,2),f=Array(l),h=i((0,r.concatBytes)(d,e,p,o(0,1),c));f[0]=i((0,r.concatBytes)(h,o(1,1),c));for(let e=1;e<=l;e++){let t=[function(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}(h,f[e-1]),o(e+1,1),c];f[e]=i((0,r.concatBytes)(...t))}let m=(0,r.concatBytes)(...f);return m.slice(0,n)}function u(e,t,n,i,s){if((0,r.abytes)(e),(0,r.abytes)(t),a(n),t.length>255&&(t=s.create({dkLen:Math.ceil(2*i/8)}).update((0,r.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()),n>65535||t.length>255)throw Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:n}).update(e).update(o(n,2)).update(t).update(o(t.length,1)).digest()}function l(e,t,o){let l;(0,r._validateObject)(o,{p:"bigint",m:"number",k:"number",hash:"function"});let{p:c,k:d,m:p,hash:f,expand:h,DST:m}=o;if(!(0,r.isBytes)(m)&&"string"!=typeof m)throw Error("DST must be string or uint8array");if(!(0,r.isHash)(o.hash))throw Error("expected valid hash");(0,r.abytes)(e),a(t);let g="string"==typeof m?(0,r.utf8ToBytes)(m):m,y=c.toString(2).length,b=Math.ceil((y+d)/8),_=t*p*b;if("xmd"===h)l=s(e,g,_,f);else if("xof"===h)l=u(e,g,_,d,f);else if("_internal_pass"===h)l=e;else throw Error('expand must be "xmd" or "xof"');let w=Array(t);for(let e=0;e<t;e++){let t=Array(p);for(let r=0;r<p;r++){let o=b*(r+e*p),a=l.subarray(o,o+b);t[r]=(0,n.mod)(i(a),c)}w[e]=t}return w}}),eh.register("kxOXd",function(t,r){(function(){var n,i="Expected a function",o="__lodash_hash_undefined__",a="__lodash_placeholder__",s=1/0,u=0/0,l=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",d="[object Array]",p="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Function]",g="[object GeneratorFunction]",y="[object Map]",b="[object Number]",_="[object Object]",w="[object Promise]",v="[object RegExp]",k="[object Set]",A="[object String]",S="[object Symbol]",I="[object WeakMap]",E="[object ArrayBuffer]",T="[object DataView]",x="[object Float32Array]",P="[object Float64Array]",O="[object Int8Array]",B="[object Int16Array]",C="[object Int32Array]",R="[object Uint8Array]",M="[object Uint8ClampedArray]",L="[object Uint16Array]",N="[object Uint32Array]",D=/\b__p \+= '';/g,F=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,U=/&(?:amp|lt|gt|quot|#39);/g,j=/[&<>"']/g,W=RegExp(U.source),K=RegExp(j.source),z=/<%-([\s\S]+?)%>/g,V=/<%([\s\S]+?)%>/g,H=/<%=([\s\S]+?)%>/g,G=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$=/^\w*$/,X=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Z=/[\\^$.*+?()[\]{}|]/g,Q=RegExp(Z.source),Y=/^\s+/,J=/\s/,ee=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,et=/\{\n\/\* \[wrapped with (.+)\] \*/,er=/,? & /,en=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ei=/[()=,{}\[\]\/\s]/,eo=/\\(\\)?/g,ea=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,es=/\w*$/,eu=/^[-+]0x[0-9a-f]+$/i,el=/^0b[01]+$/i,ed=/^\[object .+?Constructor\]$/,ep=/^0o[0-7]+$/i,ef=/^(?:0|[1-9]\d*)$/,eh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,em=/($^)/,eg=/['\n\r\u2028\u2029\\]/g,ey="\ud800-\udfff",eb="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",e_="\\u2700-\\u27bf",ew="a-z\\xdf-\\xf6\\xf8-\\xff",ev="A-Z\\xc0-\\xd6\\xd8-\\xde",ek="\\ufe0e\\ufe0f",eA="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",eS="['\u2019]",eI="["+eA+"]",eE="["+eb+"]",eT="["+ew+"]",ex="[^"+ey+eA+"\\d+"+e_+ew+ev+"]",eP="\ud83c[\udffb-\udfff]",eO="[^"+ey+"]",eB="(?:\ud83c[\udde6-\uddff]){2}",eC="[\ud800-\udbff][\udc00-\udfff]",eR="["+ev+"]",eM="\\u200d",eL="(?:"+eT+"|"+ex+")",eN="(?:"+eS+"(?:d|ll|m|re|s|t|ve))?",eD="(?:"+eS+"(?:D|LL|M|RE|S|T|VE))?",eF="(?:"+eE+"|"+eP+")?",eq="["+ek+"]?",eU="(?:"+eM+"(?:"+[eO,eB,eC].join("|")+")"+eq+eF+")*",ej=eq+eF+eU,eW="(?:"+["["+e_+"]",eB,eC].join("|")+")"+ej,eK="(?:"+[eO+eE+"?",eE,eB,eC,"["+ey+"]"].join("|")+")",ez=RegExp(eS,"g"),eV=RegExp(eE,"g"),eH=RegExp(eP+"(?="+eP+")|"+eK+ej,"g"),eG=RegExp([eR+"?"+eT+"+"+eN+"(?="+[eI,eR,"$"].join("|")+")","(?:"+eR+"|"+ex+")+"+eD+"(?="+[eI,eR+eL,"$"].join("|")+")",eR+"?"+eL+"+"+eN,eR+"+"+eD,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",eW].join("|"),"g"),e$=RegExp("["+eM+ey+eb+ek+"]"),eX=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eZ=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],eQ=-1,eY={};eY[x]=eY[P]=eY[O]=eY[B]=eY[C]=eY[R]=eY[M]=eY[L]=eY[N]=!0,eY[c]=eY[d]=eY[E]=eY[p]=eY[T]=eY[f]=eY[h]=eY[m]=eY[y]=eY[b]=eY[_]=eY[v]=eY[k]=eY[A]=eY[I]=!1;var eJ={};eJ[c]=eJ[d]=eJ[E]=eJ[T]=eJ[p]=eJ[f]=eJ[x]=eJ[P]=eJ[O]=eJ[B]=eJ[C]=eJ[y]=eJ[b]=eJ[_]=eJ[v]=eJ[k]=eJ[A]=eJ[S]=eJ[R]=eJ[M]=eJ[L]=eJ[N]=!0,eJ[h]=eJ[m]=eJ[I]=!1;var e1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},e0=parseFloat,e2=parseInt,e6="object"==typeof ec&&ec&&ec.Object===Object&&ec,e4="object"==typeof self&&self&&self.Object===Object&&self,e5=e6||e4||Function("return this")(),e8=r&&!r.nodeType&&r,e3=e8&&t&&!t.nodeType&&t,e9=e3&&e3.exports===e8,e7=e9&&e6.process,te=function(){try{var e=e3&&e3.require&&e3.require("util").types;if(e)return e;return e7&&e7.binding&&e7.binding("util")}catch(e){}}(),tt=te&&te.isArrayBuffer,tr=te&&te.isDate,tn=te&&te.isMap,ti=te&&te.isRegExp,to=te&&te.isSet,ta=te&&te.isTypedArray;function ts(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function tu(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(n,a,r(a),e)}return n}function tl(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function tc(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function td(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}function tp(e,t){return!!(null==e?0:e.length)&&tk(e,t,0)>-1}function tf(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function th(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function tm(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function tg(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function ty(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function tb(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var t_=tE("length");function tw(e,t,r){var n;return r(e,function(e,r,i){if(t(e,r,i))return n=r,!1}),n}function tv(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return -1}function tk(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return -1}(e,t,r):tv(e,tS,r)}function tA(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return -1}function tS(e){return e!=e}function tI(e,t){var r=null==e?0:e.length;return r?tP(e,t)/r:u}function tE(e){return function(t){return null==t?n:t[e]}}function tT(e){return function(t){return null==e?n:e[t]}}function tx(e,t,r,n,i){return i(e,function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)}),r}function tP(e,t){for(var r,i=-1,o=e.length;++i<o;){var a=t(e[i]);a!==n&&(r=r===n?a:r+a)}return r}function tO(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function tB(e){return e?e.slice(0,tG(e)+1).replace(Y,""):e}function tC(e){return function(t){return e(t)}}function tR(e,t){return th(t,function(t){return e[t]})}function tM(e,t){return e.has(t)}function tL(e,t){for(var r=-1,n=e.length;++r<n&&tk(t,e[r],0)>-1;);return r}function tN(e,t){for(var r=e.length;r--&&tk(t,e[r],0)>-1;);return r}var tD=tT({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),tF=tT({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tq(e){return"\\"+e1[e]}function tU(e){return e$.test(e)}function tj(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function tW(e,t){return function(r){return e(t(r))}}function tK(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];(s===t||s===a)&&(e[r]=a,o[i++]=r)}return o}function tz(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function tV(e){return tU(e)?function(e){for(var t=eH.lastIndex=0;eH.test(e);)++t;return t}(e):t_(e)}function tH(e){return tU(e)?e.match(eH)||[]:e.split("")}function tG(e){for(var t=e.length;t--&&J.test(e.charAt(t)););return t}var t$=tT({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),tX=function e(t){var r,J,ec,ey,eb=(t=null==t?e5:tX.defaults(e5.Object(),t,tX.pick(e5,eZ))).Array,e_=t.Date,ew=t.Error,ev=t.Function,ek=t.Math,eA=t.Object,eS=t.RegExp,eI=t.String,eE=t.TypeError,eT=eb.prototype,ex=ev.prototype,eP=eA.prototype,eO=t["__core-js_shared__"],eB=ex.toString,eC=eP.hasOwnProperty,eR=0,eM=(r=/[^.]+$/.exec(eO&&eO.keys&&eO.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",eL=eP.toString,eN=eB.call(eA),eD=e5._,eF=eS("^"+eB.call(eC).replace(Z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eq=e9?t.Buffer:n,eU=t.Symbol,ej=t.Uint8Array,eW=eq?eq.allocUnsafe:n,eK=tW(eA.getPrototypeOf,eA),eH=eA.create,e$=eP.propertyIsEnumerable,e1=eT.splice,e6=eU?eU.isConcatSpreadable:n,e4=eU?eU.iterator:n,e8=eU?eU.toStringTag:n,e3=function(){try{var e=ih(eA,"defineProperty");return e({},"",{}),e}catch(e){}}(),e7=t.clearTimeout!==e5.clearTimeout&&t.clearTimeout,te=e_&&e_.now!==e5.Date.now&&e_.now,t_=t.setTimeout!==e5.setTimeout&&t.setTimeout,tT=ek.ceil,tZ=ek.floor,tQ=eA.getOwnPropertySymbols,tY=eq?eq.isBuffer:n,tJ=t.isFinite,t1=eT.join,t0=tW(eA.keys,eA),t2=ek.max,t6=ek.min,t4=e_.now,t5=t.parseInt,t8=ek.random,t3=eT.reverse,t9=ih(t,"DataView"),t7=ih(t,"Map"),re=ih(t,"Promise"),rt=ih(t,"Set"),rr=ih(t,"WeakMap"),rn=ih(eA,"create"),ri=rr&&new rr,ro={},ra=iq(t9),rs=iq(t7),ru=iq(re),rl=iq(rt),rc=iq(rr),rd=eU?eU.prototype:n,rp=rd?rd.valueOf:n,rf=rd?rd.toString:n;function rh(e){if(oH(e)&&!oL(e)&&!(e instanceof rb)){if(e instanceof ry)return e;if(eC.call(e,"__wrapped__"))return iU(e)}return new ry(e)}var rm=function(){function e(){}return function(t){if(!oV(t))return{};if(eH)return eH(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function rg(){}function ry(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function rb(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function r_(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function rw(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function rv(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function rk(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new rv;++t<r;)this.add(e[t])}function rA(e){var t=this.__data__=new rw(e);this.size=t.size}function rS(e,t){var r=oL(e),n=!r&&oM(e),i=!r&&!n&&oq(e),o=!r&&!n&&!i&&o1(e),a=r||n||i||o,s=a?tO(e.length,eI):[],u=s.length;for(var l in e)(t||eC.call(e,l))&&!(a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||iv(l,u)))&&s.push(l);return s}function rI(e){var t=e.length;return t?e[nl(0,t-1)]:n}function rE(e,t,r){(r===n||oB(e[t],r))&&(r!==n||t in e)||rB(e,t,r)}function rT(e,t,r){var i=e[t];eC.call(e,t)&&oB(i,r)&&(r!==n||t in e)||rB(e,t,r)}function rx(e,t){for(var r=e.length;r--;)if(oB(e[r][0],t))return r;return -1}function rP(e,t,r,n){return rF(e,function(e,i,o){t(n,e,r(e),o)}),n}function rO(e,t){return e&&nj(t,ap(t),e)}function rB(e,t,r){"__proto__"==t&&e3?e3(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function rC(e,t){for(var r=-1,i=t.length,o=eb(i),a=null==e;++r<i;)o[r]=a?n:as(e,t[r]);return o}function rR(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function rM(e,t,r,i,o,a){var s,u=1&t,l=2&t,d=4&t;if(r&&(s=o?r(e,i,o,a):r(e)),s!==n)return s;if(!oV(e))return e;var h=oL(e);if(h){if(w=e.length,I=new e.constructor(w),w&&"string"==typeof e[0]&&eC.call(e,"index")&&(I.index=e.index,I.input=e.input),s=I,!u)return nU(e,s)}else{var w,I,D,F,q,U=iy(e),j=U==m||U==g;if(oq(e))return nM(e,u);if(U==_||U==c||j&&!o){if(s=l||j?{}:i_(e),!u)return l?(D=(q=s)&&nj(e,af(e),q),nj(e,ig(e),D)):(F=rO(s,e),nj(e,im(e),F))}else{if(!eJ[U])return o?e:{};s=function(e,t,r){var n,i,o=e.constructor;switch(t){case E:return nL(e);case p:case f:return new o(+e);case T:return n=r?nL(e.buffer):e.buffer,new e.constructor(n,e.byteOffset,e.byteLength);case x:case P:case O:case B:case C:case R:case M:case L:case N:return nN(e,r);case y:return new o;case b:case A:return new o(e);case v:return(i=new e.constructor(e.source,es.exec(e))).lastIndex=e.lastIndex,i;case k:return new o;case S:return rp?eA(rp.call(e)):{}}}(e,U,u)}}a||(a=new rA);var W=a.get(e);if(W)return W;a.set(e,s),oQ(e)?e.forEach(function(n){s.add(rM(n,t,r,n,e,a))}):oG(e)&&e.forEach(function(n,i){s.set(i,rM(n,t,r,i,e,a))});var K=d?l?ia:io:l?af:ap,z=h?n:K(e);return tl(z||e,function(n,i){z&&(n=e[i=n]),rT(s,i,rM(n,t,r,i,e,a))}),s}function rL(e,t,r){var i=r.length;if(null==e)return!i;for(e=eA(e);i--;){var o=r[i],a=t[o],s=e[o];if(s===n&&!(o in e)||!a(s))return!1}return!0}function rN(e,t,r){if("function"!=typeof e)throw new eE(i);return iC(function(){e.apply(n,r)},t)}function rD(e,t,r,n){var i=-1,o=tp,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;r&&(t=th(t,tC(r))),n?(o=tf,a=!1):t.length>=200&&(o=tM,a=!1,t=new rk(t));e:for(;++i<s;){var c=e[i],d=null==r?c:r(c);if(c=n||0!==c?c:0,a&&d==d){for(var p=l;p--;)if(t[p]===d)continue e;u.push(c)}else o(t,d,n)||u.push(c)}return u}rh.templateSettings={escape:z,evaluate:V,interpolate:H,variable:"",imports:{_:rh}},rh.prototype=rg.prototype,rh.prototype.constructor=rh,ry.prototype=rm(rg.prototype),ry.prototype.constructor=ry,rb.prototype=rm(rg.prototype),rb.prototype.constructor=rb,r_.prototype.clear=function(){this.__data__=rn?rn(null):{},this.size=0},r_.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},r_.prototype.get=function(e){var t=this.__data__;if(rn){var r=t[e];return r===o?n:r}return eC.call(t,e)?t[e]:n},r_.prototype.has=function(e){var t=this.__data__;return rn?t[e]!==n:eC.call(t,e)},r_.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=rn&&t===n?o:t,this},rw.prototype.clear=function(){this.__data__=[],this.size=0},rw.prototype.delete=function(e){var t=this.__data__,r=rx(t,e);return!(r<0)&&(r==t.length-1?t.pop():e1.call(t,r,1),--this.size,!0)},rw.prototype.get=function(e){var t=this.__data__,r=rx(t,e);return r<0?n:t[r][1]},rw.prototype.has=function(e){return rx(this.__data__,e)>-1},rw.prototype.set=function(e,t){var r=this.__data__,n=rx(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},rv.prototype.clear=function(){this.size=0,this.__data__={hash:new r_,map:new(t7||rw),string:new r_}},rv.prototype.delete=function(e){var t=id(this,e).delete(e);return this.size-=t?1:0,t},rv.prototype.get=function(e){return id(this,e).get(e)},rv.prototype.has=function(e){return id(this,e).has(e)},rv.prototype.set=function(e,t){var r=id(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},rk.prototype.add=rk.prototype.push=function(e){return this.__data__.set(e,o),this},rk.prototype.has=function(e){return this.__data__.has(e)},rA.prototype.clear=function(){this.__data__=new rw,this.size=0},rA.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},rA.prototype.get=function(e){return this.__data__.get(e)},rA.prototype.has=function(e){return this.__data__.has(e)},rA.prototype.set=function(e,t){var r=this.__data__;if(r instanceof rw){var n=r.__data__;if(!t7||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new rv(n)}return r.set(e,t),this.size=r.size,this};var rF=nz(rH),rq=nz(rG,!0);function rU(e,t){var r=!0;return rF(e,function(e,n,i){return r=!!t(e,n,i)}),r}function rj(e,t,r){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(u===n?s==s&&!oJ(s):r(s,u)))var u=s,l=a}return l}function rW(e,t){var r=[];return rF(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}function rK(e,t,r,n,i){var o=-1,a=e.length;for(r||(r=iw),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?rK(s,t-1,r,n,i):tm(i,s):n||(i[i.length]=s)}return i}var rz=nV(),rV=nV(!0);function rH(e,t){return e&&rz(e,t,ap)}function rG(e,t){return e&&rV(e,t,ap)}function r$(e,t){return td(t,function(t){return oW(e[t])})}function rX(e,t){t=nB(t,e);for(var r=0,i=t.length;null!=e&&r<i;)e=e[iF(t[r++])];return r&&r==i?e:n}function rZ(e,t,r){var n=t(e);return oL(e)?n:tm(n,r(e))}function rQ(e){return null==e?e===n?"[object Undefined]":"[object Null]":e8&&e8 in eA(e)?function(e){var t=eC.call(e,e8),r=e[e8];try{e[e8]=n;var i=!0}catch(e){}var o=eL.call(e);return i&&(t?e[e8]=r:delete e[e8]),o}(e):eL.call(e)}function rY(e,t){return e>t}function rJ(e,t){return null!=e&&eC.call(e,t)}function r1(e,t){return null!=e&&t in eA(e)}function r0(e,t,r){for(var i=r?tf:tp,o=e[0].length,a=e.length,s=a,u=eb(a),l=1/0,c=[];s--;){var d=e[s];s&&t&&(d=th(d,tC(t))),l=t6(d.length,l),u[s]=!r&&(t||o>=120&&d.length>=120)?new rk(s&&d):n}d=e[0];var p=-1,f=u[0];e:for(;++p<o&&c.length<l;){var h=d[p],m=t?t(h):h;if(h=r||0!==h?h:0,!(f?tM(f,m):i(c,m,r))){for(s=a;--s;){var g=u[s];if(!(g?tM(g,m):i(e[s],m,r)))continue e}f&&f.push(m),c.push(h)}}return c}function r2(e,t,r){t=nB(t,e);var i=null==(e=iP(e,t))?e:e[iF(iQ(t))];return null==i?n:ts(i,e,r)}function r6(e){return oH(e)&&rQ(e)==c}function r4(e,t,r,i,o){return e===t||(null!=e&&null!=t&&(oH(e)||oH(t))?function(e,t,r,i,o,a){var s=oL(e),u=oL(t),l=s?d:iy(e),m=u?d:iy(t);l=l==c?_:l,m=m==c?_:m;var g=l==_,w=m==_,I=l==m;if(I&&oq(e)){if(!oq(t))return!1;s=!0,g=!1}if(I&&!g)return a||(a=new rA),s||o1(e)?ir(e,t,r,i,o,a):function(e,t,r,n,i,o,a){switch(r){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case E:if(e.byteLength!=t.byteLength||!o(new ej(e),new ej(t)))break;return!0;case p:case f:case b:return oB(+e,+t);case h:return e.name==t.name&&e.message==t.message;case v:case A:return e==t+"";case y:var s=tj;case k:var u=1&n;if(s||(s=tz),e.size!=t.size&&!u)break;var l=a.get(e);if(l)return l==t;n|=2,a.set(e,t);var c=ir(s(e),s(t),n,i,o,a);return a.delete(e),c;case S:if(rp)return rp.call(e)==rp.call(t)}return!1}(e,t,l,r,i,o,a);if(!(1&r)){var x=g&&eC.call(e,"__wrapped__"),P=w&&eC.call(t,"__wrapped__");if(x||P){var O=x?e.value():e,B=P?t.value():t;return a||(a=new rA),o(O,B,r,i,a)}}return!!I&&(a||(a=new rA),function(e,t,r,i,o,a){var s=1&r,u=io(e),l=u.length;if(l!=io(t).length&&!s)return!1;for(var c=l;c--;){var d=u[c];if(!(s?d in t:eC.call(t,d)))return!1}var p=a.get(e),f=a.get(t);if(p&&f)return p==t&&f==e;var h=!0;a.set(e,t),a.set(t,e);for(var m=s;++c<l;){var g=e[d=u[c]],y=t[d];if(i)var b=s?i(y,g,d,t,e,a):i(g,y,d,e,t,a);if(!(b===n?g===y||o(g,y,r,i,a):b)){h=!1;break}m||(m="constructor"==d)}if(h&&!m){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(h=!1)}return a.delete(e),a.delete(t),h}(e,t,r,i,o,a))}(e,t,r,i,r4,o):e!=e&&t!=t)}function r5(e,t,r,i){var o=r.length,a=o,s=!i;if(null==e)return!a;for(e=eA(e);o--;){var u=r[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var l=(u=r[o])[0],c=e[l],d=u[1];if(s&&u[2]){if(c===n&&!(l in e))return!1}else{var p=new rA;if(i)var f=i(c,d,l,e,t,p);if(!(f===n?r4(d,c,3,i,p):f))return!1}}return!0}function r8(e){return!(!oV(e)||eM&&eM in e)&&(oW(e)?eF:ed).test(iq(e))}function r3(e){return"function"==typeof e?e:null==e?aF:"object"==typeof e?oL(e)?nr(e[0],e[1]):nt(e):aG(e)}function r9(e){if(!iE(e))return t0(e);var t=[];for(var r in eA(e))eC.call(e,r)&&"constructor"!=r&&t.push(r);return t}function r7(e,t){return e<t}function ne(e,t){var r=-1,n=oD(e)?eb(e.length):[];return rF(e,function(e,i,o){n[++r]=t(e,i,o)}),n}function nt(e){var t=ip(e);return 1==t.length&&t[0][2]?iT(t[0][0],t[0][1]):function(r){return r===e||r5(r,e,t)}}function nr(e,t){var r;return iA(e)&&(r=t)==r&&!oV(r)?iT(iF(e),t):function(r){var i=as(r,e);return i===n&&i===t?au(r,e):r4(t,i,3)}}function nn(e,t,r,i,o){e!==t&&rz(t,function(a,s){if(o||(o=new rA),oV(a))(function(e,t,r,i,o,a,s){var u=iO(e,r),l=iO(t,r),c=s.get(l);if(c){rE(e,r,c);return}var d=a?a(u,l,r+"",e,t,s):n,p=d===n;if(p){var f=oL(l),h=!f&&oq(l),m=!f&&!h&&o1(l);d=l,f||h||m?oL(u)?d=u:oF(u)?d=nU(u):h?(p=!1,d=nM(l,!0)):m?(p=!1,d=nN(l,!0)):d=[]:oX(l)||oM(l)?(d=u,oM(u)?d=o9(u):(!oV(u)||oW(u))&&(d=i_(l))):p=!1}p&&(s.set(l,d),o(d,l,i,a,s),s.delete(l)),rE(e,r,d)})(e,t,s,r,nn,i,o);else{var u=i?i(iO(e,s),a,s+"",e,t,o):n;u===n&&(u=a),rE(e,s,u)}},af)}function ni(e,t){var r=e.length;if(r)return iv(t+=t<0?r:0,r)?e[t]:n}function no(e,t,r){t=t.length?th(t,function(e){return oL(e)?function(t){return rX(t,1===e.length?e[0]:e)}:e}):[aF];var n=-1;return t=th(t,tC(ic())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(ne(e,function(e,r,i){return{criteria:th(t,function(t){return t(e)}),index:++n,value:e}}),function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,a=i.length,s=r.length;++n<a;){var u=nD(i[n],o[n]);if(u){if(n>=s)return u;return u*("desc"==r[n]?-1:1)}}return e.index-t.index}(e,t,r)})}function na(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var a=t[n],s=rX(e,a);r(s,a)&&np(o,nB(a,e),s)}return o}function ns(e,t,r,n){var i=n?tA:tk,o=-1,a=t.length,s=e;for(e===t&&(t=nU(t)),r&&(s=th(e,tC(r)));++o<a;)for(var u=0,l=t[o],c=r?r(l):l;(u=i(s,c,u,n))>-1;)s!==e&&e1.call(s,u,1),e1.call(e,u,1);return e}function nu(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;iv(i)?e1.call(e,i,1):nA(e,i)}}return e}function nl(e,t){return e+tZ(t8()*(t-e+1))}function nc(e,t){var r="";if(!e||t<1||t>9007199254740991)return r;do t%2&&(r+=e),(t=tZ(t/2))&&(e+=e);while(t)return r}function nd(e,t){return iR(ix(e,t,aF),e+"")}function np(e,t,r,i){if(!oV(e))return e;t=nB(t,e);for(var o=-1,a=t.length,s=a-1,u=e;null!=u&&++o<a;){var l=iF(t[o]),c=r;if("__proto__"===l||"constructor"===l||"prototype"===l)break;if(o!=s){var d=u[l];(c=i?i(d,l,u):n)===n&&(c=oV(d)?d:iv(t[o+1])?[]:{})}rT(u,l,c),u=u[l]}return e}var nf=ri?function(e,t){return ri.set(e,t),e}:aF,nh=e3?function(e,t){return e3(e,"toString",{configurable:!0,enumerable:!1,value:aL(t),writable:!0})}:aF;function nm(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=eb(i);++n<i;)o[n]=e[n+t];return o}function ng(e,t){var r;return rF(e,function(e,n,i){return!(r=t(e,n,i))}),!!r}function ny(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var o=n+i>>>1,a=e[o];null!==a&&!oJ(a)&&(r?a<=t:a<t)?n=o+1:i=o}return i}return nb(e,t,aF,r)}function nb(e,t,r,i){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=r(t))!=t,u=null===t,l=oJ(t),c=t===n;o<a;){var d=tZ((o+a)/2),p=r(e[d]),f=p!==n,h=null===p,m=p==p,g=oJ(p);if(s)var y=i||m;else y=c?m&&(i||f):u?m&&f&&(i||!h):l?m&&f&&!h&&(i||!g):!h&&!g&&(i?p<=t:p<t);y?o=d+1:a=d}return t6(a,4294967294)}function n_(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r],s=t?t(a):a;if(!r||!oB(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function nw(e){return"number"==typeof e?e:oJ(e)?u:+e}function nv(e){if("string"==typeof e)return e;if(oL(e))return th(e,nv)+"";if(oJ(e))return rf?rf.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}function nk(e,t,r){var n=-1,i=tp,o=e.length,a=!0,s=[],u=s;if(r)a=!1,i=tf;else if(o>=200){var l=t?null:n8(e);if(l)return tz(l);a=!1,i=tM,u=new rk}else u=t?[]:s;e:for(;++n<o;){var c=e[n],d=t?t(c):c;if(c=r||0!==c?c:0,a&&d==d){for(var p=u.length;p--;)if(u[p]===d)continue e;t&&u.push(d),s.push(c)}else i(u,d,r)||(u!==s&&u.push(d),s.push(c))}return s}function nA(e,t){return t=nB(t,e),null==(e=iP(e,t))||delete e[iF(iQ(t))]}function nS(e,t,r,n){return np(e,t,r(rX(e,t)),n)}function nI(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?nm(e,n?0:o,n?o+1:i):nm(e,n?o+1:0,n?i:o)}function nE(e,t){var r=e;return r instanceof rb&&(r=r.value()),tg(t,function(e,t){return t.func.apply(t.thisArg,tm([e],t.args))},r)}function nT(e,t,r){var n=e.length;if(n<2)return n?nk(e[0]):[];for(var i=-1,o=eb(n);++i<n;)for(var a=e[i],s=-1;++s<n;)s!=i&&(o[i]=rD(o[i]||a,e[s],t,r));return nk(rK(o,1),t,r)}function nx(e,t,r){for(var i=-1,o=e.length,a=t.length,s={};++i<o;){var u=i<a?t[i]:n;r(s,e[i],u)}return s}function nP(e){return oF(e)?e:[]}function nO(e){return"function"==typeof e?e:aF}function nB(e,t){return oL(e)?e:iA(e,t)?[e]:iD(o7(e))}function nC(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:nm(e,t,r)}var nR=e7||function(e){return e5.clearTimeout(e)};function nM(e,t){if(t)return e.slice();var r=e.length,n=eW?eW(r):new e.constructor(r);return e.copy(n),n}function nL(e){var t=new e.constructor(e.byteLength);return new ej(t).set(new ej(e)),t}function nN(e,t){var r=t?nL(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function nD(e,t){if(e!==t){var r=e!==n,i=null===e,o=e==e,a=oJ(e),s=t!==n,u=null===t,l=t==t,c=oJ(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||i&&s&&l||!r&&l||!o)return 1;if(!i&&!a&&!c&&e<t||c&&r&&o&&!i&&!a||u&&r&&o||!s&&o||!l)return -1}return 0}function nF(e,t,r,n){for(var i=-1,o=e.length,a=r.length,s=-1,u=t.length,l=t2(o-a,0),c=eb(u+l),d=!n;++s<u;)c[s]=t[s];for(;++i<a;)(d||i<o)&&(c[r[i]]=e[i]);for(;l--;)c[s++]=e[i++];return c}function nq(e,t,r,n){for(var i=-1,o=e.length,a=-1,s=r.length,u=-1,l=t.length,c=t2(o-s,0),d=eb(c+l),p=!n;++i<c;)d[i]=e[i];for(var f=i;++u<l;)d[f+u]=t[u];for(;++a<s;)(p||i<o)&&(d[f+r[a]]=e[i++]);return d}function nU(e,t){var r=-1,n=e.length;for(t||(t=eb(n));++r<n;)t[r]=e[r];return t}function nj(e,t,r,i){var o=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var u=t[a],l=i?i(r[u],e[u],u,r,e):n;l===n&&(l=e[u]),o?rB(r,u,l):rT(r,u,l)}return r}function nW(e,t){return function(r,n){var i=oL(r)?tu:rP,o=t?t():{};return i(r,e,ic(n,2),o)}}function nK(e){return nd(function(t,r){var i=-1,o=r.length,a=o>1?r[o-1]:n,s=o>2?r[2]:n;for(a=e.length>3&&"function"==typeof a?(o--,a):n,s&&ik(r[0],r[1],s)&&(a=o<3?n:a,o=1),t=eA(t);++i<o;){var u=r[i];u&&e(t,u,i,a)}return t})}function nz(e,t){return function(r,n){if(null==r)return r;if(!oD(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=eA(r);(t?o--:++o<i)&&!1!==n(a[o],o,a););return r}}function nV(e){return function(t,r,n){for(var i=-1,o=eA(t),a=n(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===r(o[u],u,o))break}return t}}function nH(e){return function(t){var r=tU(t=o7(t))?tH(t):n,i=r?r[0]:t.charAt(0),o=r?nC(r,1).join(""):t.slice(1);return i[e]()+o}}function nG(e){return function(t){return tg(aC(aS(t).replace(ez,"")),e,"")}}function n$(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=rm(e.prototype),n=e.apply(r,t);return oV(n)?n:r}}function nX(e){return function(t,r,i){var o=eA(t);if(!oD(t)){var a=ic(r,3);t=ap(t),r=function(e){return a(o[e],e,o)}}var s=e(t,r,i);return s>-1?o[a?t[s]:s]:n}}function nZ(e){return ii(function(t){var r=t.length,o=r,a=ry.prototype.thru;for(e&&t.reverse();o--;){var s=t[o];if("function"!=typeof s)throw new eE(i);if(a&&!u&&"wrapper"==iu(s))var u=new ry([],!0)}for(o=u?o:r;++o<r;){var l=iu(s=t[o]),c="wrapper"==l?is(s):n;u=c&&iS(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[iu(c[0])].apply(u,c[3]):1==s.length&&iS(s)?u[l]():u.thru(s)}return function(){var e=arguments,n=e[0];if(u&&1==e.length&&oL(n))return u.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}})}function nQ(e,t,r,i,o,a,s,u,l,c){var d=128&t,p=1&t,f=2&t,h=24&t,m=512&t,g=f?n:n$(e);return function y(){for(var b=arguments.length,_=eb(b),w=b;w--;)_[w]=arguments[w];if(h)var v=il(y),k=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(_,v);if(i&&(_=nF(_,i,o,h)),a&&(_=nq(_,a,s,h)),b-=k,h&&b<c){var A=tK(_,v);return n4(e,t,nQ,y.placeholder,r,_,A,u,l,c-b)}var S=p?r:this,I=f?S[e]:e;return b=_.length,u?_=function(e,t){for(var r=e.length,i=t6(t.length,r),o=nU(e);i--;){var a=t[i];e[i]=iv(a,r)?o[a]:n}return e}(_,u):m&&b>1&&_.reverse(),d&&l<b&&(_.length=l),this&&this!==e5&&this instanceof y&&(I=g||n$(I)),I.apply(S,_)}}function nY(e,t){return function(r,n){var i,o;return i=t(n),o={},rH(r,function(t,r,n){e(o,i(t),r,n)}),o}}function nJ(e,t){return function(r,i){var o;if(r===n&&i===n)return t;if(r!==n&&(o=r),i!==n){if(o===n)return i;"string"==typeof r||"string"==typeof i?(r=nv(r),i=nv(i)):(r=nw(r),i=nw(i)),o=e(r,i)}return o}}function n1(e){return ii(function(t){return t=th(t,tC(ic())),nd(function(r){var n=this;return e(t,function(e){return ts(e,n,r)})})})}function n0(e,t){var r=(t=t===n?" ":nv(t)).length;if(r<2)return r?nc(t,e):t;var i=nc(t,tT(e/tV(t)));return tU(t)?nC(tH(i),0,e).join(""):i.slice(0,e)}function n2(e){return function(t,r,i){return i&&"number"!=typeof i&&ik(t,r,i)&&(r=i=n),t=o4(t),r===n?(r=t,t=0):r=o4(r),i=i===n?t<r?1:-1:o4(i),function(e,t,r,n){for(var i=-1,o=t2(tT((t-e)/(r||1)),0),a=eb(o);o--;)a[n?o:++i]=e,e+=r;return a}(t,r,i,e)}}function n6(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=o3(t),r=o3(r)),e(t,r)}}function n4(e,t,r,i,o,a,s,u,l,c){var d=8&t,p=d?s:n,f=d?n:s,h=d?a:n,m=d?n:a;t|=d?32:64,4&(t&=~(d?64:32))||(t&=-4);var g=[e,t,o,h,p,m,f,u,l,c],y=r.apply(n,g);return iS(e)&&iB(y,g),y.placeholder=i,iM(y,e,t)}function n5(e){var t=ek[e];return function(e,r){if(e=o3(e),(r=null==r?0:t6(o5(r),292))&&tJ(e)){var n=(o7(e)+"e").split("e");return+((n=(o7(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var n8=rt&&1/tz(new rt([,-0]))[1]==s?function(e){return new rt(e)}:aK;function n3(e){return function(t){var r,n,i=iy(t);return i==y?tj(t):i==k?(r=-1,n=Array(t.size),t.forEach(function(e){n[++r]=[e,e]}),n):th(e(t),function(e){return[e,t[e]]})}}function n9(e,t,r,o,s,u,l,c){var d=2&t;if(!d&&"function"!=typeof e)throw new eE(i);var p=o?o.length:0;if(p||(t&=-97,o=s=n),l=l===n?l:t2(o5(l),0),c=c===n?c:o5(c),p-=s?s.length:0,64&t){var f=o,h=s;o=s=n}var m=d?n:is(e),g=[e,t,r,o,s,f,h,u,l,c];if(m&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,s=128==n&&8==r||128==n&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(o||s){1&n&&(e[2]=t[2],i|=1&r?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?nF(l,u,t[4]):u,e[4]=l?tK(e[3],a):t[4]}(u=t[5])&&(l=e[5],e[5]=l?nq(l,u,t[6]):u,e[6]=l?tK(e[5],a):t[6]),(u=t[7])&&(e[7]=u),128&n&&(e[8]=null==e[8]?t[8]:t6(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}}(g,m),e=g[0],t=g[1],r=g[2],o=g[3],s=g[4],(c=g[9]=g[9]===n?d?0:e.length:t2(g[9]-p,0))||!(24&t)||(t&=-25),t&&1!=t)8==t||16==t?(y=e,b=t,_=c,w=n$(y),C=function e(){for(var t=arguments.length,r=eb(t),i=t,o=il(e);i--;)r[i]=arguments[i];var a=t<3&&r[0]!==o&&r[t-1]!==o?[]:tK(r,o);return(t-=a.length)<_?n4(y,b,nQ,e.placeholder,n,r,a,n,n,_-t):ts(this&&this!==e5&&this instanceof e?w:y,this,r)}):32!=t&&33!=t||s.length?C=nQ.apply(n,g):(v=e,k=t,A=r,S=o,I=1&k,E=n$(v),C=function e(){for(var t=-1,r=arguments.length,n=-1,i=S.length,o=eb(i+r),a=this&&this!==e5&&this instanceof e?E:v;++n<i;)o[n]=S[n];for(;r--;)o[n++]=arguments[++t];return ts(a,I?A:this,o)});else var y,b,_,w,v,k,A,S,I,E,T,x,P,O,B,C=(T=e,x=t,P=r,O=1&x,B=n$(T),function e(){return(this&&this!==e5&&this instanceof e?B:T).apply(O?P:this,arguments)});return iM((m?nf:iB)(C,g),e,t)}function n7(e,t,r,i){return e===n||oB(e,eP[r])&&!eC.call(i,r)?t:e}function ie(e,t,r,i,o,a){return oV(e)&&oV(t)&&(a.set(t,e),nn(e,t,n,ie,a),a.delete(t)),e}function it(e){return oX(e)?n:e}function ir(e,t,r,i,o,a){var s=1&r,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(e),d=a.get(t);if(c&&d)return c==t&&d==e;var p=-1,f=!0,h=2&r?new rk:n;for(a.set(e,t),a.set(t,e);++p<u;){var m=e[p],g=t[p];if(i)var y=s?i(g,m,p,t,e,a):i(m,g,p,e,t,a);if(y!==n){if(y)continue;f=!1;break}if(h){if(!tb(t,function(e,t){if(!tM(h,t)&&(m===e||o(m,e,r,i,a)))return h.push(t)})){f=!1;break}}else if(!(m===g||o(m,g,r,i,a))){f=!1;break}}return a.delete(e),a.delete(t),f}function ii(e){return iR(ix(e,n,iH),e+"")}function io(e){return rZ(e,ap,im)}function ia(e){return rZ(e,af,ig)}var is=ri?function(e){return ri.get(e)}:aK;function iu(e){for(var t=e.name+"",r=ro[t],n=eC.call(ro,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function il(e){return(eC.call(rh,"placeholder")?rh:e).placeholder}function ic(){var e=rh.iteratee||aq;return e=e===aq?r3:e,arguments.length?e(arguments[0],arguments[1]):e}function id(e,t){var r,n=e.__data__;return("string"==(r=typeof t)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}function ip(e){for(var t=ap(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,i==i&&!oV(i)]}return t}function ih(e,t){var r=null==e?n:e[t];return r8(r)?r:n}var im=tQ?function(e){return null==e?[]:td(tQ(e=eA(e)),function(t){return e$.call(e,t)})}:aZ,ig=tQ?function(e){for(var t=[];e;)tm(t,im(e)),e=eK(e);return t}:aZ,iy=rQ;function ib(e,t,r){t=nB(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var a=iF(t[n]);if(!(o=null!=e&&r(e,a)))break;e=e[a]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&oz(i)&&iv(a,i)&&(oL(e)||oM(e))}function i_(e){return"function"!=typeof e.constructor||iE(e)?{}:rm(eK(e))}function iw(e){return oL(e)||oM(e)||!!(e6&&e&&e[e6])}function iv(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&ef.test(e))&&e>-1&&e%1==0&&e<t}function ik(e,t,r){if(!oV(r))return!1;var n=typeof t;return("number"==n?!!(oD(r)&&iv(t,r.length)):"string"==n&&t in r)&&oB(r[t],e)}function iA(e,t){if(oL(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||oJ(e))||$.test(e)||!G.test(e)||null!=t&&e in eA(t)}function iS(e){var t=iu(e),r=rh[t];if("function"!=typeof r||!(t in rb.prototype))return!1;if(e===r)return!0;var n=is(r);return!!n&&e===n[0]}(t9&&iy(new t9(new ArrayBuffer(1)))!=T||t7&&iy(new t7)!=y||re&&iy(re.resolve())!=w||rt&&iy(new rt)!=k||rr&&iy(new rr)!=I)&&(iy=function(e){var t=rQ(e),r=t==_?e.constructor:n,i=r?iq(r):"";if(i)switch(i){case ra:return T;case rs:return y;case ru:return w;case rl:return k;case rc:return I}return t});var iI=eO?oW:aQ;function iE(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||eP)}function iT(e,t){return function(r){return null!=r&&r[e]===t&&(t!==n||e in eA(r))}}function ix(e,t,r){return t=t2(t===n?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=t2(n.length-t,0),a=eb(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=eb(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),ts(e,this,s)}}function iP(e,t){return t.length<2?e:rX(e,nm(t,0,-1))}function iO(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var iB=iL(nf),iC=t_||function(e,t){return e5.setTimeout(e,t)},iR=iL(nh);function iM(e,t,r){var n,i,o=t+"";return iR(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ee,"{\n/* [wrapped with "+t+"] */\n")}(o,(n=(i=o.match(et))?i[1].split(er):[],tl(l,function(e){var t="_."+e[0];r&e[1]&&!tp(n,t)&&n.push(t)}),n.sort())))}function iL(e){var t=0,r=0;return function(){var i=t4(),o=16-(i-r);if(r=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function iN(e,t){var r=-1,i=e.length,o=i-1;for(t=t===n?i:t;++r<t;){var a=nl(r,o),s=e[a];e[a]=e[r],e[r]=s}return e.length=t,e}var iD=(ec=(J=oI(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(X,function(e,r,n,i){t.push(n?i.replace(eo,"$1"):r||e)}),t},function(e){return 500===ec.size&&ec.clear(),e})).cache,J);function iF(e){if("string"==typeof e||oJ(e))return e;var t=e+"";return"0"==t&&1/e==-s?"-0":t}function iq(e){if(null!=e){try{return eB.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function iU(e){if(e instanceof rb)return e.clone();var t=new ry(e.__wrapped__,e.__chain__);return t.__actions__=nU(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ij=nd(function(e,t){return oF(e)?rD(e,rK(t,1,oF,!0)):[]}),iW=nd(function(e,t){var r=iQ(t);return oF(r)&&(r=n),oF(e)?rD(e,rK(t,1,oF,!0),ic(r,2)):[]}),iK=nd(function(e,t){var r=iQ(t);return oF(r)&&(r=n),oF(e)?rD(e,rK(t,1,oF,!0),n,r):[]});function iz(e,t,r){var n=null==e?0:e.length;if(!n)return -1;var i=null==r?0:o5(r);return i<0&&(i=t2(n+i,0)),tv(e,ic(t,3),i)}function iV(e,t,r){var i=null==e?0:e.length;if(!i)return -1;var o=i-1;return r!==n&&(o=o5(r),o=r<0?t2(i+o,0):t6(o,i-1)),tv(e,ic(t,3),o,!0)}function iH(e){return(null==e?0:e.length)?rK(e,1):[]}function iG(e){return e&&e.length?e[0]:n}var i$=nd(function(e){var t=th(e,nP);return t.length&&t[0]===e[0]?r0(t):[]}),iX=nd(function(e){var t=iQ(e),r=th(e,nP);return t===iQ(r)?t=n:r.pop(),r.length&&r[0]===e[0]?r0(r,ic(t,2)):[]}),iZ=nd(function(e){var t=iQ(e),r=th(e,nP);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?r0(r,n,t):[]});function iQ(e){var t=null==e?0:e.length;return t?e[t-1]:n}var iY=nd(iJ);function iJ(e,t){return e&&e.length&&t&&t.length?ns(e,t):e}var i1=ii(function(e,t){var r=null==e?0:e.length,n=rC(e,t);return nu(e,th(t,function(e){return iv(e,r)?+e:e}).sort(nD)),n});function i0(e){return null==e?e:t3.call(e)}var i2=nd(function(e){return nk(rK(e,1,oF,!0))}),i6=nd(function(e){var t=iQ(e);return oF(t)&&(t=n),nk(rK(e,1,oF,!0),ic(t,2))}),i4=nd(function(e){var t=iQ(e);return t="function"==typeof t?t:n,nk(rK(e,1,oF,!0),n,t)});function i5(e){if(!(e&&e.length))return[];var t=0;return e=td(e,function(e){if(oF(e))return t=t2(e.length,t),!0}),tO(t,function(t){return th(e,tE(t))})}function i8(e,t){if(!(e&&e.length))return[];var r=i5(e);return null==t?r:th(r,function(e){return ts(t,n,e)})}var i3=nd(function(e,t){return oF(e)?rD(e,t):[]}),i9=nd(function(e){return nT(td(e,oF))}),i7=nd(function(e){var t=iQ(e);return oF(t)&&(t=n),nT(td(e,oF),ic(t,2))}),oe=nd(function(e){var t=iQ(e);return t="function"==typeof t?t:n,nT(td(e,oF),n,t)}),ot=nd(i5),or=nd(function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,i8(e,r)});function on(e){var t=rh(e);return t.__chain__=!0,t}function oi(e,t){return t(e)}var oo=ii(function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,o=function(t){return rC(t,e)};return!(t>1)&&!this.__actions__.length&&i instanceof rb&&iv(r)?((i=i.slice(r,+r+(t?1:0))).__actions__.push({func:oi,args:[o],thisArg:n}),new ry(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(n),e})):this.thru(o)}),oa=nW(function(e,t,r){eC.call(e,r)?++e[r]:rB(e,r,1)}),os=nX(iz),ou=nX(iV);function ol(e,t){return(oL(e)?tl:rF)(e,ic(t,3))}function oc(e,t){return(oL(e)?function(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}:rq)(e,ic(t,3))}var od=nW(function(e,t,r){eC.call(e,r)?e[r].push(t):rB(e,r,[t])}),op=nd(function(e,t,r){var n=-1,i="function"==typeof t,o=oD(e)?eb(e.length):[];return rF(e,function(e){o[++n]=i?ts(t,e,r):r2(e,t,r)}),o}),of=nW(function(e,t,r){rB(e,r,t)});function oh(e,t){return(oL(e)?th:ne)(e,ic(t,3))}var om=nW(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]}),og=nd(function(e,t){if(null==e)return[];var r=t.length;return r>1&&ik(e,t[0],t[1])?t=[]:r>2&&ik(t[0],t[1],t[2])&&(t=[t[0]]),no(e,rK(t,1),[])}),oy=te||function(){return e5.Date.now()};function ob(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,n9(e,128,n,n,n,n,t)}function o_(e,t){var r;if("function"!=typeof t)throw new eE(i);return e=o5(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=n),r}}var ow=nd(function(e,t,r){var n=1;if(r.length){var i=tK(r,il(ow));n|=32}return n9(e,n,t,r,i)}),ov=nd(function(e,t,r){var n=3;if(r.length){var i=tK(r,il(ov));n|=32}return n9(t,n,e,r,i)});function ok(e,t,r){var o,a,s,u,l,c,d=0,p=!1,f=!1,h=!0;if("function"!=typeof e)throw new eE(i);function m(t){var r=o,i=a;return o=a=n,d=t,u=e.apply(i,r)}function g(e){var r=e-c,i=e-d;return c===n||r>=t||r<0||f&&i>=s}function y(){var e,r,n,i=oy();if(g(i))return b(i);l=iC(y,(e=i-c,r=i-d,n=t-e,f?t6(n,s-r):n))}function b(e){return(l=n,h&&o)?m(e):(o=a=n,u)}function _(){var e,r=oy(),i=g(r);if(o=arguments,a=this,c=r,i){if(l===n)return d=e=c,l=iC(y,t),p?m(e):u;if(f)return nR(l),l=iC(y,t),m(c)}return l===n&&(l=iC(y,t)),u}return t=o3(t)||0,oV(r)&&(p=!!r.leading,s=(f="maxWait"in r)?t2(o3(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h),_.cancel=function(){l!==n&&nR(l),d=0,o=c=a=l=n},_.flush=function(){return l===n?u:b(oy())},_}var oA=nd(function(e,t){return rN(e,1,t)}),oS=nd(function(e,t,r){return rN(e,o3(t)||0,r)});function oI(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new eE(i);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(oI.Cache||rv),r}function oE(e){if("function"!=typeof e)throw new eE(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}oI.Cache=rv;var oT=nd(function(e,t){var r=(t=1==t.length&&oL(t[0])?th(t[0],tC(ic())):th(rK(t,1),tC(ic()))).length;return nd(function(n){for(var i=-1,o=t6(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return ts(e,this,n)})}),ox=nd(function(e,t){var r=tK(t,il(ox));return n9(e,32,n,t,r)}),oP=nd(function(e,t){var r=tK(t,il(oP));return n9(e,64,n,t,r)}),oO=ii(function(e,t){return n9(e,256,n,n,n,t)});function oB(e,t){return e===t||e!=e&&t!=t}var oC=n6(rY),oR=n6(function(e,t){return e>=t}),oM=r6(function(){return arguments}())?r6:function(e){return oH(e)&&eC.call(e,"callee")&&!e$.call(e,"callee")},oL=eb.isArray,oN=tt?tC(tt):function(e){return oH(e)&&rQ(e)==E};function oD(e){return null!=e&&oz(e.length)&&!oW(e)}function oF(e){return oH(e)&&oD(e)}var oq=tY||aQ,oU=tr?tC(tr):function(e){return oH(e)&&rQ(e)==f};function oj(e){if(!oH(e))return!1;var t=rQ(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!oX(e)}function oW(e){if(!oV(e))return!1;var t=rQ(e);return t==m||t==g||"[object AsyncFunction]"==t||"[object Proxy]"==t}function oK(e){return"number"==typeof e&&e==o5(e)}function oz(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function oV(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function oH(e){return null!=e&&"object"==typeof e}var oG=tn?tC(tn):function(e){return oH(e)&&iy(e)==y};function o$(e){return"number"==typeof e||oH(e)&&rQ(e)==b}function oX(e){if(!oH(e)||rQ(e)!=_)return!1;var t=eK(e);if(null===t)return!0;var r=eC.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&eB.call(r)==eN}var oZ=ti?tC(ti):function(e){return oH(e)&&rQ(e)==v},oQ=to?tC(to):function(e){return oH(e)&&iy(e)==k};function oY(e){return"string"==typeof e||!oL(e)&&oH(e)&&rQ(e)==A}function oJ(e){return"symbol"==typeof e||oH(e)&&rQ(e)==S}var o1=ta?tC(ta):function(e){return oH(e)&&oz(e.length)&&!!eY[rQ(e)]},o0=n6(r7),o2=n6(function(e,t){return e<=t});function o6(e){if(!e)return[];if(oD(e))return oY(e)?tH(e):nU(e);if(e4&&e[e4])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[e4]());var t=iy(e);return(t==y?tj:t==k?tz:av)(e)}function o4(e){return e?(e=o3(e))===s||e===-s?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}function o5(e){var t=o4(e),r=t%1;return t==t?r?t-r:t:0}function o8(e){return e?rR(o5(e),0,4294967295):0}function o3(e){if("number"==typeof e)return e;if(oJ(e))return u;if(oV(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=oV(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=tB(e);var r=el.test(e);return r||ep.test(e)?e2(e.slice(2),r?2:8):eu.test(e)?u:+e}function o9(e){return nj(e,af(e))}function o7(e){return null==e?"":nv(e)}var ae=nK(function(e,t){if(iE(t)||oD(t)){nj(t,ap(t),e);return}for(var r in t)eC.call(t,r)&&rT(e,r,t[r])}),at=nK(function(e,t){nj(t,af(t),e)}),ar=nK(function(e,t,r,n){nj(t,af(t),e,n)}),an=nK(function(e,t,r,n){nj(t,ap(t),e,n)}),ai=ii(rC),ao=nd(function(e,t){e=eA(e);var r=-1,i=t.length,o=i>2?t[2]:n;for(o&&ik(t[0],t[1],o)&&(i=1);++r<i;)for(var a=t[r],s=af(a),u=-1,l=s.length;++u<l;){var c=s[u],d=e[c];(d===n||oB(d,eP[c])&&!eC.call(e,c))&&(e[c]=a[c])}return e}),aa=nd(function(e){return e.push(n,ie),ts(am,n,e)});function as(e,t,r){var i=null==e?n:rX(e,t);return i===n?r:i}function au(e,t){return null!=e&&ib(e,t,r1)}var al=nY(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=eL.call(t)),e[t]=r},aL(aF)),ac=nY(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=eL.call(t)),eC.call(e,t)?e[t].push(r):e[t]=[r]},ic),ad=nd(r2);function ap(e){return oD(e)?rS(e):r9(e)}function af(e){return oD(e)?rS(e,!0):function(e){if(!oV(e))return function(e){var t=[];if(null!=e)for(var r in eA(e))t.push(r);return t}(e);var t=iE(e),r=[];for(var n in e)"constructor"==n&&(t||!eC.call(e,n))||r.push(n);return r}(e)}var ah=nK(function(e,t,r){nn(e,t,r)}),am=nK(function(e,t,r,n){nn(e,t,r,n)}),ag=ii(function(e,t){var r={};if(null==e)return r;var n=!1;t=th(t,function(t){return t=nB(t,e),n||(n=t.length>1),t}),nj(e,ia(e),r),n&&(r=rM(r,7,it));for(var i=t.length;i--;)nA(r,t[i]);return r}),ay=ii(function(e,t){return null==e?{}:na(e,t,function(t,r){return au(e,r)})});function ab(e,t){if(null==e)return{};var r=th(ia(e),function(e){return[e]});return t=ic(t),na(e,r,function(e,r){return t(e,r[0])})}var a_=n3(ap),aw=n3(af);function av(e){return null==e?[]:tR(e,ap(e))}var ak=nG(function(e,t,r){return t=t.toLowerCase(),e+(r?aA(t):t)});function aA(e){return aB(o7(e).toLowerCase())}function aS(e){return(e=o7(e))&&e.replace(eh,tD).replace(eV,"")}var aI=nG(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),aE=nG(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),aT=nH("toLowerCase"),ax=nG(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),aP=nG(function(e,t,r){return e+(r?" ":"")+aB(t)}),aO=nG(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),aB=nH("toUpperCase");function aC(e,t,r){if(e=o7(e),(t=r?n:t)===n){var i;return(i=e,eX.test(i))?e.match(eG)||[]:e.match(en)||[]}return e.match(t)||[]}var aR=nd(function(e,t){try{return ts(e,n,t)}catch(e){return oj(e)?e:new ew(e)}}),aM=ii(function(e,t){return tl(t,function(t){rB(e,t=iF(t),ow(e[t],e))}),e});function aL(e){return function(){return e}}var aN=nZ(),aD=nZ(!0);function aF(e){return e}function aq(e){return r3("function"==typeof e?e:rM(e,1))}var aU=nd(function(e,t){return function(r){return r2(r,e,t)}}),aj=nd(function(e,t){return function(r){return r2(e,r,t)}});function aW(e,t,r){var n=ap(t),i=r$(t,n);null!=r||oV(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=r$(t,ap(t)));var o=!(oV(r)&&"chain"in r)||!!r.chain,a=oW(e);return tl(i,function(r){var n=t[r];e[r]=n,a&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__);return(r.__actions__=nU(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,tm([this.value()],arguments))})}),e}function aK(){}var az=n1(th),aV=n1(tc),aH=n1(tb);function aG(e){return iA(e)?tE(iF(e)):function(t){return rX(t,e)}}var a$=n2(),aX=n2(!0);function aZ(){return[]}function aQ(){return!1}var aY=nJ(function(e,t){return e+t},0),aJ=n5("ceil"),a1=nJ(function(e,t){return e/t},1),a0=n5("floor"),a2=nJ(function(e,t){return e*t},1),a6=n5("round"),a4=nJ(function(e,t){return e-t},0);return rh.after=function(e,t){if("function"!=typeof t)throw new eE(i);return e=o5(e),function(){if(--e<1)return t.apply(this,arguments)}},rh.ary=ob,rh.assign=ae,rh.assignIn=at,rh.assignInWith=ar,rh.assignWith=an,rh.at=ai,rh.before=o_,rh.bind=ow,rh.bindAll=aM,rh.bindKey=ov,rh.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return oL(e)?e:[e]},rh.chain=on,rh.chunk=function(e,t,r){t=(r?ik(e,t,r):t===n)?1:t2(o5(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,a=0,s=eb(tT(i/t));o<i;)s[a++]=nm(e,o,o+=t);return s},rh.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},rh.concat=function(){var e=arguments.length;if(!e)return[];for(var t=eb(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return tm(oL(r)?nU(r):[r],rK(t,1))},rh.cond=function(e){var t=null==e?0:e.length,r=ic();return e=t?th(e,function(e){if("function"!=typeof e[1])throw new eE(i);return[r(e[0]),e[1]]}):[],nd(function(r){for(var n=-1;++n<t;){var i=e[n];if(ts(i[0],this,r))return ts(i[1],this,r)}})},rh.conforms=function(e){var t,r;return r=ap(t=rM(e,1)),function(e){return rL(e,t,r)}},rh.constant=aL,rh.countBy=oa,rh.create=function(e,t){var r=rm(e);return null==t?r:rO(r,t)},rh.curry=function e(t,r,i){r=i?n:r;var o=n9(t,8,n,n,n,n,n,r);return o.placeholder=e.placeholder,o},rh.curryRight=function e(t,r,i){r=i?n:r;var o=n9(t,16,n,n,n,n,n,r);return o.placeholder=e.placeholder,o},rh.debounce=ok,rh.defaults=ao,rh.defaultsDeep=aa,rh.defer=oA,rh.delay=oS,rh.difference=ij,rh.differenceBy=iW,rh.differenceWith=iK,rh.drop=function(e,t,r){var i=null==e?0:e.length;return i?nm(e,(t=r||t===n?1:o5(t))<0?0:t,i):[]},rh.dropRight=function(e,t,r){var i=null==e?0:e.length;return i?nm(e,0,(t=i-(t=r||t===n?1:o5(t)))<0?0:t):[]},rh.dropRightWhile=function(e,t){return e&&e.length?nI(e,ic(t,3),!0,!0):[]},rh.dropWhile=function(e,t){return e&&e.length?nI(e,ic(t,3),!0):[]},rh.fill=function(e,t,r,i){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&ik(e,t,r)&&(r=0,i=o),function(e,t,r,i){var o=e.length;for((r=o5(r))<0&&(r=-r>o?0:o+r),(i=i===n||i>o?o:o5(i))<0&&(i+=o),i=r>i?0:o8(i);r<i;)e[r++]=t;return e}(e,t,r,i)):[]},rh.filter=function(e,t){return(oL(e)?td:rW)(e,ic(t,3))},rh.flatMap=function(e,t){return rK(oh(e,t),1)},rh.flatMapDeep=function(e,t){return rK(oh(e,t),s)},rh.flatMapDepth=function(e,t,r){return r=r===n?1:o5(r),rK(oh(e,t),r)},rh.flatten=iH,rh.flattenDeep=function(e){return(null==e?0:e.length)?rK(e,s):[]},rh.flattenDepth=function(e,t){return(null==e?0:e.length)?rK(e,t=t===n?1:o5(t)):[]},rh.flip=function(e){return n9(e,512)},rh.flow=aN,rh.flowRight=aD,rh.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},rh.functions=function(e){return null==e?[]:r$(e,ap(e))},rh.functionsIn=function(e){return null==e?[]:r$(e,af(e))},rh.groupBy=od,rh.initial=function(e){return(null==e?0:e.length)?nm(e,0,-1):[]},rh.intersection=i$,rh.intersectionBy=iX,rh.intersectionWith=iZ,rh.invert=al,rh.invertBy=ac,rh.invokeMap=op,rh.iteratee=aq,rh.keyBy=of,rh.keys=ap,rh.keysIn=af,rh.map=oh,rh.mapKeys=function(e,t){var r={};return t=ic(t,3),rH(e,function(e,n,i){rB(r,t(e,n,i),e)}),r},rh.mapValues=function(e,t){var r={};return t=ic(t,3),rH(e,function(e,n,i){rB(r,n,t(e,n,i))}),r},rh.matches=function(e){return nt(rM(e,1))},rh.matchesProperty=function(e,t){return nr(e,rM(t,1))},rh.memoize=oI,rh.merge=ah,rh.mergeWith=am,rh.method=aU,rh.methodOf=aj,rh.mixin=aW,rh.negate=oE,rh.nthArg=function(e){return e=o5(e),nd(function(t){return ni(t,e)})},rh.omit=ag,rh.omitBy=function(e,t){return ab(e,oE(ic(t)))},rh.once=function(e){return o_(2,e)},rh.orderBy=function(e,t,r,i){return null==e?[]:(oL(t)||(t=null==t?[]:[t]),oL(r=i?n:r)||(r=null==r?[]:[r]),no(e,t,r))},rh.over=az,rh.overArgs=oT,rh.overEvery=aV,rh.overSome=aH,rh.partial=ox,rh.partialRight=oP,rh.partition=om,rh.pick=ay,rh.pickBy=ab,rh.property=aG,rh.propertyOf=function(e){return function(t){return null==e?n:rX(e,t)}},rh.pull=iY,rh.pullAll=iJ,rh.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?ns(e,t,ic(r,2)):e},rh.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?ns(e,t,n,r):e},rh.pullAt=i1,rh.range=a$,rh.rangeRight=aX,rh.rearg=oO,rh.reject=function(e,t){return(oL(e)?td:rW)(e,oE(ic(t,3)))},rh.remove=function(e,t){var r=[];if(!(e&&e.length))return r;var n=-1,i=[],o=e.length;for(t=ic(t,3);++n<o;){var a=e[n];t(a,n,e)&&(r.push(a),i.push(n))}return nu(e,i),r},rh.rest=function(e,t){if("function"!=typeof e)throw new eE(i);return nd(e,t=t===n?t:o5(t))},rh.reverse=i0,rh.sampleSize=function(e,t,r){return t=(r?ik(e,t,r):t===n)?1:o5(t),(oL(e)?function(e,t){return iN(nU(e),rR(t,0,e.length))}:function(e,t){var r=av(e);return iN(r,rR(t,0,r.length))})(e,t)},rh.set=function(e,t,r){return null==e?e:np(e,t,r)},rh.setWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:np(e,t,r,i)},rh.shuffle=function(e){return(oL(e)?function(e){return iN(nU(e))}:function(e){return iN(av(e))})(e)},rh.slice=function(e,t,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&ik(e,t,r)?(t=0,r=i):(t=null==t?0:o5(t),r=r===n?i:o5(r)),nm(e,t,r)):[]},rh.sortBy=og,rh.sortedUniq=function(e){return e&&e.length?n_(e):[]},rh.sortedUniqBy=function(e,t){return e&&e.length?n_(e,ic(t,2)):[]},rh.split=function(e,t,r){return(r&&"number"!=typeof r&&ik(e,t,r)&&(t=r=n),r=r===n?4294967295:r>>>0)?(e=o7(e))&&("string"==typeof t||null!=t&&!oZ(t))&&!(t=nv(t))&&tU(e)?nC(tH(e),0,r):e.split(t,r):[]},rh.spread=function(e,t){if("function"!=typeof e)throw new eE(i);return t=null==t?0:t2(o5(t),0),nd(function(r){var n=r[t],i=nC(r,0,t);return n&&tm(i,n),ts(e,this,i)})},rh.tail=function(e){var t=null==e?0:e.length;return t?nm(e,1,t):[]},rh.take=function(e,t,r){return e&&e.length?nm(e,0,(t=r||t===n?1:o5(t))<0?0:t):[]},rh.takeRight=function(e,t,r){var i=null==e?0:e.length;return i?nm(e,(t=i-(t=r||t===n?1:o5(t)))<0?0:t,i):[]},rh.takeRightWhile=function(e,t){return e&&e.length?nI(e,ic(t,3),!1,!0):[]},rh.takeWhile=function(e,t){return e&&e.length?nI(e,ic(t,3)):[]},rh.tap=function(e,t){return t(e),e},rh.throttle=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new eE(i);return oV(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),ok(e,t,{leading:n,maxWait:t,trailing:o})},rh.thru=oi,rh.toArray=o6,rh.toPairs=a_,rh.toPairsIn=aw,rh.toPath=function(e){return oL(e)?th(e,iF):oJ(e)?[e]:nU(iD(o7(e)))},rh.toPlainObject=o9,rh.transform=function(e,t,r){var n=oL(e),i=n||oq(e)||o1(e);if(t=ic(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:oV(e)&&oW(o)?rm(eK(e)):{}}return(i?tl:rH)(e,function(e,n,i){return t(r,e,n,i)}),r},rh.unary=function(e){return ob(e,1)},rh.union=i2,rh.unionBy=i6,rh.unionWith=i4,rh.uniq=function(e){return e&&e.length?nk(e):[]},rh.uniqBy=function(e,t){return e&&e.length?nk(e,ic(t,2)):[]},rh.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?nk(e,n,t):[]},rh.unset=function(e,t){return null==e||nA(e,t)},rh.unzip=i5,rh.unzipWith=i8,rh.update=function(e,t,r){return null==e?e:nS(e,t,nO(r))},rh.updateWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:nS(e,t,nO(r),i)},rh.values=av,rh.valuesIn=function(e){return null==e?[]:tR(e,af(e))},rh.without=i3,rh.words=aC,rh.wrap=function(e,t){return ox(nO(t),e)},rh.xor=i9,rh.xorBy=i7,rh.xorWith=oe,rh.zip=ot,rh.zipObject=function(e,t){return nx(e||[],t||[],rT)},rh.zipObjectDeep=function(e,t){return nx(e||[],t||[],np)},rh.zipWith=or,rh.entries=a_,rh.entriesIn=aw,rh.extend=at,rh.extendWith=ar,aW(rh,rh),rh.add=aY,rh.attempt=aR,rh.camelCase=ak,rh.capitalize=aA,rh.ceil=aJ,rh.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=o3(r))==r?r:0),t!==n&&(t=(t=o3(t))==t?t:0),rR(o3(e),t,r)},rh.clone=function(e){return rM(e,4)},rh.cloneDeep=function(e){return rM(e,5)},rh.cloneDeepWith=function(e,t){return rM(e,5,t="function"==typeof t?t:n)},rh.cloneWith=function(e,t){return rM(e,4,t="function"==typeof t?t:n)},rh.conformsTo=function(e,t){return null==t||rL(e,t,ap(t))},rh.deburr=aS,rh.defaultTo=function(e,t){return null==e||e!=e?t:e},rh.divide=a1,rh.endsWith=function(e,t,r){e=o7(e),t=nv(t);var i=e.length,o=r=r===n?i:rR(o5(r),0,i);return(r-=t.length)>=0&&e.slice(r,o)==t},rh.eq=oB,rh.escape=function(e){return(e=o7(e))&&K.test(e)?e.replace(j,tF):e},rh.escapeRegExp=function(e){return(e=o7(e))&&Q.test(e)?e.replace(Z,"\\$&"):e},rh.every=function(e,t,r){var i=oL(e)?tc:rU;return r&&ik(e,t,r)&&(t=n),i(e,ic(t,3))},rh.find=os,rh.findIndex=iz,rh.findKey=function(e,t){return tw(e,ic(t,3),rH)},rh.findLast=ou,rh.findLastIndex=iV,rh.findLastKey=function(e,t){return tw(e,ic(t,3),rG)},rh.floor=a0,rh.forEach=ol,rh.forEachRight=oc,rh.forIn=function(e,t){return null==e?e:rz(e,ic(t,3),af)},rh.forInRight=function(e,t){return null==e?e:rV(e,ic(t,3),af)},rh.forOwn=function(e,t){return e&&rH(e,ic(t,3))},rh.forOwnRight=function(e,t){return e&&rG(e,ic(t,3))},rh.get=as,rh.gt=oC,rh.gte=oR,rh.has=function(e,t){return null!=e&&ib(e,t,rJ)},rh.hasIn=au,rh.head=iG,rh.identity=aF,rh.includes=function(e,t,r,n){e=oD(e)?e:av(e),r=r&&!n?o5(r):0;var i=e.length;return r<0&&(r=t2(i+r,0)),oY(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&tk(e,t,r)>-1},rh.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return -1;var i=null==r?0:o5(r);return i<0&&(i=t2(n+i,0)),tk(e,t,i)},rh.inRange=function(e,t,r){var i,o,a;return t=o4(t),r===n?(r=t,t=0):r=o4(r),(i=e=o3(e))>=t6(o=t,a=r)&&i<t2(o,a)},rh.invoke=ad,rh.isArguments=oM,rh.isArray=oL,rh.isArrayBuffer=oN,rh.isArrayLike=oD,rh.isArrayLikeObject=oF,rh.isBoolean=function(e){return!0===e||!1===e||oH(e)&&rQ(e)==p},rh.isBuffer=oq,rh.isDate=oU,rh.isElement=function(e){return oH(e)&&1===e.nodeType&&!oX(e)},rh.isEmpty=function(e){if(null==e)return!0;if(oD(e)&&(oL(e)||"string"==typeof e||"function"==typeof e.splice||oq(e)||o1(e)||oM(e)))return!e.length;var t=iy(e);if(t==y||t==k)return!e.size;if(iE(e))return!r9(e).length;for(var r in e)if(eC.call(e,r))return!1;return!0},rh.isEqual=function(e,t){return r4(e,t)},rh.isEqualWith=function(e,t,r){var i=(r="function"==typeof r?r:n)?r(e,t):n;return i===n?r4(e,t,n,r):!!i},rh.isError=oj,rh.isFinite=function(e){return"number"==typeof e&&tJ(e)},rh.isFunction=oW,rh.isInteger=oK,rh.isLength=oz,rh.isMap=oG,rh.isMatch=function(e,t){return e===t||r5(e,t,ip(t))},rh.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,r5(e,t,ip(t),r)},rh.isNaN=function(e){return o$(e)&&e!=+e},rh.isNative=function(e){if(iI(e))throw new ew("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return r8(e)},rh.isNil=function(e){return null==e},rh.isNull=function(e){return null===e},rh.isNumber=o$,rh.isObject=oV,rh.isObjectLike=oH,rh.isPlainObject=oX,rh.isRegExp=oZ,rh.isSafeInteger=function(e){return oK(e)&&e>=-9007199254740991&&e<=9007199254740991},rh.isSet=oQ,rh.isString=oY,rh.isSymbol=oJ,rh.isTypedArray=o1,rh.isUndefined=function(e){return e===n},rh.isWeakMap=function(e){return oH(e)&&iy(e)==I},rh.isWeakSet=function(e){return oH(e)&&"[object WeakSet]"==rQ(e)},rh.join=function(e,t){return null==e?"":t1.call(e,t)},rh.kebabCase=aI,rh.last=iQ,rh.lastIndexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return -1;var o=i;return r!==n&&(o=(o=o5(r))<0?t2(i+o,0):t6(o,i-1)),t==t?function(e,t,r){for(var n=r+1;n--&&e[n]!==t;);return n}(e,t,o):tv(e,tS,o,!0)},rh.lowerCase=aE,rh.lowerFirst=aT,rh.lt=o0,rh.lte=o2,rh.max=function(e){return e&&e.length?rj(e,aF,rY):n},rh.maxBy=function(e,t){return e&&e.length?rj(e,ic(t,2),rY):n},rh.mean=function(e){return tI(e,aF)},rh.meanBy=function(e,t){return tI(e,ic(t,2))},rh.min=function(e){return e&&e.length?rj(e,aF,r7):n},rh.minBy=function(e,t){return e&&e.length?rj(e,ic(t,2),r7):n},rh.stubArray=aZ,rh.stubFalse=aQ,rh.stubObject=function(){return{}},rh.stubString=function(){return""},rh.stubTrue=function(){return!0},rh.multiply=a2,rh.nth=function(e,t){return e&&e.length?ni(e,o5(t)):n},rh.noConflict=function(){return e5._===this&&(e5._=eD),this},rh.noop=aK,rh.now=oy,rh.pad=function(e,t,r){e=o7(e);var n=(t=o5(t))?tV(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return n0(tZ(i),r)+e+n0(tT(i),r)},rh.padEnd=function(e,t,r){e=o7(e);var n=(t=o5(t))?tV(e):0;return t&&n<t?e+n0(t-n,r):e},rh.padStart=function(e,t,r){e=o7(e);var n=(t=o5(t))?tV(e):0;return t&&n<t?n0(t-n,r)+e:e},rh.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),t5(o7(e).replace(Y,""),t||0)},rh.random=function(e,t,r){if(r&&"boolean"!=typeof r&&ik(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=o4(e),t===n?(t=e,e=0):t=o4(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var o=t8();return t6(e+o*(t-e+e0("1e-"+((o+"").length-1))),t)}return nl(e,t)},rh.reduce=function(e,t,r){var n=oL(e)?tg:tx,i=arguments.length<3;return n(e,ic(t,4),r,i,rF)},rh.reduceRight=function(e,t,r){var n=oL(e)?ty:tx,i=arguments.length<3;return n(e,ic(t,4),r,i,rq)},rh.repeat=function(e,t,r){return t=(r?ik(e,t,r):t===n)?1:o5(t),nc(o7(e),t)},rh.replace=function(){var e=arguments,t=o7(e[0]);return e.length<3?t:t.replace(e[1],e[2])},rh.result=function(e,t,r){t=nB(t,e);var i=-1,o=t.length;for(o||(o=1,e=n);++i<o;){var a=null==e?n:e[iF(t[i])];a===n&&(i=o,a=r),e=oW(a)?a.call(e):a}return e},rh.round=a6,rh.runInContext=e,rh.sample=function(e){return(oL(e)?rI:function(e){return rI(av(e))})(e)},rh.size=function(e){if(null==e)return 0;if(oD(e))return oY(e)?tV(e):e.length;var t=iy(e);return t==y||t==k?e.size:r9(e).length},rh.snakeCase=ax,rh.some=function(e,t,r){var i=oL(e)?tb:ng;return r&&ik(e,t,r)&&(t=n),i(e,ic(t,3))},rh.sortedIndex=function(e,t){return ny(e,t)},rh.sortedIndexBy=function(e,t,r){return nb(e,t,ic(r,2))},rh.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ny(e,t);if(n<r&&oB(e[n],t))return n}return -1},rh.sortedLastIndex=function(e,t){return ny(e,t,!0)},rh.sortedLastIndexBy=function(e,t,r){return nb(e,t,ic(r,2),!0)},rh.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=ny(e,t,!0)-1;if(oB(e[r],t))return r}return -1},rh.startCase=aP,rh.startsWith=function(e,t,r){return e=o7(e),r=null==r?0:rR(o5(r),0,e.length),t=nv(t),e.slice(r,r+t.length)==t},rh.subtract=a4,rh.sum=function(e){return e&&e.length?tP(e,aF):0},rh.sumBy=function(e,t){return e&&e.length?tP(e,ic(t,2)):0},rh.template=function(e,t,r){var i=rh.templateSettings;r&&ik(e,t,r)&&(t=n),e=o7(e),t=ar({},t,i,n7);var o,a,s=ar({},t.imports,i.imports,n7),u=ap(s),l=tR(s,u),c=0,d=t.interpolate||em,p="__p += '",f=eS((t.escape||em).source+"|"+d.source+"|"+(d===H?ea:em).source+"|"+(t.evaluate||em).source+"|$","g"),h="//# sourceURL="+(eC.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++eQ+"]")+"\n";e.replace(f,function(t,r,n,i,s,u){return n||(n=i),p+=e.slice(c,u).replace(eg,tq),r&&(o=!0,p+="' +\n__e("+r+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=u+t.length,t}),p+="';\n";var m=eC.call(t,"variable")&&t.variable;if(m){if(ei.test(m))throw new ew("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(a?p.replace(D,""):p).replace(F,"$1").replace(q,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=aR(function(){return ev(u,h+"return "+p).apply(n,l)});if(g.source=p,oj(g))throw g;return g},rh.times=function(e,t){if((e=o5(e))<1||e>9007199254740991)return[];var r=4294967295,n=t6(e,4294967295);t=ic(t),e-=4294967295;for(var i=tO(n,t);++r<e;)t(r);return i},rh.toFinite=o4,rh.toInteger=o5,rh.toLength=o8,rh.toLower=function(e){return o7(e).toLowerCase()},rh.toNumber=o3,rh.toSafeInteger=function(e){return e?rR(o5(e),-9007199254740991,9007199254740991):0===e?e:0},rh.toString=o7,rh.toUpper=function(e){return o7(e).toUpperCase()},rh.trim=function(e,t,r){if((e=o7(e))&&(r||t===n))return tB(e);if(!e||!(t=nv(t)))return e;var i=tH(e),o=tH(t),a=tL(i,o),s=tN(i,o)+1;return nC(i,a,s).join("")},rh.trimEnd=function(e,t,r){if((e=o7(e))&&(r||t===n))return e.slice(0,tG(e)+1);if(!e||!(t=nv(t)))return e;var i=tH(e),o=tN(i,tH(t))+1;return nC(i,0,o).join("")},rh.trimStart=function(e,t,r){if((e=o7(e))&&(r||t===n))return e.replace(Y,"");if(!e||!(t=nv(t)))return e;var i=tH(e),o=tL(i,tH(t));return nC(i,o).join("")},rh.truncate=function(e,t){var r=30,i="...";if(oV(t)){var o="separator"in t?t.separator:o;r="length"in t?o5(t.length):r,i="omission"in t?nv(t.omission):i}var a=(e=o7(e)).length;if(tU(e)){var s=tH(e);a=s.length}if(r>=a)return e;var u=r-tV(i);if(u<1)return i;var l=s?nC(s,0,u).join(""):e.slice(0,u);if(o===n)return l+i;if(s&&(u+=l.length-u),oZ(o)){if(e.slice(u).search(o)){var c,d=l;for(o.global||(o=eS(o.source,o7(es.exec(o))+"g")),o.lastIndex=0;c=o.exec(d);)var p=c.index;l=l.slice(0,p===n?u:p)}}else if(e.indexOf(nv(o),u)!=u){var f=l.lastIndexOf(o);f>-1&&(l=l.slice(0,f))}return l+i},rh.unescape=function(e){return(e=o7(e))&&W.test(e)?e.replace(U,t$):e},rh.uniqueId=function(e){var t=++eR;return o7(e)+t},rh.upperCase=aO,rh.upperFirst=aB,rh.each=ol,rh.eachRight=oc,rh.first=iG,aW(rh,(ey={},rH(rh,function(e,t){eC.call(rh.prototype,t)||(ey[t]=e)}),ey),{chain:!1}),rh.VERSION="4.17.21",tl(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){rh[e].placeholder=rh}),tl(["drop","take"],function(e,t){rb.prototype[e]=function(r){r=r===n?1:t2(o5(r),0);var i=this.__filtered__&&!t?new rb(this):this.clone();return i.__filtered__?i.__takeCount__=t6(r,i.__takeCount__):i.__views__.push({size:t6(r,4294967295),type:e+(i.__dir__<0?"Right":"")}),i},rb.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),tl(["filter","map","takeWhile"],function(e,t){var r=t+1,n=1==r||3==r;rb.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ic(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}}),tl(["head","last"],function(e,t){var r="take"+(t?"Right":"");rb.prototype[e]=function(){return this[r](1).value()[0]}}),tl(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");rb.prototype[e]=function(){return this.__filtered__?new rb(this):this[r](1)}}),rb.prototype.compact=function(){return this.filter(aF)},rb.prototype.find=function(e){return this.filter(e).head()},rb.prototype.findLast=function(e){return this.reverse().find(e)},rb.prototype.invokeMap=nd(function(e,t){return"function"==typeof e?new rb(this):this.map(function(r){return r2(r,e,t)})}),rb.prototype.reject=function(e){return this.filter(oE(ic(e)))},rb.prototype.slice=function(e,t){e=o5(e);var r=this;return r.__filtered__&&(e>0||t<0)?new rb(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=o5(t))<0?r.dropRight(-t):r.take(t-e)),r)},rb.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},rb.prototype.toArray=function(){return this.take(4294967295)},rH(rb.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),o=rh[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);o&&(rh.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,u=t instanceof rb,l=s[0],c=u||oL(t),d=function(e){var t=o.apply(rh,tm([e],s));return i&&p?t[0]:t};c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var p=this.__chain__,f=!!this.__actions__.length,h=a&&!p,m=u&&!f;if(!a&&c){t=m?t:new rb(this);var g=e.apply(t,s);return g.__actions__.push({func:oi,args:[d],thisArg:n}),new ry(g,p)}return h&&m?e.apply(this,s):(g=this.thru(d),h?i?g.value()[0]:g.value():g)})}),tl(["pop","push","shift","sort","splice","unshift"],function(e){var t=eT[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);rh.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(oL(i)?i:[],e)}return this[r](function(r){return t.apply(oL(r)?r:[],e)})}}),rH(rb.prototype,function(e,t){var r=rh[t];if(r){var n=r.name+"";eC.call(ro,n)||(ro[n]=[]),ro[n].push({name:t,func:r})}}),ro[nQ(n,2).name]=[{name:"wrapper",func:n}],rb.prototype.clone=function(){var e=new rb(this.__wrapped__);return e.__actions__=nU(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=nU(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=nU(this.__views__),e},rb.prototype.reverse=function(){if(this.__filtered__){var e=new rb(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},rb.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=oL(e),n=t<0,i=r?e.length:0,o=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=t6(t,e+a);break;case"takeRight":e=t2(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=n?s:a-1,c=this.__iteratees__,d=c.length,p=0,f=t6(u,this.__takeCount__);if(!r||!n&&i==u&&f==u)return nE(e,this.__actions__);var h=[];e:for(;u--&&p<f;){for(var m=-1,g=e[l+=t];++m<d;){var y=c[m],b=y.iteratee,_=y.type,w=b(g);if(2==_)g=w;else if(!w){if(1==_)continue e;break e}}h[p++]=g}return h},rh.prototype.at=oo,rh.prototype.chain=function(){return on(this)},rh.prototype.commit=function(){return new ry(this.value(),this.__chain__)},rh.prototype.next=function(){this.__values__===n&&(this.__values__=o6(this.value()));var e=this.__index__>=this.__values__.length,t=e?n:this.__values__[this.__index__++];return{done:e,value:t}},rh.prototype.plant=function(e){for(var t,r=this;r instanceof rg;){var i=iU(r);i.__index__=0,i.__values__=n,t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t},rh.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof rb){var t=e;return this.__actions__.length&&(t=new rb(this)),(t=t.reverse()).__actions__.push({func:oi,args:[i0],thisArg:n}),new ry(t,this.__chain__)}return this.thru(i0)},rh.prototype.toJSON=rh.prototype.valueOf=rh.prototype.value=function(){return nE(this.__wrapped__,this.__actions__)},rh.prototype.first=rh.prototype.head,e4&&(rh.prototype[e4]=function(){return this}),rh}();"function"==typeof e&&"object"==typeof e.amd&&e.amd?(e5._=tX,e(function(){return tX})):e3?((e3.exports=tX)._=tX,e8._=tX):e5._=tX}).call(this)}),eh.register("8yGR8",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.encode=function(e){return e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"0x")},e.exports.decode=function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?r.Buffer.from([]):r.Buffer.from(t.map(e=>parseInt(e,16)))};var r=eh("acDaE")}),eh.register("9efoV",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.decode=function(e){let t=r.isBrowser?new TextDecoder("utf-8"):new(eh("ksjp0")).TextDecoder("utf-8");return t.decode(e)},e.exports.encode=function(e){let t=r.isBrowser?new TextEncoder:new(eh("ksjp0")).TextEncoder("utf-8");return t.encode(e)};var r=eh("9u4wR")}),eh.register("9u4wR",function(e,t){var r;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isVersionedTransaction=e.exports.isBrowser=void 0,e.exports.chunks=function(e,t){return Array.apply(0,Array(Math.ceil(e.length/t))).map((r,n)=>e.slice(n*t,(n+1)*t))},e.exports.isBrowser="undefined"!=typeof window&&!(null===(r=window.process)||void 0===r?void 0:r.hasOwnProperty("type")),e.exports.isVersionedTransaction=e=>"version"in e}),eh.register("ksjp0",function(e,t){var r,n,i=eh("jcdBh"),o=Object.create,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,d=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),p=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of u(t))c.call(e,i)||i===r||a(e,i,{get:()=>t[i],enumerable:!(n=s(t,i))||n.enumerable});return e},f=(e,t,r)=>(r=null!=e?o(l(e)):{},p(!t&&e&&e.__esModule?r:a(r,"default",{value:e,enumerable:!0}),e)),h=d((e,t)=>{t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}}),m=d((e,t)=>{var r=h();t.exports=function(){return r()&&!!Symbol.toStringTag}}),g=d((e,t)=>{var r="u">typeof Symbol&&Symbol,n=h();t.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&n()}}),y=d((e,t)=>{var r={foo:{}},n=Object;t.exports=function(){return({__proto__:r}).foo===r.foo&&!(({__proto__:null})instanceof n)}}),b=d((e,t)=>{var r=Array.prototype.slice,n=Object.prototype.toString;t.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==n.call(t))throw TypeError("Function.prototype.bind called on incompatible "+t);for(var i,o=r.call(arguments,1),a=Math.max(0,t.length-o.length),s=[],u=0;u<a;u++)s.push("$"+u);if(i=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(!(this instanceof i))return t.apply(e,o.concat(r.call(arguments)));var n=t.apply(this,o.concat(r.call(arguments)));return Object(n)===n?n:this}),t.prototype){var l=function(){};l.prototype=t.prototype,i.prototype=new l,l.prototype=null}return i}}),_=d((e,t)=>{var r=b();t.exports=Function.prototype.bind||r}),w=d((e,t)=>{var r=_();t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)}),v=d((e,t)=>{var r,n=SyntaxError,i=Function,o=TypeError,a=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(e){s=null}var u=function(){throw new o},l=s?function(){try{return arguments.callee,u}catch(e){try{return s(arguments,"callee").get}catch(e){return u}}}():u,c=g()(),d=y()(),p=Object.getPrototypeOf||(d?function(e){return e.__proto__}:null),f={},h=typeof Uint8Array>"u"||!p?r:p(Uint8Array),m={"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":c&&p?p([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c&&p?p(p([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":!(typeof Map>"u")&&c&&p?p(new Map()[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":!(typeof Set>"u")&&c&&p?p(new Set()[Symbol.iterator]()):r,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c&&p?p(""[Symbol.iterator]()):r,"%Symbol%":c?Symbol:r,"%SyntaxError%":n,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(p)try{null.error}catch(e){b=p(p(e)),m["%Error.prototype%"]=b}var b,v=function e(t){var r;if("%AsyncFunction%"===t)r=a("async function () {}");else if("%GeneratorFunction%"===t)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=a("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&p&&(r=p(i.prototype))}return m[t]=r,r},k={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=_(),S=w(),I=A.call(Function.call,Array.prototype.concat),E=A.call(Function.apply,Array.prototype.splice),T=A.call(Function.call,String.prototype.replace),x=A.call(Function.call,String.prototype.slice),P=A.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,B=/\\(\\)?/g,C=function(e){var t=x(e,0,1),r=x(e,-1);if("%"===t&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var i=[];return T(e,O,function(e,t,r,n){i[i.length]=r?T(n,B,"$1"):t||e}),i},R=function(e,t){var r,i=e;if(S(k,i)&&(i="%"+(r=k[i])[0]+"%"),S(m,i)){var a=m[i];if(a===f&&(a=v(i)),typeof a>"u"&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:i,value:a}}throw new n("intrinsic "+e+" does not exist!")};t.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new o('"allowMissing" argument must be a boolean');if(null===P(/^%?[^%]*%?$/,e))throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=C(e),i=r.length>0?r[0]:"",a=R("%"+i+"%",t),u=a.name,l=a.value,c=!1,d=a.alias;d&&(i=d[0],E(r,I([0,1],d)));for(var p=1,f=!0;p<r.length;p+=1){var h=r[p],g=x(h,0,1),y=x(h,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new n("property names with quotes must have matching quotes");if("constructor"!==h&&f||(c=!0),i+="."+h,S(m,u="%"+i+"%"))l=m[u];else if(null!=l){if(!(h in l)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(s&&p+1>=r.length){var b=s(l,h);l=(f=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:l[h]}else f=S(l,h),l=l[h];f&&!c&&(m[u]=l)}}return l}}),k=d((e,t)=>{var r=_(),n=v(),i=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||r.call(o,i),s=n("%Object.getOwnPropertyDescriptor%",!0),u=n("%Object.defineProperty%",!0),l=n("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}t.exports=function(e){var t=a(r,o,arguments);return s&&u&&s(t,"length").configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))}),t};var c=function(){return a(r,i,arguments)};u?u(t.exports,"apply",{value:c}):t.exports.apply=c}),A=d((e,t)=>{var r=v(),n=k(),i=n(r("String.prototype.indexOf"));t.exports=function(e,t){var o=r(e,!!t);return"function"==typeof o&&i(e,".prototype.")>-1?n(o):o}}),S=d((e,t)=>{var r=m()(),n=A()("Object.prototype.toString"),i=function(e){return(!r||!e||"object"!=typeof e||!(Symbol.toStringTag in e))&&"[object Arguments]"===n(e)},o=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==n(e)&&"[object Function]"===n(e.callee)},a=function(){return i(arguments)}();i.isLegacyArguments=o,t.exports=a?i:o}),I=d((e,t)=>{var r,n=Object.prototype.toString,i=Function.prototype.toString,o=/^\s*(?:function)?\*/,a=m()(),s=Object.getPrototypeOf,u=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}};t.exports=function(e){if("function"!=typeof e)return!1;if(o.test(i.call(e)))return!0;if(!a)return"[object GeneratorFunction]"===n.call(e);if(!s)return!1;if(typeof r>"u"){var t=u();r=!!t&&s(t)}return s(e)===r}}),E=d((e,t)=>{var r,n,i,o=Function.prototype.toString,a="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof a&&"function"==typeof Object.defineProperty)try{n=Object.defineProperty({},"length",{get:function(){throw i}}),i={},a(function(){throw 42},null,n)}catch(e){e!==i&&(a=null)}else a=null;var s=/^\s*class\b/,u=function(e){try{var t=o.call(e);return s.test(t)}catch(e){return!1}},l=function(e){try{return!u(e)&&(o.call(e),!0)}catch(e){return!1}},c=Object.prototype.toString,d="function"==typeof Symbol&&!!Symbol.toStringTag,p=!(0 in[,]),f=function(){return!1};"object"==typeof document&&(r=document.all,c.call(r)===c.call(document.all)&&(f=function(e){if((p||!e)&&(typeof e>"u"||"object"==typeof e))try{var t=c.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})),t.exports=a?function(e){if(f(e))return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;try{a(e,null,n)}catch(e){if(e!==i)return!1}return!u(e)&&l(e)}:function(e){if(f(e))return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;if(d)return l(e);if(u(e))return!1;var t=c.call(e);return!!("[object Function]"===t||"[object GeneratorFunction]"===t||/^\[object HTML/.test(t))&&l(e)}}),T=d((e,t)=>{var r=E(),n=Object.prototype.toString,i=Object.prototype.hasOwnProperty,o=function(e,t,r){for(var n=0,o=e.length;n<o;n++)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))},a=function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)},s=function(e,t,r){for(var n in e)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))};t.exports=function(e,t,i){var u;if(!r(t))throw TypeError("iterator must be a function");arguments.length>=3&&(u=i),"[object Array]"===n.call(e)?o(e,t,u):"string"==typeof e?a(e,t,u):s(e,t,u)}}),x=d((e,t)=>{var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],n=typeof globalThis>"u"?ec:globalThis;t.exports=function(){for(var e=[],t=0;t<r.length;t++)"function"==typeof n[r[t]]&&(e[e.length]=r[t]);return e}}),P=d((e,t)=>{var r=v()("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}t.exports=r}),O=d((e,t)=>{var r=T(),n=x(),i=A(),o=i("Object.prototype.toString"),a=m()(),s=P(),u=typeof globalThis>"u"?ec:globalThis,l=n(),c=i("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return -1},d=i("String.prototype.slice"),p={},f=Object.getPrototypeOf;a&&s&&f&&r(l,function(e){var t=new u[e];if(Symbol.toStringTag in t){var r=f(t),n=s(r,Symbol.toStringTag);n||(n=s(f(r),Symbol.toStringTag)),p[e]=n.get}});var h=function(e){var t=!1;return r(p,function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}}),t};t.exports=function(e){return!!e&&"object"==typeof e&&(a&&Symbol.toStringTag in e?!!s&&h(e):c(l,d(o(e),8,-1))>-1)}}),B=d((e,t)=>{var r=T(),n=x(),i=A(),o=P(),a=i("Object.prototype.toString"),s=m()(),u=typeof globalThis>"u"?ec:globalThis,l=n(),c=i("String.prototype.slice"),d={},p=Object.getPrototypeOf;s&&o&&p&&r(l,function(e){if("function"==typeof u[e]){var t=new u[e];if(Symbol.toStringTag in t){var r=p(t),n=o(r,Symbol.toStringTag);n||(n=o(p(r),Symbol.toStringTag)),d[e]=n.get}}});var f=function(e){var t=!1;return r(d,function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}}),t},h=O();t.exports=function(e){return!!h(e)&&(s&&Symbol.toStringTag in e?f(e):c(a(e),8,-1))}}),C=d(e=>{var t,r,n=S(),i=I(),o=B(),a=O();function s(e){return e.call.bind(e)}var u="u">typeof BigInt,l="u">typeof Symbol,c=s(Object.prototype.toString),d=s(Number.prototype.valueOf),p=s(String.prototype.valueOf),f=s(Boolean.prototype.valueOf);function h(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function m(e){return"[object Map]"===c(e)}function g(e){return"[object Set]"===c(e)}function y(e){return"[object WeakMap]"===c(e)}function b(e){return"[object WeakSet]"===c(e)}function _(e){return"[object ArrayBuffer]"===c(e)}function w(e){return!(typeof ArrayBuffer>"u")&&(_.working?_(e):e instanceof ArrayBuffer)}function v(e){return"[object DataView]"===c(e)}function k(e){return!(typeof DataView>"u")&&(v.working?v(e):e instanceof DataView)}u&&(t=s(BigInt.prototype.valueOf)),l&&(r=s(Symbol.prototype.valueOf)),e.isArgumentsObject=n,e.isGeneratorFunction=i,e.isTypedArray=a,e.isPromise=function(e){return"u">typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},e.isArrayBufferView=function(e){return"u">typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||k(e)},e.isUint8Array=function(e){return"Uint8Array"===o(e)},e.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},e.isUint16Array=function(e){return"Uint16Array"===o(e)},e.isUint32Array=function(e){return"Uint32Array"===o(e)},e.isInt8Array=function(e){return"Int8Array"===o(e)},e.isInt16Array=function(e){return"Int16Array"===o(e)},e.isInt32Array=function(e){return"Int32Array"===o(e)},e.isFloat32Array=function(e){return"Float32Array"===o(e)},e.isFloat64Array=function(e){return"Float64Array"===o(e)},e.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},e.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},m.working="u">typeof Map&&m(new Map),e.isMap=function(e){return!(typeof Map>"u")&&(m.working?m(e):e instanceof Map)},g.working="u">typeof Set&&g(new Set),e.isSet=function(e){return!(typeof Set>"u")&&(g.working?g(e):e instanceof Set)},y.working="u">typeof WeakMap&&y(new WeakMap),e.isWeakMap=function(e){return!(typeof WeakMap>"u")&&(y.working?y(e):e instanceof WeakMap)},b.working="u">typeof WeakSet&&b(new WeakSet),e.isWeakSet=function(e){return b(e)},_.working="u">typeof ArrayBuffer&&_(new ArrayBuffer),e.isArrayBuffer=w,v.working="u">typeof ArrayBuffer&&"u">typeof DataView&&v(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=k;var A="u">typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function E(e){return"[object SharedArrayBuffer]"===c(e)}function T(e){return!(typeof A>"u")&&(typeof E.working>"u"&&(E.working=E(new A)),E.working?E(e):e instanceof A)}function x(e){return h(e,d)}function P(e){return h(e,p)}function C(e){return h(e,f)}function R(e){return u&&h(e,t)}function M(e){return l&&h(e,r)}e.isSharedArrayBuffer=T,e.isAsyncFunction=function(e){return"[object AsyncFunction]"===c(e)},e.isMapIterator=function(e){return"[object Map Iterator]"===c(e)},e.isSetIterator=function(e){return"[object Set Iterator]"===c(e)},e.isGeneratorObject=function(e){return"[object Generator]"===c(e)},e.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===c(e)},e.isNumberObject=x,e.isStringObject=P,e.isBooleanObject=C,e.isBigIntObject=R,e.isSymbolObject=M,e.isBoxedPrimitive=function(e){return x(e)||P(e)||C(e)||R(e)||M(e)},e.isAnyArrayBuffer=function(e){return"u">typeof Uint8Array&&(w(e)||T(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw Error(t+" is not supported in userland")}})})}),R=d((e,t)=>{t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}}),M=d((e,t)=>{"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}),L=d(e=>{var t=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},r=/%[sdj%]/g;e.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}for(var n=1,i=arguments,o=i.length,s=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}}),u=i[n];n<o;u=i[++n])h(u)||!_(u)?s+=" "+u:s+=" "+a(u);return s},e.deprecate=function(t,r){if("u">typeof i&&!0===i.noDeprecation)return t;if(typeof i>"u")return function(){return e.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(i.throwDeprecation)throw Error(r);i.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var n={},o=/^$/;function a(t,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),f(r)?n.showHidden=r:r&&e._extend(n,r),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),l(n,t,n.depth)}function s(e,t){var r=a.styles[t];return r?"\x1b["+a.colors[r][0]+"m"+e+"\x1b["+a.colors[r][1]+"m":e}function u(e,t){return e}function l(t,r,n){if(t.customInspect&&r&&k(r.inspect)&&r.inspect!==e.inspect&&!(r.constructor&&r.constructor.prototype===r)){var i,o,a,s,u,_=r.inspect(n,t);return g(_)||(_=l(t,_,n)),_}var A=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):f(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}(t,r);if(A)return A;var S=Object.keys(r),I=(s={},S.forEach(function(e,t){s[e]=!0}),s);if(t.showHidden&&(S=Object.getOwnPropertyNames(r)),v(r)&&(S.indexOf("message")>=0||S.indexOf("description")>=0))return c(r);if(0===S.length){if(k(r)){var T=r.name?": "+r.name:"";return t.stylize("[Function"+T+"]","special")}if(b(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return t.stylize(Date.prototype.toString.call(r),"date");if(v(r))return c(r)}var x="",P=!1,O=["{","}"];return(p(r)&&(P=!0,O=["[","]"]),k(r)&&(x=" [Function"+(r.name?": "+r.name:"")+"]"),b(r)&&(x=" "+RegExp.prototype.toString.call(r)),w(r)&&(x=" "+Date.prototype.toUTCString.call(r)),v(r)&&(x=" "+c(r)),0!==S.length||P&&0!=r.length)?n<0?b(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),u=P?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)E(t,String(a))?o.push(d(e,t,r,n,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,r,n,i,!0))}),o}(t,r,n,I,S):S.map(function(e){return d(t,r,n,I,e,P)}),t.seen.pop(),i=x,o=O,a=0,u.reduce(function(e,t){return a++,t.indexOf("\n")>=0&&a++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?o[0]+(""===i?"":i+"\n ")+" "+u.join(",\n  ")+" "+o[1]:o[0]+i+" "+u.join(", ")+" "+o[1]):O[0]+x+O[1]}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),E(n,i)||(a="["+i+"]"),s||(0>e.seen.indexOf(u.value)?(s=h(r)?l(e,u.value,null):l(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").slice(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function h(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===A(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===A(e)}function v(e){return _(e)&&("[object Error]"===A(e)||e instanceof Error)}function k(e){return"function"==typeof e}function A(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}e.debuglog=function(t){if(!n[t=t.toUpperCase()]){if(o.test(t)){var r=i.pid;n[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else n[t]=function(){}}return n[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=C(),e.isArray=p,e.isBoolean=f,e.isNull=h,e.isNullOrUndefined=function(e){return null==e},e.isNumber=m,e.isString=g,e.isSymbol=function(e){return"symbol"==typeof e},e.isUndefined=y,e.isRegExp=b,e.types.isRegExp=b,e.isObject=_,e.isDate=w,e.types.isDate=w,e.isError=v,e.types.isNativeError=v,e.isFunction=k,e.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||typeof e>"u"},e.isBuffer=R();var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.log=function(){var t,r;console.log("%s - %s",(r=[S((t=new Date).getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":"),[t.getDate(),I[t.getMonth()],r].join(" ")),e.format.apply(e,arguments))},e.inherits=M(),e._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var T="u">typeof Symbol?Symbol("util.promisify.custom"):void 0;function x(e,t){if(!e){var r=Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}e.promisify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');if(T&&e[T]){var r=e[T];if("function"!=typeof r)throw TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,T,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(e,n){e?r(e):t(n)});try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),T&&Object.defineProperty(r,T,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,t(e))},e.promisify.custom=T,e.callbackify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');function r(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw TypeError("The last argument must be of type Function");var o=this,a=function(){return n.apply(o,arguments)};e.apply(this,t).then(function(e){i.nextTick(a.bind(null,null,e))},function(e){i.nextTick(x.bind(null,e,a))})}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,t(e)),r}}),N={};((e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})})(N,{default:()=>F}),e.exports=p(a({},"__esModule",{value:!0}),N);var D=f(L());r=f(L()),n=e.exports,p(N,r,"default"),n&&p(n,r,"default");var F=D.default}),eh.register("8aimw",function(e,t){var r=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.encode=function(e){return n.default.encode(e)},e.exports.decode=function(e){return n.default.decode(e)};let n=r(eh("63LgX"))}),eh.register("9IUui",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.encode=function(e){return e.toString("base64")},e.exports.decode=function(e){return r.Buffer.from(e,"base64")};var r=eh("acDaE")}),eh.register("2vO4p",function(e,t){e.exports=eh("9BW3x")(eh("jZrc2").getBundleURL("aoY6u")+"../../"+eh("hZnCo").resolve("hiwK5")).then(()=>eh("7NlOW"))}),eh.register("9BW3x",function(e,t){var r=eh("aVB12");e.exports=r(function(e){return new Promise(function(t,r){try{importScripts(e),t()}catch(e){r(e)}})})}),eh.register("aVB12",function(e,t){var r={},n={},i={};e.exports=function(e,t){return function(o){var a=function(e){switch(e){case"preload":return n;case"prefetch":return i;default:return r}}(t);return a[o]?a[o]:a[o]=e.apply(null,arguments).catch(function(e){throw delete a[o],e})}}}),eh.register("jZrc2",function(e,t){v(e.exports,"getBundleURL",()=>r,e=>r=e);var r,n={};r=function(e){var t=n[e];return t||(t=function(){try{throw Error()}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return(""+e[2]).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}return"/"}(),n[e]=t),t}}),eh.register("6V04Q",function(t,r){var n,i,o=eh("jcdBh"),a=eh("acDaE").Buffer,s=Object.create,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,d=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,f=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),h=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of c(t))p.call(e,i)||i===r||u(e,i,{get:()=>t[i],enumerable:!(n=l(t,i))||n.enumerable});return e},m=(e,t,r)=>(r=null!=e?s(d(e)):{},h(!t&&e&&e.__esModule?r:u(r,"default",{value:e,enumerable:!0}),e)),g=f(e=>{var t;function r(){if(void 0!==t)return t;if(ec.XMLHttpRequest){t=new ec.XMLHttpRequest;try{t.open("GET",ec.XDomainRequest?"/":"https://example.com")}catch(e){t=null}}else t=null;return t}function n(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function i(e){return"function"==typeof e}e.fetch=i(ec.fetch)&&i(ec.ReadableStream),e.writableStream=i(ec.WritableStream),e.abortController=i(ec.AbortController),e.arraybuffer=e.fetch||n("arraybuffer"),e.msstream=!e.fetch&&n("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&n("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||!!r()&&i(r().overrideMimeType),t=null}),y=f((e,t)=>{"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}),b=f((e,t)=>{var r,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};r=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(e,t){return new Promise(function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&"function"==typeof e.on&&g(e,"error",i,{once:!0})})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function u(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){var i,o,a;if(u(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var s=Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=d.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):m(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,s=Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)i(u,this,t);else for(var l=u.length,c=m(u,l),r=0;r<l;++r)i(c[r],this,t);return!0},a.prototype.addListener=function(e,t){return c(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return c(this,e,t,!0)},a.prototype.once=function(e,t){return u(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,o,a;if(u(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}}),_=f((e,t)=>{t.exports=b().EventEmitter}),w=f(e=>{e.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return(r+n)*3/4-n},e.toByteArray=function(e){var t,r,n=s(e),a=n[0],u=n[1],l=new o((a+u)*3/4-u),c=0,d=u>0?a-4:a;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===u&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[c++]=255&t),1===u&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},e.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(function(e,t,r){for(var i,o=[],a=t;a<r;a+=3)o.push(n[(i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}(e,a,a+16383>s?s:a+16383));return 1===i?o.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&o.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")};var t,r,n=[],i=[],o="u">typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0,r=a.length;t<r;++t)n[t]=a[t],i[a.charCodeAt(t)]=t;function s(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63}),v=f(e=>{e.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,l=u>>1,c=-7,d=r?i-1:0,p=r?-1:1,f=e[t+d];for(d+=p,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+d],d+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:(f?-1:1)*(1/0);a+=Math.pow(2,n),o-=l}return(f?-1:1)*a*Math.pow(2,o-n)},e.write=function(e,t,r,n,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,d=c>>1,p=23===i?5960464477539062e-23:0,f=n?0:o-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+d>=1?t+=p/u:t+=p*Math.pow(2,1-d),t*u>=2&&(a++,u/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*u-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+f]=255&s,f+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[r+f]=255&a,f+=h,a/=256,l-=8);e[r+f-h]|=128*m}}),k=f(e=>{var t=w(),r=v(),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function i(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return a(e,t,r)}function a(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!o.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|p(e,t),n=i(r),a=n.write(e,t);return a!==r&&(n=n.slice(0,a)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(D(e,Uint8Array)){let t=new Uint8Array(e);return c(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(D(e,ArrayBuffer)||e&&D(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(D(e,SharedArrayBuffer)||e&&D(e.buffer,SharedArrayBuffer)))return c(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return o.from(n,t,r);let a=function(e){var t;if(o.isBuffer(e)){let t=0|d(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?i(0):l(e):"Buffer"===e.type&&Array.isArray(e.data)?l(e.data):void 0}(e);if(a)return a;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function s(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return s(e),i(e<0?0:0|d(e))}function l(e){let t=e.length<0?0:0|d(e.length),r=i(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function c(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),n}function d(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||D(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return L(e).length;default:if(i)return n?-1:M(e).length;t=(""+t).toLowerCase(),i=!0}}function f(e,r,n){let i=!1;if((void 0===r||r<0)&&(r=0),r>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(r>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=F[e[n]];return i}(this,r,n);case"utf8":case"utf-8":return y(this,r,n);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,r,n);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,r,n);case"base64":var o,a;return o=r,a=n,0===o&&a===this.length?t.fromByteArray(this):t.fromByteArray(this.slice(o,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,r,n);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function h(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){var a;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(a=r=+r)!=a&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){let o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,s/=2,u/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(l(e,o)===l(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*a}else -1!==n&&(o-=o-n),n=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(l(e,o+n)!==l(t,n)){r=!1;break}if(r)return o}return -1}function y(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,u;switch(a){case 1:t<128&&(o=t);break;case 2:(192&(r=e[i+1]))==128&&(u=(31&t)<<6|63&r)>127&&(o=u);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(u=(15&t)<<12|(63&r)<<6|63&n)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],(192&r)==128&&(192&n)==128&&(192&s)==128&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function b(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function _(e,t,r,n,i,a){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function k(e,t,r,n,i){O(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function A(e,t,r,n,i){O(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function S(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function I(e,t,n,i,o){return t=+t,n>>>=0,o||S(e,t,n,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,n,i,23,4),n+4}function E(e,t,n,i,o){return t=+t,n>>>=0,o||S(e,t,n,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,n,i,52,8),n+8}e.Buffer=o,e.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!o.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return a(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return s(e),e<=0?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)},o.allocUnsafe=function(e){return u(e)},o.allocUnsafeSlow=function(e){return u(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(D(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),D(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(D(t,Uint8Array))i+t.length>n.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(o.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)h(this,t,t+1);return this},o.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},o.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},o.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?y(this,0,e):f.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(e,t,r,n,i){if(D(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let a=i-n,s=r-t,u=Math.min(a,s),l=this.slice(n,i),c=e.slice(t,r);for(let e=0;e<u;++e)if(l[e]!==c[e]){a=l[e],s=c[e];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){var i,o,a,s,u,l,c,d;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let p=this.length-t;if((void 0===r||r>p)&&(r=p),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let f=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;let a=t.length;for(n>a/2&&(n=a/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(n!=n)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,N(M(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return a=t,s=r,N(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,a,s);case"base64":return u=t,l=r,N(L(e),this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,d=r,N(function(e,t){let r,n,i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,d);default:if(f)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),f=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=q(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&C(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+16777216*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+16777216*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),o.prototype.readBigUInt64BE=q(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&C(e,this.length-8);let n=16777216*t+65536*this[++e]+256*this[++e]+this[++e],i=16777216*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),128&this[e]?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=q(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&C(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),o.prototype.readBigInt64BE=q(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&C(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+r)}),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),r.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),r.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),r.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),r.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=q(function(e,t=0){return k(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=q(function(e,t=0){return A(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=q(function(e,t=0){return k(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=q(function(e,t=0){return A(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(e,t,r){return I(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return I(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return E(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return E(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},o.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let a=o.isBuffer(e)?e:o.from(e,n),s=a.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var T={};function x(e,t,r){T[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(e,"]"),this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}}function P(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function O(e,t,r,n,i,o){if(e>r||e<t){let n="bigint"==typeof t?"n":"",i;throw i=o>3?0===t||t===BigInt(0)?">= 0".concat(n," and < 2").concat(n," ** ").concat((o+1)*8).concat(n):">= -(2".concat(n," ** ").concat((o+1)*8-1).concat(n,") and < 2 ** ")+"".concat((o+1)*8-1).concat(n):">= ".concat(t).concat(n," and <= ").concat(r).concat(n),new T.ERR_OUT_OF_RANGE("value",i,e)}B(i,"offset"),(void 0===n[i]||void 0===n[i+o])&&C(i,n.length-(o+1))}function B(e,t){if("number"!=typeof e)throw new T.ERR_INVALID_ARG_TYPE(t,"number",e)}function C(e,t,r){throw Math.floor(e)!==e?(B(e,r),new T.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new T.ERR_BUFFER_OUT_OF_BOUNDS:new T.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}x("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),x("ERR_INVALID_ARG_TYPE",function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)},TypeError),x("ERR_OUT_OF_RANGE",function(e,t,r){let n='The value of "'.concat(e,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?i=P(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=P(i)),i+="n"),n+=" It must be ".concat(t,". Received ").concat(i)},RangeError);var R=/[^+/0-9A-Za-z-_]/g;function M(e,t){t=t||1/0;let r,n=e.length,i=null,o=[];for(let a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function L(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function D(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var F=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function q(e){return typeof BigInt>"u"?U:e}function U(){throw Error("BigInt not supported")}}),A=f(()=>{}),S=f((e,t)=>{function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=o(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var a=k().Buffer,s=A().inspect,u=s&&s.custom||"inspect";t.exports=function(){var e,t;function r(){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,r),this.head=null,this.tail=null,this.length=0}return e=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n=a.allocUnsafe(e>>>0),i=this.head,o=0;i;)t=i.data,r=o,a.prototype.copy.call(t,n,r),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return s(this,n(n({},t),{},{depth:0,customInspect:!1}))}}],i(r.prototype,e),t&&i(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}()}),I=f((e,t)=>{function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(i,this,e)):o.nextTick(i,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?a._writableState?a._writableState.errorEmitted?o.nextTick(n,a):(a._writableState.errorEmitted=!0,o.nextTick(r,a,e)):o.nextTick(r,a,e):t?(o.nextTick(n,a),t(e)):o.nextTick(n,a)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}),E=f((e,t)=>{var r={};function n(e,t,n){n||(n=Error);var i=function(e){function r(r,n,i){return e.call(this,"string"==typeof t?t:t(r,n,i))||this}return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e,r}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function i(e,t){if(!Array.isArray(e))return"of ".concat(t," ").concat(String(e));var r=e.length;return e=e.map(function(e){return String(e)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}n("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(e,t,r){if("string"==typeof t&&(n="not ",t.substr(!o||o<0?0:+o,n.length)===n)?(l="must not be",t=t.replace(/^not /,"")):l="must be",a=" argument",(void 0===s||s>e.length)&&(s=e.length),e.substring(s-a.length,s)===a)c="The ".concat(e," ").concat(l," ").concat(i(t,"type"));else{var n,o,a,s,u,l,c,d=("number"!=typeof u&&(u=0),u+1>e.length||-1===e.indexOf(".",u))?"argument":"property";c='The "'.concat(e,'" ').concat(d," ").concat(l," ").concat(i(t,"type"))}return c+". Received type ".concat(typeof r)},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r}),T=f((e,t)=>{var r=E().codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,i){var o=null!=t.highWaterMark?t.highWaterMark:i?t[n]:null;if(null!=o){if(!(isFinite(o)&&Math.floor(o)===o)||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}}),x=f((e,t)=>{t.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}};function r(e){try{if(!ec.localStorage)return!1}catch(e){return!1}var t=ec.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}}),P=f((e,t)=>{function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){(function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree.next=e})(t,e)}}t.exports=C,C.WritableState=B;var n,i,a={deprecate:x()},s=_(),u=k().Buffer,l=("u">typeof ec?ec:"u">typeof window?window:"u">typeof self?self:{}).Uint8Array||function(){},c=I(),d=T().getHighWaterMark,p=E().codes,f=p.ERR_INVALID_ARG_TYPE,h=p.ERR_METHOD_NOT_IMPLEMENTED,m=p.ERR_MULTIPLE_CALLBACK,g=p.ERR_STREAM_CANNOT_PIPE,b=p.ERR_STREAM_DESTROYED,w=p.ERR_STREAM_NULL_VALUES,v=p.ERR_STREAM_WRITE_AFTER_END,A=p.ERR_UNKNOWN_ENCODING,S=c.errorOrDestroy;function P(){}function B(e,t,i){n=n||O(),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){(function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new m;if(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t)--r.pendingcb,n?(o.nextTick(i,t),o.nextTick(F,e,r),e._writableState.errorEmitted=!0,S(e,t)):(i(t),e._writableState.errorEmitted=!0,S(e,t),F(e,r));else{var a=N(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||L(e,r),n?o.nextTick(M,e,r,a,i):M(e,r,a,i)}})(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function C(e){var t=this instanceof(n=n||O());if(!t&&!i.call(C,this))return new C(e);this._writableState=new B(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function R(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function M(e,t,r,n){r||0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain")),t.pendingcb--,n(),F(e,t)}function L(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=Array(t.bufferedRequestCount),o=t.corkedRequestsFree;o.entry=n;for(var a=0,s=!0;n;)i[a]=n,n.isBuf||(s=!1),n=n.next,a+=1;i.allBuffers=s,R(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,c=n.callback,d=t.objectMode?1:u.length;if(R(e,t,!1,d,u,l,c),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function N(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function D(e,t){e._final(function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),F(e,t)})}function F(e,t){var r=N(t);if(r&&(t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,o.nextTick(D,e,t))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}y()(C,s),B.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(B.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!i.call(this,e)||this===C&&e&&e._writableState instanceof B}})):i=function(e){return e instanceof this},C.prototype.pipe=function(){S(this,new g)},C.prototype.write=function(e,t,r){var n,i,a,s,c,d,p,h=this._writableState,m=!1,g=!h.objectMode&&(n=e,u.isBuffer(n)||n instanceof l);return g&&!u.isBuffer(e)&&(i=e,e=u.from(i)),"function"==typeof t&&(r=t,t=null),g?t="buffer":t||(t=h.defaultEncoding),"function"!=typeof r&&(r=P),h.ending?(a=r,S(this,s=new v),o.nextTick(a,s)):!g&&(c=e,d=r,null===c?p=new w:"string"==typeof c||h.objectMode||(p=new f("chunk",["string","Buffer"],c)),p&&(S(this,p),o.nextTick(d,p),1))||(h.pendingcb++,m=function(e,t,r,n,i,o){if(!r){var a,s,l=(a=n,s=i,t.objectMode||!1===t.decodeStrings||"string"!=typeof a||(a=u.from(a,s)),a);n!==l&&(r=!0,i="buffer",n=l)}var c=t.objectMode?1:n.length;t.length+=c;var d=t.length<t.highWaterMark;if(d||(t.needDrain=!0),t.writing||t.corked){var p=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},p?p.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else R(e,t,!1,c,n,i,o);return d}(this,h,g,e,t,r)),m},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;!e.corked||(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||L(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new A(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,r){r(new h("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,r){var n,i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||(n=r,i.ending=!0,F(this,i),n&&(i.finished?o.nextTick(n):this.once("finish",n)),i.ended=!0,this.writable=!1),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=c.destroy,C.prototype._undestroy=c.undestroy,C.prototype._destroy=function(e,t){t(e)}}),O=f((e,t)=>{var r,n,i,a=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=l;var s=N(),u=P();for(y()(l,s),r=a(u.prototype),i=0;i<r.length;i++)n=r[i],l.prototype[n]||(l.prototype[n]=u.prototype[n]);function l(e){if(!(this instanceof l))return new l(e);s.call(this,e),u.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||o.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}),B=f((e,t)=>{var r=k(),n=r.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=o),o.prototype=Object.create(n.prototype),i(n,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return r.SlowBuffer(e)}}),C=f(e=>{var t=B().Buffer,r=t.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(e){var n;switch(this.encoding=function(e){var n=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof n&&(t.isEncoding===r||!r(e)))throw Error("Unknown encoding: "+e);return n||e}(e),this.encoding){case"utf16le":this.text=a,this.end=s,n=4;break;case"utf8":this.fillLast=o,n=4;break;case"base64":this.text=u,this.end=l,n=3;break;default:this.write=c,this.end=d;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(n)}function i(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,"\ufffd"}}(this,e,0);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function a(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function s(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function c(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}e.StringDecoder=n,n.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},n.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},n.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var o=i(t[n]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--n<r||-2===o?0:(o=i(t[n]))>=0?(o>0&&(e.lastNeed=o-2),o):--n<r||-2===o?0:(o=i(t[n]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},n.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}}),R=f((e,t)=>{var r=E().codes.ERR_STREAM_PREMATURE_CLOSE;function n(){}t.exports=function e(t,i,o){if("function"==typeof i)return e(t,null,i);i||(i={}),a=o||n,s=!1,o=function(){if(!s){s=!0;for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];a.apply(this,t)}};var a,s,u=i.readable||!1!==i.readable&&t.readable,l=i.writable||!1!==i.writable&&t.writable,c=function(){t.writable||p()},d=t._writableState&&t._writableState.finished,p=function(){l=!1,d=!0,u||o.call(t)},f=t._readableState&&t._readableState.endEmitted,h=function(){u=!1,f=!0,l||o.call(t)},m=function(e){o.call(t,e)},g=function(){var e;return u&&!f?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):l&&!d?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},y=function(){t.req.on("finish",p)};return t.setHeader&&"function"==typeof t.abort?(t.on("complete",p),t.on("abort",g),t.req?y():t.on("request",y)):l&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",h),t.on("finish",p),!1!==i.error&&t.on("error",m),t.on("close",g),function(){t.removeListener("complete",p),t.removeListener("abort",g),t.removeListener("request",y),t.req&&t.req.removeListener("finish",p),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",p),t.removeListener("end",h),t.removeListener("error",m),t.removeListener("close",g)}}}),M=f((e,t)=>{function r(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n,i=R(),a=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),d=Symbol("handlePromise"),p=Symbol("stream");function f(e,t){return{value:e,done:t}}function h(e){var t=e[a];if(null!==t){var r=e[p].read();null!==r&&(e[c]=null,e[a]=null,e[s]=null,t(f(r,!1)))}}function m(e){o.nextTick(h,e)}var g=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((r(n={get stream(){return this[p]},next:function(){var e,t=this,r=this[u];if(null!==r)return Promise.reject(r);if(this[l])return Promise.resolve(f(void 0,!0));if(this[p].destroyed)return new Promise(function(e,r){o.nextTick(function(){t[u]?r(t[u]):e(f(void 0,!0))})});var n,i=this[c];if(i)n=new Promise((e=this,function(t,r){i.then(function(){if(e[l]){t(f(void 0,!0));return}e[d](t,r)},r)}));else{var a=this[p].read();if(null!==a)return Promise.resolve(f(a,!1));n=new Promise(this[d])}return this[c]=n,n}},Symbol.asyncIterator,function(){return this}),r(n,"return",function(){var e=this;return new Promise(function(t,r){e[p].destroy(null,function(e){if(e){r(e);return}t(f(void 0,!0))})})}),n),g);t.exports=function(e){var t,n=Object.create(y,(r(t={},p,{value:e,writable:!0}),r(t,a,{value:null,writable:!0}),r(t,s,{value:null,writable:!0}),r(t,u,{value:null,writable:!0}),r(t,l,{value:e._readableState.endEmitted,writable:!0}),r(t,d,{value:function(e,t){var r=n[p].read();r?(n[c]=null,n[a]=null,n[s]=null,e(f(r,!1))):(n[a]=e,n[s]=t)},writable:!0}),t));return n[c]=null,i(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];null!==t&&(n[c]=null,n[a]=null,n[s]=null,t(e)),n[u]=e;return}var r=n[a];null!==r&&(n[c]=null,n[a]=null,n[s]=null,r(f(void 0,!0))),n[l]=!0}),e.on("readable",m.bind(null,n)),n}}),L=f((e,t)=>{t.exports=function(){throw Error("Readable.from is not available in the browser")}}),N=f((e,t)=>{t.exports=D,D.ReadableState=N,b().EventEmitter;var r,n,i=function(e,t){return e.listeners(t).length},a=_(),s=k().Buffer,u=("u">typeof ec?ec:"u">typeof window?window:"u">typeof self?self:{}).Uint8Array||function(){},l=A();n=l&&l.debuglog?l.debuglog("stream"):function(){};var c,d,p,f=S(),h=I(),m=T().getHighWaterMark,g=E().codes,w=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,x=g.ERR_METHOD_NOT_IMPLEMENTED,P=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;y()(D,a);var B=h.errorOrDestroy,R=["error","close","destroy","pause","resume"];function N(e,t,n){r=r||O(),e=e||{},"boolean"!=typeof n&&(n=t instanceof r),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",n),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=C().StringDecoder),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function D(e){if(r=r||O(),!(this instanceof D))return new D(e);var t=this instanceof r;this._readableState=new N(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function F(e,t,r,i,o){n("readableAddChunk",t);var a,l,c,d,p,f=e._readableState;if(null===t)f.reading=!1,function(e,t){if(n("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?j(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,W(e)))}}(e,f);else{if(o||(a=f,l=t,s.isBuffer(l)||l instanceof u||"string"==typeof l||void 0===l||a.objectMode||(c=new w("chunk",["string","Buffer","Uint8Array"],l)),p=c),p)B(e,p);else if(f.objectMode||t&&t.length>0){if("string"==typeof t||f.objectMode||Object.getPrototypeOf(t)===s.prototype||(d=t,t=s.from(d)),i)f.endEmitted?B(e,new P):q(e,f,t,!0);else if(f.ended)B(e,new v);else{if(f.destroyed)return!1;f.reading=!1,f.decoder&&!r?(t=f.decoder.write(t),f.objectMode||0!==t.length?q(e,f,t,!1):K(e,f)):q(e,f,t,!1)}}else i||(f.reading=!1,K(e,f))}return!f.ended&&(f.length<f.highWaterMark||0===f.length)}function q(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&j(e)),K(e,t)}function U(e,t){var r;return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=((r=e)>=1073741824?r=1073741824:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function j(e){var t=e._readableState;n("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(n("emitReadable",t.flowing),t.emittedReadable=!0,o.nextTick(W,e))}function W(e){var t=e._readableState;n("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,$(e)}function K(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(z,e,t))}function z(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(n("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function V(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function H(e){n("readable nexttick read 0"),e.read(0)}function G(e,t){n("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),$(e),t.flowing&&!t.reading&&e.read(0)}function $(e){var t=e._readableState;for(n("flow",t.flowing);t.flowing&&null!==e.read(););}function X(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function Z(e){var t=e._readableState;n("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,o.nextTick(Q,t,e))}function Q(e,t){if(n("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function Y(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),D.prototype.destroy=h.destroy,D.prototype._undestroy=h.undestroy,D.prototype._destroy=function(e,t){t(e)},D.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),F(this,e,t,!1,r)},D.prototype.unshift=function(e){return F(this,e,null,!0,!1)},D.prototype.isPaused=function(){return!1===this._readableState.flowing},D.prototype.setEncoding=function(e){c||(c=C().StringDecoder);var t=new c(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this},D.prototype.read=function(e){n("read",e),e=parseInt(e,10);var t,r=this._readableState,i=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return n("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?Z(this):j(this),null;if(0===(e=U(e,r))&&r.ended)return 0===r.length&&Z(this),null;var o=r.needReadable;return n("need readable",o),(0===r.length||r.length-e<r.highWaterMark)&&n("length less than watermark",o=!0),r.ended||r.reading?n("reading or ended",o=!1):o&&(n("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=U(i,r))),null===(t=e>0?X(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),i!==e&&r.ended&&Z(this)),null!==t&&this.emit("data",t),t},D.prototype._read=function(e){B(this,new x("_read()"))},D.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,n("pipe count=%d opts=%j",a.pipesCount,t);var s=t&&!1===t.end||e===o.stdout||e===o.stderr?m:u;function u(){n("onend"),e.end()}a.endEmitted?o.nextTick(s):r.once("end",s),e.on("unpipe",function t(i,o){n("onunpipe"),i===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,n("cleanup"),e.removeListener("close",f),e.removeListener("finish",h),e.removeListener("drain",l),e.removeListener("error",p),e.removeListener("unpipe",t),r.removeListener("end",u),r.removeListener("end",m),r.removeListener("data",d),c=!0,a.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l())});var l=function(){var e=r._readableState;n("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&i(r,"data")&&(e.flowing=!0,$(r))};e.on("drain",l);var c=!1;function d(t){n("ondata");var i=e.write(t);n("dest.write",i),!1===i&&((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==Y(a.pipes,e))&&!c&&(n("false write response, pause",a.awaitDrain),a.awaitDrain++),r.pause())}function p(t){n("onerror",t),m(),e.removeListener("error",p),0===i(e,"error")&&B(e,t)}function f(){e.removeListener("finish",h),m()}function h(){n("onfinish"),e.removeListener("close",f),m()}function m(){n("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",p),e.once("close",f),e.once("finish",h),e.emit("pipe",r),a.flowing||(n("pipe resume"),r.resume()),e},D.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Y(t.pipes,e);return -1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},D.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"!==e||i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,n("on readable",i.length,i.reading),i.length?j(this):i.reading||o.nextTick(H,this)),r},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&o.nextTick(V,this),r},D.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&o.nextTick(V,this),t},D.prototype.resume=function(){var e=this._readableState;return e.flowing||(n("resume"),e.flowing=!e.readableListening,e.resumeScheduled||(e.resumeScheduled=!0,o.nextTick(G,this,e))),e.paused=!1,this},D.prototype.pause=function(){return n("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(n("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},D.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var o in e.on("end",function(){if(n("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(o){n("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||!r.objectMode&&(!o||!o.length)||t.push(o)||(i=!0,e.pause())}),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var a=0;a<R.length;a++)e.on(R[a],this.emit.bind(this,R[a]));return this._read=function(t){n("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(D.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=M()),d(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),D._fromList=X,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(D.from=function(e,t){return void 0===p&&(p=L()),p(D,e,t)})}),D=f((e,t)=>{t.exports=l;var r=E().codes,n=r.ERR_METHOD_NOT_IMPLEMENTED,i=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,s=O();function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new i);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);s.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",c)}function c(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush(function(t,r){d(e,t,r)})}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}y()(l,s),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new n("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){s.prototype._destroy.call(this,e,function(e){t(e)})}}),F=f((e,t)=>{t.exports=n;var r=D();function n(e){if(!(this instanceof n))return new n(e);r.call(this,e)}y()(n,r),n.prototype._transform=function(e,t,r){r(null,e)}}),q=f((e,t)=>{var r,n=E().codes,i=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function s(e){e()}function u(e,t){return e.pipe(t)}t.exports=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var l=(c=t).length&&"function"==typeof c[c.length-1]?c.pop():a;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var c,d,p=t.map(function(e,n){var i,a,u,c,f,h=n<t.length-1;return a=i=function(e){d||(d=e),e&&p.forEach(s),h||(p.forEach(s),l(d))},u=!1,i=function(){u||(u=!0,a.apply(void 0,arguments))},c=!1,e.on("close",function(){c=!0}),void 0===r&&(r=R()),r(e,{readable:h,writable:n>0},function(e){if(e)return i(e);c=!0,i()}),f=!1,function(t){if(!c&&!f){if(f=!0,e.setHeader&&"function"==typeof e.abort)return e.abort();if("function"==typeof e.destroy)return e.destroy();i(t||new o("pipe"))}}});return t.reduce(u)}}),U=f((e,t)=>{(e=t.exports=N()).Stream=e,e.Readable=e,e.Writable=P(),e.Duplex=O(),e.Transform=D(),e.PassThrough=F(),e.finished=R(),e.pipeline=q()}),j=f(e=>{var t=g(),r=y(),n=U(),i=e.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},s=e.IncomingMessage=function(e,r,i,s){var u=this;if(n.Readable.call(u),u._mode=i,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",function(){o.nextTick(function(){u.emit("close")})}),"fetch"===i){let e=function(){c.read().then(function(t){if(!u._destroyed){if(s(t.done),t.done){u.push(null);return}u.push(a.from(t.value)),e()}}).catch(function(e){s(!0),u._destroyed||u.emit("error",e)})};if(u._fetchResponse=r,u.url=r.url,u.statusCode=r.status,u.statusMessage=r.statusText,r.headers.forEach(function(e,t){u.headers[t.toLowerCase()]=e,u.rawHeaders.push(t,e)}),t.writableStream){var l=new WritableStream({write:function(e){return s(!1),new Promise(function(t,r){u._destroyed?r():u.push(a.from(e))?t():u._resumeFetch=t})},close:function(){s(!0),u._destroyed||u.push(null)},abort:function(e){s(!0),u._destroyed||u.emit("error",e)}});try{r.body.pipeTo(l).catch(function(e){s(!0),u._destroyed||u.emit("error",e)});return}catch(e){}}var c=r.body.getReader();e()}else if(u._xhr=e,u._pos=0,u.url=e.responseURL,u.statusCode=e.status,u.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===u.headers[r]&&(u.headers[r]=[]),u.headers[r].push(t[2])):void 0!==u.headers[r]?u.headers[r]+=", "+t[2]:u.headers[r]=t[2],u.rawHeaders.push(t[1],t[2])}}),u._charset="x-user-defined",!t.overrideMimeType){var d=u.rawHeaders["mime-type"];if(d){var p=d.match(/;\s*charset=([^;])(;|$)/);p&&(u._charset=p[1].toLowerCase())}u._charset||(u._charset="utf-8")}};r(s,n.Readable),s.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},s.prototype._onXHRProgress=function(e){var t=this,r=t._xhr,n=null;switch(t._mode){case"text":if((n=r.responseText).length>t._pos){var o=n.substr(t._pos);if("x-user-defined"===t._charset){for(var s=a.alloc(o.length),u=0;u<o.length;u++)s[u]=255&o.charCodeAt(u);t.push(s)}else t.push(o,t._charset);t._pos=n.length}break;case"arraybuffer":if(r.readyState!==i.DONE||!r.response)break;n=r.response,t.push(a.from(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=r.response,r.readyState!==i.LOADING||!n)break;t.push(a.from(new Uint8Array(n)));break;case"ms-stream":if(n=r.response,r.readyState!==i.LOADING)break;var l=new ec.MSStreamReader;l.onprogress=function(){l.result.byteLength>t._pos&&(t.push(a.from(new Uint8Array(l.result.slice(t._pos)))),t._pos=l.result.byteLength)},l.onload=function(){e(!0),t.push(null)},l.readAsArrayBuffer(n)}t._xhr.readyState===i.DONE&&"ms-stream"!==t._mode&&(e(!0),t.push(null))}}),W=f((e,t)=>{var r=g(),n=y(),i=j(),s=U(),u=i.IncomingMessage,l=i.readyStates,c=t.exports=function(e){var t,n,i=this;s.Writable.call(i),i._opts=e,i._body=[],i._headers={},e.auth&&i.setHeader("Authorization","Basic "+a.from(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(t){i.setHeader(t,e.headers[t])});var o,u=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!r.abortController)u=!1,o=!0;else if("prefer-streaming"===e.mode)o=!1;else if("allow-wrong-content-type"===e.mode)o=!r.overrideMimeType;else if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw Error("Invalid value for opts.mode");else o=!0;i._mode=(t=o,n=u,r.fetch&&n?"fetch":r.mozchunkedarraybuffer?"moz-chunked-arraybuffer":r.msstream?"ms-stream":r.arraybuffer&&t?"arraybuffer":"text"),i._fetchTimer=null,i._socketTimeout=null,i._socketTimer=null,i.on("finish",function(){i._onFinish()})};n(c,s.Writable),c.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===d.indexOf(r)&&(this._headers[r]={name:e,value:t})},c.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},c.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},c.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts;"timeout"in t&&0!==t.timeout&&e.setTimeout(t.timeout);var n=e._headers,i=null;"GET"!==t.method&&"HEAD"!==t.method&&(i=new Blob(e._body,{type:(n["content-type"]||{}).value||""}));var a=[];if(Object.keys(n).forEach(function(e){var t=n[e].name,r=n[e].value;Array.isArray(r)?r.forEach(function(e){a.push([t,e])}):a.push([t,r])}),"fetch"===e._mode){var s=null;if(r.abortController){var u=new AbortController;s=u.signal,e._fetchAbortController=u,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=ec.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},t.requestTimeout))}ec.fetch(e._opts.url,{method:e._opts.method,headers:a,body:i||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:s}).then(function(t){e._fetchResponse=t,e._resetTimers(!1),e._connect()},function(t){e._resetTimers(!0),e._destroyed||e.emit("error",t)})}else{var c=e._xhr=new ec.XMLHttpRequest;try{c.open(e._opts.method,e._opts.url,!0)}catch(t){o.nextTick(function(){e.emit("error",t)});return}"responseType"in c&&(c.responseType=e._mode),"withCredentials"in c&&(c.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in c&&c.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(c.timeout=t.requestTimeout,c.ontimeout=function(){e.emit("requestTimeout")}),a.forEach(function(e){c.setRequestHeader(e[0],e[1])}),e._response=null,c.onreadystatechange=function(){switch(c.readyState){case l.LOADING:case l.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(c.onprogress=function(){e._onXHRProgress()}),c.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",Error("XHR error")))};try{c.send(i)}catch(t){o.nextTick(function(){e.emit("error",t)});return}}}},c.prototype._onXHRProgress=function(){this._resetTimers(!1),!function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}(this._xhr)||this._destroyed||(this._response||this._connect(),this._response._onXHRProgress(this._resetTimers.bind(this)))},c.prototype._connect=function(){var e=this;e._destroyed||(e._response=new u(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},c.prototype._write=function(e,t,r){this._body.push(e),r()},c.prototype._resetTimers=function(e){var t=this;ec.clearTimeout(t._socketTimer),t._socketTimer=null,e?(ec.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=ec.setTimeout(function(){t.emit("timeout")},t._socketTimeout))},c.prototype.abort=c.prototype.destroy=function(e){this._destroyed=!0,this._resetTimers(!0),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort(),e&&this.emit("error",e)},c.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),s.Writable.prototype.end.call(this,e,t,r)},c.prototype.setTimeout=function(e,t){t&&this.once("timeout",t),this._socketTimeout=e,this._resetTimers(!1)},c.prototype.flushHeaders=function(){},c.prototype.setNoDelay=function(){},c.prototype.setSocketKeepAlive=function(){};var d=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}),K=f((e,t)=>{t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e};var r=Object.prototype.hasOwnProperty}),z=f((e,t)=>{t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}}),V=f((t,r)=>{!function(n){var i="object"==typeof t&&t&&!t.nodeType&&t,o="object"==typeof r&&r&&!r.nodeType&&r,a="object"==typeof ec&&ec;(a.global===a||a.window===a||a.self===a)&&(n=a);var s,u,l=/^xn--/,c=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,h=String.fromCharCode;function m(e){throw RangeError(p[e])}function g(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function y(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+g((e=e.replace(d,".")).split("."),t).join(".")}function b(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?(64512&(r=e.charCodeAt(i++)))==56320?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function _(e){return g(e,function(e){var t="";return e>65535&&(e-=65536,t+=h(e>>>10&1023|55296),e=56320|1023&e),t+=h(e)}).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function v(e,t,r){var n=0;for(e=r?f(e/700):e>>1,e+=f(e/t);e>455;n+=36)e=f(e/35);return f(n+36*e/(e+38))}function k(e){var t,r,n,i,o,a,s,u,l,c,d,p=[],h=e.length,g=0,y=128,b=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&m("not-basic"),p.push(e.charCodeAt(i));for(o=n>0?n+1:0;o<h;){for(a=g,s=1,u=36;o>=h&&m("invalid-input"),((l=(t=e.charCodeAt(o++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36)>=36||l>f((2147483647-g)/s))&&m("overflow"),g+=l*s,!(l<(c=u<=b?1:u>=b+26?26:u-b));u+=36)s>f(2147483647/(d=36-c))&&m("overflow"),s*=d;b=v(g-a,r=p.length+1,0==a),f(g/r)>2147483647-y&&m("overflow"),y+=f(g/r),g%=r,p.splice(g++,0,y)}return _(p)}function A(e){var t,r,n,i,o,a,s,u,l,c,d,p,g,y,_,k=[];for(p=(e=b(e)).length,t=128,r=0,o=72,a=0;a<p;++a)(d=e[a])<128&&k.push(h(d));for(n=i=k.length,i&&k.push("-");n<p;){for(s=2147483647,a=0;a<p;++a)(d=e[a])>=t&&d<s&&(s=d);for(s-t>f((2147483647-r)/(g=n+1))&&m("overflow"),r+=(s-t)*g,t=s,a=0;a<p;++a)if((d=e[a])<t&&++r>2147483647&&m("overflow"),d==t){for(u=r,l=36;!(u<(c=l<=o?1:l>=o+26?26:l-o));l+=36)_=u-c,y=36-c,k.push(h(w(c+_%y,0))),u=f(_/y);k.push(h(w(u,0))),o=v(r,g,n==i),r=0,++n}++r,++t}return k.join("")}if(s={version:"1.4.1",ucs2:{decode:b,encode:_},decode:k,encode:A,toASCII:function(e){return y(e,function(e){return c.test(e)?"xn--"+A(e):e})},toUnicode:function(e){return y(e,function(e){return l.test(e)?k(e.slice(4).toLowerCase()):e})}},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return s});else if(i&&o){if(r.exports==i)o.exports=s;else for(u in s)s.hasOwnProperty(u)&&(i[u]=s[u])}else n.punycode=s}(t)}),H=f((e,t)=>{t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}}),G=f((e,t)=>{var r="u">typeof Symbol&&Symbol,n=H();t.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&n()}}),$=f((e,t)=>{var r={foo:{}},n=Object;t.exports=function(){return({__proto__:r}).foo===r.foo&&!(({__proto__:null})instanceof n)}}),X=f((e,t)=>{var r=Array.prototype.slice,n=Object.prototype.toString;t.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==n.call(t))throw TypeError("Function.prototype.bind called on incompatible "+t);for(var i,o=r.call(arguments,1),a=Math.max(0,t.length-o.length),s=[],u=0;u<a;u++)s.push("$"+u);if(i=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(!(this instanceof i))return t.apply(e,o.concat(r.call(arguments)));var n=t.apply(this,o.concat(r.call(arguments)));return Object(n)===n?n:this}),t.prototype){var l=function(){};l.prototype=t.prototype,i.prototype=new l,l.prototype=null}return i}}),Z=f((e,t)=>{var r=X();t.exports=Function.prototype.bind||r}),Q=f((e,t)=>{var r=Z();t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)}),Y=f((e,t)=>{var r,n=SyntaxError,i=Function,o=TypeError,a=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(e){s=null}var u=function(){throw new o},l=s?function(){try{return arguments.callee,u}catch(e){try{return s(arguments,"callee").get}catch(e){return u}}}():u,c=G()(),d=$()(),p=Object.getPrototypeOf||(d?function(e){return e.__proto__}:null),f={},h=typeof Uint8Array>"u"||!p?r:p(Uint8Array),m={"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":c&&p?p([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c&&p?p(p([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":!(typeof Map>"u")&&c&&p?p(new Map()[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":!(typeof Set>"u")&&c&&p?p(new Set()[Symbol.iterator]()):r,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c&&p?p(""[Symbol.iterator]()):r,"%Symbol%":c?Symbol:r,"%SyntaxError%":n,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(p)try{null.error}catch(e){g=p(p(e)),m["%Error.prototype%"]=g}var g,y=function e(t){var r;if("%AsyncFunction%"===t)r=a("async function () {}");else if("%GeneratorFunction%"===t)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=a("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&p&&(r=p(i.prototype))}return m[t]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_=Z(),w=Q(),v=_.call(Function.call,Array.prototype.concat),k=_.call(Function.apply,Array.prototype.splice),A=_.call(Function.call,String.prototype.replace),S=_.call(Function.call,String.prototype.slice),I=_.call(Function.call,RegExp.prototype.exec),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,x=function(e){var t=S(e,0,1),r=S(e,-1);if("%"===t&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var i=[];return A(e,E,function(e,t,r,n){i[i.length]=r?A(n,T,"$1"):t||e}),i},P=function(e,t){var r,i=e;if(w(b,i)&&(i="%"+(r=b[i])[0]+"%"),w(m,i)){var a=m[i];if(a===f&&(a=y(i)),typeof a>"u"&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:i,value:a}}throw new n("intrinsic "+e+" does not exist!")};t.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new o('"allowMissing" argument must be a boolean');if(null===I(/^%?[^%]*%?$/,e))throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=x(e),i=r.length>0?r[0]:"",a=P("%"+i+"%",t),u=a.name,l=a.value,c=!1,d=a.alias;d&&(i=d[0],k(r,v([0,1],d)));for(var p=1,f=!0;p<r.length;p+=1){var h=r[p],g=S(h,0,1),y=S(h,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new n("property names with quotes must have matching quotes");if("constructor"!==h&&f||(c=!0),i+="."+h,w(m,u="%"+i+"%"))l=m[u];else if(null!=l){if(!(h in l)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(s&&p+1>=r.length){var b=s(l,h);l=(f=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:l[h]}else f=w(l,h),l=l[h];f&&!c&&(m[u]=l)}}return l}}),J=f((e,t)=>{var r=Z(),n=Y(),i=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||r.call(o,i),s=n("%Object.getOwnPropertyDescriptor%",!0),u=n("%Object.defineProperty%",!0),l=n("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}t.exports=function(e){var t=a(r,o,arguments);return s&&u&&s(t,"length").configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))}),t};var c=function(){return a(r,i,arguments)};u?u(t.exports,"apply",{value:c}):t.exports.apply=c}),ee=f((e,t)=>{var r=Y(),n=J(),i=n(r("String.prototype.indexOf"));t.exports=function(e,t){var o=r(e,!!t);return"function"==typeof o&&i(e,".prototype.")>-1?n(o):o}}),et=f(()=>{}),er=f((e,t)=>{var r="function"==typeof Map&&Map.prototype,n=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&n&&"function"==typeof n.get?n.get:null,o=r&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,s=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&s&&"function"==typeof s.get?s.get:null,l=a&&Set.prototype.forEach,c="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,h=Object.prototype.toString,m=Function.prototype.toString,g=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,w=String.prototype.toLowerCase,v=RegExp.prototype.test,k=Array.prototype.concat,A=Array.prototype.join,S=Array.prototype.slice,I=Math.floor,E="function"==typeof BigInt?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,P="function"==typeof Symbol&&"object"==typeof Symbol.iterator,O="function"==typeof Symbol&&Symbol.toStringTag?Symbol.toStringTag:null,B=Object.prototype.propertyIsEnumerable,C=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function R(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||v.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-I(-e):I(e);if(n!==e){var i=String(n),o=y.call(t,i.length+1);return b.call(i,r,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var M=et(),L=M.custom,N=U(L)?L:null;function D(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function F(e){return"[object Array]"===K(e)&&(!O||!("object"==typeof e&&O in e))}function q(e){return"[object RegExp]"===K(e)&&(!O||!("object"==typeof e&&O in e))}function U(e){if(P)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!x)return!1;try{return x.call(e),!0}catch(e){}return!1}t.exports=function e(t,r,n,a){var s=r||{};if(W(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw TypeError('option "quoteStyle" must be "single" or "double"');if(W(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var h=!W(s,"customInspect")||s.customInspect;if("boolean"!=typeof h&&"symbol"!==h)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(W(s,"indent")&&null!==s.indent&&"	"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(W(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _=s.numericSeparator;if(typeof t>"u")return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,r){if(t.length>r.maxStringLength){var n=t.length-r.maxStringLength;return e(y.call(t,0,r.maxStringLength),r)+"... "+n+" more character"+(n>1?"s":"")}return D(b.call(b.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,V),"single",r)}(t,s);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var v=String(t);return _?R(t,v):v}if("bigint"==typeof t){var I=String(t)+"n";return _?R(t,I):I}var T=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=T&&T>0&&"object"==typeof t)return F(t)?"[Array]":"[Object]";var L=function(e,t){var r;if("	"===e.indent)r="	";else{if("number"!=typeof e.indent||!(e.indent>0))return null;r=A.call(Array(e.indent+1)," ")}return{base:r,prev:A.call(Array(t+1),r)}}(s,n);if(typeof a>"u")a=[];else if(z(a,t)>=0)return"[Circular]";function j(t,r,i){if(r&&(a=S.call(a)).push(r),i){var o={depth:s.depth};return W(s,"quoteStyle")&&(o.quoteStyle=s.quoteStyle),e(t,o,n+1,a)}return e(t,s,n+1,a)}if("function"==typeof t&&!q(t)){var Q=function(e){if(e.name)return e.name;var t=g.call(m.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),Y=Z(t,j);return"[Function"+(Q?": "+Q:" (anonymous)")+"]"+(Y.length>0?" { "+A.call(Y,", ")+" }":"")}if(U(t)){var J=P?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):x.call(t);return"object"!=typeof t||P?J:H(J)}if(t&&"object"==typeof t&&("u">typeof HTMLElement&&t instanceof HTMLElement||"string"==typeof t.nodeName&&"function"==typeof t.getAttribute)){for(var ee,et="<"+w.call(String(t.nodeName)),er=t.attributes||[],en=0;en<er.length;en++)et+=" "+er[en].name+"="+D((ee=er[en].value,b.call(String(ee),/"/g,"&quot;")),"double",s);return et+=">",t.childNodes&&t.childNodes.length&&(et+="..."),et+="</"+w.call(String(t.nodeName))+">"}if(F(t)){if(0===t.length)return"[]";var ei=Z(t,j);return L&&!function(e){for(var t=0;t<e.length;t++)if(z(e[t],"\n")>=0)return!1;return!0}(ei)?"["+X(ei,L)+"]":"[ "+A.call(ei,", ")+" ]"}if("[object Error]"===K(t)&&(!O||!("object"==typeof t&&O in t))){var eo=Z(t,j);return"cause"in Error.prototype||!("cause"in t)||B.call(t,"cause")?0===eo.length?"["+String(t)+"]":"{ ["+String(t)+"] "+A.call(eo,", ")+" }":"{ ["+String(t)+"] "+A.call(k.call("[cause]: "+j(t.cause),eo),", ")+" }"}if("object"==typeof t&&h){if(N&&"function"==typeof t[N]&&M)return M(t,{depth:T-n});if("symbol"!==h&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ea=[];return o&&o.call(t,function(e,r){ea.push(j(r,t,!0)+" => "+j(e,t))}),$("Map",i.call(t),ea,L)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var es=[];return l&&l.call(t,function(e){es.push(j(e,t))}),$("Set",u.call(t),es,L)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e,c);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return G("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{c.call(e,c)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return G("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return G("WeakRef");if("[object Number]"===K(t)&&(!O||!("object"==typeof t&&O in t)))return H(j(Number(t)));if(function(e){if(!e||"object"!=typeof e||!E)return!1;try{return E.call(e),!0}catch(e){}return!1}(t))return H(j(E.call(t)));if("[object Boolean]"===K(t)&&(!O||!("object"==typeof t&&O in t)))return H(f.call(t));if("[object String]"===K(t)&&(!O||!("object"==typeof t&&O in t)))return H(j(String(t)));if(!("[object Date]"===K(t)&&(!O||!("object"==typeof t&&O in t)))&&!q(t)){var eu=Z(t,j),el=C?C(t)===Object.prototype:t instanceof Object||t.constructor===Object,ec=t instanceof Object?"":"null prototype",ed=!el&&O&&Object(t)===t&&O in t?y.call(K(t),8,-1):ec?"Object":"",ep=(el||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ed||ec?"["+A.call(k.call([],ed||[],ec||[]),": ")+"] ":"");return 0===eu.length?ep+"{}":L?ep+"{"+X(eu,L)+"}":ep+"{ "+A.call(eu,", ")+" }"}return String(t)};var j=Object.prototype.hasOwnProperty||function(e){return e in this};function W(e,t){return j.call(e,t)}function K(e){return h.call(e)}function z(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}function V(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function H(e){return"Object("+e+")"}function G(e){return e+" { ? }"}function $(e,t,r,n){return e+" ("+t+") {"+(n?X(r,n):A.call(r,", "))+"}"}function X(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+A.call(e,","+r)+"\n"+t.prev}function Z(e,t){var r=F(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=W(e,i)?t(e[i],e):""}var o,a="function"==typeof T?T(e):[];if(P){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var u in e)W(e,u)&&(r&&String(Number(u))===u&&u<e.length||P&&o["$"+u]instanceof Symbol||(v.call(/[^\w$]/,u)?n.push(t(u,e)+": "+t(e[u],e)):n.push(u+": "+t(e[u],e))));if("function"==typeof T)for(var l=0;l<a.length;l++)B.call(e,a[l])&&n.push("["+t(a[l])+"]: "+t(e[a[l]],e));return n}}),en=f((e,t)=>{var r=Y(),n=ee(),i=er(),o=r("%TypeError%"),a=r("%WeakMap%",!0),s=r("%Map%",!0),u=n("WeakMap.prototype.get",!0),l=n("WeakMap.prototype.set",!0),c=n("WeakMap.prototype.has",!0),d=n("Map.prototype.get",!0),p=n("Map.prototype.set",!0),f=n("Map.prototype.has",!0),h=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},m=function(e,t){var r=h(e,t);return r&&r.value},g=function(e,t,r){var n=h(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}};t.exports=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new o("Side channel does not contain "+i(e))},get:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(e)return u(e,n)}else if(s){if(t)return d(t,n)}else if(r)return m(r,n)},has:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(e)return c(e,n)}else if(s){if(t)return f(t,n)}else if(r)return!!h(r,n);return!1},set:function(n,i){a&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new a),l(e,n,i)):s?(t||(t=new s),p(t,n,i)):(r||(r={key:{},next:null}),g(r,n,i))}};return n}}),ei=f((e,t)=>{var r=String.prototype.replace,n=/%20/g,i={RFC1738:"RFC1738",RFC3986:"RFC3986"};t.exports={default:i.RFC3986,formatters:{RFC1738:function(e){return r.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:i.RFC1738,RFC3986:i.RFC3986}}),eo=f((e,t)=>{var r=ei(),n=Object.prototype.hasOwnProperty,i=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(i(r)){for(var n=[],o=0;o<r.length;++o)"u">typeof r[o]&&n.push(r[o]);t.obj[t.prop]=n}}},s=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)"u">typeof e[n]&&(r[n]=e[n]);return r};t.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],s=Object.keys(o),u=0;u<s.length;++u){var l=s[u],c=o[l];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:o,prop:l}),r.push(c))}return a(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,n,i,a){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var u="",l=0;l<s.length;++l){var c=s.charCodeAt(l);if(45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||a===r.RFC1738&&(40===c||41===c)){u+=s.charAt(l);continue}if(c<128){u+=o[c];continue}if(c<2048){u+=o[192|c>>6]+o[128|63&c];continue}if(c<55296||c>=57344){u+=o[224|c>>12]+o[128|c>>6&63]+o[128|63&c];continue}l+=1,u+=o[240|(c=65536+((1023&c)<<10|1023&s.charCodeAt(l)))>>18]+o[128|c>>12&63]+o[128|c>>6&63]+o[128|63&c]}return u},isBuffer:function(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(i(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,o){if(!r)return t;if("object"!=typeof r){if(i(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(o&&(o.plainObjects||o.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var a=t;return i(t)&&!i(r)&&(a=s(t,o)),i(t)&&i(r)?(r.forEach(function(r,i){if(n.call(t,i)){var a=t[i];a&&"object"==typeof a&&r&&"object"==typeof r?t[i]=e(a,r,o):t.push(r)}else t[i]=r}),t):Object.keys(r).reduce(function(t,i){var a=r[i];return n.call(t,i)?t[i]=e(t[i],a,o):t[i]=a,t},a)}}}),ea=f((e,t)=>{var r=en(),n=eo(),i=ei(),o=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Array.isArray,u=Array.prototype.push,l=function(e,t){u.apply(e,s(t)?t:[t])},c=Date.prototype.toISOString,d=i.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:d,formatter:i.formatters[d],indices:!1,serializeDate:function(e){return c.call(e)},skipNulls:!1,strictNullHandling:!1},f={},h=function e(t,i,o,a,u,c,d,h,m,g,y,b,_,w,v,k){for(var A,S,I=t,E=k,T=0,x=!1;void 0!==(E=E.get(f))&&!x;){var P=E.get(t);if(T+=1,"u">typeof P){if(P===T)throw RangeError("Cyclic object value");x=!0}typeof E.get(f)>"u"&&(T=0)}if("function"==typeof h?I=h(i,I):I instanceof Date?I=y(I):"comma"===o&&s(I)&&(I=n.maybeMap(I,function(e){return e instanceof Date?y(e):e})),null===I){if(u)return d&&!w?d(i,p.encoder,v,"key",b):i;I=""}if("string"==typeof(A=I)||"number"==typeof A||"boolean"==typeof A||"symbol"==typeof A||"bigint"==typeof A||n.isBuffer(I))return d?[_(w?i:d(i,p.encoder,v,"key",b))+"="+_(d(I,p.encoder,v,"value",b))]:[_(i)+"="+_(String(I))];var O=[];if(typeof I>"u")return O;if("comma"===o&&s(I))w&&d&&(I=n.maybeMap(I,d)),S=[{value:I.length>0?I.join(",")||null:void 0}];else if(s(h))S=h;else{var B=Object.keys(I);S=m?B.sort(m):B}for(var C=a&&s(I)&&1===I.length?i+"[]":i,R=0;R<S.length;++R){var M=S[R],L="object"==typeof M&&"u">typeof M.value?M.value:I[M];if(!(c&&null===L)){var N=s(I)?"function"==typeof o?o(C,M):C:C+(g?"."+M:"["+M+"]");k.set(t,T);var D=r();D.set(f,k),l(O,e(L,N,o,a,u,c,"comma"===o&&w&&s(I)?null:d,h,m,g,y,b,_,w,v,D))}}return O},m=function(e){if(!e)return p;if(null!==e.encoder&&"u">typeof e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if("u">typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=i.default;if("u">typeof e.format){if(!o.call(i.formatters,e.format))throw TypeError("Unknown format option provided.");r=e.format}var n=i.formatters[r],a=p.filter;return("function"==typeof e.filter||s(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:typeof e.allowDots>"u"?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:typeof e.delimiter>"u"?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:a,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}};t.exports=function(e,t){var n,i,o=e,u=m(t);"function"==typeof u.filter?o=(0,u.filter)("",o):s(u.filter)&&(i=u.filter);var c=[];if("object"!=typeof o||null===o)return"";n=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var d=a[n];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var p="comma"===d&&t&&t.commaRoundTrip;i||(i=Object.keys(o)),u.sort&&i.sort(u.sort);for(var f=r(),g=0;g<i.length;++g){var y=i[g];u.skipNulls&&null===o[y]||l(c,h(o[y],y,d,p,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,f))}var b=c.join(u.delimiter),_=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),b.length>0?_+b:""}}),es=f((e,t)=>{var r=eo(),n=Object.prototype.hasOwnProperty,i=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},s=function(e,t){var s,u={__proto__:null},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,c=t.parameterLimit===1/0?void 0:t.parameterLimit,d=l.split(t.delimiter,c),p=-1,f=t.charset;if(t.charsetSentinel)for(s=0;s<d.length;++s)0===d[s].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[s]?f="utf-8":"utf8=%26%2310003%3B"===d[s]&&(f="iso-8859-1"),p=s,s=d.length);for(s=0;s<d.length;++s)if(s!==p){var h,m,g=d[s],y=g.indexOf("]="),b=-1===y?g.indexOf("="):y+1;-1===b?(h=t.decoder(g,o.decoder,f,"key"),m=t.strictNullHandling?null:""):(h=t.decoder(g.slice(0,b),o.decoder,f,"key"),m=r.maybeMap(a(g.slice(b+1),t),function(e){return t.decoder(e,o.decoder,f,"value")})),m&&t.interpretNumericEntities&&"iso-8859-1"===f&&(m=m.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),g.indexOf("[]=")>-1&&(m=i(m)?[m]:m),n.call(u,h)?u[h]=r.combine(u[h],m):u[h]=m}return u},u=function(e,t,r,n){for(var i=n?t:a(t,r),o=e.length-1;o>=0;--o){var s,u=e[o];if("[]"===u&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var l="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,c=parseInt(l,10);r.parseArrays||""!==l?!isNaN(c)&&u!==l&&String(c)===l&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(s=[])[c]=i:"__proto__"!==l&&(s[l]=i):s={0:i}}i=s}return i},l=function(e,t,r,i){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=r.depth>0&&/(\[[^[\]]*])/.exec(o),l=s?o.slice(0,s.index):o,c=[];if(l){if(!r.plainObjects&&n.call(Object.prototype,l)&&!r.allowPrototypes)return;c.push(l)}for(var d=0;r.depth>0&&null!==(s=a.exec(o))&&d<r.depth;){if(d+=1,!r.plainObjects&&n.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+o.slice(s.index)+"]"),u(c,t,r,i)}},c=function(e){if(!e)return o;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw TypeError("Decoder has to be a function.");if("u">typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?o.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?o.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:o.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:o.comma,decoder:"function"==typeof e.decoder?e.decoder:o.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:o.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}};t.exports=function(e,t){var n=c(t);if(""===e||null===e||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var i="string"==typeof e?s(e,n):e,o=n.plainObjects?Object.create(null):{},a=Object.keys(i),u=0;u<a.length;++u){var d=a[u],p=l(d,i[d],n,"string"==typeof e);o=r.merge(o,p,n)}return!0===n.allowSparse?o:r.compact(o)}}),eu=f((e,t)=>{var r=ea(),n=es(),i=ei();t.exports={formats:i,parse:n,stringify:r}}),el=f(e=>{var t=V();function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var n=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,a=["'"].concat(["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","	"])),s=["%","/","?",";","#"].concat(a),u=["/","?","#"],l=/^[+a-z0-9A-Z_-]{0,63}$/,c=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},p={javascript:!0,"javascript:":!0},f={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},h=eu();function m(e,t,n){if(e&&"object"==typeof e&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}r.prototype.parse=function(e,r,i){if("string"!=typeof e)throw TypeError("Parameter 'url' must be a string, not "+typeof e);var m=e.indexOf("?"),g=-1!==m&&m<e.indexOf("#")?"?":"#",y=e.split(g);y[0]=y[0].replace(/\\/g,"/");var b=e=y.join(g);if(b=b.trim(),!i&&1===e.split("#").length){var _=o.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],r?this.query=h.parse(this.search.substr(1)):this.query=this.search.substr(1)):r&&(this.search="",this.query={}),this}var w=n.exec(b);if(w){var v=(w=w[0]).toLowerCase();this.protocol=v,b=b.substr(w.length)}if(i||w||b.match(/^\/\/[^@/]+@[^@/]+/)){var k="//"===b.substr(0,2);k&&!(w&&p[w])&&(b=b.substr(2),this.slashes=!0)}if(!p[w]&&(k||w&&!f[w])){for(var A,S,I=-1,E=0;E<u.length;E++){var T=b.indexOf(u[E]);-1!==T&&(-1===I||T<I)&&(I=T)}-1!==(S=-1===I?b.lastIndexOf("@"):b.lastIndexOf("@",I))&&(A=b.slice(0,S),b=b.slice(S+1),this.auth=decodeURIComponent(A)),I=-1;for(var E=0;E<s.length;E++){var T=b.indexOf(s[E]);-1!==T&&(-1===I||T<I)&&(I=T)}-1===I&&(I=b.length),this.host=b.slice(0,I),b=b.slice(I),this.parseHost(),this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x)for(var P=this.hostname.split(/\./),E=0,O=P.length;E<O;E++){var B=P[E];if(B&&!B.match(l)){for(var C="",R=0,M=B.length;R<M;R++)B.charCodeAt(R)>127?C+="x":C+=B[R];if(!C.match(l)){var L=P.slice(0,E),N=P.slice(E+1),D=B.match(c);D&&(L.push(D[1]),N.unshift(D[2])),N.length&&(b="/"+N.join(".")+b),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=t.toASCII(this.hostname));var F=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+F,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!d[v])for(var E=0,O=a.length;E<O;E++){var U=a[E];if(-1!==b.indexOf(U)){var j=encodeURIComponent(U);j===U&&(j=escape(U)),b=b.split(U).join(j)}}var W=b.indexOf("#");-1!==W&&(this.hash=b.substr(W),b=b.slice(0,W));var K=b.indexOf("?");if(-1!==K?(this.search=b.substr(K),this.query=b.substr(K+1),r&&(this.query=h.parse(this.query)),b=b.slice(0,K)):r&&(this.search="",this.query={}),b&&(this.pathname=b),f[v]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",z=this.search||"";this.path=F+z}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":")+"@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(o=h.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||f[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace("#","%23"))+n},r.prototype.resolve=function(e){return this.resolveObject(m(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if("string"==typeof e){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),u=0;u<s.length;u++){var l=s[u];"protocol"!==l&&(n[l]=e[l])}return f[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!f[e.protocol]){for(var c=Object.keys(e),d=0;d<c.length;d++){var h=c[d];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||p[e.protocol])n.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",y=n.search||"";n.path=g+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||b||n.host&&e.pathname,v=w,k=n.pathname&&n.pathname.split("/")||[],m=e.pathname&&e.pathname.split("/")||[],A=n.protocol&&!f[n.protocol];if(A&&(n.hostname="",n.port=null,n.host&&(""===k[0]?k[0]=n.host:k.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),w=w&&(""===m[0]||""===k[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,k=m;else if(m.length)k||(k=[]),k.pop(),k=k.concat(m),n.search=e.search,n.query=e.query;else if(null!=e.search){if(A){n.host=k.shift(),n.hostname=n.host;var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.hostname=S.shift(),n.host=n.hostname)}return n.search=e.search,n.query=e.query,(null!==n.pathname||null!==n.search)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!k.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var I=k.slice(-1)[0],E=(n.host||e.host||k.length>1)&&("."===I||".."===I)||""===I,T=0,x=k.length;x>=0;x--)"."===(I=k[x])?k.splice(x,1):".."===I?(k.splice(x,1),T++):T&&(k.splice(x,1),T--);if(!w&&!v)for(;T--;T)k.unshift("..");w&&""!==k[0]&&(!k[0]||"/"!==k[0].charAt(0))&&k.unshift(""),E&&"/"!==k.join("/").substr(-1)&&k.push("");var P=""===k[0]||k[0]&&"/"===k[0].charAt(0);if(A){n.hostname=P?"":k.length?k.shift():"",n.host=n.hostname;var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.hostname=S.shift(),n.host=n.hostname)}return(w=w||n.host&&k.length)&&!P&&k.unshift(""),k.length>0?n.pathname=k.join("/"):(n.pathname=null,n.path=null),(null!==n.pathname||null!==n.search)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=i.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.parse=m,e.resolve=function(e,t){return m(e,!1,!0).resolve(t)},e.resolveObject=function(e,t){return e?m(e,!1,!0).resolveObject(t):t},e.format=function(e){return"string"==typeof e&&(e=m(e)),e instanceof r?e.format():r.prototype.format.call(e)},e.Url=r}),ed=f(e=>{var t=W(),r=j(),n=K(),i=z(),o=el();e.request=function(e,r){e="string"==typeof e?o.parse(e):n(e);var i=-1===ec.location.protocol.search(/^https?:$/)?"http:":"",a=e.protocol||i,s=e.hostname||e.host,u=e.port,l=e.path||"/";s&&-1!==s.indexOf(":")&&(s="["+s+"]"),e.url=(s?a+"//"+s:"")+(u?":"+u:"")+l,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var c=new t(e);return r&&c.on("response",r),c},e.get=function(t,r){var n=e.request(t,r);return n.end(),n},e.ClientRequest=t,e.IncomingMessage=r.IncomingMessage,e.Agent=function(){},e.Agent.defaultMaxSockets=4,e.globalAgent=new e.Agent,e.STATUS_CODES=i,e.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}),ep={};((e,t)=>{for(var r in t)u(e,r,{get:t[r],enumerable:!0})})(ep,{default:()=>em}),t.exports=h(u({},"__esModule",{value:!0}),ep);var ef=m(ed());n=m(ed()),i=t.exports,h(ep,n,"default"),i&&h(i,n,"default");var em=ef.default;/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

punycode/punycode.js:
  (*! https://mths.be/punycode v1.4.1 by @mathias *)
*/}),eh.register("evYR9",function(t,r){var n,i,o=eh("jcdBh"),a=eh("acDaE").Buffer,s=Object.create,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,d=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,f=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),h=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of c(t))p.call(e,i)||i===r||u(e,i,{get:()=>t[i],enumerable:!(n=l(t,i))||n.enumerable});return e},m=(e,t,r)=>(r=null!=e?s(d(e)):{},h(!t&&e&&e.__esModule?r:u(r,"default",{value:e,enumerable:!0}),e)),g=f(e=>{var t;function r(){if(void 0!==t)return t;if(ec.XMLHttpRequest){t=new ec.XMLHttpRequest;try{t.open("GET",ec.XDomainRequest?"/":"https://example.com")}catch(e){t=null}}else t=null;return t}function n(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function i(e){return"function"==typeof e}e.fetch=i(ec.fetch)&&i(ec.ReadableStream),e.writableStream=i(ec.WritableStream),e.abortController=i(ec.AbortController),e.arraybuffer=e.fetch||n("arraybuffer"),e.msstream=!e.fetch&&n("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&n("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||!!r()&&i(r().overrideMimeType),t=null}),y=f((e,t)=>{"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}),b=f((e,t)=>{var r,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};r=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(e,t){return new Promise(function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&"function"==typeof e.on&&g(e,"error",i,{once:!0})})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function u(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){var i,o,a;if(u(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var s=Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=d.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):m(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,s=Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)i(u,this,t);else for(var l=u.length,c=m(u,l),r=0;r<l;++r)i(c[r],this,t);return!0},a.prototype.addListener=function(e,t){return c(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return c(this,e,t,!0)},a.prototype.once=function(e,t){return u(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,o,a;if(u(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}}),_=f((e,t)=>{t.exports=b().EventEmitter}),w=f(e=>{e.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return(r+n)*3/4-n},e.toByteArray=function(e){var t,r,n=s(e),a=n[0],u=n[1],l=new o((a+u)*3/4-u),c=0,d=u>0?a-4:a;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===u&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[c++]=255&t),1===u&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},e.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(function(e,t,r){for(var i,o=[],a=t;a<r;a+=3)o.push(n[(i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}(e,a,a+16383>s?s:a+16383));return 1===i?o.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&o.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")};var t,r,n=[],i=[],o="u">typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0,r=a.length;t<r;++t)n[t]=a[t],i[a.charCodeAt(t)]=t;function s(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63}),v=f(e=>{e.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,l=u>>1,c=-7,d=r?i-1:0,p=r?-1:1,f=e[t+d];for(d+=p,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+d],d+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:(f?-1:1)*(1/0);a+=Math.pow(2,n),o-=l}return(f?-1:1)*a*Math.pow(2,o-n)},e.write=function(e,t,r,n,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,d=c>>1,p=23===i?5960464477539062e-23:0,f=n?0:o-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+d>=1?t+=p/u:t+=p*Math.pow(2,1-d),t*u>=2&&(a++,u/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*u-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+f]=255&s,f+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[r+f]=255&a,f+=h,a/=256,l-=8);e[r+f-h]|=128*m}}),k=f(e=>{var t=w(),r=v(),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function i(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return a(e,t,r)}function a(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!o.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|p(e,t),n=i(r),a=n.write(e,t);return a!==r&&(n=n.slice(0,a)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(D(e,Uint8Array)){let t=new Uint8Array(e);return c(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(D(e,ArrayBuffer)||e&&D(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(D(e,SharedArrayBuffer)||e&&D(e.buffer,SharedArrayBuffer)))return c(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return o.from(n,t,r);let a=function(e){var t;if(o.isBuffer(e)){let t=0|d(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?i(0):l(e):"Buffer"===e.type&&Array.isArray(e.data)?l(e.data):void 0}(e);if(a)return a;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function s(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return s(e),i(e<0?0:0|d(e))}function l(e){let t=e.length<0?0:0|d(e.length),r=i(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function c(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),n}function d(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||D(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return L(e).length;default:if(i)return n?-1:M(e).length;t=(""+t).toLowerCase(),i=!0}}function f(e,r,n){let i=!1;if((void 0===r||r<0)&&(r=0),r>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(r>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=F[e[n]];return i}(this,r,n);case"utf8":case"utf-8":return y(this,r,n);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,r,n);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,r,n);case"base64":var o,a;return o=r,a=n,0===o&&a===this.length?t.fromByteArray(this):t.fromByteArray(this.slice(o,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,r,n);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function h(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){var a;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(a=r=+r)!=a&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){let o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,s/=2,u/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(l(e,o)===l(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*a}else -1!==n&&(o-=o-n),n=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(l(e,o+n)!==l(t,n)){r=!1;break}if(r)return o}return -1}function y(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,u;switch(a){case 1:t<128&&(o=t);break;case 2:(192&(r=e[i+1]))==128&&(u=(31&t)<<6|63&r)>127&&(o=u);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(u=(15&t)<<12|(63&r)<<6|63&n)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],(192&r)==128&&(192&n)==128&&(192&s)==128&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function b(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function _(e,t,r,n,i,a){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function k(e,t,r,n,i){O(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function A(e,t,r,n,i){O(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function S(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function I(e,t,n,i,o){return t=+t,n>>>=0,o||S(e,t,n,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,n,i,23,4),n+4}function E(e,t,n,i,o){return t=+t,n>>>=0,o||S(e,t,n,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,n,i,52,8),n+8}e.Buffer=o,e.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!o.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return a(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return s(e),e<=0?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)},o.allocUnsafe=function(e){return u(e)},o.allocUnsafeSlow=function(e){return u(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(D(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),D(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(D(t,Uint8Array))i+t.length>n.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(o.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)h(this,t,t+1);return this},o.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},o.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},o.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?y(this,0,e):f.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(e,t,r,n,i){if(D(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let a=i-n,s=r-t,u=Math.min(a,s),l=this.slice(n,i),c=e.slice(t,r);for(let e=0;e<u;++e)if(l[e]!==c[e]){a=l[e],s=c[e];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){var i,o,a,s,u,l,c,d;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let p=this.length-t;if((void 0===r||r>p)&&(r=p),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let f=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;let a=t.length;for(n>a/2&&(n=a/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(n!=n)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,N(M(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return a=t,s=r,N(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,a,s);case"base64":return u=t,l=r,N(L(e),this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,d=r,N(function(e,t){let r,n,i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,d);default:if(f)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),f=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=q(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&C(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+16777216*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+16777216*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),o.prototype.readBigUInt64BE=q(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&C(e,this.length-8);let n=16777216*t+65536*this[++e]+256*this[++e]+this[++e],i=16777216*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),128&this[e]?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=q(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&C(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),o.prototype.readBigInt64BE=q(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&C(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+r)}),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),r.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),r.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),r.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),r.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=q(function(e,t=0){return k(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=q(function(e,t=0){return A(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=q(function(e,t=0){return k(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=q(function(e,t=0){return A(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(e,t,r){return I(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return I(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return E(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return E(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},o.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let a=o.isBuffer(e)?e:o.from(e,n),s=a.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var T={};function x(e,t,r){T[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(e,"]"),this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}}function P(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function O(e,t,r,n,i,o){if(e>r||e<t){let n="bigint"==typeof t?"n":"",i;throw i=o>3?0===t||t===BigInt(0)?">= 0".concat(n," and < 2").concat(n," ** ").concat((o+1)*8).concat(n):">= -(2".concat(n," ** ").concat((o+1)*8-1).concat(n,") and < 2 ** ")+"".concat((o+1)*8-1).concat(n):">= ".concat(t).concat(n," and <= ").concat(r).concat(n),new T.ERR_OUT_OF_RANGE("value",i,e)}B(i,"offset"),(void 0===n[i]||void 0===n[i+o])&&C(i,n.length-(o+1))}function B(e,t){if("number"!=typeof e)throw new T.ERR_INVALID_ARG_TYPE(t,"number",e)}function C(e,t,r){throw Math.floor(e)!==e?(B(e,r),new T.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new T.ERR_BUFFER_OUT_OF_BOUNDS:new T.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}x("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),x("ERR_INVALID_ARG_TYPE",function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)},TypeError),x("ERR_OUT_OF_RANGE",function(e,t,r){let n='The value of "'.concat(e,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?i=P(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=P(i)),i+="n"),n+=" It must be ".concat(t,". Received ").concat(i)},RangeError);var R=/[^+/0-9A-Za-z-_]/g;function M(e,t){t=t||1/0;let r,n=e.length,i=null,o=[];for(let a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function L(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function D(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var F=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function q(e){return typeof BigInt>"u"?U:e}function U(){throw Error("BigInt not supported")}}),A=f(()=>{}),S=f((e,t)=>{function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=o(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var a=k().Buffer,s=A().inspect,u=s&&s.custom||"inspect";t.exports=function(){var e,t;function r(){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,r),this.head=null,this.tail=null,this.length=0}return e=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n=a.allocUnsafe(e>>>0),i=this.head,o=0;i;)t=i.data,r=o,a.prototype.copy.call(t,n,r),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return s(this,n(n({},t),{},{depth:0,customInspect:!1}))}}],i(r.prototype,e),t&&i(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}()}),I=f((e,t)=>{function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(i,this,e)):o.nextTick(i,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?a._writableState?a._writableState.errorEmitted?o.nextTick(n,a):(a._writableState.errorEmitted=!0,o.nextTick(r,a,e)):o.nextTick(r,a,e):t?(o.nextTick(n,a),t(e)):o.nextTick(n,a)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}),E=f((e,t)=>{var r={};function n(e,t,n){n||(n=Error);var i=function(e){function r(r,n,i){return e.call(this,"string"==typeof t?t:t(r,n,i))||this}return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e,r}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function i(e,t){if(!Array.isArray(e))return"of ".concat(t," ").concat(String(e));var r=e.length;return e=e.map(function(e){return String(e)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}n("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(e,t,r){if("string"==typeof t&&(n="not ",t.substr(!o||o<0?0:+o,n.length)===n)?(l="must not be",t=t.replace(/^not /,"")):l="must be",a=" argument",(void 0===s||s>e.length)&&(s=e.length),e.substring(s-a.length,s)===a)c="The ".concat(e," ").concat(l," ").concat(i(t,"type"));else{var n,o,a,s,u,l,c,d=("number"!=typeof u&&(u=0),u+1>e.length||-1===e.indexOf(".",u))?"argument":"property";c='The "'.concat(e,'" ').concat(d," ").concat(l," ").concat(i(t,"type"))}return c+". Received type ".concat(typeof r)},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r}),T=f((e,t)=>{var r=E().codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,i){var o=null!=t.highWaterMark?t.highWaterMark:i?t[n]:null;if(null!=o){if(!(isFinite(o)&&Math.floor(o)===o)||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}}),x=f((e,t)=>{t.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}};function r(e){try{if(!ec.localStorage)return!1}catch(e){return!1}var t=ec.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}}),P=f((e,t)=>{function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){(function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree.next=e})(t,e)}}t.exports=C,C.WritableState=B;var n,i,a={deprecate:x()},s=_(),u=k().Buffer,l=("u">typeof ec?ec:"u">typeof window?window:"u">typeof self?self:{}).Uint8Array||function(){},c=I(),d=T().getHighWaterMark,p=E().codes,f=p.ERR_INVALID_ARG_TYPE,h=p.ERR_METHOD_NOT_IMPLEMENTED,m=p.ERR_MULTIPLE_CALLBACK,g=p.ERR_STREAM_CANNOT_PIPE,b=p.ERR_STREAM_DESTROYED,w=p.ERR_STREAM_NULL_VALUES,v=p.ERR_STREAM_WRITE_AFTER_END,A=p.ERR_UNKNOWN_ENCODING,S=c.errorOrDestroy;function P(){}function B(e,t,i){n=n||O(),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){(function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new m;if(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t)--r.pendingcb,n?(o.nextTick(i,t),o.nextTick(F,e,r),e._writableState.errorEmitted=!0,S(e,t)):(i(t),e._writableState.errorEmitted=!0,S(e,t),F(e,r));else{var a=N(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||L(e,r),n?o.nextTick(M,e,r,a,i):M(e,r,a,i)}})(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function C(e){var t=this instanceof(n=n||O());if(!t&&!i.call(C,this))return new C(e);this._writableState=new B(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function R(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function M(e,t,r,n){r||0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain")),t.pendingcb--,n(),F(e,t)}function L(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=Array(t.bufferedRequestCount),o=t.corkedRequestsFree;o.entry=n;for(var a=0,s=!0;n;)i[a]=n,n.isBuf||(s=!1),n=n.next,a+=1;i.allBuffers=s,R(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,c=n.callback,d=t.objectMode?1:u.length;if(R(e,t,!1,d,u,l,c),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function N(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function D(e,t){e._final(function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),F(e,t)})}function F(e,t){var r=N(t);if(r&&(t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,o.nextTick(D,e,t))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}y()(C,s),B.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(B.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!i.call(this,e)||this===C&&e&&e._writableState instanceof B}})):i=function(e){return e instanceof this},C.prototype.pipe=function(){S(this,new g)},C.prototype.write=function(e,t,r){var n,i,a,s,c,d,p,h=this._writableState,m=!1,g=!h.objectMode&&(n=e,u.isBuffer(n)||n instanceof l);return g&&!u.isBuffer(e)&&(i=e,e=u.from(i)),"function"==typeof t&&(r=t,t=null),g?t="buffer":t||(t=h.defaultEncoding),"function"!=typeof r&&(r=P),h.ending?(a=r,S(this,s=new v),o.nextTick(a,s)):!g&&(c=e,d=r,null===c?p=new w:"string"==typeof c||h.objectMode||(p=new f("chunk",["string","Buffer"],c)),p&&(S(this,p),o.nextTick(d,p),1))||(h.pendingcb++,m=function(e,t,r,n,i,o){if(!r){var a,s,l=(a=n,s=i,t.objectMode||!1===t.decodeStrings||"string"!=typeof a||(a=u.from(a,s)),a);n!==l&&(r=!0,i="buffer",n=l)}var c=t.objectMode?1:n.length;t.length+=c;var d=t.length<t.highWaterMark;if(d||(t.needDrain=!0),t.writing||t.corked){var p=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},p?p.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else R(e,t,!1,c,n,i,o);return d}(this,h,g,e,t,r)),m},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;!e.corked||(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||L(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new A(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,r){r(new h("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,r){var n,i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||(n=r,i.ending=!0,F(this,i),n&&(i.finished?o.nextTick(n):this.once("finish",n)),i.ended=!0,this.writable=!1),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=c.destroy,C.prototype._undestroy=c.undestroy,C.prototype._destroy=function(e,t){t(e)}}),O=f((e,t)=>{var r,n,i,a=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=l;var s=N(),u=P();for(y()(l,s),r=a(u.prototype),i=0;i<r.length;i++)n=r[i],l.prototype[n]||(l.prototype[n]=u.prototype[n]);function l(e){if(!(this instanceof l))return new l(e);s.call(this,e),u.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||o.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}),B=f((e,t)=>{var r=k(),n=r.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=o),o.prototype=Object.create(n.prototype),i(n,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return r.SlowBuffer(e)}}),C=f(e=>{var t=B().Buffer,r=t.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(e){var n;switch(this.encoding=function(e){var n=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof n&&(t.isEncoding===r||!r(e)))throw Error("Unknown encoding: "+e);return n||e}(e),this.encoding){case"utf16le":this.text=a,this.end=s,n=4;break;case"utf8":this.fillLast=o,n=4;break;case"base64":this.text=u,this.end=l,n=3;break;default:this.write=c,this.end=d;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(n)}function i(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,"\ufffd"}}(this,e,0);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function a(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function s(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function c(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}e.StringDecoder=n,n.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},n.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},n.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var o=i(t[n]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--n<r||-2===o?0:(o=i(t[n]))>=0?(o>0&&(e.lastNeed=o-2),o):--n<r||-2===o?0:(o=i(t[n]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},n.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}}),R=f((e,t)=>{var r=E().codes.ERR_STREAM_PREMATURE_CLOSE;function n(){}t.exports=function e(t,i,o){if("function"==typeof i)return e(t,null,i);i||(i={}),a=o||n,s=!1,o=function(){if(!s){s=!0;for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];a.apply(this,t)}};var a,s,u=i.readable||!1!==i.readable&&t.readable,l=i.writable||!1!==i.writable&&t.writable,c=function(){t.writable||p()},d=t._writableState&&t._writableState.finished,p=function(){l=!1,d=!0,u||o.call(t)},f=t._readableState&&t._readableState.endEmitted,h=function(){u=!1,f=!0,l||o.call(t)},m=function(e){o.call(t,e)},g=function(){var e;return u&&!f?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):l&&!d?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},y=function(){t.req.on("finish",p)};return t.setHeader&&"function"==typeof t.abort?(t.on("complete",p),t.on("abort",g),t.req?y():t.on("request",y)):l&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",h),t.on("finish",p),!1!==i.error&&t.on("error",m),t.on("close",g),function(){t.removeListener("complete",p),t.removeListener("abort",g),t.removeListener("request",y),t.req&&t.req.removeListener("finish",p),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",p),t.removeListener("end",h),t.removeListener("error",m),t.removeListener("close",g)}}}),M=f((e,t)=>{function r(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n,i=R(),a=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),d=Symbol("handlePromise"),p=Symbol("stream");function f(e,t){return{value:e,done:t}}function h(e){var t=e[a];if(null!==t){var r=e[p].read();null!==r&&(e[c]=null,e[a]=null,e[s]=null,t(f(r,!1)))}}function m(e){o.nextTick(h,e)}var g=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((r(n={get stream(){return this[p]},next:function(){var e,t=this,r=this[u];if(null!==r)return Promise.reject(r);if(this[l])return Promise.resolve(f(void 0,!0));if(this[p].destroyed)return new Promise(function(e,r){o.nextTick(function(){t[u]?r(t[u]):e(f(void 0,!0))})});var n,i=this[c];if(i)n=new Promise((e=this,function(t,r){i.then(function(){if(e[l]){t(f(void 0,!0));return}e[d](t,r)},r)}));else{var a=this[p].read();if(null!==a)return Promise.resolve(f(a,!1));n=new Promise(this[d])}return this[c]=n,n}},Symbol.asyncIterator,function(){return this}),r(n,"return",function(){var e=this;return new Promise(function(t,r){e[p].destroy(null,function(e){if(e){r(e);return}t(f(void 0,!0))})})}),n),g);t.exports=function(e){var t,n=Object.create(y,(r(t={},p,{value:e,writable:!0}),r(t,a,{value:null,writable:!0}),r(t,s,{value:null,writable:!0}),r(t,u,{value:null,writable:!0}),r(t,l,{value:e._readableState.endEmitted,writable:!0}),r(t,d,{value:function(e,t){var r=n[p].read();r?(n[c]=null,n[a]=null,n[s]=null,e(f(r,!1))):(n[a]=e,n[s]=t)},writable:!0}),t));return n[c]=null,i(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];null!==t&&(n[c]=null,n[a]=null,n[s]=null,t(e)),n[u]=e;return}var r=n[a];null!==r&&(n[c]=null,n[a]=null,n[s]=null,r(f(void 0,!0))),n[l]=!0}),e.on("readable",m.bind(null,n)),n}}),L=f((e,t)=>{t.exports=function(){throw Error("Readable.from is not available in the browser")}}),N=f((e,t)=>{t.exports=D,D.ReadableState=N,b().EventEmitter;var r,n,i=function(e,t){return e.listeners(t).length},a=_(),s=k().Buffer,u=("u">typeof ec?ec:"u">typeof window?window:"u">typeof self?self:{}).Uint8Array||function(){},l=A();n=l&&l.debuglog?l.debuglog("stream"):function(){};var c,d,p,f=S(),h=I(),m=T().getHighWaterMark,g=E().codes,w=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,x=g.ERR_METHOD_NOT_IMPLEMENTED,P=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;y()(D,a);var B=h.errorOrDestroy,R=["error","close","destroy","pause","resume"];function N(e,t,n){r=r||O(),e=e||{},"boolean"!=typeof n&&(n=t instanceof r),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",n),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=C().StringDecoder),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function D(e){if(r=r||O(),!(this instanceof D))return new D(e);var t=this instanceof r;this._readableState=new N(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function F(e,t,r,i,o){n("readableAddChunk",t);var a,l,c,d,p,f=e._readableState;if(null===t)f.reading=!1,function(e,t){if(n("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?j(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,W(e)))}}(e,f);else{if(o||(a=f,l=t,s.isBuffer(l)||l instanceof u||"string"==typeof l||void 0===l||a.objectMode||(c=new w("chunk",["string","Buffer","Uint8Array"],l)),p=c),p)B(e,p);else if(f.objectMode||t&&t.length>0){if("string"==typeof t||f.objectMode||Object.getPrototypeOf(t)===s.prototype||(d=t,t=s.from(d)),i)f.endEmitted?B(e,new P):q(e,f,t,!0);else if(f.ended)B(e,new v);else{if(f.destroyed)return!1;f.reading=!1,f.decoder&&!r?(t=f.decoder.write(t),f.objectMode||0!==t.length?q(e,f,t,!1):K(e,f)):q(e,f,t,!1)}}else i||(f.reading=!1,K(e,f))}return!f.ended&&(f.length<f.highWaterMark||0===f.length)}function q(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&j(e)),K(e,t)}function U(e,t){var r;return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=((r=e)>=1073741824?r=1073741824:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function j(e){var t=e._readableState;n("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(n("emitReadable",t.flowing),t.emittedReadable=!0,o.nextTick(W,e))}function W(e){var t=e._readableState;n("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,$(e)}function K(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(z,e,t))}function z(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(n("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function V(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function H(e){n("readable nexttick read 0"),e.read(0)}function G(e,t){n("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),$(e),t.flowing&&!t.reading&&e.read(0)}function $(e){var t=e._readableState;for(n("flow",t.flowing);t.flowing&&null!==e.read(););}function X(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function Z(e){var t=e._readableState;n("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,o.nextTick(Q,t,e))}function Q(e,t){if(n("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function Y(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),D.prototype.destroy=h.destroy,D.prototype._undestroy=h.undestroy,D.prototype._destroy=function(e,t){t(e)},D.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),F(this,e,t,!1,r)},D.prototype.unshift=function(e){return F(this,e,null,!0,!1)},D.prototype.isPaused=function(){return!1===this._readableState.flowing},D.prototype.setEncoding=function(e){c||(c=C().StringDecoder);var t=new c(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this},D.prototype.read=function(e){n("read",e),e=parseInt(e,10);var t,r=this._readableState,i=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return n("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?Z(this):j(this),null;if(0===(e=U(e,r))&&r.ended)return 0===r.length&&Z(this),null;var o=r.needReadable;return n("need readable",o),(0===r.length||r.length-e<r.highWaterMark)&&n("length less than watermark",o=!0),r.ended||r.reading?n("reading or ended",o=!1):o&&(n("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=U(i,r))),null===(t=e>0?X(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),i!==e&&r.ended&&Z(this)),null!==t&&this.emit("data",t),t},D.prototype._read=function(e){B(this,new x("_read()"))},D.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,n("pipe count=%d opts=%j",a.pipesCount,t);var s=t&&!1===t.end||e===o.stdout||e===o.stderr?m:u;function u(){n("onend"),e.end()}a.endEmitted?o.nextTick(s):r.once("end",s),e.on("unpipe",function t(i,o){n("onunpipe"),i===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,n("cleanup"),e.removeListener("close",f),e.removeListener("finish",h),e.removeListener("drain",l),e.removeListener("error",p),e.removeListener("unpipe",t),r.removeListener("end",u),r.removeListener("end",m),r.removeListener("data",d),c=!0,a.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l())});var l=function(){var e=r._readableState;n("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&i(r,"data")&&(e.flowing=!0,$(r))};e.on("drain",l);var c=!1;function d(t){n("ondata");var i=e.write(t);n("dest.write",i),!1===i&&((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==Y(a.pipes,e))&&!c&&(n("false write response, pause",a.awaitDrain),a.awaitDrain++),r.pause())}function p(t){n("onerror",t),m(),e.removeListener("error",p),0===i(e,"error")&&B(e,t)}function f(){e.removeListener("finish",h),m()}function h(){n("onfinish"),e.removeListener("close",f),m()}function m(){n("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",p),e.once("close",f),e.once("finish",h),e.emit("pipe",r),a.flowing||(n("pipe resume"),r.resume()),e},D.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Y(t.pipes,e);return -1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},D.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"!==e||i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,n("on readable",i.length,i.reading),i.length?j(this):i.reading||o.nextTick(H,this)),r},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&o.nextTick(V,this),r},D.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&o.nextTick(V,this),t},D.prototype.resume=function(){var e=this._readableState;return e.flowing||(n("resume"),e.flowing=!e.readableListening,e.resumeScheduled||(e.resumeScheduled=!0,o.nextTick(G,this,e))),e.paused=!1,this},D.prototype.pause=function(){return n("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(n("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},D.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var o in e.on("end",function(){if(n("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(o){n("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||!r.objectMode&&(!o||!o.length)||t.push(o)||(i=!0,e.pause())}),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var a=0;a<R.length;a++)e.on(R[a],this.emit.bind(this,R[a]));return this._read=function(t){n("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(D.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=M()),d(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),D._fromList=X,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(D.from=function(e,t){return void 0===p&&(p=L()),p(D,e,t)})}),D=f((e,t)=>{t.exports=l;var r=E().codes,n=r.ERR_METHOD_NOT_IMPLEMENTED,i=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,s=O();function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new i);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);s.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",c)}function c(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush(function(t,r){d(e,t,r)})}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}y()(l,s),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new n("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){s.prototype._destroy.call(this,e,function(e){t(e)})}}),F=f((e,t)=>{t.exports=n;var r=D();function n(e){if(!(this instanceof n))return new n(e);r.call(this,e)}y()(n,r),n.prototype._transform=function(e,t,r){r(null,e)}}),q=f((e,t)=>{var r,n=E().codes,i=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function s(e){e()}function u(e,t){return e.pipe(t)}t.exports=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var l=(c=t).length&&"function"==typeof c[c.length-1]?c.pop():a;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var c,d,p=t.map(function(e,n){var i,a,u,c,f,h=n<t.length-1;return a=i=function(e){d||(d=e),e&&p.forEach(s),h||(p.forEach(s),l(d))},u=!1,i=function(){u||(u=!0,a.apply(void 0,arguments))},c=!1,e.on("close",function(){c=!0}),void 0===r&&(r=R()),r(e,{readable:h,writable:n>0},function(e){if(e)return i(e);c=!0,i()}),f=!1,function(t){if(!c&&!f){if(f=!0,e.setHeader&&"function"==typeof e.abort)return e.abort();if("function"==typeof e.destroy)return e.destroy();i(t||new o("pipe"))}}});return t.reduce(u)}}),U=f((e,t)=>{(e=t.exports=N()).Stream=e,e.Readable=e,e.Writable=P(),e.Duplex=O(),e.Transform=D(),e.PassThrough=F(),e.finished=R(),e.pipeline=q()}),j=f(e=>{var t=g(),r=y(),n=U(),i=e.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},s=e.IncomingMessage=function(e,r,i,s){var u=this;if(n.Readable.call(u),u._mode=i,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",function(){o.nextTick(function(){u.emit("close")})}),"fetch"===i){let e=function(){c.read().then(function(t){if(!u._destroyed){if(s(t.done),t.done){u.push(null);return}u.push(a.from(t.value)),e()}}).catch(function(e){s(!0),u._destroyed||u.emit("error",e)})};if(u._fetchResponse=r,u.url=r.url,u.statusCode=r.status,u.statusMessage=r.statusText,r.headers.forEach(function(e,t){u.headers[t.toLowerCase()]=e,u.rawHeaders.push(t,e)}),t.writableStream){var l=new WritableStream({write:function(e){return s(!1),new Promise(function(t,r){u._destroyed?r():u.push(a.from(e))?t():u._resumeFetch=t})},close:function(){s(!0),u._destroyed||u.push(null)},abort:function(e){s(!0),u._destroyed||u.emit("error",e)}});try{r.body.pipeTo(l).catch(function(e){s(!0),u._destroyed||u.emit("error",e)});return}catch(e){}}var c=r.body.getReader();e()}else if(u._xhr=e,u._pos=0,u.url=e.responseURL,u.statusCode=e.status,u.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===u.headers[r]&&(u.headers[r]=[]),u.headers[r].push(t[2])):void 0!==u.headers[r]?u.headers[r]+=", "+t[2]:u.headers[r]=t[2],u.rawHeaders.push(t[1],t[2])}}),u._charset="x-user-defined",!t.overrideMimeType){var d=u.rawHeaders["mime-type"];if(d){var p=d.match(/;\s*charset=([^;])(;|$)/);p&&(u._charset=p[1].toLowerCase())}u._charset||(u._charset="utf-8")}};r(s,n.Readable),s.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},s.prototype._onXHRProgress=function(e){var t=this,r=t._xhr,n=null;switch(t._mode){case"text":if((n=r.responseText).length>t._pos){var o=n.substr(t._pos);if("x-user-defined"===t._charset){for(var s=a.alloc(o.length),u=0;u<o.length;u++)s[u]=255&o.charCodeAt(u);t.push(s)}else t.push(o,t._charset);t._pos=n.length}break;case"arraybuffer":if(r.readyState!==i.DONE||!r.response)break;n=r.response,t.push(a.from(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=r.response,r.readyState!==i.LOADING||!n)break;t.push(a.from(new Uint8Array(n)));break;case"ms-stream":if(n=r.response,r.readyState!==i.LOADING)break;var l=new ec.MSStreamReader;l.onprogress=function(){l.result.byteLength>t._pos&&(t.push(a.from(new Uint8Array(l.result.slice(t._pos)))),t._pos=l.result.byteLength)},l.onload=function(){e(!0),t.push(null)},l.readAsArrayBuffer(n)}t._xhr.readyState===i.DONE&&"ms-stream"!==t._mode&&(e(!0),t.push(null))}}),W=f((e,t)=>{var r=g(),n=y(),i=j(),s=U(),u=i.IncomingMessage,l=i.readyStates,c=t.exports=function(e){var t,n,i=this;s.Writable.call(i),i._opts=e,i._body=[],i._headers={},e.auth&&i.setHeader("Authorization","Basic "+a.from(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(t){i.setHeader(t,e.headers[t])});var o,u=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!r.abortController)u=!1,o=!0;else if("prefer-streaming"===e.mode)o=!1;else if("allow-wrong-content-type"===e.mode)o=!r.overrideMimeType;else if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw Error("Invalid value for opts.mode");else o=!0;i._mode=(t=o,n=u,r.fetch&&n?"fetch":r.mozchunkedarraybuffer?"moz-chunked-arraybuffer":r.msstream?"ms-stream":r.arraybuffer&&t?"arraybuffer":"text"),i._fetchTimer=null,i._socketTimeout=null,i._socketTimer=null,i.on("finish",function(){i._onFinish()})};n(c,s.Writable),c.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===d.indexOf(r)&&(this._headers[r]={name:e,value:t})},c.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},c.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},c.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts;"timeout"in t&&0!==t.timeout&&e.setTimeout(t.timeout);var n=e._headers,i=null;"GET"!==t.method&&"HEAD"!==t.method&&(i=new Blob(e._body,{type:(n["content-type"]||{}).value||""}));var a=[];if(Object.keys(n).forEach(function(e){var t=n[e].name,r=n[e].value;Array.isArray(r)?r.forEach(function(e){a.push([t,e])}):a.push([t,r])}),"fetch"===e._mode){var s=null;if(r.abortController){var u=new AbortController;s=u.signal,e._fetchAbortController=u,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=ec.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},t.requestTimeout))}ec.fetch(e._opts.url,{method:e._opts.method,headers:a,body:i||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:s}).then(function(t){e._fetchResponse=t,e._resetTimers(!1),e._connect()},function(t){e._resetTimers(!0),e._destroyed||e.emit("error",t)})}else{var c=e._xhr=new ec.XMLHttpRequest;try{c.open(e._opts.method,e._opts.url,!0)}catch(t){o.nextTick(function(){e.emit("error",t)});return}"responseType"in c&&(c.responseType=e._mode),"withCredentials"in c&&(c.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in c&&c.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(c.timeout=t.requestTimeout,c.ontimeout=function(){e.emit("requestTimeout")}),a.forEach(function(e){c.setRequestHeader(e[0],e[1])}),e._response=null,c.onreadystatechange=function(){switch(c.readyState){case l.LOADING:case l.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(c.onprogress=function(){e._onXHRProgress()}),c.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",Error("XHR error")))};try{c.send(i)}catch(t){o.nextTick(function(){e.emit("error",t)});return}}}},c.prototype._onXHRProgress=function(){this._resetTimers(!1),!function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}(this._xhr)||this._destroyed||(this._response||this._connect(),this._response._onXHRProgress(this._resetTimers.bind(this)))},c.prototype._connect=function(){var e=this;e._destroyed||(e._response=new u(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},c.prototype._write=function(e,t,r){this._body.push(e),r()},c.prototype._resetTimers=function(e){var t=this;ec.clearTimeout(t._socketTimer),t._socketTimer=null,e?(ec.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=ec.setTimeout(function(){t.emit("timeout")},t._socketTimeout))},c.prototype.abort=c.prototype.destroy=function(e){this._destroyed=!0,this._resetTimers(!0),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort(),e&&this.emit("error",e)},c.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),s.Writable.prototype.end.call(this,e,t,r)},c.prototype.setTimeout=function(e,t){t&&this.once("timeout",t),this._socketTimeout=e,this._resetTimers(!1)},c.prototype.flushHeaders=function(){},c.prototype.setNoDelay=function(){},c.prototype.setSocketKeepAlive=function(){};var d=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}),K=f((e,t)=>{t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e};var r=Object.prototype.hasOwnProperty}),z=f((e,t)=>{t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}}),V=f((t,r)=>{!function(n){var i="object"==typeof t&&t&&!t.nodeType&&t,o="object"==typeof r&&r&&!r.nodeType&&r,a="object"==typeof ec&&ec;(a.global===a||a.window===a||a.self===a)&&(n=a);var s,u,l=/^xn--/,c=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,h=String.fromCharCode;function m(e){throw RangeError(p[e])}function g(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function y(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+g((e=e.replace(d,".")).split("."),t).join(".")}function b(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?(64512&(r=e.charCodeAt(i++)))==56320?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function _(e){return g(e,function(e){var t="";return e>65535&&(e-=65536,t+=h(e>>>10&1023|55296),e=56320|1023&e),t+=h(e)}).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function v(e,t,r){var n=0;for(e=r?f(e/700):e>>1,e+=f(e/t);e>455;n+=36)e=f(e/35);return f(n+36*e/(e+38))}function k(e){var t,r,n,i,o,a,s,u,l,c,d,p=[],h=e.length,g=0,y=128,b=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&m("not-basic"),p.push(e.charCodeAt(i));for(o=n>0?n+1:0;o<h;){for(a=g,s=1,u=36;o>=h&&m("invalid-input"),((l=(t=e.charCodeAt(o++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36)>=36||l>f((2147483647-g)/s))&&m("overflow"),g+=l*s,!(l<(c=u<=b?1:u>=b+26?26:u-b));u+=36)s>f(2147483647/(d=36-c))&&m("overflow"),s*=d;b=v(g-a,r=p.length+1,0==a),f(g/r)>2147483647-y&&m("overflow"),y+=f(g/r),g%=r,p.splice(g++,0,y)}return _(p)}function A(e){var t,r,n,i,o,a,s,u,l,c,d,p,g,y,_,k=[];for(p=(e=b(e)).length,t=128,r=0,o=72,a=0;a<p;++a)(d=e[a])<128&&k.push(h(d));for(n=i=k.length,i&&k.push("-");n<p;){for(s=2147483647,a=0;a<p;++a)(d=e[a])>=t&&d<s&&(s=d);for(s-t>f((2147483647-r)/(g=n+1))&&m("overflow"),r+=(s-t)*g,t=s,a=0;a<p;++a)if((d=e[a])<t&&++r>2147483647&&m("overflow"),d==t){for(u=r,l=36;!(u<(c=l<=o?1:l>=o+26?26:l-o));l+=36)_=u-c,y=36-c,k.push(h(w(c+_%y,0))),u=f(_/y);k.push(h(w(u,0))),o=v(r,g,n==i),r=0,++n}++r,++t}return k.join("")}if(s={version:"1.4.1",ucs2:{decode:b,encode:_},decode:k,encode:A,toASCII:function(e){return y(e,function(e){return c.test(e)?"xn--"+A(e):e})},toUnicode:function(e){return y(e,function(e){return l.test(e)?k(e.slice(4).toLowerCase()):e})}},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return s});else if(i&&o){if(r.exports==i)o.exports=s;else for(u in s)s.hasOwnProperty(u)&&(i[u]=s[u])}else n.punycode=s}(t)}),H=f((e,t)=>{t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}}),G=f((e,t)=>{var r="u">typeof Symbol&&Symbol,n=H();t.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&n()}}),$=f((e,t)=>{var r={foo:{}},n=Object;t.exports=function(){return({__proto__:r}).foo===r.foo&&!(({__proto__:null})instanceof n)}}),X=f((e,t)=>{var r=Array.prototype.slice,n=Object.prototype.toString;t.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==n.call(t))throw TypeError("Function.prototype.bind called on incompatible "+t);for(var i,o=r.call(arguments,1),a=Math.max(0,t.length-o.length),s=[],u=0;u<a;u++)s.push("$"+u);if(i=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(!(this instanceof i))return t.apply(e,o.concat(r.call(arguments)));var n=t.apply(this,o.concat(r.call(arguments)));return Object(n)===n?n:this}),t.prototype){var l=function(){};l.prototype=t.prototype,i.prototype=new l,l.prototype=null}return i}}),Z=f((e,t)=>{var r=X();t.exports=Function.prototype.bind||r}),Q=f((e,t)=>{var r=Z();t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)}),Y=f((e,t)=>{var r,n=SyntaxError,i=Function,o=TypeError,a=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(e){s=null}var u=function(){throw new o},l=s?function(){try{return arguments.callee,u}catch(e){try{return s(arguments,"callee").get}catch(e){return u}}}():u,c=G()(),d=$()(),p=Object.getPrototypeOf||(d?function(e){return e.__proto__}:null),f={},h=typeof Uint8Array>"u"||!p?r:p(Uint8Array),m={"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":c&&p?p([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c&&p?p(p([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":!(typeof Map>"u")&&c&&p?p(new Map()[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":!(typeof Set>"u")&&c&&p?p(new Set()[Symbol.iterator]()):r,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c&&p?p(""[Symbol.iterator]()):r,"%Symbol%":c?Symbol:r,"%SyntaxError%":n,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(p)try{null.error}catch(e){g=p(p(e)),m["%Error.prototype%"]=g}var g,y=function e(t){var r;if("%AsyncFunction%"===t)r=a("async function () {}");else if("%GeneratorFunction%"===t)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=a("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&p&&(r=p(i.prototype))}return m[t]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_=Z(),w=Q(),v=_.call(Function.call,Array.prototype.concat),k=_.call(Function.apply,Array.prototype.splice),A=_.call(Function.call,String.prototype.replace),S=_.call(Function.call,String.prototype.slice),I=_.call(Function.call,RegExp.prototype.exec),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,x=function(e){var t=S(e,0,1),r=S(e,-1);if("%"===t&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var i=[];return A(e,E,function(e,t,r,n){i[i.length]=r?A(n,T,"$1"):t||e}),i},P=function(e,t){var r,i=e;if(w(b,i)&&(i="%"+(r=b[i])[0]+"%"),w(m,i)){var a=m[i];if(a===f&&(a=y(i)),typeof a>"u"&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:i,value:a}}throw new n("intrinsic "+e+" does not exist!")};t.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new o('"allowMissing" argument must be a boolean');if(null===I(/^%?[^%]*%?$/,e))throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=x(e),i=r.length>0?r[0]:"",a=P("%"+i+"%",t),u=a.name,l=a.value,c=!1,d=a.alias;d&&(i=d[0],k(r,v([0,1],d)));for(var p=1,f=!0;p<r.length;p+=1){var h=r[p],g=S(h,0,1),y=S(h,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new n("property names with quotes must have matching quotes");if("constructor"!==h&&f||(c=!0),i+="."+h,w(m,u="%"+i+"%"))l=m[u];else if(null!=l){if(!(h in l)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(s&&p+1>=r.length){var b=s(l,h);l=(f=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:l[h]}else f=w(l,h),l=l[h];f&&!c&&(m[u]=l)}}return l}}),J=f((e,t)=>{var r=Z(),n=Y(),i=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||r.call(o,i),s=n("%Object.getOwnPropertyDescriptor%",!0),u=n("%Object.defineProperty%",!0),l=n("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}t.exports=function(e){var t=a(r,o,arguments);return s&&u&&s(t,"length").configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))}),t};var c=function(){return a(r,i,arguments)};u?u(t.exports,"apply",{value:c}):t.exports.apply=c}),ee=f((e,t)=>{var r=Y(),n=J(),i=n(r("String.prototype.indexOf"));t.exports=function(e,t){var o=r(e,!!t);return"function"==typeof o&&i(e,".prototype.")>-1?n(o):o}}),et=f(()=>{}),er=f((e,t)=>{var r="function"==typeof Map&&Map.prototype,n=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&n&&"function"==typeof n.get?n.get:null,o=r&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,s=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&s&&"function"==typeof s.get?s.get:null,l=a&&Set.prototype.forEach,c="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,h=Object.prototype.toString,m=Function.prototype.toString,g=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,w=String.prototype.toLowerCase,v=RegExp.prototype.test,k=Array.prototype.concat,A=Array.prototype.join,S=Array.prototype.slice,I=Math.floor,E="function"==typeof BigInt?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,P="function"==typeof Symbol&&"object"==typeof Symbol.iterator,O="function"==typeof Symbol&&Symbol.toStringTag?Symbol.toStringTag:null,B=Object.prototype.propertyIsEnumerable,C=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function R(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||v.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-I(-e):I(e);if(n!==e){var i=String(n),o=y.call(t,i.length+1);return b.call(i,r,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var M=et(),L=M.custom,N=U(L)?L:null;function D(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function F(e){return"[object Array]"===K(e)&&(!O||!("object"==typeof e&&O in e))}function q(e){return"[object RegExp]"===K(e)&&(!O||!("object"==typeof e&&O in e))}function U(e){if(P)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!x)return!1;try{return x.call(e),!0}catch(e){}return!1}t.exports=function e(t,r,n,a){var s=r||{};if(W(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw TypeError('option "quoteStyle" must be "single" or "double"');if(W(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var h=!W(s,"customInspect")||s.customInspect;if("boolean"!=typeof h&&"symbol"!==h)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(W(s,"indent")&&null!==s.indent&&"	"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(W(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _=s.numericSeparator;if(typeof t>"u")return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,r){if(t.length>r.maxStringLength){var n=t.length-r.maxStringLength;return e(y.call(t,0,r.maxStringLength),r)+"... "+n+" more character"+(n>1?"s":"")}return D(b.call(b.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,V),"single",r)}(t,s);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var v=String(t);return _?R(t,v):v}if("bigint"==typeof t){var I=String(t)+"n";return _?R(t,I):I}var T=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=T&&T>0&&"object"==typeof t)return F(t)?"[Array]":"[Object]";var L=function(e,t){var r;if("	"===e.indent)r="	";else{if("number"!=typeof e.indent||!(e.indent>0))return null;r=A.call(Array(e.indent+1)," ")}return{base:r,prev:A.call(Array(t+1),r)}}(s,n);if(typeof a>"u")a=[];else if(z(a,t)>=0)return"[Circular]";function j(t,r,i){if(r&&(a=S.call(a)).push(r),i){var o={depth:s.depth};return W(s,"quoteStyle")&&(o.quoteStyle=s.quoteStyle),e(t,o,n+1,a)}return e(t,s,n+1,a)}if("function"==typeof t&&!q(t)){var Q=function(e){if(e.name)return e.name;var t=g.call(m.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),Y=Z(t,j);return"[Function"+(Q?": "+Q:" (anonymous)")+"]"+(Y.length>0?" { "+A.call(Y,", ")+" }":"")}if(U(t)){var J=P?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):x.call(t);return"object"!=typeof t||P?J:H(J)}if(t&&"object"==typeof t&&("u">typeof HTMLElement&&t instanceof HTMLElement||"string"==typeof t.nodeName&&"function"==typeof t.getAttribute)){for(var ee,et="<"+w.call(String(t.nodeName)),er=t.attributes||[],en=0;en<er.length;en++)et+=" "+er[en].name+"="+D((ee=er[en].value,b.call(String(ee),/"/g,"&quot;")),"double",s);return et+=">",t.childNodes&&t.childNodes.length&&(et+="..."),et+="</"+w.call(String(t.nodeName))+">"}if(F(t)){if(0===t.length)return"[]";var ei=Z(t,j);return L&&!function(e){for(var t=0;t<e.length;t++)if(z(e[t],"\n")>=0)return!1;return!0}(ei)?"["+X(ei,L)+"]":"[ "+A.call(ei,", ")+" ]"}if("[object Error]"===K(t)&&(!O||!("object"==typeof t&&O in t))){var eo=Z(t,j);return"cause"in Error.prototype||!("cause"in t)||B.call(t,"cause")?0===eo.length?"["+String(t)+"]":"{ ["+String(t)+"] "+A.call(eo,", ")+" }":"{ ["+String(t)+"] "+A.call(k.call("[cause]: "+j(t.cause),eo),", ")+" }"}if("object"==typeof t&&h){if(N&&"function"==typeof t[N]&&M)return M(t,{depth:T-n});if("symbol"!==h&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ea=[];return o&&o.call(t,function(e,r){ea.push(j(r,t,!0)+" => "+j(e,t))}),$("Map",i.call(t),ea,L)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var es=[];return l&&l.call(t,function(e){es.push(j(e,t))}),$("Set",u.call(t),es,L)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e,c);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return G("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{c.call(e,c)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return G("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return G("WeakRef");if("[object Number]"===K(t)&&(!O||!("object"==typeof t&&O in t)))return H(j(Number(t)));if(function(e){if(!e||"object"!=typeof e||!E)return!1;try{return E.call(e),!0}catch(e){}return!1}(t))return H(j(E.call(t)));if("[object Boolean]"===K(t)&&(!O||!("object"==typeof t&&O in t)))return H(f.call(t));if("[object String]"===K(t)&&(!O||!("object"==typeof t&&O in t)))return H(j(String(t)));if(!("[object Date]"===K(t)&&(!O||!("object"==typeof t&&O in t)))&&!q(t)){var eu=Z(t,j),el=C?C(t)===Object.prototype:t instanceof Object||t.constructor===Object,ec=t instanceof Object?"":"null prototype",ed=!el&&O&&Object(t)===t&&O in t?y.call(K(t),8,-1):ec?"Object":"",ep=(el||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ed||ec?"["+A.call(k.call([],ed||[],ec||[]),": ")+"] ":"");return 0===eu.length?ep+"{}":L?ep+"{"+X(eu,L)+"}":ep+"{ "+A.call(eu,", ")+" }"}return String(t)};var j=Object.prototype.hasOwnProperty||function(e){return e in this};function W(e,t){return j.call(e,t)}function K(e){return h.call(e)}function z(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}function V(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function H(e){return"Object("+e+")"}function G(e){return e+" { ? }"}function $(e,t,r,n){return e+" ("+t+") {"+(n?X(r,n):A.call(r,", "))+"}"}function X(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+A.call(e,","+r)+"\n"+t.prev}function Z(e,t){var r=F(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=W(e,i)?t(e[i],e):""}var o,a="function"==typeof T?T(e):[];if(P){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var u in e)W(e,u)&&(r&&String(Number(u))===u&&u<e.length||P&&o["$"+u]instanceof Symbol||(v.call(/[^\w$]/,u)?n.push(t(u,e)+": "+t(e[u],e)):n.push(u+": "+t(e[u],e))));if("function"==typeof T)for(var l=0;l<a.length;l++)B.call(e,a[l])&&n.push("["+t(a[l])+"]: "+t(e[a[l]],e));return n}}),en=f((e,t)=>{var r=Y(),n=ee(),i=er(),o=r("%TypeError%"),a=r("%WeakMap%",!0),s=r("%Map%",!0),u=n("WeakMap.prototype.get",!0),l=n("WeakMap.prototype.set",!0),c=n("WeakMap.prototype.has",!0),d=n("Map.prototype.get",!0),p=n("Map.prototype.set",!0),f=n("Map.prototype.has",!0),h=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},m=function(e,t){var r=h(e,t);return r&&r.value},g=function(e,t,r){var n=h(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}};t.exports=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new o("Side channel does not contain "+i(e))},get:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(e)return u(e,n)}else if(s){if(t)return d(t,n)}else if(r)return m(r,n)},has:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(e)return c(e,n)}else if(s){if(t)return f(t,n)}else if(r)return!!h(r,n);return!1},set:function(n,i){a&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new a),l(e,n,i)):s?(t||(t=new s),p(t,n,i)):(r||(r={key:{},next:null}),g(r,n,i))}};return n}}),ei=f((e,t)=>{var r=String.prototype.replace,n=/%20/g,i={RFC1738:"RFC1738",RFC3986:"RFC3986"};t.exports={default:i.RFC3986,formatters:{RFC1738:function(e){return r.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:i.RFC1738,RFC3986:i.RFC3986}}),eo=f((e,t)=>{var r=ei(),n=Object.prototype.hasOwnProperty,i=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(i(r)){for(var n=[],o=0;o<r.length;++o)"u">typeof r[o]&&n.push(r[o]);t.obj[t.prop]=n}}},s=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)"u">typeof e[n]&&(r[n]=e[n]);return r};t.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],s=Object.keys(o),u=0;u<s.length;++u){var l=s[u],c=o[l];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:o,prop:l}),r.push(c))}return a(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,n,i,a){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var u="",l=0;l<s.length;++l){var c=s.charCodeAt(l);if(45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||a===r.RFC1738&&(40===c||41===c)){u+=s.charAt(l);continue}if(c<128){u+=o[c];continue}if(c<2048){u+=o[192|c>>6]+o[128|63&c];continue}if(c<55296||c>=57344){u+=o[224|c>>12]+o[128|c>>6&63]+o[128|63&c];continue}l+=1,u+=o[240|(c=65536+((1023&c)<<10|1023&s.charCodeAt(l)))>>18]+o[128|c>>12&63]+o[128|c>>6&63]+o[128|63&c]}return u},isBuffer:function(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(i(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,o){if(!r)return t;if("object"!=typeof r){if(i(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(o&&(o.plainObjects||o.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var a=t;return i(t)&&!i(r)&&(a=s(t,o)),i(t)&&i(r)?(r.forEach(function(r,i){if(n.call(t,i)){var a=t[i];a&&"object"==typeof a&&r&&"object"==typeof r?t[i]=e(a,r,o):t.push(r)}else t[i]=r}),t):Object.keys(r).reduce(function(t,i){var a=r[i];return n.call(t,i)?t[i]=e(t[i],a,o):t[i]=a,t},a)}}}),ea=f((e,t)=>{var r=en(),n=eo(),i=ei(),o=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Array.isArray,u=Array.prototype.push,l=function(e,t){u.apply(e,s(t)?t:[t])},c=Date.prototype.toISOString,d=i.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:d,formatter:i.formatters[d],indices:!1,serializeDate:function(e){return c.call(e)},skipNulls:!1,strictNullHandling:!1},f={},h=function e(t,i,o,a,u,c,d,h,m,g,y,b,_,w,v,k){for(var A,S,I=t,E=k,T=0,x=!1;void 0!==(E=E.get(f))&&!x;){var P=E.get(t);if(T+=1,"u">typeof P){if(P===T)throw RangeError("Cyclic object value");x=!0}typeof E.get(f)>"u"&&(T=0)}if("function"==typeof h?I=h(i,I):I instanceof Date?I=y(I):"comma"===o&&s(I)&&(I=n.maybeMap(I,function(e){return e instanceof Date?y(e):e})),null===I){if(u)return d&&!w?d(i,p.encoder,v,"key",b):i;I=""}if("string"==typeof(A=I)||"number"==typeof A||"boolean"==typeof A||"symbol"==typeof A||"bigint"==typeof A||n.isBuffer(I))return d?[_(w?i:d(i,p.encoder,v,"key",b))+"="+_(d(I,p.encoder,v,"value",b))]:[_(i)+"="+_(String(I))];var O=[];if(typeof I>"u")return O;if("comma"===o&&s(I))w&&d&&(I=n.maybeMap(I,d)),S=[{value:I.length>0?I.join(",")||null:void 0}];else if(s(h))S=h;else{var B=Object.keys(I);S=m?B.sort(m):B}for(var C=a&&s(I)&&1===I.length?i+"[]":i,R=0;R<S.length;++R){var M=S[R],L="object"==typeof M&&"u">typeof M.value?M.value:I[M];if(!(c&&null===L)){var N=s(I)?"function"==typeof o?o(C,M):C:C+(g?"."+M:"["+M+"]");k.set(t,T);var D=r();D.set(f,k),l(O,e(L,N,o,a,u,c,"comma"===o&&w&&s(I)?null:d,h,m,g,y,b,_,w,v,D))}}return O},m=function(e){if(!e)return p;if(null!==e.encoder&&"u">typeof e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if("u">typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=i.default;if("u">typeof e.format){if(!o.call(i.formatters,e.format))throw TypeError("Unknown format option provided.");r=e.format}var n=i.formatters[r],a=p.filter;return("function"==typeof e.filter||s(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:typeof e.allowDots>"u"?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:typeof e.delimiter>"u"?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:a,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}};t.exports=function(e,t){var n,i,o=e,u=m(t);"function"==typeof u.filter?o=(0,u.filter)("",o):s(u.filter)&&(i=u.filter);var c=[];if("object"!=typeof o||null===o)return"";n=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var d=a[n];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var p="comma"===d&&t&&t.commaRoundTrip;i||(i=Object.keys(o)),u.sort&&i.sort(u.sort);for(var f=r(),g=0;g<i.length;++g){var y=i[g];u.skipNulls&&null===o[y]||l(c,h(o[y],y,d,p,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,f))}var b=c.join(u.delimiter),_=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),b.length>0?_+b:""}}),es=f((e,t)=>{var r=eo(),n=Object.prototype.hasOwnProperty,i=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},s=function(e,t){var s,u={__proto__:null},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,c=t.parameterLimit===1/0?void 0:t.parameterLimit,d=l.split(t.delimiter,c),p=-1,f=t.charset;if(t.charsetSentinel)for(s=0;s<d.length;++s)0===d[s].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[s]?f="utf-8":"utf8=%26%2310003%3B"===d[s]&&(f="iso-8859-1"),p=s,s=d.length);for(s=0;s<d.length;++s)if(s!==p){var h,m,g=d[s],y=g.indexOf("]="),b=-1===y?g.indexOf("="):y+1;-1===b?(h=t.decoder(g,o.decoder,f,"key"),m=t.strictNullHandling?null:""):(h=t.decoder(g.slice(0,b),o.decoder,f,"key"),m=r.maybeMap(a(g.slice(b+1),t),function(e){return t.decoder(e,o.decoder,f,"value")})),m&&t.interpretNumericEntities&&"iso-8859-1"===f&&(m=m.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),g.indexOf("[]=")>-1&&(m=i(m)?[m]:m),n.call(u,h)?u[h]=r.combine(u[h],m):u[h]=m}return u},u=function(e,t,r,n){for(var i=n?t:a(t,r),o=e.length-1;o>=0;--o){var s,u=e[o];if("[]"===u&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var l="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,c=parseInt(l,10);r.parseArrays||""!==l?!isNaN(c)&&u!==l&&String(c)===l&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(s=[])[c]=i:"__proto__"!==l&&(s[l]=i):s={0:i}}i=s}return i},l=function(e,t,r,i){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=r.depth>0&&/(\[[^[\]]*])/.exec(o),l=s?o.slice(0,s.index):o,c=[];if(l){if(!r.plainObjects&&n.call(Object.prototype,l)&&!r.allowPrototypes)return;c.push(l)}for(var d=0;r.depth>0&&null!==(s=a.exec(o))&&d<r.depth;){if(d+=1,!r.plainObjects&&n.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+o.slice(s.index)+"]"),u(c,t,r,i)}},c=function(e){if(!e)return o;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw TypeError("Decoder has to be a function.");if("u">typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?o.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?o.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:o.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:o.comma,decoder:"function"==typeof e.decoder?e.decoder:o.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:o.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}};t.exports=function(e,t){var n=c(t);if(""===e||null===e||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var i="string"==typeof e?s(e,n):e,o=n.plainObjects?Object.create(null):{},a=Object.keys(i),u=0;u<a.length;++u){var d=a[u],p=l(d,i[d],n,"string"==typeof e);o=r.merge(o,p,n)}return!0===n.allowSparse?o:r.compact(o)}}),eu=f((e,t)=>{var r=ea(),n=es(),i=ei();t.exports={formats:i,parse:n,stringify:r}}),el=f(e=>{var t=V();function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var n=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,a=["'"].concat(["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","	"])),s=["%","/","?",";","#"].concat(a),u=["/","?","#"],l=/^[+a-z0-9A-Z_-]{0,63}$/,c=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},p={javascript:!0,"javascript:":!0},f={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},h=eu();function m(e,t,n){if(e&&"object"==typeof e&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}r.prototype.parse=function(e,r,i){if("string"!=typeof e)throw TypeError("Parameter 'url' must be a string, not "+typeof e);var m=e.indexOf("?"),g=-1!==m&&m<e.indexOf("#")?"?":"#",y=e.split(g);y[0]=y[0].replace(/\\/g,"/");var b=e=y.join(g);if(b=b.trim(),!i&&1===e.split("#").length){var _=o.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],r?this.query=h.parse(this.search.substr(1)):this.query=this.search.substr(1)):r&&(this.search="",this.query={}),this}var w=n.exec(b);if(w){var v=(w=w[0]).toLowerCase();this.protocol=v,b=b.substr(w.length)}if(i||w||b.match(/^\/\/[^@/]+@[^@/]+/)){var k="//"===b.substr(0,2);k&&!(w&&p[w])&&(b=b.substr(2),this.slashes=!0)}if(!p[w]&&(k||w&&!f[w])){for(var A,S,I=-1,E=0;E<u.length;E++){var T=b.indexOf(u[E]);-1!==T&&(-1===I||T<I)&&(I=T)}-1!==(S=-1===I?b.lastIndexOf("@"):b.lastIndexOf("@",I))&&(A=b.slice(0,S),b=b.slice(S+1),this.auth=decodeURIComponent(A)),I=-1;for(var E=0;E<s.length;E++){var T=b.indexOf(s[E]);-1!==T&&(-1===I||T<I)&&(I=T)}-1===I&&(I=b.length),this.host=b.slice(0,I),b=b.slice(I),this.parseHost(),this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x)for(var P=this.hostname.split(/\./),E=0,O=P.length;E<O;E++){var B=P[E];if(B&&!B.match(l)){for(var C="",R=0,M=B.length;R<M;R++)B.charCodeAt(R)>127?C+="x":C+=B[R];if(!C.match(l)){var L=P.slice(0,E),N=P.slice(E+1),D=B.match(c);D&&(L.push(D[1]),N.unshift(D[2])),N.length&&(b="/"+N.join(".")+b),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=t.toASCII(this.hostname));var F=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+F,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!d[v])for(var E=0,O=a.length;E<O;E++){var U=a[E];if(-1!==b.indexOf(U)){var j=encodeURIComponent(U);j===U&&(j=escape(U)),b=b.split(U).join(j)}}var W=b.indexOf("#");-1!==W&&(this.hash=b.substr(W),b=b.slice(0,W));var K=b.indexOf("?");if(-1!==K?(this.search=b.substr(K),this.query=b.substr(K+1),r&&(this.query=h.parse(this.query)),b=b.slice(0,K)):r&&(this.search="",this.query={}),b&&(this.pathname=b),f[v]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",z=this.search||"";this.path=F+z}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":")+"@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(o=h.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||f[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace("#","%23"))+n},r.prototype.resolve=function(e){return this.resolveObject(m(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if("string"==typeof e){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),u=0;u<s.length;u++){var l=s[u];"protocol"!==l&&(n[l]=e[l])}return f[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!f[e.protocol]){for(var c=Object.keys(e),d=0;d<c.length;d++){var h=c[d];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||p[e.protocol])n.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",y=n.search||"";n.path=g+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||b||n.host&&e.pathname,v=w,k=n.pathname&&n.pathname.split("/")||[],m=e.pathname&&e.pathname.split("/")||[],A=n.protocol&&!f[n.protocol];if(A&&(n.hostname="",n.port=null,n.host&&(""===k[0]?k[0]=n.host:k.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),w=w&&(""===m[0]||""===k[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,k=m;else if(m.length)k||(k=[]),k.pop(),k=k.concat(m),n.search=e.search,n.query=e.query;else if(null!=e.search){if(A){n.host=k.shift(),n.hostname=n.host;var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.hostname=S.shift(),n.host=n.hostname)}return n.search=e.search,n.query=e.query,(null!==n.pathname||null!==n.search)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!k.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var I=k.slice(-1)[0],E=(n.host||e.host||k.length>1)&&("."===I||".."===I)||""===I,T=0,x=k.length;x>=0;x--)"."===(I=k[x])?k.splice(x,1):".."===I?(k.splice(x,1),T++):T&&(k.splice(x,1),T--);if(!w&&!v)for(;T--;T)k.unshift("..");w&&""!==k[0]&&(!k[0]||"/"!==k[0].charAt(0))&&k.unshift(""),E&&"/"!==k.join("/").substr(-1)&&k.push("");var P=""===k[0]||k[0]&&"/"===k[0].charAt(0);if(A){n.hostname=P?"":k.length?k.shift():"",n.host=n.hostname;var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.hostname=S.shift(),n.host=n.hostname)}return(w=w||n.host&&k.length)&&!P&&k.unshift(""),k.length>0?n.pathname=k.join("/"):(n.pathname=null,n.path=null),(null!==n.pathname||null!==n.search)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=i.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.parse=m,e.resolve=function(e,t){return m(e,!1,!0).resolve(t)},e.resolveObject=function(e,t){return e?m(e,!1,!0).resolveObject(t):t},e.format=function(e){return"string"==typeof e&&(e=m(e)),e instanceof r?e.format():r.prototype.format.call(e)},e.Url=r}),ed=f(e=>{var t=W(),r=j(),n=K(),i=z(),o=el();e.request=function(e,r){e="string"==typeof e?o.parse(e):n(e);var i=-1===ec.location.protocol.search(/^https?:$/)?"http:":"",a=e.protocol||i,s=e.hostname||e.host,u=e.port,l=e.path||"/";s&&-1!==s.indexOf(":")&&(s="["+s+"]"),e.url=(s?a+"//"+s:"")+(u?":"+u:"")+l,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var c=new t(e);return r&&c.on("response",r),c},e.get=function(t,r){var n=e.request(t,r);return n.end(),n},e.ClientRequest=t,e.IncomingMessage=r.IncomingMessage,e.Agent=function(){},e.Agent.defaultMaxSockets=4,e.globalAgent=new e.Agent,e.STATUS_CODES=i,e.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}),ep=f((e,t)=>{var r,n=ed(),i=el(),o=t.exports;for(r in n)n.hasOwnProperty(r)&&(o[r]=n[r]);function a(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=a(e),n.request.call(this,e,t)},o.get=function(e,t){return e=a(e),n.get.call(this,e,t)}}),ef={};((e,t)=>{for(var r in t)u(e,r,{get:t[r],enumerable:!0})})(ef,{default:()=>eg}),t.exports=h(u({},"__esModule",{value:!0}),ef);var em=m(ep());n=m(ep()),i=t.exports,h(ef,n,"default"),i&&h(i,n,"default");var eg=em.default;/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

punycode/punycode.js:
  (*! https://mths.be/punycode v1.4.1 by @mathias *)
*/}),eh.register("8BaBP",function(e,t){v(e.exports,"compressRawPublicKey",()=>eh("4p8Gk").compressRawPublicKey),v(e.exports,"generateP256KeyPair",()=>eh("4p8Gk").generateP256KeyPair),v(e.exports,"getPublicKey",()=>eh("4p8Gk").getPublicKey),v(e.exports,"toDerSignature",()=>eh("4p8Gk").toDerSignature),v(e.exports,"decryptCredentialBundle",()=>eh("ldEGA").decryptCredentialBundle),v(e.exports,"decryptExportBundle",()=>eh("ldEGA").decryptExportBundle),eh("4p8Gk"),eh("ldEGA")}),eh.register("4p8Gk",function(e,t){v(e.exports,"getPublicKey",()=>c),v(e.exports,"hpkeEncrypt",()=>d),v(e.exports,"generateP256KeyPair",()=>h),v(e.exports,"compressRawPublicKey",()=>g),v(e.exports,"formatHpkeBuf",()=>p),v(e.exports,"uncompressRawPublicKey",()=>y),v(e.exports,"hpkeDecrypt",()=>f),v(e.exports,"fromDerSignature",()=>T),v(e.exports,"toDerSignature",()=>x);var r=eh("8Nvbl"),n=eh("keT8z"),i=eh("8gFe1"),o=eh("aHqEL"),a=eh("51uCW"),s=eh("eNzuk"),u=eh("4lfnD"),l=eh("2yHRv");let c=(e,t=!0)=>(0,r.p256).getPublicKey(e,t),d=({plainTextBuf:e,targetKeyBuf:t})=>{try{let r=h(),n=(0,s.uint8ArrayFromHexString)(r.privateKey),i=(0,s.uint8ArrayFromHexString)(r.publicKeyUncompressed),o=m(i,t),a=k(t,(0,s.uint8ArrayToHexString)(n)),u=I(i,(0,s.uint8ArrayToHexString)(t)),c=b(l.LABEL_EAE_PRK,a,l.SUITE_ID_1),d=_(l.LABEL_SHARED_SECRET,u,l.SUITE_ID_1,32),p=w(new Uint8Array([]),c,d,32);c=b(l.LABEL_SECRET,new Uint8Array([]),l.SUITE_ID_2),d=l.AES_KEY_INFO;let f=w(p,c,d,32);d=l.IV_INFO;let y=w(p,c,d,12),v=A(e,f,y,o),S=g(i),E=new Uint8Array(S.length+v.length);return E.set(S,0),E.set(v,S.length),E}catch(e){throw Error(`Unable to perform hpkeEncrypt: ${e}`)}},p=e=>{let t=e.slice(0,33),r=e.slice(33),n=(0,s.uint8ArrayToHexString)(y(t)),i=(0,s.uint8ArrayToHexString)(r);return JSON.stringify({encappedPublic:n,ciphertext:i})},f=({ciphertextBuf:e,encappedKeyBuf:t,receiverPriv:r})=>{try{let n,i;let o=c((0,s.uint8ArrayFromHexString)(r),!1),a=m(t,o),u=k(t,r),d=I(t,(0,s.uint8ArrayToHexString)(o));n=b(l.LABEL_EAE_PRK,u,l.SUITE_ID_1),i=_(l.LABEL_SHARED_SECRET,d,l.SUITE_ID_1,32);let p=w(new Uint8Array([]),n,i,32);n=b(l.LABEL_SECRET,new Uint8Array([]),l.SUITE_ID_2),i=l.AES_KEY_INFO;let f=w(p,n,i,32);i=l.IV_INFO;let h=w(p,n,i,12),g=S(e,f,h,a);return g}catch(e){throw Error(`Unable to perform hpkeDecrypt: ${e} `)}},h=()=>{let e=(0,a.randomBytes)(32),t=c(e,!0),r=(0,s.uint8ArrayToHexString)(y(t));return{privateKey:(0,s.uint8ArrayToHexString)(e),publicKey:(0,s.uint8ArrayToHexString)(t),publicKeyUncompressed:r}},m=(e,t)=>new Uint8Array([...Array.from(e),...Array.from(t)]),g=e=>{let t=e.byteLength;var r=e.slice(0,1+t>>>1);return r[0]=2|1&e[t-1],r},y=e=>{let t=3===e[0],r=BigInt("0x"+(0,s.uint8ArrayToHexString)(e.subarray(1))),n=BigInt("115792089210356248762697446949407573530086143415290314195533631308867097853951"),i=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b "),o=n-BigInt(3),a=(0,u.modSqrt)(((r*r+o)*r+i)%n,n);if(t!==(0,u.testBit)(a,0)&&(a=(n-a)%n),r<BigInt(0)||r>=n)throw Error("x is out of range");if(a<BigInt(0)||a>=n)throw Error("y is out of range");var l="04"+E(r,64)+E(a,64);return(0,s.uint8ArrayFromHexString)(l)},b=(e,t,r)=>{let n=l.HPKE_VERSION.length+r.length+e.length+t.length,i=new Uint8Array(n),o=0;return i.set(l.HPKE_VERSION,o),o+=l.HPKE_VERSION.length,i.set(r,o),o+=r.length,i.set(e,o),o+=e.length,i.set(t,o),i},_=(e,t,r,n)=>{let i=new Uint8Array(9+r.byteLength+e.byteLength+t.byteLength);return i.set(new Uint8Array([0,n]),0),i.set(l.HPKE_VERSION,2),i.set(r,9),i.set(e,9+r.byteLength),i.set(t,9+r.byteLength+e.byteLength),i},w=(e,t,r,o)=>{let a=n.extract(i.sha256,t,e),s=n.expand(i.sha256,a,r,o);return new Uint8Array(s)},k=(e,t)=>{let n=(0,r.p256).getSharedSecret((0,s.uint8ArrayFromHexString)(t),e);return n.slice(1)},A=(e,t,r,n)=>{let i=(0,o.gcm)(t,r,n),a=i.encrypt(e);return a},S=(e,t,r,n)=>{let i=(0,o.gcm)(t,r,n),a=i.decrypt(e);return a},I=(e,t)=>{let r=new Uint8Array(e),n=(0,s.uint8ArrayFromHexString)(t),i=new Uint8Array(r.length+n.length);return i.set(r),i.set(n,r.length),i},E=(e,t)=>{let r=e.toString(16);if(r.length>t)throw Error(`number cannot fit in a hex string of ${t} characters`);return r.padStart(t,"0")},T=e=>{let t=(0,s.uint8ArrayFromHexString)(e),r=2;if(2!==t[2])throw Error("failed to convert DER-encoded signature: invalid tag for r");r++;let n=t[r];r++;let i=t.slice(r,r+n);if(2!==t[r+=n])throw Error("failed to convert DER-encoded signature: invalid tag for s");r++;let o=t[r];r++;let a=t.slice(r,r+o),u=(0,s.normalizePadding)(i,32),l=(0,s.normalizePadding)(a,32);return new Uint8Array([...u,...l])},x=e=>{let t=(0,s.uint8ArrayFromHexString)(e),r=t.slice(0,32),n=t.slice(32,64),i=e=>{if(void 0===e||0===e.length||void 0===e[0])throw Error("Invalid integer: input is undefined or empty.");let t=128&e[0],r=t?new Uint8Array([0,...e]):e;return new Uint8Array([2,r.length,...r])},o=i(r),a=i(n),u=new Uint8Array([48,o.length+a.length,...o,...a]);return(0,s.uint8ArrayToHexString)(u)}}),eh.register("8Nvbl",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.encodeToCurve=e.exports.hashToCurve=e.exports.secp256r1=e.exports.p256=void 0;var r=eh("bmgGW"),n=eh("8gFe1"),i=eh("iWmSL"),o=eh("74XDJ"),a=eh("3SsMY");let s=(0,i.Field)(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),u=s.create(BigInt("-3")),l=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b");e.exports.p256=(0,r.createCurve)({a:u,b:l,Fp:s,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},n.sha256),e.exports.secp256r1=e.exports.p256;let c=(0,o.mapToCurveSimpleSWU)(s,{A:u,B:l,Z:s.create(BigInt("-10"))}),d=(0,a.createHasher)(e.exports.secp256r1.ProjectivePoint,e=>c(e[0]),{DST:"P256_XMD:SHA-256_SSWU_RO_",encodeDST:"P256_XMD:SHA-256_SSWU_NU_",p:s.ORDER,m:1,k:128,expand:"xmd",hash:n.sha256});e.exports.hashToCurve=d.hashToCurve,e.exports.encodeToCurve=d.encodeToCurve}),eh.register("bmgGW",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.createCurve=e.exports.getHash=void 0;var r=eh("6LbNt"),n=eh("51uCW"),i=eh("74XDJ");function o(e){return{hash:e,hmac:(t,...i)=>(0,r.hmac)(e,t,(0,n.concatBytes)(...i)),randomBytes:n.randomBytes}}e.exports.getHash=o,e.exports.createCurve=function(e,t){let r=t=>(0,i.weierstrass)({...e,...o(t)});return Object.freeze({...r(t),create:r})}}),eh.register("6LbNt",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.hmac=e.exports.HMAC=void 0;var r=eh("7dWcX"),n=eh("51uCW");class i extends n.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,r.hash)(e);let i=(0,n.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,a=new Uint8Array(o);a.set(i.length>o?e.create().update(i).digest():i);for(let e=0;e<a.length;e++)a[e]^=54;this.iHash.update(a),this.oHash=e.create();for(let e=0;e<a.length;e++)a[e]^=106;this.oHash.update(a),a.fill(0)}update(e){return(0,r.exists)(this),this.iHash.update(e),this}digestInto(e){(0,r.exists)(this),(0,r.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.exports.HMAC=i,e.exports.hmac=(e,t,r)=>new i(e,t).update(r).digest(),e.exports.hmac.create=(e,t)=>new i(e,t)}),eh.register("7dWcX",function(e,t){function r(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`positive integer expected, not ${e}`)}function n(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function i(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function o(e,...t){if(!i(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function u(e,t){o(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.output=e.exports.exists=e.exports.hash=e.exports.bytes=e.exports.bool=e.exports.number=e.exports.isBytes=void 0,e.exports.number=r,e.exports.bool=n,e.exports.isBytes=i,e.exports.bytes=o,e.exports.hash=a,e.exports.exists=s,e.exports.output=u,e.exports.default={number:r,bool:n,bytes:o,hash:a,exists:s,output:u}}),eh.register("51uCW",function(e,t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.randomBytes=e.exports.wrapXOFConstructorWithOpts=e.exports.wrapConstructorWithOpts=e.exports.wrapConstructor=e.exports.checkOpts=e.exports.Hash=e.exports.concatBytes=e.exports.toBytes=e.exports.utf8ToBytes=e.exports.asyncLoop=e.exports.nextTick=e.exports.hexToBytes=e.exports.bytesToHex=e.exports.byteSwap32=e.exports.byteSwapIfBE=e.exports.byteSwap=e.exports.isLE=e.exports.rotl=e.exports.rotr=e.exports.createView=e.exports.u32=e.exports.u8=e.exports.isBytes=void 0;var r=eh("ekpaU"),n=eh("7dWcX");e.exports.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name},e.exports.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),e.exports.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),e.exports.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),e.exports.rotr=(e,t)=>e<<32-t|e>>>t,e.exports.rotl=(e,t)=>e<<t|e>>>32-t>>>0,e.exports.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],e.exports.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,e.exports.byteSwapIfBE=e.exports.isLE?e=>e:t=>(0,e.exports.byteSwap)(t),e.exports.byteSwap32=function(t){for(let r=0;r<t.length;r++)t[r]=(0,e.exports.byteSwap)(t[r])};let i=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));e.exports.bytesToHex=function(e){(0,n.bytes)(e);let t="";for(let r=0;r<e.length;r++)t+=i[e[r]];return t};let o={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(e){return e>=o._0&&e<=o._9?e-o._0:e>=o._A&&e<=o._F?e-(o._A-10):e>=o._a&&e<=o._f?e-(o._a-10):void 0}e.exports.hexToBytes=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=a(e.charCodeAt(i)),o=a(e.charCodeAt(i+1));if(void 0===r||void 0===o){let t=e[i]+e[i+1];throw Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+o}return n};let s=async()=>{};async function u(t,r,n){let i=Date.now();for(let o=0;o<t;o++){n(o);let t=Date.now()-i;t>=0&&t<r||(await (0,e.exports.nextTick)(),i+=t)}}function l(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function c(e){return"string"==typeof e&&(e=l(e)),(0,n.bytes)(e),e}e.exports.nextTick=s,e.exports.asyncLoop=u,e.exports.utf8ToBytes=l,e.exports.toBytes=c,e.exports.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];(0,n.bytes)(i),t+=i.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r},e.exports.Hash=class{clone(){return this._cloneInto()}};let d={}.toString;e.exports.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==d.call(t))throw Error("Options should be object or undefined");let r=Object.assign(e,t);return r},e.exports.wrapConstructor=function(e){let t=t=>e().update(c(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},e.exports.wrapConstructorWithOpts=function(e){let t=(t,r)=>e(r).update(c(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},e.exports.wrapXOFConstructorWithOpts=function(e){let t=(t,r)=>e(r).update(c(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},e.exports.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}}),eh.register("ekpaU",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.crypto=void 0,e.exports.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0}),eh.register("74XDJ",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.mapToCurveSimpleSWU=e.exports.SWUFpSqrtRatio=e.exports.weierstrass=e.exports.weierstrassPoints=e.exports.DER=void 0;var r=eh("iWmSL"),n=(eh("iejs3"),eh("iejs3")),i=eh("5R9hw");let{bytesToNumberBE:o,hexToBytes:a}=n;e.exports.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:r}=e.exports.DER;if(t.length<2||2!==t[0])throw new r("Invalid signature integer tag");let n=t[1],i=t.subarray(2,n+2);if(!n||i.length!==n)throw new r("Invalid signature integer: wrong length");if(128&i[0])throw new r("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new r("Invalid signature integer: unnecessary leading zero");return{d:o(i),l:t.subarray(n+2)}},toSig(t){let{Err:r}=e.exports.DER,i="string"==typeof t?a(t):t;n.abytes(i);let o=i.length;if(o<2||48!=i[0])throw new r("Invalid signature tag");if(i[1]!==o-2)throw new r("Invalid signature: incorrect length");let{d:s,l:u}=e.exports.DER._parseInt(i.subarray(2)),{d:l,l:c}=e.exports.DER._parseInt(u);if(c.length)throw new r("Invalid signature: left bytes after parsing");return{r:s,s:l}},hexFromSig(e){let t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{let t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),o=n.length/2,a=i.length/2,s=r(o),u=r(a);return`30${r(a+o+4)}02${u}${i}02${s}${n}`}};let s=BigInt(0),u=BigInt(1),l=BigInt(2),c=BigInt(3),d=BigInt(4);function p(e){let t=function(e){let t=(0,i.validateBasic)(e);n.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:o,a:a}=t;if(r){if(!o.eql(a,o.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:o}=t,a=t.toBytes||((e,t,r)=>{let i=t.toAffine();return n.concatBytes(Uint8Array.from([4]),o.toBytes(i.x),o.toBytes(i.y))}),l=t.fromBytes||(e=>{let t=e.subarray(1),r=o.fromBytes(t.subarray(0,o.BYTES)),n=o.fromBytes(t.subarray(o.BYTES,2*o.BYTES));return{x:r,y:n}});function d(e){let{a:r,b:n}=t,i=o.sqr(e),a=o.mul(i,e);return o.add(o.add(a,o.mul(e,r)),n)}if(!o.eql(o.sqr(t.Gy),d(t.Gx)))throw Error("bad generator point: equation left != right");function p(e){return"bigint"==typeof e&&s<e&&e<t.n}function f(e){if(!p(e))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function h(e){let i;let{allowedPrivateKeyLengths:o,nByteLength:a,wrapPrivateKey:s,n:u}=t;if(o&&"bigint"!=typeof e){if(n.isBytes(e)&&(e=n.bytesToHex(e)),"string"!=typeof e||!o.includes(e.length))throw Error("Invalid key");e=e.padStart(2*a,"0")}try{i="bigint"==typeof e?e:n.bytesToNumberBE((0,n.ensureBytes)("private key",e,a))}catch(t){throw Error(`private key must be ${a} bytes, hex or bigint, not ${typeof e}`)}return s&&(i=r.mod(i,u)),f(i),i}let m=new Map;function g(e){if(!(e instanceof y))throw Error("ProjectivePoint expected")}class y{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!o.isValid(e))throw Error("x required");if(null==t||!o.isValid(t))throw Error("y required");if(null==r||!o.isValid(r))throw Error("z required")}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!o.isValid(t)||!o.isValid(r))throw Error("invalid affine point");if(e instanceof y)throw Error("projective point not allowed");let n=e=>o.eql(e,o.ZERO);return n(t)&&n(r)?y.ZERO:new y(t,r,o.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=o.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(y.fromAffine)}static fromHex(e){let t=y.fromAffine(l((0,n.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return y.BASE.multiply(h(e))}_setWindowSize(e){this._WINDOW_SIZE=e,m.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!o.is0(this.py))return;throw Error("bad point: ZERO")}let{x:e,y:r}=this.toAffine();if(!o.isValid(e)||!o.isValid(r))throw Error("bad point: x or y not FE");let n=o.sqr(r),i=d(e);if(!o.eql(n,i))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:e}=this.toAffine();if(o.isOdd)return!o.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){g(e);let{px:t,py:r,pz:n}=this,{px:i,py:a,pz:s}=e,u=o.eql(o.mul(t,s),o.mul(i,n)),l=o.eql(o.mul(r,s),o.mul(a,n));return u&&l}negate(){return new y(this.px,o.neg(this.py),this.pz)}double(){let{a:e,b:r}=t,n=o.mul(r,c),{px:i,py:a,pz:s}=this,u=o.ZERO,l=o.ZERO,d=o.ZERO,p=o.mul(i,i),f=o.mul(a,a),h=o.mul(s,s),m=o.mul(i,a);return m=o.add(m,m),d=o.mul(i,s),d=o.add(d,d),u=o.mul(e,d),l=o.mul(n,h),l=o.add(u,l),u=o.sub(f,l),l=o.add(f,l),l=o.mul(u,l),u=o.mul(m,u),d=o.mul(n,d),h=o.mul(e,h),m=o.sub(p,h),m=o.mul(e,m),m=o.add(m,d),d=o.add(p,p),p=o.add(d,p),p=o.add(p,h),p=o.mul(p,m),l=o.add(l,p),h=o.mul(a,s),h=o.add(h,h),p=o.mul(h,m),u=o.sub(u,p),d=o.mul(h,f),d=o.add(d,d),new y(u,l,d=o.add(d,d))}add(e){g(e);let{px:r,py:n,pz:i}=this,{px:a,py:s,pz:u}=e,l=o.ZERO,d=o.ZERO,p=o.ZERO,f=t.a,h=o.mul(t.b,c),m=o.mul(r,a),b=o.mul(n,s),_=o.mul(i,u),w=o.add(r,n),v=o.add(a,s);w=o.mul(w,v),v=o.add(m,b),w=o.sub(w,v),v=o.add(r,i);let k=o.add(a,u);return v=o.mul(v,k),k=o.add(m,_),v=o.sub(v,k),k=o.add(n,i),l=o.add(s,u),k=o.mul(k,l),l=o.add(b,_),k=o.sub(k,l),p=o.mul(f,v),l=o.mul(h,_),p=o.add(l,p),l=o.sub(b,p),p=o.add(b,p),d=o.mul(l,p),b=o.add(m,m),b=o.add(b,m),_=o.mul(f,_),v=o.mul(h,v),b=o.add(b,_),_=o.sub(m,_),_=o.mul(f,_),v=o.add(v,_),m=o.mul(b,v),d=o.add(d,m),m=o.mul(k,v),l=o.mul(w,l),l=o.sub(l,m),m=o.mul(w,b),p=o.mul(k,p),new y(l,d,p=o.add(p,m))}subtract(e){return this.add(e.negate())}is0(){return this.equals(y.ZERO)}wNAF(e){return _.wNAFCached(this,m,e,e=>{let t=o.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(y.fromAffine)})}multiplyUnsafe(e){let r=y.ZERO;if(e===s)return r;if(f(e),e===u)return this;let{endo:n}=t;if(!n)return _.unsafeLadder(this,e);let{k1neg:i,k1:a,k2neg:l,k2:c}=n.splitScalar(e),d=r,p=r,h=this;for(;a>s||c>s;)a&u&&(d=d.add(h)),c&u&&(p=p.add(h)),h=h.double(),a>>=u,c>>=u;return i&&(d=d.negate()),l&&(p=p.negate()),p=new y(o.mul(p.px,n.beta),p.py,p.pz),d.add(p)}multiply(e){let r,n;f(e);let{endo:i}=t;if(i){let{k1neg:t,k1:a,k2neg:s,k2:u}=i.splitScalar(e),{p:l,f:c}=this.wNAF(a),{p:d,f:p}=this.wNAF(u);l=_.constTimeNegate(t,l),d=_.constTimeNegate(s,d),d=new y(o.mul(d.px,i.beta),d.py,d.pz),r=l.add(d),n=c.add(p)}else{let{p:t,f:i}=this.wNAF(e);r=t,n=i}return y.normalizeZ([r,n])[0]}multiplyAndAddUnsafe(e,t,r){let n=y.BASE,i=(e,t)=>t!==s&&t!==u&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){let{px:t,py:r,pz:n}=this,i=this.is0();null==e&&(e=i?o.ONE:o.inv(n));let a=o.mul(t,e),s=o.mul(r,e),u=o.mul(n,e);if(i)return{x:o.ZERO,y:o.ZERO};if(!o.eql(u,o.ONE))throw Error("invZ was invalid");return{x:a,y:s}}isTorsionFree(){let{h:e,isTorsionFree:r}=t;if(e===u)return!0;if(r)return r(y,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:r}=t;return e===u?this:r?r(y,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),a(y,this,e)}toHex(e=!0){return n.bytesToHex(this.toRawBytes(e))}}y.BASE=new y(t.Gx,t.Gy,o.ONE),y.ZERO=new y(o.ZERO,o.ONE,o.ZERO);let b=t.nBitLength,_=(0,i.wNAF)(y,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:h,weierstrassEquation:d,isWithinCurveOrder:p}}function f(e,t){let r=e.ORDER,n=s;for(let e=r-u;e%l===s;e/=l)n+=u;let i=n,o=l<<i-u-u,a=o*l,p=(r-u)/a,f=(p-u)/l,h=a-u,m=e.pow(t,p),g=e.pow(t,(p+u)/l),y=(t,r)=>{let n=m,a=e.pow(r,h),s=e.sqr(a);s=e.mul(s,r);let c=e.mul(t,s);c=e.pow(c,f),c=e.mul(c,a),a=e.mul(c,r),s=e.mul(c,t);let d=e.mul(s,a);c=e.pow(d,o);let p=e.eql(c,e.ONE);a=e.mul(s,g),c=e.mul(d,n),s=e.cmov(a,s,p),d=e.cmov(c,d,p);for(let t=i;t>u;t--){let r=t-l;r=l<<r-u;let i=e.pow(d,r),o=e.eql(i,e.ONE);a=e.mul(s,n),n=e.mul(n,n),i=e.mul(d,n),s=e.cmov(a,s,o),d=e.cmov(i,d,o)}return{isValid:p,value:s}};if(e.ORDER%d===c){let r=(e.ORDER-c)/d,n=e.sqrt(e.neg(t));y=(t,i)=>{let o=e.sqr(i),a=e.mul(t,i);o=e.mul(o,a);let s=e.pow(o,r);s=e.mul(s,a);let u=e.mul(s,n),l=e.mul(e.sqr(s),i),c=e.eql(l,t),d=e.cmov(u,s,c);return{isValid:c,value:d}}}return y}e.exports.weierstrassPoints=p,e.exports.weierstrass=function(t){let o=function(e){let t=(0,i.validateBasic)(e);return n.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(t),{Fp:a,n:l}=o,c=a.BYTES+1,d=2*a.BYTES+1;function f(e){return r.mod(e,l)}function h(e){return r.invert(e,l)}let{ProjectivePoint:m,normPrivateKeyToScalar:g,weierstrassEquation:y,isWithinCurveOrder:b}=p({...o,toBytes(e,t,r){let i=t.toAffine(),o=a.toBytes(i.x),s=n.concatBytes;return r?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,a.toBytes(i.y))},fromBytes(e){let t=e.length,r=e[0],i=e.subarray(1);if(t===c&&(2===r||3===r)){let e;let t=n.bytesToNumberBE(i);if(!(s<t&&t<a.ORDER))throw Error("Point is not on curve");let o=y(t);try{e=a.sqrt(o)}catch(t){let e=t instanceof Error?": "+t.message:"";throw Error("Point is not on curve"+e)}let l=(e&u)===u;return(1&r)==1!==l&&(e=a.neg(e)),{x:t,y:e}}if(t===d&&4===r){let e=a.fromBytes(i.subarray(0,a.BYTES)),t=a.fromBytes(i.subarray(a.BYTES,2*a.BYTES));return{x:e,y:t}}throw Error(`Point of length ${t} was invalid. Expected ${c} compressed bytes or ${d} uncompressed bytes`)}}),_=e=>n.bytesToHex(n.numberToBytesBE(e,o.nByteLength));function w(e){let t=l>>u;return e>t}let v=(e,t,r)=>n.bytesToNumberBE(e.slice(t,r));class k{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let t=o.nByteLength;return new k(v(e=(0,n.ensureBytes)("compactSignature",e,2*t),0,t),v(e,t,2*t))}static fromDER(t){let{r:r,s:i}=e.exports.DER.toSig((0,n.ensureBytes)("DER",t));return new k(r,i)}assertValidity(){if(!b(this.r))throw Error("r must be 0 < r < CURVE.n");if(!b(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new k(this.r,this.s,e)}recoverPublicKey(e){let{r:t,s:r,recovery:i}=this,s=I((0,n.ensureBytes)("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw Error("recovery id invalid");let u=2===i||3===i?t+o.n:t;if(u>=a.ORDER)throw Error("recovery id 2 or 3 invalid");let l=(1&i)==0?"02":"03",c=m.fromHex(l+_(u)),d=h(u),p=f(-s*d),g=f(r*d),y=m.BASE.multiplyAndAddUnsafe(c,p,g);if(!y)throw Error("point at infinify");return y.assertValidity(),y}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return n.hexToBytes(this.toDERHex())}toDERHex(){return e.exports.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return n.hexToBytes(this.toCompactHex())}toCompactHex(){return _(this.r)+_(this.s)}}function A(e){let t=n.isBytes(e),r="string"==typeof e,i=(t||r)&&e.length;return t?i===c||i===d:r?i===2*c||i===2*d:e instanceof m}let S=o.bits2int||function(e){let t=n.bytesToNumberBE(e),r=8*e.length-o.nBitLength;return r>0?t>>BigInt(r):t},I=o.bits2int_modN||function(e){return f(S(e))},E=n.bitMask(o.nBitLength);function T(e){if("bigint"!=typeof e)throw Error("bigint expected");if(!(s<=e&&e<E))throw Error(`bigint expected < 2^${o.nBitLength}`);return n.numberToBytesBE(e,o.nByteLength)}let x={lowS:o.lowS,prehash:!1},P={lowS:o.lowS,prehash:!1};return m.BASE._setWindowSize(8),{CURVE:o,getPublicKey:function(e,t=!0){return m.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(A(e))throw Error("first arg must be private key");if(!A(t))throw Error("second arg must be public key");let n=m.fromHex(t);return n.multiply(g(e)).toRawBytes(r)},sign:function(e,t,r=x){let{seed:i,k2sig:l}=function(e,t,r=x){if(["recovered","canonical"].some(e=>e in r))throw Error("sign() legacy options not supported");let{hash:i,randomBytes:l}=o,{lowS:c,prehash:d,extraEntropy:p}=r;null==c&&(c=!0),e=(0,n.ensureBytes)("msgHash",e),d&&(e=(0,n.ensureBytes)("prehashed msgHash",i(e)));let y=I(e),_=g(t),v=[T(_),T(y)];if(null!=p&&!1!==p){let e=!0===p?l(a.BYTES):p;v.push((0,n.ensureBytes)("extraEntropy",e))}let A=n.concatBytes(...v);return{seed:A,k2sig:function(e){let t=S(e);if(!b(t))return;let r=h(t),n=m.BASE.multiply(t).toAffine(),i=f(n.x);if(i===s)return;let o=f(r*f(y+i*_));if(o===s)return;let a=(n.x===i?0:2)|Number(n.y&u),l=o;return c&&w(o)&&(l=w(o)?f(-o):o,a^=1),new k(i,l,a)}}}(e,t,r),c=n.createHmacDrbg(o.hash.outputLen,o.nByteLength,o.hmac);return c(i,l)},verify:function(t,r,i,a=P){let s,u;if(r=(0,n.ensureBytes)("msgHash",r),i=(0,n.ensureBytes)("publicKey",i),"strict"in a)throw Error("options.strict was renamed to lowS");let{lowS:l,prehash:c}=a;try{if("string"==typeof t||n.isBytes(t))try{u=k.fromDER(t)}catch(r){if(!(r instanceof e.exports.DER.Err))throw r;u=k.fromCompact(t)}else if("object"==typeof t&&"bigint"==typeof t.r&&"bigint"==typeof t.s){let{r:e,s:r}=t;u=new k(e,r)}else throw Error("PARSE");s=m.fromHex(i)}catch(e){if("PARSE"===e.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&u.hasHighS())return!1;c&&(r=o.hash(r));let{r:d,s:p}=u,g=I(r),y=h(p),b=f(g*y),_=f(d*y),w=m.BASE.multiplyAndAddUnsafe(s,b,_)?.toAffine();if(!w)return!1;let v=f(w.x);return v===d},ProjectivePoint:m,Signature:k,utils:{isValidPrivateKey(e){try{return g(e),!0}catch(e){return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{let e=r.getMinHashLength(o.n);return r.mapHashToField(o.randomBytes(e),o.n)},precompute:(e=8,t=m.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}},e.exports.SWUFpSqrtRatio=f,e.exports.mapToCurveSimpleSWU=function(e,t){if(r.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let n=f(e,t.Z);if(!e.isOdd)throw Error("Fp.isOdd is not implemented!");return r=>{let i,o,a,s,u,l,c,d;i=e.sqr(r),i=e.mul(i,t.Z),o=e.sqr(i),o=e.add(o,i),a=e.add(o,e.ONE),a=e.mul(a,t.B),s=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),s=e.mul(s,t.A),o=e.sqr(a),l=e.sqr(s),u=e.mul(l,t.A),o=e.add(o,u),o=e.mul(o,a),l=e.mul(l,s),u=e.mul(l,t.B),o=e.add(o,u),c=e.mul(i,a);let{isValid:p,value:f}=n(o,l);d=e.mul(i,r),d=e.mul(d,f),c=e.cmov(c,a,p),d=e.cmov(d,f,p);let h=e.isOdd(r)===e.isOdd(d);return d=e.cmov(e.neg(d),d,h),{x:c=e.div(c,s),y:d}}}}),eh.register("iWmSL",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.mapHashToField=e.exports.getMinHashLength=e.exports.getFieldBytesLength=e.exports.hashToPrivateScalar=e.exports.FpSqrtEven=e.exports.FpSqrtOdd=e.exports.Field=e.exports.nLength=e.exports.FpIsSquare=e.exports.FpDiv=e.exports.FpInvertBatch=e.exports.FpPow=e.exports.validateField=e.exports.isNegativeLE=e.exports.FpSqrt=e.exports.tonelliShanks=e.exports.invert=e.exports.pow2=e.exports.pow=e.exports.mod=void 0;var r=eh("iejs3");let n=BigInt(0),i=BigInt(1),o=BigInt(2),a=BigInt(3),s=BigInt(4),u=BigInt(5),l=BigInt(8);function c(e,t){let r=e%t;return r>=n?r:t+r}function d(e,t,r){if(r<=n||t<n)throw Error("Expected power/modulo > 0");if(r===i)return n;let o=i;for(;t>n;)t&i&&(o=o*e%r),e=e*e%r,t>>=i;return o}function p(e,t){if(e===n||t<=n)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=c(e,t),o=t,a=n,s=i,u=i,l=n;for(;r!==n;){let e=o/r,t=o%r,n=a-u*e,i=s-l*e;o=r,r=t,a=u,s=l,u=n,l=i}let d=o;if(d!==i)throw Error("invert: does not exist");return c(a,t)}function f(e){let t,r,a;let u=(e-i)/o;for(t=e-i,r=0;t%o===n;t/=o,r++);for(a=o;a<e&&d(a,u,e)!==e-i;a++);if(1===r){let t=(e+i)/s;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let l=(t+i)/o;return function(e,n){if(e.pow(n,u)===e.neg(e.ONE))throw Error("Cannot find square root");let o=r,s=e.pow(e.mul(e.ONE,a),t),c=e.pow(n,l),d=e.pow(n,t);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(s,i<<BigInt(o-t-1));s=e.sqr(r),c=e.mul(c,r),d=e.mul(d,s),o=t}return c}}function h(e){if(e%s===a){let t=(e+i)/s;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%l===u){let t=(e-u)/l;return function(e,r){let n=e.mul(r,o),i=e.pow(n,t),a=e.mul(r,i),s=e.mul(e.mul(a,o),i),u=e.mul(a,e.sub(s,e.ONE));if(!e.eql(e.sqr(u),r))throw Error("Cannot find square root");return u}}return f(e)}BigInt(9),BigInt(16),e.exports.mod=c,e.exports.pow=d,e.exports.pow2=function(e,t,r){let i=e;for(;t-- >n;)i*=i,i%=r;return i},e.exports.invert=p,e.exports.tonelliShanks=f,e.exports.FpSqrt=h,e.exports.isNegativeLE=(e,t)=>(c(e,t)&i)===i;let m=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function g(e,t,r){if(r<n)throw Error("Expected power > 0");if(r===n)return e.ONE;if(r===i)return t;let o=e.ONE,a=t;for(;r>n;)r&i&&(o=e.mul(o,a)),a=e.sqr(a),r>>=i;return o}function y(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r}function b(e,t){let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function _(e){if("bigint"!=typeof e)throw Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function w(e){let t=_(e);return t+Math.ceil(t/2)}e.exports.validateField=function(e){let t=m.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,r.validateObject)(e,t)},e.exports.FpPow=g,e.exports.FpInvertBatch=y,e.exports.FpDiv=function(e,t,r){return e.mul(t,"bigint"==typeof r?p(r,e.ORDER):e.inv(r))},e.exports.FpIsSquare=function(e){let t=(e.ORDER-i)/o;return r=>{let n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}},e.exports.nLength=b,e.exports.Field=function(e,t,o=!1,a={}){if(e<=n)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:s,nByteLength:u}=b(e,t);if(u>2048)throw Error("Field lengths over 2048 bytes are not supported");let l=h(e),d=Object.freeze({ORDER:e,BITS:s,BYTES:u,MASK:(0,r.bitMask)(s),ZERO:n,ONE:i,create:t=>c(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error(`Invalid field element: expected bigint, got ${typeof t}`);return n<=t&&t<e},is0:e=>e===n,isOdd:e=>(e&i)===i,neg:t=>c(-t,e),eql:(e,t)=>e===t,sqr:t=>c(t*t,e),add:(t,r)=>c(t+r,e),sub:(t,r)=>c(t-r,e),mul:(t,r)=>c(t*r,e),pow:(e,t)=>g(d,e,t),div:(t,r)=>c(t*p(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>p(t,e),sqrt:a.sqrt||(e=>l(d,e)),invertBatch:e=>y(d,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>o?(0,r.numberToBytesLE)(e,u):(0,r.numberToBytesBE)(e,u),fromBytes:e=>{if(e.length!==u)throw Error(`Fp.fromBytes: expected ${u}, got ${e.length}`);return o?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e)}});return Object.freeze(d)},e.exports.FpSqrtOdd=function(e,t){if(!e.isOdd)throw Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)},e.exports.FpSqrtEven=function(e,t){if(!e.isOdd)throw Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r},e.exports.hashToPrivateScalar=function(e,t,n=!1){e=(0,r.ensureBytes)("privateHash",e);let o=e.length,a=b(t).nByteLength+8;if(a<24||o<a||o>1024)throw Error(`hashToPrivateScalar: expected ${a}-1024 bytes of input, got ${o}`);let s=n?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e);return c(s,t-i)+i},e.exports.getFieldBytesLength=_,e.exports.getMinHashLength=w,e.exports.mapHashToField=function(e,t,n=!1){let o=e.length,a=_(t),s=w(t);if(o<16||o<s||o>1024)throw Error(`expected ${s}-1024 bytes of input, got ${o}`);let u=n?(0,r.bytesToNumberBE)(e):(0,r.bytesToNumberLE)(e),l=c(u,t-i)+i;return n?(0,r.numberToBytesLE)(l,a):(0,r.numberToBytesBE)(l,a)}}),eh.register("iejs3",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.validateObject=e.exports.createHmacDrbg=e.exports.bitMask=e.exports.bitSet=e.exports.bitGet=e.exports.bitLen=e.exports.utf8ToBytes=e.exports.equalBytes=e.exports.concatBytes=e.exports.ensureBytes=e.exports.numberToVarBytesBE=e.exports.numberToBytesLE=e.exports.numberToBytesBE=e.exports.bytesToNumberLE=e.exports.bytesToNumberBE=e.exports.hexToBytes=e.exports.hexToNumber=e.exports.numberToHexUnpadded=e.exports.bytesToHex=e.exports.abytes=e.exports.isBytes=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let r=BigInt(0),n=BigInt(1),i=BigInt(2);function o(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function a(e){if(!o(e))throw Error("Uint8Array expected")}e.exports.isBytes=o,e.exports.abytes=a;let s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function u(e){a(e);let t="";for(let r=0;r<e.length;r++)t+=s[e[r]];return t}function l(e){let t=e.toString(16);return 1&t.length?`0${t}`:t}function c(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}e.exports.bytesToHex=u,e.exports.numberToHexUnpadded=l,e.exports.hexToNumber=c;let d={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function p(e){return e>=d._0&&e<=d._9?e-d._0:e>=d._A&&e<=d._F?e-(d._A-10):e>=d._a&&e<=d._f?e-(d._a-10):void 0}function f(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=p(e.charCodeAt(i)),o=p(e.charCodeAt(i+1));if(void 0===r||void 0===o){let t=e[i]+e[i+1];throw Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+o}return n}function h(e,t){return f(e.toString(16).padStart(2*t,"0"))}function m(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];a(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}e.exports.hexToBytes=f,e.exports.bytesToNumberBE=function(e){return c(u(e))},e.exports.bytesToNumberLE=function(e){return a(e),c(u(Uint8Array.from(e).reverse()))},e.exports.numberToBytesBE=h,e.exports.numberToBytesLE=function(e,t){return h(e,t).reverse()},e.exports.numberToVarBytesBE=function(e){return f(l(e))},e.exports.ensureBytes=function(e,t,r){let n;if("string"==typeof t)try{n=f(t)}catch(r){throw Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else if(o(t))n=Uint8Array.from(t);else throw Error(`${e} must be hex string or Uint8Array`);let i=n.length;if("number"==typeof r&&i!==r)throw Error(`${e} expected ${r} bytes, got ${i}`);return n},e.exports.concatBytes=m,e.exports.equalBytes=function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},e.exports.utf8ToBytes=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))},e.exports.bitLen=function(e){let t;for(t=0;e>r;e>>=n,t+=1);return t},e.exports.bitGet=function(e,t){return e>>BigInt(t)&n},e.exports.bitSet=function(e,t,i){return e|(i?n:r)<<BigInt(t)},e.exports.bitMask=e=>(i<<BigInt(e-1))-n;let g=e=>new Uint8Array(e),y=e=>Uint8Array.from(e);e.exports.createHmacDrbg=function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=g(e),i=g(e),o=0,a=()=>{n.fill(1),i.fill(0),o=0},s=(...e)=>r(i,n,...e),u=(e=g())=>{i=s(y([0]),e),n=s(),0!==e.length&&(i=s(y([1]),e),n=s())},l=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){n=s();let t=n.slice();r.push(t),e+=n.length}return m(...r)};return(e,t)=>{let r;for(a(),u(e);!(r=t(l()));)u();return a(),r}};let b={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||o(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};e.exports.validateObject=function(e,t,r={}){let n=(t,r,n)=>{let i=b[r];if("function"!=typeof i)throw Error(`Invalid validator "${r}", expected function`);let o=e[t];if((!n||void 0!==o)&&!i(o,e))throw Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${r}`)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}}),eh.register("5R9hw",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.validateBasic=e.exports.wNAF=void 0;var r=eh("iWmSL"),n=eh("iejs3");let i=BigInt(0),o=BigInt(1);e.exports.wNAF=function(e,t){let r=(e,t)=>{let r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,a=t;for(;r>i;)r&o&&(n=n.add(a)),a=a.double(),r>>=o;return n},precomputeWindow(e,t){let{windows:r,windowSize:i}=n(t),o=[],a=e,s=a;for(let e=0;e<r;e++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(t,i,a){let{windows:s,windowSize:u}=n(t),l=e.ZERO,c=e.BASE,d=BigInt(2**t-1),p=2**t,f=BigInt(t);for(let e=0;e<s;e++){let t=e*u,n=Number(a&d);a>>=f,n>u&&(n-=p,a+=o);let s=t+Math.abs(n)-1,h=e%2!=0,m=n<0;0===n?c=c.add(r(h,i[t])):l=l.add(r(m,i[s]))}return{p:l,f:c}},wNAFCached(e,t,r,n){let i=e._WINDOW_SIZE||1,o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,n(o))),this.wNAF(i,o,r)}}},e.exports.validateBasic=function(e){return(0,r.validateField)(e.Fp),(0,n.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,r.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}}),eh.register("8gFe1",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.sha224=e.exports.sha256=void 0;var r=eh("ia9rZ"),n=eh("51uCW");let i=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class s extends r.HashMD{constructor(){super(64,32,8,!1),this.A=0|o[0],this.B=0|o[1],this.C=0|o[2],this.D=0|o[3],this.E=0|o[4],this.F=0|o[5],this.G=0|o[6],this.H=0|o[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:a,H:s}=this;return[e,t,r,n,i,o,a,s]}set(e,t,r,n,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)a[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=a[e-15],r=a[e-2],i=(0,n.rotr)(t,7)^(0,n.rotr)(t,18)^t>>>3,o=(0,n.rotr)(r,17)^(0,n.rotr)(r,19)^r>>>10;a[e]=o+a[e-7]+i+a[e-16]|0}let{A:o,B:s,C:u,D:l,E:c,F:d,G:p,H:f}=this;for(let e=0;e<64;e++){let t=(0,n.rotr)(c,6)^(0,n.rotr)(c,11)^(0,n.rotr)(c,25),h=f+t+(0,r.Chi)(c,d,p)+i[e]+a[e]|0,m=(0,n.rotr)(o,2)^(0,n.rotr)(o,13)^(0,n.rotr)(o,22),g=m+(0,r.Maj)(o,s,u)|0;f=p,p=d,d=c,c=l+h|0,l=u,u=s,s=o,o=h+g|0}o=o+this.A|0,s=s+this.B|0,u=u+this.C|0,l=l+this.D|0,c=c+this.E|0,d=d+this.F|0,p=p+this.G|0,f=f+this.H|0,this.set(o,s,u,l,c,d,p,f)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class u extends s{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}e.exports.sha256=(0,n.wrapConstructor)(()=>new s),e.exports.sha224=(0,n.wrapConstructor)(()=>new u)}),eh.register("ia9rZ",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.HashMD=e.exports.Maj=e.exports.Chi=void 0;var r=eh("7dWcX"),n=eh("51uCW");e.exports.Chi=(e,t,r)=>e&t^~e&r,e.exports.Maj=(e,t,r)=>e&t^e&r^t&r;class i extends n.Hash{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,n.createView)(this.buffer)}update(e){(0,r.exists)(this);let{view:t,buffer:i,blockLen:o}=this;e=(0,n.toBytes)(e);let a=e.length;for(let r=0;r<a;){let s=Math.min(o-this.pos,a-r);if(s===o){let t=(0,n.createView)(e);for(;o<=a-r;r+=o)this.process(t,r);continue}i.set(e.subarray(r,r+s),this.pos),this.pos+=s,r+=s,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,r.exists)(this),(0,r.output)(e,this),this.finished=!0;let{buffer:t,view:i,blockLen:o,isLE:a}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(i,0),s=0);for(let e=s;e<o;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),u=n?4:0,l=n?0:4;e.setUint32(t+u,a,n),e.setUint32(t+l,s,n)})(i,o-8,BigInt(8*this.length),a),this.process(i,0);let u=(0,n.createView)(e),l=this.outputLen;if(l%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=l/4,d=this.get();if(c>d.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)u.setUint32(4*e,d[e],a)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}e.exports.HashMD=i}),eh.register("3SsMY",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.createHasher=e.exports.isogenyMap=e.exports.hash_to_field=e.exports.expand_message_xof=e.exports.expand_message_xmd=void 0;var r=eh("iWmSL"),n=eh("iejs3");let i=n.bytesToNumberBE;function o(e,t){if(e<0||e>=1<<8*t)throw Error(`bad I2OSP call: value=${e} length=${t}`);let r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function a(e){if(!Number.isSafeInteger(e))throw Error("number expected")}function s(e,t,r,i){(0,n.abytes)(e),(0,n.abytes)(t),a(r),t.length>255&&(t=i((0,n.concatBytes)((0,n.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));let{outputLen:s,blockLen:u}=i,l=Math.ceil(r/s);if(l>255)throw Error("Invalid xmd length");let c=(0,n.concatBytes)(t,o(t.length,1)),d=o(0,u),p=o(r,2),f=Array(l),h=i((0,n.concatBytes)(d,e,p,o(0,1),c));f[0]=i((0,n.concatBytes)(h,o(1,1),c));for(let e=1;e<=l;e++){let t=[function(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}(h,f[e-1]),o(e+1,1),c];f[e]=i((0,n.concatBytes)(...t))}let m=(0,n.concatBytes)(...f);return m.slice(0,r)}function u(e,t,r,i,s){if((0,n.abytes)(e),(0,n.abytes)(t),a(r),t.length>255&&(t=s.create({dkLen:Math.ceil(2*i/8)}).update((0,n.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()),r>65535||t.length>255)throw Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:r}).update(e).update(o(r,2)).update(t).update(o(t.length,1)).digest()}function l(e,t,o){let l;(0,n.validateObject)(o,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:c,k:d,m:p,hash:f,expand:h,DST:m}=o;(0,n.abytes)(e),a(t);let g="string"==typeof m?(0,n.utf8ToBytes)(m):m,y=c.toString(2).length,b=Math.ceil((y+d)/8),_=t*p*b;if("xmd"===h)l=s(e,g,_,f);else if("xof"===h)l=u(e,g,_,d,f);else if("_internal_pass"===h)l=e;else throw Error('expand must be "xmd" or "xof"');let w=Array(t);for(let e=0;e<t;e++){let t=Array(p);for(let n=0;n<p;n++){let o=b*(n+e*p),a=l.subarray(o,o+b);t[n]=(0,r.mod)(i(a),c)}w[e]=t}return w}e.exports.expand_message_xmd=s,e.exports.expand_message_xof=u,e.exports.hash_to_field=l,e.exports.isogenyMap=function(e,t){let r=t.map(e=>Array.from(e).reverse());return(t,n)=>{let[i,o,a,s]=r.map(r=>r.reduce((r,n)=>e.add(e.mul(r,t),n)));return t=e.div(i,o),n=e.mul(n,e.div(a,s)),{x:t,y:n}}},e.exports.createHasher=function(e,t,r){if("function"!=typeof t)throw Error("mapToCurve() must be defined");return{hashToCurve(n,i){let o=l(n,2,{...r,DST:r.DST,...i}),a=e.fromAffine(t(o[0])),s=e.fromAffine(t(o[1])),u=a.add(s).clearCofactor();return u.assertValidity(),u},encodeToCurve(n,i){let o=l(n,1,{...r,DST:r.encodeDST,...i}),a=e.fromAffine(t(o[0])).clearCofactor();return a.assertValidity(),a}}}}),eh.register("keT8z",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.hkdf=e.exports.expand=e.exports.extract=void 0;var r=eh("7dWcX"),n=eh("51uCW"),i=eh("6LbNt");function o(e,t,o){return(0,r.hash)(e),void 0===o&&(o=new Uint8Array(e.outputLen)),(0,i.hmac)(e,(0,n.toBytes)(o),(0,n.toBytes)(t))}e.exports.extract=o;let a=new Uint8Array([0]),s=new Uint8Array;function u(e,t,n,o=32){if((0,r.hash)(e),(0,r.number)(o),o>255*e.outputLen)throw Error("Length should be <= 255*HashLen");let u=Math.ceil(o/e.outputLen);void 0===n&&(n=s);let l=new Uint8Array(u*e.outputLen),c=i.hmac.create(e,t),d=c._cloneInto(),p=new Uint8Array(c.outputLen);for(let t=0;t<u;t++)a[0]=t+1,d.update(0===t?s:p).update(n).update(a).digestInto(p),l.set(p,e.outputLen*t),c._cloneInto(d);return c.destroy(),d.destroy(),p.fill(0),a.fill(0),l.slice(0,o)}e.exports.expand=u,e.exports.hkdf=(e,t,r,n,i)=>u(e,o(e,t,r),n,i)}),eh.register("aHqEL",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.unsafe=e.exports.siv=e.exports.gcm=e.exports.cfb=e.exports.cbc=e.exports.ecb=e.exports.ctr=e.exports.expandKeyDecLE=e.exports.expandKeyLE=void 0;var r=eh("4D84u"),n=eh("8tFdG"),i=eh("a2EdZ");let o=new Uint8Array(16);function a(e){return e<<1^283&-(e>>7)}function s(e,t){let r=0;for(;t>0;t>>=1)r^=e&-(1&t),e=a(e);return r}let u=(()=>{let e=new Uint8Array(256);for(let t=0,r=1;t<256;t++,r^=a(r))e[t]=r;let t=new Uint8Array(256);t[0]=99;for(let r=0;r<255;r++){let n=e[255-r];n|=n<<8,t[e[r]]=(n^n>>4^n>>5^n>>6^n>>7^99)&255}return t})(),l=u.map((e,t)=>u.indexOf(t)),c=e=>e<<24|e>>>8,d=e=>e<<8|e>>>24;function p(e,t){if(256!==e.length)throw Error("Wrong sbox length");let r=new Uint32Array(256).map((r,n)=>t(e[n])),n=r.map(d),i=n.map(d),o=i.map(d),a=new Uint32Array(65536),s=new Uint32Array(65536),u=new Uint16Array(65536);for(let t=0;t<256;t++)for(let l=0;l<256;l++){let c=256*t+l;a[c]=r[t]^n[l],s[c]=i[t]^o[l],u[c]=e[t]<<8|e[l]}return{sbox:e,sbox2:u,T0:r,T1:n,T2:i,T3:o,T01:a,T23:s}}let f=p(u,e=>s(e,3)<<24|e<<16|e<<8|s(e,2)),h=p(l,e=>s(e,11)<<24|s(e,13)<<16|s(e,9)<<8|s(e,14)),m=(()=>{let e=new Uint8Array(16);for(let t=0,r=1;t<16;t++,r=a(r))e[t]=r;return e})();function g(e){(0,i.bytes)(e);let t=e.length;if(![16,24,32].includes(t))throw Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);let{sbox2:n}=f,o=(0,r.u32)(e),a=o.length,s=e=>_(n,e,e,e,e),u=new Uint32Array(t+28);u.set(o);for(let e=a;e<u.length;e++){let t=u[e-1];e%a==0?t=s(c(t))^m[e/a-1]:a>6&&e%a==4&&(t=s(t)),u[e]=u[e-a]^t}return u}function y(e){let t=g(e),r=t.slice(),n=t.length,{sbox2:i}=f,{T0:o,T1:a,T2:s,T3:u}=h;for(let e=0;e<n;e+=4)for(let i=0;i<4;i++)r[e+i]=t[n-e-4+i];t.fill(0);for(let e=4;e<n-4;e++){let t=r[e],n=_(i,t,t,t,t);r[e]=o[255&n]^a[n>>>8&255]^s[n>>>16&255]^u[n>>>24]}return r}function b(e,t,r,n,i,o){return e[r<<8&65280|n>>>8&255]^t[i>>>8&65280|o>>>24&255]}function _(e,t,r,n,i){return e[255&t|65280&r]|e[n>>>16&255|i>>>16&65280]<<16}function w(e,t,r,n,i){let{sbox2:o,T01:a,T23:s}=f,u=0;t^=e[u++],r^=e[u++],n^=e[u++],i^=e[u++];let l=e.length/4-2;for(let o=0;o<l;o++){let o=e[u++]^b(a,s,t,r,n,i),l=e[u++]^b(a,s,r,n,i,t),c=e[u++]^b(a,s,n,i,t,r),d=e[u++]^b(a,s,i,t,r,n);t=o,r=l,n=c,i=d}let c=e[u++]^_(o,t,r,n,i),d=e[u++]^_(o,r,n,i,t),p=e[u++]^_(o,n,i,t,r),h=e[u++]^_(o,i,t,r,n);return{s0:c,s1:d,s2:p,s3:h}}function v(e,t,r,n,i){let{sbox2:o,T01:a,T23:s}=h,u=0;t^=e[u++],r^=e[u++],n^=e[u++],i^=e[u++];let l=e.length/4-2;for(let o=0;o<l;o++){let o=e[u++]^b(a,s,t,i,n,r),l=e[u++]^b(a,s,r,t,i,n),c=e[u++]^b(a,s,n,r,t,i),d=e[u++]^b(a,s,i,n,r,t);t=o,r=l,n=c,i=d}let c=e[u++]^_(o,t,i,n,r),d=e[u++]^_(o,r,t,i,n),p=e[u++]^_(o,n,r,t,i),f=e[u++]^_(o,i,n,r,t);return{s0:c,s1:d,s2:p,s3:f}}function k(e,t){if(!t)return new Uint8Array(e);if((0,i.bytes)(t),t.length<e)throw Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function A(e,t,n,o){(0,i.bytes)(t,16),(0,i.bytes)(n);let a=n.length;o=k(a,o);let s=(0,r.u32)(t),{s0:u,s1:l,s2:c,s3:d}=w(e,s[0],s[1],s[2],s[3]),p=(0,r.u32)(n),f=(0,r.u32)(o);for(let r=0;r+4<=p.length;r+=4){f[r+0]=p[r+0]^u,f[r+1]=p[r+1]^l,f[r+2]=p[r+2]^c,f[r+3]=p[r+3]^d;let n=1;for(let e=t.length-1;e>=0;e--)n=n+(255&t[e])|0,t[e]=255&n,n>>>=8;({s0:u,s1:l,s2:c,s3:d}=w(e,s[0],s[1],s[2],s[3]))}let h=16*Math.floor(p.length/4);if(h<a){let e=new Uint32Array([u,l,c,d]),t=(0,r.u8)(e);for(let e=h,r=0;e<a;e++,r++)o[e]=n[e]^t[r]}return o}function S(e,t,n,o,a){(0,i.bytes)(n,16),(0,i.bytes)(o),a=k(o.length,a);let s=(0,r.u32)(n),u=(0,r.createView)(n),l=(0,r.u32)(o),c=(0,r.u32)(a),d=t?0:12,p=o.length,f=u.getUint32(d,t),{s0:h,s1:m,s2:g,s3:y}=w(e,s[0],s[1],s[2],s[3]);for(let r=0;r+4<=l.length;r+=4)c[r+0]=l[r+0]^h,c[r+1]=l[r+1]^m,c[r+2]=l[r+2]^g,c[r+3]=l[r+3]^y,f=f+1>>>0,u.setUint32(d,f,t),{s0:h,s1:m,s2:g,s3:y}=w(e,s[0],s[1],s[2],s[3]);let b=16*Math.floor(l.length/4);if(b<p){let e=new Uint32Array([h,m,g,y]),t=(0,r.u8)(e);for(let e=b,r=0;e<p;e++,r++)a[e]=o[e]^t[r]}return a}function I(e){if((0,i.bytes)(e),e.length%16!=0)throw Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}function E(e,t,n){let i=e.length,o=i%16;if(!t&&0!==o)throw Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");let a=(0,r.u32)(e);if(t){let e=16-o;e||(e=16),i+=e}let s=k(i,n),u=(0,r.u32)(s);return{b:a,o:u,out:s}}function T(e,t){if(!t)return e;let r=e.length;if(!r)throw Error("aes/pcks5: empty ciphertext not allowed");let n=e[r-1];if(n<=0||n>16)throw Error(`aes/pcks5: wrong padding byte: ${n}`);let i=e.subarray(0,-n);for(let t=0;t<n;t++)if(e[r-t-1]!==n)throw Error("aes/pcks5: wrong padding");return i}function x(e){let t=new Uint8Array(16),n=(0,r.u32)(t);t.set(e);let i=16-e.length;for(let e=16-i;e<16;e++)t[e]=i;return n}function P(e,t,n,i,o){let a=e.create(n,i.length+(o?.length||0));o&&a.update(o),a.update(i);let s=new Uint8Array(16),u=(0,r.createView)(s);return o&&(0,r.setBigUint64)(u,0,BigInt(8*o.length),t),(0,r.setBigUint64)(u,8,BigInt(8*i.length),t),a.update(s),a.digest()}e.exports.expandKeyLE=g,e.exports.expandKeyDecLE=y,e.exports.ctr=(0,r.wrapCipher)({blockSize:16,nonceLength:16},function(e,t){function r(r,n){let i=g(e),o=t.slice(),a=A(i,o,r,n);return i.fill(0),o.fill(0),a}return(0,i.bytes)(e),(0,i.bytes)(t,16),{encrypt:(e,t)=>r(e,t),decrypt:(e,t)=>r(e,t)}}),e.exports.ecb=(0,r.wrapCipher)({blockSize:16},function(e,t={}){(0,i.bytes)(e);let n=!t.disablePadding;return{encrypt:(t,r)=>{(0,i.bytes)(t);let{b:o,o:a,out:s}=E(t,n,r),u=g(e),l=0;for(;l+4<=o.length;){let{s0:e,s1:t,s2:r,s3:n}=w(u,o[l+0],o[l+1],o[l+2],o[l+3]);a[l++]=e,a[l++]=t,a[l++]=r,a[l++]=n}if(n){let e=x(t.subarray(4*l)),{s0:r,s1:n,s2:i,s3:o}=w(u,e[0],e[1],e[2],e[3]);a[l++]=r,a[l++]=n,a[l++]=i,a[l++]=o}return u.fill(0),s},decrypt:(t,i)=>{I(t);let o=y(e),a=k(t.length,i),s=(0,r.u32)(t),u=(0,r.u32)(a);for(let e=0;e+4<=s.length;){let{s0:t,s1:r,s2:n,s3:i}=v(o,s[e+0],s[e+1],s[e+2],s[e+3]);u[e++]=t,u[e++]=r,u[e++]=n,u[e++]=i}return o.fill(0),T(a,n)}}}),e.exports.cbc=(0,r.wrapCipher)({blockSize:16,nonceLength:16},function(e,t,n={}){(0,i.bytes)(e),(0,i.bytes)(t,16);let o=!n.disablePadding;return{encrypt:(n,i)=>{let a=g(e),{b:s,o:u,out:l}=E(n,o,i),c=(0,r.u32)(t),d=c[0],p=c[1],f=c[2],h=c[3],m=0;for(;m+4<=s.length;)d^=s[m+0],p^=s[m+1],f^=s[m+2],h^=s[m+3],({s0:d,s1:p,s2:f,s3:h}=w(a,d,p,f,h)),u[m++]=d,u[m++]=p,u[m++]=f,u[m++]=h;if(o){let e=x(n.subarray(4*m));d^=e[0],p^=e[1],f^=e[2],h^=e[3],({s0:d,s1:p,s2:f,s3:h}=w(a,d,p,f,h)),u[m++]=d,u[m++]=p,u[m++]=f,u[m++]=h}return a.fill(0),l},decrypt:(n,i)=>{I(n);let a=y(e),s=(0,r.u32)(t),u=k(n.length,i),l=(0,r.u32)(n),c=(0,r.u32)(u),d=s[0],p=s[1],f=s[2],h=s[3];for(let e=0;e+4<=l.length;){let t=d,r=p,n=f,i=h;d=l[e+0],p=l[e+1],f=l[e+2],h=l[e+3];let{s0:o,s1:s,s2:u,s3:m}=v(a,d,p,f,h);c[e++]=o^t,c[e++]=s^r,c[e++]=u^n,c[e++]=m^i}return a.fill(0),T(u,o)}}}),e.exports.cfb=(0,r.wrapCipher)({blockSize:16,nonceLength:16},function(e,t){function n(n,i,o){let a=g(e),s=n.length;o=k(s,o);let u=(0,r.u32)(n),l=(0,r.u32)(o),c=i?l:u,d=(0,r.u32)(t),p=d[0],f=d[1],h=d[2],m=d[3];for(let e=0;e+4<=u.length;){let{s0:t,s1:r,s2:n,s3:i}=w(a,p,f,h,m);l[e+0]=u[e+0]^t,l[e+1]=u[e+1]^r,l[e+2]=u[e+2]^n,l[e+3]=u[e+3]^i,p=c[e++],f=c[e++],h=c[e++],m=c[e++]}let y=16*Math.floor(u.length/4);if(y<s){({s0:p,s1:f,s2:h,s3:m}=w(a,p,f,h,m));let e=(0,r.u8)(new Uint32Array([p,f,h,m]));for(let t=y,r=0;t<s;t++,r++)o[t]=n[t]^e[r];e.fill(0)}return a.fill(0),o}return(0,i.bytes)(e),(0,i.bytes)(t,16),{encrypt:(e,t)=>n(e,!0,t),decrypt:(e,t)=>n(e,!1,t)}}),e.exports.gcm=(0,r.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(e,t,a){if((0,i.bytes)(t),0===t.length)throw Error("aes/gcm: empty nonce");function s(e,t,r){let i=P(n.ghash,!1,e,r,a);for(let e=0;e<t.length;e++)i[e]^=t[e];return i}function u(){let i=g(e),a=o.slice(),s=o.slice();if(S(i,!1,s,s,a),12===t.length)s.set(t);else{let e=o.slice(),i=(0,r.createView)(e);(0,r.setBigUint64)(i,8,BigInt(8*t.length),!1),n.ghash.create(a).update(t).update(e).digestInto(s)}let u=S(i,!1,s,o);return{xk:i,authKey:a,counter:s,tagMask:u}}return{encrypt:e=>{(0,i.bytes)(e);let{xk:t,authKey:r,counter:n,tagMask:o}=u(),a=new Uint8Array(e.length+16);S(t,!1,n,e,a);let l=s(r,o,a.subarray(0,a.length-16));return a.set(l,e.length),t.fill(0),a},decrypt:e=>{if((0,i.bytes)(e),e.length<16)throw Error("aes/gcm: ciphertext less than tagLen (16)");let{xk:t,authKey:n,counter:o,tagMask:a}=u(),l=e.subarray(0,-16),c=e.subarray(-16),d=s(n,a,l);if(!(0,r.equalBytes)(d,c))throw Error("aes/gcm: invalid ghash tag");let p=S(t,!1,o,l);return n.fill(0),a.fill(0),t.fill(0),p}}});let O=(e,t,r)=>n=>{if(!Number.isSafeInteger(n)||t>n||n>r)throw Error(`${e}: invalid value=${n}, must be [${t}..${r}]`)};function B(e){return null!=e&&"object"==typeof e&&(e instanceof Uint32Array||"Uint32Array"===e.constructor.name)}e.exports.siv=(0,r.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(e,t,o){let a=O("AAD",0,68719476736),s=O("plaintext",0,68719476736),u=O("nonce",12,12),l=O("ciphertext",16,68719476736+16);function c(){let n=e.length;if(16!==n&&24!==n&&32!==n)throw Error(`key length must be 16, 24 or 32 bytes, got: ${n} bytes`);let i=g(e),o=new Uint8Array(n),a=new Uint8Array(16),s=(0,r.u32)(t),u=0,l=s[0],c=s[1],d=s[2],p=0;for(let e of[a,o].map(r.u32)){let t=(0,r.u32)(e);for(let e=0;e<t.length;e+=2){let{s0:r,s1:n}=w(i,u,l,c,d);t[e+0]=r,t[e+1]=n,u=++p}}return i.fill(0),{authKey:a,encKey:g(o)}}function d(e,i,a){let s=P(n.polyval,!0,i,a,o);for(let e=0;e<12;e++)s[e]^=t[e];s[15]&=127;let u=(0,r.u32)(s),l=u[0],c=u[1],d=u[2],p=u[3];return{s0:l,s1:c,s2:d,s3:p}=w(e,l,c,d,p),u[0]=l,u[1]=c,u[2]=d,u[3]=p,s}function p(e,t,r){let n=t.slice();return n[15]|=128,S(e,!0,n,r)}return(0,i.bytes)(t),u(t.length),o&&((0,i.bytes)(o),a(o.length)),{encrypt:e=>{(0,i.bytes)(e),s(e.length);let{encKey:t,authKey:r}=c(),n=d(t,r,e),o=new Uint8Array(e.length+16);return o.set(n,e.length),o.set(p(t,n,e)),t.fill(0),r.fill(0),o},decrypt:e=>{(0,i.bytes)(e),l(e.length);let t=e.subarray(-16),{encKey:n,authKey:o}=c(),a=p(n,t,e.subarray(0,-16)),s=d(n,o,a);if(n.fill(0),o.fill(0),!(0,r.equalBytes)(t,s))throw Error("invalid polyval tag");return a}}}),e.exports.unsafe={expandKeyLE:g,expandKeyDecLE:y,encrypt:w,decrypt:v,encryptBlock:function(e,t){if((0,i.bytes)(t,16),!B(e))throw Error("_encryptBlock accepts result of expandKeyLE");let n=(0,r.u32)(t),{s0:o,s1:a,s2:s,s3:u}=w(e,n[0],n[1],n[2],n[3]);return n[0]=o,n[1]=a,n[2]=s,n[3]=u,t},decryptBlock:function(e,t){if((0,i.bytes)(t,16),!B(e))throw Error("_decryptBlock accepts result of expandKeyLE");let n=(0,r.u32)(t),{s0:o,s1:a,s2:s,s3:u}=v(e,n[0],n[1],n[2],n[3]);return n[0]=o,n[1]=a,n[2]=s,n[3]=u,t},ctrCounter:A,ctr32:S}}),eh.register("4D84u",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.u64Lengths=e.exports.setBigUint64=e.exports.wrapCipher=e.exports.Hash=e.exports.equalBytes=e.exports.checkOpts=e.exports.concatBytes=e.exports.toBytes=e.exports.bytesToUtf8=e.exports.utf8ToBytes=e.exports.asyncLoop=e.exports.nextTick=e.exports.numberToBytesBE=e.exports.bytesToNumberBE=e.exports.hexToNumber=e.exports.hexToBytes=e.exports.bytesToHex=e.exports.isLE=e.exports.createView=e.exports.u32=e.exports.u16=e.exports.u8=void 0;var r=eh("a2EdZ");if(e.exports.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),e.exports.u16=e=>new Uint16Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/2)),e.exports.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),e.exports.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),e.exports.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.exports.isLE)throw Error("Non little-endian hardware is not supported");let n=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function i(e){(0,r.bytes)(e);let t="";for(let r=0;r<e.length;r++)t+=n[e[r]];return t}e.exports.bytesToHex=i;let o={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(e){return e>=o._0&&e<=o._9?e-o._0:e>=o._A&&e<=o._F?e-(o._A-10):e>=o._a&&e<=o._f?e-(o._a-10):void 0}function s(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=a(e.charCodeAt(i)),o=a(e.charCodeAt(i+1));if(void 0===r||void 0===o){let t=e[i]+e[i+1];throw Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+o}return n}function u(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}e.exports.hexToBytes=s,e.exports.hexToNumber=u,e.exports.bytesToNumberBE=function(e){return u(i(e))},e.exports.numberToBytesBE=function(e,t){return s(e.toString(16).padStart(2*t,"0"))};let l=async()=>{};async function c(t,r,n){let i=Date.now();for(let o=0;o<t;o++){n(o);let t=Date.now()-i;t>=0&&t<r||(await (0,e.exports.nextTick)(),i+=t)}}function d(e){if("string"!=typeof e)throw Error(`string expected, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function p(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),u=n?4:0,l=n?0:4;e.setUint32(t+u,a,n),e.setUint32(t+l,s,n)}e.exports.nextTick=l,e.exports.asyncLoop=c,e.exports.utf8ToBytes=d,e.exports.bytesToUtf8=function(e){return new TextDecoder().decode(e)},e.exports.toBytes=function(e){if("string"==typeof e)e=d(e);else if((0,r.isBytes)(e))e=e.slice();else throw Error(`Uint8Array expected, got ${typeof e}`);return e},e.exports.concatBytes=function(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];(0,r.bytes)(i),t+=i.length}let n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){let i=e[t];n.set(i,r),r+=i.length}return n},e.exports.checkOpts=function(e,t){if(null==t||"object"!=typeof t)throw Error("options must be defined");let r=Object.assign(e,t);return r},e.exports.equalBytes=function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},e.exports.Hash=class{},e.exports.wrapCipher=(e,t)=>(Object.assign(t,e),t),e.exports.setBigUint64=p,e.exports.u64Lengths=function(t,r){let n=new Uint8Array(16),i=(0,e.exports.createView)(n);return p(i,0,BigInt(r?r.length:0),!0),p(i,8,BigInt(t.length),!0),n}}),eh.register("a2EdZ",function(e,t){function r(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`positive integer expected, not ${e}`)}function n(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function i(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function o(e,...t){if(!i(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("hash must be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function u(e,t){o(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.output=e.exports.exists=e.exports.hash=e.exports.bytes=e.exports.bool=e.exports.number=e.exports.isBytes=void 0,e.exports.number=r,e.exports.bool=n,e.exports.isBytes=i,e.exports.bytes=o,e.exports.hash=a,e.exports.exists=s,e.exports.output=u,e.exports.default={number:r,bool:n,bytes:o,hash:a,exists:s,output:u}}),eh.register("8tFdG",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.polyval=e.exports.ghash=e.exports._toGHASHKey=void 0;var r=eh("4D84u"),n=eh("a2EdZ");let i=new Uint8Array(16),o=(0,r.u32)(i),a=(e,t,r,n)=>({s3:r<<31|n>>>1,s2:t<<31|r>>>1,s1:e<<31|t>>>1,s0:e>>>1^-520093696&-(1&(1&n))}),s=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function u(e){e.reverse();let t=1&e[15],r=0;for(let t=0;t<e.length;t++){let n=e[t];e[t]=n>>>1|r,r=(1&n)<<7}return e[0]^=225&-t,e}e.exports._toGHASHKey=u;let l=e=>e>65536?8:e>1024?4:2;class c{constructor(e,t){this.blockLen=16,this.outputLen=16,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=(0,r.toBytes)(e),(0,n.bytes)(e,16);let i=(0,r.createView)(e),o=i.getUint32(0,!1),u=i.getUint32(4,!1),c=i.getUint32(8,!1),d=i.getUint32(12,!1),p=[];for(let e=0;e<128;e++)p.push({s0:s(o),s1:s(u),s2:s(c),s3:s(d)}),{s0:o,s1:u,s2:c,s3:d}=a(o,u,c,d);let f=l(t||1024);if(![1,2,4,8].includes(f))throw Error(`ghash: wrong window size=${f}, should be 2, 4 or 8`);this.W=f;let h=128/f,m=this.windowSize=2**f,g=[];for(let e=0;e<h;e++)for(let t=0;t<m;t++){let r=0,n=0,i=0,o=0;for(let a=0;a<f;a++){let s=t>>>f-a-1&1;if(!s)continue;let{s0:u,s1:l,s2:c,s3:d}=p[f*e+a];r^=u,n^=l,i^=c,o^=d}g.push({s0:r,s1:n,s2:i,s3:o})}this.t=g}_updateBlock(e,t,r,n){e^=this.s0,t^=this.s1,r^=this.s2,n^=this.s3;let{W:i,t:o,windowSize:a}=this,s=0,u=0,l=0,c=0,d=(1<<i)-1,p=0;for(let f of[e,t,r,n])for(let e=0;e<4;e++){let t=f>>>8*e&255;for(let e=8/i-1;e>=0;e--){let r=t>>>i*e&d,{s0:n,s1:f,s2:h,s3:m}=o[p*a+r];s^=n,u^=f,l^=h,c^=m,p+=1}}this.s0=s,this.s1=u,this.s2=l,this.s3=c}update(e){e=(0,r.toBytes)(e),(0,n.exists)(this);let t=(0,r.u32)(e),a=Math.floor(e.length/16),s=e.length%16;for(let e=0;e<a;e++)this._updateBlock(t[4*e+0],t[4*e+1],t[4*e+2],t[4*e+3]);return s&&(i.set(e.subarray(16*a)),this._updateBlock(o[0],o[1],o[2],o[3]),o.fill(0)),this}destroy(){let{t:e}=this;for(let t of e)t.s0=0,t.s1=0,t.s2=0,t.s3=0}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;let{s0:t,s1:i,s2:o,s3:a}=this,s=(0,r.u32)(e);return s[0]=t,s[1]=i,s[2]=o,s[3]=a,e}digest(){let e=new Uint8Array(16);return this.digestInto(e),this.destroy(),e}}class d extends c{constructor(e,t){e=(0,r.toBytes)(e);let n=u(e.slice());super(n,t),n.fill(0)}update(e){e=(0,r.toBytes)(e),(0,n.exists)(this);let t=(0,r.u32)(e),a=e.length%16,u=Math.floor(e.length/16);for(let e=0;e<u;e++)this._updateBlock(s(t[4*e+3]),s(t[4*e+2]),s(t[4*e+1]),s(t[4*e+0]));return a&&(i.set(e.subarray(16*u)),this._updateBlock(s(o[3]),s(o[2]),s(o[1]),s(o[0])),o.fill(0)),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;let{s0:t,s1:i,s2:o,s3:a}=this,s=(0,r.u32)(e);return s[0]=t,s[1]=i,s[2]=o,s[3]=a,e.reverse()}}function p(e){let t=(t,n)=>e(n,t.length).update((0,r.toBytes)(t)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(t,r)=>e(t,r),t}e.exports.ghash=p((e,t)=>new c(e,t)),e.exports.polyval=p((e,t)=>new d(e,t))}),eh.register("eNzuk",function(e,t){function r(e){let t=function(e){let t;if(0==arguments.length)throw TypeError("1 argument required, but only 0 present.");for(t=0,e=`${e}`;t<e.length;t++)if(e.charCodeAt(t)>255)throw Error(`InvalidCharacterError: found code point greater than 255:${e.charCodeAt(t)} at position ${t}`);let r="";for(t=0;t<e.length;t+=3){let n=[void 0,void 0,void 0,void 0];n[0]=e.charCodeAt(t)>>2,n[1]=(3&e.charCodeAt(t))<<4,e.length>t+1&&(n[1]|=e.charCodeAt(t+1)>>4,n[2]=(15&e.charCodeAt(t+1))<<2),e.length>t+2&&(n[2]|=e.charCodeAt(t+2)>>6,n[3]=63&e.charCodeAt(t+2));for(let e=0;e<n.length;e++)void 0===n[e]?r+="=":r+=function(e){if(e>=0&&e<64)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e]}(n[e])}return r}(e);return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function n(e){return e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"")}v(e.exports,"stringToBase64urlString",()=>r),v(e.exports,"uint8ArrayFromHexString",()=>i),v(e.exports,"uint8ArrayToHexString",()=>n),v(e.exports,"hexToAscii",()=>o),v(e.exports,"normalizePadding",()=>a);let i=(e,t)=>{if(!e||e.length%2!=0||!/^[0-9A-Fa-f]+$/.test(e))throw Error(`cannot create uint8array from invalid hex string: "${e}"`);let r=new Uint8Array(e.match(/../g).map(e=>parseInt(e,16)));if(!t)return r;if(e.length/2>t)throw Error("hex value cannot fit in a buffer of "+t+" byte(s)");let n=new Uint8Array(t);return n.set(r,t-r.length),n};function o(e){let t="";for(let r=0;r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t}let a=(e,t)=>{let r=t-e.length;if(r>0){let t=new Uint8Array(r).fill(0);return new Uint8Array([...t,...e])}if(r<0){let n=-1*r,i=0;for(let t=0;t<n&&t<e.length;t++)0===e[t]&&i++;if(i!==n)throw Error(`invalid number of starting zeroes. Expected number of zeroes: ${n}. Found: ${i}.`);return e.slice(n,n+t)}return e}}),eh.register("4lfnD",function(e,t){v(e.exports,"modSqrt",()=>r),v(e.exports,"testBit",()=>n);let r=(e,t)=>{if(t<=BigInt(0))throw Error("p must be positive");let r=e%t;if(n(t,0)&&n(t,1)){let e=t+BigInt(1)>>BigInt(2),n=i(r,e,t);if(n*n%t!==r)throw Error("could not find a modular square root");return n}throw Error("unsupported modulus value")},n=(e,t)=>{let r=BigInt(1)<<BigInt(t);return(e&r)!==BigInt(0)},i=(e,t,r)=>{if(t===BigInt(0))return BigInt(1);let n=e%r,i=t.toString(2);for(let t=1;t<i.length;++t)n=n*n%r,"1"===i[t]&&(n=n*e%r);return n}}),eh.register("2yHRv",function(e,t){v(e.exports,"SUITE_ID_1",()=>r),v(e.exports,"SUITE_ID_2",()=>n),v(e.exports,"HPKE_VERSION",()=>i),v(e.exports,"LABEL_SECRET",()=>o),v(e.exports,"LABEL_EAE_PRK",()=>a),v(e.exports,"LABEL_SHARED_SECRET",()=>s),v(e.exports,"AES_KEY_INFO",()=>u),v(e.exports,"IV_INFO",()=>l),v(e.exports,"PRODUCTION_SIGNER_PUBLIC_KEY",()=>c),v(e.exports,"PRODUCTION_NOTARIZER_PUBLIC_KEY",()=>d);let r=new Uint8Array([75,69,77,0,16]),n=new Uint8Array([72,80,75,69,0,16,0,1,0,2]),i=new Uint8Array([72,80,75,69,45,118,49]),o=new Uint8Array([115,101,99,114,101,116]),a=new Uint8Array([101,97,101,95,112,114,107]),s=new Uint8Array([115,104,97,114,101,100,95,115,101,99,114,101,116]),u=new Uint8Array([0,32,72,80,75,69,45,118,49,72,80,75,69,0,16,0,1,0,2,107,101,121,0,143,195,174,184,50,73,10,75,90,179,228,32,35,40,125,178,154,31,75,199,194,34,192,223,34,135,39,183,10,64,33,18,47,63,4,233,32,108,209,36,19,80,53,41,180,122,198,166,48,185,46,196,207,125,35,69,8,208,175,151,113,201,158,80]),l=new Uint8Array([0,12,72,80,75,69,45,118,49,72,80,75,69,0,16,0,1,0,2,98,97,115,101,95,110,111,110,99,101,0,143,195,174,184,50,73,10,75,90,179,228,32,35,40,125,178,154,31,75,199,194,34,192,223,34,135,39,183,10,64,33,18,47,63,4,233,32,108,209,36,19,80,53,41,180,122,198,166,48,185,46,196,207,125,35,69,8,208,175,151,113,201,158,80]),c="04cf288fe433cc4e1aa0ce1632feac4ea26bf2f5a09dcfe5a42c398e06898710330f0572882f4dbdf0f5304b8fc8703acd69adca9a4bbf7f5d00d20a5e364b2569",d="04d498aa87ac3bf982ac2b5dd9604d0074905cfbda5d62727c5a237b895e6749205e9f7cd566909c4387f6ca25c308445c60884b788560b785f4a96ac33702a469"}),eh.register("ldEGA",function(e,t){v(e.exports,"decryptCredentialBundle",()=>c),v(e.exports,"decryptExportBundle",()=>d);var r=eh("5C9lc"),n=eh("dIUwn"),i=eh("eNzuk"),o=eh("2yHRv"),a=eh("4p8Gk"),s=eh("8Nvbl"),u=eh("8LaMc"),l=eh("8gFe1");let c=(e,t)=>{try{let n=ed(r).decode(e);if(n.byteLength<=33)throw Error(`Bundle size ${n.byteLength} is too low. Expecting a compressed public key (33 bytes) and an encrypted credential.`);let o=n.slice(0,33),s=n.slice(33),u=(0,a.uncompressRawPublicKey)(o),l=(0,a.hpkeDecrypt)({ciphertextBuf:s,encappedKeyBuf:u,receiverPriv:t});return(0,i.uint8ArrayToHexString)(l)}catch(e){throw Error(`"Error decrypting bundle:", ${e}`)}},d=async({exportBundle:e,embeddedKey:t,organizationId:r,dangerouslyOverrideSignerPublicKey:o,keyFormat:s,returnMnemonic:l})=>{try{let c=JSON.parse(e),d=await p(c.enclaveQuorumPublic,c.dataSignature,c.data,o);if(!d)throw Error(`failed to verify enclave signature: ${c}`);let f=JSON.parse(new TextDecoder().decode((0,i.uint8ArrayFromHexString)(c.data)));if(!f.organizationId||f.organizationId!==r)throw Error(`organization id does not match expected value. Expected: ${r}. Found: ${f.organizationId}.`);if(!f.encappedPublic)throw Error('missing "encappedPublic" in bundle signed data');let h=(0,i.uint8ArrayFromHexString)(f.encappedPublic),m=(0,i.uint8ArrayFromHexString)(f.ciphertext),g=(0,a.hpkeDecrypt)({ciphertextBuf:m,encappedKeyBuf:h,receiverPriv:t});if("SOLANA"===s&&!l){if(32!==g.length)throw Error(`invalid private key length. Expected 32 bytes. Got ${g.length}.`);let e=(0,u.ed25519).getPublicKey(g);if(32!==e.length)throw Error(`invalid public key length. Expected 32 bytes. Got ${e.length}.`);let t=new Uint8Array(64);return t.set(g,0),t.set(e,32),(0,n.default).encode(t)}let y=(0,i.uint8ArrayToHexString)(g);return l?(0,i.hexToAscii)(y):y}catch(e){throw Error(`Error decrypting bundle: ${e}`)}},p=async(e,t,r,n)=>{let u=n||o.PRODUCTION_SIGNER_PUBLIC_KEY;if(e!=u)throw Error(`expected signer key ${n??o.PRODUCTION_SIGNER_PUBLIC_KEY} does not match signer key from bundle: ${e}`);let c=new Uint8Array((0,i.uint8ArrayFromHexString)(e)),d=f(c);if(!d)throw Error("failed to load quorum key");let p=(0,a.fromDerSignature)(t),h=(0,i.uint8ArrayFromHexString)(r),m=(0,l.sha256)(h);return(0,s.p256).verify(p,m,d.toHex())},f=e=>(0,s.p256).ProjectivePoint.fromHex((0,i.uint8ArrayToHexString)(e))}),eh.register("5C9lc",function(e,t){var r=eh("8gFe1").sha256,n=eh("dwcuq");e.exports=n(function(e){return r(r(e))})}),eh.register("dwcuq",function(e,t){var r=eh("dZqUV");e.exports=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var n=Uint8Array.from(t),i=e(n),o=n.length+4,a=new Uint8Array(o);return a.set(n,0),a.set(i.subarray(0,4),n.length),r.encode(a,o)},decode:function(n){var i=t(r.decode(n),e);if(!i)throw Error("Invalid checksum");return i},decodeUnsafe:function(e){var n=r.decodeUnsafe(e);if(n)return t(n)}}}}),eh.register("dZqUV",function(e,t){var r=eh("9BKDY");e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}),eh.register("9BKDY",function(e,t){e.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw TypeError(i+" is ambiguous");t[o]=n}var a=e.length,s=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function c(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===s;)n++,r++;for(var o=(e.length-r)*u+1>>>0,l=new Uint8Array(o);e[r];){var c=e.charCodeAt(r);if(c>255)return;var d=t[c];if(255===d)return;for(var p=0,f=o-1;(0!==d||p<i)&&-1!==f;f--,p++)d+=a*l[f]>>>0,l[f]=d%256>>>0,d=d/256>>>0;if(0!==d)throw Error("Non-zero carry");i=p,r++}for(var h=o-i;h!==o&&0===l[h];)h++;for(var m=new Uint8Array(n+(o-h)),g=n;h!==o;)m[g++]=l[h++];return m}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var u=(o-i)*l+1>>>0,c=new Uint8Array(u);i!==o;){for(var d=t[i],p=0,f=u-1;(0!==d||p<n)&&-1!==f;f--,p++)d+=256*c[f]>>>0,c[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw Error("Non-zero carry");n=p,i++}for(var h=u-n;h!==u&&0===c[h];)h++;for(var m=s.repeat(r);h<u;++h)m+=e.charAt(c[h]);return m},decodeUnsafe:c,decode:function(e){var t=c(e);if(t)return t;throw Error("Non-base"+a+" character")}}}}),eh.register("dIUwn",function(e,t){v(e.exports,"default",()=>r);var r=(0,eh("c8hvk").default)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}),eh.register("c8hvk",function(e,t){v(e.exports,"default",()=>r);var r=function(e){if(e.length>=255)throw TypeError("Alphabet too long");let t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let r=0;r<e.length;r++){let n=e.charAt(r),i=n.charCodeAt(0);if(255!==t[i])throw TypeError(n+" is ambiguous");t[i]=r}let r=e.length,n=e.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function a(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;let o=0,a=0,s=0;for(;e[o]===n;)a++,o++;let u=(e.length-o)*i+1>>>0,l=new Uint8Array(u);for(;o<e.length;){let n=e.charCodeAt(o);if(n>255)return;let i=t[n];if(255===i)return;let a=0;for(let e=u-1;(0!==i||a<s)&&-1!==e;e--,a++)i+=r*l[e]>>>0,l[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw Error("Non-zero carry");s=a,o++}let c=u-s;for(;c!==u&&0===l[c];)c++;let d=new Uint8Array(a+(u-c)),p=a;for(;c!==u;)d[p++]=l[c++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,a=0,s=0,u=t.length;for(;s!==u&&0===t[s];)s++,i++;let l=(u-s)*o+1>>>0,c=new Uint8Array(l);for(;s!==u;){let e=t[s],n=0;for(let t=l-1;(0!==e||n<a)&&-1!==t;t--,n++)e+=256*c[t]>>>0,c[t]=e%r>>>0,e=e/r>>>0;if(0!==e)throw Error("Non-zero carry");a=n,s++}let d=l-a;for(;d!==l&&0===c[d];)d++;let p=n.repeat(i);for(;d<l;++d)p+=e.charAt(c[d]);return p},decodeUnsafe:a,decode:function(e){let t=a(e);if(t)return t;throw Error("Non-base"+r+" character")}}}}),eh.register("8LaMc",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.hash_to_ristretto255=e.exports.hashToRistretto255=e.exports.RistrettoPoint=e.exports.encodeToCurve=e.exports.hashToCurve=e.exports.edwardsToMontgomeryPriv=e.exports.edwardsToMontgomery=e.exports.edwardsToMontgomeryPub=e.exports.x25519=e.exports.ed25519ph=e.exports.ed25519ctx=e.exports.ed25519=e.exports.ED25519_TORSION_SUBGROUP=void 0;var r=eh("5w5SP"),n=eh("51uCW"),i=eh("eNl21"),o=eh("bnqQU"),a=eh("iWmSL"),s=eh("iejs3"),u=eh("3SsMY");let l=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),c=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),d=BigInt(0),p=BigInt(1),f=BigInt(2),h=BigInt(5),m=BigInt(10),g=BigInt(20),y=BigInt(40),b=BigInt(80);function _(e){let t=e*e%l,r=t*e%l,n=(0,a.pow2)(r,f,l)*r%l,i=(0,a.pow2)(n,p,l)*e%l,o=(0,a.pow2)(i,h,l)*i%l,s=(0,a.pow2)(o,m,l)*o%l,u=(0,a.pow2)(s,g,l)*s%l,c=(0,a.pow2)(u,y,l)*u%l,d=(0,a.pow2)(c,b,l)*c%l,_=(0,a.pow2)(d,b,l)*c%l,w=(0,a.pow2)(_,m,l)*o%l,v=(0,a.pow2)(w,f,l)*e%l;return{pow_p_5_8:v,b2:r}}function w(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function v(e,t){let r=(0,a.mod)(t*t*t,l),n=(0,a.mod)(r*r*t,l),i=_(e*n).pow_p_5_8,o=(0,a.mod)(e*r*i,l),s=(0,a.mod)(t*o*o,l),u=o,d=(0,a.mod)(o*c,l),p=s===e,f=s===(0,a.mod)(-e,l),h=s===(0,a.mod)(-e*c,l);return p&&(o=u),(f||h)&&(o=d),(0,a.isNegativeLE)(o,l)&&(o=(0,a.mod)(-o,l)),{isValid:p||f,value:o}}e.exports.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];let k=(0,a.Field)(l,void 0,!0),A={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:k,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:r.sha512,randomBytes:n.randomBytes,adjustScalarBytes:w,uvRatio:v};function S(e,t,r){if(t.length>255)throw Error("Context is too big");return(0,n.concatBytes)((0,n.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,t.length]),t,e)}function I(t){let{y:r}=e.exports.ed25519.ExtendedPoint.fromHex(t),n=BigInt(1);return k.toBytes(k.create((n+r)*k.inv(n-r)))}e.exports.ed25519=(0,i.twistedEdwards)(A),e.exports.ed25519ctx=(0,i.twistedEdwards)({...A,domain:S}),e.exports.ed25519ph=(0,i.twistedEdwards)({...A,domain:S,prehash:r.sha512}),e.exports.x25519=(0,o.montgomery)({P:l,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{let{pow_p_5_8:t,b2:r}=_(e);return(0,a.mod)((0,a.pow2)(t,BigInt(3),l)*r,l)},adjustScalarBytes:w,randomBytes:n.randomBytes}),e.exports.edwardsToMontgomeryPub=I,e.exports.edwardsToMontgomery=I,e.exports.edwardsToMontgomeryPriv=function(e){let t=A.hash(e.subarray(0,32));return A.adjustScalarBytes(t).subarray(0,32)};let E=(k.ORDER+BigInt(3))/BigInt(8),T=k.pow(f,E),x=k.sqrt(k.neg(k.ONE)),P=(k.ORDER-BigInt(5))/BigInt(8),O=BigInt(486662),B=(0,a.FpSqrtEven)(k,k.neg(BigInt(486664))),C=(0,u.createHasher)(e.exports.ed25519.ExtendedPoint,e=>(function(e){let t,r,n,i,o,a,s,u,l,c,d,h,m,g,y,b,_,w,v,A,S;let{xMn:I,xMd:E,yMn:C,yMd:R}=(t=k.sqr(e),t=k.mul(t,f),r=k.add(t,k.ONE),n=k.neg(O),i=k.sqr(r),o=k.mul(i,r),a=k.mul(t,O),a=k.mul(a,n),a=k.add(a,i),a=k.mul(a,n),s=k.sqr(o),i=k.sqr(s),s=k.mul(s,o),s=k.mul(s,a),i=k.mul(i,s),u=k.pow(i,P),u=k.mul(u,s),l=k.mul(u,x),i=k.sqr(u),i=k.mul(i,o),c=k.eql(i,a),d=k.cmov(l,u,c),h=k.mul(n,t),m=k.mul(u,e),m=k.mul(m,T),g=k.mul(m,x),y=k.mul(a,t),i=k.sqr(m),i=k.mul(i,o),b=k.eql(i,y),_=k.cmov(g,m,b),i=k.sqr(d),i=k.mul(i,o),w=k.eql(i,a),v=k.cmov(h,n,w),A=k.cmov(_,d,w),S=k.isOdd(A),{xMn:v,xMd:r,yMn:A=k.cmov(A,k.neg(A),w!==S),yMd:p}),M=k.mul(I,R);M=k.mul(M,B);let L=k.mul(E,C),N=k.sub(I,E),D=k.add(I,E),F=k.mul(L,D),q=k.eql(F,k.ZERO);M=k.cmov(M,k.ZERO,q),L=k.cmov(L,k.ONE,q),N=k.cmov(N,k.ONE,q),D=k.cmov(D,k.ONE,q);let U=k.invertBatch([L,D]);return{x:k.mul(M,U[0]),y:k.mul(N,U[1])}})(e[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:k.ORDER,m:1,k:128,expand:"xmd",hash:r.sha512});function R(e){if(!(e instanceof W))throw Error("RistrettoPoint expected")}e.exports.hashToCurve=C.hashToCurve,e.exports.encodeToCurve=C.encodeToCurve;let M=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),L=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),N=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),D=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),F=e=>v(p,e),q=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),U=t=>e.exports.ed25519.CURVE.Fp.create((0,s.bytesToNumberLE)(t)&q);function j(t){let{d:r}=e.exports.ed25519.CURVE,n=e.exports.ed25519.CURVE.Fp.ORDER,i=e.exports.ed25519.CURVE.Fp.create,o=i(c*t*t),s=i((o+p)*N),u=BigInt(-1),l=i((u-r*o)*i(o+r)),{isValid:d,value:f}=v(s,l),h=i(f*t);(0,a.isNegativeLE)(h,n)||(h=i(-h)),d||(f=h),d||(u=o);let m=i(u*(o-p)*D-l),g=f*f,y=i((f+f)*l),b=i(m*M),_=i(p-g),w=i(p+g);return new e.exports.ed25519.ExtendedPoint(i(y*w),i(_*b),i(b*w),i(y*_))}class W{constructor(e){this.ep=e}static fromAffine(t){return new W(e.exports.ed25519.ExtendedPoint.fromAffine(t))}static hashToCurve(e){e=(0,s.ensureBytes)("ristrettoHash",e,64);let t=U(e.slice(0,32)),r=j(t),n=U(e.slice(32,64)),i=j(n);return new W(r.add(i))}static fromHex(t){t=(0,s.ensureBytes)("ristrettoHex",t,32);let{a:r,d:n}=e.exports.ed25519.CURVE,i=e.exports.ed25519.CURVE.Fp.ORDER,o=e.exports.ed25519.CURVE.Fp.create,u="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",l=U(t);if(!(0,s.equalBytes)((0,s.numberToBytesLE)(l,32),t)||(0,a.isNegativeLE)(l,i))throw Error(u);let c=o(l*l),f=o(p+r*c),h=o(p-r*c),m=o(f*f),g=o(h*h),y=o(r*n*m-g),{isValid:b,value:_}=F(o(y*g)),w=o(_*h),v=o(_*w*y),k=o((l+l)*w);(0,a.isNegativeLE)(k,i)&&(k=o(-k));let A=o(f*v),S=o(k*A);if(!b||(0,a.isNegativeLE)(S,i)||A===d)throw Error(u);return new W(new e.exports.ed25519.ExtendedPoint(k,A,p,S))}toRawBytes(){let t,{ex:r,ey:n,ez:i,et:o}=this.ep,u=e.exports.ed25519.CURVE.Fp.ORDER,l=e.exports.ed25519.CURVE.Fp.create,d=l(l(i+n)*l(i-n)),p=l(r*n),f=l(p*p),{value:h}=F(l(d*f)),m=l(h*d),g=l(h*p),y=l(m*g*o);if((0,a.isNegativeLE)(o*y,u)){let e=l(n*c),i=l(r*c);r=e,n=i,t=l(m*L)}else t=g;(0,a.isNegativeLE)(r*y,u)&&(n=l(-n));let b=l((i-n)*t);return(0,a.isNegativeLE)(b,u)&&(b=l(-b)),(0,s.numberToBytesLE)(b,32)}toHex(){return(0,s.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(t){R(t);let{ex:r,ey:n}=this.ep,{ex:i,ey:o}=t.ep,a=e.exports.ed25519.CURVE.Fp.create,s=a(r*o)===a(n*i),u=a(n*o)===a(r*i);return s||u}add(e){return R(e),new W(this.ep.add(e.ep))}subtract(e){return R(e),new W(this.ep.subtract(e.ep))}multiply(e){return new W(this.ep.multiply(e))}multiplyUnsafe(e){return new W(this.ep.multiplyUnsafe(e))}double(){return new W(this.ep.double())}negate(){return new W(this.ep.negate())}}e.exports.RistrettoPoint=(W.BASE||(W.BASE=new W(e.exports.ed25519.ExtendedPoint.BASE)),W.ZERO||(W.ZERO=new W(e.exports.ed25519.ExtendedPoint.ZERO)),W),e.exports.hashToRistretto255=(e,t)=>{let i=t.DST,o="string"==typeof i?(0,n.utf8ToBytes)(i):i,a=(0,u.expand_message_xmd)(e,o,64,r.sha512),s=W.hashToCurve(a);return s},e.exports.hash_to_ristretto255=e.exports.hashToRistretto255}),eh.register("5w5SP",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.sha384=e.exports.sha512_256=e.exports.sha512_224=e.exports.sha512=e.exports.SHA512=void 0;var r=eh("ia9rZ"),n=eh("dOUio"),i=eh("51uCW");let[o,a]=n.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),s=new Uint32Array(80),u=new Uint32Array(80);class l extends r.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:a,Dl:s,Eh:u,El:l,Fh:c,Fl:d,Gh:p,Gl:f,Hh:h,Hl:m}=this;return[e,t,r,n,i,o,a,s,u,l,c,d,p,f,h,m]}set(e,t,r,n,i,o,a,s,u,l,c,d,p,f,h,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|a,this.Dl=0|s,this.Eh=0|u,this.El=0|l,this.Fh=0|c,this.Fl=0|d,this.Gh=0|p,this.Gl=0|f,this.Hh=0|h,this.Hl=0|m}process(e,t){for(let r=0;r<16;r++,t+=4)s[r]=e.getUint32(t),u[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|s[e-15],r=0|u[e-15],i=n.default.rotrSH(t,r,1)^n.default.rotrSH(t,r,8)^n.default.shrSH(t,r,7),o=n.default.rotrSL(t,r,1)^n.default.rotrSL(t,r,8)^n.default.shrSL(t,r,7),a=0|s[e-2],l=0|u[e-2],c=n.default.rotrSH(a,l,19)^n.default.rotrBH(a,l,61)^n.default.shrSH(a,l,6),d=n.default.rotrSL(a,l,19)^n.default.rotrBL(a,l,61)^n.default.shrSL(a,l,6),p=n.default.add4L(o,d,u[e-7],u[e-16]),f=n.default.add4H(p,i,c,s[e-7],s[e-16]);s[e]=0|f,u[e]=0|p}let{Ah:r,Al:i,Bh:l,Bl:c,Ch:d,Cl:p,Dh:f,Dl:h,Eh:m,El:g,Fh:y,Fl:b,Gh:_,Gl:w,Hh:v,Hl:k}=this;for(let e=0;e<80;e++){let t=n.default.rotrSH(m,g,14)^n.default.rotrSH(m,g,18)^n.default.rotrBH(m,g,41),A=n.default.rotrSL(m,g,14)^n.default.rotrSL(m,g,18)^n.default.rotrBL(m,g,41),S=m&y^~m&_,I=g&b^~g&w,E=n.default.add5L(k,A,I,a[e],u[e]),T=n.default.add5H(E,v,t,S,o[e],s[e]),x=0|E,P=n.default.rotrSH(r,i,28)^n.default.rotrBH(r,i,34)^n.default.rotrBH(r,i,39),O=n.default.rotrSL(r,i,28)^n.default.rotrBL(r,i,34)^n.default.rotrBL(r,i,39),B=r&l^r&d^l&d,C=i&c^i&p^c&p;v=0|_,k=0|w,_=0|y,w=0|b,y=0|m,b=0|g,({h:m,l:g}=n.default.add(0|f,0|h,0|T,0|x)),f=0|d,h=0|p,d=0|l,p=0|c,l=0|r,c=0|i;let R=n.default.add3L(x,O,C);r=n.default.add3H(R,T,P,B),i=0|R}({h:r,l:i}=n.default.add(0|this.Ah,0|this.Al,0|r,0|i)),({h:l,l:c}=n.default.add(0|this.Bh,0|this.Bl,0|l,0|c)),({h:d,l:p}=n.default.add(0|this.Ch,0|this.Cl,0|d,0|p)),({h:f,l:h}=n.default.add(0|this.Dh,0|this.Dl,0|f,0|h)),({h:m,l:g}=n.default.add(0|this.Eh,0|this.El,0|m,0|g)),({h:y,l:b}=n.default.add(0|this.Fh,0|this.Fl,0|y,0|b)),({h:_,l:w}=n.default.add(0|this.Gh,0|this.Gl,0|_,0|w)),({h:v,l:k}=n.default.add(0|this.Hh,0|this.Hl,0|v,0|k)),this.set(r,i,l,c,d,p,f,h,m,g,y,b,_,w,v,k)}roundClean(){s.fill(0),u.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}e.exports.SHA512=l;class c extends l{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class d extends l{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class p extends l{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}e.exports.sha512=(0,i.wrapConstructor)(()=>new l),e.exports.sha512_224=(0,i.wrapConstructor)(()=>new c),e.exports.sha512_256=(0,i.wrapConstructor)(()=>new d),e.exports.sha384=(0,i.wrapConstructor)(()=>new p)}),eh.register("dOUio",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.add5L=e.exports.add5H=e.exports.add4H=e.exports.add4L=e.exports.add3H=e.exports.add3L=e.exports.add=e.exports.rotlBL=e.exports.rotlBH=e.exports.rotlSL=e.exports.rotlSH=e.exports.rotr32L=e.exports.rotr32H=e.exports.rotrBL=e.exports.rotrBH=e.exports.rotrSL=e.exports.rotrSH=e.exports.shrSL=e.exports.shrSH=e.exports.toBig=e.exports.split=e.exports.fromBig=void 0;let r=BigInt(4294967296-1),n=BigInt(32);function i(e,t=!1){return t?{h:Number(e&r),l:Number(e>>n&r)}:{h:0|Number(e>>n&r),l:0|Number(e&r)}}function o(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let o=0;o<e.length;o++){let{h:a,l:s}=i(e[o],t);[r[o],n[o]]=[a,s]}return[r,n]}e.exports.fromBig=i,e.exports.split=o;let a=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);e.exports.toBig=a;let s=(e,t,r)=>e>>>r;e.exports.shrSH=s;let u=(e,t,r)=>e<<32-r|t>>>r;e.exports.shrSL=u;let l=(e,t,r)=>e>>>r|t<<32-r;e.exports.rotrSH=l;let c=(e,t,r)=>e<<32-r|t>>>r;e.exports.rotrSL=c;let d=(e,t,r)=>e<<64-r|t>>>r-32;e.exports.rotrBH=d;let p=(e,t,r)=>e>>>r-32|t<<64-r;e.exports.rotrBL=p;let f=(e,t)=>t;e.exports.rotr32H=f;let h=(e,t)=>e;e.exports.rotr32L=h;let m=(e,t,r)=>e<<r|t>>>32-r;e.exports.rotlSH=m;let g=(e,t,r)=>t<<r|e>>>32-r;e.exports.rotlSL=g;let y=(e,t,r)=>t<<r-32|e>>>64-r;e.exports.rotlBH=y;let b=(e,t,r)=>e<<r-32|t>>>64-r;function _(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}}e.exports.rotlBL=b,e.exports.add=_;let w=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);e.exports.add3L=w;let v=(e,t,r,n)=>t+r+n+(e/4294967296|0)|0;e.exports.add3H=v;let k=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);e.exports.add4L=k;let A=(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0;e.exports.add4H=A;let S=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);e.exports.add5L=S;let I=(e,t,r,n,i,o)=>t+r+n+i+o+(e/4294967296|0)|0;e.exports.add5H=I,e.exports.default={fromBig:i,split:o,toBig:a,shrSH:s,shrSL:u,rotrSH:l,rotrSL:c,rotrBH:d,rotrBL:p,rotr32H:f,rotr32L:h,rotlSH:m,rotlSL:g,rotlBH:y,rotlBL:b,add:_,add3L:w,add3H:v,add4L:k,add4H:A,add5H:I,add5L:S}}),eh.register("eNl21",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.twistedEdwards=void 0;var r=eh("iWmSL"),n=(eh("iejs3"),eh("iejs3")),i=eh("5R9hw");let o=BigInt(0),a=BigInt(1),s=BigInt(2),u=BigInt(8),l={zip215:!0};e.exports.twistedEdwards=function(e){let t=function(e){let t=(0,i.validateBasic)(e);return n.validateObject(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:c,n:d,prehash:p,hash:f,randomBytes:h,nByteLength:m,h:g}=t,y=s<<BigInt(8*m)-a,b=c.create,_=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:c.sqrt(e*c.inv(t))}}catch(e){return{isValid:!1,value:o}}}),w=t.adjustScalarBytes||(e=>e),v=t.domain||((e,t,r)=>{if(t.length||r)throw Error("Contexts/pre-hash are not supported");return e}),k=e=>"bigint"==typeof e&&o<e,A=(e,t)=>k(e)&&k(t)&&e<t,S=e=>e===o||A(e,y);function I(e,t){if(A(e,t))return e;throw Error(`Expected valid scalar < ${t}, got ${typeof e} ${e}`)}function E(e){return e===o?e:I(e,d)}let T=new Map;function x(e){if(!(e instanceof P))throw Error("ExtendedPoint expected")}class P{constructor(e,t,r,n){if(this.ex=e,this.ey=t,this.ez=r,this.et=n,!S(e))throw Error("x required");if(!S(t))throw Error("y required");if(!S(r))throw Error("z required");if(!S(n))throw Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof P)throw Error("extended point not allowed");let{x:t,y:r}=e||{};if(!S(t)||!S(r))throw Error("invalid affine point");return new P(t,r,a,b(t*r))}static normalizeZ(e){let t=c.invertBatch(e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(P.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,T.delete(this)}assertValidity(){let{a:e,d:r}=t;if(this.is0())throw Error("bad point: ZERO");let{ex:n,ey:i,ez:o,et:a}=this,s=b(n*n),u=b(i*i),l=b(o*o),c=b(l*l),d=b(s*e),p=b(l*b(d+u)),f=b(c+b(r*b(s*u)));if(p!==f)throw Error("bad point: equation left != right (1)");let h=b(n*i),m=b(o*a);if(h!==m)throw Error("bad point: equation left != right (2)")}equals(e){x(e);let{ex:t,ey:r,ez:n}=this,{ex:i,ey:o,ez:a}=e,s=b(t*a),u=b(i*n),l=b(r*a),c=b(o*n);return s===u&&l===c}is0(){return this.equals(P.ZERO)}negate(){return new P(b(-this.ex),this.ey,this.ez,b(-this.et))}double(){let{a:e}=t,{ex:r,ey:n,ez:i}=this,o=b(r*r),a=b(n*n),u=b(s*b(i*i)),l=b(e*o),c=r+n,d=b(b(c*c)-o-a),p=l+a,f=p-u,h=l-a,m=b(d*f),g=b(p*h),y=b(d*h),_=b(f*p);return new P(m,g,_,y)}add(e){x(e);let{a:r,d:n}=t,{ex:i,ey:a,ez:u,et:l}=this,{ex:c,ey:d,ez:p,et:f}=e;if(r===BigInt(-1)){let e=b((a-i)*(d+c)),t=b((a+i)*(d-c)),r=b(t-e);if(r===o)return this.double();let n=b(u*s*f),h=b(l*s*p),m=h+n,g=t+e,y=h-n,_=b(m*r),w=b(g*y),v=b(m*y),k=b(r*g);return new P(_,w,k,v)}let h=b(i*c),m=b(a*d),g=b(l*n*f),y=b(u*p),_=b((i+a)*(c+d)-h-m),w=y-g,v=y+g,k=b(m-r*h),A=b(_*w),S=b(v*k),I=b(_*k),E=b(w*v);return new P(A,S,E,I)}subtract(e){return this.add(e.negate())}wNAF(e){return C.wNAFCached(this,T,e,P.normalizeZ)}multiply(e){let{p:t,f:r}=this.wNAF(I(e,d));return P.normalizeZ([t,r])[0]}multiplyUnsafe(e){let t=E(e);return t===o?B:this.equals(B)||t===a?this:this.equals(O)?this.wNAF(t).p:C.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(g).is0()}isTorsionFree(){return C.unsafeLadder(this,d).is0()}toAffine(e){let{ex:t,ey:r,ez:n}=this,i=this.is0();null==e&&(e=i?u:c.inv(n));let s=b(t*e),l=b(r*e),d=b(n*e);if(i)return{x:o,y:a};if(d!==a)throw Error("invZ was invalid");return{x:s,y:l}}clearCofactor(){let{h:e}=t;return e===a?this:this.multiplyUnsafe(e)}static fromHex(e,r=!1){let{d:i,a:s}=t,u=c.BYTES;e=(0,n.ensureBytes)("pointHex",e,u);let l=e.slice(),d=e[u-1];l[u-1]=-129&d;let p=n.bytesToNumberLE(l);p===o||(r?I(p,y):I(p,c.ORDER));let f=b(p*p),h=b(f-a),m=b(i*f-s),{isValid:g,value:w}=_(h,m);if(!g)throw Error("Point.fromHex: invalid y coordinate");let v=(w&a)===a,k=(128&d)!=0;if(!r&&w===o&&k)throw Error("Point.fromHex: x=0 and x_0=1");return k!==v&&(w=b(-w)),P.fromAffine({x:w,y:p})}static fromPrivateKey(e){return L(e).point}toRawBytes(){let{x:e,y:t}=this.toAffine(),r=n.numberToBytesLE(t,c.BYTES);return r[r.length-1]|=e&a?128:0,r}toHex(){return n.bytesToHex(this.toRawBytes())}}P.BASE=new P(t.Gx,t.Gy,a,b(t.Gx*t.Gy)),P.ZERO=new P(o,a,a,o);let{BASE:O,ZERO:B}=P,C=(0,i.wNAF)(P,8*m);function R(e){return(0,r.mod)(e,d)}function M(e){return R(n.bytesToNumberLE(e))}function L(e){e=(0,n.ensureBytes)("private key",e,m);let t=(0,n.ensureBytes)("hashed private key",f(e),2*m),r=w(t.slice(0,m)),i=t.slice(m,2*m),o=M(r),a=O.multiply(o),s=a.toRawBytes();return{head:r,prefix:i,scalar:o,point:a,pointBytes:s}}function N(e=new Uint8Array,...t){let r=n.concatBytes(...t);return M(f(v(r,(0,n.ensureBytes)("context",e),!!p)))}return O._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return L(e).pointBytes},sign:function(e,t,r={}){e=(0,n.ensureBytes)("message",e),p&&(e=p(e));let{prefix:i,scalar:o,pointBytes:a}=L(t),s=N(r.context,i,e),u=O.multiply(s).toRawBytes(),l=N(r.context,u,a,e),d=R(s+l*o);E(d);let f=n.concatBytes(u,n.numberToBytesLE(d,c.BYTES));return(0,n.ensureBytes)("result",f,2*m)},verify:function(e,t,r,i=l){let o,a,s;let{context:u,zip215:d}=i,f=c.BYTES;e=(0,n.ensureBytes)("signature",e,2*f),t=(0,n.ensureBytes)("message",t),p&&(t=p(t));let h=n.bytesToNumberLE(e.slice(f,2*f));try{o=P.fromHex(r,d),a=P.fromHex(e.slice(0,f),d),s=O.multiplyUnsafe(h)}catch(e){return!1}if(!d&&o.isSmallOrder())return!1;let m=N(u,a.toRawBytes(),o.toRawBytes(),t),g=a.add(o.multiplyUnsafe(m));return g.subtract(s).clearCofactor().equals(P.ZERO)},ExtendedPoint:P,utils:{getExtendedPublicKey:L,randomPrivateKey:()=>h(c.BYTES),precompute:(e=8,t=P.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}}),eh.register("bnqQU",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.montgomery=void 0;var r=eh("iWmSL"),n=eh("iejs3");let i=BigInt(0),o=BigInt(1);e.exports.montgomery=function(e){let t=((0,n.validateObject)(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...e})),{P:a}=t,s=e=>(0,r.mod)(e,a),u=t.montgomeryBits,l=Math.ceil(u/8),c=t.nByteLength,d=t.adjustScalarBytes||(e=>e),p=t.powPminus2||(e=>(0,r.pow)(e,a-BigInt(2),a));function f(e,t,r){let n=s(e*(t-r));return[t=s(t-n),r=s(r+n)]}function h(e){if("bigint"==typeof e&&i<=e&&e<a)return e;throw Error("Expected valid scalar 0 < scalar < CURVE.P")}let m=(t.a-BigInt(2))/BigInt(4);function g(e){return(0,n.numberToBytesLE)(s(e),l)}function y(e,t){let r=function(e){let t=(0,n.ensureBytes)("u coordinate",e,l);return 32===c&&(t[31]&=127),(0,n.bytesToNumberLE)(t)}(t),a=function(e){let t=(0,n.ensureBytes)("scalar",e),r=t.length;if(r!==l&&r!==c)throw Error(`Expected ${l} or ${c} bytes, got ${r}`);return(0,n.bytesToNumberLE)(d(t))}(e),y=function(e,t){let r;let n=h(e),a=h(t),l=o,c=i,d=n,g=o,y=i;for(let e=BigInt(u-1);e>=i;e--){let t=a>>e&o;y^=t,l=(r=f(y,l,d))[0],d=r[1],c=(r=f(y,c,g))[0],g=r[1],y=t;let i=l+c,u=s(i*i),p=l-c,h=s(p*p),b=u-h,_=d+g,w=d-g,v=s(w*i),k=s(_*p),A=v+k,S=v-k;d=s(A*A),g=s(n*s(S*S)),l=s(u*h),c=s(b*(u+s(m*b)))}l=(r=f(y,l,d))[0],d=r[1],c=(r=f(y,c,g))[0],g=r[1];let b=p(c);return s(l*b)}(r,a);if(y===i)throw Error("Invalid private or public key received");return g(y)}let b=g(t.Gu);function _(e){return y(e,b)}return{scalarMult:y,scalarMultBase:_,getSharedSecret:(e,t)=>y(e,t),getPublicKey:e=>_(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:b}}}),eh.register("hx6mC",function(e,t){var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==ec&&ec,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();(function(e){var t=void 0!==n&&n||"undefined"!=typeof self&&self||void 0!==ec&&ec||{},r={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(r.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function c(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function d(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function p(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(r.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(r.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;r.arrayBuffer&&r.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._noBody=!0,this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return c(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(r.blob)return this.blob().then(p);throw Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,n,i,o=c(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,r=d(t=new FileReader),i=(n=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?n[1]:"utf-8",t.readAsText(e,i),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},r.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=a(e),t=s(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},l.prototype.delete=function(e){delete this.map[a(e)]},l.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},l.prototype.set=function(e,t){this.map[a(e)]=s(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),u(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),u(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),u(e)},r.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var m=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function g(e,r){if(!(this instanceof g))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,o=(r=r||{}).body;if(e instanceof g){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,r.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=r.credentials||this.credentials||"same-origin",(r.headers||!this.headers)&&(this.headers=new l(r.headers)),this.method=(i=(n=r.method||this.method||"GET").toUpperCase(),m.indexOf(i)>-1?i:n),this.mode=r.mode||this.mode||null,this.signal=r.signal||this.signal||function(){if("AbortController"in t)return new AbortController().signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),("GET"===this.method||"HEAD"===this.method)&&("no-store"===r.cache||"no-cache"===r.cache)){var a=/([?&])_=[^&]*/;a.test(this.url)?this.url=this.url.replace(a,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function b(e,t){if(!(this instanceof b))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},h.call(g.prototype),h.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var _=[301,302,303,307,308];b.redirect=function(e,t){if(-1===_.indexOf(t))throw RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function w(n,i){return new Promise(function(o,u){var c=new g(n,i);if(c.signal&&c.signal.aborted)return u(new e.DOMException("Aborted","AbortError"));var d=new XMLHttpRequest;function p(){d.abort()}if(d.onload=function(){var e,t,r={statusText:d.statusText,headers:(e=d.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();try{t.append(n,i)}catch(e){console.warn("Response "+e.message)}}}),t)};0===c.url.indexOf("file://")&&(d.status<200||d.status>599)?r.status=200:r.status=d.status,r.url="responseURL"in d?d.responseURL:r.headers.get("X-Request-URL");var n="response"in d?d.response:d.responseText;setTimeout(function(){o(new b(n,r))},0)},d.onerror=function(){setTimeout(function(){u(TypeError("Network request failed"))},0)},d.ontimeout=function(){setTimeout(function(){u(TypeError("Network request timed out"))},0)},d.onabort=function(){setTimeout(function(){u(new e.DOMException("Aborted","AbortError"))},0)},d.open(c.method,function(e){try{return""===e&&t.location.href?t.location.href:e}catch(t){return e}}(c.url),!0),"include"===c.credentials?d.withCredentials=!0:"omit"===c.credentials&&(d.withCredentials=!1),"responseType"in d&&(r.blob?d.responseType="blob":r.arrayBuffer&&(d.responseType="arraybuffer")),i&&"object"==typeof i.headers&&!(i.headers instanceof l||t.Headers&&i.headers instanceof t.Headers)){var f=[];Object.getOwnPropertyNames(i.headers).forEach(function(e){f.push(a(e)),d.setRequestHeader(e,s(i.headers[e]))}),c.headers.forEach(function(e,t){-1===f.indexOf(t)&&d.setRequestHeader(t,e)})}else c.headers.forEach(function(e,t){d.setRequestHeader(t,e)});c.signal&&(c.signal.addEventListener("abort",p),d.onreadystatechange=function(){4===d.readyState&&c.signal.removeEventListener("abort",p)}),d.send(void 0===c._bodyInit?null:c._bodyInit)})}w.polyfill=!0,t.fetch||(t.fetch=w,t.Headers=l,t.Request=g,t.Response=b),e.Headers=l,e.Request=g,e.Response=b,e.fetch=w,Object.defineProperty(e,"__esModule",{value:!0})})({}),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}),eh.register("iYTzn",function(e,t){e.exports=eh("9BW3x")(eh("jZrc2").getBundleURL("aoY6u")+"../../home/runner/work/copilot/copilot/node_modules/.pnpm/viem@2.31.4_bufferutil@4.0.9_typescript@5.3.3_utf-8-validate@5.0.10_zod@3.25.67/node_modules/viem/esm/"+eh("hZnCo").resolve("9451F")).then(()=>eh("Nn3O4"))}),eh.register("1wLN6",function(e,t){e.exports=eh("9BW3x")(eh("jZrc2").getBundleURL("aoY6u")+"../../"+eh("hZnCo").resolve("6huTI")).then(()=>eh("8BaBP"))}),eh.register("aiM6D",function(e,t){e.exports=eh("9BW3x")(eh("jZrc2").getBundleURL("aoY6u")+"../../"+eh("hZnCo").resolve("JlUPj")).then(()=>eh("bHZR1"))}),eh.register("fQohh",function(e,t){v(e.exports,"Fragment",()=>r,e=>r=e),v(e.exports,"jsx",()=>n,e=>n=e),v(e.exports,"jsxs",()=>i,e=>i=e);var r,n,i,o=Symbol.for("react.transitional.element");function a(e,t,r){var n=null;if(void 0!==r&&(n=""+r),void 0!==t.key&&(n=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return{$$typeof:o,type:e,key:n,ref:void 0!==(t=r.ref)?t:null,props:r}}r=Symbol.for("react.fragment"),n=a,i=a}),eh("hZnCo").register(JSON.parse('{"aoY6u":"index.js","hiwK5":"logger.4414d143.js","9451F":"index.c17311c4.js","JlUPj":"secp256k1.ca9e88b3.js","6huTI":"dist.41b99cfc.js","k9wkM":"binancewallet-main.59ee913c.js","79Cl8":"axiom-main.539956e3.js","6elAy":"gmgn-main.ad035d42.js","ettYQ":"pump-main.4879dabf.js","8dNLe":"solscan-main.f792beec.js","77P6G":"twitter-main.cc793291.js"}'));var em={};Object.defineProperty(em,"__esModule",{value:!0}),em.sha224=em.SHA224=em.sha256=em.SHA256=void 0;var eg=eh("gDMZD");function ey(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}em.SHA256=eg.SHA256,em.sha256=eg.sha256,em.SHA224=eg.SHA224,em.sha224=eg.sha224;let eb="2.31.4",e_={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${eb}`};class ew extends Error{constructor(e,t={}){let r=t.cause instanceof ew?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof ew&&t.cause.docsPath||t.docsPath,i=e_.getDocsUrl?.({...t,docsPath:n}),o=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...e_.version?[`Version: ${e_.version}`]:[]].join("\n");super(o,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=eb}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&void 0!==t.cause?e(t.cause,r):r?null:t}(this,e)}}class ev extends ew{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}function ek(e,{dir:t,size:r=32}={}){return"string"==typeof e?function(e,{dir:t,size:r=32}={}){if(null===r)return e;let n=e.replace("0x","");if(n.length>2*r)throw new ev({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n["right"===t?"padEnd":"padStart"](2*r,"0")}`}(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new ev({size:e.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let i=0;i<r;i++){let o="right"===t;n[o?i:r-i-1]=e[o?i:e.length-i-1]}return n}(e,{dir:t,size:r})}class eA extends ew{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class eS extends ew{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function eI(e){return ey(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function eE(e,{size:t}){if(eI(e)>t)throw new eS({givenSize:eI(e),maxSize:t})}let eT=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ex(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=eT[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(eE(n,{size:t.size}),ek(n,{dir:"right",size:t.size})):n}function eP(e,t={}){let r;let{signed:n,size:i}=t,o=BigInt(e);i?r=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let a="bigint"==typeof r&&n?-r-1n:0;if(r&&o>r||o<a){let t="bigint"==typeof e?"n":"";throw new eA({max:r?`${r}${t}`:void 0,min:`${a}${t}`,signed:n,size:i,value:`${e}${t}`})}let s=`0x${(n&&o<0?(1n<<BigInt(8*i))+BigInt(o):o).toString(16)}`;return i?ek(s,{size:i}):s}let eO=new TextEncoder,eB=new TextEncoder,eC={zero:48,nine:57,A:65,F:70,a:97,f:102};function eR(e){return e>=eC.zero&&e<=eC.nine?e-eC.zero:e>=eC.A&&e<=eC.F?e-(eC.A-10):e>=eC.a&&e<=eC.f?e-(eC.a-10):void 0}function eM(e,t={}){let r=e;t.size&&(eE(r,{size:t.size}),r=ek(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);let i=n.length/2,o=new Uint8Array(i);for(let e=0,t=0;e<i;e++){let r=eR(n.charCodeAt(t++)),i=eR(n.charCodeAt(t++));if(void 0===r||void 0===i)throw new ew(`Invalid byte sequence ("${n[t-2]}${n[t-1]}" in "${n}").`);o[e]=16*r+i}return o}function eL(e,t){let r=(0,em.sha256)(ey(e,{strict:!1})?function(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){let r=eP(e,t);return eM(r)}(e,t):"boolean"==typeof e?function(e,t={}){let r=new Uint8Array(1);return(r[0]=Number(e),"number"==typeof t.size)?(eE(r,{size:t.size}),ek(r,{size:t.size})):r}(e,t):ey(e)?eM(e,t):function(e,t={}){let r=eB.encode(e);return"number"==typeof t.size?(eE(r,{size:t.size}),ek(r,{dir:"right",size:t.size})):r}(e,t)}(e):e);return"bytes"===(t||"hex")?r:function(e,t={}){return"number"==typeof e||"bigint"==typeof e?eP(e,t):"string"==typeof e?function(e,t={}){let r=eO.encode(e);return ex(r,t)}(e,t):"boolean"==typeof e?function(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?(eE(r,{size:t.size}),ek(r,{size:t.size})):r}(e,t):ex(e,t)}(r)}var eN=Object.defineProperty,eD=Object.defineProperties,eF=Object.getOwnPropertyDescriptors,eq=Object.getOwnPropertySymbols,eU=Object.prototype.hasOwnProperty,ej=Object.prototype.propertyIsEnumerable,eW=(e,t,r)=>t in e?eN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eK=(e,t)=>{for(var r in t||(t={}))eU.call(t,r)&&eW(e,r,t[r]);if(eq)for(var r of eq(t))ej.call(t,r)&&eW(e,r,t[r]);return e},ez=(e,t)=>eD(e,eF(t)),eV=class extends Error{constructor(e,t,r){super(t||e.toString(),{cause:r}),this.status=e,this.statusText=t,this.error=r}},eH=async(e,t)=>{var r,n,i,o,a,s;let u=t||{},l={onRequest:[null==t?void 0:t.onRequest],onResponse:[null==t?void 0:t.onResponse],onSuccess:[null==t?void 0:t.onSuccess],onError:[null==t?void 0:t.onError],onRetry:[null==t?void 0:t.onRetry]};if(!t||!(null==t?void 0:t.plugins))return{url:e,options:u,hooks:l};for(let c of(null==t?void 0:t.plugins)||[]){if(c.init){let n=await (null==(r=c.init)?void 0:r.call(c,e.toString(),t));u=n.options||u,e=n.url}l.onRequest.push(null==(n=c.hooks)?void 0:n.onRequest),l.onResponse.push(null==(i=c.hooks)?void 0:i.onResponse),l.onSuccess.push(null==(o=c.hooks)?void 0:o.onSuccess),l.onError.push(null==(a=c.hooks)?void 0:a.onError),l.onRetry.push(null==(s=c.hooks)?void 0:s.onRetry)}return{url:e,options:u,hooks:l}},eG=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(){return this.options.delay}},e$=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(e){let t=Math.min(this.options.maxDelay,this.options.baseDelay*2**e);return t}},eX=async e=>{let t={},r=async e=>"function"==typeof e?await e():e;if(null==e?void 0:e.auth){if("Bearer"===e.auth.type){let n=await r(e.auth.token);if(!n)return t;t.authorization=`Bearer ${n}`}else if("Basic"===e.auth.type){let n=r(e.auth.username),i=r(e.auth.password);if(!n||!i)return t;t.authorization=`Basic ${btoa(`${n}:${i}`)}`}else if("Custom"===e.auth.type){let n=r(e.auth.value);if(!n)return t;t.authorization=`${r(e.auth.prefix)} ${n}`}}return t},eZ=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function eQ(e){if(void 0===e)return!1;let t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}function eY(e){try{return JSON.parse(e)}catch(t){return e}}function eJ(e){return"function"==typeof e}async function e1(e){let t=new Headers(null==e?void 0:e.headers),r=await eX(e);for(let[e,n]of Object.entries(r||{}))t.set(e,n);if(!t.has("content-type")){let r=eQ(null==e?void 0:e.body)?"application/json":null;r&&t.set("content-type",r)}return t}var e0=class e extends Error{constructor(t,r){super(r||JSON.stringify(t,null,2)),this.issues=t,Object.setPrototypeOf(this,e.prototype)}};async function e2(e,t){let r=await e["~standard"].validate(t);if(r.issues)throw new e0(r.issues);return r.value}var e6=["get","post","put","patch","delete"],e4=e=>({id:"apply-schema",name:"Apply Schema",version:"1.0.0",async init(t,r){var n,i,o,a;let s=(null==(i=null==(n=e.plugins)?void 0:n.find(e=>{var r;return null!=(r=e.schema)&&!!r.config&&(t.startsWith(e.schema.config.baseURL||"")||t.startsWith(e.schema.config.prefix||""))}))?void 0:i.schema)||e.schema;if(s){let e=t;(null==(o=s.config)?void 0:o.prefix)&&e.startsWith(s.config.prefix)&&(e=e.replace(s.config.prefix,""),s.config.baseURL&&(t=t.replace(s.config.prefix,s.config.baseURL))),(null==(a=s.config)?void 0:a.baseURL)&&e.startsWith(s.config.baseURL)&&(e=e.replace(s.config.baseURL,""));let n=s.schema[e];if(n){let e=ez(eK({},r),{method:n.method,output:n.output});return(null==r?void 0:r.disableValidation)||(e=ez(eK({},e),{body:n.input?await e2(n.input,null==r?void 0:r.body):null==r?void 0:r.body,params:n.params?await e2(n.params,null==r?void 0:r.params):null==r?void 0:r.params,query:n.query?await e2(n.query,null==r?void 0:r.query):null==r?void 0:r.query})),{url:t,options:e}}}return{url:t,options:r}}}),e5=e=>async function(t,r){let n=ez(eK(eK({},e),r),{plugins:[...(null==e?void 0:e.plugins)||[],e4(e||{})]});return null==e||e.catchAllError,await e8(t,n)},e8=async(e,t)=>{var r,n,i,o,a,s,u,l;let c;let{hooks:d,url:p,options:f}=await eH(e,t),h=function(e){if(null==e?void 0:e.customFetchImpl)return e.customFetchImpl;if("undefined"!=typeof globalThis&&eJ(globalThis.fetch))return globalThis.fetch;if("undefined"!=typeof window&&eJ(window.fetch))return window.fetch;throw Error("No fetch implementation found")}(f),m=new AbortController,g=null!=(r=f.signal)?r:m.signal,y=function(e,t){let{baseURL:r,params:n,query:i}=t||{query:{},params:{},baseURL:""},o=e.startsWith("http")?e.split("/").slice(0,3).join("/"):r||"";if(e.startsWith("@")){let t=e.toString().split("@")[1].split("/")[0];e6.includes(t)&&(e=e.replace(`@${t}/`,"/"))}o.endsWith("/")||(o+="/");let[a,s]=e.replace(o,"").split("?"),u=new URLSearchParams(s);for(let[e,t]of Object.entries(i||{}))null!=t&&u.set(e,String(t));if(n){if(Array.isArray(n)){let e=a.split("/").filter(e=>e.startsWith(":"));for(let[t,r]of e.entries()){let e=n[t];a=a.replace(r,e)}}else for(let[e,t]of Object.entries(n))a=a.replace(`:${e}`,String(t))}(a=a.split("/").map(encodeURIComponent).join("/")).startsWith("/")&&(a=a.slice(1));let l=u.toString();if(l=l.length>0?`?${l}`.replace(/\+/g,"%20"):"",!o.startsWith("http"))return`${o}${a}${l}`;let c=new URL(`${a}${l}`,o);return c}(p,f),b=function(e){if(!(null==e?void 0:e.body))return null;let t=new Headers(null==e?void 0:e.headers);if(eQ(e.body)&&!t.has("content-type")){for(let[t,r]of Object.entries(null==e?void 0:e.body))r instanceof Date&&(e.body[t]=r.toISOString());return JSON.stringify(e.body)}return e.body}(f),_=await e1(f),w=function(e,t){var r;if(null==t?void 0:t.method)return t.method.toUpperCase();if(e.startsWith("@")){let n=null==(r=e.split("@")[1])?void 0:r.split("/")[0];return e6.includes(n)?n.toUpperCase():(null==t?void 0:t.body)?"POST":"GET"}return(null==t?void 0:t.body)?"POST":"GET"}(p,f),v=ez(eK({},f),{url:y,headers:_,body:b,method:w,signal:g});for(let e of d.onRequest)if(e){let t=await e(v);t instanceof Object&&(v=t)}("pipeTo"in v&&"function"==typeof v.pipeTo||"function"==typeof(null==(n=null==t?void 0:t.body)?void 0:n.pipe))&&!("duplex"in v)&&(v.duplex="half");let{clearTimeout:k}=(!(null==f?void 0:f.signal)&&(null==f?void 0:f.timeout)&&(c=setTimeout(()=>null==m?void 0:m.abort(),null==f?void 0:f.timeout)),{abortTimeout:c,clearTimeout:()=>{c&&clearTimeout(c)}}),A=await h(v.url,v);k();let S={response:A,request:v};for(let e of d.onResponse)if(e){let r=await e(ez(eK({},S),{response:(null==(i=null==t?void 0:t.hookOptions)?void 0:i.cloneResponse)?A.clone():A}));r instanceof Response?A=r:r instanceof Object&&(A=r.response)}if(A.ok){let e="HEAD"!==v.method;if(!e)return{data:"",error:null};let r=function(e){let t=e.headers.get("content-type"),r=new Set(["image/svg","application/xml","application/xhtml","application/html"]);if(!t)return"json";let n=t.split(";").shift()||"";return eZ.test(n)?"json":r.has(n)||n.startsWith("text/")?"text":"blob"}(A),n={data:"",response:A,request:v};if("json"===r||"text"===r){let e=await A.text(),t=null!=(o=v.jsonParser)?o:eY,r=await t(e);n.data=r}else n.data=await A[r]();for(let e of((null==v?void 0:v.output)&&v.output&&!v.disableValidation&&(n.data=await e2(v.output,n.data)),d.onSuccess))e&&await e(ez(eK({},n),{response:(null==(a=null==t?void 0:t.hookOptions)?void 0:a.cloneResponse)?A.clone():A}));return(null==t?void 0:t.throw)?n.data:{data:n.data,error:null}}let I=null!=(s=null==t?void 0:t.jsonParser)?s:eY,E=await A.text(),T=function(e){try{return JSON.parse(e),!0}catch(e){return!1}}(E),x=T?await I(E):null,P={response:A,responseText:E,request:v,error:ez(eK({},x),{status:A.status,statusText:A.statusText})};for(let e of d.onError)e&&await e(ez(eK({},P),{response:(null==(u=null==t?void 0:t.hookOptions)?void 0:u.cloneResponse)?A.clone():A}));if(null==t?void 0:t.retry){let r=function(e){if("number"==typeof e)return new eG({type:"linear",attempts:e,delay:1e3});switch(e.type){case"linear":return new eG(e);case"exponential":return new e$(e);default:throw Error("Invalid retry strategy")}}(t.retry),n=null!=(l=t.retryAttempt)?l:0;if(await r.shouldAttemptRetry(n,A)){for(let e of d.onRetry)e&&await e(S);let i=r.getDelay(n);return await new Promise(e=>setTimeout(e,i)),await e8(e,ez(eK({},t),{retryAttempt:n+1}))}}if(null==t?void 0:t.throw)throw new eV(A.status,A.statusText,T?x:E);return{data:null,error:ez(eK({},x),{status:A.status,statusText:A.statusText})}},e3=eh("jcdBh");let e9=Object.create(null),e7=e=>globalThis.process?.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(e?e9:globalThis),te=new Proxy(e9,{get(e,t){let r=e7();return r[t]??e9[t]},has(e,t){let r=e7();return t in r||t in e9},set(e,t,r){let n=e7(!0);return n[t]=r,!0},deleteProperty(e,t){if(!t)return!1;let r=e7(!0);return delete r[t],!0},ownKeys(){let e=e7(!0);return Object.keys(e)}}),tt=void 0!==e3&&e3.env&&"production"||"";"test"!==tt&&te.TEST;class tr extends Error{constructor(e,t){super(e),this.name="BetterAuthError",this.message=e,this.cause=t,this.stack=""}}function tn(e,t="/api/auth"){let r=function(e){try{let t=new URL(e);return"/"!==t.pathname}catch(t){throw new tr(`Invalid base URL: ${e}. Please provide a valid base URL.`)}}(e);return r?e:(t=t.startsWith("/")?t:`/${t}`,`${e.replace(/\/+$/,"")}${t}`)}Pk=function(e,t,r){if(e)return tn(e,t);let n=te.BETTER_AUTH_URL||te.NEXT_PUBLIC_BETTER_AUTH_URL||te.PUBLIC_BETTER_AUTH_URL||te.NUXT_PUBLIC_BETTER_AUTH_URL||te.NUXT_PUBLIC_AUTH_URL||("/"!==te.BASE_URL?te.BASE_URL:void 0);if(n)return tn(n,t);let i=r?.headers.get("x-forwarded-host"),o=r?.headers.get("x-forwarded-proto");if(i&&o)return tn(`${o}://${i}`,t);if(r){let e=function(e){try{let t=new URL(e);return t.origin}catch(e){return null}}(r.url);if(!e)throw new tr("Could not get origin from request. Please provide a valid base URL.");return tn(e,t)}if("undefined"!=typeof window&&window.location)return tn(window.location.origin,t)};let ti=[],to=0,ta=0,ts=e=>{let t=[],r={get:()=>(r.lc||r.listen(()=>{})(),r.value),lc:0,listen:e=>(r.lc=t.push(e),()=>{for(let t=to+4;t<ti.length;)ti[t]===e?ti.splice(t,4):t+=4;let n=t.indexOf(e);!~n||(t.splice(n,1),--r.lc||r.off())}),notify(e,n){ta++;let i=!ti.length;for(let i of t)ti.push(i,r.value,e,n);if(i){for(to=0;to<ti.length;to+=4)ti[to](ti[to+1],ti[to+2],ti[to+3]);ti.length=0}},off(){},set(e){let t=r.value;t!==e&&(r.value=e,r.notify(t))},subscribe(e){let t=r.listen(e);return e(r.value),t},value:e};return r},tu=(e,t,r,n)=>(e.events=e.events||{},e.events[r+10]||(e.events[r+10]=n(t=>{e.events[r].reduceRight((e,t)=>(t(e),e),{shared:{},...t})})),e.events[r]=e.events[r]||[],e.events[r].push(t),()=>{let n=e.events[r],i=n.indexOf(t);n.splice(i,1),n.length||(delete e.events[r],e.events[r+10](),delete e.events[r+10])}),tl=(e,t)=>tu(e,r=>{let n=t(r);n&&e.events[6].push(n)},5,t=>{let r=e.listen;e.listen=(...n)=>(e.lc||e.active||(e.active=!0,t()),r(...n));let n=e.off;return e.events[6]=[],e.off=()=>{n(),setTimeout(()=>{if(e.active&&!e.lc){for(let t of(e.active=!1,e.events[6]))t();e.events[6]=[]}},1e3)},()=>{e.listen=r,e.off=n}}),tc="undefined"==typeof window;PA=(e,t,r,n)=>{let i=ts({data:null,error:null,isPending:!0,isRefetching:!1,refetch:()=>o()}),o=()=>{let e="function"==typeof n?n({data:i.get().data,error:i.get().error,isPending:i.get().isPending}):n;return r(t,{...e,async onSuccess(t){i.set({data:t.data,error:null,isPending:!1,isRefetching:!1,refetch:i.value.refetch}),await e?.onSuccess?.(t)},async onError(t){let{request:r}=t,n="number"==typeof r.retry?r.retry:r.retry?.attempts,o=r.retryAttempt||0;n&&o<n||(i.set({error:t.error,data:null,isPending:!1,isRefetching:!1,refetch:i.value.refetch}),await e?.onError?.(t))},async onRequest(t){let r=i.get();i.set({isPending:null===r.data,data:r.data,error:null,isRefetching:!0,refetch:i.value.refetch}),await e?.onRequest?.(t)}})};e=Array.isArray(e)?e:[e];let a=!1;for(let t of e)t.subscribe(()=>{tc||(a?o():tl(i,()=>(setTimeout(()=>{o()},0),a=!0,()=>{i.off(),t.off()})))});return i};let td={proto:/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,constructor:/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,protoShort:/"__proto__"\s*:/,constructorShort:/"constructor"\s*:/},tp=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/,tf={true:!0,false:!1,null:null,undefined:void 0,nan:Number.NaN,infinity:Number.POSITIVE_INFINITY,"-infinity":Number.NEGATIVE_INFINITY},th=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,7}))?(?:Z|([+-])(\d{2}):(\d{2}))$/,tm={id:"redirect",name:"Redirect",hooks:{onSuccess(e){if(e.data?.url&&e.data?.redirect&&"undefined"!=typeof window&&window.location&&window.location)try{window.location.href=e.data.url}catch{}}}};Pv=e=>{let t="credentials"in Request.prototype,r=Pk(e?.baseURL,e?.basePath),n=e?.plugins?.flatMap(e=>e.fetchPlugins).filter(e=>void 0!==e)||[],i=e5({baseURL:r,...t?{credentials:"include"}:{},method:"GET",jsonParser:e=>e?function(e,t={strict:!0}){return function(e,t={}){let{strict:r=!1,warnings:n=!1,reviver:i,parseDates:o=!0}=t;if("string"!=typeof e)return e;let a=e.trim();if('"'===a[0]&&a.endsWith('"')&&!a.slice(1,-1).includes('"'))return a.slice(1,-1);let s=a.toLowerCase();if(s.length<=9&&s in tf)return tf[s];if(!tp.test(a)){if(r)throw SyntaxError("[better-json] Invalid JSON");return e}let u=Object.entries(td).some(([e,t])=>{let r=t.test(a);return r&&n&&console.warn(`[better-json] Detected potential prototype pollution attempt using ${e} pattern`),r});if(u&&r)throw Error("[better-json] Potential prototype pollution attempt detected");try{return JSON.parse(a,(e,t)=>{if("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t){n&&console.warn(`[better-json] Dropping "${e}" key to prevent prototype pollution`);return}if(o&&"string"==typeof t){let e=function(e){let t=th.exec(e);if(!t)return null;let[,r,n,i,o,a,s,u,l,c,d]=t,p=new Date(Date.UTC(parseInt(r,10),parseInt(n,10)-1,parseInt(i,10),parseInt(o,10),parseInt(a,10),parseInt(s,10),u?parseInt(u.padEnd(3,"0"),10):0));if(l){let e=(60*parseInt(c,10)+parseInt(d,10))*("+"===l?-1:1);p.setUTCMinutes(p.getUTCMinutes()+e)}return p instanceof Date&&!isNaN(p.getTime())?p:null}(t);if(e)return e}return i?i(e,t):t})}catch(t){if(r)throw t;return e}}(e,t)}(e,{strict:!1}):null,customFetchImpl:async(e,t)=>{try{return await fetch(e,t)}catch(e){return Response.error()}},...e?.fetchOptions,plugins:e?.disableDefaultFetchPlugins?[...e?.fetchOptions?.plugins||[],...n]:[tm,...e?.fetchOptions?.plugins||[],...n]}),{$sessionSignal:o,session:a}=function(e){let t=ts(!1),r=PA(t,"/get-session",e,{method:"GET"});return{session:r,$sessionSignal:t}}(i),s=e?.plugins||[],u={},l={$sessionSignal:o,session:a},c={"/sign-out":"POST","/revoke-sessions":"POST","/revoke-other-sessions":"POST","/delete-user":"POST"},d=[{signal:"$sessionSignal",matcher:e=>"/sign-out"===e||"/update-user"===e||e.startsWith("/sign-in")||e.startsWith("/sign-up")||"/delete-user"===e||"/verify-email"===e}];for(let e of s)e.getAtoms&&Object.assign(l,e.getAtoms?.(i)),e.pathMethods&&Object.assign(c,e.pathMethods),e.atomListeners&&d.push(...e.atomListeners);let p={notify:e=>{l[e].set(!l[e].get())},listen:(e,t)=>{l[e].subscribe(t)},atoms:l};for(let t of s)t.getActions&&Object.assign(u,t.getActions?.(i,p,e));return{pluginsActions:u,pluginsAtoms:l,pluginPathMethods:c,atomListeners:d,$fetch:i,$store:p}};var tg=eh("eJeWc");let ty=function(e){let{pluginPathMethods:t,pluginsActions:r,pluginsAtoms:n,$fetch:i,$store:o,atomListeners:a}=Pv(e),s={};for(let[e,t]of Object.entries(n))s[`use${e.charAt(0).toUpperCase()+e.slice(1)}`]=()=>(function(e,t={}){let r=tg.useRef(e.get()),{keys:n,deps:i=[e,n]}=t,o=tg.useCallback(t=>{let i=e=>{r.current!==e&&(r.current=e,t())};if(i(e.value),n?.length){let t;return t=new Set(n).add(void 0),e.listen((e,r,n)=>{t.has(n)&&i(e,r,n)})}return e.listen(i)},i),a=()=>r.current;return tg.useSyncExternalStore(o,a,a)})(t);let u={...r,...s,$fetch:i,$store:o},l=function e(r=[]){return new Proxy(function(){},{get(t,n){let i=[...r,n],o=u;for(let e of i)if(o&&"object"==typeof o&&e in o)o=o[e];else{o=void 0;break}return"function"==typeof o?o:e(i)},apply:async(e,o,s)=>{let u="/"+r.map(e=>e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)).join("/"),l=s[0]||{},c=s[1]||{},{query:d,fetchOptions:p,...f}=l,h={...c,...p},m=function(e,t,r){let n=t[e],{fetchOptions:i,query:o,...a}=r||{};return n||(i?.method?i.method:a&&Object.keys(a).length>0?"POST":"GET")}(u,t,l);return await i(u,{...h,body:"GET"===m?void 0:{...f,...h?.body||{}},query:d||h?.query,method:m,async onSuccess(e){await h?.onSuccess?.(e);let t=a?.find(e=>e.matcher(u));if(!t)return;let r=n[t.signal];if(!r)return;let i=r.get();setTimeout(()=>{r.set(!i)},10)}})}})}();return l}({baseURL:(void 0)??"https://loadbalance.frontrun.pro",basePath:"/api/v1/auth",plugins:[]});function tb(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var t_="function"==typeof Symbol&&Symbol.observable||"@@observable",tw=()=>Math.random().toString(36).substring(7).split("").join("."),tv={INIT:`@@redux/INIT${tw()}`,REPLACE:`@@redux/REPLACE${tw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${tw()}`};function tk(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function tA(e,t,r){if("function"!=typeof e)throw Error(tb(2));if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw Error(tb(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw Error(tb(1));return r(tA)(e,t)}let n=e,i=t,o=new Map,a=o,s=0,u=!1;function l(){a===o&&(a=new Map,o.forEach((e,t)=>{a.set(t,e)}))}function c(){if(u)throw Error(tb(3));return i}function d(e){if("function"!=typeof e)throw Error(tb(4));if(u)throw Error(tb(5));let t=!0;l();let r=s++;return a.set(r,e),function(){if(t){if(u)throw Error(tb(6));t=!1,l(),a.delete(r),o=null}}}function p(e){if(!tk(e))throw Error(tb(7));if(void 0===e.type)throw Error(tb(8));if("string"!=typeof e.type)throw Error(tb(17));if(u)throw Error(tb(9));try{u=!0,i=n(i,e)}finally{u=!1}let t=o=a;return t.forEach(e=>{e()}),e}return p({type:tv.INIT}),{dispatch:p,subscribe:d,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw Error(tb(10));n=e,p({type:tv.REPLACE})},[t_]:function(){return{subscribe(e){if("object"!=typeof e||null===e)throw Error(tb(11));function t(){e.next&&e.next(c())}t();let r=d(t);return{unsubscribe:r}},[t_](){return this}}}}}function tS(e){let t;let r=Object.keys(e),n={};for(let t=0;t<r.length;t++){let i=r[t];"function"==typeof e[i]&&(n[i]=e[i])}let i=Object.keys(n);try{!function(e){Object.keys(e).forEach(t=>{let r=e[t],n=r(void 0,{type:tv.INIT});if(void 0===n)throw Error(tb(12));if(void 0===r(void 0,{type:tv.PROBE_UNKNOWN_ACTION()}))throw Error(tb(13))})}(n)}catch(e){t=e}return function(e={},r){if(t)throw t;let o=!1,a={};for(let t=0;t<i.length;t++){let s=i[t],u=n[s],l=e[s],c=u(l,r);if(void 0===c)throw r&&r.type,Error(tb(14));a[s]=c,o=o||c!==l}return(o=o||i.length!==Object.keys(e).length)?a:e}}function tI(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...r)=>e(t(...r)))}function tE(e){return tk(e)&&"type"in e&&"string"==typeof e.type}var tT=Object.defineProperty,tx=Object.getOwnPropertySymbols,tP=Object.prototype.hasOwnProperty,tO=Object.prototype.propertyIsEnumerable,tB=(e,t,r)=>t in e?tT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tC=(e,t)=>{for(var r in t||(t={}))tP.call(t,r)&&tB(e,r,t[r]);if(tx)for(var r of tx(t))tO.call(t,r)&&tB(e,r,t[r]);return e},tR=Symbol.for("immer-nothing"),tM=Symbol.for("immer-draftable"),tL=Symbol.for("immer-state");function tN(e,...t){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var tD=Object.getPrototypeOf;function tF(e){return!!e&&!!e[tL]}function tq(e){var t;return!!e&&(tj(e)||Array.isArray(e)||!!e[tM]||!!(null==(t=e.constructor)?void 0:t[tM])||tG(e)||t$(e))}var tU=Object.prototype.constructor.toString();function tj(e){if(!e||"object"!=typeof e)return!1;let t=tD(e);if(null===t)return!0;let r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===tU}function tW(e,t){0===tK(e)?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function tK(e){let t=e[tL];return t?t.type_:Array.isArray(e)?1:tG(e)?2:t$(e)?3:0}function tz(e,t){return 2===tK(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function tV(e,t){return 2===tK(e)?e.get(t):e[t]}function tH(e,t,r){let n=tK(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function tG(e){return e instanceof Map}function t$(e){return e instanceof Set}function tX(e){return e.copy_||e.base_}function tZ(e,t){if(tG(e))return new Map(e);if(t$(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let r=tj(e);if(!0!==t&&("class_only"!==t||r)){let t=tD(e);if(null!==t&&r)return tC({},e);let n=Object.create(t);return Object.assign(n,e)}{let t=Object.getOwnPropertyDescriptors(e);delete t[tL];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){let i=r[n],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(tD(e),t)}}function tQ(e,t=!1){return tJ(e)||tF(e)||!tq(e)||(tK(e)>1&&(e.set=e.add=e.clear=e.delete=tY),Object.freeze(e),t&&Object.entries(e).forEach(([e,t])=>tQ(t,!0))),e}function tY(){tN(2)}function tJ(e){return Object.isFrozen(e)}var t1={};function t0(e){let t=t1[e];return t||tN(0,e),t}function t2(e,t){t&&(t0("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function t6(e){t4(e),e.drafts_.forEach(t8),e.drafts_=null}function t4(e){e===PS&&(PS=e.parent_)}function t5(e){return PS={drafts_:[],parent_:PS,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function t8(e){let t=e[tL];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function t3(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0],n=void 0!==e&&e!==r;return n?(r[tL].modified_&&(t6(t),tN(4)),tq(e)&&(e=t9(t,e),t.parent_||re(t,e)),t.patches_&&t0("Patches").generateReplacementPatches_(r[tL].base_,e,t.patches_,t.inversePatches_)):e=t9(t,r,[]),t6(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==tR?e:void 0}function t9(e,t,r){if(tJ(t))return t;let n=t[tL];if(!n)return tW(t,(i,o)=>t7(e,n,t,i,o,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return re(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;let t=n.copy_,i=t,o=!1;3===n.type_&&(i=new Set(t),t.clear(),o=!0),tW(i,(i,a)=>t7(e,n,t,i,a,r,o)),re(e,t,!1),r&&e.patches_&&t0("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function t7(e,t,r,n,i,o,a){if(tF(i)){let a=o&&t&&3!==t.type_&&!tz(t.assigned_,n)?o.concat(n):void 0,s=t9(e,i,a);if(tH(r,n,s),!tF(s))return;e.canAutoFreeze_=!1}else a&&r.add(i);if(tq(i)&&!tJ(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;t9(e,i),(!t||!t.scope_.parent_)&&"symbol"!=typeof n&&Object.prototype.propertyIsEnumerable.call(r,n)&&re(e,i)}}function re(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&tQ(t,r)}var rt={get(e,t){if(t===tL)return e;let r=tX(e);if(!tz(r,t))return function(e,t,r){var n;let i=ri(t,r);return i?"value"in i?i.value:null==(n=i.get)?void 0:n.call(e.draft_):void 0}(e,r,t);let n=r[t];return e.finalized_||!tq(n)?n:n===rn(e.base_,t)?(ra(e),e.copy_[t]=rs(n,e)):n},has:(e,t)=>t in tX(e),ownKeys:e=>Reflect.ownKeys(tX(e)),set(e,t,r){let n=ri(tX(e),t);if(null==n?void 0:n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){let n=rn(tX(e),t),i=null==n?void 0:n[tL];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if((r===n?0!==r||1/r==1/n:r!=r&&n!=n)&&(void 0!==r||tz(e.base_,t)))return!0;ra(e),ro(e)}return!!(e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t]))||(e.copy_[t]=r,e.assigned_[t]=!0,!0)},deleteProperty:(e,t)=>(void 0!==rn(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,ra(e),ro(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){let r=tX(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){tN(11)},getPrototypeOf:e=>tD(e.base_),setPrototypeOf(){tN(12)}},rr={};function rn(e,t){let r=e[tL],n=r?tX(r):e;return n[t]}function ri(e,t){if(!(t in e))return;let r=tD(e);for(;r;){let e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=tD(r)}}function ro(e){!e.modified_&&(e.modified_=!0,e.parent_&&ro(e.parent_))}function ra(e){e.copy_||(e.copy_=tZ(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function rs(e,t){let r=tG(e)?t0("MapSet").proxyMap_(e,t):t$(e)?t0("MapSet").proxySet_(e,t):function(e,t){let r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:PS,modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=n,o=rt;r&&(i=[n],o=rr);let{revoke:a,proxy:s}=Proxy.revocable(i,o);return n.draft_=s,n.revoke_=a,s}(e,t),n=t?t.scope_:PS;return n.drafts_.push(r),r}function ru(e){return tF(e)||tN(10,e),function e(t){let r;if(!tq(t)||tJ(t))return t;let n=t[tL];if(n){if(!n.modified_)return n.base_;n.finalized_=!0,r=tZ(t,n.scope_.immer_.useStrictShallowCopy_)}else r=tZ(t,!0);return tW(r,(t,n)=>{tH(r,t,e(n))}),n&&(n.finalized_=!1),r}(e)}tW(rt,(e,t)=>{rr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),rr.deleteProperty=function(e,t){return rr.set.call(this,e,t,void 0)},rr.set=function(e,t,r){return rt.set.call(this,e[0],t,r,e[0])};var rl=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{let n;if("function"==typeof e&&"function"!=typeof t){let r=t;t=e;let n=this;return function(e=r,...i){return n.produce(e,e=>t.call(this,e,...i))}}if("function"!=typeof t&&tN(6),void 0!==r&&"function"!=typeof r&&tN(7),tq(e)){let i=t5(this),o=rs(e,void 0),a=!0;try{n=t(o),a=!1}finally{a?t6(i):t4(i)}return t2(i,r),t3(n,i)}if(e&&"object"==typeof e)tN(1,e);else{if(void 0===(n=t(e))&&(n=e),n===tR&&(n=void 0),this.autoFreeze_&&tQ(n,!0),r){let t=[],i=[];t0("Patches").generateReplacementPatches_(e,n,t,i),r(t,i)}return n}},this.produceWithPatches=(e,t)=>{let r,n;if("function"==typeof e)return(t,...r)=>this.produceWithPatches(t,t=>e(t,...r));let i=this.produce(e,t,(e,t)=>{r=e,n=t});return[i,r,n]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){tq(e)||tN(8),tF(e)&&(e=ru(e));let t=t5(this),r=rs(e,void 0);return r[tL].isManual_=!0,t4(t),r}finishDraft(e,t){let r=e&&e[tL];r&&r.isManual_||tN(9);let{scope_:n}=r;return t2(n,t),t3(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));let n=t0("Patches").applyPatches_;return tF(e)?n(e,t):this.produce(e,e=>n(e,t))}},rc=rl.produce,rd=rl.produceWithPatches.bind(rl);rl.setAutoFreeze.bind(rl),rl.setUseStrictShallowCopy.bind(rl);var rp=rl.applyPatches.bind(rl);rl.createDraft.bind(rl),rl.finishDraft.bind(rl);var rf=Object.defineProperty,rh=Object.getOwnPropertySymbols,rm=Object.prototype.hasOwnProperty,rg=Object.prototype.propertyIsEnumerable,ry=(e,t,r)=>t in e?rf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rb=(e,t)=>{for(var r in t||(t={}))rm.call(t,r)&&ry(e,r,t[r]);if(rh)for(var r of rh(t))rg.call(t,r)&&ry(e,r,t[r]);return e},r_=(e,t,r)=>(ry(e,"symbol"!=typeof t?t+"":t,r),r),rw=e=>Array.isArray(e)?e:[e],rv=0,rk=class{constructor(e,t=rA){r_(this,"revision",rv),r_(this,"_value"),r_(this,"_lastValue"),r_(this,"_isEqual",rA),this._value=this._lastValue=e,this._isEqual=t}get value(){return this._value}set value(e){this.value!==e&&(this._value=e,this.revision=++rv)}};function rA(e,t){return e===t}function rS(e){return e instanceof rk||console.warn("Not a valid cell! ",e),e.value}var rI=(e,t)=>!1;function rE(){return function(e,t=rA){return new rk(null,t)}(0,rI)}var rT=e=>{let t=e.collectionTag;null===t&&(t=e.collectionTag=rE()),rS(t)};Symbol();var rx=0,rP=Object.getPrototypeOf({}),rO=class{constructor(e){this.value=e,r_(this,"proxy",new Proxy(this,rB)),r_(this,"tag",rE()),r_(this,"tags",{}),r_(this,"children",{}),r_(this,"collectionTag",null),r_(this,"id",rx++),this.value=e,this.tag.value=e}},rB={get(e,t){let r=function(){let{value:r}=e,n=Reflect.get(r,t);if("symbol"==typeof t||t in rP)return n;if("object"==typeof n&&null!==n){let r=e.children[t];return void 0===r&&(r=e.children[t]=Array.isArray(n)?new rC(n):new rO(n)),r.tag&&rS(r.tag),r.proxy}{let r=e.tags[t];return void 0===r&&((r=e.tags[t]=rE()).value=n),rS(r),n}}();return r},ownKeys:e=>(rT(e),Reflect.ownKeys(e.value)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e.value,t),has:(e,t)=>Reflect.has(e.value,t)},rC=class{constructor(e){this.value=e,r_(this,"proxy",new Proxy([this],rR)),r_(this,"tag",rE()),r_(this,"tags",{}),r_(this,"children",{}),r_(this,"collectionTag",null),r_(this,"id",rx++),this.value=e,this.tag.value=e}},rR={get:([e],t)=>("length"===t&&rT(e),rB.get(e,t)),ownKeys:([e])=>rB.ownKeys(e),getOwnPropertyDescriptor:([e],t)=>rB.getOwnPropertyDescriptor(e,t),has:([e],t)=>rB.has(e,t)},rM="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function rL(){return{s:0,v:void 0,o:null,p:null}}function rN(e,t={}){let r,n=rL(),{resultEqualityCheck:i}=t,o=0;function a(){var t,a;let s;let u=n,{length:l}=arguments;for(let e=0;e<l;e++){let t=arguments[e];if("function"==typeof t||"object"==typeof t&&null!==t){let e=u.o;null===e&&(u.o=e=new WeakMap);let r=e.get(t);void 0===r?(u=rL(),e.set(t,u)):u=r}else{let e=u.p;null===e&&(u.p=e=new Map);let r=e.get(t);void 0===r?(u=rL(),e.set(t,u)):u=r}}let c=u;if(1===u.s)s=u.v;else if(s=e.apply(null,arguments),o++,i){let e=null!=(a=null==(t=null==r?void 0:r.deref)?void 0:t.call(r))?a:r;null!=e&&i(e,s)&&(s=e,0!==o&&o--);let n="object"==typeof s&&null!==s||"function"==typeof s;r=n?new rM(s):s}return c.s=1,c.v=s,s}return a.clearCache=()=>{n=rL(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function rD(e,...t){let r="function"==typeof e?{memoize:e,memoizeOptions:t}:e,n=(...e)=>{let t,n=0,i=0,o={},a=e.pop();"object"==typeof a&&(o=a,a=e.pop()),function(e,t=`expected a function, instead received ${typeof e}`){if("function"!=typeof e)throw TypeError(t)}(a,`createSelector expects an output function after the inputs, but received: [${typeof a}]`);let s=rb(rb({},r),o),{memoize:u,memoizeOptions:l=[],argsMemoize:c=rN,argsMemoizeOptions:d=[],devModeChecks:p={}}=s,f=rw(l),h=rw(d),m=function(e){let t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){let r=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw TypeError(`${t}[${r}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}(e),g=u(function(){return n++,a.apply(null,arguments)},...f),y=c(function(){i++;let e=function(e,t){let r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}(m,arguments);return t=g.apply(null,e)},...h);return Object.assign(y,{resultFunc:a,memoizedResultFunc:g,dependencies:m,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>t,recomputations:()=>n,resetRecomputations:()=>{n=0},memoize:u,argsMemoize:c})};return Object.assign(n,{withTypes:()=>n}),n}var rF=rD(rN),rq=Object.assign((e,t=rF)=>{!function(e,t=`expected an object, instead received ${typeof e}`){if("object"!=typeof e)throw TypeError(t)}(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);let r=Object.keys(e),n=r.map(t=>e[t]),i=t(n,(...e)=>e.reduce((e,t,n)=>(e[r[n]]=t,e),{}));return i},{withTypes:()=>rq});function rU(e){return({dispatch:t,getState:r})=>n=>i=>"function"==typeof i?i(t,r,e):n(i)}var rj=rU(),e3=eh("jcdBh"),rW=Object.defineProperty,rK=Object.defineProperties,rz=Object.getOwnPropertyDescriptors,rV=Object.getOwnPropertySymbols,rH=Object.prototype.hasOwnProperty,rG=Object.prototype.propertyIsEnumerable,r$=(e,t,r)=>t in e?rW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rX=(e,t)=>{for(var r in t||(t={}))rH.call(t,r)&&r$(e,r,t[r]);if(rV)for(var r of rV(t))rG.call(t,r)&&r$(e,r,t[r]);return e},rZ=(e,t)=>rK(e,rz(t)),rQ=(e,t)=>{var r={};for(var n in e)rH.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&rV)for(var n of rV(e))0>t.indexOf(n)&&rG.call(e,n)&&(r[n]=e[n]);return r},rY=(e,t,r)=>r$(e,"symbol"!=typeof t?t+"":t,r),rJ=((...e)=>{let t=rD(...e),r=Object.assign((...e)=>{let r=t(...e),n=(e,...t)=>r(tF(e)?ru(e):e,...t);return Object.assign(n,r),n},{withTypes:()=>r});return r})(rN),r1="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!=arguments.length)return"object"==typeof arguments[0]?tI:tI.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var r0=e=>e&&"function"==typeof e.match;function r2(e,t){function r(...n){if(t){let r=t(...n);if(!r)throw Error(nC(0));return rX(rX({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>tE(t)&&t.type===e,r}var r6=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function r4(e){return tq(e)?rc(e,()=>{}):e}function r5(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var r8=()=>function(e){let{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=null!=e?e:{},o=new r6;return t&&("boolean"==typeof t?o.push(rj):o.push(rU(t.extraArgument))),o},r3="RTK_autoBatch",r9=()=>e=>({payload:e,meta:{[r3]:!0}}),r7=e=>t=>{setTimeout(t,e)},ne=(e={type:"raf"})=>t=>(...r)=>{let n=t(...r),i=!0,o=!1,a=!1,s=new Set,u="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:r7(10):"callback"===e.type?e.queueNotification:r7(e.timeout),l=()=>{a=!1,o&&(o=!1,s.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){let t=n.subscribe(()=>i&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){var t;try{return(o=!(i=!(null==(t=null==e?void 0:e.meta)?void 0:t[r3])))&&!a&&(a=!0,u(l)),n.dispatch(e)}finally{i=!0}}})},nt=e=>function(t){let{autoBatch:r=!0}=null!=t?t:{},n=new r6(e);return r&&n.push(ne("object"==typeof r?r:void 0)),n};function nr(e){let t;let r={},n=[],i={addCase(e,t){let n="string"==typeof e?e:e.type;if(!n)throw Error(nC(28));if(n in r)throw Error(nC(29));return r[n]=t,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(t=e,i)};return e(i),[r,n,t]}var nn=(e,t)=>r0(e)?e.match(t):e(t);function ni(...e){return t=>e.some(e=>nn(e,t))}function no(...e){return t=>e.every(e=>nn(e,t))}function na(e,t){if(!e||!e.meta)return!1;let r="string"==typeof e.meta.requestId,n=t.indexOf(e.meta.requestStatus)>-1;return r&&n}function ns(e){return"function"==typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function nu(...e){return 0===e.length?e=>na(e,["pending"]):ns(e)?ni(...e.map(e=>e.pending)):nu()(e[0])}function nl(...e){return 0===e.length?e=>na(e,["rejected"]):ns(e)?ni(...e.map(e=>e.rejected)):nl()(e[0])}function nc(...e){let t=e=>e&&e.meta&&e.meta.rejectedWithValue;return 0===e.length?no(nl(...e),t):ns(e)?no(nl(...e),t):nc()(e[0])}function nd(...e){return 0===e.length?e=>na(e,["fulfilled"]):ns(e)?ni(...e.map(e=>e.fulfilled)):nd()(e[0])}function np(...e){return 0===e.length?e=>na(e,["pending","fulfilled","rejected"]):ns(e)?ni(...e.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):np()(e[0])}var nf=(e=21)=>{let t="",r=e;for(;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},nh=["name","message","stack","code"],nm=class{constructor(e,t){this.payload=e,this.meta=t,rY(this,"_type")}},ng=class{constructor(e,t){this.payload=e,this.meta=t,rY(this,"_type")}},ny=e=>{if("object"==typeof e&&null!==e){let t={};for(let r of nh)"string"==typeof e[r]&&(t[r]=e[r]);return t}return{message:String(e)}},nb="External signal was aborted",n_=(()=>{function e(e,t,r){let n=r2(e+"/fulfilled",(e,t,r,n)=>({payload:e,meta:rZ(rX({},n||{}),{arg:r,requestId:t,requestStatus:"fulfilled"})})),i=r2(e+"/pending",(e,t,r)=>({payload:void 0,meta:rZ(rX({},r||{}),{arg:t,requestId:e,requestStatus:"pending"})})),o=r2(e+"/rejected",(e,t,n,i,o)=>({payload:i,error:(r&&r.serializeError||ny)(e||"Rejected"),meta:rZ(rX({},o||{}),{arg:n,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:(null==e?void 0:e.name)==="AbortError",condition:(null==e?void 0:e.name)==="ConditionError"})}));return Object.assign(function(e,{signal:a}={}){return(s,u,l)=>{let c,d;let p=(null==r?void 0:r.idGenerator)?r.idGenerator(e):nf(),f=new AbortController;function h(e){d=e,f.abort()}a&&(a.aborted?h(nb):a.addEventListener("abort",()=>h(nb),{once:!0}));let m=async function(){var a,m,g;let y;try{let o=null==(a=null==r?void 0:r.condition)?void 0:a.call(r,e,{getState:u,extra:l});if(g=o,null!==g&&"object"==typeof g&&"function"==typeof g.then&&(o=await o),!1===o||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};let b=new Promise((e,t)=>{c=()=>{t({name:"AbortError",message:d||"Aborted"})},f.signal.addEventListener("abort",c)});s(i(p,e,null==(m=null==r?void 0:r.getPendingMeta)?void 0:m.call(r,{requestId:p,arg:e},{getState:u,extra:l}))),y=await Promise.race([b,Promise.resolve(t(e,{dispatch:s,getState:u,extra:l,requestId:p,signal:f.signal,abort:h,rejectWithValue:(e,t)=>new nm(e,t),fulfillWithValue:(e,t)=>new ng(e,t)})).then(t=>{if(t instanceof nm)throw t;return t instanceof ng?n(t.payload,p,e,t.meta):n(t,p,e)})])}catch(t){y=t instanceof nm?o(null,p,e,t.payload,t.meta):o(t,p,e)}finally{c&&f.signal.removeEventListener("abort",c)}let b=r&&!r.dispatchConditionRejection&&o.match(y)&&y.meta.condition;return b||s(y),y}();return Object.assign(m,{abort:h,requestId:p,arg:e,unwrap:()=>m.then(nw)})}},{pending:i,rejected:o,fulfilled:n,settled:ni(o,n),typePrefix:e})}return e.withTypes=()=>e,e})();function nw(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var nv=Symbol.for("rtk-slice-createasyncthunk"),nk=((x0=nk||{}).reducer="reducer",x0.reducerWithPrepare="reducerWithPrepare",x0.asyncThunk="asyncThunk",x0),nA=function({creators:e}={}){var t;let r=null==(t=null==e?void 0:e.asyncThunk)?void 0:t[nv];return function(e){let t;let{name:n,reducerPath:i=n}=e;if(!n)throw Error(nC(11));let o=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return rX({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(o),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(e,t){let r="string"==typeof e?e:e.type;if(!r)throw Error(nC(12));if(r in s.sliceCaseReducersByType)throw Error(nC(13));return s.sliceCaseReducersByType[r]=t,u},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),u),exposeAction:(e,t)=>(s.actionCreators[e]=t,u),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,u)};function l(){let[t={},r=[],n]="function"==typeof e.extraReducers?nr(e.extraReducers):[e.extraReducers],i=rX(rX({},t),s.sliceCaseReducersByType);return function(e,t){let r,[n,i,o]=nr(t);if("function"==typeof e)r=()=>r4(e());else{let t=r4(e);r=()=>t}function a(e=r(),t){let a=[n[t.type],...i.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===a.filter(e=>!!e).length&&(a=[o]),a.reduce((e,r)=>{if(r){if(tF(e)){let n=r(e,t);return void 0===n?e:n}if(tq(e))return rc(e,e=>r(e,t));{let n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return e},e)}return a.getInitialState=r,a}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}a.forEach(t=>{let i=o[t],a={reducerName:t,type:`${n}/${t}`,createNotation:"function"==typeof e.reducers};"asyncThunk"===i._reducerDefinitionType?function({type:e,reducerName:t},r,n,i){if(!i)throw Error(nC(18));let{payloadCreator:o,fulfilled:a,pending:s,rejected:u,settled:l,options:c}=r,d=i(e,o,c);n.exposeAction(t,d),a&&n.addCase(d.fulfilled,a),s&&n.addCase(d.pending,s),u&&n.addCase(d.rejected,u),l&&n.addMatcher(d.settled,l),n.exposeCaseReducer(t,{fulfilled:a||nS,pending:s||nS,rejected:u||nS,settled:l||nS})}(a,i,u,r):function({type:e,reducerName:t,createNotation:r},n,i){let o,a;if("reducer"in n){if(r&&"reducerWithPrepare"!==n._reducerDefinitionType)throw Error(nC(17));o=n.reducer,a=n.prepare}else o=n;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,a?r2(e,a):r2(e))}(a,i,u)});let c=e=>e,d=new Map,p=new WeakMap;function f(e,r){return t||(t=l()),t(e,r)}function h(){return t||(t=l()),t.getInitialState()}function m(t,r=!1){function n(e){let i=e[t];return void 0===i&&r&&(i=r5(p,n,h)),i}function i(t=c){let n=r5(d,r,()=>new WeakMap);return r5(n,t,()=>{var n;let i={};for(let[o,a]of Object.entries(null!=(n=e.selectors)?n:{}))i[o]=function(e,t,r,n){function i(o,...a){let s=t(o);return void 0===s&&n&&(s=r()),e(s,...a)}return i.unwrapped=e,i}(a,t,()=>r5(p,t,h),r);return i})}return{reducerPath:t,getSelectors:i,get selectors(){return i(n)},selectSlice:n}}let g=rZ(rX({name:n,reducer:f,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:h},m(i)),{injectInto(e,t={}){var{reducerPath:r}=t,n=rQ(t,["reducerPath"]);let o=null!=r?r:i;return e.inject({reducerPath:o,reducer:f},n),rX(rX({},g),m(o,!0))}});return g}}();function nS(){}var nI=(e,t)=>{if("function"!=typeof e)throw TypeError(nC(32))},{assign:nE}=Object,nT="listenerMiddleware",nx=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:o}=e;if(t)i=r2(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(i);else throw Error(nC(21));return nI(o,"options.listener"),{predicate:i,type:t,effect:o}},nP=nE(e=>{let{type:t,predicate:r,effect:n}=nx(e),i={id:nf(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw Error(nC(22))}};return i},{withTypes:()=>nP}),nO=nE(r2(`${nT}/add`),{withTypes:()=>nO}),nB=nE(r2(`${nT}/remove`),{withTypes:()=>nB});function nC(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}Symbol.for("rtk-state-proxy-original");var nR=eh("2RMcW"),tg=eh("eJeWc"),nM={};function nL(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function nN(e,t){if(nL(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(t,r[n])||!nL(e[r[n]],t[r[n]]))return!1;return!0}nM=eh("eeNJa"),Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement,"undefined"!=typeof navigator&&navigator.product;var nD=Symbol.for("react-redux-context"),nF="undefined"!=typeof globalThis?globalThis:{},nq=function(){var e;if(!tg.createContext)return{};let t=null!=(e=nF[nD])?e:nF[nD]=new Map,r=t.get(tg.createContext);return r||(r=tg.createContext(null),t.set(tg.createContext,r)),r}();function nU(e=nq){return function(){let t=tg.useContext(e);return t}}var nj=nU();function nW(e=nq){let t=e===nq?nj:nU(e),r=()=>{let{store:e}=t();return e};return Object.assign(r,{withTypes:()=>r}),r}var nK=nW(),nz=function(e=nq){let t=e===nq?nK:nW(e),r=()=>{let e=t();return e.dispatch};return Object.assign(r,{withTypes:()=>r}),r}(),nV=(e,t)=>e===t,nH=function(e=nq){let t=e===nq?nj:nU(e),r=(e,r={})=>{let{equalityFn:n=nV}="function"==typeof r?{equalityFn:r}:r,i=t(),{store:o,subscription:a,getServerState:s}=i;tg.useRef(!0);let u=tg.useCallback({[e.name](t){let r=e(t);return r}}[e.name],[e]),l=(0,nM.useSyncExternalStoreWithSelector)(a.addNestedSub,o.getState,s||o.getState,u,n);return tg.useDebugValue(l),l};return Object.assign(r,{withTypes:()=>r}),r}(),nG=function(e){e()};v({},"default",()=>ie);let n$="persist:",nX="persist/FLUSH",nZ="persist/REHYDRATE",nQ="persist/RESYNC",nY="persist/PAUSE",nJ="persist/PERSIST",n1="persist/PURGE",n0="persist/REGISTER";function n2(e,t,r,{debug:n}){let i=Object.assign({},r);if(e&&"object"==typeof e){let n=Object.keys(e);n.forEach(n=>{"_persist"!==n&&t[n]===r[n]&&(i[n]=e[n])})}return i}function n6(e){let t;let r=e.blacklist||null,n=e.whitelist||null,i=e.transforms||[],o=e.throttle||0,a=`${void 0!==e.keyPrefix?e.keyPrefix:n$}${e.key}`,s=e.storage;t=!1===e.serialize?e=>e:"function"==typeof e.serialize?e.serialize:n4;let u=e.writeFailHandler||null,l={},c={},d=[],p=null,f=null;function h(){if(0===d.length){p&&clearInterval(p),p=null;return}let e=d.shift();if(void 0===e)return;let r=i.reduce((t,r)=>r.in(t,e,l),l[e]);if(void 0!==r)try{c[e]=t(r)}catch(e){console.error("redux-persist/createPersistoid: error serializing state",e)}else delete c[e];0===d.length&&(Object.keys(c).forEach(e=>{void 0===l[e]&&delete c[e]}),f=s.setItem(a,t(c)).catch(g))}function m(e){return(!n||-1!==n.indexOf(e)||"_persist"===e)&&(!r||-1===r.indexOf(e))}function g(e){u&&u(e)}return{update:e=>{Object.keys(e).forEach(t=>{m(t)&&l[t]!==e[t]&&-1===d.indexOf(t)&&d.push(t)}),Object.keys(l).forEach(t=>{void 0===e[t]&&m(t)&&-1===d.indexOf(t)&&void 0!==l[t]&&d.push(t)}),null===p&&(p=setInterval(h,o)),l=e},flush:()=>{for(;0!==d.length;)h();return f||Promise.resolve()}}}function n4(e){return JSON.stringify(e)}function n5(e){let t;let r=e.transforms||[],n=`${void 0!==e.keyPrefix?e.keyPrefix:n$}${e.key}`,i=e.storage;return e.debug,t=!1===e.deserialize?e=>e:"function"==typeof e.deserialize?e.deserialize:n8,i.getItem(n).then(e=>{if(e)try{let n={},i=t(e);return Object.keys(i).forEach(e=>{n[e]=r.reduceRight((t,r)=>r.out(t,e,i),t(i[e]))}),n}catch(e){throw e}})}function n8(e){return JSON.parse(e)}function n3(e){let t=e.storage,r=`${void 0!==e.keyPrefix?e.keyPrefix:n$}${e.key}`;return t.removeItem(r,n9)}function n9(e){}var n7=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function ie(e,t){let r=void 0!==e.version?e.version:-1,n=void 0===e.stateReconciler?n2:e.stateReconciler,i=e.getStoredState||n5,o=void 0!==e.timeout?e.timeout:5e3,a=null,s=!1,u=!0,l=e=>(e._persist.rehydrated&&a&&!u&&a.update(e),e);return(c,d)=>{let p=c||{},{_persist:f}=p,h=n7(p,["_persist"]);if(d.type===nJ){let n=!1,s=(t,r)=>{n||(d.rehydrate(e.key,t,r),n=!0)};if(o&&setTimeout(()=>{n||s(void 0,Error(`redux-persist: persist timed out for persist key "${e.key}"`))},o),u=!1,a||(a=n6(e)),f)return Object.assign(Object.assign({},t(h,d)),{_persist:f});if("function"!=typeof d.rehydrate||"function"!=typeof d.register)throw Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(e.key),i(e).then(t=>{if(t){let n=e.migrate||((e,t)=>Promise.resolve(e));n(t,r).then(e=>{s(e)},e=>{s(void 0,e)})}},e=>{s(void 0,e)}),Object.assign(Object.assign({},t(h,d)),{_persist:{version:r,rehydrated:!1}})}if(d.type===n1)return s=!0,d.result(n3(e)),Object.assign(Object.assign({},t(h,d)),{_persist:f});if(d.type===nQ)return i(e).then(t=>d.rehydrate(e.key,t,void 0),t=>d.rehydrate(e.key,void 0,t)).then(()=>d.result()),Object.assign(Object.assign({},t(h,d)),{_persist:{version:r,rehydrated:!1}});if(d.type===nX)return d.result(a&&a.flush()),Object.assign(Object.assign({},t(h,d)),{_persist:f});if(d.type===nY)u=!0;else if(d.type===nZ){if(s)return Object.assign(Object.assign({},h),{_persist:Object.assign(Object.assign({},f),{rehydrated:!0})});if(d.key===e.key){let r=t(h,d),i=d.payload,o=!1!==n&&void 0!==i?n(i,c,r,e):r,a=Object.assign(Object.assign({},o),{_persist:Object.assign(Object.assign({},f),{rehydrated:!0})});return l(a)}}if(!f)return t(c,d);let m=t(h,d);return m===h?c:l(Object.assign(Object.assign({},m),{_persist:f}))}}let it={registry:[],bootstrapped:!1},ir=(e=it,t)=>{let r=e.registry.indexOf(t.key),n=[...e.registry];switch(t.type){case n0:return Object.assign(Object.assign({},e),{registry:[...e.registry,t.key]});case nZ:return n.splice(r,1),Object.assign(Object.assign({},e),{registry:n,bootstrapped:0===n.length});default:return e}};function ii(e,t){let{debug:r}=t||{};return function(t,r){if(!t)return Promise.resolve(void 0);let n=t._persist&&void 0!==t._persist.version?t._persist.version:-1;if(n===r||n>r)return Promise.resolve(t);let i=Object.keys(e).map(e=>parseInt(e)).filter(e=>r>=e&&e>n).sort((e,t)=>e-t);try{let r=i.reduce((t,r)=>e[r](t),t);return Promise.resolve(r)}catch(e){return Promise.reject(e)}}}let io=(e,t,r,n)=>function(...i){let o=t.promiseModule;return new o((o,a)=>{t.multiArgs?i.push((...e)=>{t.errorFirst?e[0]?a(e):(e.shift(),o(e)):o(e)}):t.errorFirst?i.push((e,t)=>{e?a(e):o(t)}):i.push(o),Reflect.apply(e,this===r?n:this,i)})},ia=new WeakMap;var is=()=>{try{let e=globalThis.navigator?.userAgent.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if("Chrome"===e[1])return 100>parseInt(e[2])||globalThis.chrome.runtime?.getManifest()?.manifest_version===2}catch{}return!1},iu=class{#e;#t;get primaryClient(){return this.#t}#r;get secondaryClient(){return this.#r}#n;get area(){return this.#n}get hasWebApi(){try{return"u">typeof window&&!!window.localStorage}catch(e){return console.error(e),!1}}#i=new Map;#o;get copiedKeySet(){return this.#o}isCopied=e=>this.hasWebApi&&(this.allCopied||this.copiedKeySet.has(e));#a=!1;get allCopied(){return this.#a}getExtStorageApi=()=>globalThis.browser?.storage||globalThis.chrome?.storage;get hasExtensionApi(){try{return!!this.getExtStorageApi()}catch(e){return console.error(e),!1}}isWatchSupported=()=>this.hasExtensionApi;keyNamespace="";isValidKey=e=>e.startsWith(this.keyNamespace);getNamespacedKey=e=>`${this.keyNamespace}${e}`;getUnnamespacedKey=e=>e.slice(this.keyNamespace.length);serde={serializer:JSON.stringify,deserializer:JSON.parse};constructor({area:e="sync",allCopied:t=!1,copiedKeyList:r=[],serde:n={}}={}){this.setCopiedKeySet(r),this.#n=e,this.#a=t,this.serde={...this.serde,...n};try{this.hasWebApi&&(t||r.length>0)&&(this.#r=window.localStorage)}catch{}try{this.hasExtensionApi&&(this.#e=this.getExtStorageApi(),is()?this.#t=function(e,t){t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};let r=typeof e;if(!(null!==e&&("object"===r||"function"===r)))throw TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":r}\``);let n=(e,r)=>{let n=ia.get(e);if(n||(n={},ia.set(e,n)),r in n)return n[r];let i=e=>"string"==typeof e||"symbol"==typeof r?r===e:e.test(r),o=Reflect.getOwnPropertyDescriptor(e,r),a=void 0===o||o.writable||o.configurable,s=t.include?t.include.some(e=>i(e)):!t.exclude.some(e=>i(e)),u=s&&a;return n[r]=u,u},i=new WeakMap,o=new Proxy(e,{apply(e,r,n){let a=i.get(e);if(a)return Reflect.apply(a,r,n);let s=t.excludeMain?e:io(e,t,o,e);return i.set(e,s),Reflect.apply(s,r,n)},get(e,r){let a=e[r];if(!n(e,r)||a===Function.prototype[r])return a;let s=i.get(a);if(s)return s;if("function"==typeof a){let r=io(a,t,o,e);return i.set(a,r),r}return a}});return o}(this.#e[this.area],{exclude:["getBytesInUse"],errorFirst:!1}):this.#t=this.#e[this.area])}catch{}}setCopiedKeySet(e){this.#o=new Set(e)}rawGetAll=()=>this.#t?.get();getAll=async()=>Object.entries(await this.rawGetAll()).filter(([e])=>this.isValidKey(e)).reduce((e,[t,r])=>(e[this.getUnnamespacedKey(t)]=r,e),{});copy=async e=>{let t=void 0===e;if(!t&&!this.copiedKeySet.has(e)||!this.allCopied||!this.hasExtensionApi)return!1;let r=this.allCopied?await this.rawGetAll():await this.#t.get((t?[...this.copiedKeySet]:[e]).map(this.getNamespacedKey));if(!r)return!1;let n=!1;for(let e in r){let t=r[e],i=this.#r?.getItem(e);this.#r?.setItem(e,t),n||=t!==i}return n};rawGet=async e=>(await this.rawGetMany([e]))[e];rawGetMany=async e=>this.hasExtensionApi?await this.#t.get(e):e.filter(this.isCopied).reduce((e,t)=>(e[t]=this.#r?.getItem(t),e),{});rawSet=async(e,t)=>await this.rawSetMany({[e]:t});rawSetMany=async e=>(this.#r&&Object.entries(e).filter(([e])=>this.isCopied(e)).forEach(([e,t])=>this.#r.setItem(e,t)),this.hasExtensionApi&&await this.#t.set(e),null);clear=async(e=!1)=>{e&&this.#r?.clear(),await this.#t.clear()};rawRemove=async e=>{await this.rawRemoveMany([e])};rawRemoveMany=async e=>{this.#r&&e.filter(this.isCopied).forEach(e=>this.#r.removeItem(e)),this.hasExtensionApi&&await this.#t.remove(e)};removeAll=async()=>{let e=Object.keys(await this.getAll());await this.removeMany(e)};watch=e=>{let t=this.isWatchSupported();return t&&this.#s(e),t};#s=e=>{for(let t in e){let r=this.getNamespacedKey(t),n=this.#i.get(r)?.callbackSet||new Set;if(n.add(e[t]),n.size>1)continue;let i=(e,t)=>{if(t!==this.area||!e[r])return;let n=this.#i.get(r);if(!n)throw Error(`Storage comms does not exist for nsKey: ${r}`);Promise.all([this.parseValue(e[r].newValue),this.parseValue(e[r].oldValue)]).then(([e,r])=>{for(let i of n.callbackSet)i({newValue:e,oldValue:r},t)})};this.#e.onChanged.addListener(i),this.#i.set(r,{callbackSet:n,listener:i})}};unwatch=e=>{let t=this.isWatchSupported();return t&&this.#u(e),t};#u(e){for(let t in e){let r=this.getNamespacedKey(t),n=e[t],i=this.#i.get(r);i&&(i.callbackSet.delete(n),0===i.callbackSet.size&&(this.#i.delete(r),this.#e.onChanged.removeListener(i.listener)))}}unwatchAll=()=>this.#l();#l(){this.#i.forEach(({listener:e})=>this.#e.onChanged.removeListener(e)),this.#i.clear()}async getItem(e){return this.get(e)}async getItems(e){return await this.getMany(e)}async setItem(e,t){await this.set(e,t)}async setItems(e){await await this.setMany(e)}async removeItem(e){return this.remove(e)}async removeItems(e){return await this.removeMany(e)}},il=class extends iu{get=async e=>{let t=this.getNamespacedKey(e),r=await this.rawGet(t);return this.parseValue(r)};getMany=async e=>{let t=e.map(this.getNamespacedKey),r=await this.rawGetMany(t),n=await Promise.all(Object.values(r).map(this.parseValue));return Object.keys(r).reduce((e,t,r)=>(e[this.getUnnamespacedKey(t)]=n[r],e),{})};set=async(e,t)=>{let r=this.getNamespacedKey(e),n=this.serde.serializer(t);return this.rawSet(r,n)};setMany=async e=>{let t=Object.entries(e).reduce((e,[t,r])=>(e[this.getNamespacedKey(t)]=this.serde.serializer(r),e),{});return await this.rawSetMany(t)};remove=async e=>{let t=this.getNamespacedKey(e);return this.rawRemove(t)};removeMany=async e=>{let t=e.map(this.getNamespacedKey);return await this.rawRemoveMany(t)};setNamespace=e=>{this.keyNamespace=e};parseValue=async e=>{try{if(void 0!==e)return this.serde.deserializer(e)}catch(e){console.error(e)}}};(x2=PI||(PI={})).ERROR="error",x2.WARN="warn",x2.INFO="info",x2.DEBUG="debug";let ic=PI.INFO,id=()=>!1,ip=()=>id()?ic:PI.DEBUG,ih=e=>{let t=ip();switch(t){case PI.ERROR:return e===PI.ERROR;case PI.WARN:return e===PI.ERROR||e===PI.WARN;case PI.INFO:return e===PI.ERROR||e===PI.WARN||e===PI.INFO;case PI.DEBUG:return!0;default:return!1}};class im{constructor(e="app"){this.context=e}formatMessage(e){return`[${this.context}] ${e}`}error(e,...t){ih(PI.ERROR)&&console.error(this.formatMessage(e),...t)}warn(e,...t){ih(PI.WARN)&&console.warn(this.formatMessage(e),...t)}info(e,...t){ih(PI.INFO)&&console.info(this.formatMessage(e),...t)}debug(e,...t){ih(PI.DEBUG)&&console.debug(this.formatMessage(e),...t)}log(e,...t){this.info(e,...t)}}let ig=(e="app")=>new im(e);ig();var iy=class extends Error{issues;constructor(e){super(e[0].message),this.name="SchemaError",this.issues=e}},e3=eh("jcdBh"),ib=Object.defineProperty,i_=Object.defineProperties,iw=Object.getOwnPropertyDescriptors,iv=Object.getOwnPropertySymbols,ik=Object.prototype.hasOwnProperty,iA=Object.prototype.propertyIsEnumerable,iS=(e,t,r)=>t in e?ib(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,iI=(e,t)=>{for(var r in t||(t={}))ik.call(t,r)&&iS(e,r,t[r]);if(iv)for(var r of iv(t))iA.call(t,r)&&iS(e,r,t[r]);return e},iE=(e,t)=>i_(e,iw(t)),iT=e=>"symbol"==typeof e?e:e+"",ix=(e,t)=>{var r={};for(var n in e)ik.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&iv)for(var n of iv(e))0>t.indexOf(n)&&iA.call(e,n)&&(r[n]=e[n]);return r},iP=((x6=iP||{}).uninitialized="uninitialized",x6.pending="pending",x6.fulfilled="fulfilled",x6.rejected="rejected",x6);function iO(e){return{status:e,isUninitialized:"uninitialized"===e,isLoading:"pending"===e,isSuccess:"fulfilled"===e,isError:"rejected"===e}}function iB(e){let t=0;for(let r in e)t++;return t}var iC=e=>[].concat(...e);function iR(e){return null!=e}var iM=class{constructor(e,t){this.value=e,this.meta=t}},iL=r2("__rtkq/focused"),iN=r2("__rtkq/unfocused"),iD=r2("__rtkq/online"),iF=r2("__rtkq/offline");function iq(e){return"query"===e.type}function iU(e){return"infinitequery"===e.type}function ij(e){return iq(e)||iU(e)}function iW(e,t,r,n,i,o){return"function"==typeof e?e(t,r,n,i).filter(iR).map(iK).map(o):Array.isArray(e)?e.map(iK).map(o):[]}function iK(e){return"string"==typeof e?{type:e}:e}var iz=Symbol("forceQueryFn"),iV=e=>"function"==typeof e[iz],iH=class extends iy{constructor(e,t,r,n){super(e),this.value=t,this.schemaName=r,this._bqMeta=n}};async function iG(e,t,r,n){let i=await e["~standard"].validate(t);if(i.issues)throw new iH(i.issues,t,r,n);return i.value}function i$(e){return e}var iX=(e={})=>iE(iI({},e),{[r3]:!0});function iZ(e,{pages:t,pageParams:r},n){let i=t.length-1;return e.getNextPageParam(t[i],t,r[i],r,n)}function iQ(e,{pages:t,pageParams:r},n){var i;return null==(i=e.getPreviousPageParam)?void 0:i.call(e,t[0],t,r[0],r,n)}function iY(e,t,r,n){return iW(r[e.meta.arg.endpointName][t],nd(e)?e.payload:void 0,nc(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,n)}function iJ(e,t,r){let n=e[t];n&&r(n)}function i1(e){var t;return null!=(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)?t:e.requestId}function i0(e,t,r){let n=e[i1(t)];n&&r(n)}var i2={},i6=Symbol.for("RTKQ/skipToken"),i4={status:"uninitialized"},i5=rc(i4,()=>{}),i8=rc(i4,()=>{}),i3=WeakMap?new WeakMap:void 0,i9=({endpointName:e,queryArgs:t})=>{let r="",n=null==i3?void 0:i3.get(t);if("string"==typeof n)r=n;else{let e=JSON.stringify(t,(e,t)=>t=tk(t="bigint"==typeof t?{$bigint:t.toString()}:t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t);tk(t)&&(null==i3||i3.set(t,e)),r=e}return`${e}(${r})`};function i7(e,...t){return Object.assign(e,...t)}var oe=({api:e,queryThunk:t,internalState:r})=>{let n=`${e.reducerPath}/subscriptions`,i=null,o=null,{updateSubscriptionOptions:a,unsubscribeQueryResult:s}=e.internalActions,u=(r,n)=>{var i,o,u,l,c,d,p,f,h;if(a.match(n)){let{queryCacheKey:e,requestId:t,options:o}=n.payload;return(null==(i=null==r?void 0:r[e])?void 0:i[t])&&(r[e][t]=o),!0}if(s.match(n)){let{queryCacheKey:e,requestId:t}=n.payload;return r[e]&&delete r[e][t],!0}if(e.internalActions.removeQueryResult.match(n))return delete r[n.payload.queryCacheKey],!0;if(t.pending.match(n)){let{meta:{arg:e,requestId:t}}=n,i=null!=(u=r[o=e.queryCacheKey])?u:r[o]={};return i[`${t}_running`]={},e.subscribe&&(i[t]=null!=(c=null!=(l=e.subscriptionOptions)?l:i[t])?c:{}),!0}let m=!1;if(t.fulfilled.match(n)||t.rejected.match(n)){let e=r[n.meta.arg.queryCacheKey]||{},t=`${n.meta.requestId}_running`;m||(m=!!e[t]),delete e[t]}if(t.rejected.match(n)){let{meta:{condition:e,arg:t,requestId:i}}=n;if(e&&t.subscribe){let e=null!=(p=r[d=t.queryCacheKey])?p:r[d]={};e[i]=null!=(h=null!=(f=t.subscriptionOptions)?f:e[i])?h:{},m=!0}}return m},l=()=>r.currentSubscriptions,c={getSubscriptions:l,getSubscriptionCount:e=>{var t;let r=l(),n=null!=(t=r[e])?t:{};return iB(n)},isRequestSubscribed:(e,t)=>{var r;let n=l();return!!(null==(r=null==n?void 0:n[e])?void 0:r[t])}};return(a,s)=>{if(i||(i=JSON.parse(JSON.stringify(r.currentSubscriptions))),e.util.resetApiState.match(a))return i=r.currentSubscriptions={},o=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(a))return[!1,c];let l=u(r.currentSubscriptions,a),d=!0;if(l){o||(o=setTimeout(()=>{let t=JSON.parse(JSON.stringify(r.currentSubscriptions)),[,n]=rd(i,()=>t);s.next(e.internalActions.subscriptionsUpdated(n)),i=t,o=null},500));let u="string"==typeof a.type&&!!a.type.startsWith(n),l=t.rejected.match(a)&&a.meta.condition&&!!a.meta.arg.subscribe;d=!u&&!l}return[d,!1]}},ot=({reducerPath:e,api:t,queryThunk:r,context:n,internalState:i,selectors:{selectQueryEntry:o,selectConfig:a}})=>{let{removeQueryResult:s,unsubscribeQueryResult:u,cacheEntriesUpserted:l}=t.internalActions,c=ni(u.match,r.fulfilled,r.rejected,l.match);function d(e){let t=i.currentSubscriptions[e];return!!t&&!function(e){for(let t in e)return!1;return!0}(t)}let p={};function f(e,t,r){let i=t.getState();for(let a of e){let e=o(i,a);(function(e,t,r,i){var o;let a=n.endpointDefinitions[t],u=null!=(o=null==a?void 0:a.keepUnusedDataFor)?o:i.keepUnusedDataFor;if(u!==1/0&&!d(e)){let t=p[e];t&&clearTimeout(t),p[e]=setTimeout(()=>{d(e)||r.dispatch(s({queryCacheKey:e})),delete p[e]},1e3*Math.max(0,Math.min(u,2147482.647)))}})(a,null==e?void 0:e.endpointName,t,r)}}return(e,r,i)=>{let o=r.getState(),s=a(o);if(c(e)){let t;if(l.match(e))t=e.payload.map(e=>e.queryDescription.queryCacheKey);else{let{queryCacheKey:r}=u.match(e)?e.payload:e.meta.arg;t=[r]}f(t,r,s)}if(t.util.resetApiState.match(e))for(let[e,t]of Object.entries(p))t&&clearTimeout(t),delete p[e];if(n.hasRehydrationInfo(e)){let{queries:t}=n.extractRehydrationInfo(e);f(Object.keys(t),r,s)}}},or=Error("Promise never resolved before cacheEntryRemoved."),on=({api:e,reducerPath:t,context:r,queryThunk:n,mutationThunk:i,internalState:o,selectors:{selectQueryEntry:a,selectApiState:s}})=>{let u=np(n),l=np(i),c=nd(n,i),d={};function p(e,t,r){let n=d[e];(null==n?void 0:n.valueResolved)&&(n.valueResolved({data:t,meta:r}),delete n.valueResolved)}function f(e){let t=d[e];t&&(delete d[e],t.cacheEntryRemoved())}function h(t,n,i,o,a){let s=r.endpointDefinitions[t],u=null==s?void 0:s.onCacheEntryAdded;if(!u)return;let l={},c=new Promise(e=>{l.cacheEntryRemoved=e}),p=Promise.race([new Promise(e=>{l.valueResolved=e}),c.then(()=>{throw or})]);p.catch(()=>{}),d[i]=l;let f=e.endpoints[t].select(ij(s)?n:i),h=o.dispatch((e,t,r)=>r),m=iE(iI({},o),{getCacheEntry:()=>f(o.getState()),requestId:a,extra:h,updateCachedData:ij(s)?r=>o.dispatch(e.util.updateQueryData(t,n,r)):void 0,cacheDataLoaded:p,cacheEntryRemoved:c}),g=u(n,m);Promise.resolve(g).catch(e=>{if(e!==or)throw e})}return(r,o,s)=>{var m;let g=u(r)?r.meta.arg.queryCacheKey:l(r)?null!=(m=r.meta.arg.fixedCacheKey)?m:r.meta.requestId:e.internalActions.removeQueryResult.match(r)?r.payload.queryCacheKey:e.internalActions.removeMutationResult.match(r)?i1(r.payload):"";function y(e,t,r,n){let i=a(s,t),u=a(o.getState(),t);!i&&u&&h(e,n,t,o,r)}if(n.pending.match(r))y(r.meta.arg.endpointName,g,r.meta.requestId,r.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(r))for(let{queryDescription:e,value:t}of r.payload){let{endpointName:n,originalArgs:i,queryCacheKey:o}=e;y(n,o,r.meta.requestId,i),p(o,t,{})}else if(i.pending.match(r)){let e=o.getState()[t].mutations[g];e&&h(r.meta.arg.endpointName,r.meta.arg.originalArgs,g,o,r.meta.requestId)}else if(c(r))p(g,r.payload,r.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(r)||e.internalActions.removeMutationResult.match(r))f(g);else if(e.util.resetApiState.match(r))for(let e of Object.keys(d))f(e)}},oi=({api:e,context:{apiUid:t},reducerPath:r})=>(r,n)=>{e.util.resetApiState.match(r)&&n.dispatch(e.internalActions.middlewareRegistered(t))},oo=({reducerPath:e,context:t,context:{endpointDefinitions:r},mutationThunk:n,queryThunk:i,api:o,assertTagType:a,refetchQuery:s,internalState:u})=>{let{removeQueryResult:l}=o.internalActions,c=ni(nd(n),nc(n)),d=ni(nd(n,i),nl(n,i)),p=[];function f(r,n){let i=n.getState(),a=i[e];if(p.push(...r),"delayed"===a.config.invalidationBehavior&&function(e){var t;let{queries:r,mutations:n}=e;for(let e of[r,n])for(let r in e)if((null==(t=e[r])?void 0:t.status)==="pending")return!0;return!1}(a))return;let c=p;if(p=[],0===c.length)return;let d=o.util.selectInvalidatedBy(i,c);t.batch(()=>{var e;let t=Array.from(d.values());for(let{queryCacheKey:r}of t){let t=a.queries[r],i=null!=(e=u.currentSubscriptions[r])?e:{};t&&(0===iB(i)?n.dispatch(l({queryCacheKey:r})):"uninitialized"!==t.status&&n.dispatch(s(t)))}})}return(e,t)=>{c(e)?f(iY(e,"invalidatesTags",r,a),t):d(e)?f([],t):o.util.invalidateTags.match(e)&&f(iW(e.payload,void 0,void 0,void 0,void 0,a),t)}},oa=({reducerPath:e,queryThunk:t,api:r,refetchQuery:n,internalState:i})=>{let o={};function a({queryCacheKey:t},r){let s=r.getState()[e],u=s.queries[t],c=i.currentSubscriptions[t];if(!u||"uninitialized"===u.status)return;let{lowestPollingInterval:d,skipPollingIfUnfocused:p}=l(c);if(!Number.isFinite(d))return;let f=o[t];(null==f?void 0:f.timeout)&&(clearTimeout(f.timeout),f.timeout=void 0);let h=Date.now()+d;o[t]={nextPollTimestamp:h,pollingInterval:d,timeout:setTimeout(()=>{(s.config.focused||!p)&&r.dispatch(n(u)),a({queryCacheKey:t},r)},d)}}function s({queryCacheKey:t},r){let n=r.getState()[e],s=n.queries[t],c=i.currentSubscriptions[t];if(!s||"uninitialized"===s.status)return;let{lowestPollingInterval:d}=l(c);if(!Number.isFinite(d)){u(t);return}let p=o[t],f=Date.now()+d;(!p||f<p.nextPollTimestamp)&&a({queryCacheKey:t},r)}function u(e){let t=o[e];(null==t?void 0:t.timeout)&&clearTimeout(t.timeout),delete o[e]}function l(e={}){let t=!1,r=Number.POSITIVE_INFINITY;for(let n in e)e[n].pollingInterval&&(r=Math.min(e[n].pollingInterval,r),t=e[n].skipPollingIfUnfocused||t);return{lowestPollingInterval:r,skipPollingIfUnfocused:t}}return(e,n)=>{(r.internalActions.updateSubscriptionOptions.match(e)||r.internalActions.unsubscribeQueryResult.match(e))&&s(e.payload,n),(t.pending.match(e)||t.rejected.match(e)&&e.meta.condition)&&s(e.meta.arg,n),(t.fulfilled.match(e)||t.rejected.match(e)&&!e.meta.condition)&&a(e.meta.arg,n),r.util.resetApiState.match(e)&&function(){for(let e of Object.keys(o))u(e)}()}},os=({api:e,context:t,queryThunk:r,mutationThunk:n})=>{let i=nu(r,n),o=nl(r,n),a=nd(r,n),s={};return(r,n)=>{var u,l,c;if(i(r)){let{requestId:i,arg:{endpointName:o,originalArgs:a}}=r.meta,u=t.endpointDefinitions[o],l=null==u?void 0:u.onQueryStarted;if(l){let t={},r=new Promise((e,r)=>{t.resolve=e,t.reject=r});r.catch(()=>{}),s[i]=t;let c=e.endpoints[o].select(ij(u)?a:i),d=n.dispatch((e,t,r)=>r),p=iE(iI({},n),{getCacheEntry:()=>c(n.getState()),requestId:i,extra:d,updateCachedData:ij(u)?t=>n.dispatch(e.util.updateQueryData(o,a,t)):void 0,queryFulfilled:r});l(a,p)}}else if(a(r)){let{requestId:e,baseQueryMeta:t}=r.meta;null==(u=s[e])||u.resolve({data:r.payload,meta:t}),delete s[e]}else if(o(r)){let{requestId:e,rejectedWithValue:t,baseQueryMeta:n}=r.meta;null==(c=s[e])||c.reject({error:null!=(l=r.payload)?l:r.error,isUnhandledError:!t,meta:n}),delete s[e]}}},ou=({reducerPath:e,context:t,api:r,refetchQuery:n,internalState:i})=>{let{removeQueryResult:o}=r.internalActions;function a(r,a){let s=r.getState()[e],u=s.queries,l=i.currentSubscriptions;t.batch(()=>{for(let e of Object.keys(l)){let t=u[e],i=l[e];if(!i||!t)continue;let c=Object.values(i).some(e=>!0===e[a])||Object.values(i).every(e=>void 0===e[a])&&s.config[a];c&&(0===iB(i)?r.dispatch(o({queryCacheKey:e})):"uninitialized"!==t.status&&r.dispatch(n(t)))}})}return(e,t)=>{iL.match(e)&&a(t,"refetchOnFocus"),iD.match(e)&&a(t,"refetchOnReconnect")}},ol=Symbol(),oc=({createSelector:e=rF}={})=>({name:ol,init(t,{baseQuery:r,tagTypes:n,reducerPath:i,serializeQueryArgs:o,keepUnusedDataFor:a,refetchOnMountOrArgChange:s,refetchOnFocus:u,refetchOnReconnect:l,invalidationBehavior:c,onSchemaFailure:d,catchSchemaFailure:p,skipSchemaValidation:f},h){(function(){var e;let t="replace",r="remove";function n(e){if(!tq(e))return e;if(Array.isArray(e))return e.map(n);if(tG(e))return new Map(Array.from(e.entries()).map(([e,t])=>[e,n(t)]));if(t$(e))return new Set(Array.from(e).map(n));let t=Object.create(tD(e));for(let r in e)t[r]=n(e[r]);return tz(e,tM)&&(t[tM]=e[tM]),t}function i(e){return tF(e)?n(e):e}t1[e="Patches"]||(t1[e]={applyPatches_:function(e,i){return i.forEach(i=>{let{path:o,op:a}=i,s=e;for(let e=0;e<o.length-1;e++){let t=tK(s),r=o[e];"string"!=typeof r&&"number"!=typeof r&&(r=""+r),(0===t||1===t)&&("__proto__"===r||"constructor"===r)&&tN(19),"function"==typeof s&&"prototype"===r&&tN(19),"object"!=typeof(s=tV(s,r))&&tN(18,o.join("/"))}let u=tK(s),l=n(i.value),c=o[o.length-1];switch(a){case t:switch(u){case 2:return s.set(c,l);case 3:tN(16);default:return s[c]=l}case"add":switch(u){case 1:return"-"===c?s.push(l):s.splice(c,0,l);case 2:return s.set(c,l);case 3:return s.add(l);default:return s[c]=l}case r:switch(u){case 1:return s.splice(c,1);case 2:return s.delete(c);case 3:return s.delete(i.value);default:return delete s[c]}default:tN(17,a)}}),e},generatePatches_:function(e,n,o,a){switch(e.type_){case 0:case 2:return function(e,n,o,a){let{base_:s,copy_:u}=e;tW(e.assigned_,(e,l)=>{let c=tV(s,e),d=tV(u,e),p=l?tz(s,e)?t:"add":r;if(c===d&&p===t)return;let f=n.concat(e);o.push(p===r?{op:p,path:f}:{op:p,path:f,value:d}),a.push("add"===p?{op:r,path:f}:p===r?{op:"add",path:f,value:i(c)}:{op:t,path:f,value:i(c)})})}(e,n,o,a);case 1:return function(e,n,o,a){let{base_:s,assigned_:u}=e,l=e.copy_;l.length<s.length&&([s,l]=[l,s],[o,a]=[a,o]);for(let e=0;e<s.length;e++)if(u[e]&&l[e]!==s[e]){let r=n.concat([e]);o.push({op:t,path:r,value:i(l[e])}),a.push({op:t,path:r,value:i(s[e])})}for(let e=s.length;e<l.length;e++){let t=n.concat([e]);o.push({op:"add",path:t,value:i(l[e])})}for(let e=l.length-1;s.length<=e;--e){let t=n.concat([e]);a.push({op:r,path:t})}}(e,n,o,a);case 3:return function(e,t,n,i){let{base_:o,copy_:a}=e,s=0;o.forEach(e=>{if(!a.has(e)){let o=t.concat([s]);n.push({op:r,path:o,value:e}),i.unshift({op:"add",path:o,value:e})}s++}),s=0,a.forEach(e=>{if(!o.has(e)){let o=t.concat([s]);n.push({op:"add",path:o,value:e}),i.unshift({op:r,path:o,value:e})}s++})}(e,n,o,a)}},generateReplacementPatches_:function(e,r,n,i){n.push({op:t,path:[],value:r===tR?void 0:r}),i.push({op:t,path:[],value:e})}})})();let m=e=>e;Object.assign(t,{reducerPath:i,endpoints:{},internalActions:{onOnline:iD,onOffline:iF,onFocus:iL,onFocusLost:iN},util:{}});let g=function({serializeQueryArgs:e,reducerPath:t,createSelector:r}){let n=e=>i5,i=e=>i8;return{buildQuerySelector:function(e,t){return l(e,t,o)},buildInfiniteQuerySelector:function(e,t){let{infiniteQueryOptions:r}=t;return l(e,t,function(e){var t,n,i,o;let a=iI(iI({},e),iO(e.status)),{isLoading:s,isError:u,direction:l}=a,c="forward"===l,d="backward"===l;return iE(iI({},a),{hasNextPage:(t=a.data,n=a.originalArgs,!!t&&null!=iZ(r,t,n)),hasPreviousPage:(i=a.data,o=a.originalArgs,!!i&&!!r.getPreviousPageParam&&null!=iQ(r,i,o)),isFetchingNextPage:s&&c,isFetchingPreviousPage:s&&d,isFetchNextPageError:u&&c,isFetchPreviousPageError:u&&d})})},buildMutationSelector:function(){return e=>{var t;let n;n="object"==typeof e?null!=(t=i1(e))?t:i6:e;let s=n===i6?i:e=>{var t,r,i;return null!=(i=null==(r=null==(t=a(e))?void 0:t.mutations)?void 0:r[n])?i:i8};return r(s,o)}},selectInvalidatedBy:function(e,r){var n;let i=e[t],o=new Set;for(let e of r.filter(iR).map(iK)){let t=i.provided.tags[e.type];if(t)for(let r of null!=(n=void 0!==e.id?t[e.id]:iC(Object.values(t)))?n:[])o.add(r)}return iC(Array.from(o.values()).map(e=>{let t=i.queries[e];return t?[{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]}))},selectCachedArgsForQuery:function(e,t){return Object.values(s(e)).filter(e=>(null==e?void 0:e.endpointName)===t&&"uninitialized"!==e.status).map(e=>e.originalArgs)},selectApiState:a,selectQueries:s,selectMutations:function(e){var t;return null==(t=a(e))?void 0:t.mutations},selectQueryEntry:u,selectConfig:function(e){var t;return null==(t=a(e))?void 0:t.config}};function o(e){return iI(iI({},e),iO(e.status))}function a(e){let r=e[t];return r}function s(e){var t;return null==(t=a(e))?void 0:t.queries}function u(e,t){var r;return null==(r=s(e))?void 0:r[t]}function l(t,i,o){return a=>{if(a===i6)return r(n,o);let s=e({queryArgs:a,endpointDefinition:i,endpointName:t});return r(e=>{var t;return null!=(t=u(e,s))?t:i5},o)}}}({serializeQueryArgs:o,reducerPath:i,createSelector:e}),{selectInvalidatedBy:y,selectCachedArgsForQuery:b,buildQuerySelector:_,buildInfiniteQuerySelector:w,buildMutationSelector:v}=g;i7(t.util,{selectInvalidatedBy:y,selectCachedArgsForQuery:b});let{queryThunk:k,infiniteQueryThunk:A,mutationThunk:S,patchQueryData:I,updateQueryData:E,upsertQueryData:T,prefetch:x,buildMatchThunkActions:P}=function({reducerPath:e,baseQuery:t,context:{endpointDefinitions:r},serializeQueryArgs:n,api:i,assertTagType:o,selectors:a,onSchemaFailure:s,catchSchemaFailure:u,skipSchemaValidation:l}){function c(e,t,r=0){let n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}function d(e,t,r=0){let n=[...e,t];return r&&n.length>r?n.slice(1):n}let p=(e,t)=>e.query&&e[t]?e[t]:i$,f=async(e,{signal:n,abort:i,rejectWithValue:o,fulfillWithValue:f,dispatch:m,getState:g,extra:y})=>{var b,_,w,v;let k=r[e.endpointName],{metaSchema:A,skipSchemaValidation:S=l}=k;try{let r,o=p(k,"transformResponse"),s={signal:n,abort:i,dispatch:m,getState:g,extra:y,endpoint:e.endpointName,type:e.type,forced:"query"===e.type?h(e,g()):void 0,queryCacheKey:"query"===e.type?e.queryCacheKey:void 0},u="query"===e.type?e[iz]:void 0,l=async(t,r,n,i)=>{if(null==r&&t.pages.length)return Promise.resolve({data:t});let o={queryArg:e.originalArgs,pageParam:r},a=await I(o),s=i?c:d;return{data:{pages:s(t.pages,a.data,n),pageParams:s(t.pageParams,r,n)},meta:a.meta}};async function I(e){let r;let{extraOptions:n,argSchema:i,rawResponseSchema:a,responseSchema:l}=k;if(i&&!S&&(e=await iG(i,e,"argSchema",{})),(r=u?u():k.query?await t(k.query(e),s,n):await k.queryFn(e,s,n,e=>t(e,s,n))).error)throw new iM(r.error,r.meta);let{data:c}=r;a&&!S&&(c=await iG(a,r.data,"rawResponseSchema",r.meta));let d=await o(c,r.meta,e);return l&&!S&&(d=await iG(l,d,"responseSchema",r.meta)),iE(iI({},r),{data:d})}if("query"===e.type&&"infiniteQueryOptions"in k){let t;let{infiniteQueryOptions:n}=k,{maxPages:i=1/0}=n,o=null==(b=a.selectQueryEntry(g(),e.queryCacheKey))?void 0:b.data,s=h(e,g())&&!e.direction,c=s||!o?{pages:[],pageParams:[]}:o;if("direction"in e&&e.direction&&c.pages.length){let r="backward"===e.direction,o=r?iQ:iZ,a=o(n,c,e.originalArgs);t=await l(c,a,i,r)}else{let{initialPageParam:r=n.initialPageParam}=e,a=null!=(_=null==o?void 0:o.pageParams)?_:[],s=null!=(w=a[0])?w:r,d=a.length;t=await l(c,s,i),u&&(t={data:t.data.pages[0]});for(let r=1;r<d;r++){let r=iZ(n,t.data,e.originalArgs);t=await l(t.data,r,i)}}r=t}else r=await I(e.originalArgs);return A&&!S&&r.meta&&(r.meta=await iG(A,r.meta,"metaSchema",r.meta)),f(r.data,iX({fulfilledTimeStamp:Date.now(),baseQueryMeta:r.meta}))}catch(r){let t=r;if(t instanceof iM){let r=p(k,"transformErrorResponse"),{rawErrorResponseSchema:n,errorResponseSchema:i}=k,{value:a,meta:s}=t;try{n&&!S&&(a=await iG(n,a,"rawErrorResponseSchema",s)),A&&!S&&(s=await iG(A,s,"metaSchema",s));let t=await r(a,s,e.originalArgs);return i&&!S&&(t=await iG(i,t,"errorResponseSchema",s)),o(t,iX({baseQueryMeta:s}))}catch(e){t=e}}try{if(t instanceof iH){let r={endpoint:e.endpointName,arg:e.originalArgs,type:e.type,queryCacheKey:"query"===e.type?e.queryCacheKey:void 0};null==(v=k.onSchemaFailure)||v.call(k,t,r),null==s||s(t,r);let{catchSchemaFailure:n=u}=k;if(n)return o(n(t,r),iX({baseQueryMeta:t._bqMeta}))}}catch(e){t=e}throw console.error(t),t}};function h(e,t){var r;let n=a.selectQueryEntry(t,e.queryCacheKey),i=a.selectConfig(t).refetchOnMountOrArgChange,o=null==n?void 0:n.fulfilledTimeStamp,s=null!=(r=e.forceRefetch)?r:e.subscribe&&i;return!!s&&(!0===s||(Number(new Date)-Number(o))/1e3>=s)}let m=()=>{let t=n_(`${e}/executeQuery`,f,{getPendingMeta({arg:e}){let t=r[e.endpointName];return iX(iI({startedTimeStamp:Date.now()},iU(t)?{direction:e.direction}:{}))},condition(e,{getState:t}){var n;let i=t(),o=a.selectQueryEntry(i,e.queryCacheKey),s=null==o?void 0:o.fulfilledTimeStamp,u=e.originalArgs,l=null==o?void 0:o.originalArgs,c=r[e.endpointName],d=e.direction;return!!iV(e)||(null==o?void 0:o.status)!=="pending"&&(!!(h(e,i)||iq(c)&&(null==(n=null==c?void 0:c.forceRefetch)?void 0:n.call(c,{currentArg:u,previousArg:l,endpointState:o,state:i})))||!s||!!d)},dispatchConditionRejection:!0});return t},g=m(),y=m(),b=n_(`${e}/executeMutation`,f,{getPendingMeta:()=>iX({startedTimeStamp:Date.now()})}),_=e=>"force"in e,w=e=>"ifOlderThan"in e;function v(e){return t=>{var r,n;return(null==(n=null==(r=null==t?void 0:t.meta)?void 0:r.arg)?void 0:n.endpointName)===e}}return{queryThunk:g,mutationThunk:b,infiniteQueryThunk:y,prefetch:(e,t,r)=>(n,o)=>{let a=_(r)&&r.force,s=w(r)&&r.ifOlderThan,u=(r=!0)=>i.endpoints[e].initiate(t,{forceRefetch:r,isPrefetch:!0}),l=i.endpoints[e].select(t)(o());if(a)n(u());else if(s){let e=null==l?void 0:l.fulfilledTimeStamp;if(!e){n(u());return}let t=(Number(new Date)-Number(new Date(e)))/1e3>=s;t&&n(u())}else n(u(!1))},updateQueryData:(e,t,r,n=!0)=>(o,a)=>{let s;let u=i.endpoints[e],l=u.select(t)(a()),c={patches:[],inversePatches:[],undo:()=>o(i.util.patchQueryData(e,t,c.inversePatches,n))};if("uninitialized"===l.status)return c;if("data"in l){if(tq(l.data)){let[e,t,n]=rd(l.data,r);c.patches.push(...t),c.inversePatches.push(...n),s=e}else s=r(l.data),c.patches.push({op:"replace",path:[],value:s}),c.inversePatches.push({op:"replace",path:[],value:l.data})}return 0===c.patches.length||o(i.util.patchQueryData(e,t,c.patches,n)),c},upsertQueryData:(e,t,r)=>n=>{let o=n(i.endpoints[e].initiate(t,{subscribe:!1,forceRefetch:!0,[iz]:()=>({data:r})}));return o},patchQueryData:(e,t,a,s)=>(u,l)=>{let c=r[e],d=n({queryArgs:t,endpointDefinition:c,endpointName:e});if(u(i.internalActions.queryResultPatched({queryCacheKey:d,patches:a})),!s)return;let p=i.endpoints[e].select(t)(l()),f=iW(c.providesTags,p.data,void 0,t,{},o);u(i.internalActions.updateProvidedBy([{queryCacheKey:d,providedTags:f}]))},buildMatchThunkActions:function(e,t){return{matchPending:no(nu(e),v(t)),matchFulfilled:no(nd(e),v(t)),matchRejected:no(nl(e),v(t))}}}}({baseQuery:r,reducerPath:i,context:h,api:t,serializeQueryArgs:o,assertTagType:m,selectors:g,onSchemaFailure:d,catchSchemaFailure:p,skipSchemaValidation:f}),{reducer:O,actions:B}=function({reducerPath:e,queryThunk:t,mutationThunk:r,serializeQueryArgs:n,context:{endpointDefinitions:i,apiUid:o,extractRehydrationInfo:a,hasRehydrationInfo:s},assertTagType:u,config:l}){let c=r2(`${e}/resetApiState`);function d(e,t,r,n){var o;null!=e[o=t.queryCacheKey]||(e[o]={status:"uninitialized",endpointName:t.endpointName}),iJ(e,t.queryCacheKey,e=>{e.status="pending",e.requestId=r&&e.requestId?e.requestId:n.requestId,void 0!==t.originalArgs&&(e.originalArgs=t.originalArgs),e.startedTimeStamp=n.startedTimeStamp;let o=i[n.arg.endpointName];iU(o)&&"direction"in t&&(e.direction=t.direction)})}function p(e,t,r,n){iJ(e,t.arg.queryCacheKey,e=>{var o,a;if(e.requestId!==t.requestId&&!n)return;let{merge:s}=i[t.arg.endpointName];if(e.status="fulfilled",s){if(void 0!==e.data){let{fulfilledTimeStamp:n,arg:i,baseQueryMeta:o,requestId:a}=t,u=rc(e.data,e=>s(e,r,{arg:i.originalArgs,baseQueryMeta:o,fulfilledTimeStamp:n,requestId:a}));e.data=u}else e.data=r}else e.data=null==(o=i[t.arg.endpointName].structuralSharing)||o?function e(t,r){if(t===r||!(tk(t)&&tk(r)||Array.isArray(t)&&Array.isArray(r)))return r;let n=Object.keys(r),i=Object.keys(t),o=n.length===i.length,a=Array.isArray(r)?[]:{};for(let i of n)a[i]=e(t[i],r[i]),o&&(o=t[i]===a[i]);return o?t:a}(tF(e.data)?(tF(a=e.data)||tN(15,a),a[tL].base_):e.data,r):r;delete e.error,e.fulfilledTimeStamp=t.fulfilledTimeStamp})}let f=nA({name:`${e}/queries`,initialState:i2,reducers:{removeQueryResult:{reducer(e,{payload:{queryCacheKey:t}}){delete e[t]},prepare:r9()},cacheEntriesUpserted:{reducer(e,t){for(let r of t.payload){let{queryDescription:n,value:i}=r;d(e,n,!0,{arg:n,requestId:t.meta.requestId,startedTimeStamp:t.meta.timestamp}),p(e,{arg:n,requestId:t.meta.requestId,fulfilledTimeStamp:t.meta.timestamp,baseQueryMeta:{}},i,!0)}},prepare:e=>{let t=e.map(e=>{let{endpointName:t,arg:r,value:o}=e,a=i[t],s={type:"query",endpointName:t,originalArgs:e.arg,queryCacheKey:n({queryArgs:r,endpointDefinition:a,endpointName:t})};return{queryDescription:s,value:o}}),r={payload:t,meta:{[r3]:!0,requestId:nf(),timestamp:Date.now()}};return r}},queryResultPatched:{reducer(e,{payload:{queryCacheKey:t,patches:r}}){iJ(e,t,e=>{e.data=rp(e.data,r.concat())})},prepare:r9()}},extraReducers(e){e.addCase(t.pending,(e,{meta:t,meta:{arg:r}})=>{let n=iV(r);d(e,r,n,t)}).addCase(t.fulfilled,(e,{meta:t,payload:r})=>{let n=iV(t.arg);p(e,t,r,n)}).addCase(t.rejected,(e,{meta:{condition:t,arg:r,requestId:n},error:i,payload:o})=>{iJ(e,r.queryCacheKey,e=>{if(t);else{if(e.requestId!==n)return;e.status="rejected",e.error=null!=o?o:i}})}).addMatcher(s,(e,t)=>{let{queries:r}=a(t);for(let[t,n]of Object.entries(r))((null==n?void 0:n.status)==="fulfilled"||(null==n?void 0:n.status)==="rejected")&&(e[t]=n)})}}),h=nA({name:`${e}/mutations`,initialState:i2,reducers:{removeMutationResult:{reducer(e,{payload:t}){let r=i1(t);r in e&&delete e[r]},prepare:r9()}},extraReducers(e){e.addCase(r.pending,(e,{meta:t,meta:{requestId:r,arg:n,startedTimeStamp:i}})=>{n.track&&(e[i1(t)]={requestId:r,status:"pending",endpointName:n.endpointName,startedTimeStamp:i})}).addCase(r.fulfilled,(e,{payload:t,meta:r})=>{r.arg.track&&i0(e,r,e=>{e.requestId===r.requestId&&(e.status="fulfilled",e.data=t,e.fulfilledTimeStamp=r.fulfilledTimeStamp)})}).addCase(r.rejected,(e,{payload:t,error:r,meta:n})=>{n.arg.track&&i0(e,n,e=>{e.requestId===n.requestId&&(e.status="rejected",e.error=null!=t?t:r)})}).addMatcher(s,(e,t)=>{let{mutations:r}=a(t);for(let[t,n]of Object.entries(r))((null==n?void 0:n.status)==="fulfilled"||(null==n?void 0:n.status)==="rejected")&&t!==(null==n?void 0:n.requestId)&&(e[t]=n)})}}),m=nA({name:`${e}/invalidation`,initialState:{tags:{},keys:{}},reducers:{updateProvidedBy:{reducer(e,t){var r,n,i,o,a;for(let{queryCacheKey:s,providedTags:u}of t.payload){for(let{type:t,id:l}of(g(e,s),u)){let u=null!=(a=(i=null!=(n=(r=e.tags)[t])?n:r[t]={})[o=l||"__internal_without_id"])?a:i[o]=[],c=u.includes(s);c||u.push(s)}e.keys[s]=u}},prepare:r9()}},extraReducers(e){e.addCase(f.actions.removeQueryResult,(e,{payload:{queryCacheKey:t}})=>{g(e,t)}).addMatcher(s,(e,t)=>{var r,n,i,o,s;let{provided:u}=a(t);for(let[t,a]of Object.entries(u))for(let[u,l]of Object.entries(a)){let a=null!=(s=(i=null!=(n=(r=e.tags)[t])?n:r[t]={})[o=u||"__internal_without_id"])?s:i[o]=[];for(let e of l){let t=a.includes(e);t||a.push(e)}}}).addMatcher(ni(nd(t),nc(t)),(e,t)=>{y(e,[t])}).addMatcher(f.actions.cacheEntriesUpserted.match,(e,t)=>{let r=t.payload.map(({queryDescription:e,value:t})=>({type:"UNKNOWN",payload:t,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:e}}));y(e,r)})}});function g(e,t){var r,n,i;let o=null!=(r=e.keys[t])?r:[];for(let r of o){let o=r.type,a=null!=(n=r.id)?n:"__internal_without_id",s=null==(i=e.tags[o])?void 0:i[a];s&&(e.tags[o][a]=s.filter(e=>e!==t))}delete e.keys[t]}function y(e,t){let r=t.map(e=>{let t=iY(e,"providesTags",i,u),{queryCacheKey:r}=e.meta.arg;return{queryCacheKey:r,providedTags:t}});m.caseReducers.updateProvidedBy(e,m.actions.updateProvidedBy(r))}let b=nA({name:`${e}/subscriptions`,initialState:i2,reducers:{updateSubscriptionOptions(e,t){},unsubscribeQueryResult(e,t){},internal_getRTKQSubscriptions(){}}}),_=nA({name:`${e}/internalSubscriptions`,initialState:i2,reducers:{subscriptionsUpdated:{reducer:(e,t)=>rp(e,t.payload),prepare:r9()}}}),w=nA({name:`${e}/config`,initialState:iI({online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine,focused:"undefined"==typeof document||"hidden"!==document.visibilityState,middlewareRegistered:!1},l),reducers:{middlewareRegistered(e,{payload:t}){e.middlewareRegistered="conflict"!==e.middlewareRegistered&&o===t||"conflict"}},extraReducers:e=>{e.addCase(iD,e=>{e.online=!0}).addCase(iF,e=>{e.online=!1}).addCase(iL,e=>{e.focused=!0}).addCase(iN,e=>{e.focused=!1}).addMatcher(s,e=>iI({},e))}}),v=tS({queries:f.reducer,mutations:h.reducer,provided:m.reducer,subscriptions:_.reducer,config:w.reducer}),k=iE(iI(iI(iI(iI(iI(iI({},w.actions),f.actions),b.actions),_.actions),h.actions),m.actions),{resetApiState:c});return{reducer:(e,t)=>v(c.match(t)?void 0:e,t),actions:k}}({context:h,queryThunk:k,infiniteQueryThunk:A,mutationThunk:S,serializeQueryArgs:o,reducerPath:i,assertTagType:m,config:{refetchOnFocus:u,refetchOnReconnect:l,refetchOnMountOrArgChange:s,keepUnusedDataFor:a,reducerPath:i,invalidationBehavior:c}});i7(t.util,{patchQueryData:I,updateQueryData:E,upsertQueryData:T,prefetch:x,resetApiState:B.resetApiState,upsertQueryEntries:B.cacheEntriesUpserted}),i7(t.internalActions,B);let{middleware:C,actions:R}=function(e){let{reducerPath:t,queryThunk:r,api:n,context:i}=e,{apiUid:o}=i,a={invalidateTags:r2(`${t}/invalidateTags`)},s=e=>e.type.startsWith(`${t}/`),u=[oi,ot,oo,oa,on,os];return{middleware:r=>{let a=!1,c=iE(iI({},e),{internalState:{currentSubscriptions:{}},refetchQuery:l,isThisApiSliceAction:s}),d=u.map(e=>e(c)),p=oe(c),f=ou(c);return e=>u=>{let l;if(!tE(u))return e(u);a||(a=!0,r.dispatch(n.internalActions.middlewareRegistered(o)));let c=iE(iI({},r),{next:e}),h=r.getState(),[m,g]=p(u,c,h);if(l=m?e(u):g,r.getState()[t]&&(f(u,c,h),s(u)||i.hasRehydrationInfo(u)))for(let e of d)e(u,c,h);return l}},actions:a};function l(t){return e.api.endpoints[t.endpointName].initiate(t.originalArgs,{subscribe:!1,forceRefetch:!0})}}({reducerPath:i,context:h,queryThunk:k,mutationThunk:S,infiniteQueryThunk:A,api:t,assertTagType:m,selectors:g});i7(t.util,R),i7(t,{reducer:O,middleware:C});let{buildInitiateQuery:M,buildInitiateInfiniteQuery:L,buildInitiateMutation:N,getRunningMutationThunk:D,getRunningMutationsThunk:F,getRunningQueriesThunk:q,getRunningQueryThunk:U}=function({serializeQueryArgs:e,queryThunk:t,infiniteQueryThunk:r,mutationThunk:n,api:i,context:o}){let a=new Map,s=new Map,{unsubscribeQueryResult:u,removeMutationResult:l,updateSubscriptionOptions:c}=i.internalActions;return{buildInitiateQuery:function(e,t){let r=d(e,t);return r},buildInitiateInfiniteQuery:function(e,t){let r=d(e,t);return r},buildInitiateMutation:function(e){return(t,{track:r=!0,fixedCacheKey:i}={})=>(o,a)=>{let u=n({type:"mutation",endpointName:e,originalArgs:t,track:r,fixedCacheKey:i}),c=o(u),{requestId:d,abort:p,unwrap:f}=c,h=c.unwrap().then(e=>({data:e})).catch(e=>({error:e})),m=Object.assign(h,{arg:c.arg,requestId:d,abort:p,unwrap:f,reset:()=>{o(l({requestId:d,fixedCacheKey:i}))}}),g=s.get(o)||{};return s.set(o,g),g[d]=m,m.then(()=>{delete g[d],iB(g)||s.delete(o)}),i&&(g[i]=m,m.then(()=>{g[i]!==m||(delete g[i],iB(g)||s.delete(o))})),m}},getRunningQueryThunk:function(t,r){return n=>{var i;let s=o.endpointDefinitions[t],u=e({queryArgs:r,endpointDefinition:s,endpointName:t});return null==(i=a.get(n))?void 0:i[u]}},getRunningMutationThunk:function(e,t){return e=>{var r;return null==(r=s.get(e))?void 0:r[t]}},getRunningQueriesThunk:function(){return e=>Object.values(a.get(e)||{}).filter(iR)},getRunningMutationsThunk:function(){return e=>Object.values(s.get(e)||{}).filter(iR)}};function d(n,o){let s=(l,d={})=>{var{subscribe:p=!0,forceRefetch:f,subscriptionOptions:h,[iz]:m}=d,g=ix(d,["subscribe","forceRefetch","subscriptionOptions",iT(iz)]);return(d,y)=>{var b;let _;let w=e({queryArgs:l,endpointDefinition:o,endpointName:n}),v=iE(iI({},g),{type:"query",subscribe:p,forceRefetch:f,subscriptionOptions:h,endpointName:n,originalArgs:l,queryCacheKey:w,[iz]:m});if(iq(o))_=t(v);else{let{direction:e,initialPageParam:t}=g;_=r(iE(iI({},v),{direction:e,initialPageParam:t}))}let k=i.endpoints[n].select(l),A=d(_),S=k(y()),{requestId:I,abort:E}=A,T=S.requestId!==I,x=null==(b=a.get(d))?void 0:b[w],P=()=>k(y()),O=Object.assign(m?A.then(P):T&&!x?Promise.resolve(S):Promise.all([x,A]).then(P),{arg:l,requestId:I,subscriptionOptions:h,queryCacheKey:w,abort:E,async unwrap(){let e=await O;if(e.isError)throw e.error;return e.data},refetch:()=>d(s(l,{subscribe:!1,forceRefetch:!0})),unsubscribe(){p&&d(u({queryCacheKey:w,requestId:I}))},updateSubscriptionOptions(e){O.subscriptionOptions=e,d(c({endpointName:n,requestId:I,queryCacheKey:w,options:e}))}});if(!x&&!T&&!m){let e=a.has(d)?a.get(d):a.set(d,{}).get(d);e[w]=O,O.then(()=>{delete e[w],iB(e)||a.delete(d)})}return O}};return s}}({queryThunk:k,mutationThunk:S,infiniteQueryThunk:A,api:t,serializeQueryArgs:o,context:h});return i7(t.util,{getRunningMutationThunk:D,getRunningMutationsThunk:F,getRunningQueryThunk:U,getRunningQueriesThunk:q}),{name:ol,injectEndpoint(e,r){var n,i;let o=null!=(i=(n=t.endpoints)[e])?i:n[e]={};iq(r)&&i7(o,{name:e,select:_(e,r),initiate:M(e,r)},P(k,e)),"mutation"===r.type&&i7(o,{name:e,select:v(),initiate:N(e)},P(S,e)),iU(r)&&i7(o,{name:e,select:w(e,r),initiate:L(e,r)},P(k,e))}}}});oc();var tg=eh("eJeWc"),e3=eh("jcdBh"),od=Object.defineProperty,op=Object.defineProperties,of=Object.getOwnPropertyDescriptors,oh=Object.getOwnPropertySymbols,om=Object.prototype.hasOwnProperty,og=Object.prototype.propertyIsEnumerable,oy=(e,t,r)=>t in e?od(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ob=(e,t)=>{for(var r in t||(t={}))om.call(t,r)&&oy(e,r,t[r]);if(oh)for(var r of oh(t))og.call(t,r)&&oy(e,r,t[r]);return e},o_=(e,t)=>op(e,of(t)),ow=(e,t)=>{var r={};for(var n in e)om.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&oh)for(var n of oh(e))0>t.indexOf(n)&&og.call(e,n)&&(r[n]=e[n]);return r};function ov(e){return e.replace(e[0],e[0].toUpperCase())}function ok(e){return"infinitequery"===e.type}function oA(e,...t){return Object.assign(e,...t)}var oS=Symbol();function oI(e,t,r,n){let i=(0,tg.useMemo)(()=>({queryArgs:e,serialized:"object"==typeof e?t({queryArgs:e,endpointDefinition:r,endpointName:n}):e}),[e,t,r,n]),o=(0,tg.useRef)(i);return(0,tg.useEffect)(()=>{o.current.serialized!==i.serialized&&(o.current=i)},[i]),o.current.serialized===i.serialized?o.current.queryArgs:e}function oE(e){let t=(0,tg.useRef)(e);return(0,tg.useEffect)(()=>{nN(t.current,e)||(t.current=e)},[e]),nN(t.current,e)?t.current:e}var oT=!!("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement),ox="undefined"!=typeof navigator&&"ReactNative"===navigator.product,oP=oT||ox?tg.useLayoutEffect:tg.useEffect,oO=e=>e.isUninitialized?o_(ob({},e),{isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:iP.pending}):e;function oB(e,...t){let r={};return t.forEach(t=>{r[t]=e[t]}),r}var oC=["data","status","isLoading","isSuccess","isError","error"],oR=Symbol(),oM=function(...e){return function(t){let r=rN(e=>{var r,n;return null==(n=t.extractRehydrationInfo)?void 0:n.call(t,e,{reducerPath:null!=(r=t.reducerPath)?r:"api"})}),n=iE(iI({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed"},t),{extractRehydrationInfo:r,serializeQueryArgs(e){let r=i9;if("serializeQueryArgs"in e.endpointDefinition){let t=e.endpointDefinition.serializeQueryArgs;r=e=>{let r=t(e);return"string"==typeof r?r:i9(iE(iI({},e),{queryArgs:r}))}}else t.serializeQueryArgs&&(r=t.serializeQueryArgs);return r(e)},tagTypes:[...t.tagTypes||[]]}),i={endpointDefinitions:{},batch(e){e()},apiUid:nf(),extractRehydrationInfo:r,hasRehydrationInfo:rN(e=>null!=r(e))},o={injectEndpoints:function(e){let t=e.endpoints({query:e=>iE(iI({},e),{type:"query"}),mutation:e=>iE(iI({},e),{type:"mutation"}),infiniteQuery:e=>iE(iI({},e),{type:"infinitequery"})});for(let[r,n]of Object.entries(t)){if(!0!==e.overrideExisting&&r in i.endpointDefinitions){if("throw"===e.overrideExisting)throw Error(nC(39));continue}for(let e of(i.endpointDefinitions[r]=n,a))e.injectEndpoint(r,n)}return o},enhanceEndpoints({addTagTypes:e,endpoints:t}){if(e)for(let t of e)n.tagTypes.includes(t)||n.tagTypes.push(t);if(t)for(let[e,r]of Object.entries(t))"function"==typeof r?r(i.endpointDefinitions[e]):Object.assign(i.endpointDefinitions[e]||{},r);return o}},a=e.map(e=>e.init(o,n,i));return o.injectEndpoints({endpoints:t.endpoints})}}(oc(),((e={})=>{var{batch:t=nG,hooks:r={useDispatch:nz,useSelector:nH,useStore:nK},createSelector:n=rF,unstable__sideEffectsInRender:i=!1}=e;return ow(e,["batch","hooks","createSelector","unstable__sideEffectsInRender"]),{name:oR,init(e,{serializeQueryArgs:o},a){let{buildQueryHooks:s,buildInfiniteQueryHooks:u,buildMutationHook:l,usePrefetch:c}=function({api:e,moduleOptions:{batch:t,hooks:{useDispatch:r,useSelector:n,useStore:i},unstable__sideEffectsInRender:o,createSelector:a},serializeQueryArgs:s,context:u}){let l=o?e=>e():tg.useEffect;return{buildQueryHooks:function(n){let i=(e,t={})=>{let[r]=p(n,e,t);return h(r),(0,tg.useMemo)(()=>({refetch:()=>m(r)}),[r])},o=({refetchOnReconnect:i,refetchOnFocus:o,pollingInterval:a=0,skipPollingIfUnfocused:s=!1}={})=>{let{initiate:u}=e.endpoints[n],c=r(),[d,p]=(0,tg.useState)(oS),f=(0,tg.useRef)(void 0),h=oE({refetchOnReconnect:i,refetchOnFocus:o,pollingInterval:a,skipPollingIfUnfocused:s});l(()=>{var e,t;let r=null==(e=f.current)?void 0:e.subscriptionOptions;h!==r&&(null==(t=f.current)||t.updateSubscriptionOptions(h))},[h]);let m=(0,tg.useRef)(h);l(()=>{m.current=h},[h]);let g=(0,tg.useCallback)(function(e,r=!1){let n;return t(()=>{var t;null==(t=f.current)||t.unsubscribe(),f.current=n=c(u(e,{subscriptionOptions:m.current,forceRefetch:!r})),p(e)}),n},[c,u]),y=(0,tg.useCallback)(()=>{var t,r;(null==(t=f.current)?void 0:t.queryCacheKey)&&c(e.internalActions.removeQueryResult({queryCacheKey:null==(r=f.current)?void 0:r.queryCacheKey}))},[c]);return(0,tg.useEffect)(()=>()=>{var e;null==(e=null==f?void 0:f.current)||e.unsubscribe()},[]),(0,tg.useEffect)(()=>{d===oS||f.current||g(d,!0)},[d,g]),(0,tg.useMemo)(()=>[g,d,{reset:y}],[g,d,y])},a=f(n,c);return{useQueryState:a,useQuerySubscription:i,useLazyQuerySubscription:o,useLazyQuery(e){let[t,r,{reset:n}]=o(e),i=a(r,o_(ob({},e),{skip:r===oS})),s=(0,tg.useMemo)(()=>({lastArg:r}),[r]);return(0,tg.useMemo)(()=>[t,o_(ob({},i),{reset:n}),s],[t,i,n,s])},useQuery(e,t){let r=i(e,t),n=a(e,ob({selectFromResult:e===i6||(null==t?void 0:t.skip)?void 0:oO},t)),o=oB(n,...oC);return(0,tg.useDebugValue)(o),(0,tg.useMemo)(()=>ob(ob({},n),r),[n,r])}}},buildInfiniteQueryHooks:function(e){let r=(r,n={})=>{let[i,o,a,s]=p(e,r,n),c=(0,tg.useRef)(s);l(()=>{c.current=s},[s]);let d=(0,tg.useCallback)(function(e,r){let n;return t(()=>{var t;null==(t=i.current)||t.unsubscribe(),i.current=n=o(a(e,{subscriptionOptions:c.current,direction:r}))}),n},[i,o,a]);h(i);let f=oI(n.skip?i6:r,i9,u.endpointDefinitions[e],e),g=(0,tg.useCallback)(()=>m(i),[i]);return(0,tg.useMemo)(()=>({trigger:d,refetch:g,fetchNextPage:()=>d(f,"forward"),fetchPreviousPage:()=>d(f,"backward")}),[g,d,f])},n=f(e,d);return{useInfiniteQueryState:n,useInfiniteQuerySubscription:r,useInfiniteQuery(e,t){let{refetch:i,fetchNextPage:o,fetchPreviousPage:a}=r(e,t),s=n(e,ob({selectFromResult:e===i6||(null==t?void 0:t.skip)?void 0:oO},t)),u=oB(s,...oC,"hasNextPage","hasPreviousPage");return(0,tg.useDebugValue)(u),(0,tg.useMemo)(()=>o_(ob({},s),{fetchNextPage:o,fetchPreviousPage:a,refetch:i}),[s,o,a,i])}}},buildMutationHook:function(i){return({selectFromResult:o,fixedCacheKey:s}={})=>{let{select:u,initiate:l}=e.endpoints[i],c=r(),[d,p]=(0,tg.useState)();(0,tg.useEffect)(()=>()=>{(null==d?void 0:d.arg.fixedCacheKey)||null==d||d.reset()},[d]);let f=(0,tg.useCallback)(function(e){let t=c(l(e,{fixedCacheKey:s}));return p(t),t},[c,l,s]),{requestId:h}=d||{},m=(0,tg.useMemo)(()=>u({fixedCacheKey:s,requestId:null==d?void 0:d.requestId}),[s,d,u]),g=(0,tg.useMemo)(()=>o?a([m],o):m,[o,m]),y=n(g,nN),b=null==s?null==d?void 0:d.arg.originalArgs:void 0,_=(0,tg.useCallback)(()=>{t(()=>{d&&p(void 0),s&&c(e.internalActions.removeMutationResult({requestId:h,fixedCacheKey:s}))})},[c,s,d,h]),w=oB(y,...oC,"endpointName");(0,tg.useDebugValue)(w);let v=(0,tg.useMemo)(()=>o_(ob({},y),{originalArgs:b,reset:_}),[y,b,_]);return(0,tg.useMemo)(()=>[f,v],[f,v])}},usePrefetch:function(t,n){let i=r(),o=oE(n);return(0,tg.useCallback)((r,n)=>i(e.util.prefetch(t,r,ob(ob({},o),n))),[t,i,o])}};function c(e,t,r){if((null==t?void 0:t.endpointName)&&e.isUninitialized){let{endpointName:e}=t,n=u.endpointDefinitions[e];r!==i6&&s({queryArgs:t.originalArgs,endpointDefinition:n,endpointName:e})===s({queryArgs:r,endpointDefinition:n,endpointName:e})&&(t=void 0)}let n=e.isSuccess?e.data:null==t?void 0:t.data;void 0===n&&(n=e.data);let i=void 0!==n,o=e.isLoading,a=(!t||t.isLoading||t.isUninitialized)&&!i&&o,l=e.isSuccess||i&&(o&&!(null==t?void 0:t.isError)||e.isUninitialized);return o_(ob({},e),{data:n,currentData:e.data,isFetching:o,isLoading:a,isSuccess:l})}function d(e,t,r){if((null==t?void 0:t.endpointName)&&e.isUninitialized){let{endpointName:e}=t,n=u.endpointDefinitions[e];r!==i6&&s({queryArgs:t.originalArgs,endpointDefinition:n,endpointName:e})===s({queryArgs:r,endpointDefinition:n,endpointName:e})&&(t=void 0)}let n=e.isSuccess?e.data:null==t?void 0:t.data;void 0===n&&(n=e.data);let i=void 0!==n,o=e.isLoading,a=(!t||t.isLoading||t.isUninitialized)&&!i&&o,l=e.isSuccess||o&&i;return o_(ob({},e),{data:n,currentData:e.data,isFetching:o,isLoading:a,isSuccess:l})}function p(t,n,i={}){var{refetchOnReconnect:o,refetchOnFocus:a,refetchOnMountOrArgChange:s,skip:c=!1,pollingInterval:d=0,skipPollingIfUnfocused:p=!1}=i,f=ow(i,["refetchOnReconnect","refetchOnFocus","refetchOnMountOrArgChange","skip","pollingInterval","skipPollingIfUnfocused"]);let{initiate:h}=e.endpoints[t],m=r(),g=(0,tg.useRef)(void 0);if(!g.current){let t=m(e.internalActions.internal_getRTKQSubscriptions());g.current=t}let y=oI(c?i6:n,i9,u.endpointDefinitions[t],t),b=oE({refetchOnReconnect:o,refetchOnFocus:a,pollingInterval:d,skipPollingIfUnfocused:p}),_=f.initialPageParam,w=oE(_),v=(0,tg.useRef)(void 0),{queryCacheKey:k,requestId:A}=v.current||{},S=!1;k&&A&&(S=g.current.isRequestSubscribed(k,A));let I=!S&&void 0!==v.current;return l(()=>{I&&(v.current=void 0)},[I]),l(()=>{var e;let r=v.current;if(y===i6){null==r||r.unsubscribe(),v.current=void 0;return}let n=null==(e=v.current)?void 0:e.subscriptionOptions;if(r&&r.arg===y)b!==n&&r.updateSubscriptionOptions(b);else{null==r||r.unsubscribe();let e=m(h(y,ob({subscriptionOptions:b,forceRefetch:s},ok(u.endpointDefinitions[t])?{initialPageParam:w}:{})));v.current=e}},[m,h,s,y,b,I,w,t]),[v,m,h,b]}function f(t,r){return(o,{skip:l=!1,selectFromResult:c}={})=>{let{select:d}=e.endpoints[t],p=oI(l?i6:o,s,u.endpointDefinitions[t],t),f=(0,tg.useRef)(void 0),h=(0,tg.useMemo)(()=>a([d(p),(e,t)=>t,e=>p],r,{memoizeOptions:{resultEqualityCheck:nN}}),[d,p]),m=(0,tg.useMemo)(()=>c?a([h],c,{devModeChecks:{identityFunctionCheck:"never"}}):h,[h,c]),g=n(e=>m(e,f.current),nN),y=i(),b=h(y.getState(),f.current);return oP(()=>{f.current=b},[b]),g}}function h(e){(0,tg.useEffect)(()=>()=>{var t,r;null==(r=null==(t=e.current)?void 0:t.unsubscribe)||r.call(t),e.current=void 0},[e])}function m(e){if(!e.current)throw Error(nC(38));return e.current.refetch()}}({api:e,moduleOptions:{batch:t,hooks:r,unstable__sideEffectsInRender:i,createSelector:n},serializeQueryArgs:o,context:a});return oA(e,{usePrefetch:c}),oA(a,{batch:t}),{injectEndpoint(t,r){if("query"===r.type){let{useQuery:r,useLazyQuery:n,useLazyQuerySubscription:i,useQueryState:o,useQuerySubscription:a}=s(t);oA(e.endpoints[t],{useQuery:r,useLazyQuery:n,useLazyQuerySubscription:i,useQueryState:o,useQuerySubscription:a}),e[`use${ov(t)}Query`]=r,e[`useLazy${ov(t)}Query`]=n}if("mutation"===r.type){let r=l(t);oA(e.endpoints[t],{useMutation:r}),e[`use${ov(t)}Mutation`]=r}else if(ok(r)){let{useInfiniteQuery:r,useInfiniteQuerySubscription:n,useInfiniteQueryState:i}=u(t);oA(e.endpoints[t],{useInfiniteQuery:r,useInfiniteQuerySubscription:n,useInfiniteQueryState:i}),e[`use${ov(t)}InfiniteQuery`]=r}}}}}})());globalThis.browser?.tabs||globalThis.chrome?.tabs;var oL=()=>{let e=globalThis.browser?.runtime||globalThis.chrome?.runtime;if(!e)throw Error("Extension runtime is not available");return e},oN=async e=>oL().sendMessage(e.extensionId??null,e);let oD=nA({name:"error",initialState:{globalError:null},reducers:{setGlobalError:(e,t)=>{e.globalError=t.payload}}}),{setGlobalError:oF}=oD.actions;var oq=oD.reducer;ig("BackgroundClient");let oU=e=>async(t,r,n={extractData:!0,skipGlobalErrorHandler:!1})=>{if(t===i6)return{data:null};try{let i=await oN({name:`service/${e}`,body:{args:t}});if(i&&i.error&&!0!==n.skipGlobalErrorHandler&&r.dispatch(oF(i.error)),i&&i.data&&i.data.data&&!("cacheHit"in i.data)&&!1!==n.extractData)return{data:i.data.data};return i}catch(e){return{error:{status:"SEND_TO_BACKGROUND_ERROR",error:e.message}}}},oj=oM({baseQuery:oU("apiCall"),tagTypes:["RecentLabels","ProfileList","ProfileInfo","LabeledWallets","WalletMetadata","Groups","GroupDetail","Search"],endpoints:e=>({createSubOrg:e.mutation({query:({sessionPublicKey:e})=>({url:"/api/v1/user/turnkey/google-oauth",method:"POST",body:{sessionPublicKey:e}})}),getTurnkeySecret:e.query({query:()=>"/api/v1/user/turnkey/nonce",transformResponse:e=>e.nonce}),search:e.query({query:({keyword:e})=>`/api/v1/user/search?keyword=${e}`,keepUnusedDataFor:86400,providesTags:(e,t,r)=>[{type:"Search",id:r.keyword}]}),getRecentLabels:e.query({query:()=>"/api/v1/user/recent-labels?page=1&pageSize=10",transformResponse:e=>e.labels,keepUnusedDataFor:86400,providesTags:["RecentLabels"]}),getProfileList:e.query({query:({page:e=1,pageSize:t=20}={})=>({url:"/api/v1/twitter/me/labeled-twitter-profiles",params:{query:{page:e,pageSize:t}}}),keepUnusedDataFor:86400,providesTags:["ProfileList"]}),addProfileLabel:e.mutation({query:({twitterUsername:e,label:t})=>({method:"POST",url:`/api/v1/twitter/${e}/label`,body:{primaryLabel:t}}),invalidatesTags:(e,t,r)=>["RecentLabels","ProfileList",{type:"ProfileInfo",id:r.twitterUsername}]}),deleteProfileLabel:e.mutation({query:({twitterUsername:e})=>({method:"DELETE",url:"/api/v1/twitter/{twitterUsername}/label",params:{path:{twitterUsername:e}}}),invalidatesTags:(e,t,r)=>["RecentLabels","ProfileList",{type:"ProfileInfo",id:r.twitterUsername}]}),getTwitterInfo:e.query({query:({twitterUsername:e,allPositions:t,allCompactedLabels:r})=>e&&"null"!==e?{url:`/api/v2/twitter/${encodeURIComponent(e)}/info`,params:{query:{...t?{all_positions:"true"}:{},...r?{all_compacted_labels:"true"}:{}}}}:i6,keepUnusedDataFor:86400,providesTags:(e,t,r)=>[{type:"ProfileInfo",id:r.twitterUsername}]}),getTwitterInfos:e.query({query:({twitterUsernames:e})=>({url:"/api/v2/twitter/info/batch-query-light",method:"POST",body:{twitterUsernames:e}}),keepUnusedDataFor:86400}),getTwitterSmartFollowersCount:e.query({query:({twitterUsername:e})=>e&&"null"!==e?`/api/v1/twitter/${e}/smart-followers/count`:i6,keepUnusedDataFor:86400,transformResponse:e=>e?.totalCount??0}),getTwitterSmartFollowers:e.query({query:({twitterUsername:e})=>e&&"null"!==e?`/api/v1/twitter/${e}/smart-followers`:i6,keepUnusedDataFor:86400,transformResponse:e=>({totalCount:e?.totalCount??0,smartFollowers:e?.smartFollowers??[]})}),getTwitterUsernameHistory:e.query({query:({twitterUsername:e})=>e&&"null"!==e?`/api/v1/twitter/${e}/username-history`:i6,keepUnusedDataFor:86400}),getTwitterUsernameHistoryLive:e.query({query:({twitterUsername:e})=>e&&"null"!==e?`/api/v1/twitter/${e}/username-history-live`:i6,keepUnusedDataFor:0}),getTweetsWithCACache:e.query({query:({twitterHandle:e})=>`/api/v1/twitter/${e}/tweets-with-ca-cache`,keepUnusedDataFor:3600}),getTweetsWithCA:e.query({query:({twitterHandle:e})=>e&&"null"!==e?`/api/v1/twitter/${e}/tweets-with-ca`:i6,keepUnusedDataFor:3600}),getWalletMentionedTweets:e.query({query:({chain:e,address:t})=>`/api/v1/wallet/mentioned-tweets/${e}/${t}`,keepUnusedDataFor:3600}),getWalletLabels:e.query({query:({chain:e,wallets:t,excludeTokenCA:r,requestSource:n})=>({url:"/api/v2/wallet/metadata/batch-query",method:"POST",body:{wallets:t.map(t=>({chain:e??"SOLANA",address:t})),excludeTokenContractAddresses:r?[r]:void 0,requestSource:n,showMentionedTweets:!0}}),keepUnusedDataFor:86400}),getLabeledWallets:e.query({query:({page:e=1,pageSize:t=20}={})=>({url:"/api/v3/wallet/me/labeled-wallets",params:{query:{page:e,pageSize:t}}}),keepUnusedDataFor:86400,providesTags:["LabeledWallets"]}),getWalletMetadata:e.query({query:({chain:e,address:t})=>({url:`/api/v2/wallet/metadata/${e}/${t}`,params:{query:{showMentionedTweets:!0}},method:"GET"}),keepUnusedDataFor:86400,providesTags:(e,t,r)=>[{type:"WalletMetadata",id:r.address}]}),saveWalletMetadata:e.mutation({query:e=>({url:"/api/v2/wallet/metadata",method:"POST",body:e}),invalidatesTags:(e,t,r)=>[{type:"Search",id:r.address},{type:"WalletMetadata",id:r.address},"LabeledWallets","RecentLabels","Groups",...r.walletGroupIds?r.walletGroupIds.map(e=>({type:"GroupDetail",id:e})):[]]}),deleteWalletMetadata:e.mutation({query:({chain:e,address:t})=>({method:"DELETE",url:`/api/v1/wallet/metadata/${e}/${t}`}),invalidatesTags:(e,t,r)=>[{type:"WalletMetadata",id:r.address},"LabeledWallets","RecentLabels","Groups",...r.walletGroupIds?r.walletGroupIds.map(e=>({type:"GroupDetail",id:e})):[]]}),batchDeleteWalletMetadata:e.mutation({query:({wallets:e})=>({method:"DELETE",url:"/api/v1/wallet/metadata/batch",body:{wallets:e}}),invalidatesTags:(e,t,r)=>[...r.wallets.map(e=>({type:"WalletMetadata",id:e.address})),"LabeledWallets","RecentLabels","Groups"]}),updateWalletLabel:e.mutation({query:({address:e,primaryLabel:t,chain:r="SOLANA"})=>({method:"POST",url:"/api/v1/wallet/label",body:{chain:r,address:e,primaryLabel:t}}),invalidatesTags:(e,t,r)=>["RecentLabels","LabeledWallets",{type:"WalletMetadata",id:r.address},...r.groups?r.groups.map(e=>({type:"GroupDetail",id:e.id})):[]]}),deleteWalletLabel:e.mutation({query:({address:e,chain:t="SOLANA"})=>({method:"DELETE",url:"/api/v1/wallet/label/{chain}/{address}",params:{path:{chain:t,address:e}}}),invalidatesTags:(e,t,r)=>["RecentLabels","LabeledWallets",{type:"WalletMetadata",id:r.address},"Groups",...r.groups?r.groups.map(e=>({type:"GroupDetail",id:e.id})):[]]}),getAltWallets:e.query({query:({chain:e,address:t})=>`/api/v1/wallet/alt-wallets/${e}/${t}`,keepUnusedDataFor:86400,transformResponse:e=>e.altWallets}),getGroups:e.query({query:()=>"/api/v1/wallet-group/me/list",keepUnusedDataFor:86400,providesTags:["Groups"]}),getGroupDetail:e.query({query:({groupId:e,page:t=1,pageSize:r=20})=>({url:`/api/v2/wallet-group/${e}`,params:{query:{page:t,pageSize:r}}}),keepUnusedDataFor:86400,providesTags:(e,t,r)=>[{type:"GroupDetail",id:r.groupId}]}),createGroup:e.mutation({query:({name:e})=>({url:"/api/v1/wallet-group",method:"POST",body:{name:e}}),invalidatesTags:["Groups"]}),updateGroup:e.mutation({query:({groupId:e,name:t})=>({url:`/api/v1/wallet-group/${e}`,method:"PUT",body:{name:t}}),invalidatesTags:(e,t,r)=>[{type:"GroupDetail",id:r.groupId},"Groups","LabeledWallets","WalletMetadata"]}),updateGroupMembers:e.mutation({query:({groupId:e,walletsToRemove:t,walletsToAdd:r})=>({url:`/api/v1/wallet-group/${e}/update-members`,method:"PUT",body:{walletsToRemove:t,walletsToAdd:r}}),invalidatesTags:(e,t,r)=>["Groups",{type:"GroupDetail",id:r.groupId},"LabeledWallets",...r.walletsToRemove?r.walletsToRemove.map(e=>({type:"WalletMetadata",id:e.address})):[],...r.walletsToAdd?r.walletsToAdd.map(e=>({type:"WalletMetadata",id:e.address})):[]]}),deleteGroup:e.mutation({query:({groupId:e})=>({url:`/api/v1/wallet-group/${e}`,method:"DELETE"}),invalidatesTags:(e,t,r)=>["Groups","LabeledWallets",...r.wallets?r.wallets.map(e=>({type:"WalletMetadata",id:e.address})):[]]}),importLabels:e.mutation({query:({importWallets:e,importType:t})=>({url:"/api/v1/wallet/labels/import",method:"POST",body:{importWallets:e,importType:t}}),transformResponse:e=>e.successCount,invalidatesTags:["RecentLabels","LabeledWallets","WalletMetadata","Groups","GroupDetail"]}),getTokenSummary:e.query({query:({tokenAddress:e,chain:t})=>({url:`/api/v1/agent/report/${e}`,method:"GET",params:{query:{chain:t}}}),transformResponse:e=>e}),updateTokenSummary:e.mutation({query:({tokenAddress:e})=>({url:"/api/v1/agent/report/generate",method:"POST",body:{tokenAddress:e}}),transformResponse:e=>e}),updateTwitterProfileMetadata:e.mutation({query:({twitterUsername:e,position:t,positionCN:r,compactLabel:n,compactLabelCN:i})=>({url:"/api/v1/admin/update-twitter-profile-metadata",method:"POST",body:{twitterProfileList:[{twitterUsername:e,...void 0!==t?{position:t}:{},...void 0!==r?{positionCN:r}:{},...void 0!==n?{compactLabel:n}:{},...void 0!==i?{compactLabelCN:i}:{}}]}}),invalidatesTags:(e,t,r)=>[{type:"ProfileInfo",id:r.twitterUsername},"ProfileList"]}),getIsKol:e.query({query:({twitterUsername:e})=>e&&"null"!==e?`/api/v1/admin/is-kol?twitterUsername=${encodeURIComponent(e)}`:i6,keepUnusedDataFor:60}),updateKolList:e.mutation({query:({twitterUsernames:e})=>({url:"/api/v1/admin/update-kol-list",method:"POST",body:{twitterUsernames:e}})}),removeKolFromList:e.mutation({query:({twitterUsernames:e})=>({url:"/api/v1/admin/remove-kol-from-list",method:"POST",body:{twitterUsernames:e}})}),updateWalletMetadata:e.mutation({query:({chain:e,walletAddress:t,primaryLabel:r,twitterUsername:n,tags:i})=>({url:"/api/v1/admin/update-wallet-metadata",method:"POST",body:{walletMetadataList:[{chain:e,walletAddress:t,...void 0!==r?{primaryLabel:r}:{},...void 0!==n?{twitterUsername:n}:{},...void 0!==i?{tags:i}:{}}]}}),invalidatesTags:(e,t,r)=>[{type:"WalletMetadata",id:r.walletAddress},"RecentLabels","LabeledWallets"]}),postTwitterTweetsWithCA:e.mutation({query:({tweets:e})=>({url:"/api/v1/twitter/tweets-with-ca",method:"POST",body:{tweets:e}}),extraOptions:{skipGlobalErrorHandler:!0}}),getDirectUploadUrl:e.mutation({query:()=>({url:"/api/v1/cloudflare/direct-upload",method:"POST"})}),postTwitterProfileMetadata:e.mutation({query:({twitterHandle:e})=>({url:"/api/v1/twitter/update-twitter-profile-metadata",method:"POST",body:{twitterHandle:e},extraOptions:{skipGlobalErrorHandler:!0}})}),getTwitterUserBioHistory:e.query({query:({twitterUsername:e,forceRefresh:t})=>e&&"null"!==e?{url:`/api/v1/twitter/${e}/bio-history`,params:{query:{forceRefresh:t}}}:i6,keepUnusedDataFor:86400}),getOpenPositionsOfWallet:e.query({query:({address:e,tokenMint:t})=>({url:"/api/v2/trading/wallet/SOLANA/{address}/open-positions",params:{path:{address:e},query:{tokenMint:t}}}),keepUnusedDataFor:0}),getOpenPositions:e.query({query:({wallets:e})=>({url:"/api/v1/trading/wallets/open-positions",method:"POST",body:{wallets:e}})}),getTradingWallets:e.query({query:()=>"/api/v1/trading/wallets"}),getSingleTradingWallet:e.query({query:({walletAddress:e,chain:t})=>`/api/v1/trading/wallet/${t}/${e}`}),updateTradingWallet:e.mutation({query:({walletAddress:e,chain:t,name:r,status:n})=>({url:`/api/v1/trading/wallet/${t}/${e}`,method:"PUT",body:{name:r,status:n}})}),deleteTradingWallet:e.mutation({query:({walletAddress:e,chain:t})=>({url:`/api/v1/trading/wallet/${t}/${e}`,method:"DELETE"})}),createTradingWallet:e.mutation({query:({walletAddress:e,type:t,chain:r})=>({url:"/api/v1/trading/wallet",method:"POST",body:{address:e,type:t,chain:r}})}),getTranslate:e.query({query:({texts:e,from:t,to:r})=>({url:"/api/v1/agent/translate",method:"POST",body:{texts:e,from:t,to:r}})})})}),{useCreateSubOrgMutation:oW,useSearchQuery:oK,useLazyGetWalletLabelsQuery:oz,useGetRecentLabelsQuery:oV,useGetLabeledWalletsQuery:oH,useGetWalletMetadataQuery:oG,useLazyGetWalletMetadataQuery:o$,useSaveWalletMetadataMutation:oX,useDeleteWalletMetadataMutation:oZ,useBatchDeleteWalletMetadataMutation:oQ,useGetGroupsQuery:oY,useGetGroupDetailQuery:oJ,useCreateGroupMutation:o1,useUpdateGroupMutation:o0,useDeleteGroupMutation:o2,useImportLabelsMutation:o6,useGetTwitterInfoQuery:o4,useLazyGetTwitterInfoQuery:o5,useLazyGetTwitterInfosQuery:o8,useGetProfileListQuery:o3,useDeleteProfileLabelMutation:o9,useAddProfileLabelMutation:o7,useGetTwitterSmartFollowersCountQuery:ae,useGetTwitterSmartFollowersQuery:at,useGetTwitterUsernameHistoryQuery:ar,useGetTwitterUsernameHistoryLiveQuery:an,useLazyGetTwitterUsernameHistoryLiveQuery:ai,useUpdateWalletLabelMutation:ao,useDeleteWalletLabelMutation:aa,useGetAltWalletsQuery:as,useLazyGetAltWalletsQuery:au,useUpdateGroupMembersMutation:al,useGetTokenSummaryQuery:ac,useLazyGetTokenSummaryQuery:ad,useUpdateTokenSummaryMutation:ap,useGetTweetsWithCACacheQuery:af,useGetTweetsWithCAQuery:ah,useLazyGetTweetsWithCAQuery:am,usePostTwitterTweetsWithCAMutation:ag,useUpdateTwitterProfileMetadataMutation:ay,useGetIsKolQuery:ab,useUpdateKolListMutation:a_,useRemoveKolFromListMutation:aw,useUpdateWalletMetadataMutation:av,useLazyGetWalletMentionedTweetsQuery:ak,useGetDirectUploadUrlMutation:aA,usePostTwitterProfileMetadataMutation:aS,useLazyGetTwitterUserBioHistoryQuery:aI,useGetOpenPositionsOfWalletQuery:aE,useGetOpenPositionsQuery:aT,useGetTradingWalletsQuery:ax,useLazyGetTradingWalletsQuery:aP,useGetSingleTradingWalletQuery:aO,useLazyGetSingleTradingWalletQuery:aB,useUpdateTradingWalletMutation:aC,useCreateTradingWalletMutation:aR,useDeleteTradingWalletMutation:aM,useLazyGetTranslateQuery:aL}=oj,aN=oM({reducerPath:"dexscreenerApi",baseQuery:oU("dexscreenerCall"),endpoints:e=>({getPoolInfo:e.query({query:({chainId:e="solana",pairId:t})=>`/latest/dex/pairs/${e}/${t}`,transformResponse:e=>e.pair,keepUnusedDataFor:86400}),getPairs:e.query({query:({chainId:e="solana",tokenAddresses:t})=>({url:"/tokens/v1/{chainId}/{tokenAddresses}",params:{path:{chainId:e,tokenAddresses:t.join()}}}),keepUnusedDataFor:0})})}),{useGetPoolInfoQuery:aD}=aN,aF=oM({reducerPath:"jitoApi",baseQuery:oU("jitoCall"),endpoints:e=>({queryTransaction:e.query({query:({transactionId:e})=>`/bundles/transaction/${e}`,transformResponse:e=>{if(!Array.isArray(e)||0===e.length)return{success:!1,error:"Unexpected response format"};let t=e[0]?.bundle_id;return t?{success:!0,bundleId:t}:{success:!1,error:"No bundle_id found in response"}},keepUnusedDataFor:86400}),queryBundle:e.query({query:({bundleId:e})=>`/bundles/bundle/${e}`,transformResponse:e=>{if(!Array.isArray(e)||0===e.length)return{success:!1,error:"Unexpected bundle details response format"};let t=e[0];return{success:!0,bundleDetails:t}}})})}),{useQueryTransactionQuery:aq,useQueryBundleQuery:aU,useLazyQueryBundleQuery:aj,useLazyQueryTransactionQuery:aW}=aF,aK=oM({reducerPath:"jupiterApi",baseQuery:oU("jupiterCall"),tagTypes:["Balance","Order"],endpoints:e=>({getBalance:e.query({query:({address:e})=>({url:`/ultra/v1/balances/${e}`,method:"GET"}),keepUnusedDataFor:86400,providesTags:["Balance"]}),getOrder:e.query({query:({inputMint:e,outputMint:t,amount:r,wallet:n})=>`/ultra/v1/order?amount=${r}&inputMint=${e}&outputMint=${t}&taker=${n}`,keepUnusedDataFor:10,providesTags:["Order"]}),executeOrder:e.mutation({query:({signedTransaction:e,requestId:t})=>({url:"/ultra/v1/execute",method:"POST",body:{signedTransaction:e,requestId:t}}),invalidatesTags:["Balance","Order"]}),getPrices:e.query({query:({tokenMints:e})=>({url:"/price/v3",method:"GET",params:{query:{ids:e.join()}}}),keepUnusedDataFor:5})})}),{useGetBalanceQuery:az,useGetPricesQuery:aV}=aK;function aH(e){return new Promise(t=>setTimeout(t,e))}async function aG(e,t={}){let{maxRetries:r=3,initialDelay:n=1e3,maxDelay:i=5e3,backoffMultiplier:o=2,shouldRetry:a=()=>!0,onRetry:s}=t,u=null;for(let t=1;t<=r;t++)try{return await e()}catch(l){if(!a(u=l instanceof Error?l:Error(String(l)),t)||t>=r)throw u;let e=Math.min(n*Math.pow(o,t-1),i);s?.(u,t,e),await aH(e)}throw u||Error("Retry failed")}let a$={SOLANA:"501",BSC:"56",BASE:"8453",SUI:"784"};function aX(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}let aZ=aX();function aQ(e){let t=e?.data?.code||e?.code,r=e?.error?.status;return"50011"===t||429===r||"429"===r}let aY=0,aJ=0,a1=new Map,a0=8,a2=Date.now();async function a6(){for(;;){let e=Date.now();if(e-a2>=500&&(a0=8,a2=e),a0>0){a0-=1;return}let t=Math.max(1,500-(e-a2));await aH(t)}}async function a4(e,t,r=5){let n=t.url,i=Date.now(),o=a1.get(n);if(o&&o.expiry>i)return{data:o.data,error:o.error};let a=0,s={...t.headers||{},devid:aZ,accept:"application/json, text/plain, */*","accept-language":"en-US,en;q=0.9",referer:"https://web3.okx.com/",origin:"https://web3.okx.com","cache-control":"no-cache",pragma:"no-cache"};for(;a<r;){let r=Date.now();aJ>r&&await aH(aJ-r),await a6();let i=aY+400-Date.now();i>0&&await aH(i),aY=Date.now();let o=await e({url:n,method:t.method||"GET",headers:s}),u=aQ(o)||aQ(o?.data);if(!u)return a1.set(n,{data:o.data,error:o.error,expiry:Date.now()+(/bar=1m/.test(n)?6e4:/bar=5m/.test(n)?9e4:/bar=1Dutc/.test(n)?3e5:/\/v1\/dx\/market\/v2\/(token\/overview|latest\/info)/.test(n)?3e4:6e4)}),o;let l=Math.min(3e3,400*Math.pow(2,a))+Math.floor(400*Math.random());1===a&&(aZ=aX()),aJ=Date.now()+l,await aH(l),a+=1}return await e({url:n,method:t.method||"GET",headers:s})}let a5={"1s":3e5,"1m":18e6,"5m":9e7,"1Dutc":2592e7};function a8(e,t,r){let n=[],i=e,o=(e,r)=>{let o=a5[e];for(let a=0;a<r&&i<t;a++){let r=Math.min(i+o,t);n.push({bar:e,before:i,after:r}),i=r}};if(r){o("1m",5);let e=Math.max(0,t-i);if(e>0){let t=Math.min(4,Math.ceil(e/a5["1Dutc"]));o("1Dutc",t)}return n}o("1m",5);let a=i;if(o("5m",3),a<t){let e=a,r=t-a<=a5["1Dutc"];if(r){let r=Math.min(e+a5["1Dutc"],t);n.push({bar:"1Dutc",before:e,after:r})}else for(;e<t;){let r=Math.min(e+a5["1Dutc"],t);n.push({bar:"1Dutc",before:e,after:r}),e=r}}return n}let a3=oM({reducerPath:"okxApi",baseQuery:oU("okxCall"),endpoints:e=>({getTokenInfo:e.query({async queryFn({chain:e,chainId:t,tokenContractAddress:r},n,i,o){try{let n=t||a$[(e??"").toUpperCase()]||a$.SOLANA,i=`/priapi/v1/dx/market/v2/token/overview?chainId=${encodeURIComponent(n)}&tokenContractAddress=${encodeURIComponent(r)}`,a=`/priapi/v1/dx/market/v2/latest/info?chainId=${encodeURIComponent(n)}&tokenContractAddress=${encodeURIComponent(r)}`,[s,u]=await Promise.all([a4(o,{url:i}),a4(o,{url:a})]);if(s?.error)return{error:s.error};if(u?.error)return{error:u.error};let l=s?.data,c=u?.data;if(!l?.data||!c?.data)return{error:{status:"PARSE_ERROR",error:"Invalid OKX response structure"}};if(0!==l.code||0!==c.code)return{error:{status:"OKX_API_ERROR",error:l.error_message||l.msg||c.error_message||c.msg||"Unknown OKX error"}};let d={chainInfo:{chainName:l.data.basicInfo?.chainName},contractAddress:l.data.basicInfo?.tokenContractAddress||r,symbol:c.data.tokenSymbol,name:c.data.tokenName,volume:c.data.volume,market:{circulatingSupply:c.data.circulatingSupply,marketCap:c.data.marketCap,maxSupply:l.data.marketInfo?.maxSupply,priceChange24H:c.data.change,totalLiquidity:c.data.liquidity,holders:c.data.holders,price:c.data.price,fullyDilutedValuation:l.data.marketInfo?.fdv},social:{description:l.data.socialMedia?.description||"",discord:l.data.socialMedia?.discord,telegram:l.data.socialMedia?.telegram,twitter:l.data.socialMedia?.twitter}},p=l.data.basicInfo?.isMeme==="1";return p&&l.data.memeInfo&&(d.createTime=l.data.memeInfo.createTime,d.creatorAddress=l.data.memeInfo.creatorAddress,d.volume=l.data.memeInfo.volume),{data:d}}catch(e){return{error:e}}},extraOptions:{extractData:!1},keepUnusedDataFor:300}),getPortfolio:e.mutation({query:({address:e})=>{let t=aX();return{url:"/priapi/v2/wallet/asset/profile/all/explorer",method:"POST",headers:{"content-type":"application/json",devid:t},body:{userUniqueId:"",hideValueless:!0,address:e,forceRefresh:!0,page:1,limit:50,chainIndexes:[501]}}},extraOptions:{skipGlobalErrorHandler:!0},transformResponse:e=>e}),getCalledPrice:e.query({async queryFn({chainId:e="501",address:t,tweetTime:r},n,i,o){let a="number"==typeof r?r:new Date(r).getTime();Date.now();let s=(r,n,i)=>`/priapi/v5/dex/token/market/history-dex-token-hlc-candles?chainId=${encodeURIComponent(e)}&address=${encodeURIComponent(t)}&before=${Math.floor(n)}&after=${Math.floor(i)}&bar=${encodeURIComponent(r)}&limit=300`,u={TIMESTAMP:0,HIGH:2},l=async(e,t,r)=>{let n=await a4(o,{url:s(e,t,r)});if(n?.error)return{data:[],error:n.error};if((n?.data?.code??n?.code)==="51001")return{data:[],noData:!0};let i=n?.data??n;return{data:i?.data??[]}};try{let{data:e}=await l("1m",a-6e4,a+6e4);if(e&&e.length>0){let t=e[e.length-1],r=e.length>=2?e[e.length-2]:null,n=null,i=Number.POSITIVE_INFINITY;for(let e of r?[r,t]:[t]){let t=Number(e[u.TIMESTAMP]);if(!Number.isFinite(t))continue;let r=Math.abs(t-a);r<i&&(n=e,i=r)}if(!n||i>6e4)return{data:{calledPrice:"-1"}};let o=n[u.HIGH]||"0";return{data:{calledPrice:o}}}return{data:{calledPrice:"-1"}}}catch(e){return{error:e}}},extraOptions:{extractData:!1},keepUnusedDataFor:300}),getAthGivenCalled:e.query({async queryFn({chainId:e="501",address:t,tweetTime:r,calledPrice:n},i,o,a){let s="number"==typeof r?r:new Date(r).getTime(),u=Date.now(),l=(r,n,i)=>`/priapi/v5/dex/token/market/history-dex-token-hlc-candles?chainId=${e}&address=${t}&before=${n}&after=${i}&bar=${r}&limit=300`,c=e=>e.reduce((e,t)=>{let r=parseFloat(t[2]);return Number.isFinite(r)&&r>e?r:e},0),d=0,p=async(e,t,r)=>{let n=Date.now(),i=Math.max(0,300-(n-d));i>0&&await aH(i),d=Date.now();let o=new AbortController,s=setTimeout(()=>o.abort(),1e4);try{let n=await a4(a,{url:l(e,t,r)});if(n?.error)return{data:[],error:n.error};if((n?.data?.code??n?.code)==="51001")return{data:[],noData:!0};let i=n?.data??n;return{data:i?.data??[]}}finally{clearTimeout(s)}};try{let e=s-6e4,t=s+6e4,r=await p("1m",t,e),i=0;r?.data&&r.data.length>0&&(i=Math.max(i,c(r.data)));let o=a8(s,u,u-s>31536e6),a=o.filter(r=>{if("1m"!==r.bar)return!0;let n=!(r.before<=e&&r.after>=t);return n}),l=0,d=async()=>{for(;l<a.length;){let e=l++,t=a[e],{data:r}=await p(t.bar,t.before,t.after);if(r&&r.length>0){let e=c(r);e>i&&(i=e)}}},f=[];for(let e=0;e<1;e++)f.push(d());await Promise.all(f);let h=parseFloat(n??"0");return Number.isFinite(h)&&(i=Math.max(i,h)),{data:{highestPrice:(i||0).toString()}}}catch(e){return{error:e}}},extraOptions:{extractData:!1},keepUnusedDataFor:300}),getHistoryDexTokenHlcCandles:e.query({async queryFn({chainId:e="501",address:t,tweetTime:r},n,i,o){let a="number"==typeof r?r:new Date(r).getTime(),s=Date.now(),u=(r,n,i)=>`/priapi/v5/dex/token/market/history-dex-token-hlc-candles?chainId=${e}&address=${t}&before=${n}&after=${i}&bar=${r}&limit=300`,l={TIMESTAMP:0,HIGH:2},c=e=>e.reduce((e,t)=>{let r=parseFloat(t[l.HIGH]);return r>e?r:e},0),d=e=>e?.length?e[e.length-1][l.HIGH]:"0",p=async(e,t,r)=>{let n=u(e,t,r),i=await a4(o,{url:n});if(i?.error)return{data:[],error:i.error};let a=i?.data?.code??i?.code;if("51001"===a)return{data:[],noData:!0};let s=i?.data??i,l=s?.data??[];return{data:l}};try{let e=a8(a,s,s-a>31536e6),t="0",r=0,n=!1,i=null;for(let o of e){let e=i??o.before,{data:a}=await p(o.bar,e,o.after);if(a&&a.length>0){n||"1m"!==o.bar||(t=d(a),n=!0);let e=c(a);e>r&&(r=e)}if(a&&a.length>0&&a.length<300){let e=Number(a[0][l.TIMESTAMP]);i=Number.isFinite(e)?e:null}else i=null}let o=parseFloat(t??"0");return Number.isFinite(o)&&(r=Math.max(r,o)),{data:{highestPrice:(r||0).toString(),calledPrice:t??"0"}}}catch(e){return{error:e}}},extraOptions:{extractData:!1},keepUnusedDataFor:300})})}),{useGetTokenInfoQuery:a9,useLazyGetTokenInfoQuery:a7,useGetPortfolioMutation:se,useGetHistoryDexTokenHlcCandlesQuery:st,useLazyGetHistoryDexTokenHlcCandlesQuery:sr,useGetCalledPriceQuery:sn,useLazyGetCalledPriceQuery:si,useGetAthGivenCalledQuery:so,useLazyGetAthGivenCalledQuery:sa}=a3,ss=oM({reducerPath:"pumpApi",baseQuery:oU("pumpCall"),endpoints:e=>({getCoinInfo:e.query({query:({mint:e})=>`/coins/${e}`,transformResponse:e=>e,keepUnusedDataFor:86400})})}),{useGetCoinInfoQuery:su}=ss;ig("account-slice");let sl={user:null,session:null,turnkeyAccount:null,ek:null,defaultWalletAddress:null,walletAddresses:null,trial:!1},sc=e=>e?.createdAt&&new Date(e.createdAt)>new Date(Date.now()-2592e5),sd=nA({name:"account",initialState:sl,reducers:{reset:e=>{let t=e.walletAddresses,r=e.defaultWalletAddress;Object.assign(e,sl),e.walletAddresses=t,e.defaultWalletAddress=r},resetAllAccountState:()=>sl,setAccount:(e,t)=>{if(t.payload?.user){let r={...t.payload.user};r.createdAt instanceof Date&&(r.createdAt=r.createdAt.toISOString()),e.user=r}else e.user=null;e.session=t.payload?.session||null},setSession:(e,t)=>{e.session=t.payload},setTrial:(e,t)=>{e.trial=t.payload},setTurnkeyAccount:(e,t)=>{e.turnkeyAccount={...e.turnkeyAccount||{},...t.payload,expiry:Date.now()+2592e5}},setEncryptedEmbeddedKey:(e,t)=>{e.ek=t.payload},setDefaultWalletAddress:(e,t)=>{e.defaultWalletAddress=t.payload},setWalletAddresses:(e,t)=>{e.walletAddresses=t.payload},syncSingleTradingWallet:(e,t)=>{if(!e.walletAddresses)return;let r=e.walletAddresses.findIndex(e=>e.address===t.payload.address);if(-1!==r){let n=e.walletAddresses[r];e.walletAddresses[r]={...n,...t.payload}}}},selectors:{selectIsCreatedIn3Days:rJ([e=>e.user],sc),selectIsActivated:rJ([e=>e.user?.isActivated,e=>sc(e.user),e=>e.trial],(e,t,r)=>e||t&&r)}}),{selectIsActivated:sp,selectIsCreatedIn3Days:sf}=sd.selectors,{reset:sh,resetAllAccountState:sm,setAccount:sg,setSession:sy,setTrial:sb,setTurnkeyAccount:s_,setEncryptedEmbeddedKey:sw,setDefaultWalletAddress:sv,setWalletAddresses:sk,syncSingleTradingWallet:sA}=sd.actions;var sS=sd.reducer;let sI=nA({name:"cachedProfiles",initialState:{},reducers:{setCachedProfile:(e,t)=>{sO(e,[t.payload])},setCachedProfiles:(e,t)=>{sO(e,t.payload)},clearCachedProfile:(e,t)=>{e[t.payload]&&delete e[t.payload]}}}),{setCachedProfile:sE,setCachedProfiles:sT,clearCachedProfile:sx}=sI.actions;var sP=sI.reducer;function sO(e,t){let r=Date.now();Object.keys(e).forEach(t=>{e[t].__ts<r-432e5&&delete e[t]}),t.forEach(t=>{e[t.twitterUsername]={userDefinedLabel:t.userDefinedLabel,position:t.position,__ts:r}})}ig("cachedTokenTranslate");let sB=nA({name:"cachedTokenTranslate",initialState:{},reducers:{setCachedTranslations:(e,t)=>{let r=Date.now();Object.keys(e).forEach(t=>{e[t].__ts<r-108e5&&delete e[t]}),Object.keys(t.payload).forEach(n=>{e[n]={to:t.payload[n],__ts:r}})},clearCachedTranslation:(e,t)=>{e[t.payload]&&delete e[t.payload]},clearAllCachedTranslations:e=>{Object.keys(e).forEach(t=>{delete e[t]})}}}),{setCachedTranslations:sC,clearCachedTranslation:sR,clearAllCachedTranslations:sM}=sB.actions;var sL=sB.reducer;ig("cachedWallets");let sN=nA({name:"cachedWallets",initialState:{},reducers:{setCachedWallets:(e,t)=>{let r=Date.now();Object.keys(e).forEach(t=>{e[t].__ts<r-432e5&&delete e[t]}),Object.keys(t.payload).forEach(n=>{let i=t.payload[n];e[n]={primaryLabelSource:i.primaryLabelSource,primaryLabel:i.primaryLabel,publicLabelSource:i.publicLabelSource,publicLabel:i.publicLabel,userDefinedLabel:i.userDefinedLabel,groups:i.groups,tags:i.tags,address:i.address,twitterUsername:i.twitterUsername,twitterProfileLabel:i.twitterProfileLabel,tweetMentionsCount:i.tweetMentionsCount,primaryDomain:i.primaryDomain,tokenStats:i.tokenStats,__ts:r}})},clearCachedWallet:(e,t)=>{e[t.payload]&&delete e[t.payload]}}}),{setCachedWallets:sD,clearCachedWallet:sF}=sN.actions;var sq=sN.reducer;let sU=nA({name:"history",initialState:{history:[]},reducers:{setHistory:(e,t)=>{e.history=t.payload}}}),{setHistory:sj}=sU.actions;var sW=sU.reducer;ig("import-labels-slice");let sK=nA({name:"importLabels",initialState:{expiry:null},reducers:{setIsSyncing:e=>{e.expiry=Date.now()+36e5}}}),{setIsSyncing:sz}=sK.actions;var sV=sK.reducer;let sH=nA({name:"lastAccount",initialState:{email:void 0,name:void 0,loginMethod:void 0,lastLoginAt:void 0},reducers:{setLastAccount:(e,t)=>{t.payload?(e.email=t.payload.email,e.name=t.payload.name,e.loginMethod=t.payload.loginMethod,e.lastLoginAt=t.payload.lastLoginAt||new Date().toISOString()):(e.email=void 0,e.name=void 0,e.loginMethod=void 0,e.lastLoginAt=void 0)}}}),{setLastAccount:sG}=sH.actions;var s$=sH.reducer;ig("csui-utils-binancewalletHosts");let sX=e=>{let t=location.hostname;return e&&(t=new URL(e).hostname),"web3.binance.com"===t};ig("csui-utils-hosts");let sZ=e=>{let t=location.hostname;return e&&(t=new URL(e).hostname),"x.com"===t},sQ=e=>{let t=location.hostname;return e&&(t=new URL(e).hostname),"gmgn.ai"===t},sY=e=>{let t=location.hostname;return e&&(t=new URL(e).hostname),"axiom.trade"===t},sJ=e=>{let t=location.hostname;return e&&(t=new URL(e).hostname),"debot.ai"===t},s1=e=>{let t=location.hostname;return e&&(t=new URL(e).hostname),"pump.fun"===t},s0=ig("navigation-route-slice"),s2=nA({name:"navigationRoute",initialState:{method:null,path:null,from:null,activeTab:{url:null}},reducers:{setMethod:(e,t)=>{e.method=t.payload},setNavigationRoute:(e,t)=>{e.path=t.payload.path||null,e.from=t.payload.from||null},setActiveTab:(e,t)=>{if(e.activeTab?.url){let r=new URL(e.activeTab.url),n=new URL(t.payload.url),i=r.origin===n.origin&&r.pathname===n.pathname;if(i&&sQ(n.href)&&r.search!==n.search){s0.debug(`GMGN search params changed: ${r.search} \u2192 ${n.search}`),e.activeTab=t.payload;return}}e.activeTab=t.payload}}}),{setMethod:s6,setNavigationRoute:s4,setActiveTab:s5}=s2.actions;var s8=s2.reducer;let s3={profiles:[],page:1,hasMore:!0,totalCount:0},s9=nA({name:"profileList",initialState:s3,reducers:{resetProfileList:()=>s3,setProfiles:(e,t)=>{let r=new Set;e.profiles=t.payload.filter(e=>!r.has(e.twitterId)&&(r.add(e.twitterId),!0))},appendProfiles:(e,t)=>{t.payload.forEach(t=>{e.profiles.some(e=>e.twitterId===t.twitterId)||e.profiles.push(t)})},setPage:(e,t)=>{e.page=t.payload},setHasMore:(e,t)=>{e.hasMore=t.payload},setTotalCount:(e,t)=>{e.totalCount=t.payload}}}),{resetProfileList:s7,setProfiles:ue,appendProfiles:ut,setPage:ur,setHasMore:un,setTotalCount:ui}=s9.actions;var uo=s9.reducer;let ua={activeProfile:null},us=nA({name:"profile",initialState:ua,reducers:{reset:()=>ua,setActiveProfile:(e,t)=>{e.activeProfile=t.payload||null},updateProfileWallet:(e,t)=>{if(!e.activeProfile||!e.activeProfile.wallets||!e.activeProfile.wallets.length)return;let r=e.activeProfile.wallets.findIndex(e=>e.address===t.payload.address);-1!==r&&(e.activeProfile.wallets[r]={...e.activeProfile.wallets[r],...t.payload})}}}),{reset:uu,setActiveProfile:ul,updateProfileWallet:uc}=us.actions;var ud=us.reducer;let up=nA({name:"search",initialState:{keyword:"",checkedTab:"wallets"},reducers:{setKeyword:(e,t)=>{e.keyword=t.payload},setCheckedTab:(e,t)=>{e.checkedTab=t.payload}}}),{setKeyword:uf,setCheckedTab:uh}=up.actions;var um=up.reducer;ig("setting-slice");let ug={twitter:!0,gmgn:!0,solscan:!0,axiom:!0,photon:!0,debot:!0,padre:!0,autoImport:void 0,trading:!0,summary:!1,"twitter-report":!0,admin:!1,pump:!0,translate:!0,binancewallet:!0},uy={twitter:!0,gmgn:!0,solscan:!0,axiom:!0,photon:!0,debot:!0,padre:!0,autoImport:!0,trading:!1,summary:!0,"twitter-report":!0,admin:!0,pump:!0,translate:!0,binancewallet:!0},ub={isOpen:!1,isSellBySol:!1,showAllPositions:!1,hideLow:!1,totalValueInUsd:0},u_=nA({name:"setting",initialState:{labelType:"primary",labelTextStyle:"compact",labelTool:!0,prioritizeFrontrun:!1,theme:"dark",platformTheme:{twitter:"dark",axiom:"dark",gmgn:"dark",solscan:"dark",photon:"dark",debot:"dark",padre:"dark",pump:"dark",binancewallet:"dark"},language:"en",translateSize:"compact",translateIntervalInSeconds:10,altWalletLevel:"low",twitterSmartFollowersMinimize:!1,remoteFeatureFlags:ug,userFeatureFlags:uy,tradingPanelSettings:{sidepanel:ub,axiom:ub,gmgn:ub},tradingPresets:{solQuickSets:[.01,.1,1,10],solSellQuickSets:[.01,.1,1,10],percentageQuickSets:[1,25,50,100],solPreset:{buy:{slippage:20,priorityFeeSol:.001,bribeFeeSol:.001,mev:!1},sell:{slippage:40,priorityFeeSol:.001,bribeFeeSol:.001,mev:!1}}},overrideTranslationSettings:!1},reducers:{setLabelType:(e,t)=>{e.labelType=t.payload},setTheme:(e,t)=>{e.theme=t.payload},setPlatformTheme:(e,t)=>{let{platform:r,theme:n}=t.payload,i={...e.platformTheme||{}};n!==i[r]&&(i[r]=n,e.platformTheme=i)},setLanguage:(e,t)=>{e.language=t.payload},setTranslateSize:(e,t)=>{e.translateSize=t.payload},toggleOverrideTranslationSettings:e=>{e.overrideTranslationSettings=!e.overrideTranslationSettings},toggleTwitterSmartFollowersMinimize:e=>{e.twitterSmartFollowersMinimize=!e.twitterSmartFollowersMinimize},setRemoteFeatureFlags:(e,t)=>{e.remoteFeatureFlags=t.payload},setUserFeatureFlag:(e,t)=>{e.userFeatureFlags[t.payload.platform]=t.payload.enabled},setAltWalletLevel:(e,t)=>{e.altWalletLevel=t.payload},setLabelTextStyle:(e,t)=>{e.labelTextStyle=t.payload},toggleLabelTool:e=>{e.labelTool=!e.labelTool},setPrioritizeFrontrun:(e,t)=>{e.prioritizeFrontrun=t.payload},setTranslateIntervalInSeconds:(e,t)=>{e.translateIntervalInSeconds=t.payload},setTradingPanelSettings:(e,t)=>{let{platform:r,settings:n}=t.payload;e.tradingPanelSettings[r]={...e.tradingPanelSettings[r],...n}},setTradingPresets:(e,t)=>{e.tradingPresets=t.payload}},selectors:{selectEnabledFeatures:rJ([e=>e.remoteFeatureFlags,e=>e.userFeatureFlags],(e,t)=>{let r={};for(let n in ug){let i=!1!==(void 0===e||void 0===e[n]?ug[n]:e[n])&&!1!==(void 0===t||void 0===t[n]?uy[n]:t[n]);r[n]=i}return r}),selectShowTranslate:rJ([e=>e.language,e=>e.overrideTranslationSettings],(e,t)=>!1!==t)}}),{selectEnabledFeatures:uw,selectShowTranslate:uv}=u_.selectors,{setLabelType:uk,setLabelTextStyle:uA,toggleLabelTool:uS,setPrioritizeFrontrun:uI,setTheme:uE,setPlatformTheme:uT,setLanguage:ux,setTranslateSize:uP,setRemoteFeatureFlags:uO,setAltWalletLevel:uB,setUserFeatureFlag:uC,setTradingPanelSettings:uR,setTradingPresets:uM,toggleTwitterSmartFollowersMinimize:uL,setTranslateIntervalInSeconds:uN,toggleOverrideTranslationSettings:uD}=u_.actions;var uF=u_.reducer;let uq={wallets:[],page:1,hasMore:!0,totalCount:0},uU=nA({name:"walletList",initialState:uq,reducers:{resetWalletList:()=>uq,setWallets:(e,t)=>{let r=new Set;e.wallets=t.payload.filter(e=>!r.has(e.address)&&(r.add(e.address),!0))},appendWallets:(e,t)=>{t.payload.forEach(t=>{e.wallets.some(e=>e.address===t.address)||e.wallets.push(t)})},setWalletPage:(e,t)=>{e.page=t.payload},setWalletHasMore:(e,t)=>{e.hasMore=t.payload},setWalletTotalCount:(e,t)=>{e.totalCount=t.payload}}}),{resetWalletList:uj,setWallets:uW,appendWallets:uK,setWalletPage:uz,setWalletHasMore:uV,setWalletTotalCount:uH}=uU.actions;var uG=uU.reducer;let u$=nA({name:"walletMentionModal",initialState:{isOpen:!1,data:null,address:void 0,theme:void 0},reducers:{openWalletMentionModal:(e,t)=>{e.isOpen=!0,e.data=t.payload.data,e.address=t.payload.address,e.theme=t.payload.theme},closeWalletMentionModal:e=>{e.isOpen=!1,e.data=null,e.address=void 0,e.theme=void 0}}}),{openWalletMentionModal:uX,closeWalletMentionModal:uZ}=u$.actions;var uQ=u$.reducer;let uY={activeWallet:null,importLabelsSuccess:!1},uJ=nA({name:"wallet",initialState:uY,reducers:{reset:()=>uY,setActiveWallet:(e,t)=>{e.activeWallet=t.payload},setImportLabelsSuccess:(e,t)=>{e.importLabelsSuccess=t.payload}}}),{reset:u1,setActiveWallet:u0,setImportLabelsSuccess:u2}=uJ.actions;var u6=uJ.reducer,u4={},u5={};Object.defineProperty(u5,"__esModule",{value:!0});var u8={};Object.defineProperty(u8,"__esModule",{value:!0}),u8.default=function(e){return{getItem:function(t){return new Promise(function(r,n){chrome.storage[e].get(t,function(e){null==chrome.runtime.lastError?r(e[t]):n()})})},removeItem:function(t){return new Promise(function(r,n){chrome.storage[e].remove(t,function(){null==chrome.runtime.lastError?r():n()})})},setItem:function(t,r){return new Promise(function(n,i){var o;chrome.storage[e].set((t in(o={})?Object.defineProperty(o,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[t]=r,o),function(){null==chrome.runtime.lastError?n():i()})})}}};var u3=u8&&u8.__esModule?u8:{default:u8};u5.default=(0,u3.default)("local");var u9=lr(u5),u7={};Object.defineProperty(u7,"__esModule",{value:!0});var le=u8&&u8.__esModule?u8:{default:u8};u7.default=(0,le.default)("sync");var lt=lr(u7);function lr(e){return e&&e.__esModule?e:{default:e}}u4={localStorage:u9.default,syncStorage:lt.default},ig("genPersistConfig");let ln=async e=>{let t=await n5(e);return void 0===t?{}:t},li=e=>({...e,storage:u4.localStorage,getStoredState:ln});var lo={};function la(e,t){let r=void 0!==e.version?e.version:-1,n=void 0===e.stateReconciler?ed(lo):e.stateReconciler,i=e.getStoredState||n5,o=void 0!==e.timeout?e.timeout:5e3,a=null,s=!1,u=!0,l=e=>(e._persist.rehydrated&&a&&!u&&a.update(e),e);return(c,d)=>{let{_persist:p,...f}=c||{};if(d.type===nJ){let n=!1,s=(t,r)=>{n||(d.rehydrate(e.key,t,r),n=!0)};if(o&&setTimeout(()=>{n||s(void 0,Error(`redux-persist: persist timed out for persist key "${e.key}"`))},o),u=!1,a||(a=n6(e)),p)return{...t(f,d),_persist:p};if("function"!=typeof d.rehydrate||"function"!=typeof d.register)throw Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(e.key),i(e).then(t=>{if(t){let n=e.migrate||((e,t)=>Promise.resolve(e));n(t,r).then(e=>{s(e)},e=>{s(void 0,e)})}},e=>{s(void 0,e)}),{...t(f,d),_persist:{version:r,rehydrated:!1}}}if(d.type===n1){if(e.key===d.key)return s=!0,d.result(n3(e)),{...t(f,d),_persist:p}}else if(d.type===nQ){if(e.key===d.key)return i(e).then(t=>d.rehydrate(e.key,t,void 0),t=>d.rehydrate(e.key,void 0,t)).then(()=>d.result()),{...t(f,d),_persist:{version:r,rehydrated:!1}}}else if(d.type===nX)return d.result(a&&a.flush()),{...t(f,d),_persist:p};else if(d.type===nY)u=!0;else if(d.type===nZ){if(s)return{...f,_persist:{...p,rehydrated:!0}};if(d.key===e.key){let r=t(f,d),i=d.payload,o=!1!==n&&void 0!==i?n(i,c,r,e):r,a={...o,_persist:{...p,rehydrated:!0}};return l(a)}}if(!p)return t(c,d);let h=t(f,d);return h===f?c:l({...h,_persist:p})}}Object.defineProperty(lo,"__esModule",{value:!0}),lo.default=function(e,t,r,{debug:n}){let i=Object.assign({},r);if(e&&"object"==typeof e){let n=Object.keys(e);n.forEach(n=>{"_persist"!==n&&t[n]===r[n]&&(i[n]=e[n])})}return i};let ls=ig("store"),lu=li({key:"account",version:2,migrate:ii({2:e=>{let t={...e};return t.walletAddresses&&Array.isArray(t.walletAddresses)&&(t.walletAddresses=t.walletAddresses.map(e=>{if(e.walletId||e.privateKeyId)return e;let t={address:e.address,archived:e.archived||!1,alias:e.name||void 0,type:e.type};return"wallet"===e.type&&e.extra?(t.walletId=e.extra.walletId,t.walletAccountId=e.extra.accounts?.[0]?.walletAccountId):"privateKey"===e.type&&e.extra&&(t.privateKeyId=e.extra.privateKeyId),t})),t}},{debug:!1})}),ll=li({key:"lastAccount",version:1}),lc=li({key:"setting",version:1}),ld=li({key:"history",version:1}),lp=li({key:"navigationRoute",version:1}),lf=li({key:"profile",version:2,migrate:ii({2:e=>{let t={...e};return delete t.cachedProfiles,t}},{debug:!1})}),lh=li({key:"wallet",version:2,migrate:ii({2:e=>{let t={...e};return delete t.cachedWallets,t}},{debug:!1})}),lm=li({key:"cachedWallets",version:1}),lg=li({key:"cachedProfiles",version:1}),ly=li({key:"cachedTokenTranslate",version:1}),lb=li({key:"importLabels",version:1}),l_=tS({[oj.reducerPath]:oj.reducer,[aK.reducerPath]:aK.reducer,[aN.reducerPath]:aN.reducer,[aF.reducerPath]:aF.reducer,[a3.reducerPath]:a3.reducer,[ss.reducerPath]:ss.reducer,error:oq,search:um,account:la(lu,sS),lastAccount:la(ll,s$),setting:la(lc,uF),navigationRoute:la(lp,s8),profile:la(lf,ud),profileList:uo,cachedProfiles:la(lg,sP),wallet:la(lh,u6),walletList:uG,cachedWallets:la(lm,sq),cachedTokenTranslate:la(ly,sL),importLabels:la(lb,sV),history:la(ld,sW),walletMentionModal:uQ}),lw=li({key:"root",version:2,migrate:ii({2:e=>{let t={...e};return delete t.interceptor,delete t.recentLabels,t}},{debug:!1}),whitelist:[]}),lv=la(lw,l_),lk=function(e){let t,r;let n=r8(),{reducer:i,middleware:o,devTools:a=!0,duplicateMiddlewareCheck:s=!0,preloadedState:u,enhancers:l}=e||{};if("function"==typeof i)t=i;else if(tk(i))t=tS(i);else throw Error(nC(1));r="function"==typeof o?o(n):n();let c=tI;a&&(c=r1(rX({trace:!1},"object"==typeof a&&a)));let d=function(...e){return t=>(r,n)=>{let i=t(r,n),o=()=>{throw Error(tb(15))},a={getState:i.getState,dispatch:(e,...t)=>o(e,...t)},s=e.map(e=>e(a));return o=tI(...s)(i.dispatch),{...i,dispatch:o}}}(...r),p=nt(d),f="function"==typeof l?l(p):p(),h=c(...f);return tA(t,u,h)}({reducer:lv,middleware:e=>e({serializableCheck:{isSerializable:e=>(function(e){let t=typeof e;return null==e||"string"===t||"boolean"===t||"number"===t||Array.isArray(e)||tk(e)})(e)||e instanceof Date,ignoredActions:[nX,nZ,nY,nJ,n1,n0,nQ]},immutableCheck:{warnAfter:128}}).concat(oj.middleware).concat(aK.middleware).concat(aN.middleware).concat(aF.middleware).concat(ss.middleware).concat(a3.middleware),devTools:!1}),lA=function(e,t,r){let n=r||!1,i=tA(ir,it,t&&t.enhancer?t.enhancer:void 0),o=e=>{i.dispatch({type:n0,key:e})},a=(t,r,o)=>{let a={type:nZ,payload:r,err:o,key:t};e.dispatch(a),i.dispatch(a),"function"==typeof n&&s.getState().bootstrapped&&(n(),n=!1)},s=Object.assign(Object.assign({},i),{purge:()=>{let t=[];return e.dispatch({type:n1,result:e=>{t.push(e)}}),Promise.all(t)},flush:()=>{let t=[];return e.dispatch({type:nX,result:e=>{t.push(e)}}),Promise.all(t)},pause:()=>{e.dispatch({type:nY})},persist:()=>{e.dispatch({type:nJ,register:o,rehydrate:a})},resync:()=>new Promise(t=>{e.dispatch({type:nQ,rehydrate:a,result:()=>t()})})});return t&&t.manualPersist||s.persist(),s}(lk,{manualPersist:!1},()=>{lk.dispatch(u1()),lk.dispatch(uu())}),lS=(e,t,r)=>{let n={type:nZ,payload:t,err:r,key:e};lk.dispatch(n),lA.dispatch(n)},lI=e=>async t=>{let{oldValue:r,newValue:n}=t;ed(nR)(r,n)||(ls.debug(`persistor for ${e.key} change detected`),lk.dispatch({type:nQ,key:e.key,rehydrate:lS,result:()=>{ls.debug(`persistor for ${e.key} resynced`)}}))};new il({area:"local"}).watch({[`persist:${lu.key}`]:lI(lu),[`persist:${lc.key}`]:lI(lc),[`persist:${lf.key}`]:lI(lf),[`persist:${lh.key}`]:lI(lh),[`persist:${lp.key}`]:lI(lp)});let lE=ig("auth"),lT=async(e,t)=>{try{let{sessionPublicKey:r}=e.body,n=lk.getState().account,i=chrome.identity.getRedirectURL(),{data:o}=await ty.signIn.social({provider:"google",disableRedirect:!0,callbackURL:i,loginHint:n?.user?.email});lE.debug("authData:",o);let a=eL(r).replace(/^0x/,""),s=new URL(o.url);s.searchParams.set("nonce",a),lE.debug("oauthUrl",s.toString());let u=await chrome.identity.launchWebAuthFlow({url:s.toString(),interactive:!0});lE.debug("launchWebAuthFlow result",u),t.send({success:!0})}catch(e){lE.error(e),t.send({success:!1,error:e.message})}},lx="9.30.0",lP=globalThis;function lO(){return lB(lP),lP}function lB(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||lx,t[lx]=t[lx]||{}}function lC(e,t,r=lP){let n=r.__SENTRY__=r.__SENTRY__||{},i=n[lx]=n[lx]||{};return i[e]||(i[e]=t())}let lR="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,lM=Object.prototype.toString;function lL(e){switch(lM.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return lV(e,Error)}}function lN(e,t){return lM.call(e)===`[object ${t}]`}function lD(e){return lN(e,"ErrorEvent")}function lF(e){return lN(e,"DOMError")}function lq(e){return lN(e,"String")}function lU(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function lj(e){return null===e||lU(e)||"object"!=typeof e&&"function"!=typeof e}function lW(e){return lN(e,"Object")}function lK(e){return"undefined"!=typeof Event&&lV(e,Event)}function lz(e){return!!(e?.then&&"function"==typeof e.then)}function lV(e,t){try{return e instanceof t}catch(e){return!1}}function lH(e){return!!("object"==typeof e&&null!==e&&(e.__isVue||e._isVue))}function lG(e,t={}){if(!e)return"<unknown>";try{let r,n=e,i=[],o=0,a=0,s=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&o++<5&&(r=function(e,t){let r=[];if(!e?.tagName)return"";if(lP.HTMLElement&&e instanceof HTMLElement&&e.dataset){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}r.push(e.tagName.toLowerCase());let n=t?.length?t.filter(t=>e.getAttribute(t)).map(t=>[t,e.getAttribute(t)]):null;if(n?.length)n.forEach(e=>{r.push(`[${e[0]}="${e[1]}"]`)});else{e.id&&r.push(`#${e.id}`);let t=e.className;if(t&&lq(t)){let e=t.split(/\s+/);for(let t of e)r.push(`.${t}`)}}for(let t of["aria-label","type","name","title","alt"]){let n=e.getAttribute(t);n&&r.push(`[${t}="${n}"]`)}return r.join("")}(n,s),"html"!==r&&(!(o>1)||!(a+3*i.length+r.length>=u)));)i.push(r),a+=r.length,n=n.parentNode;return i.reverse().join(" > ")}catch(e){return"<unknown>"}}function l$(){try{return lP.document.location.href}catch(e){return""}}let lX=["debug","info","warn","error","log","assert","trace"],lZ={};function lQ(e){if(!("console"in lP))return e();let t=lP.console,r={},n=Object.keys(lZ);n.forEach(e=>{let n=lZ[e];r[e]=t[e],t[e]=n});try{return e()}finally{n.forEach(e=>{t[e]=r[e]})}}let lY=lC("logger",function(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return lR?lX.forEach(r=>{t[r]=(...t)=>{e&&lQ(()=>{lP.console[r](`Sentry Logger [${r}]:`,...t)})}}):lX.forEach(e=>{t[e]=()=>void 0}),t});function lJ(e,t=0){return"string"!=typeof e||0===t?e:e.length<=t?e:`${e.slice(0,t)}...`}function l1(e,t){if(!Array.isArray(e))return"";let r=[];for(let t=0;t<e.length;t++){let n=e[t];try{lH(n)?r.push("[VueViewModel]"):r.push(String(n))}catch(e){r.push("[value cannot be serialized]")}}return r.join(t)}function l0(e,t=[],r=!1){return t.some(t=>(function(e,t,r=!1){return!!lq(e)&&(lN(t,"RegExp")?t.test(e):!!lq(t)&&(r?e===t:e.includes(t)))})(e,t,r))}function l2(e,t,r){if(!(t in e))return;let n=e[t];if("function"!=typeof n)return;let i=r(n);"function"==typeof i&&l4(i,n);try{e[t]=i}catch{lR&&lY.log(`Failed to replace method "${t}" in object`,e)}}function l6(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch(r){lR&&lY.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function l4(e,t){try{let r=t.prototype||{};e.prototype=t.prototype=r,l6(e,"__sentry_original__",t)}catch(e){}}function l5(e){return e.__sentry_original__}function l8(e){if(lL(e))return{message:e.message,name:e.name,stack:e.stack,...l9(e)};if(!lK(e))return e;{let t={type:e.type,target:l3(e.target),currentTarget:l3(e.currentTarget),...l9(e)};return"undefined"!=typeof CustomEvent&&lV(e,CustomEvent)&&(t.detail=e.detail),t}}function l3(e){try{return"undefined"!=typeof Element&&lV(e,Element)?lG(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function l9(e){if("object"!=typeof e||null===e)return{};{let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}}function l7(e=lP.crypto||lP.msCrypto){let t=()=>16*Math.random();try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{let t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(e){}return"10000000100040008000100000000000".replace(/[018]/g,e=>(e^(15&t())>>e/4).toString(16))}function ce(e){return e.exception?.values?.[0]}function ct(e){let{message:t,event_id:r}=e;if(t)return t;let n=ce(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function cr(e,t,r){let n=e.exception=e.exception||{},i=n.values=n.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=r||"Error")}function cn(e,t){let r=ce(e);if(!r)return;let n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){let e={...n?.data,...t.data};r.mechanism.data=e}}function ci(e){if(function(e){try{return e.__sentry_captured__}catch{}}(e))return!0;try{l6(e,"__sentry_captured__",!0)}catch(e){}return!1}function co(){return Date.now()/1e3}let ca=function(){let{performance:e}=lP;if(!e?.now)return co;let t=Date.now()-e.now(),r=void 0==e.timeOrigin?t:e.timeOrigin;return()=>(r+e.now())/1e3}();function cs(e,t={}){if(!t.user||(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ca(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:l7()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{let t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function cu(e,t,r=2){if(!t||"object"!=typeof t||r<=0)return t;if(e&&0===Object.keys(t).length)return e;let n={...e};for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=cu(n[e],t[e],r-1));return n}let cl="_sentrySpan";function cc(e,t){t?l6(e,cl,t):delete e[cl]}function cd(){return l7().substring(16)}class cp{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:l7(),sampleRand:Math.random()}}clone(){let e=new cp;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,cc(e,this[cl]),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&cs(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let t="function"==typeof e?e(this):e,r=t instanceof cp?t.getScopeData():lW(t)?e:void 0,{tags:n,extra:i,user:o,contexts:a,level:s,fingerprint:u=[],propagationContext:l}=r||{};return this._tags={...this._tags,...n},this._extra={...this._extra,...i},this._contexts={...this._contexts,...a},o&&Object.keys(o).length&&(this._user=o),s&&(this._level=s),u.length&&(this._fingerprint=u),l&&(this._propagationContext=l),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,cc(this,void 0),this._attachments=[],this.setPropagationContext({traceId:l7(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){let r="number"==typeof t?t:100;if(r<=0)return this;let n={timestamp:co(),...e,message:e.message?lJ(e.message,2048):e.message};return this._breadcrumbs.push(n),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:this[cl]}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=cu(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){let r=t?.event_id||l7();if(!this._client)return lY.warn("No client configured on scope - will not capture exception!"),r;let n=Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:n,...t,event_id:r},this),r}captureMessage(e,t,r){let n=r?.event_id||l7();if(!this._client)return lY.warn("No client configured on scope - will not capture message!"),n;let i=Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...r,event_id:n},this),n}captureEvent(e,t){let r=t?.event_id||l7();return this._client?this._client.captureEvent(e,{...t,event_id:r},this):lY.warn("No client configured on scope - will not capture event!"),r}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}class cf{constructor(e,t){let r,n;r=e||new cp,n=t||new cp,this._stack=[{scope:r}],this._isolationScope=n}withScope(e){let t;let r=this._pushScope();try{t=e(r)}catch(e){throw this._popScope(),e}return lz(t)?t.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e}):(this._popScope(),t)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function ch(){let e=lO(),t=lB(e);return t.stack=t.stack||new cf(lC("defaultCurrentScope",()=>new cp),lC("defaultIsolationScope",()=>new cp))}function cm(e){return ch().withScope(e)}function cg(e,t){let r=ch();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function cy(e){return ch().withScope(()=>e(ch().getIsolationScope()))}function cb(e){let t=lB(e);return t.acs?t.acs:{withIsolationScope:cy,withScope:cm,withSetScope:cg,withSetIsolationScope:(e,t)=>cy(t),getCurrentScope:()=>ch().getScope(),getIsolationScope:()=>ch().getIsolationScope()}}function c_(){let e=lO(),t=cb(e);return t.getCurrentScope()}function cw(){let e=lO(),t=cb(e);return t.getIsolationScope()}function cv(){return lC("globalScope",()=>new cp)}function ck(...e){let t=lO(),r=cb(t);if(2===e.length){let[t,n]=e;return t?r.withSetScope(t,n):r.withScope(n)}return r.withScope(e[0])}function cA(){return c_().getClient()}function cS(e){let t=e.getPropagationContext(),{traceId:r,parentSpanId:n,propagationSpanId:i}=t,o={trace_id:r,span_id:i||cd()};return n&&(o.parent_span_id=n),o}let cI="production";function cE(e){return new cx(t=>{t(e)})}function cT(e){return new cx((t,r)=>{r(e)})}(x4=PE||(PE={}))[x4.PENDING=0]="PENDING",x4[x4.RESOLVED=1]="RESOLVED",x4[x4.REJECTED=2]="REJECTED";class cx{constructor(e){this._state=PE.PENDING,this._handlers=[],this._runExecutor(e)}then(e,t){return new cx((r,n)=>{this._handlers.push([!1,t=>{if(e)try{r(e(t))}catch(e){n(e)}else r(t)},e=>{if(t)try{r(t(e))}catch(e){n(e)}else n(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new cx((t,r)=>{let n,i;return this.then(t=>{i=!1,n=t,e&&e()},t=>{i=!0,n=t,e&&e()}).then(()=>{if(i){r(n);return}t(n)})})}_executeHandlers(){if(this._state===PE.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(this._state===PE.RESOLVED&&e[1](this._value),this._state===PE.REJECTED&&e[2](this._value),e[0]=!0)})}_runExecutor(e){let t=(e,t)=>{if(this._state===PE.PENDING){if(lz(t)){t.then(r,n);return}this._state=e,this._value=t,this._executeHandlers()}},r=e=>{t(PE.RESOLVED,e)},n=e=>{t(PE.REJECTED,e)};try{e(r,n)}catch(e){n(e)}}}let cP=/\(error: (.*)\)/,cO=/captureMessage|captureException/;function cB(...e){let t=e.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return(e,r=0,n=0)=>{let i=[],o=e.split("\n");for(let e=r;e<o.length;e++){let r=o[e];if(r.length>1024)continue;let a=cP.test(r)?r.replace(cP,"$1"):r;if(!a.match(/\S*Error: /)){for(let e of t){let t=e(a);if(t){i.push(t);break}}if(i.length>=50+n)break}}return function(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(cC(t).function||"")&&t.pop(),t.reverse(),cO.test(cC(t).function||"")&&(t.pop(),cO.test(cC(t).function||"")&&t.pop()),t.slice(0,50).map(e=>({...e,filename:e.filename||cC(t).filename,function:e.function||"?"}))}(i.slice(n))}}function cC(e){return e[e.length-1]||{}}let cR="<anonymous>";function cM(e){try{if(!e||"function"!=typeof e)return cR;return e.name||cR}catch(e){return cR}}function cL(e){let t=e.exception;if(t){let e=[];try{return t.values.forEach(t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)}),e}catch(e){}}}function cN(e,t=100,r=1/0){try{return function e(t,r,n=1/0,i=1/0,o=function(){let e=new WeakSet;return[function(t){return!!e.has(t)||(e.add(t),!1)},function(t){e.delete(t)}]}()){let[a,s]=o;if(null==r||["boolean","string"].includes(typeof r)||"number"==typeof r&&Number.isFinite(r))return r;let u=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==ec&&t===ec)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(lH(t))return"[VueViewModel]";if(lW(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t)return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${cM(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;let r=function(e){let t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}(t);if(/^HTML(\w*)Element$/.test(r))return`[HTMLElement: ${r}]`;return`[object ${r}]`}catch(e){return`**non-serializable** (${e})`}}(t,r);if(!u.startsWith("[object "))return u;if(r.__sentry_skip_normalization__)return r;let l="number"==typeof r.__sentry_override_normalization_depth__?r.__sentry_override_normalization_depth__:n;if(0===l)return u.replace("object ","");if(a(r))return"[Circular ~]";if(r&&"function"==typeof r.toJSON)try{let t=r.toJSON();return e("",t,l-1,i,o)}catch(e){}let c=Array.isArray(r)?[]:{},d=0,p=l8(r);for(let t in p){if(!Object.prototype.hasOwnProperty.call(p,t))continue;if(d>=i){c[t]="[MaxProperties ~]";break}let r=p[t];c[t]=e(t,r,l-1,i,o),d++}return s(r),c}("",e,t,r)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}let cD="sentry.profile_id",cF="sentry.exclusive_time";function cq(e){return{scope:e._sentryScope,isolationScope:e._sentryIsolationScope}}let cU=/^sentry-/;function cj(e){return e.split(",").map(e=>e.split("=").map(e=>{try{return decodeURIComponent(e.trim())}catch{return}})).reduce((e,[t,r])=>(t&&r&&(e[t]=r),e),{})}RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");let cW=!1;function cK(e){let{spanId:t,traceId:r,isRemote:n}=e.spanContext(),i=n?t:cH(e).parent_span_id,o=cq(e).scope,a=n?o?.getPropagationContext().propagationSpanId||cd():t;return{parent_span_id:i,span_id:a,trace_id:r}}function cz(e){return"number"==typeof e?cV(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?cV(e.getTime()):ca()}function cV(e){return e>9999999999?e/1e3:e}function cH(e){if("function"==typeof e.getSpanJSON)return e.getSpanJSON();let{spanId:t,traceId:r}=e.spanContext();if(e.attributes&&e.startTime&&e.name&&e.endTime&&e.status){let{attributes:n,startTime:i,name:o,endTime:a,status:s,links:u}=e,l="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:r,data:n,description:o,parent_span_id:l,start_timestamp:cz(i),timestamp:cz(a)||void 0,status:function(e){if(e&&0!==e.code)return 1===e.code?"ok":e.message||"unknown_error"}(s),op:n["sentry.op"],origin:n["sentry.origin"],links:u&&u.length>0?u.map(({context:{spanId:e,traceId:t,traceFlags:r,...n},attributes:i})=>({span_id:e,trace_id:t,sampled:1===r,attributes:i,...n})):void 0}}return{span_id:t,trace_id:r,start_timestamp:0,data:{}}}function cG(e){return e._sentryRootSpan||e}function c$(){cW||(lQ(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),cW=!0)}let cX=/^o(\d+)\./,cZ=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function cQ(e,t=!1){let{host:r,path:n,pass:i,port:o,projectId:a,protocol:s,publicKey:u}=e;return`${s}://${u}${t&&i?`:${i}`:""}@${r}${o?`:${o}`:""}/${n?`${n}/`:n}${a}`}function cY(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function cJ(e,t){let r;let n=t.getOptions(),{publicKey:i,host:o}=t.getDsn()||{};n.orgId?r=String(n.orgId):o&&(r=function(e){let t=e.match(cX);return t?.[1]}(o));let a={environment:n.environment||cI,release:n.release,public_key:i,trace_id:e,org_id:r};return t.emit("createDsc",a),a}function c1(e,t){let r=t.getPropagationContext();return r.dsc||cJ(r.traceId,e)}function c0(e){let t=cA();if(!t)return{};let r=cG(e),n=cH(r),i=n.data,o=r.spanContext().traceState,a=o?.get("sentry.sample_rate")??i["sentry.sample_rate"]??i["sentry.previous_trace_sample_rate"];function s(e){return("number"==typeof a||"string"==typeof a)&&(e.sample_rate=`${a}`),e}let u=r._frozenDsc;if(u)return s(u);let l=o?.get("sentry.dsc"),c=l&&function(e){let t=function(e){if(e&&(lq(e)||Array.isArray(e)))return Array.isArray(e)?e.reduce((e,t)=>{let r=cj(t);return Object.entries(r).forEach(([t,r])=>{e[t]=r}),e},{}):cj(e)}(e);if(!t)return;let r=Object.entries(t).reduce((e,[t,r])=>{if(t.match(cU)){let n=t.slice(7);e[n]=r}return e},{});return Object.keys(r).length>0?r:void 0}(l);if(c)return s(c);let d=cJ(e.spanContext().traceId,t),p=i["sentry.source"],f=n.description;return"url"!==p&&f&&(d.transaction=f),function(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;let t=cA()?.getOptions();return!!t&&(null!=t.tracesSampleRate||!!t.tracesSampler)}()&&(d.sampled=String(function(e){let{traceFlags:t}=e.spanContext();return 1===t}(r)),d.sample_rand=o?.get("sentry.sample_rand")??cq(r).scope?.getPropagationContext().sampleRand.toString()),s(d),t.emit("createDsc",d,r),d}function c2(e,t){let{extra:r,tags:n,user:i,contexts:o,level:a,sdkProcessingMetadata:s,breadcrumbs:u,fingerprint:l,eventProcessors:c,attachments:d,propagationContext:p,transactionName:f,span:h}=t;c6(e,"extra",r),c6(e,"tags",n),c6(e,"user",i),c6(e,"contexts",o),e.sdkProcessingMetadata=cu(e.sdkProcessingMetadata,s,2),a&&(e.level=a),f&&(e.transactionName=f),h&&(e.span=h),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),c.length&&(e.eventProcessors=[...e.eventProcessors,...c]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function c6(e,t,r){e[t]=cu(e[t],r,1)}let c4=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function c5(e,t){return c_().captureException(e,function(e){if(e)return e instanceof cp||"function"==typeof e||Object.keys(e).some(e=>c4.includes(e))?{captureContext:e}:e}(t))}function c8(e,t){return c_().captureEvent(e,t)}function c3(e){cw().setUser(e)}function c9(e){let t=cw(),r=c_(),{userAgent:n}=lP.navigator||{},i=function(e){let t=ca(),r={sid:l7(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:"number"==typeof r.did||"string"==typeof r.did?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})};return e&&cs(r,e),r}({user:r.getUser()||t.getUser(),...n&&{userAgent:n},...e}),o=t.getSession();return o?.status==="ok"&&cs(o,{status:"exited"}),c7(),t.setSession(i),i}function c7(){let e=cw(),t=c_(),r=t.getSession()||e.getSession();if(r){var n;let e;e={},n?e={status:n}:"ok"===r.status&&(e={status:"exited"}),cs(r,e)}de(),e.setSession()}function de(){let e=cw(),t=cA(),r=e.getSession();r&&t&&t.captureSession(r)}function dt(e=!1){if(e){c7();return}de()}let dr=ig("captureSentryEvent"),dn=async(e,t)=>{try{let{event:r,error:n,errorInfo:i}=e.body,o=e.body.source||"unknown";if(r)c8({...r,tags:{...r.tags,source:o,forwarded:"true"}});else if(n){let e=Error(n.message);e.name=n.name,e.stack=n.stack,await c5(e,{extra:{...i,forwarded:!0},tags:{source:o}})}else throw Error("Invalid Sentry payload: missing 'event' or 'error'.");t.send({success:!0})}catch(r){let e=r instanceof Error?r.message:"Unknown error";dr.error("Failed to forward event to Sentry:",r),t.send({success:!1,error:e})}},di=ig("checkJitoBundle"),da=async(e,t)=>{let{transactionId:r,baseUrl:n="https://bundles.jito.wtf/api/v1"}=e.body;if(!r){t.send({success:!1,error:"Transaction ID is required"});return}let i=`${n}/bundles/transaction/${r}`;di.debug(`Checking Jito bundle for transaction: ${r}`);try{let e=new AbortController,o=setTimeout(()=>e.abort(),1e4),a=await fetch(i,{method:"GET",headers:{"Content-Type":"application/json"},signal:e.signal});if(clearTimeout(o),404===a.status){di.warn(`Transaction ${r} is not part of any Jito bundle`),t.send({success:!0,bundleId:void 0});return}if(!a.ok){di.warn(`Jito API returned status ${a.status} for transaction ${r}`),t.send({success:!1,error:`API returned status ${a.status}`});return}let s=await a.json();if(di.warn(`Jito API response: ${JSON.stringify(s)}`),!Array.isArray(s)||0===s.length){di.warn(`Unexpected response format from Jito API for transaction ${r}`),t.send({success:!1,error:"Unexpected response format"});return}let u=s[0]?.bundle_id;if(!u){di.warn(`No bundle_id found in response for transaction ${r}`),t.send({success:!1,error:"No bundle_id found in response"});return}di.warn(`Found bundle ${u} for transaction ${r}`);try{let r=`${n}/bundles/bundle/${u}`;di.info(`Fetching bundle details from: ${r}`);let i=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json"},signal:e.signal});if(i.ok){let e=await i.json();if(Array.isArray(e)&&e.length>0){let r=e[0];di.info(`Bundle details fetched successfully: ${r.txSignatures?.length} transactions`),t.send({success:!0,bundleId:u,bundleDetails:r});return}di.warn(`Unexpected bundle details response format for ${u}`)}else di.warn(`Failed to fetch bundle details for ${u}: ${i.status}`)}catch(e){di.warn(`Error fetching bundle details for ${u}:`,e)}t.send({success:!0,bundleId:u})}catch(n){let e="Unknown error";n instanceof Error&&("AbortError"===n.name?(e="Request timeout",di.warn(`Jito bundle check timed out for transaction ${r}`)):(e=n.message,di.error(`Error checking Jito bundle for transaction ${r}:`,n))),t.send({success:!1,error:e})}};var ds=eh("acDaE"),du={};Object.defineProperty(du,"__esModule",{value:!0}),du.hash_to_ristretto255=du.hashToRistretto255=du.RistrettoPoint=du.encodeToCurve=du.hashToCurve=du.ed25519_hasher=du.edwardsToMontgomery=du.x25519=du.ed25519ph=du.ed25519ctx=du.ed25519=du.ED25519_TORSION_SUBGROUP=void 0,du.edwardsToMontgomeryPub=dU,du.edwardsToMontgomeryPriv=function(e){let t=dF.hash(e.subarray(0,32));return dF.adjustScalarBytes(t).subarray(0,32)};var eg=eh("gDMZD"),dl=eh("bHkZ3"),dc=eh("9ZBbH"),dd={};Object.defineProperty(dd,"__esModule",{value:!0}),dd.edwards=d_,dd.eddsa=dw,dd.twistedEdwards=function(e){let{CURVE:t,curveOpts:r,eddsaOpts:n}=function(e){let t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=(0,df.Field)(t.n,e.nBitLength,!0),i={Fp:r,Fn:n,uvRatio:e.uvRatio},o={hash:e.hash,randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:i,eddsaOpts:o}}(e),i=d_(t,r),o=dw(i,n);return function(e,t){let r=Object.assign({},t,{ExtendedPoint:t.Point,CURVE:e});return r}(e,o)};var dp=eh("joUi2"),dc=eh("9ZBbH"),df=eh("4ULxn");let dh=BigInt(0),dm=BigInt(1),dg=BigInt(2),dy=BigInt(8),db={zip215:!0};function d_(e,t={}){let{Fp:r,Fn:n}=(0,dc._createCurveFields)("edwards",e,t),{h:i,n:o}=e;(0,dp._validateObject)(t,{},{uvRatio:"function"});let a=dg<<BigInt(8*n.BYTES)-dm,s=e=>r.create(e),u=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(r.div(e,t))}}catch(e){return{isValid:!1,value:dh}}});if(!function(e,t,r,n){let i=e.sqr(r),o=e.sqr(n),a=e.add(e.mul(t.a,i),o),s=e.add(e.ONE,e.mul(t.d,e.mul(i,o)));return e.eql(a,s)}(r,e,e.Gx,e.Gy))throw Error("bad curve params: generator point");function l(e,t,r=!1){let n=r?dm:dh;return(0,dp.aInRange)("coordinate "+e,t,n,a),t}function c(e){if(!(e instanceof f))throw Error("ExtendedPoint expected")}let d=(0,dp.memoized)((e,t)=>{let{ex:n,ey:i,ez:o}=e,a=e.is0();null==t&&(t=a?dy:r.inv(o));let u=s(n*t),l=s(i*t),c=s(o*t);if(a)return{x:dh,y:dm};if(c!==dm)throw Error("invZ was invalid");return{x:u,y:l}}),p=(0,dp.memoized)(t=>{let{a:r,d:n}=e;if(t.is0())throw Error("bad point: ZERO");let{ex:i,ey:o,ez:a,et:u}=t,l=s(i*i),c=s(o*o),d=s(a*a),p=s(d*d),f=s(l*r),h=s(d*s(f+c)),m=s(p+s(n*s(l*c)));if(h!==m)throw Error("bad point: equation left != right (1)");let g=s(i*o),y=s(a*u);if(g!==y)throw Error("bad point: equation left != right (2)");return!0});class f{constructor(e,t,r,n){this.ex=l("x",e),this.ey=l("y",t),this.ez=l("z",r,!0),this.et=l("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof f)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return l("x",t),l("y",r),new f(t,r,dm,s(t*r))}static normalizeZ(e){return(0,dc.normalizeZ)(f,"ez",e)}static msm(e,t){return(0,dc.pippenger)(f,n,e,t)}_setWindowSize(e){this.precompute(e)}precompute(e=8,t=!0){return h.setWindowSize(this,e),t||this.multiply(dg),this}assertValidity(){p(this)}equals(e){c(e);let{ex:t,ey:r,ez:n}=this,{ex:i,ey:o,ez:a}=e,u=s(t*a),l=s(i*n),d=s(r*a),p=s(o*n);return u===l&&d===p}is0(){return this.equals(f.ZERO)}negate(){return new f(s(-this.ex),this.ey,this.ez,s(-this.et))}double(){let{a:t}=e,{ex:r,ey:n,ez:i}=this,o=s(r*r),a=s(n*n),u=s(dg*s(i*i)),l=s(t*o),c=r+n,d=s(s(c*c)-o-a),p=l+a,h=p-u,m=l-a,g=s(d*h),y=s(p*m),b=s(d*m),_=s(h*p);return new f(g,y,_,b)}add(t){c(t);let{a:r,d:n}=e,{ex:i,ey:o,ez:a,et:u}=this,{ex:l,ey:d,ez:p,et:h}=t,m=s(i*l),g=s(o*d),y=s(u*n*h),b=s(a*p),_=s((i+o)*(l+d)-m-g),w=b-y,v=b+y,k=s(g-r*m),A=s(_*w),S=s(v*k),I=s(_*k),E=s(w*v);return new f(A,S,E,I)}subtract(e){return this.add(e.negate())}multiply(e){(0,dp.aInRange)("scalar",e,dm,o);let{p:t,f:r}=h.wNAFCached(this,e,f.normalizeZ);return f.normalizeZ([t,r])[0]}multiplyUnsafe(e,t=f.ZERO){return((0,dp.aInRange)("scalar",e,dh,o),e===dh)?f.ZERO:this.is0()||e===dm?this:h.wNAFCachedUnsafe(this,e,f.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}isTorsionFree(){return h.wNAFCachedUnsafe(this,o).is0()}toAffine(e){return d(this,e)}clearCofactor(){return i===dm?this:this.multiplyUnsafe(i)}static fromBytes(e,t=!1){return(0,dp.abytes)(e),this.fromHex(e,t)}static fromHex(t,n=!1){let{d:i,a:o}=e,l=r.BYTES;t=(0,dp.ensureBytes)("pointHex",t,l),(0,dp.abool)("zip215",n);let c=t.slice(),d=t[l-1];c[l-1]=-129&d;let p=(0,dp.bytesToNumberLE)(c),h=n?a:r.ORDER;(0,dp.aInRange)("pointHex.y",p,dh,h);let m=s(p*p),g=s(m-dm),y=s(i*m-o),{isValid:b,value:_}=u(g,y);if(!b)throw Error("Point.fromHex: invalid y coordinate");let w=(_&dm)===dm,v=(128&d)!=0;if(!n&&_===dh&&v)throw Error("Point.fromHex: x=0 and x_0=1");return v!==w&&(_=s(-_)),f.fromAffine({x:_,y:p})}static fromPrivateScalar(e){return f.BASE.multiply(e)}toBytes(){let{x:e,y:t}=this.toAffine(),n=(0,dp.numberToBytesLE)(t,r.BYTES);return n[n.length-1]|=e&dm?128:0,n}toRawBytes(){return this.toBytes()}toHex(){return(0,dp.bytesToHex)(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}f.BASE=new f(e.Gx,e.Gy,dm,s(e.Gx*e.Gy)),f.ZERO=new f(dh,dm,dm,dh),f.Fp=r,f.Fn=n;let h=(0,dc.wNAF)(f,8*n.BYTES);return f}function dw(e,t){(0,dp._validateObject)(t,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:r,hash:n}=t,{BASE:i,Fp:o,Fn:a}=e,s=a.ORDER,u=t.randomBytes||dp.randomBytes,l=t.adjustScalarBytes||(e=>e),c=t.domain||((e,t,r)=>{if((0,dp.abool)("phflag",r),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function d(e){var t;return t=(0,dp.bytesToNumberLE)(e),a.create(t)}function p(e){let{head:t,prefix:r,scalar:a}=function(e){let t=o.BYTES;e=(0,dp.ensureBytes)("private key",e,t);let r=(0,dp.ensureBytes)("hashed private key",n(e),2*t),i=l(r.slice(0,t)),a=r.slice(t,2*t),s=d(i);return{head:i,prefix:a,scalar:s}}(e),s=i.multiply(a),u=s.toBytes();return{head:t,prefix:r,scalar:a,point:s,pointBytes:u}}function f(e=Uint8Array.of(),...t){let i=(0,dp.concatBytes)(...t);return d(n(c(i,(0,dp.ensureBytes)("context",e),!!r)))}return i.precompute(8),{getPublicKey:function(e){return p(e).pointBytes},sign:function(e,t,n={}){e=(0,dp.ensureBytes)("message",e),r&&(e=r(e));let{prefix:u,scalar:l,pointBytes:c}=p(t),d=f(n.context,u,e),h=i.multiply(d).toBytes(),m=f(n.context,h,c,e),g=a.create(d+m*l);(0,dp.aInRange)("signature.s",g,dh,s);let y=o.BYTES,b=(0,dp.concatBytes)(h,(0,dp.numberToBytesLE)(g,y));return(0,dp.ensureBytes)("result",b,2*y)},verify:function(t,n,a,s=db){let u,l,c;let{context:d,zip215:p}=s,h=o.BYTES;t=(0,dp.ensureBytes)("signature",t,2*h),n=(0,dp.ensureBytes)("message",n),a=(0,dp.ensureBytes)("publicKey",a,h),void 0!==p&&(0,dp.abool)("zip215",p),r&&(n=r(n));let m=(0,dp.bytesToNumberLE)(t.slice(h,2*h));try{u=e.fromHex(a,p),l=e.fromHex(t.slice(0,h),p),c=i.multiplyUnsafe(m)}catch(e){return!1}if(!p&&u.isSmallOrder())return!1;let g=f(d,l.toBytes(),u.toBytes(),n),y=l.add(u.multiplyUnsafe(g));return y.subtract(c).clearCofactor().is0()},utils:{getExtendedPublicKey:p,randomPrivateKey:()=>u(o.BYTES),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},Point:e}}var dv=eh("5GEtw"),df=eh("4ULxn"),dk={};Object.defineProperty(dk,"__esModule",{value:!0}),dk.montgomery=function(e){let t=((0,dp._validateObject)(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})),{P:r,type:n,adjustScalarBytes:i,powPminus2:o,randomBytes:a}=t,s="x25519"===n;if(!s&&"x448"!==n)throw Error("invalid type");let u=a||dp.randomBytes,l=s?255:448,c=s?32:56,d=s?BigInt(9):BigInt(5),p=s?BigInt(121665):BigInt(39081),f=s?dI**BigInt(254):dI**BigInt(447),h=s?BigInt(8)*dI**BigInt(251)-dS:BigInt(4)*dI**BigInt(445)-dS,m=f+h+dS,g=e=>(0,df.mod)(e,r),y=b(d);function b(e){return(0,dp.numberToBytesLE)(g(e),c)}function _(e,t){let n=function(e,t){(0,dp.aInRange)("u",e,dA,r),(0,dp.aInRange)("scalar",t,f,m);let n=dS,i=dA,a=e,s=dS,u=dA;for(let r=BigInt(l-1);r>=dA;r--){let o=t>>r&dS;u^=o,({x_2:n,x_3:a}=v(u,n,a)),({x_2:i,x_3:s}=v(u,i,s)),u=o;let l=n+i,c=g(l*l),d=n-i,f=g(d*d),h=c-f,m=a+s,y=a-s,b=g(y*l),_=g(m*d),w=b+_,k=b-_;a=g(w*w),s=g(e*g(k*k)),n=g(c*f),i=g(h*(c+g(p*h)))}({x_2:n,x_3:a}=v(u,n,a)),{x_2:i,x_3:s}=v(u,i,s);let c=o(i);return g(n*c)}(function(e){let t=(0,dp.ensureBytes)("u coordinate",e,c);return s&&(t[31]&=127),g((0,dp.bytesToNumberLE)(t))}(t),(0,dp.bytesToNumberLE)(i((0,dp.ensureBytes)("scalar",e,c))));if(n===dA)throw Error("invalid private or public key received");return b(n)}function w(e){return _(e,y)}function v(e,t,r){let n=g(e*(t-r));return{x_2:t=g(t-n),x_3:r=g(r+n)}}return{scalarMult:_,scalarMultBase:w,getSharedSecret:(e,t)=>_(e,t),getPublicKey:e=>w(e),utils:{randomPrivateKey:()=>u(c)},GuBytes:y.slice()}};var dp=eh("joUi2"),df=eh("4ULxn");let dA=BigInt(0),dS=BigInt(1),dI=BigInt(2);var dp=eh("joUi2");let dE=BigInt(0),dT=BigInt(1),dx=BigInt(2),dP=BigInt(3),dO=BigInt(5),dB=BigInt(8),dC={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:dB,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function dR(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=dC.p,a=e*e%o,s=a*e%o,u=(0,df.pow2)(s,dx,o)*s%o,l=(0,df.pow2)(u,dT,o)*e%o,c=(0,df.pow2)(l,dO,o)*l%o,d=(0,df.pow2)(c,t,o)*c%o,p=(0,df.pow2)(d,r,o)*d%o,f=(0,df.pow2)(p,n,o)*p%o,h=(0,df.pow2)(f,i,o)*f%o,m=(0,df.pow2)(h,i,o)*f%o,g=(0,df.pow2)(m,t,o)*c%o,y=(0,df.pow2)(g,dx,o)*e%o;return{pow_p_5_8:y,b2:s}}function dM(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}let dL=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function dN(e,t){let r=dC.p,n=(0,df.mod)(t*t*t,r),i=(0,df.mod)(n*n*t,r),o=dR(e*i).pow_p_5_8,a=(0,df.mod)(e*n*o,r),s=(0,df.mod)(t*a*a,r),u=a,l=(0,df.mod)(a*dL,r),c=s===e,d=s===(0,df.mod)(-e,r),p=s===(0,df.mod)(-e*dL,r);return c&&(a=u),(d||p)&&(a=l),(0,df.isNegativeLE)(a,r)&&(a=(0,df.mod)(-a,r)),{isValid:c||d,value:a}}du.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];let dD=(0,df.Field)(dC.p,void 0,!0),dF={...dC,Fp:dD,hash:eg.sha512,adjustScalarBytes:dM,uvRatio:dN};function dq(e,t,r){if(t.length>255)throw Error("Context is too big");return(0,dl.concatBytes)((0,dl.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,t.length]),t,e)}function dU(e){let t=(0,dp.ensureBytes)("pub",e),{y:r}=du.ed25519.Point.fromHex(t),n=BigInt(1);return dD.toBytes(dD.create((n+r)*dD.inv(n-r)))}du.ed25519=(0,dd.twistedEdwards)(dF),du.ed25519ctx=(0,dd.twistedEdwards)({...dF,domain:dq}),du.ed25519ph=(0,dd.twistedEdwards)(Object.assign({},dF,{domain:dq,prehash:eg.sha512})),du.x25519=(()=>{let e=dC.p;return(0,dk.montgomery)({P:e,type:"x25519",powPminus2:t=>{let{pow_p_5_8:r,b2:n}=dR(t);return(0,df.mod)((0,df.pow2)(r,dP,e)*n,e)},adjustScalarBytes:dM})})(),du.edwardsToMontgomery=dU;let dj=(dD.ORDER+dP)/dB,dW=dD.pow(dx,dj),dK=dD.sqrt(dD.neg(dD.ONE)),dz=(0,df.FpSqrtEven)(dD,dD.neg(BigInt(486664)));function dV(e){if(!(e instanceof d1))throw Error("RistrettoPoint expected")}du.ed25519_hasher=(0,dv.createHasher)(du.ed25519.Point,e=>(function(e){let{xMn:t,xMd:r,yMn:n,yMd:i}=function(e){let t=(dD.ORDER-dO)/dB,r=BigInt(486662),n=dD.sqr(e);n=dD.mul(n,dx);let i=dD.add(n,dD.ONE),o=dD.neg(r),a=dD.sqr(i),s=dD.mul(a,i),u=dD.mul(n,r);u=dD.mul(u,o),u=dD.add(u,a),u=dD.mul(u,o);let l=dD.sqr(s);a=dD.sqr(l),l=dD.mul(l,s),l=dD.mul(l,u),a=dD.mul(a,l);let c=dD.pow(a,t);c=dD.mul(c,l);let d=dD.mul(c,dK);a=dD.sqr(c),a=dD.mul(a,s);let p=dD.eql(a,u),f=dD.cmov(d,c,p),h=dD.mul(o,n),m=dD.mul(c,e);m=dD.mul(m,dW);let g=dD.mul(m,dK),y=dD.mul(u,n);a=dD.sqr(m),a=dD.mul(a,s);let b=dD.eql(a,y),_=dD.cmov(g,m,b);a=dD.sqr(f),a=dD.mul(a,s);let w=dD.eql(a,u),v=dD.cmov(h,o,w),k=dD.cmov(_,f,w),A=dD.isOdd(k);return{xMn:v,xMd:i,yMn:k=dD.cmov(k,dD.neg(k),w!==A),yMd:dT}}(e),o=dD.mul(t,i);o=dD.mul(o,dz);let a=dD.mul(r,n),s=dD.sub(t,r),u=dD.add(t,r),l=dD.mul(a,u),c=dD.eql(l,dD.ZERO);o=dD.cmov(o,dD.ZERO,c),a=dD.cmov(a,dD.ONE,c),s=dD.cmov(s,dD.ONE,c),u=dD.cmov(u,dD.ONE,c);let[d,p]=(0,df.FpInvertBatch)(dD,[a,u],!0);return{x:dD.mul(o,d),y:dD.mul(s,p)}})(e[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:dD.ORDER,m:1,k:128,expand:"xmd",hash:eg.sha512}),du.hashToCurve=du.ed25519_hasher.hashToCurve,du.encodeToCurve=du.ed25519_hasher.encodeToCurve;let dH=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),dG=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),d$=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),dX=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),dZ=e=>dN(dT,e),dQ=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),dY=e=>du.ed25519.CURVE.Fp.create((0,dp.bytesToNumberLE)(e)&dQ);function dJ(e){let{d:t}=du.ed25519.CURVE,r=du.ed25519.CURVE.Fp.ORDER,n=du.ed25519.CURVE.Fp.create,i=n(dL*e*e),o=n((i+dT)*d$),a=BigInt(-1),s=n((a-t*i)*n(i+t)),{isValid:u,value:l}=dN(o,s),c=n(l*e);(0,df.isNegativeLE)(c,r)||(c=n(-c)),u||(l=c),u||(a=i);let d=n(a*(i-dT)*dX-s),p=l*l,f=n((l+l)*s),h=n(d*dH),m=n(dT-p),g=n(dT+p);return new du.ed25519.Point(n(f*g),n(m*h),n(h*g),n(f*m))}class d1{constructor(e){this.ep=e}static fromAffine(e){return new d1(du.ed25519.Point.fromAffine(e))}static hashToCurve(e){e=(0,dp.ensureBytes)("ristrettoHash",e,64);let t=dY(e.slice(0,32)),r=dJ(t),n=dY(e.slice(32,64)),i=dJ(n);return new d1(r.add(i))}static fromBytes(e){return(0,dl.abytes)(e),this.fromHex(e)}static fromHex(e){e=(0,dp.ensureBytes)("ristrettoHex",e,32);let{a:t,d:r}=du.ed25519.CURVE,n=dD.ORDER,i=dD.create,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",a=dY(e);if(!(0,dp.equalBytes)((0,dp.numberToBytesLE)(a,32),e)||(0,df.isNegativeLE)(a,n))throw Error(o);let s=i(a*a),u=i(dT+t*s),l=i(dT-t*s),c=i(u*u),d=i(l*l),p=i(t*r*c-d),{isValid:f,value:h}=dZ(i(p*d)),m=i(h*l),g=i(h*m*p),y=i((a+a)*m);(0,df.isNegativeLE)(y,n)&&(y=i(-y));let b=i(u*g),_=i(y*b);if(!f||(0,df.isNegativeLE)(_,n)||b===dE)throw Error(o);return new d1(new du.ed25519.Point(y,b,dT,_))}static msm(e,t){let r=(0,df.Field)(du.ed25519.CURVE.n,du.ed25519.CURVE.nBitLength);return(0,dc.pippenger)(d1,r,e,t)}toBytes(){let e,{ex:t,ey:r,ez:n,et:i}=this.ep,o=dD.ORDER,a=dD.create,s=a(a(n+r)*a(n-r)),u=a(t*r),l=a(u*u),{value:c}=dZ(a(s*l)),d=a(c*s),p=a(c*u),f=a(d*p*i);if((0,df.isNegativeLE)(i*f,o)){let n=a(r*dL),i=a(t*dL);t=n,r=i,e=a(d*dG)}else e=p;(0,df.isNegativeLE)(t*f,o)&&(r=a(-r));let h=a((n-r)*e);return(0,df.isNegativeLE)(h,o)&&(h=a(-h)),(0,dp.numberToBytesLE)(h,32)}toRawBytes(){return this.toBytes()}toHex(){return(0,dp.bytesToHex)(this.toBytes())}toString(){return this.toHex()}equals(e){dV(e);let{ex:t,ey:r}=this.ep,{ex:n,ey:i}=e.ep,o=dD.create,a=o(t*i)===o(r*n),s=o(r*i)===o(t*n);return a||s}add(e){return dV(e),new d1(this.ep.add(e.ep))}subtract(e){return dV(e),new d1(this.ep.subtract(e.ep))}multiply(e){return new d1(this.ep.multiply(e))}multiplyUnsafe(e){return new d1(this.ep.multiplyUnsafe(e))}double(){return new d1(this.ep.double())}negate(){return new d1(this.ep.negate())}}du.RistrettoPoint=(d1.BASE||(d1.BASE=new d1(du.ed25519.Point.BASE)),d1.ZERO||(d1.ZERO=new d1(du.ed25519.Point.ZERO)),d1),du.hashToRistretto255=(e,t)=>{let r=t.DST,n="string"==typeof r?(0,dl.utf8ToBytes)(r):r,i=(0,dv.expand_message_xmd)(e,n,64,eg.sha512),o=d1.hashToCurve(i);return o},du.hash_to_ristretto255=du.hashToRistretto255;var d0=eh("9U7pb"),d2=eh("63LgX"),d6={},ds=eh("acDaE"),d4=ds.Buffer,d5=d6&&d6.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),d8=d6&&d6.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d3=d6&&d6.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},d9=d6&&d6.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&d5(t,e,r);return d8(t,e),t},d7=d6&&d6.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(d6,"__esModule",{value:!0}),d6.deserializeUnchecked=d6.deserialize=d6.serialize=d6.BinaryReader=d6.BinaryWriter=d6.BorshError=d6.baseDecode=d6.baseEncode=void 0;let pe=d7(eh("9U7pb")),pt=d7(eh("63LgX")),pr=d9(eh("gbUa2")),pn="function"!=typeof TextDecoder?pr.TextDecoder:TextDecoder,pi=new pn("utf-8",{fatal:!0});d6.baseEncode=function(e){return"string"==typeof e&&(e=d4.from(e,"utf8")),pt.default.encode(d4.from(e))},d6.baseDecode=function(e){return d4.from(pt.default.decode(e))};class po extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}d6.BorshError=po;class pa{constructor(){this.buf=d4.alloc(1024),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=d4.concat([this.buf,d4.alloc(1024)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(d4.from(new pe.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(d4.from(new pe.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(d4.from(new pe.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(d4.from(new pe.default(e).toArray("le",64)))}writeBuffer(e){this.buf=d4.concat([d4.from(this.buf.subarray(0,this.length)),e,d4.alloc(1024)]),this.length+=e.length}writeString(e){this.maybeResize();let t=d4.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(d4.from(e))}writeArray(e,t){for(let r of(this.maybeResize(),this.writeU32(e.length),e))this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function ps(e,t,r){let n=r.value;r.value=function(...e){try{return n.apply(this,e)}catch(e){if(e instanceof RangeError){let t=e.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(t)>=0)throw new po("Reached the end of buffer when deserializing")}throw e}}}d6.BinaryWriter=pa;class pu{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new pe.default(e,"le")}readU128(){let e=this.readBuffer(16);return new pe.default(e,"le")}readU256(){let e=this.readBuffer(32);return new pe.default(e,"le")}readU512(){let e=this.readBuffer(64);return new pe.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new po(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return pi.decode(t)}catch(e){throw new po(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),r=[];for(let n=0;n<t;++n)r.push(e());return r}}function pl(e){return e.charAt(0).toUpperCase()+e.slice(1)}function pc(e,t,r,n,i){try{if("string"==typeof n)i[`write${pl(n)}`](r);else if(n instanceof Array){if("number"==typeof n[0]){if(r.length!==n[0])throw new po(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new po(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let t=0;t<n[1];t++)pc(e,null,r[t],n[0],i)}else i.writeArray(r,r=>{pc(e,t,r,n[0],i)})}else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),pc(e,t,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach((r,o)=>{pc(e,t,o,n.key,i),pc(e,t,r,n.value,i)});break;default:throw new po(`FieldType ${n} unrecognized`)}else pd(e,r,i)}catch(e){throw e instanceof po&&e.addToFieldPath(t),e}}function pd(e,t,r){if("function"==typeof t.borshSerialize){t.borshSerialize(r);return}let n=e.get(t.constructor);if(!n)throw new po(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map(([n,i])=>{pc(e,n,t[n],i,r)});else if("enum"===n.kind){let i=t[n.field];for(let o=0;o<n.values.length;++o){let[a,s]=n.values[o];if(a===i){r.writeU8(o),pc(e,a,t[a],s,r);break}}}else throw new po(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function pp(e,t,r,n){try{if("string"==typeof r)return n[`read${pl(r)}`]();if(r instanceof Array){if("number"==typeof r[0])return n.readFixedArray(r[0]);if("number"!=typeof r[1])return n.readArray(()=>pp(e,t,r[0],n));{let t=[];for(let i=0;i<r[1];i++)t.push(pp(e,null,r[0],n));return t}}if("option"===r.kind){let i=n.readU8();if(i)return pp(e,t,r.type,n);return}if("map"===r.kind){let i=new Map,o=n.readU32();for(let a=0;a<o;a++){let o=pp(e,t,r.key,n),a=pp(e,t,r.value,n);i.set(o,a)}return i}return pf(e,r,n)}catch(e){throw e instanceof po&&e.addToFieldPath(t),e}}function pf(e,t,r){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(r);let n=e.get(t);if(!n)throw new po(`Class ${t.name} is missing in schema`);if("struct"===n.kind){let n={};for(let[i,o]of e.get(t).fields)n[i]=pp(e,i,o,r);return new t(n)}if("enum"===n.kind){let i=r.readU8();if(i>=n.values.length)throw new po(`Enum index: ${i} is out of range`);let[o,a]=n.values[i],s=pp(e,o,a,r);return new t({[o]:s})}throw new po(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}d3([ps],pu.prototype,"readU8",null),d3([ps],pu.prototype,"readU16",null),d3([ps],pu.prototype,"readU32",null),d3([ps],pu.prototype,"readU64",null),d3([ps],pu.prototype,"readU128",null),d3([ps],pu.prototype,"readU256",null),d3([ps],pu.prototype,"readU512",null),d3([ps],pu.prototype,"readString",null),d3([ps],pu.prototype,"readFixedArray",null),d3([ps],pu.prototype,"readArray",null),d6.BinaryReader=pu,d6.serialize=function(e,t,r=pa){let n=new r;return pd(e,t,n),n.toArray()},d6.deserialize=function(e,t,r,n=pu){let i=new n(r),o=pf(e,t,i);if(i.offset<r.length)throw new po(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o},d6.deserializeUnchecked=function(e,t,r,n=pu){let i=new n(r);return pf(e,t,i)};var ph={};Object.defineProperty(ph,"__esModule",{value:!0}),ph.s16=ph.s8=ph.nu64be=ph.u48be=ph.u40be=ph.u32be=ph.u24be=ph.u16be=ph.nu64=ph.u48=ph.u40=ph.u32=ph.u24=ph.u16=ph.u8=ph.offset=ph.greedy=ph.Constant=ph.UTF8=ph.CString=ph.Blob=ph.Boolean=ph.BitField=ph.BitStructure=ph.VariantLayout=ph.Union=ph.UnionLayoutDiscriminator=ph.UnionDiscriminator=ph.Structure=ph.Sequence=ph.DoubleBE=ph.Double=ph.FloatBE=ph.Float=ph.NearInt64BE=ph.NearInt64=ph.NearUInt64BE=ph.NearUInt64=ph.IntBE=ph.Int=ph.UIntBE=ph.UInt=ph.OffsetLayout=ph.GreedyCount=ph.ExternalLayout=ph.bindConstructorLayout=ph.nameWithProperty=ph.Layout=ph.uint8ArrayToBuffer=ph.checkUint8Array=void 0,ph.constant=ph.utf8=ph.cstr=ph.blob=ph.unionLayoutDiscriminator=ph.union=ph.seq=ph.bits=ph.struct=ph.f64be=ph.f64=ph.f32be=ph.f32=ph.ns64be=ph.s48be=ph.s40be=ph.s32be=ph.s24be=ph.s16be=ph.ns64=ph.s48=ph.s40=ph.s32=ph.s24=void 0;var ds=eh("acDaE");function pm(e){if(!(e instanceof Uint8Array))throw TypeError("b must be a Uint8Array")}function pg(e){return pm(e),ds.Buffer.from(e.buffer,e.byteOffset,e.length)}ph.checkUint8Array=pm,ph.uint8ArrayToBuffer=pg;class py{constructor(e,t){if(!Number.isInteger(e))throw TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function pb(e,t){return t.property?e+"["+t.property+"]":e}ph.Layout=py,ph.nameWithProperty=pb,ph.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw Error("Class is already bound to a layout");if(!(t&&t instanceof py))throw TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value:(e,r)=>t.decode(e,r),writable:!0})};class p_ extends py{isCount(){throw Error("ExternalLayout is abstract")}}ph.ExternalLayout=p_;class pw extends p_{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){pm(e);let r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}ph.GreedyCount=pw;class pv extends p_{constructor(e,t=0,r){if(!(e instanceof py))throw TypeError("layout must be a Layout");if(!Number.isInteger(t))throw TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof pk||this.layout instanceof pA}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}ph.OffsetLayout=pv;class pk extends py{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return pg(e).readUIntLE(t,this.span)}encode(e,t,r=0){return pg(t).writeUIntLE(e,r,this.span),this.span}}ph.UInt=pk;class pA extends py{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return pg(e).readUIntBE(t,this.span)}encode(e,t,r=0){return pg(t).writeUIntBE(e,r,this.span),this.span}}ph.UIntBE=pA;class pS extends py{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return pg(e).readIntLE(t,this.span)}encode(e,t,r=0){return pg(t).writeIntLE(e,r,this.span),this.span}}ph.Int=pS;class pI extends py{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return pg(e).readIntBE(t,this.span)}encode(e,t,r=0){return pg(t).writeIntBE(e,r,this.span),this.span}}function pE(e){let t=Math.floor(e/4294967296);return{hi32:t,lo32:e-4294967296*t}}function pT(e,t){return 4294967296*e+t}ph.IntBE=pI;class px extends py{constructor(e){super(8,e)}decode(e,t=0){let r=pg(e),n=r.readUInt32LE(t),i=r.readUInt32LE(t+4);return pT(i,n)}encode(e,t,r=0){let n=pE(e),i=pg(t);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}ph.NearUInt64=px;class pP extends py{constructor(e){super(8,e)}decode(e,t=0){let r=pg(e),n=r.readUInt32BE(t),i=r.readUInt32BE(t+4);return pT(n,i)}encode(e,t,r=0){let n=pE(e),i=pg(t);return i.writeUInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}ph.NearUInt64BE=pP;class pO extends py{constructor(e){super(8,e)}decode(e,t=0){let r=pg(e),n=r.readUInt32LE(t),i=r.readInt32LE(t+4);return pT(i,n)}encode(e,t,r=0){let n=pE(e),i=pg(t);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}ph.NearInt64=pO;class pB extends py{constructor(e){super(8,e)}decode(e,t=0){let r=pg(e),n=r.readInt32BE(t),i=r.readUInt32BE(t+4);return pT(n,i)}encode(e,t,r=0){let n=pE(e),i=pg(t);return i.writeInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}ph.NearInt64BE=pB;class pC extends py{constructor(e){super(4,e)}decode(e,t=0){return pg(e).readFloatLE(t)}encode(e,t,r=0){return pg(t).writeFloatLE(e,r),4}}ph.Float=pC;class pR extends py{constructor(e){super(4,e)}decode(e,t=0){return pg(e).readFloatBE(t)}encode(e,t,r=0){return pg(t).writeFloatBE(e,r),4}}ph.FloatBE=pR;class pM extends py{constructor(e){super(8,e)}decode(e,t=0){return pg(e).readDoubleLE(t)}encode(e,t,r=0){return pg(t).writeDoubleLE(e,r),8}}ph.Double=pM;class pL extends py{constructor(e){super(8,e)}decode(e,t=0){return pg(e).readDoubleBE(t)}encode(e,t,r=0){return pg(t).writeDoubleBE(e,r),8}}ph.DoubleBE=pL;class pN extends py{constructor(e,t,r){if(!(e instanceof py))throw TypeError("elementLayout must be a Layout");if(!(t instanceof p_&&t.isCount()||Number.isInteger(t)&&0<=t))throw TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;t instanceof p_||!(0<e.span)||(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof p_&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t=0){let r=[],n=0,i=this.count;for(i instanceof p_&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r=0){let n=this.elementLayout,i=e.reduce((e,i)=>e+n.encode(i,t,r+e),0);return this.count instanceof p_&&this.count.encode(e.length,t,r),i}}ph.Sequence=pN;class pD extends py{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((e,t)=>e&&t instanceof py,!0)))throw TypeError("fields must be array of Layout instances");for(let n of("boolean"==typeof t&&void 0===r&&(r=t,t=void 0),e))if(0>n.span&&void 0===n.property)throw Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce((e,t)=>e+t.getSpan(),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((r,n)=>{let i=n.getSpan(e,t);return t+=i,r+i},0)}catch(e){throw RangeError("indeterminate span")}return r}decode(e,t=0){pm(e);let r=this.makeDestinationObject();for(let n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){let n=r,i=0,o=0;for(let n of this.fields){let a=n.span;if(o=0<a?a:0,void 0!==n.property){let i=e[n.property];void 0!==i&&(o=n.encode(i,t,r),0>a&&(a=n.getSpan(t,r)))}i=r,r+=a}return i+o-n}fromArray(e){let t=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw TypeError("property must be string");let t=0;for(let r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}ph.Structure=pD;class pF{constructor(e){this.property=e}decode(e,t){throw Error("UnionDiscriminator is abstract")}encode(e,t,r){throw Error("UnionDiscriminator is abstract")}}ph.UnionDiscriminator=pF;class pq extends pF{constructor(e,t){if(!(e instanceof p_&&e.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}ph.UnionLayoutDiscriminator=pq;class pU extends py{constructor(e,t,r){let n;if(e instanceof pk||e instanceof pA)n=new pq(new pv(e));else if(e instanceof p_&&e.isCount())n=new pq(e);else if(e instanceof pF)n=e;else throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof py))throw TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&0<=(i=t.span)&&(e instanceof pk||e instanceof pA)&&(i+=n.layout.span),super(i,r),this.discriminator=n,this.usesPrefixDiscriminator=e instanceof pk||e instanceof pA,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let r=this.getVariant(e,t);if(!r)throw Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw Error("unable to infer src variant")}decode(e,t=0){let r;let n=this.discriminator,i=n.decode(e,t),o=this.registry[i];if(void 0===o){let o=this.defaultLayout,a=0;this.usesPrefixDiscriminator&&(a=n.layout.span),(r=this.makeDestinationObject())[n.property]=i,r[o.property]=o.decode(e,t+a)}else r=o.decode(e,t);return r}encode(e,t,r=0){let n=this.getSourceVariant(e);if(void 0===n){let n=this.discriminator,i=this.defaultLayout,o=0;return this.usesPrefixDiscriminator&&(o=n.layout.span),n.encode(e[n.property],t,r),o+i.encode(e[i.property],t,r+o)}return n.encode(e,t,r)}addVariant(e,t,r){let n=new pj(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t=0){let r;return r=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[r]}}ph.Union=pU;class pj extends py{constructor(e,t,r,n){if(!(e instanceof pU))throw TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof py))throw TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof n)throw TypeError("variant must have a String property")}let i=e.span;0>e.span&&0<=(i=r?r.span:0)&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n}decode(e,t=0){let r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function pW(e){return 0>e&&(e+=4294967296),e}ph.VariantLayout=pj;class pK extends py{constructor(e,t,r){if(!(e instanceof pk||e instanceof pA))throw TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=pW(e),this},this._packedGetValue=function(){return n}}decode(e,t=0){let r=this.makeDestinationObject(),n=this.word.decode(e,t);for(let t of(this._packedSetValue(n),this.fields))void 0!==t.property&&(r[t.property]=t.decode(e));return r}encode(e,t,r=0){let n=this.word.decode(t,r);for(let t of(this._packedSetValue(n),this.fields))if(void 0!==t.property){let r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){let r=new pz(this,e,t);return this.fields.push(r),r}addBoolean(e){let t=new pV(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}}ph.BitStructure=pK;class pz{constructor(e,t,r){if(!(e instanceof pK))throw TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw TypeError("bits must be positive integer");let n=8*e.span,i=e.fields.reduce((e,t)=>e+t.bits,0);if(t+i>n)throw Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=pW(this.valueMask<<this.start),this.property=r}decode(e,t){let r=this.container._packedGetValue(),n=pW(r&this.wordMask),i=n>>>this.start;return i}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==pW(e&this.valueMask))throw TypeError(pb("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),r=pW(e<<this.start);this.container._packedSetValue(pW(t&~this.wordMask)|r)}}ph.BitField=pz;class pV extends pz{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e=+e),super.encode(e)}}ph.Boolean=pV;class pH extends py{constructor(e,t){if(!(e instanceof p_&&e.isCount()||Number.isInteger(e)&&0<=e))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof p_||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),pg(e).slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof p_&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw TypeError(pb("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw RangeError("encoding overruns Uint8Array");let i=pg(e);return pg(t).write(i.toString("hex"),r,n,"hex"),this.length instanceof p_&&this.length.encode(n,t,r),n}}ph.Blob=pH;class pG extends py{constructor(e){super(-1,e)}getSpan(e,t=0){pm(e);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e,t=0){let r=this.getSpan(e,t);return pg(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));let n=ds.Buffer.from(e,"utf8"),i=n.length;if(r+i>t.length)throw RangeError("encoding overruns Buffer");let o=pg(t);return n.copy(o,r),o[r+i]=0,i+1}}ph.CString=pG;class p$ extends py{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return pm(e),e.length-t}decode(e,t=0){let r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw RangeError("text length exceeds maxSpan");return pg(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));let n=ds.Buffer.from(e,"utf8"),i=n.length;if(0<=this.maxSpan&&this.maxSpan<i)throw RangeError("text length exceeds maxSpan");if(r+i>t.length)throw RangeError("encoding overruns Buffer");return n.copy(pg(t),r),i}}ph.UTF8=p$;class pX extends py{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}}function pZ([e,t]){return`${e}=${function e(t){if(Array.isArray(t)){let r=t.map(e).join("%2C%20");return"%5B"+r+"%5D"}return"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}ph.Constant=pX,ph.greedy=(e,t)=>new pw(e,t),ph.offset=(e,t,r)=>new pv(e,t,r),ph.u8=e=>new pk(1,e),ph.u16=e=>new pk(2,e),ph.u24=e=>new pk(3,e),ph.u32=e=>new pk(4,e),ph.u40=e=>new pk(5,e),ph.u48=e=>new pk(6,e),ph.nu64=e=>new px(e),ph.u16be=e=>new pA(2,e),ph.u24be=e=>new pA(3,e),ph.u32be=e=>new pA(4,e),ph.u40be=e=>new pA(5,e),ph.u48be=e=>new pA(6,e),ph.nu64be=e=>new pP(e),ph.s8=e=>new pS(1,e),ph.s16=e=>new pS(2,e),ph.s24=e=>new pS(3,e),ph.s32=e=>new pS(4,e),ph.s40=e=>new pS(5,e),ph.s48=e=>new pS(6,e),ph.ns64=e=>new pO(e),ph.s16be=e=>new pI(2,e),ph.s24be=e=>new pI(3,e),ph.s32be=e=>new pI(4,e),ph.s40be=e=>new pI(5,e),ph.s48be=e=>new pI(6,e),ph.ns64be=e=>new pB(e),ph.f32=e=>new pC(e),ph.f32be=e=>new pR(e),ph.f64=e=>new pM(e),ph.f64be=e=>new pL(e),ph.struct=(e,t,r)=>new pD(e,t,r),ph.bits=(e,t,r)=>new pK(e,t,r),ph.seq=(e,t,r)=>new pN(e,t,r),ph.union=(e,t,r)=>new pU(e,t,r),ph.unionLayoutDiscriminator=(e,t)=>new pq(e,t),ph.blob=(e,t)=>new pH(e,t),ph.cstr=e=>new pG(e),ph.utf8=(e,t)=>new p$(e,t),ph.constant=(e,t)=>new pX(e,t);var pQ=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,n;if(t){let{cause:e,...i}=t;e&&(n={cause:e}),Object.keys(i).length>0&&(r=i)}let i=function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${function(e){let t=Object.entries(e).map(pZ).join("&");return btoa(t)}(t)}'`),`${r}\``}}(e,r);super(i,n),this.context={__code:e,...r},this.name="SolanaError"}};function pY(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}var pJ=((x5=pJ||{})[x5.Little=0]="Little",x5[x5.Big=1]="Big",x5);function p1(e){return e?.endian!==1}var p0=(e={})=>{var t,r;return Object.freeze({...r={fixedSize:(t={config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}).size,write(e,r,n){t.range&&function(e,t,r,n){if(n<t||n>r)throw new pQ(8078011,{codecDescription:e,max:r,min:t,value:n})}(t.name,t.range[0],t.range[1],e);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,p1(t.config)),r.set(new Uint8Array(i),n),n+t.size}},encode:e=>{let t=new Uint8Array("fixedSize"in r?r.fixedSize:r.getSizeFromValue(e));return r.write(e,t,0),t}})},p2=(e={})=>{var t,r;return Object.freeze({...r={fixedSize:(t={config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}).size,read(e,r=0){(function(e,t,r=0){if(t.length-r<=0)throw new pQ(8078e3,{codecDescription:e})})(t.name,e,r),function(e,t,r,n=0){let i=r.length-n;if(i<t)throw new pQ(8078001,{bytesLength:i,codecDescription:e,expected:t})}(t.name,t.size,e,r);let n=new DataView(function(e,t,r){let n=e.byteOffset+(t??0),i=r??e.byteLength;return e.buffer.slice(n,n+i)}(e,r,t.size));return[t.get(n,p1(t.config)),r+t.size]}},decode:(e,t=0)=>r.read(e,t)[0]})},p6=(e={})=>(function(e,t){if(pY(e)!==pY(t))throw new pQ(8078004);if(pY(e)&&pY(t)&&e.fixedSize!==t.fixedSize)throw new pQ(8078005,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!pY(e)&&!pY(t)&&e.maxSize!==t.maxSize)throw new pQ(8078006,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}})(p0(e),p2(e));class p4 extends TypeError{constructor(e,t){let r;let{message:n,explanation:i,...o}=e,{path:a}=e,s=0===a.length?n:`At path: ${a.join(".")} -- ${n}`;super(i??s),null!=i&&(this.cause=s),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function p5(e){return"object"==typeof e&&null!=e}function p8(e){return p5(e)&&!Array.isArray(e)}function p3(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*p9(e,t,r,n){var i;for(let o of(p5(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:i,branch:o}=t,{type:a}=r,{refinement:s,message:u=`Expected a value of type \`${a}\`${s?` with refinement \`${s}\``:""}, but received: \`${p3(n)}\``}=e;return{value:n,type:a,refinement:s,key:i[i.length-1],path:i,branch:o,...e,message:u}}(o,t,r,n);e&&(yield e)}}function*p7(e,t,r={}){let{path:n=[],branch:i=[e],coerce:o=!1,mask:a=!1}=r,s={path:n,branch:i,mask:a};o&&(e=t.coercer(e,s));let u="valid";for(let n of t.validator(e,s))n.explanation=r.message,u="not_valid",yield[n,void 0];for(let[l,c,d]of t.entries(e,s)){let t=p7(c,d,{path:void 0===l?n:[...n,l],branch:void 0===l?i:[...i,c],coerce:o,mask:a,message:r.message});for(let r of t)r[0]?(u=null!=r[0].refinement?"not_refined":"not_valid",yield[r[0],void 0]):o&&(c=r[1],void 0===l?e=c:e instanceof Map?e.set(l,c):e instanceof Set?e.add(c):p5(e)&&(void 0!==c||l in e)&&(e[l]=c))}if("not_valid"!==u)for(let n of t.refiner(e,s))n.explanation=r.message,u="not_refined",yield[n,void 0];"valid"===u&&(yield[void 0,e])}class fe{constructor(e){let{type:t,schema:r,validator:n,refiner:i,coercer:o=e=>e,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,n?this.validator=(e,t)=>{let r=n(e,t);return p9(r,t,this,e)}:this.validator=()=>[],i?this.refiner=(e,t)=>{let r=i(e,t);return p9(r,t,this,e)}:this.refiner=()=>[]}assert(e,t){return function(e,t,r){let n=fn(e,t,{message:r});if(n[0])throw n[0]}(e,this,t)}create(e,t){return ft(e,this,t)}is(e){return fr(e,this)}mask(e,t){return function(e,t,r){let n=fn(e,t,{coerce:!0,mask:!0,message:r});if(!n[0])return n[1];throw n[0]}(e,this,t)}validate(e,t={}){return fn(e,this,t)}}function ft(e,t,r){let n=fn(e,t,{coerce:!0,message:r});if(!n[0])return n[1];throw n[0]}function fr(e,t){let r=fn(e,t);return!r[0]}function fn(e,t,r={}){let n=p7(e,t,r),i=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(n);if(i[0]){let e=new p4(i[0],function*(){for(let e of n)e[0]&&(yield e[0])});return[e,void 0]}{let e=i[1];return[void 0,e]}}function fi(e,t){return new fe({type:e,schema:null,validator:t})}function fo(e){return new fe({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${p3(e)}`})}function fa(){return fi("boolean",e=>"boolean"==typeof e)}function fs(e){return fi("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${p3(t)}`)}function fu(e){let t=p3(e),r=typeof e;return new fe({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${p3(r)}`})}function fl(e){return new fe({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function fc(){return fi("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${p3(e)}`)}function fd(e){return new fe({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function fp(e,t){return new fe({type:"record",schema:null,*entries(r){if(p5(r))for(let n in r){let i=r[n];yield[n,n,e],yield[n,i,t]}},validator:e=>p8(e)||`Expected an object, but received: ${p3(e)}`,coercer:e=>p8(e)?{...e}:e})}function ff(){return fi("string",e=>"string"==typeof e||`Expected a string, but received: ${p3(e)}`)}function fh(e){let t=fi("never",()=>!1);return new fe({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${p3(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function fm(e){let t=Object.keys(e);return new fe({type:"type",schema:e,*entries(r){if(p5(r))for(let n of t)yield[n,r[n],e[n]]},validator:e=>p8(e)||`Expected an object, but received: ${p3(e)}`,coercer:e=>p8(e)?{...e}:e})}function fg(e){let t=e.map(e=>e.type).join(" | ");return new fe({type:"union",schema:null,coercer(t,r){for(let n of e){let[e,i]=n.validate(t,{coerce:!0,mask:r.mask});if(!e)return i}return t},validator(r,n){let i=[];for(let t of e){let[...e]=p7(r,t,n),[o]=e;if(!o[0])return[];for(let[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${p3(r)}`,...i]}})}function fy(){return fi("unknown",()=>!0)}function fb(e,t,r){return new fe({...e,coercer:(n,i)=>fr(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}for(var f_={},fw=new Uint8Array(16),fv=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,fk=[],fA=0;fA<256;++fA)fk.push((fA+256).toString(16).substr(1));var fS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(fk[e[t+0]]+fk[e[t+1]]+fk[e[t+2]]+fk[e[t+3]]+"-"+fk[e[t+4]]+fk[e[t+5]]+"-"+fk[e[t+6]]+fk[e[t+7]]+"-"+fk[e[t+8]]+fk[e[t+9]]+"-"+fk[e[t+10]]+fk[e[t+11]]+fk[e[t+12]]+fk[e[t+13]]+fk[e[t+14]]+fk[e[t+15]]).toLowerCase();if(!("string"==typeof r&&fv.test(r)))throw TypeError("Stringified UUID is invalid");return r},fI=function(e,t,r){var n=(e=e||{}).random||(e.rng||function(){if(!PT&&!(PT="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return PT(fw)})();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return fS(n)},fE={};fE=function(e,t,r,n){if("string"!=typeof e)throw TypeError(e+" must be a string");n=n||{};let i="number"==typeof n.version?n.version:2;if(1!==i&&2!==i)throw TypeError(i+" must be 1 or 2");let o={method:e};if(2===i&&(o.jsonrpc="2.0"),t){if("object"!=typeof t&&!Array.isArray(t))throw TypeError(t+" must be an object, array or omitted");o.params=t}if(void 0===r){let e="function"==typeof n.generator?n.generator:function(){return fI()};o.id=e(o,n)}else 2===i&&null===r?n.notificationIdNull&&(o.id=null):o.id=r;return o};let fT=function(e,t){if(!(this instanceof fT))return new fT(e,t);t||(t={}),this.options={reviver:void 0!==t.reviver?t.reviver:null,replacer:void 0!==t.replacer?t.replacer:null,generator:void 0!==t.generator?t.generator:function(){return fI()},version:void 0!==t.version?t.version:2,notificationIdNull:"boolean"==typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};f_=fT,fT.prototype.request=function(e,t,r,n){let i;let o=this,a=null,s=Array.isArray(e)&&"function"==typeof t;if(1===this.options.version&&s)throw TypeError("JSON-RPC 1.0 does not support batching");let u=!s&&e&&"object"==typeof e&&"function"==typeof t;if(s||u)n=t,a=e;else{"function"==typeof r&&(n=r,r=void 0);let i="function"==typeof n;try{a=fE(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(e){if(i)return n(e);throw e}if(!i)return a}try{i=JSON.stringify(a,this.options.replacer)}catch(e){return n(e)}return this.callServer(i,function(e,t){o._parseResponse(e,t,n)}),a},fT.prototype._parseResponse=function(e,t,r){let n;if(e){r(e);return}if(!t)return r();try{n=JSON.parse(t,this.options.reviver)}catch(e){return r(e)}if(3===r.length){if(!Array.isArray(n))return r(null,n.error,n.result);{let e=function(e){return void 0!==e.error};return r(null,n.filter(e),n.filter(function(t){return!e(t)}))}}r(null,n)};var ds=eh("acDaE"),fx={},fP=Object.prototype.hasOwnProperty,fO="~";function fB(){}function fC(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function fR(e,t,r,n,i){if("function"!=typeof r)throw TypeError("The listener must be a function");var o=new fC(r,n||e,i),a=fO?fO+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],o]:e._events[a].push(o):(e._events[a]=o,e._eventsCount++),e}function fM(e,t){0==--e._eventsCount?e._events=new fB:delete e._events[t]}function fL(){this._events=new fB,this._eventsCount=0}Object.create&&(fB.prototype=Object.create(null),new fB().__proto__||(fO=!1)),fL.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)fP.call(e,t)&&r.push(fO?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},fL.prototype.listeners=function(e){var t=fO?fO+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,o=Array(i);n<i;n++)o[n]=r[n].fn;return o},fL.prototype.listenerCount=function(e){var t=fO?fO+e:e,r=this._events[t];return r?r.fn?1:r.length:0},fL.prototype.emit=function(e,t,r,n,i,o){var a=fO?fO+e:e;if(!this._events[a])return!1;var s,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,n),!0;case 5:return l.fn.call(l.context,t,r,n,i),!0;case 6:return l.fn.call(l.context,t,r,n,i,o),!0}for(u=1,s=Array(c-1);u<c;u++)s[u-1]=arguments[u];l.fn.apply(l.context,s)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,n);break;default:if(!s)for(d=1,s=Array(c-1);d<c;d++)s[d-1]=arguments[d];l[u].fn.apply(l[u].context,s)}}return!0},fL.prototype.on=function(e,t,r){return fR(this,e,t,r,!1)},fL.prototype.once=function(e,t,r){return fR(this,e,t,r,!0)},fL.prototype.removeListener=function(e,t,r,n){var i=fO?fO+e:e;if(!this._events[i])return this;if(!t)return fM(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||fM(this,i);else{for(var a=0,s=[],u=o.length;a<u;a++)(o[a].fn!==t||n&&!o[a].once||r&&o[a].context!==r)&&s.push(o[a]);s.length?this._events[i]=1===s.length?s[0]:s:fM(this,i)}return this},fL.prototype.removeAllListeners=function(e){var t;return e?(t=fO?fO+e:e,this._events[t]&&fM(this,t)):(this._events=new fB,this._eventsCount=0),this},fL.prototype.off=fL.prototype.removeListener,fL.prototype.addListener=fL.prototype.on,fL.prefixed=fO,fL.EventEmitter=fL,fx=fL;var fN=class extends fx.EventEmitter{socket;constructor(e,t,r){super(),this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,r){let n=r||t;try{this.socket.send(e),n()}catch(e){n(e)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,r){this.socket.addEventListener(e,t,r)}},fD=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},fF=class extends fx.EventEmitter{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,t="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...a}={},s,u){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=s||(()=>"number"==typeof this.rpc_id?++this.rpc_id:Number(this.rpc_id)+1),u?this.dataPack=u:this.dataPack=new fD,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,r,n){return n||"object"!=typeof r||(n=r,r=null),new Promise((i,o)=>{if(!this.ready)return o(Error("socket not ready"));let a=this.generate_request_id(e,t);this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:e,params:t||void 0,id:a}),n,e=>{if(e)return o(e);this.queue[a]={promise:[i,o]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(Error("reply timeout"))},r))})})}async login(e){let t=await this.call("rpc.login",e);if(!t)throw Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((r,n)=>{if(!this.ready)return n(Error("socket not ready"));this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:e,params:t}),e=>{if(e)return n(e);r()})})}async subscribe(e){"string"==typeof e&&(e=[e]);let t=await this.call("rpc.on",e);if("string"==typeof e&&"ok"!==t[e])throw Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"==typeof e&&(e=[e]);let t=await this.call("rpc.off",e);if("string"==typeof e&&"ok"!==t[e])throw Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:e})=>{e instanceof ArrayBuffer&&(e=(0,ds.Buffer).from(e).toString());try{e=this.dataPack.decode(e)}catch(e){return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);let t=[e.notification];if(e.params.constructor===Object)t.push(e.params);else for(let r=0;r<e.params.length;r++)t.push(e.params[r]);return Promise.resolve().then(()=>{this.emit.apply(this,t)})}if(!this.queue[e.id])return e.method?Promise.resolve().then(()=>{this.emit(e.method,e?.params)}):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]}),this.socket.addEventListener("error",e=>this.emit("error",e)),this.socket.addEventListener("close",({code:r,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",r,n),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval)))})}},fq={};Object.defineProperty(fq,"__esModule",{value:!0}),fq.shake256=fq.shake128=fq.keccak_512=fq.keccak_384=fq.keccak_256=fq.keccak_224=fq.sha3_512=fq.sha3_384=fq.sha3_256=fq.sha3_224=fq.Keccak=void 0,fq.keccakP=f0;var fU=eh("i02N0"),dl=eh("bHkZ3");let fj=BigInt(0),fW=BigInt(1),fK=BigInt(2),fz=BigInt(7),fV=BigInt(256),fH=BigInt(113),fG=[],f$=[],fX=[];for(let e=0,t=fW,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],fG.push(2*(5*n+r)),f$.push((e+1)*(e+2)/2%64);let i=fj;for(let e=0;e<7;e++)(t=(t<<fW^(t>>fz)*fH)%fV)&fK&&(i^=fW<<(fW<<BigInt(e))-fW);fX.push(i)}let fZ=(0,fU.split)(fX,!0),fQ=fZ[0],fY=fZ[1],fJ=(e,t,r)=>r>32?(0,fU.rotlBH)(e,t,r):(0,fU.rotlSH)(e,t,r),f1=(e,t,r)=>r>32?(0,fU.rotlBL)(e,t,r):(0,fU.rotlSL)(e,t,r);function f0(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,o=r[i],a=r[i+1],s=fJ(o,a,1)^r[n],u=f1(o,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=u}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=f$[r],o=fJ(t,i,n),a=f1(t,i,n),s=fG[r];t=e[s],i=e[s+1],e[s]=o,e[s+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=fQ[n],e[1]^=fY[n]}(0,dl.clean)(r)}class f2 extends dl.Hash{constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,(0,dl.anumber)(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,dl.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,dl.swap32IfBE)(this.state32),f0(this.state32,this.rounds),(0,dl.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,dl.aexists)(this),e=(0,dl.toBytes)(e),(0,dl.abytes)(e);let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,dl.aexists)(this,!1),(0,dl.abytes)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,dl.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,dl.aoutput)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,dl.clean)(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new f2(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}fq.Keccak=f2;let f6=(e,t,r)=>(0,dl.createHasher)(()=>new f2(t,e,r));fq.sha3_224=f6(6,144,28),fq.sha3_256=f6(6,136,32),fq.sha3_384=f6(6,104,48),fq.sha3_512=f6(6,72,64),fq.keccak_224=f6(1,144,28),fq.keccak_256=f6(1,136,32),fq.keccak_384=f6(1,104,48),fq.keccak_512=f6(1,72,64);let f4=(e,t,r)=>(0,dl.createXOFer)((n={})=>new f2(t,e,void 0===n.dkLen?r:n.dkLen,!0));fq.shake128=f4(31,168,16),fq.shake256=f4(31,136,32);var f5=eh("bHZR1");du.ed25519.utils.randomPrivateKey;let f8=()=>{let e=(0,du.ed25519).utils.randomPrivateKey(),t=f3(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},f3=du.ed25519.getPublicKey;function f9(e){try{return(0,du.ed25519).ExtendedPoint.fromHex(e),!0}catch{return!1}}let f7=(e,t)=>(0,du.ed25519).sign(e,t.slice(0,32)),he=du.ed25519.verify,ht=e=>(0,ds.Buffer).isBuffer(e)?e:e instanceof Uint8Array?(0,ds.Buffer).from(e.buffer,e.byteOffset,e.byteLength):(0,ds.Buffer).from(e);class hr{constructor(e){Object.assign(this,e)}encode(){return(0,ds.Buffer).from((0,d6.serialize)(hn,this))}static decode(e){return(0,d6.deserialize)(hn,this,e)}static decodeUnchecked(e){return(0,d6.deserializeUnchecked)(hn,this,e)}}let hn=new Map,hi=1;class ho extends hr{constructor(e){if(super({}),this._bn=void 0,void 0!==e._bn)this._bn=e._bn;else{if("string"==typeof e){let t=ed(d2).decode(e);if(32!=t.length)throw Error("Invalid public key input");this._bn=new(ed(d0))(t)}else this._bn=new(ed(d0))(e);if(this._bn.byteLength()>32)throw Error("Invalid public key input")}}static unique(){let e=new ho(hi);return hi+=1,new ho(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ed(d2).encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(ds.Buffer);if(32===e.length)return e;let t=(0,ds.Buffer).alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){let n=(0,ds.Buffer).concat([e.toBuffer(),(0,ds.Buffer).from(t),r.toBuffer()]),i=(0,em.sha256)(n);return new ho(i)}static createProgramAddressSync(e,t){let r=(0,ds.Buffer).alloc(0);e.forEach(function(e){if(e.length>32)throw TypeError("Max seed length exceeded");r=(0,ds.Buffer).concat([r,ht(e)])}),r=(0,ds.Buffer).concat([r,t.toBuffer(),(0,ds.Buffer).from("ProgramDerivedAddress")]);let n=(0,em.sha256)(r);if(f9(n))throw Error("Invalid seeds, address must fall off the curve");return new ho(n)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,n=255;for(;0!=n;){try{let i=e.concat((0,ds.Buffer).from([n]));r=this.createProgramAddressSync(i,t)}catch(e){if(e instanceof TypeError)throw e;n--;continue}return[r,n]}throw Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){let t=new ho(e);return f9(t.toBytes())}}ho.default=new ho("11111111111111111111111111111111"),hn.set(ho,{kind:"struct",fields:[["_bn","u256"]]}),new ho("BPFLoader1111111111111111111111111111111111");class ha extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ha.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class hs extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(hs.prototype,"name",{value:"TransactionExpiredTimeoutError"});class hu extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(hu.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class hl{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw Error("Account index overflow encountered during compilation");let t=new Map;this.keySegments().flat().forEach((e,r)=>{t.set(e.toBase58(),r)});let r=e=>{let r=t.get(e.toBase58());if(void 0===r)throw Error("Encountered an unknown instruction account key during compilation");return r};return e.map(e=>({programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map(e=>r(e.pubkey)),data:e.data}))}}let hc=(e="publicKey")=>ph.blob(32,e),hd=(e="signature")=>ph.blob(64,e),hp=(e="string")=>{let t=ph.struct([ph.u32("length"),ph.u32("lengthPadding"),ph.blob(ph.offset(ph.u32(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t);return t.decode=(e,t)=>{let n=r(e,t);return n.chars.toString()},t.encode=(e,t,r)=>{let i={chars:(0,ds.Buffer).from(e,"utf8")};return n(i,t,r)},t.alloc=e=>ph.u32().span+ph.u32().span+(0,ds.Buffer).from(e,"utf8").length,t};function hf(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,(128&n)==0)break}return t}function hh(e,t){let r=t;for(;;){let t=127&r;if(0==(r>>=7)){e.push(t);break}t|=128,e.push(t)}}function hm(e,t){if(!e)throw Error(t||"Assertion failed")}class hg{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){let r=new Map,n=e=>{let t=e.toBase58(),n=r.get(t);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(t,n)),n},i=n(t);for(let t of(i.isSigner=!0,i.isWritable=!0,e))for(let e of(n(t.programId).isInvoked=!0,t.keys)){let t=n(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}return new hg(t,r)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];hm(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,e])=>e.isSigner&&e.isWritable),r=e.filter(([,e])=>e.isSigner&&!e.isWritable),n=e.filter(([,e])=>!e.isSigner&&e.isWritable),i=e.filter(([,e])=>!e.isSigner&&!e.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{hm(t.length>0,"Expected at least one writable signer key");let[e]=t[0];hm(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let a=[...t.map(([e])=>new ho(e)),...r.map(([e])=>new ho(e)),...n.map(([e])=>new ho(e)),...i.map(([e])=>new ho(e))];return[o,a]}extractTableLookup(e){let[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&e.isWritable),[n,i]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&!e.isWritable);if(0!==t.length||0!==n.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:n},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){let r=[],n=[];for(let[i,o]of this.keyMetaMap.entries())if(t(o)){let t=new ho(i),o=e.findIndex(e=>e.equals(t));o>=0&&(hm(o<256,"Max lookup table index exceeded"),r.push(o),n.push(t),this.keyMetaMap.delete(i))}return[r,n]}}let hy="Reached end of buffer unexpectedly";function hb(e){if(0===e.length)throw Error(hy);return e.shift()}function h_(e,...t){let[r]=t;if(2===t.length?r+(t[1]??0)>e.length:r>=e.length)throw Error(hy);return e.splice(...t)}class hw{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(e=>new ho(e)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ed(d2).decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new hl(this.staticAccountKeys)}static compile(e){let t=hg.compile(e.instructions,e.payerKey),[r,n]=t.getMessageComponents(),i=new hl(n),o=i.compileInstructions(e.instructions).map(e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:ed(d2).encode(e.data)}));return new hw({header:r,accountKeys:n,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let r=this.accountKeys.length-t,n=r-this.header.numReadonlyUnsignedAccounts;return e-t<n}{let r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];hh(t,e);let r=this.instructions.map(e=>{let{accounts:t,programIdIndex:r}=e,n=Array.from(ed(d2).decode(e.data)),i=[];hh(i,t.length);let o=[];return hh(o,n.length),{programIdIndex:r,keyIndicesCount:(0,ds.Buffer).from(i),keyIndices:t,dataLength:(0,ds.Buffer).from(o),data:n}}),n=[];hh(n,r.length);let i=(0,ds.Buffer).alloc(1232);(0,ds.Buffer).from(n).copy(i);let o=n.length;r.forEach(e=>{let t=ph.struct([ph.u8("programIdIndex"),ph.blob(e.keyIndicesCount.length,"keyIndicesCount"),ph.seq(ph.u8("keyIndex"),e.keyIndices.length,"keyIndices"),ph.blob(e.dataLength.length,"dataLength"),ph.seq(ph.u8("userdatum"),e.data.length,"data")]),r=t.encode(e,i,o);o+=r}),i=i.slice(0,o);let a=ph.struct([ph.blob(1,"numRequiredSignatures"),ph.blob(1,"numReadonlySignedAccounts"),ph.blob(1,"numReadonlyUnsignedAccounts"),ph.blob(t.length,"keyCount"),ph.seq(hc("key"),e,"keys"),hc("recentBlockhash")]),s={numRequiredSignatures:(0,ds.Buffer).from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:(0,ds.Buffer).from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:(0,ds.Buffer).from([this.header.numReadonlyUnsignedAccounts]),keyCount:(0,ds.Buffer).from(t),keys:this.accountKeys.map(e=>ht(e.toBytes())),recentBlockhash:ed(d2).decode(this.recentBlockhash)},u=(0,ds.Buffer).alloc(2048),l=a.encode(s,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e],r=hb(t);if(r!==(127&r))throw Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let n=hb(t),i=hb(t),o=hf(t),a=[];for(let e=0;e<o;e++){let e=h_(t,0,32);a.push(new ho((0,ds.Buffer).from(e)))}let s=h_(t,0,32),u=hf(t),l=[];for(let e=0;e<u;e++){let e=hb(t),r=hf(t),n=h_(t,0,r),i=hf(t),o=h_(t,0,i),a=ed(d2).encode((0,ds.Buffer).from(o));l.push({programIdIndex:e,accounts:n,data:a})}let c={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:ed(d2).encode((0,ds.Buffer).from(s)),accountKeys:a,instructions:l};return new hw(c)}}class hv{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw Error("Failed to get account keys because address table lookups were not resolved");return new hl(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){let t=this.addressTableLookups.reduce((e,t)=>e+t.writableIndexes.length,0);return e-r<t}if(e>=this.header.numRequiredSignatures){let n=r-t-this.header.numReadonlyUnsignedAccounts;return e-t<n}{let r=t-this.header.numReadonlySignedAccounts;return e<r}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let r of this.addressTableLookups){let n=e.find(e=>e.key.equals(r.accountKey));if(!n)throw Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(let e of r.writableIndexes)if(e<n.state.addresses.length)t.writable.push(n.state.addresses[e]);else throw Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`);for(let e of r.readonlyIndexes)if(e<n.state.addresses.length)t.readonly.push(n.state.addresses[e]);else throw Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){let t=hg.compile(e.instructions,e.payerKey),r=[],n={writable:[],readonly:[]},i=e.addressLookupTableAccounts||[];for(let e of i){let i=t.extractTableLookup(e);if(void 0!==i){let[e,{writable:t,readonly:o}]=i;r.push(e),n.writable.push(...t),n.readonly.push(...o)}}let[o,a]=t.getMessageComponents(),s=new hl(a,n),u=s.compileInstructions(e.instructions);return new hv({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){let e=[];hh(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),r=[];hh(r,this.compiledInstructions.length);let n=this.serializeAddressTableLookups(),i=[];hh(i,this.addressTableLookups.length);let o=ph.struct([ph.u8("prefix"),ph.struct([ph.u8("numRequiredSignatures"),ph.u8("numReadonlySignedAccounts"),ph.u8("numReadonlyUnsignedAccounts")],"header"),ph.blob(e.length,"staticAccountKeysLength"),ph.seq(hc(),this.staticAccountKeys.length,"staticAccountKeys"),hc("recentBlockhash"),ph.blob(r.length,"instructionsLength"),ph.blob(t.length,"serializedInstructions"),ph.blob(i.length,"addressTableLookupsLength"),ph.blob(n.length,"serializedAddressTableLookups")]),a=new Uint8Array(1232),s=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(e=>e.toBytes()),recentBlockhash:ed(d2).decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},a);return a.slice(0,s)}serializeInstructions(){let e=0,t=new Uint8Array(1232);for(let r of this.compiledInstructions){let n=[];hh(n,r.accountKeyIndexes.length);let i=[];hh(i,r.data.length);let o=ph.struct([ph.u8("programIdIndex"),ph.blob(n.length,"encodedAccountKeyIndexesLength"),ph.seq(ph.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),ph.blob(i.length,"encodedDataLength"),ph.blob(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(n),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(1232);for(let r of this.addressTableLookups){let n=[];hh(n,r.writableIndexes.length);let i=[];hh(i,r.readonlyIndexes.length);let o=ph.struct([hc("accountKey"),ph.blob(n.length,"encodedWritableIndexesLength"),ph.seq(ph.u8(),r.writableIndexes.length,"writableIndexes"),ph.blob(i.length,"encodedReadonlyIndexesLength"),ph.seq(ph.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(n),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],r=hb(t),n=127&r;hm(r!==n,"Expected versioned message but received legacy message"),hm(0===n,`Expected versioned message with version 0 but found version ${n}`);let i={numRequiredSignatures:hb(t),numReadonlySignedAccounts:hb(t),numReadonlyUnsignedAccounts:hb(t)},o=[],a=hf(t);for(let e=0;e<a;e++)o.push(new ho(h_(t,0,32)));let s=ed(d2).encode(h_(t,0,32)),u=hf(t),l=[];for(let e=0;e<u;e++){let e=hb(t),r=hf(t),n=h_(t,0,r),i=hf(t),o=new Uint8Array(h_(t,0,i));l.push({programIdIndex:e,accountKeyIndexes:n,data:o})}let c=hf(t),d=[];for(let e=0;e<c;e++){let e=new ho(h_(t,0,32)),r=hf(t),n=h_(t,0,r),i=hf(t),o=h_(t,0,i);d.push({accountKey:e,writableIndexes:n,readonlyIndexes:o})}return new hv({header:i,staticAccountKeys:o,recentBlockhash:s,compiledInstructions:l,addressTableLookups:d})}}let hk={deserializeMessageVersion(e){let t=e[0],r=127&t;return r===t?"legacy":r},deserialize:e=>{let t=hk.deserializeMessageVersion(e);if("legacy"===t)return hw.from(e);if(0===t)return hv.deserialize(e);throw Error(`Transaction message version ${t} deserialization is not supported`)}},hA=((x8={})[x8.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",x8[x8.PROCESSED=1]="PROCESSED",x8[x8.TIMED_OUT=2]="TIMED_OUT",x8[x8.NONCE_INVALID=3]="NONCE_INVALID",x8),hS=(0,ds.Buffer).alloc(64).fill(0);class hI{constructor(e){this.keys=void 0,this.programId=void 0,this.data=(0,ds.Buffer).alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class hE{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!e)return;if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{let{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(0===e.length)throw Error("No instructions");return e.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new hI(e))}),this}compileMessage(){let e,t,r;if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw Error("Transaction fee payer required");for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw Error(`Transaction instruction index ${e} has undefined program id`);let n=[],i=[];t.forEach(e=>{e.keys.forEach(e=>{i.push({...e})});let t=e.programId.toString();n.includes(t)||n.push(t)}),n.forEach(e=>{i.push({pubkey:new ho(e),isSigner:!1,isWritable:!1})});let o=[];i.forEach(e=>{let t=e.pubkey.toString(),r=o.findIndex(e=>e.pubkey.toString()===t);r>-1?(o[r].isWritable=o[r].isWritable||e.isWritable,o[r].isSigner=o[r].isSigner||e.isSigner):o.push(e)}),o.sort(function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});let a=o.findIndex(e=>e.pubkey.equals(r));if(a>-1){let[e]=o.splice(a,1);e.isSigner=!0,e.isWritable=!0,o.unshift(e)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(let e of this.signatures){let t=o.findIndex(t=>t.pubkey.equals(e.publicKey));if(t>-1)o[t].isSigner||(o[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw Error(`unknown signer: ${e.publicKey.toString()}`)}let s=0,u=0,l=0,c=[],d=[];o.forEach(({pubkey:e,isSigner:t,isWritable:r})=>{t?(c.push(e.toString()),s+=1,r||(u+=1)):(d.push(e.toString()),r||(l+=1))});let p=c.concat(d),f=t.map(e=>{let{data:t,programId:r}=e;return{programIdIndex:p.indexOf(r.toString()),accounts:e.keys.map(e=>p.indexOf(e.pubkey.toString())),data:ed(d2).encode(t)}});return f.forEach(e=>{hm(e.programIdIndex>=0),e.accounts.forEach(e=>hm(e>=0))}),new hw({header:{numRequiredSignatures:s,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:p,recentBlockhash:e,instructions:f})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){let r=this.signatures.every((e,r)=>t[r].equals(e.publicKey));if(r)return e}return this.signatures=t.map(e=>({signature:null,publicKey:e})),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw Error("No signers");let t=new Set;this.signatures=e.filter(e=>{let r=e.toString();return!t.has(r)&&(t.add(r),!0)}).map(e=>({signature:null,publicKey:e}))}sign(...e){if(0===e.length)throw Error("No signers");let t=new Set,r=[];for(let n of e){let e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}this.signatures=r.map(e=>({signature:null,publicKey:e.publicKey}));let n=this._compile();this._partialSign(n,...r)}partialSign(...e){if(0===e.length)throw Error("No signers");let t=new Set,r=[];for(let n of e){let e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}let n=this._compile();this._partialSign(n,...r)}_partialSign(e,...t){let r=e.serialize();t.forEach(e=>{let t=f7(r,e.secretKey);this._addSignature(e.publicKey,ht(t))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){hm(64===t.length);let r=this.signatures.findIndex(t=>e.equals(t.publicKey));if(r<0)throw Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=(0,ds.Buffer).from(t)}verifySignatures(e=!0){let t=this._getMessageSignednessErrors(this.serializeMessage(),e);return!t}_getMessageSignednessErrors(e,t){let r={};for(let{signature:n,publicKey:i}of this.signatures)null===n?t&&(r.missing||=[]).push(i):he(n,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){let{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r){let e=this._getMessageSignednessErrors(n,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`
Invalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map(e=>e.toBase58()).join("`, `")}\`].`),e.missing&&(t+=`
Missing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map(e=>e.toBase58()).join("`, `")}\`].`),Error(t)}}return this._serialize(n)}_serialize(e){let{signatures:t}=this,r=[];hh(r,t.length);let n=r.length+64*t.length+e.length,i=(0,ds.Buffer).alloc(n);return hm(t.length<256),(0,ds.Buffer).from(r).copy(i,0),t.forEach(({signature:e},t)=>{null!==e&&(hm(64===e.length,"signature has invalid length"),(0,ds.Buffer).from(e).copy(i,r.length+64*t))}),e.copy(i,r.length+64*t.length),hm(i.length<=1232,`Transaction too large: ${i.length} > 1232`),i}get keys(){return hm(1===this.instructions.length),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return hm(1===this.instructions.length),this.instructions[0].programId}get data(){return hm(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e],r=hf(t),n=[];for(let e=0;e<r;e++){let e=h_(t,0,64);n.push(ed(d2).encode((0,ds.Buffer).from(e)))}return hE.populate(hw.from(t),n)}static populate(e,t=[]){let r=new hE;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((t,n)=>{let i={signature:t==ed(d2).encode(hS)?null:ed(d2).decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)}),e.instructions.forEach(t=>{let n=t.accounts.map(t=>{let n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some(e=>e.publicKey.toString()===n.toString())||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}});r.instructions.push(new hI({keys:n,programId:e.accountKeys[t.programIdIndex],data:ed(d2).decode(t.data)}))}),r._message=e,r._json=r.toJSON(),r}}class hT{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){let{header:r,compiledInstructions:n,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:s}=r,u=o-a;hm(u>0,"Message header is invalid");let l=e.staticAccountKeys.length-o-s;hm(l>=0,"Message header is invalid");let c=e.getAccountKeys(t),d=c.get(0);if(void 0===d)throw Error("Failed to decompile message because no account keys were found");let p=[];for(let e of n){let t=[];for(let n of e.accountKeyIndexes){let e;let i=c.get(n);if(void 0===i)throw Error(`Failed to find key for account key index ${n}`);let a=n<o;e=a?n<u:n<c.staticAccountKeys.length?n-o<l:n-c.staticAccountKeys.length<c.accountKeysFromLookups.writable.length,t.push({pubkey:i,isSigner:n<r.numRequiredSignatures,isWritable:e})}let n=c.get(e.programIdIndex);if(void 0===n)throw Error(`Failed to find program id for program id index ${e.programIdIndex}`);p.push(new hI({programId:n,data:ht(e.data),keys:t}))}return new hT({payerKey:d,instructions:p,recentBlockhash:i})}compileToLegacyMessage(){return hw.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return hv.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class hx{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)hm(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{let t=[];for(let r=0;r<e.header.numRequiredSignatures;r++)t.push(new Uint8Array(64));this.signatures=t}this.message=e}serialize(){let e=this.message.serialize(),t=[];hh(t,this.signatures.length);let r=ph.struct([ph.blob(t.length,"encodedSignaturesLength"),ph.seq(hd(),this.signatures.length,"signatures"),ph.blob(e.length,"serializedMessage")]),n=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},n);return n.slice(0,i)}static deserialize(e){let t=[...e],r=[],n=hf(t);for(let e=0;e<n;e++)r.push(new Uint8Array(h_(t,0,64)));let i=hk.deserialize(new Uint8Array(t));return new hx(i,r)}sign(e){let t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let n of e){let e=r.findIndex(e=>e.equals(n.publicKey));hm(e>=0,`Cannot sign with non signer key ${n.publicKey.toBase58()}`),this.signatures[e]=f7(t,n.secretKey)}}addSignature(e,t){hm(64===t.byteLength,"Signature must be 64 bytes long");let r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures),n=r.findIndex(t=>t.equals(e));hm(n>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=t}}let hP=new ho("SysvarC1ock11111111111111111111111111111111");new ho("SysvarEpochSchedu1e111111111111111111111111");let hO=new ho("Sysvar1nstructions1111111111111111111111111"),hB=new ho("SysvarRecentB1ockHashes11111111111111111111"),hC=new ho("SysvarRent111111111111111111111111111111111");new ho("SysvarRewards111111111111111111111111111111"),new ho("SysvarS1otHashes111111111111111111111111111"),new ho("SysvarS1otHistory11111111111111111111111111");let hR=new ho("SysvarStakeHistory1111111111111111111111111");class hM extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:n}){let i;let o=n?`Logs: 
${JSON.stringify(n.slice(-10),null,2)}. `:"",a="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";switch(e){case"send":i=`Transaction ${t} resulted in an error. 
${r}. `+o+a;break;case"simulate":i=`Simulation failed. 
Message: ${r}. 
`+o+a;break;default:i=`Unknown action '${e}'`}super(i),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=n||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(null==e||"object"!=typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(e=>{if(e&&e.meta&&e.meta.logMessages){let r=e.meta.logMessages;this.transactionLogs=r,t(r)}else r(Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class hL extends Error{constructor({code:e,message:t,data:r},n){super(null!=n?`${n}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function hN(e,t,r,n){let i;let o=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},a=await e.sendTransaction(t,r,o);if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)i=(await e.confirmTransaction({abortSignal:n?.abortSignal,signature:a,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){let{nonceInstruction:r}=t.nonceInfo,o=r.keys[0].pubkey;i=(await e.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:o,nonceValue:t.nonceInfo.nonce,signature:a},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),i=(await e.confirmTransaction(a,n&&n.commitment)).value;if(i.err){if(null!=a)throw new hM({action:"send",signature:a,transactionMessage:`Status: (${JSON.stringify(i)})`});throw Error(`Transaction ${a} failed (${JSON.stringify(i)})`)}return a}function hD(e){return new Promise(t=>setTimeout(t,e))}function hF(e,t){let r=e.layout.span>=0?e.layout.span:function e(t,r){let n=t=>{if(t.span>=0)return t.span;if("function"==typeof t.alloc)return t.alloc(r[t.property]);if("count"in t&&"elementLayout"in t){let e=r[t.property];if(Array.isArray(e))return e.length*n(t.elementLayout)}else if("fields"in t)return e({layout:t},r[t.property]);return 0},i=0;return t.layout.fields.forEach(e=>{i+=n(e)}),i}(e,t),n=(0,ds.Buffer).alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}let hq=ph.nu64("lamportsPerSignature"),hU=ph.struct([ph.u32("version"),ph.u32("state"),hc("authorizedPubkey"),hc("nonce"),ph.struct([hq],"feeCalculator")]),hj=hU.span;class hW{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let t=hU.decode(ht(e),0);return new hW({authorizedPubkey:new ho(t.authorizedPubkey),nonce:new ho(t.nonce).toString(),feeCalculator:t.feeCalculator})}}function hK(e){let t=(0,ph.blob)(8,e),r=t.decode.bind(t),n=t.encode.bind(t),i=p6();return t.decode=(e,t)=>{let n=r(e,t);return i.decode(n)},t.encode=(e,t,r)=>{let o=i.encode(e);return n(o,t,r)},t}let hz=Object.freeze({Create:{index:0,layout:ph.struct([ph.u32("instruction"),ph.ns64("lamports"),ph.ns64("space"),hc("programId")])},Assign:{index:1,layout:ph.struct([ph.u32("instruction"),hc("programId")])},Transfer:{index:2,layout:ph.struct([ph.u32("instruction"),hK("lamports")])},CreateWithSeed:{index:3,layout:ph.struct([ph.u32("instruction"),hc("base"),hp("seed"),ph.ns64("lamports"),ph.ns64("space"),hc("programId")])},AdvanceNonceAccount:{index:4,layout:ph.struct([ph.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:ph.struct([ph.u32("instruction"),ph.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:ph.struct([ph.u32("instruction"),hc("authorized")])},AuthorizeNonceAccount:{index:7,layout:ph.struct([ph.u32("instruction"),hc("authorized")])},Allocate:{index:8,layout:ph.struct([ph.u32("instruction"),ph.ns64("space")])},AllocateWithSeed:{index:9,layout:ph.struct([ph.u32("instruction"),hc("base"),hp("seed"),ph.ns64("space"),hc("programId")])},AssignWithSeed:{index:10,layout:ph.struct([ph.u32("instruction"),hc("base"),hp("seed"),hc("programId")])},TransferWithSeed:{index:11,layout:ph.struct([ph.u32("instruction"),hK("lamports"),hp("seed"),hc("programId")])},UpgradeNonceAccount:{index:12,layout:ph.struct([ph.u32("instruction")])}});class hV{constructor(){}static createAccount(e){let t=hz.Create,r=hF(t,{lamports:e.lamports,space:e.space,programId:ht(e.programId.toBuffer())});return new hI({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){let n=hz.TransferWithSeed;t=hF(n,{lamports:BigInt(e.lamports),seed:e.seed,programId:ht(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let n=hz.Transfer;t=hF(n,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new hI({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){let n=hz.AssignWithSeed;t=hF(n,{base:ht(e.basePubkey.toBuffer()),seed:e.seed,programId:ht(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let n=hz.Assign;t=hF(n,{programId:ht(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new hI({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=hz.CreateWithSeed,r=hF(t,{base:ht(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:ht(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new hI({keys:n,programId:this.programId,data:r})}static createNonceAccount(e){let t=new hE;"basePubkey"in e&&"seed"in e?t.add(hV.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:hj,programId:this.programId})):t.add(hV.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:hj,programId:this.programId}));let r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){let t=hz.InitializeNonceAccount,r=hF(t,{authorized:ht(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:hB,isSigner:!1,isWritable:!1},{pubkey:hC,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new hI(n)}static nonceAdvance(e){let t=hz.AdvanceNonceAccount,r=hF(t),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:hB,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new hI(n)}static nonceWithdraw(e){let t=hz.WithdrawNonceAccount,r=hF(t,{lamports:e.lamports});return new hI({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:hB,isSigner:!1,isWritable:!1},{pubkey:hC,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){let t=hz.AuthorizeNonceAccount,r=hF(t,{authorized:ht(e.newAuthorizedPubkey.toBuffer())});return new hI({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){let n=hz.AllocateWithSeed;t=hF(n,{base:ht(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:ht(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let n=hz.Allocate;t=hF(n,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new hI({keys:r,programId:this.programId,data:t})}}hV.programId=new ho("11111111111111111111111111111111");class hH{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/hH.chunkSize)+1+1)}static async load(e,t,r,n,i){{let o=await e.getMinimumBalanceForRentExemption(i.length),a=await e.getAccountInfo(r.publicKey,"confirmed"),s=null;if(null!==a){if(a.executable)return console.error("Program load failed, account is already executable"),!1;a.data.length!==i.length&&(s=s||new hE).add(hV.allocate({accountPubkey:r.publicKey,space:i.length})),a.owner.equals(n)||(s=s||new hE).add(hV.assign({accountPubkey:r.publicKey,programId:n})),a.lamports<o&&(s=s||new hE).add(hV.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:o-a.lamports}))}else s=new hE().add(hV.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:o>0?o:1,space:i.length,programId:n}));null!==s&&await hN(e,s,[t,r],{commitment:"confirmed"})}let o=ph.struct([ph.u32("instruction"),ph.u32("offset"),ph.u32("bytesLength"),ph.u32("bytesLengthPadding"),ph.seq(ph.u8("byte"),ph.offset(ph.u32(),-8),"bytes")]),a=hH.chunkSize,s=0,u=i,l=[];for(;u.length>0;){let i=u.slice(0,a),c=(0,ds.Buffer).alloc(a+16);o.encode({instruction:0,offset:s,bytes:i,bytesLength:0,bytesLengthPadding:0},c);let d=new hE().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:c});l.push(hN(e,d,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await hD(250),s+=a,u=u.slice(a)}await Promise.all(l);{let i=ph.struct([ph.u32("instruction")]),o=(0,ds.Buffer).alloc(i.span);i.encode({instruction:1},o);let a=new hE().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:hC,isSigner:!1,isWritable:!1}],programId:n,data:o}),s="processed",u=await e.sendTransaction(a,[t,r],{preflightCommitment:s}),{context:l,value:c}=await e.confirmTransaction({signature:u,lastValidBlockHeight:a.lastValidBlockHeight,blockhash:a.recentBlockhash},s);if(c.err)throw Error(`Transaction ${u} failed (${JSON.stringify(c)})`);for(;;){try{let t=await e.getSlot({commitment:s});if(t>l.slot)break}catch{}await new Promise(e=>setTimeout(e,Math.round(200)))}}return!0}}hH.chunkSize=932,new ho("BPFLoader2111111111111111111111111111111111");var hG=(x3=function(){if(PP)return Px;PP=1;var e=Object.prototype.toString,t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};return Px=function(r){var n=function r(n,i){var o,a,s,u,l,c,d;if(!0===n)return"true";if(!1===n)return"false";switch(typeof n){case"object":if(null===n)return null;if(n.toJSON&&"function"==typeof n.toJSON)return r(n.toJSON(),i);if("[object Array]"===(d=e.call(n))){for(o=0,s="[",a=n.length-1;o<a;o++)s+=r(n[o],!0)+",";return a>-1&&(s+=r(n[o],!0)),s+"]"}if("[object Object]"!==d)return JSON.stringify(n);for(a=(u=t(n).sort()).length,s="",o=0;o<a;)void 0!==(c=r(n[l=u[o]],!1))&&(s&&(s+=","),s+=JSON.stringify(l)+":"+c),o++;return"{"+s+"}";case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}(r,!1);if(void 0!==n)return""+n}}())&&x3.__esModule&&Object.prototype.hasOwnProperty.call(x3,"default")?x3.default:x3;function h$(e){let t=0;for(;e>1;)e/=2,t++;return t}class hX{constructor(e,t,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){var t;let r=h$(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,(t|=t>>32)+1))-h$(32)-1,n=this.getSlotsInEpoch(r);return[r,e-(n-32)]}{let t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),n=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[n,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*32:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+h$(32)):this.slotsPerEpoch}}var hZ=globalThis.fetch;class hQ extends fF{constructor(e,t,r){super(e=>{let r=new fN(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in r?this.underlyingSocket=r.socket:this.underlyingSocket=r,r},e,t,r),this.underlyingSocket=void 0}call(...e){let t=this.underlyingSocket?.readyState;return 1===t?super.call(...e):Promise.reject(Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){let t=this.underlyingSocket?.readyState;return 1===t?super.notify(...e):Promise.reject(Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}class hY{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let t=function(e,t){let r;try{r=e.layout.decode(t)}catch(e){throw Error("invalid instruction; "+e)}if(r.typeIndex!==e.index)throw Error(`invalid account data; account type mismatch ${r.typeIndex} != ${e.index}`);return r}(hJ,e),r=e.length-56;hm(r>=0,"lookup table is invalid"),hm(r%32==0,"lookup table is invalid");let{addresses:n}=ph.struct([ph.seq(hc(),r/32,"addresses")]).decode(e.slice(56));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new ho(t.authority[0]):void 0,addresses:n.map(e=>new ho(e))}}}let hJ={index:1,layout:ph.struct([ph.u32("typeIndex"),hK("deactivationSlot"),ph.nu64("lastExtendedSlot"),ph.u8("lastExtendedStartIndex"),ph.u8(),ph.seq(hc(),ph.offset(ph.u8(),-1),"authority")])},h1=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i,h0=fb(fs(ho),ff(),e=>new ho(e)),h2=fh([ff(),fu("base64")]),h6=fb(fs(ds.Buffer),h2,e=>(0,ds.Buffer).from(e[0],"base64"));function h4(e){let t,r;if("string"==typeof e)t=e;else if(e){let{commitment:n,...i}=e;t=n,r=i}return{commitment:t,config:r}}function h5(e){return e.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function h8(e){return fg([fm({jsonrpc:fu("2.0"),id:ff(),result:e}),fm({jsonrpc:fu("2.0"),id:ff(),error:fm({code:fy(),message:ff(),data:fd(fi("any",()=>!0))})})])}let h3=h8(fy());function h9(e){return fb(h8(e),h3,t=>"error"in t?t:{...t,result:ft(t.result,e)})}function h7(e){return h9(fm({context:fm({slot:fc()}),value:e}))}function me(e){return fm({context:fm({slot:fc()}),value:e})}function mt(e,t){return 0===e?new hv({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new ho(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ed(d2).decode(e.data)})),addressTableLookups:t.addressTableLookups}):new hw(t)}let mr=fm({foundation:fc(),foundationTerm:fc(),initial:fc(),taper:fc(),terminal:fc()}),mn=h9(fo(fl(fm({epoch:fc(),effectiveSlot:fc(),amount:fc(),postBalance:fc(),commission:fd(fl(fc()))})))),mi=fo(fm({slot:fc(),prioritizationFee:fc()})),mo=fm({total:fc(),validator:fc(),foundation:fc(),epoch:fc()}),ma=fm({epoch:fc(),slotIndex:fc(),slotsInEpoch:fc(),absoluteSlot:fc(),blockHeight:fd(fc()),transactionCount:fd(fc())}),ms=fm({slotsPerEpoch:fc(),leaderScheduleSlotOffset:fc(),warmup:fa(),firstNormalEpoch:fc(),firstNormalSlot:fc()}),mu=fp(ff(),fo(fc())),ml=fl(fg([fm({}),ff()])),mc=fm({err:ml}),md=fu("receivedSignature"),mp=fm({"solana-core":ff(),"feature-set":fd(fc())}),mf=fm({program:ff(),programId:h0,parsed:fy()}),mh=fm({programId:h0,accounts:fo(h0),data:ff()}),mm=h7(fm({err:fl(fg([fm({}),ff()])),logs:fl(fo(ff())),accounts:fd(fl(fo(fl(fm({executable:fa(),owner:ff(),lamports:fc(),data:fo(ff()),rentEpoch:fd(fc())}))))),unitsConsumed:fd(fc()),returnData:fd(fl(fm({programId:ff(),data:fh([ff(),fu("base64")])}))),innerInstructions:fd(fl(fo(fm({index:fc(),instructions:fo(fg([mf,mh]))}))))})),mg=h7(fm({byIdentity:fp(ff(),fo(fc())),range:fm({firstSlot:fc(),lastSlot:fc()})})),my=h9(mr),mb=h9(mo),m_=h9(mi),mw=h9(ma),mv=h9(ms),mk=h9(mu),mA=h9(fc()),mS=h7(fm({total:fc(),circulating:fc(),nonCirculating:fc(),nonCirculatingAccounts:fo(h0)})),mI=fm({amount:ff(),uiAmount:fl(fc()),decimals:fc(),uiAmountString:fd(ff())}),mE=h7(fo(fm({address:h0,amount:ff(),uiAmount:fl(fc()),decimals:fc(),uiAmountString:fd(ff())}))),mT=h7(fo(fm({pubkey:h0,account:fm({executable:fa(),owner:h0,lamports:fc(),data:h6,rentEpoch:fc()})}))),mx=fm({program:ff(),parsed:fy(),space:fc()}),mP=h7(fo(fm({pubkey:h0,account:fm({executable:fa(),owner:h0,lamports:fc(),data:mx,rentEpoch:fc()})}))),mO=h7(fo(fm({lamports:fc(),address:h0}))),mB=fm({executable:fa(),owner:h0,lamports:fc(),data:h6,rentEpoch:fc()}),mC=fm({pubkey:h0,account:mB}),mR=fb(fg([fs(ds.Buffer),mx]),fg([h2,mx]),e=>Array.isArray(e)?ft(e,h6):e),mM=fm({executable:fa(),owner:h0,lamports:fc(),data:mR,rentEpoch:fc()}),mL=fm({pubkey:h0,account:mM}),mN=fm({state:fg([fu("active"),fu("inactive"),fu("activating"),fu("deactivating")]),active:fc(),inactive:fc()}),mD=h9(fo(fm({signature:ff(),slot:fc(),err:ml,memo:fl(ff()),blockTime:fd(fl(fc()))}))),mF=h9(fo(fm({signature:ff(),slot:fc(),err:ml,memo:fl(ff()),blockTime:fd(fl(fc()))}))),mq=fm({subscription:fc(),result:me(mB)}),mU=fm({pubkey:h0,account:mB}),mj=fm({subscription:fc(),result:me(mU)}),mW=fm({parent:fc(),slot:fc(),root:fc()}),mK=fm({subscription:fc(),result:mW}),mz=fg([fm({type:fg([fu("firstShredReceived"),fu("completed"),fu("optimisticConfirmation"),fu("root")]),slot:fc(),timestamp:fc()}),fm({type:fu("createdBank"),parent:fc(),slot:fc(),timestamp:fc()}),fm({type:fu("frozen"),slot:fc(),timestamp:fc(),stats:fm({numTransactionEntries:fc(),numSuccessfulTransactions:fc(),numFailedTransactions:fc(),maxTransactionsPerEntry:fc()})}),fm({type:fu("dead"),slot:fc(),timestamp:fc(),err:ff()})]),mV=fm({subscription:fc(),result:mz}),mH=fm({subscription:fc(),result:me(fg([mc,md]))}),mG=fm({subscription:fc(),result:fc()}),m$=fm({pubkey:ff(),gossip:fl(ff()),tpu:fl(ff()),rpc:fl(ff()),version:fl(ff())}),mX=fm({votePubkey:ff(),nodePubkey:ff(),activatedStake:fc(),epochVoteAccount:fa(),epochCredits:fo(fh([fc(),fc(),fc()])),commission:fc(),lastVote:fc(),rootSlot:fl(fc())}),mZ=h9(fm({current:fo(mX),delinquent:fo(mX)})),mQ=fg([fu("processed"),fu("confirmed"),fu("finalized")]),mY=fm({slot:fc(),confirmations:fl(fc()),err:ml,confirmationStatus:fd(mQ)}),mJ=h7(fo(fl(mY))),m1=h9(fc()),m0=fm({accountKey:h0,writableIndexes:fo(fc()),readonlyIndexes:fo(fc())}),m2=fm({signatures:fo(ff()),message:fm({accountKeys:fo(ff()),header:fm({numRequiredSignatures:fc(),numReadonlySignedAccounts:fc(),numReadonlyUnsignedAccounts:fc()}),instructions:fo(fm({accounts:fo(fc()),data:ff(),programIdIndex:fc()})),recentBlockhash:ff(),addressTableLookups:fd(fo(m0))})}),m6=fm({pubkey:h0,signer:fa(),writable:fa(),source:fd(fg([fu("transaction"),fu("lookupTable")]))}),m4=fm({accountKeys:fo(m6),signatures:fo(ff())}),m5=fm({parsed:fy(),program:ff(),programId:h0}),m8=fm({accounts:fo(h0),data:ff(),programId:h0}),m3=fg([m8,m5]),m9=fg([fm({parsed:fy(),program:ff(),programId:ff()}),fm({accounts:fo(ff()),data:ff(),programId:ff()})]),m7=fb(m3,m9,e=>"accounts"in e?ft(e,m8):ft(e,m5)),ge=fm({signatures:fo(ff()),message:fm({accountKeys:fo(m6),instructions:fo(m7),recentBlockhash:ff(),addressTableLookups:fd(fl(fo(m0)))})}),gt=fm({accountIndex:fc(),mint:ff(),owner:fd(ff()),programId:fd(ff()),uiTokenAmount:mI}),gr=fm({writable:fo(h0),readonly:fo(h0)}),gn=fm({err:ml,fee:fc(),innerInstructions:fd(fl(fo(fm({index:fc(),instructions:fo(fm({accounts:fo(fc()),data:ff(),programIdIndex:fc()}))})))),preBalances:fo(fc()),postBalances:fo(fc()),logMessages:fd(fl(fo(ff()))),preTokenBalances:fd(fl(fo(gt))),postTokenBalances:fd(fl(fo(gt))),loadedAddresses:fd(gr),computeUnitsConsumed:fd(fc()),costUnits:fd(fc())}),gi=fm({err:ml,fee:fc(),innerInstructions:fd(fl(fo(fm({index:fc(),instructions:fo(m7)})))),preBalances:fo(fc()),postBalances:fo(fc()),logMessages:fd(fl(fo(ff()))),preTokenBalances:fd(fl(fo(gt))),postTokenBalances:fd(fl(fo(gt))),loadedAddresses:fd(gr),computeUnitsConsumed:fd(fc()),costUnits:fd(fc())}),go=fg([fu(0),fu("legacy")]),ga=fm({pubkey:ff(),lamports:fc(),postBalance:fl(fc()),rewardType:fl(ff()),commission:fd(fl(fc()))}),gs=h9(fl(fm({blockhash:ff(),previousBlockhash:ff(),parentSlot:fc(),transactions:fo(fm({transaction:m2,meta:fl(gn),version:fd(go)})),rewards:fd(fo(ga)),blockTime:fl(fc()),blockHeight:fl(fc())}))),gu=h9(fl(fm({blockhash:ff(),previousBlockhash:ff(),parentSlot:fc(),rewards:fd(fo(ga)),blockTime:fl(fc()),blockHeight:fl(fc())}))),gl=h9(fl(fm({blockhash:ff(),previousBlockhash:ff(),parentSlot:fc(),transactions:fo(fm({transaction:m4,meta:fl(gn),version:fd(go)})),rewards:fd(fo(ga)),blockTime:fl(fc()),blockHeight:fl(fc())}))),gc=h9(fl(fm({blockhash:ff(),previousBlockhash:ff(),parentSlot:fc(),transactions:fo(fm({transaction:ge,meta:fl(gi),version:fd(go)})),rewards:fd(fo(ga)),blockTime:fl(fc()),blockHeight:fl(fc())}))),gd=h9(fl(fm({blockhash:ff(),previousBlockhash:ff(),parentSlot:fc(),transactions:fo(fm({transaction:m4,meta:fl(gi),version:fd(go)})),rewards:fd(fo(ga)),blockTime:fl(fc()),blockHeight:fl(fc())}))),gp=h9(fl(fm({blockhash:ff(),previousBlockhash:ff(),parentSlot:fc(),rewards:fd(fo(ga)),blockTime:fl(fc()),blockHeight:fl(fc())}))),gf=h9(fl(fm({blockhash:ff(),previousBlockhash:ff(),parentSlot:fc(),transactions:fo(fm({transaction:m2,meta:fl(gn)})),rewards:fd(fo(ga)),blockTime:fl(fc())}))),gh=h9(fl(fm({blockhash:ff(),previousBlockhash:ff(),parentSlot:fc(),signatures:fo(ff()),blockTime:fl(fc())}))),gm=h9(fl(fm({slot:fc(),meta:fl(gn),blockTime:fd(fl(fc())),transaction:m2,version:fd(go)}))),gg=h9(fl(fm({slot:fc(),transaction:ge,meta:fl(gi),blockTime:fd(fl(fc())),version:fd(go)}))),gy=h7(fm({blockhash:ff(),lastValidBlockHeight:fc()})),gb=h7(fa()),g_=fm({slot:fc(),numTransactions:fc(),numSlots:fc(),samplePeriodSecs:fc()}),gw=h9(fo(g_)),gv=h7(fl(fm({feeCalculator:fm({lamportsPerSignature:fc()})}))),gk=h9(ff()),gA=h9(ff()),gS=fm({err:ml,logs:fo(ff()),signature:ff()}),gI=fm({result:me(gS),subscription:fc()}),gE={"solana-client":"js/1.0.0-maintenance"};class gT{constructor(e,t){var r,n;let i,o,a,s,u,l;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let e={};return async t=>{let{commitment:r,config:n}=h4(t),i=this._buildArgs([],r,void 0,n),o=hG(i);return e[o]=e[o]??(async()=>{try{let e=await this._rpcRequest("getBlockHeight",i),t=ft(e,h9(fc()));if("error"in t)throw new hL(t.error,"failed to get block height information");return t.result}finally{delete e[o]}})(),await e[o]}})(),t&&"string"==typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,i=t.wsEndpoint,o=t.httpHeaders,a=t.fetch,s=t.fetchMiddleware,u=t.disableRetryOnRateLimit,l=t.httpAgent),this._rpcEndpoint=function(e){if(!1===/^https?:/.test(e))throw TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=i||function(e){let t=e.match(h1);if(null==t)throw TypeError(`Failed to validate endpoint URL \`${e}\``);let[r,n,i,o]=t,a=e.startsWith("https:")?"wss:":"ws:",s=null==i?null:parseInt(i.slice(1),10),u=null==s?"":`:${s+1}`;return`${a}//${n}${u}${o}`}(e),this._rpcClient=function(e,t,r,n,i,o){let a,s;let u=r||hZ;null!=o&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),n&&(s=async(e,t)=>{let r=await new Promise((r,i)=>{try{n(e,t,(e,t)=>r([e,t]))}catch(e){i(e)}});return await u(...r)});let l=new(ed(f_))(async(r,n)=>{let o={method:"POST",body:r,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},gE)};try{let t,r=5,a=500;for(;t=s?await s(e,o):await u(e,o),429===t.status&&!0!==i&&(r-=1,0!==r);)console.error(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${a}ms delay...`),await hD(a),a*=2;let l=await t.text();t.ok?n(null,l):n(Error(`${t.status} ${t.statusText}: ${l}`))}catch(e){e instanceof Error&&n(e)}},{});return l}(e,o,a,s,u,l),this._rpcRequest=(r=this._rpcClient,(e,t)=>new Promise((n,i)=>{r.request(e,t,(e,t)=>{if(e){i(e);return}n(t)})})),this._rpcBatchRequest=(n=this._rpcClient,e=>new Promise((t,r)=>{0===e.length&&t([]);let i=e.map(e=>n.request(e.methodName,e.args));n.request(i,(e,n)=>{if(e){r(e);return}t(n)})})),this._rpcWebSocket=new hQ(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){let{commitment:r,config:n}=h4(t),i=this._buildArgs([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getBalance",i),a=ft(o,h7(fc()));if("error"in a)throw new hL(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(e=>e.value).catch(t=>{throw Error("failed to get balance of account "+e.toBase58()+": "+t)})}async getBlockTime(e){let t=await this._rpcRequest("getBlockTime",[e]),r=ft(t,h9(fl(fc())));if("error"in r)throw new hL(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),t=ft(e,h9(fc()));if("error"in t)throw new hL(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),t=ft(e,mA);if("error"in t)throw new hL(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};t="string"==typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};let r=await this._rpcRequest("getSupply",[t]),n=ft(r,mS);if("error"in n)throw new hL(n.error,"failed to get supply");return n.result}async getTokenSupply(e,t){let r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenSupply",r),i=ft(n,h7(mI));if("error"in i)throw new hL(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){let r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenAccountBalance",r),i=ft(n,h7(mI));if("error"in i)throw new hL(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){let{commitment:n,config:i}=h4(r),o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});let a=this._buildArgs(o,n,"base64",i),s=await this._rpcRequest("getTokenAccountsByOwner",a),u=ft(s,mT);if("error"in u)throw new hL(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});let i=this._buildArgs(n,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=ft(o,mP);if("error"in a)throw new hL(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){let t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],n=await this._rpcRequest("getLargestAccounts",r),i=ft(n,mO);if("error"in i)throw new hL(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){let r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenLargestAccounts",r),i=ft(n,mE);if("error"in i)throw new hL(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){let{commitment:r,config:n}=h4(t),i=this._buildArgs([e.toBase58()],r,"base64",n),o=await this._rpcRequest("getAccountInfo",i),a=ft(o,h7(fl(mB)));if("error"in a)throw new hL(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){let{commitment:r,config:n}=h4(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",n),o=await this._rpcRequest("getAccountInfo",i),a=ft(o,h7(fl(mM)));if("error"in a)throw new hL(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{let r=await this.getAccountInfoAndContext(e,t);return r.value}catch(t){throw Error("failed to get info about account "+e.toBase58()+": "+t)}}async getMultipleParsedAccounts(e,t){let{commitment:r,config:n}=h4(t),i=e.map(e=>e.toBase58()),o=this._buildArgs([i],r,"jsonParsed",n),a=await this._rpcRequest("getMultipleAccounts",o),s=ft(a,h7(fo(fl(mM))));if("error"in s)throw new hL(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfoAndContext(e,t){let{commitment:r,config:n}=h4(t),i=e.map(e=>e.toBase58()),o=this._buildArgs([i],r,"base64",n),a=await this._rpcRequest("getMultipleAccounts",o),s=ft(a,h7(fo(fl(mB))));if("error"in s)throw new hL(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfo(e,t){let r=await this.getMultipleAccountsInfoAndContext(e,t);return r.value}async getStakeActivation(e,t,r){let{commitment:n,config:i}=h4(t),o=this._buildArgs([e.toBase58()],n,void 0,{...i,epoch:null!=r?r:i?.epoch}),a=await this._rpcRequest("getStakeActivation",o),s=ft(a,h9(mN));if("error"in s)throw new hL(s.error,`failed to get Stake Activation ${e.toBase58()}`);return s.result}async getProgramAccounts(e,t){let{commitment:r,config:n}=h4(t),{encoding:i,...o}=n||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:h5(o.filters)}:null}),s=await this._rpcRequest("getProgramAccounts",a),u=fo(mC),l=!0===o.withContext?ft(s,h7(u)):ft(s,h9(u));if("error"in l)throw new hL(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){let{commitment:r,config:n}=h4(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",n),o=await this._rpcRequest("getProgramAccounts",i),a=ft(o,h9(fo(mL)));if("error"in a)throw new hL(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){let r,n;if("string"==typeof e)r=e;else{if(e.abortSignal?.aborted)return Promise.reject(e.abortSignal.reason);r=e.signature}try{n=ed(d2).decode(r)}catch(e){throw Error("signature must be base58 encoded: "+r)}return(hm(64===n.length,"signature has invalid length"),"string"==typeof e)?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{null!=e&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,n;let i=!1,o=new Promise((o,a)=>{try{r=this.onSignature(t,(e,t)=>{r=void 0,o({__type:hA.PROCESSED,response:{context:t,value:e}})},e);let s=new Promise(e=>{null==r?e():n=this._onSubscriptionStateChange(r,t=>{"subscribed"===t&&e()})});(async()=>{if(await s,i)return;let r=await this.getSignatureStatus(t);if(i||null==r)return;let{context:n,value:u}=r;if(null!=u){if(u?.err)a(u.err);else{switch(e){case"confirmed":case"single":case"singleGossip":if("processed"===u.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===u.confirmationStatus||"confirmed"===u.confirmationStatus)return}i=!0,o({__type:hA.PROCESSED,response:{context:n,value:u}})}}})()}catch(e){a(e)}});return{abortConfirmation:()=>{n&&(n(),n=void 0),null!=r&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:n}}){let i,o=!1,a=new Promise(t=>{let n=async()=>{try{let t=await this.getBlockHeight(e);return t}catch(e){return -1}};(async()=>{let e=await n();if(!o){for(;e<=r;)if(await hD(1e3),o||(e=await n(),o))return;t({__type:hA.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:s,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:n}),l=this.getCancellationPromise(t);try{let e=await Promise.race([l,u,a]);if(e.__type===hA.PROCESSED)i=e.response;else throw new ha(n)}finally{o=!0,s()}return i}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:n,nonceValue:i,signature:o}}){let a,s=!1,u=new Promise(t=>{let o=i,a=null,u=async()=>{try{let{context:t,value:i}=await this.getNonceAndContext(n,{commitment:e,minContextSlot:r});return a=t.slot,i?.nonce}catch(e){return o}};(async()=>{if(o=await u(),!s)for(;;){if(i!==o){t({__type:hA.NONCE_INVALID,slotInWhichNonceDidAdvance:a});return}if(await hD(2e3),s||(o=await u(),s))return}})()}),{abortConfirmation:l,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);try{let t=await Promise.race([d,c,u]);if(t.__type===hA.PROCESSED)a=t.response;else{let n;for(;;){let e=await this.getSignatureStatus(o);if(null==e)break;if(e.context.slot<(t.slotInWhichNonceDidAdvance??r)){await hD(400);continue}n=e;break}if(n?.value){let t=e||"finalized",{confirmationStatus:r}=n.value;switch(t){case"processed":case"recent":if("processed"!==r&&"confirmed"!==r&&"finalized"!==r)throw new hu(o);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==r&&"finalized"!==r)throw new hu(o);break;case"finalized":case"max":case"root":if("finalized"!==r)throw new hu(o)}a={context:n.context,value:{err:n.value.err}}}else throw new hu(o)}}finally{s=!0,l()}return a}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r,n;let i=new Promise(t=>{let n=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":n=this._confirmTransactionInitialTimeout||3e4}r=setTimeout(()=>t({__type:hA.TIMED_OUT,timeoutMs:n}),n)}),{abortConfirmation:o,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:t});try{let e=await Promise.race([a,i]);if(e.__type===hA.PROCESSED)n=e.response;else throw new hs(t,e.timeoutMs/1e3)}finally{clearTimeout(r),o()}return n}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),t=ft(e,h9(fo(m$)));if("error"in t)throw new hL(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){let t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),n=ft(r,mZ);if("error"in n)throw new hL(n.error,"failed to get vote accounts");return n.result}async getSlot(e){let{commitment:t,config:r}=h4(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",n),o=ft(i,h9(fc()));if("error"in o)throw new hL(o.error,"failed to get slot");return o.result}async getSlotLeader(e){let{commitment:t,config:r}=h4(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",n),o=ft(i,h9(ff()));if("error"in o)throw new hL(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){let r=await this._rpcRequest("getSlotLeaders",[e,t]),n=ft(r,h9(fo(h0)));if("error"in n)throw new hL(n.error,"failed to get slot leaders");return n.result}async getSignatureStatus(e,t){let{context:r,value:n}=await this.getSignatureStatuses([e],t);hm(1===n.length);let i=n[0];return{context:r,value:i}}async getSignatureStatuses(e,t){let r=[e];t&&r.push(t);let n=await this._rpcRequest("getSignatureStatuses",r),i=ft(n,mJ);if("error"in i)throw new hL(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){let{commitment:t,config:r}=h4(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",n),o=ft(i,h9(fc()));if("error"in o)throw new hL(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){let t=await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0});return t.value.total}async getInflationGovernor(e){let t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),n=ft(r,my);if("error"in n)throw new hL(n.error,"failed to get inflation");return n.result}async getInflationReward(e,t,r){let{commitment:n,config:i}=h4(r),o=this._buildArgs([e.map(e=>e.toBase58())],n,void 0,{...i,epoch:null!=t?t:i?.epoch}),a=await this._rpcRequest("getInflationReward",o),s=ft(a,mn);if("error"in s)throw new hL(s.error,"failed to get inflation reward");return s.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),t=ft(e,mb);if("error"in t)throw new hL(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){let{commitment:t,config:r}=h4(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",n),o=ft(i,mw);if("error"in o)throw new hL(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),t=ft(e,mv);if("error"in t)throw new hL(t.error,"failed to get epoch schedule");let r=t.result;return new hX(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),t=ft(e,mk);if("error"in t)throw new hL(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){let r=this._buildArgs([e],t),n=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=ft(n,m1);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){let{context:t,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON:()=>({})}}}}async getRecentPerformanceSamples(e){let t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=ft(t,gw);if("error"in r)throw new hL(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){let r=this._buildArgs([e],t),n=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=ft(n,gv);if("error"in i)throw new hL(i.error,"failed to get fee calculator");let{context:o,value:a}=i.result;return{context:o,value:null!==a?a.feeCalculator:null}}async getFeeForMessage(e,t){let r=ht(e.serialize()).toString("base64"),n=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",n),o=ft(i,h7(fl(fc())));if("error"in o)throw new hL(o.error,"failed to get fee for message");if(null===o.result)throw Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){let t=e?.lockedWritableAccounts?.map(e=>e.toBase58()),r=t?.length?[t]:[],n=await this._rpcRequest("getRecentPrioritizationFees",r),i=ft(n,m_);if("error"in i)throw new hL(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{let t=await this.getRecentBlockhashAndContext(e);return t.value}catch(e){throw Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(e){try{let t=await this.getLatestBlockhashAndContext(e);return t.value}catch(e){throw Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(e){let{commitment:t,config:r}=h4(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",n),o=ft(i,gy);if("error"in o)throw new hL(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){let{commitment:r,config:n}=h4(t),i=this._buildArgs([e],r,void 0,n),o=await this._rpcRequest("isBlockhashValid",i),a=ft(o,gb);if("error"in a)throw new hL(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),t=ft(e,h9(mp));if("error"in t)throw new hL(t.error,"failed to get version");return t.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),t=ft(e,h9(ff()));if("error"in t)throw new hL(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){let{commitment:r,config:n}=h4(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,n),o=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{let e=ft(o,gl);if("error"in e)throw e.error;return e.result}case"none":{let e=ft(o,gu);if("error"in e)throw e.error;return e.result}default:{let e=ft(o,gs);if("error"in e)throw e.error;let{result:t}=e;return t?{...t,transactions:t.transactions.map(({transaction:e,meta:t,version:r})=>({meta:t,transaction:{...e,message:mt(r,e.message)},version:r}))}:null}}}catch(e){throw new hL(e,"failed to get confirmed block")}}async getParsedBlock(e,t){let{commitment:r,config:n}=h4(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n),o=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{let e=ft(o,gd);if("error"in e)throw e.error;return e.result}case"none":{let e=ft(o,gp);if("error"in e)throw e.error;return e.result}default:{let e=ft(o,gc);if("error"in e)throw e.error;return e.result}}}catch(e){throw new hL(e,"failed to get block")}}async getBlockProduction(e){let t,r;if("string"==typeof e)r=e;else if(e){let{commitment:n,...i}=e;r=n,t=i}let n=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",n),o=ft(i,mg);if("error"in o)throw new hL(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){let{commitment:r,config:n}=h4(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,n),o=await this._rpcRequest("getTransaction",i),a=ft(o,gm);if("error"in a)throw new hL(a.error,"failed to get transaction");let s=a.result;return s?{...s,transaction:{...s.transaction,message:mt(s.version,s.transaction.message)}}:s}async getParsedTransaction(e,t){let{commitment:r,config:n}=h4(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n),o=await this._rpcRequest("getTransaction",i),a=ft(o,gg);if("error"in a)throw new hL(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){let{commitment:r,config:n}=h4(t),i=e.map(e=>{let t=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n);return{methodName:"getTransaction",args:t}}),o=await this._rpcBatchRequest(i),a=o.map(e=>{let t=ft(e,gg);if("error"in t)throw new hL(t.error,"failed to get transactions");return t.result});return a}async getTransactions(e,t){let{commitment:r,config:n}=h4(t),i=e.map(e=>{let t=this._buildArgsAtLeastConfirmed([e],r,void 0,n);return{methodName:"getTransaction",args:t}}),o=await this._rpcBatchRequest(i),a=o.map(e=>{let t=ft(e,gm);if("error"in t)throw new hL(t.error,"failed to get transactions");let r=t.result;return r?{...r,transaction:{...r.transaction,message:mt(r.version,r.transaction.message)}}:r});return a}async getConfirmedBlock(e,t){let r=this._buildArgsAtLeastConfirmed([e],t),n=await this._rpcRequest("getBlock",r),i=ft(n,gf);if("error"in i)throw new hL(i.error,"failed to get confirmed block");let o=i.result;if(!o)throw Error("Confirmed block "+e+" not found");let a={...o,transactions:o.transactions.map(({transaction:e,meta:t})=>{let r=new hw(e.message);return{meta:t,transaction:{...e,message:r}}})};return{...a,transactions:a.transactions.map(({transaction:e,meta:t})=>({meta:t,transaction:hE.populate(e.message,e.signatures)}))}}async getBlocks(e,t,r){let n=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",n),o=ft(i,h9(fo(fc())));if("error"in o)throw new hL(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){let r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getBlock",r),i=ft(n,gh);if("error"in i)throw new hL(i.error,"failed to get block");let o=i.result;if(!o)throw Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){let r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getBlock",r),i=ft(n,gh);if("error"in i)throw new hL(i.error,"failed to get confirmed block");let o=i.result;if(!o)throw Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){let r=this._buildArgsAtLeastConfirmed([e],t),n=await this._rpcRequest("getTransaction",r),i=ft(n,gm);if("error"in i)throw new hL(i.error,"failed to get transaction");let o=i.result;if(!o)return o;let a=new hw(o.transaction.message),s=o.transaction.signatures;return{...o,transaction:hE.populate(a,s)}}async getParsedConfirmedTransaction(e,t){let r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),n=await this._rpcRequest("getTransaction",r),i=ft(n,gg);if("error"in i)throw new hL(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){let r=e.map(e=>{let r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed");return{methodName:"getTransaction",args:r}}),n=await this._rpcBatchRequest(r),i=n.map(e=>{let t=ft(e,gg);if("error"in t)throw new hL(t.error,"failed to get confirmed transactions");return t.result});return i}async getConfirmedSignaturesForAddress(e,t,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--t<=0)&&!(t<i);)try{let e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(n.until=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}let o=await this.getSlot("finalized");for(;!("before"in n)&&!(++r>o);)try{let e=await this.getConfirmedBlockSignatures(r);e.signatures.length>0&&(n.before=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}let a=await this.getConfirmedSignaturesForAddress2(e,n);return a.map(e=>e.signature)}async getConfirmedSignaturesForAddress2(e,t,r){let n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",n),o=ft(i,mD);if("error"in o)throw new hL(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){let n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",n),o=ft(i,mF);if("error"in o)throw new hL(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){let{context:r,value:n}=await this.getAccountInfoAndContext(e,t),i=null;return null!==n&&(i=new hY({key:e,state:hY.deserialize(n.data)})),{context:r,value:i}}async getNonceAndContext(e,t){let{context:r,value:n}=await this.getAccountInfoAndContext(e,t),i=null;return null!==n&&(i=hW.fromAccountData(n.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(e=>e.value).catch(t=>{throw Error("failed to get nonce for account "+e.toBase58()+": "+t)})}async requestAirdrop(e,t){let r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),n=ft(r,gk);if("error"in n)throw new hL(n.error,`airdrop to ${e.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await hD(100);let e=Date.now()-this._blockhashInfo.lastFetch;if(null!==this._blockhashInfo.latestBlockhash&&!(e>=3e4))return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let e=0;e<50;e++){let e=await this.getLatestBlockhash("finalized");if(r!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await hD(200)}throw Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:t,config:r}=h4(e),n=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",n),o=ft(i,h7(fc()));if("error"in o)throw new hL(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){let n;if("message"in e){let n=e.serialize(),i=(0,ds.Buffer).from(n).toString("base64");if(Array.isArray(t)||void 0!==r)throw Error("Invalid arguments");let o=t||{};o.encoding="base64","commitment"in o||(o.commitment=this.commitment),t&&"object"==typeof t&&"innerInstructions"in t&&(o.innerInstructions=t.innerInstructions);let a=[i,o],s=await this._rpcRequest("simulateTransaction",a),u=ft(s,mm);if("error"in u)throw Error("failed to simulate transaction: "+u.error.message);return u.result}if(e instanceof hE?((n=new hE).feePayer=e.feePayer,n.instructions=e.instructions,n.nonceInfo=e.nonceInfo,n.signatures=e.signatures):(n=hE.populate(e))._message=n._json=void 0,void 0!==t&&!Array.isArray(t))throw Error("Invalid arguments");if(n.nonceInfo&&t)n.sign(...t);else{let e=this._disableBlockhashCaching;for(;;){let r=await this._blockhashWithExpiryBlockHeight(e);if(n.lastValidBlockHeight=r.lastValidBlockHeight,n.recentBlockhash=r.blockhash,!t)break;if(n.sign(...t),!n.signature)throw Error("!signature");let i=n.signature.toString("base64");if(this._blockhashInfo.simulatedSignatures.includes(i)||this._blockhashInfo.transactionSignatures.includes(i))e=!0;else{this._blockhashInfo.simulatedSignatures.push(i);break}}}let i=n._compile(),o=i.serialize(),a=n._serialize(o),s=a.toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){let e=(Array.isArray(r)?r:i.nonProgramIds()).map(e=>e.toBase58());u.accounts={encoding:"base64",addresses:e}}t&&(u.sigVerify=!0),t&&"object"==typeof t&&"innerInstructions"in t&&(u.innerInstructions=t.innerInstructions);let l=[s,u],c=await this._rpcRequest("simulateTransaction",l),d=ft(c,mm);if("error"in d){let e;if("data"in d.error&&(e=d.error.data.logs)&&Array.isArray(e)){let t="\n    ",r=t+e.join(t);console.error(d.error.message,r)}throw new hM({action:"simulate",signature:"",transactionMessage:d.error.message,logs:e})}return d.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw Error("Invalid arguments");let r=e.serialize();return await this.sendRawTransaction(r,t)}if(void 0===t||!Array.isArray(t))throw Error("Invalid arguments");if(e.nonceInfo)e.sign(...t);else{let r=this._disableBlockhashCaching;for(;;){let n=await this._blockhashWithExpiryBlockHeight(r);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...t),!e.signature)throw Error("!signature");let i=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(i))r=!0;else{this._blockhashInfo.transactionSignatures.push(i);break}}}let n=e.serialize();return await this.sendRawTransaction(n,r)}async sendRawTransaction(e,t){let r=ht(e).toString("base64"),n=await this.sendEncodedTransaction(r,t);return n}async sendEncodedTransaction(e,t){let r={encoding:"base64"},n=t&&t.skipPreflight,i=!0===n?"processed":t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(r.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(r.minContextSlot=t.minContextSlot),n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);let o=[e,r],a=await this._rpcRequest("sendTransaction",o),s=ft(a,gA);if("error"in s){let e;throw"data"in s.error&&(e=s.error.data.logs),new hM({action:n?"send":"simulate",signature:"",transactionMessage:s.error.message,logs:e})}return s.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3===e){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,t])=>{this._setSubscription(e,{...t,state:"pending"})})}_setSubscription(e,t){let r=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,r!==t.state){let r=this._subscriptionStateChangeCallbacksByHash[e];r&&r.forEach(e=>{try{e(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){let r=this._subscriptionHashByClientSubscriptionId[e];if(null==r)return()=>{};let n=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return n.add(t),()=>{n.delete(t),0===n.size&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}},500));return}if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async e=>{let r=this._subscriptionsByHash[e];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size){delete this._subscriptionsByHash[e],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],await this._updateSubscriptions();return}await (async()=>{let{args:n,method:i}=r;try{this._setSubscription(e,{...r,state:"subscribing"});let t=await this._rpcWebSocket.call(i,n);this._setSubscription(e,{...r,serverSubscriptionId:t,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[t]=r.callbacks,await this._updateSubscriptions()}catch(o){if(console.error(`Received ${o instanceof Error?"":"JSON-RPC "}error calling \`${i}\``,{args:n,error:o}),!t())return;this._setSubscription(e,{...r,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await (async()=>{let{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._setSubscription(e,{...r,state:"unsubscribing"}),this._setSubscription(e,{...r,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[n])}catch(n){if(n instanceof Error&&console.error(`${i} error:`,n.message),!t())return;this._setSubscription(e,{...r,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(e,{...r,state:"unsubscribed"}),await this._updateSubscriptions()})()}}))}_handleServerNotification(e,t){let r=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==r&&r.forEach(e=>{try{e(...t)}catch(e){console.error(e)}})}_wsOnAccountNotification(e){let{result:t,subscription:r}=ft(e,mq);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){let r=this._nextClientSubscriptionId++,n=hG([e.method,t]),i=this._subscriptionsByHash[n];return void 0===i?this._subscriptionsByHash[n]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=n,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];let t=this._subscriptionsByHash[n];hm(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){let{commitment:n,config:i}=h4(r),o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:t,subscription:r}=ft(e,mj);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,n){let{commitment:i,config:o}=h4(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(n?{filters:h5(n)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){let n=this._buildArgs(["object"==typeof e?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:t,subscription:r}=ft(e,gI);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){let{result:t,subscription:r}=ft(e,mK);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:t,subscription:r}=ft(e,mV);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){let r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,n){let i=t||this._commitment;if(i||r||n){let t={};r&&(t.encoding=r),i&&(t.commitment=i),n&&(t=Object.assign(t,n)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,r,n){let i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,n)}_wsOnSignatureNotification(e){let{result:t,subscription:r}=ft(e,mH);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){let n=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,r)=>{if("status"===e.type){t(e.result,r);try{this.removeSignatureListener(i)}catch(e){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return i}onSignatureWithOptions(e,t,r){let{commitment:n,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],n,void 0,i),a=this._makeSubscription({callback:(e,r)=>{t(e,r);try{this.removeSignatureListener(a)}catch(e){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:t,subscription:r}=ft(e,mG);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class gx{constructor(e){this._keypair=void 0,this._keypair=e??f8()}static generate(){return new gx(f8())}static fromSecretKey(e,t){if(64!==e.byteLength)throw Error("bad secret key size");let r=e.slice(32,64);if(!t||!t.skipValidation){let t=e.slice(0,32),n=f3(t);for(let e=0;e<32;e++)if(r[e]!==n[e])throw Error("provided secretKey is invalid")}return new gx({publicKey:r,secretKey:e})}static fromSeed(e){let t=f3(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new gx({publicKey:t,secretKey:r})}get publicKey(){return new ho(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:ph.struct([ph.u32("instruction"),hK("recentSlot"),ph.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:ph.struct([ph.u32("instruction")])},ExtendLookupTable:{index:2,layout:ph.struct([ph.u32("instruction"),hK(),ph.seq(hc(),ph.offset(ph.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ph.struct([ph.u32("instruction")])},CloseLookupTable:{index:4,layout:ph.struct([ph.u32("instruction")])}}),new ho("AddressLookupTab1e1111111111111111111111111");let gP=Object.freeze({RequestUnits:{index:0,layout:ph.struct([ph.u8("instruction"),ph.u32("units"),ph.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:ph.struct([ph.u8("instruction"),ph.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:ph.struct([ph.u8("instruction"),ph.u32("units")])},SetComputeUnitPrice:{index:3,layout:ph.struct([ph.u8("instruction"),hK("microLamports")])}});class gO{constructor(){}static requestUnits(e){let t=gP.RequestUnits,r=hF(t,e);return new hI({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){let t=gP.RequestHeapFrame,r=hF(t,e);return new hI({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){let t=gP.SetComputeUnitLimit,r=hF(t,e);return new hI({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){let t=gP.SetComputeUnitPrice,r=hF(t,{microLamports:BigInt(e.microLamports)});return new hI({keys:[],programId:this.programId,data:r})}}gO.programId=new ho("ComputeBudget111111111111111111111111111111");let gB=ph.struct([ph.u8("numSignatures"),ph.u8("padding"),ph.u16("signatureOffset"),ph.u16("signatureInstructionIndex"),ph.u16("publicKeyOffset"),ph.u16("publicKeyInstructionIndex"),ph.u16("messageDataOffset"),ph.u16("messageDataSize"),ph.u16("messageInstructionIndex")]);class gC{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:t,message:r,signature:n,instructionIndex:i}=e;hm(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),hm(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);let o=gB.span,a=o+t.length,s=a+n.length,u=(0,ds.Buffer).alloc(s+r.length),l=null==i?65535:i;return gB.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:l,publicKeyOffset:o,publicKeyInstructionIndex:l,messageDataOffset:s,messageDataSize:r.length,messageInstructionIndex:l},u),u.fill(t,o),u.fill(n,a),u.fill(r,s),new hI({keys:[],programId:gC.programId,data:u})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:r,instructionIndex:n}=e;hm(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{let e=gx.fromSecretKey(t),i=e.publicKey.toBytes(),o=f7(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:o,instructionIndex:n})}catch(e){throw Error(`Error creating instruction; ${e}`)}}}gC.programId=new ho("Ed25519SigVerify111111111111111111111111111");let gR=(e,t)=>{let r=(0,f5.secp256k1).sign(e,t);return[r.toCompactRawBytes(),r.recovery]};f5.secp256k1.utils.isValidPrivateKey;let gM=f5.secp256k1.getPublicKey,gL=ph.struct([ph.u8("numSignatures"),ph.u16("signatureOffset"),ph.u8("signatureInstructionIndex"),ph.u16("ethAddressOffset"),ph.u8("ethAddressInstructionIndex"),ph.u16("messageDataOffset"),ph.u16("messageDataSize"),ph.u8("messageInstructionIndex"),ph.blob(20,"ethAddress"),ph.blob(64,"signature"),ph.u8("recoveryId")]);class gN{constructor(){}static publicKeyToEthAddress(e){hm(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return(0,ds.Buffer).from((0,fq.keccak_256)(ht(e))).slice(-20)}catch(e){throw Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){let{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:o}=e;return gN.createInstructionWithEthAddress({ethAddress:gN.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){let t;let{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:a=0}=e;hm(20===(t="string"==typeof r?r.startsWith("0x")?(0,ds.Buffer).from(r.substr(2),"hex"):(0,ds.Buffer).from(r,"hex"):r).length,`Address must be 20 bytes but received ${t.length} bytes`);let s=12+t.length,u=s+i.length+1,l=(0,ds.Buffer).alloc(gL.span+n.length);return gL.encode({numSignatures:1,signatureOffset:s,signatureInstructionIndex:a,ethAddressOffset:12,ethAddressInstructionIndex:a,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:a,signature:ht(i),ethAddress:ht(t),recoveryId:o},l),l.fill(ht(n),gL.span),new hI({keys:[],programId:gN.programId,data:l})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:r,instructionIndex:n}=e;hm(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{let e=ht(t),i=gM(e,!1).slice(1),o=(0,ds.Buffer).from((0,fq.keccak_256)(ht(r))),[a,s]=gR(o,e);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:a,recoveryId:s,instructionIndex:n})}catch(e){throw Error(`Error creating instruction; ${e}`)}}}gN.programId=new ho("KeccakSecp256k11111111111111111111111111111");let gD=new ho("StakeConfig11111111111111111111111111111111");class gF{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}gF.default=new gF(0,0,ho.default);let gq=Object.freeze({Initialize:{index:0,layout:ph.struct([ph.u32("instruction"),((e="authorized")=>ph.struct([hc("staker"),hc("withdrawer")],e))(),((e="lockup")=>ph.struct([ph.ns64("unixTimestamp"),ph.ns64("epoch"),hc("custodian")],e))()])},Authorize:{index:1,layout:ph.struct([ph.u32("instruction"),hc("newAuthorized"),ph.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:ph.struct([ph.u32("instruction")])},Split:{index:3,layout:ph.struct([ph.u32("instruction"),ph.ns64("lamports")])},Withdraw:{index:4,layout:ph.struct([ph.u32("instruction"),ph.ns64("lamports")])},Deactivate:{index:5,layout:ph.struct([ph.u32("instruction")])},Merge:{index:7,layout:ph.struct([ph.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:ph.struct([ph.u32("instruction"),hc("newAuthorized"),ph.u32("stakeAuthorizationType"),hp("authoritySeed"),hc("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class gU{constructor(){}static initialize(e){let{stakePubkey:t,authorized:r,lockup:n}=e,i=n||gF.default,o=gq.Initialize,a=hF(o,{authorized:{staker:ht(r.staker.toBuffer()),withdrawer:ht(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:ht(i.custodian.toBuffer())}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:hC,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new hI(s)}static createAccountWithSeed(e){let t=new hE;t.add(hV.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){let t=new hE;t.add(hV.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){let{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=gq.Delegate,o=hF(i);return new hE().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:hP,isSigner:!1,isWritable:!1},{pubkey:hR,isSigner:!1,isWritable:!1},{pubkey:gD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){let{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:o}=e,a=gq.Authorize,s=hF(a,{newAuthorized:ht(n.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:hP,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new hE().add({keys:u,programId:this.programId,data:s})}static authorizeWithSeed(e){let{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:s}=e,u=gq.AuthorizeWithSeed,l=hF(u,{newAuthorized:ht(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:n,authorityOwner:ht(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:hP,isSigner:!1,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!0,isWritable:!1}),new hE().add({keys:c,programId:this.programId,data:l})}static splitInstruction(e){let{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,o=gq.Split,a=hF(o,{lamports:i});return new hI({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){let r=new hE;return r.add(hV.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:o,seed:a,lamports:s}=e,u=new hE;return u.add(hV.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(hV.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:s}))}static merge(e){let{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=gq.Merge,o=hF(i);return new hE().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:hP,isSigner:!1,isWritable:!1},{pubkey:hR,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){let{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:o}=e,a=gq.Withdraw,s=hF(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:hP,isSigner:!1,isWritable:!1},{pubkey:hR,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new hE().add({keys:u,programId:this.programId,data:s})}static deactivate(e){let{stakePubkey:t,authorizedPubkey:r}=e,n=gq.Deactivate,i=hF(n);return new hE().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:hP,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}gU.programId=new ho("Stake11111111111111111111111111111111111111"),gU.space=200;let gj=Object.freeze({InitializeAccount:{index:0,layout:ph.struct([ph.u32("instruction"),((e="voteInit")=>ph.struct([hc("nodePubkey"),hc("authorizedVoter"),hc("authorizedWithdrawer"),ph.u8("commission")],e))()])},Authorize:{index:1,layout:ph.struct([ph.u32("instruction"),hc("newAuthorized"),ph.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:ph.struct([ph.u32("instruction"),ph.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:ph.struct([ph.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:ph.struct([ph.u32("instruction"),((e="voteAuthorizeWithSeedArgs")=>ph.struct([ph.u32("voteAuthorizationType"),hc("currentAuthorityDerivedKeyOwnerPubkey"),hp("currentAuthorityDerivedKeySeed"),hc("newAuthorized")],e))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class gW{constructor(){}static initializeAccount(e){let{votePubkey:t,nodePubkey:r,voteInit:n}=e,i=gj.InitializeAccount,o=hF(i,{voteInit:{nodePubkey:ht(n.nodePubkey.toBuffer()),authorizedVoter:ht(n.authorizedVoter.toBuffer()),authorizedWithdrawer:ht(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:hC,isSigner:!1,isWritable:!1},{pubkey:hP,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new hI(a)}static createAccount(e){let t=new hE;return t.add(hV.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=e,o=gj.Authorize,a=hF(o,{newAuthorized:ht(n.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:hP,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new hE().add({keys:s,programId:this.programId,data:a})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,s=gj.AuthorizeWithSeed,u=hF(s,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:ht(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:ht(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:hP,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new hE().add({keys:l,programId:this.programId,data:u})}static withdraw(e){let{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=e,o=gj.Withdraw,a=hF(o,{lamports:n});return new hE().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw Error("Withdraw will leave vote account with insufficient funds.");return gW.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:n}=e,i=gj.UpdateValidatorIdentity,o=hF(i);return new hE().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}gW.programId=new ho("Vote111111111111111111111111111111111111111"),gW.space=3762,new ho("Va1idator1nfo111111111111111111111111111111"),fm({name:ff(),website:fd(ff()),details:fd(ff()),iconUrl:fd(ff()),keybaseUsername:fd(ff())}),new ho("Vote111111111111111111111111111111111111111"),ph.struct([hc("nodePubkey"),hc("authorizedWithdrawer"),ph.u8("commission"),ph.nu64(),ph.seq(ph.struct([ph.nu64("slot"),ph.u32("confirmationCount")]),ph.offset(ph.u32(),-8),"votes"),ph.u8("rootSlotValid"),ph.nu64("rootSlot"),ph.nu64(),ph.seq(ph.struct([ph.nu64("epoch"),hc("authorizedVoter")]),ph.offset(ph.u32(),-8),"authorizedVoters"),ph.struct([ph.seq(ph.struct([hc("authorizedPubkey"),ph.nu64("epochOfLastAuthorizedSwitch"),ph.nu64("targetEpoch")]),32,"buf"),ph.nu64("idx"),ph.u8("isEmpty")],"priorVoters"),ph.nu64(),ph.seq(ph.struct([ph.nu64("epoch"),ph.nu64("credits"),ph.nu64("prevCredits")]),ph.offset(ph.u32(),-8),"epochCredits"),ph.struct([ph.nu64("slot"),ph.nu64("timestamp")],"lastTimestamp")]);let gK=ig("fetchTransactionDetails"),gz=async(e,t)=>{let{signatures:r}=e.body;if(!r||!Array.isArray(r)||0===r.length){gK.error("Invalid request: signatures missing or empty"),t.send({success:!1,error:"Transaction signatures are required"});return}gK.debug("Using Helius RPC endpoint with API key"),gK.debug(`Fetching transaction details for ${r.length} signatures:`,r);try{let e=new gT("https://binny-51yiwd-fast-mainnet.helius-rpc.com","confirmed"),n=new AbortController,i=setTimeout(()=>{n.abort(),gK.warn("Request timed out after 15000ms")},15e3),o=await e.getParsedTransactions(r,{commitment:"confirmed",maxSupportedTransactionVersion:0});clearTimeout(i),gK.debug(`Successfully fetched ${o.length} transaction details from Helius RPC`),o.forEach((e,t)=>{e?gK.debug(`Transaction ${t} (${r[t]}): Found - Slot: ${e.slot}, BlockTime: ${e.blockTime}, Fee: ${e.meta?.fee}`):gK.warn(`Transaction ${t} (${r[t]}): Not found or null`)}),t.send({success:!0,transactions:o})}catch(r){gK.error("Error fetching transaction details from Helius RPC:",r);let e="Unknown error occurred";r instanceof Error&&(e="AbortError"===r.name?"Request timeout - RPC call took too long":r.message.includes("403")||r.message.includes("Access forbidden")?"Access forbidden - Check Helius API key permissions":r.message),t.send({success:!1,error:e})}};chrome.webRequest.onBeforeSendHeaders.addListener(e=>{let t=e.requestHeaders.find(e=>"authorization"===e.name.toLowerCase());t&&t.value&&(o=t.value);let r=new URL(e.url);return i=r.searchParams.toString(),{requestHeaders:e.requestHeaders}},{urls:["*://gmgn.ai/defi/quotation/v1/wallet/sol/remark_wallets*"]},["requestHeaders"]);let gV=async(e,t)=>{o&&i?t.send({authToken:o,deviceQuery:i}):t.send({authToken:null,deviceQuery:null})};function gH(e,t,r){let n;function i(){let i=t(e.getState());i!==n&&r(n=i)}let o=e.subscribe(i);return i(),o}var e3=eh("jcdBh");let gG=/\{[^{}]+\}/g,g$=()=>"object"==typeof e3&&Number.parseInt(e3?.versions?.node?.substring(0,2))>=18&&e3.versions.undici;function gX(e){let{baseUrl:t="",Request:r=globalThis.Request,fetch:n=globalThis.fetch,querySerializer:i,bodySerializer:o,headers:a,requestInitExt:s,...u}={...e};s=g$()?s:void 0,t=g2(t);let l=[];async function c(e,c){var d;let p,f,h,m,g;let{baseUrl:y,fetch:b=n,Request:_=r,headers:w,params:v={},parseAs:k="json",querySerializer:A,bodySerializer:S=o??g1,body:I,...E}=c||{},T=t;y&&(T=g2(y)??t);let x="function"==typeof i?i:gJ(i);A&&(x="function"==typeof A?A:gJ({..."object"==typeof i?i:{},...A}));let P=void 0===I?void 0:S(I,g0(a,w,v.header)),O=g0(void 0===P||P instanceof FormData?{}:{"Content-Type":"application/json"},a,w,v.header),B={redirect:"follow",...u,...E,body:P,headers:O},C=new r((d={baseUrl:T,params:v,querySerializer:x},m=`${d.baseUrl}${e}`,d.params?.path&&(m=function(e,t){let r=e;for(let n of e.match(gG)??[]){let e=n.substring(1,n.length-1),i=!1,o="simple";if(e.endsWith("*")&&(i=!0,e=e.substring(0,e.length-1)),e.startsWith(".")?(o="label",e=e.substring(1)):e.startsWith(";")&&(o="matrix",e=e.substring(1)),!t||void 0===t[e]||null===t[e])continue;let a=t[e];if(Array.isArray(a)){r=r.replace(n,gY(e,a,{style:o,explode:i}));continue}if("object"==typeof a){r=r.replace(n,gQ(e,a,{style:o,explode:i}));continue}if("matrix"===o){r=r.replace(n,`;${gZ(e,a)}`);continue}r=r.replace(n,"label"===o?`.${encodeURIComponent(a)}`:encodeURIComponent(a))}return r}(m,d.params.path)),(g=d.querySerializer(d.params.query??{})).startsWith("?")&&(g=g.substring(1)),g&&(m+=`?${g}`),m),B);for(let e in E)e in C||(C[e]=E[e]);if(l.length){for(let t of(p=Math.random().toString(36).slice(2,11),f=Object.freeze({baseUrl:T,fetch:b,parseAs:k,querySerializer:x,bodySerializer:S}),l))if(t&&"object"==typeof t&&"function"==typeof t.onRequest){let n=await t.onRequest({request:C,schemaPath:e,params:v,options:f,id:p});if(n){if(n instanceof r)C=n;else if(n instanceof Response){h=n;break}else throw Error("onRequest: must return new Request() or Response() when modifying the request")}}}if(!h){try{h=await b(C,s)}catch(r){let t=r;if(l.length)for(let r=l.length-1;r>=0;r--){let n=l[r];if(n&&"object"==typeof n&&"function"==typeof n.onError){let r=await n.onError({request:C,error:t,schemaPath:e,params:v,options:f,id:p});if(r){if(r instanceof Response){t=void 0,h=r;break}if(r instanceof Error){t=r;continue}throw Error("onError: must return new Response() or instance of Error")}}}if(t)throw t}if(l.length)for(let t=l.length-1;t>=0;t--){let r=l[t];if(r&&"object"==typeof r&&"function"==typeof r.onResponse){let t=await r.onResponse({request:C,response:h,schemaPath:e,params:v,options:f,id:p});if(t){if(!(t instanceof Response))throw Error("onResponse: must return new Response() when modifying the response");h=t}}}}if(204===h.status||"HEAD"===C.method||"0"===h.headers.get("Content-Length"))return h.ok?{data:void 0,response:h}:{error:void 0,response:h};if(h.ok)return"stream"===k?{data:h.body,response:h}:{data:await h[k](),response:h};let R=await h.text();try{R=JSON.parse(R)}catch{}return{error:R,response:h}}return{request:(e,t,r)=>c(t,{...r,method:e.toUpperCase()}),GET:(e,t)=>c(e,{...t,method:"GET"}),PUT:(e,t)=>c(e,{...t,method:"PUT"}),POST:(e,t)=>c(e,{...t,method:"POST"}),DELETE:(e,t)=>c(e,{...t,method:"DELETE"}),OPTIONS:(e,t)=>c(e,{...t,method:"OPTIONS"}),HEAD:(e,t)=>c(e,{...t,method:"HEAD"}),PATCH:(e,t)=>c(e,{...t,method:"PATCH"}),TRACE:(e,t)=>c(e,{...t,method:"TRACE"}),use(...e){for(let t of e)if(t){if("object"!=typeof t||!("onRequest"in t||"onResponse"in t||"onError"in t))throw Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");l.push(t)}},eject(...e){for(let t of e){let e=l.indexOf(t);-1!==e&&l.splice(e,1)}}}}function gZ(e,t,r){if(null==t)return"";if("object"==typeof t)throw Error("Deeply-nested arrays/objects aren\u2019t supported. Provide your own `querySerializer()` to handle these.");return`${e}=${r?.allowReserved===!0?t:encodeURIComponent(t)}`}function gQ(e,t,r){if(!t||"object"!=typeof t)return"";let n=[],i={simple:",",label:".",matrix:";"}[r.style]||"&";if("deepObject"!==r.style&&!1===r.explode){for(let e in t)n.push(e,!0===r.allowReserved?t[e]:encodeURIComponent(t[e]));let i=n.join(",");switch(r.style){case"form":return`${e}=${i}`;case"label":return`.${i}`;case"matrix":return`;${e}=${i}`;default:return i}}for(let i in t){let o="deepObject"===r.style?`${e}[${i}]`:i;n.push(gZ(o,t[i],r))}let o=n.join(i);return"label"===r.style||"matrix"===r.style?`${i}${o}`:o}function gY(e,t,r){if(!Array.isArray(t))return"";if(!1===r.explode){let n={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[r.style]||",",i=(!0===r.allowReserved?t:t.map(e=>encodeURIComponent(e))).join(n);switch(r.style){case"simple":return i;case"label":return`.${i}`;case"matrix":return`;${e}=${i}`;default:return`${e}=${i}`}}let n={simple:",",label:".",matrix:";"}[r.style]||"&",i=[];for(let n of t)"simple"===r.style||"label"===r.style?i.push(!0===r.allowReserved?n:encodeURIComponent(n)):i.push(gZ(e,n,r));return"label"===r.style||"matrix"===r.style?`${n}${i.join(n)}`:i.join(n)}function gJ(e){return function(t){let r=[];if(t&&"object"==typeof t)for(let n in t){let i=t[n];if(null!=i){if(Array.isArray(i)){if(0===i.length)continue;r.push(gY(n,i,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if("object"==typeof i){r.push(gQ(n,i,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}r.push(gZ(n,i,e))}}return r.join("&")}}function g1(e,t){if(e instanceof FormData)return e;if(t){let r=t.get instanceof Function?t.get("Content-Type")??t.get("content-type"):t["Content-Type"]??t["content-type"];if("application/x-www-form-urlencoded"===r)return new URLSearchParams(e).toString()}return JSON.stringify(e)}function g0(...e){let t=new Headers;for(let r of e){if(!r||"object"!=typeof r)continue;let e=r instanceof Headers?r.entries():Object.entries(r);for(let[r,n]of e)if(null===n)t.delete(r);else if(Array.isArray(n))for(let e of n)t.append(r,e);else void 0!==n&&t.set(r,n)}return t}function g2(e){return e.endsWith("/")?e.substring(0,e.length-1):e}class g6 extends Error{constructor({message:e,code:t,path:r,method:n}){super(`CopilotApiError: ${t} ${e} ${n} ${r}`),this.copilotCode=t,this.copilotMessage=e,this.name="CopilotApiError"}}let g4=ig("ApiClient"),g5=(({baseUrl:e,headers:t})=>{let r=gX({baseUrl:e,fetch:async(e,r)=>{let n=lk.getState()?.setting?.language||"en",i={"X-Copilot-Client-Language":n.includes("zh")?"ZH_CN":"EN_US"},o={...r,headers:{...t,...i,...r?.headers},credentials:"include"};try{let t=await fetch(e,o);return t}catch(t){throw g4.error("Fetch failed for: "+e.toString(),{options:o,error:t}),t}}});return new Proxy(r,{get:(e,t)=>async(...e)=>{let n=await r[t](...e);if(n.error?.statusCode===401){g4.error("401 authentication error, attempting to refresh session",n.error);try{let{data:i}=await ty.getSession({query:{disableCookieCache:!0}});i?.session&&(g4.info("Session found, retrying request once"),n=await r[t](...e))}catch(e){g4.error("Failed to get session",e)}if(n.error?.statusCode===401){let{session:e}=lk.getState().account;e&&(g4.info("Clearing invalid session from store"),lk.dispatch(sg({user:null,session:null})))}}if(n.error)throw new g6({message:n.error?.message,code:n.error?.statusCode,path:e.join("-"),method:t});if(!n.data.status&&"success"!==n.data.message)throw new g6({message:n.data.message,code:n.data.code,path:e.join("-"),method:t});return{...n,data:n.data.data}}})})({baseUrl:(void 0)??"https://loadbalance.frontrun.pro",headers:{"X-Copilot-Client-Version":chrome.runtime.getManifest().version,"Content-Type":"application/json"}}),g8=ig("TurnkeySecret"),g3=null;async function g9(){return g3||(g3=await aG(ye))}async function g7(){gH(lk,sp,e=>{g8.debug("initTurnkeySecret",{isActivated:e}),e?g9():g3=null})}async function ye(){let e=await g5.GET("/api/v1/user/turnkey/nonce",{});if(e.error)throw Error(`Failed to get turnkey secret: ${JSON.stringify(e.error)}`);let t=e.data;if(!t?.nonce)throw Error("Turnkey secret is not found");if("string"!=typeof t.nonce||0===t.nonce.length)throw Error("Turnkey secret is not a string");return g8.debug("fetchTurnkeySecret success"),t.nonce}let yt=ig("GetTurnkeySecretMessage"),yr=async(e,t)=>{try{let e=await g9();yt.debug("getTurnkeySecret done"),t.send({data:e})}catch(e){t.send({error:e.message})}},yn=new Map,yi=async(e,t)=>{let{address:r,privateKey:n}=e.body;if(!r){t.send({success:!1});return}n?(yn.set(r,n),t.send({success:!0})):t.send({success:!0,privateKey:yn.get(r)})};async function yo(){let e=lk.getState().navigationRoute.method;if(e)return"sidepanel"===e;if(!chrome.runtime.getContexts)return lk.dispatch(s6("tabs")),!1;await new Promise(e=>setTimeout(e,500));let t=await chrome.runtime.getContexts({}),r=t.some(e=>"SIDE_PANEL"===e.contextType);return lk.dispatch(s6(r?"sidepanel":"tabs")),r}async function ya(e){try{let t=chrome.runtime.getURL("/tabs/index.html"),r=t;if(e&&Object.keys(e).length>0){let n=new URLSearchParams(e);r=`${t}?${n.toString()}`}let n=e?.settings==="true";if(n){await chrome.tabs.create({url:r});return}let i=await chrome.tabs.query({}),o=i.find(e=>e.url&&e.url.startsWith(t));o&&o.id?o.url&&o.url!==t?await chrome.tabs.update(o.id,{url:r,active:!0}):await chrome.tabs.update(o.id,{active:!0}):await chrome.tabs.create({url:r})}catch(e){console.error("Error opening index.html tab:",e)}}let ys=()=>{chrome.action.onClicked.addListener(async e=>{try{await chrome.sidePanel.open({windowId:e.windowId})}catch(e){c8({level:"error",message:"Failed to open side panel",extra:{error:e}})}try{let e=await yo();e||await ya()}catch(e){c8({level:"error",message:"Failed to check sidepanel support or open tabs",extra:{error:e}})}})};var yu={};function yl(e,t=[]){return[e,t]}function yc(e,t){let r=e[1];for(let e of r){let r=e[0].type,n=t(e,r);if(n)return!0}return!1}function yd(e){let t=lB(lP);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}v(yu,"trace",()=>yL),v(yu,"debug",()=>yN),v(yu,"info",()=>yD),v(yu,"warn",()=>yF),v(yu,"error",()=>yq),v(yu,"fatal",()=>yU),v(yu,"fmt",()=>yR);let yp={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function yf(e){if(!e?.sdk)return;let{name:t,version:r}=e.sdk;return{name:t,version:r}}let yh=[];function ym(e,t){for(let r of t)r?.afterAllSetup&&r.afterAllSetup(e)}function yg(e,t,r){if(r[t.name]){lR&&lY.log(`Integration skipped because it was already installed: ${t.name}`);return}if(r[t.name]=t,-1===yh.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),yh.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,n)=>r(t,n,e))}if("function"==typeof t.processEvent){let r=t.processEvent.bind(t),n=Object.assign((t,n)=>r(t,n,e),{id:t.name});e.addEventProcessor(n)}lR&&lY.log(`Integration installed: ${t.name}`)}function yy(e){let t=[];e.message&&t.push(e.message);try{let r=e.exception.values[e.exception.values.length-1];r?.value&&(t.push(r.value),r.type&&t.push(`${r.type}: ${r.value}`))}catch(e){}return t}let yb="Not capturing exception because it's already been captured.",y_="Discarded session because of missing or non-string release",yw=Symbol.for("SentryInternalError"),yv=Symbol.for("SentryDoNotSendEventError");function yk(e){return{message:e,[yw]:!0}}function yA(e){return{message:e,[yv]:!0}}function yS(e){return!!e&&"object"==typeof e&&yw in e}function yI(e){return!!e&&"object"==typeof e&&yv in e}class yE{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=function(e){let t="string"==typeof e?function(e){let t=cZ.exec(e);if(!t){lQ(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[r,n,i="",o="",a="",s=""]=t.slice(1),u="",l=s,c=l.split("/");if(c.length>1&&(u=c.slice(0,-1).join("/"),l=c.pop()),l){let e=l.match(/^\d+/);e&&(l=e[0])}return cY({host:o,pass:i,path:u,projectId:l,port:a,protocol:r,publicKey:n})}(e):cY(e);if(t&&function(e){if(!lR)return!0;let{port:t,projectId:r,protocol:n}=e,i=["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(lY.error(`Invalid Sentry Dsn: ${t} missing`),!0));return!i&&(r.match(/^\d+$/)?"http"===n||"https"===n?!(t&&isNaN(parseInt(t,10)))||(lY.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):(lY.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(lY.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1))}(t))return t}(e.dsn):lR&&lY.warn("No DSN provided, client will not send events."),this._dsn){var t,r,n;let i=(t=this._dsn,r=e.tunnel,n=e._metadata?e._metadata.sdk:void 0,r||`${function(e){let t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}(t)}${t.projectId}/envelope/?${function(e,t){let r={sentry_version:"7"};return e.publicKey&&(r.sentry_key=e.publicKey),t&&(r.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(r).toString()}(t,n)}`);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}}captureException(e,t,r){let n=l7();if(ci(e))return lR&&lY.log(yb),n;let i={event_id:n,...t};return this._process(this.eventFromException(e,i).then(e=>this._captureEvent(e,i,r))),i.event_id}captureMessage(e,t,r,n){let i={event_id:l7(),...r},o=lU(e)?e:String(e),a=lj(e)?this.eventFromMessage(o,t,i):this.eventFromException(e,i);return this._process(a.then(e=>this._captureEvent(e,i,n))),i.event_id}captureEvent(e,t,r){let n=l7();if(t?.originalException&&ci(t.originalException))return lR&&lY.log(yb),n;let i={event_id:n,...t},o=e.sdkProcessingMetadata||{},a=o.capturedSpanScope,s=o.capturedSpanIsolationScope;return this._process(this._captureEvent(e,i,a||r,s)),i.event_id}captureSession(e){this.sendSession(e),cs(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(r=>t.flush(e).then(e=>r&&e))):cE(!0)}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,this.emit("close"),e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let t=this._integrations[e.name];yg(this,e,this._integrations),t||ym(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let r=function(e,t,r,n){var i;let o=yf(r),a=e.type&&"replay_event"!==e.type?e.type:"event";(i=r?.sdk)&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||i.name,e.sdk.version=e.sdk.version||i.version,e.sdk.integrations=[...e.sdk.integrations||[],...i.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...i.packages||[]]);let s=function(e,t,r,n){let i=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!r&&n&&{dsn:cQ(n)},...i&&{trace:i}}}(e,o,n,t);delete e.sdkProcessingMetadata;let u=[{type:a},e];return yl(s,[u])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(let e of t.attachments||[])r=function(e,t){let[r,n]=e;return[r,[...n,t]]}(r,function(e){let t="string"==typeof e.data?yd(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}(e));let n=this.sendEnvelope(r);n&&n.then(t=>this.emit("afterSendEvent",e,t),null)}sendSession(e){let{release:t,environment:r=cI}=this._options;if("aggregates"in e){let n=e.attrs||{};if(!n.release&&!t){lR&&lY.warn(y_);return}n.release=n.release||t,n.environment=n.environment||r,e.attrs=n}else{if(!e.release&&!t){lR&&lY.warn(y_);return}e.release=e.release||t,e.environment=e.environment||r}this.emit("beforeSendSession",e);let n=function(e,t,r,n){let i=yf(r),o={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!n&&t&&{dsn:cQ(t)}},a="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return yl(o,[a])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(e,t,r=1){if(this._options.sendClientReports){let n=`${e}:${t}`;lR&&lY.log(`Recording outcome: "${n}"${r>1?` (${r} times)`:""}`),this._outcomes[n]=(this._outcomes[n]||0)+r}}on(e,t){let r=this._hooks[e]=this._hooks[e]||[];return r.push(t),()=>{let e=r.indexOf(t);e>-1&&r.splice(e,1)}}emit(e,...t){let r=this._hooks[e];r&&r.forEach(e=>e(...t))}sendEnvelope(e){return(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)?this._transport.send(e).then(null,e=>(lR&&lY.error("Error while sending envelope:",e),e)):(lR&&lY.error("Transport disabled"),cE({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=function(e,t){let r={};return t.forEach(t=>{t&&yg(e,t,r)}),r}(this,e),ym(this,e)}_updateSessionFromEvent(e,t){let r="fatal"===t.level,n=!1,i=t.exception?.values;if(i)for(let e of(n=!0,i)){let t=e.mechanism;if(t?.handled===!1){r=!0;break}}let o="ok"===e.status,a=o&&0===e.errors||o&&r;a&&(cs(e,{...r&&{status:"crashed"},errors:e.errors||Number(n||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new cx(t=>{let r=0,n=setInterval(()=>{0==this._numProcessing?(clearInterval(n),t(!0)):(r+=1,e&&r>=e&&(clearInterval(n),t(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,i,o,a){let s=this.getOptions(),u=Object.keys(this._integrations);return!i.integrations&&u?.length&&(i.integrations=u),this.emit("preprocessEvent",e,i),e.type||a.setLastEventId(e.event_id||i.event_id),(function(e,i,o,a,s,u){let{normalizeDepth:l=3,normalizeMaxBreadth:c=1e3}=e,d={...i,event_id:i.event_id||o.event_id||l7(),timestamp:i.timestamp||co()},p=o.integrations||e.integrations.map(e=>e.name);(function(e,t){let{environment:r,release:n,dist:i,maxValueLength:o=250}=t;e.environment=e.environment||r||cI,!e.release&&n&&(e.release=n),!e.dist&&i&&(e.dist=i);let a=e.request;a?.url&&(a.url=lJ(a.url,o))})(d,e),p.length>0&&(d.sdk=d.sdk||{},d.sdk.integrations=[...d.sdk.integrations||[],...p]),s&&s.emit("applyFrameMetadata",i),void 0===i.type&&function(e,i){let o=function(e){let i=lP._sentryDebugIds;if(!i)return{};let o=Object.keys(i);return n&&o.length===r?n:(r=o.length,n=o.reduce((r,n)=>{t||(t={});let o=t[n];if(o)r[o[0]]=o[1];else{let o=e(n);for(let e=o.length-1;e>=0;e--){let a=o[e],s=a?.filename,u=i[n];if(s&&u){r[s]=u,t[n]=[s,u];break}}}return r},{}))}(i);e.exception?.values?.forEach(e=>{e.stacktrace?.frames?.forEach(e=>{e.filename&&(e.debug_id=o[e.filename])})})}(d,e.stackParser);let f=function(e,t){if(!t)return e;let r=e?e.clone():new cp;return r.update(t),r}(a,o.captureContext);o.mechanism&&cn(d,o.mechanism);let h=s?s.getEventProcessors():[],m=cv().getScopeData();if(u){let e=u.getScopeData();c2(m,e)}if(f){let e=f.getScopeData();c2(m,e)}let g=[...o.attachments||[],...m.attachments];g.length&&(o.attachments=g),function(e,t){let{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:o}=t;(function(e,t){let{extra:r,tags:n,user:i,contexts:o,level:a,transactionName:s}=t;Object.keys(r).length&&(e.extra={...r,...e.extra}),Object.keys(n).length&&(e.tags={...n,...e.tags}),Object.keys(i).length&&(e.user={...i,...e.user}),Object.keys(o).length&&(e.contexts={...o,...e.contexts}),a&&(e.level=a),s&&"transaction"!==e.type&&(e.transaction=s)})(e,t),n&&function(e,t){e.contexts={trace:cK(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:c0(t),...e.sdkProcessingMetadata};let r=cG(t),n=cH(r).description;n&&!e.transaction&&"transaction"===e.type&&(e.transaction=n)}(e,n),e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],r&&(e.fingerprint=e.fingerprint.concat(r)),e.fingerprint.length||delete e.fingerprint,function(e,t){let r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}(e,i),e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...o}}(d,m);let y=[...h,...m.eventProcessors],b=function e(t,r,n,i=0){return new cx((o,a)=>{let s=t[i];if(null===r||"function"!=typeof s)o(r);else{let u=s({...r},n);lR&&s.id&&null===u&&lY.log(`Event processor "${s.id}" dropped event`),lz(u)?u.then(r=>e(t,r,n,i+1).then(o)).then(null,a):e(t,u,n,i+1).then(o).then(null,a)}})}(y,d,o);return b.then(e=>(e&&function(e){let t={};if(e.exception?.values?.forEach(e=>{e.stacktrace?.frames?.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})}),0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let r=e.debug_meta.images;Object.entries(t).forEach(([e,t])=>{r.push({type:"sourcemap",code_file:e,debug_id:t})})}(e),"number"==typeof l&&l>0)?function(e,t,r){if(!e)return null;let n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:cN(e.data,t,r)}}))},...e.user&&{user:cN(e.user,t,r)},...e.contexts&&{contexts:cN(e.contexts,t,r)},...e.extra&&{extra:cN(e.extra,t,r)}};return e.contexts?.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=cN(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map(e=>({...e,...e.data&&{data:cN(e.data,t,r)}}))),e.contexts?.flags&&n.contexts&&(n.contexts.flags=cN(e.contexts.flags,3,r)),n}(e,l,c):e)})(s,e,i,o,this,a).then(e=>{if(null===e)return e;this.emit("postprocessEvent",e,i),e.contexts={trace:cS(o),...e.contexts};let t=c1(this,o);return e.sdkProcessingMetadata={dynamicSamplingContext:t,...e.sdkProcessingMetadata},e})}_captureEvent(e,t={},r=c_(),n=cw()){return lR&&yT(e)&&lY.log(`Captured error event \`${yy(e)[0]||"<unknown>"}\``),this._processEvent(e,t,r,n).then(e=>e.event_id,e=>{lR&&(yI(e)?lY.log(e.message):yS(e)?lY.warn(e.message):lY.warn(e))})}_processEvent(e,t,r,n){let i=this.getOptions(),{sampleRate:o}=i,a=yx(e),s=yT(e),u=e.type||"error",l=`before send for type \`${u}\``,c=void 0===o?void 0:function(e){if("boolean"==typeof e)return Number(e);let t="string"==typeof e?parseFloat(e):e;if(!("number"!=typeof t||isNaN(t))&&!(t<0)&&!(t>1))return t}(o);if(s&&"number"==typeof c&&Math.random()>c)return this.recordDroppedEvent("sample_rate","error"),cT(yA(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));let d="replay_event"===u?"replay":u;return this._prepareEvent(e,t,r,n).then(e=>{if(null===e)throw this.recordDroppedEvent("event_processor",d),yA("An event processor returned `null`, will not send event.");let r=t.data&&!0===t.data.__sentry__;if(r)return e;let n=function(e,t,r,n){let{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:a}=t,s=r;if(yT(s)&&i)return i(s,n);if(yx(s)){if(a){let e=a(function(e){let{trace_id:t,parent_span_id:r,span_id:n,status:i,origin:o,data:a,op:s}=e.contexts?.trace??{};return{data:a??{},description:e.transaction,op:s,parent_span_id:r,span_id:n??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:o,profile_id:a?.[cD],exclusive_time:a?.[cF],measurements:e.measurements,is_segment:!0}}(s));if(e?s=cu(r,{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[cD]:e.profile_id},...e.exclusive_time&&{[cF]:e.exclusive_time}}}},measurements:e.measurements}):c$(),s.spans){let e=[];for(let t of s.spans){let r=a(t);r?e.push(r):(c$(),e.push(t))}s.spans=e}}if(o){if(s.spans){let e=s.spans.length;s.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return o(s,n)}}return s}(0,i,e,t);return function(e,t){let r=`${t} must return \`null\` or a valid event.`;if(lz(e))return e.then(e=>{if(!lW(e)&&null!==e)throw yk(r);return e},e=>{throw yk(`${t} rejected with ${e}`)});if(!lW(e)&&null!==e)throw yk(r);return e}(n,l)}).then(i=>{if(null===i){if(this.recordDroppedEvent("before_send",d),a){let t=e.spans||[],r=1+t.length;this.recordDroppedEvent("before_send","span",r)}throw yA(`${l} returned \`null\`, will not send event.`)}let o=r.getSession()||n.getSession();if(s&&o&&this._updateSessionFromEvent(o,i),a){let e=i.sdkProcessingMetadata?.spanCountBeforeProcessing||0,t=i.spans?i.spans.length:0,r=e-t;r>0&&this.recordDroppedEvent("before_send","span",r)}let u=i.transaction_info;return a&&u&&i.transaction!==e.transaction&&(i.transaction_info={...u,source:"custom"}),this.sendEvent(i,t),i}).then(null,e=>{if(yI(e)||yS(e))throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),yk(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${e}`)})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([e,t])=>{let[r,n]=e.split(":");return{reason:r,category:n,quantity:t}})}_flushOutcomes(){lR&&lY.log("Flushing outcomes...");let e=this._clearOutcomes();if(0===e.length){lR&&lY.log("No outcomes to send");return}if(!this._dsn){lR&&lY.log("No dsn provided, will not send outcomes");return}lR&&lY.log("Sending outcomes:",e);let t=function(e,t,r){let n=[{type:"client_report"},{timestamp:co(),discarded_events:e}];return yl(t?{dsn:t}:{},[n])}(e,this._options.tunnel&&cQ(this._dsn));this.sendEnvelope(t)}}function yT(e){return void 0===e.type}function yx(e){return"transaction"===e.type}let yP={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function yO(e,t,r,n=!0){r&&(!e[t]||n)&&(e[t]=r)}function yB(e,t){let r=t??yC(e)??[];if(0===r.length)return;let n=e.getOptions(),i=function(e,t,r,n){let i={};return t?.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),r&&n&&(i.dsn=cQ(n)),yl(i,[[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]])}(r,n._metadata,n.tunnel,e.getDsn());lP._sentryClientToLogBufferMap?.set(e,[]),e.emit("flushLogs"),e.sendEnvelope(i)}function yC(e){return lP._sentryClientToLogBufferMap?.get(e)}lP._sentryClientToLogBufferMap=new WeakMap;let yR=function(e,...t){let r=new String(String.raw(e,...t));return r.__sentry_template_string__=e.join("\x00").replace(/%/g,"%%").replace(/\0/g,"%s"),r.__sentry_template_values__=t,r};function yM(e,t,r,n){!function(e,t=cA(),r=c_(),n=function(e,t){let r=yC(e);void 0===r?lP._sentryClientToLogBufferMap?.set(e,[t]):(lP._sentryClientToLogBufferMap?.set(e,[...r,t]),r.length>=100&&yB(e,r))}){if(!t){lR&&lY.warn("No client available to capture log.");return}let{_experiments:i,release:o,environment:a}=t.getOptions(),{enableLogs:s=!1,beforeSendLog:u}=i??{};if(!s){lR&&lY.warn("logging option not enabled, log will not be captured.");return}let[,l]=r?ck(r,()=>{let e=function(){let e=lO(),t=cb(e);return t.getActiveSpan?t.getActiveSpan():c_()[cl]}(),n=e?cK(e):cS(r),i=e?c0(e):c1(t,r);return[i,n]}):[void 0,void 0],c={...e.attributes},{user:{id:d,email:p,username:f}}=function(e){let t=cv().getScopeData();return c2(t,cw().getScopeData()),c2(t,e.getScopeData()),t}(r);yO(c,"user.id",d,!1),yO(c,"user.email",p,!1),yO(c,"user.name",f,!1),yO(c,"sentry.release",o),yO(c,"sentry.environment",a);let{name:h,version:m}=t.getSdkMetadata()?.sdk??{};yO(c,"sentry.sdk.name",h),yO(c,"sentry.sdk.version",m);let g=e.message;if(lU(g)){let{__sentry_template_string__:e,__sentry_template_values__:t=[]}=g;c["sentry.message.template"]=e,t.forEach((e,t)=>{c[`sentry.message.parameter.${t}`]=e})}let y=r[cl];yO(c,"sentry.trace.parent_span_id",y?.spanContext().spanId);let b={...e,attributes:c};t.emit("beforeCaptureLog",b);let _=u?u(b):b;if(!_){t.recordDroppedEvent("before_send","log_item",1),lR&&lY.warn("beforeSendLog returned null, log will not be captured.");return}let{level:w,message:v,attributes:k={},severityNumber:A}=_,S={timestamp:ca(),level:w,body:v,trace_id:l?.trace_id,severity_number:A??yP[w],attributes:Object.keys(k).reduce((e,t)=>(e[t]=function(e){switch(typeof e){case"number":if(Number.isInteger(e))return{value:e,type:"integer"};return{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}(k[t]),e),{})};n(t,S),t.emit("afterCaptureLog",_)}({level:e,message:t,attributes:r,severityNumber:n})}function yL(e,t){yM("trace",e,t)}function yN(e,t){yM("debug",e,t)}function yD(e,t){yM("info",e,t)}function yF(e,t){yM("warn",e,t)}function yq(e,t){yM("error",e,t)}function yU(e,t){yM("fatal",e,t)}let yj=new il;function yW(){try{let e=navigator.userAgent,t=navigator.platform,r="Unknown",n="Unknown",i="Unknown";if(t.includes("Win")?i="Windows":t.includes("Mac")?i="macOS":t.includes("Linux")?i="Linux":t.includes("Android")?i="Android":(t.includes("iPhone")||t.includes("iPad"))&&(i="iOS"),e.includes("Edg/")){r="Edge";let t=e.match(/Edg\/([0-9.]+)/);n=t?t[1]:"Unknown"}else if(e.includes("Chrome/")){r="Chrome";let t=e.match(/Chrome\/([0-9.]+)/);n=t?t[1]:"Unknown"}else if(e.includes("Firefox/")){r="Firefox";let t=e.match(/Firefox\/([0-9.]+)/);n=t?t[1]:"Unknown"}else if(e.includes("Safari/")&&!e.includes("Chrome")){r="Safari";let t=e.match(/Version\/([0-9.]+)/);n=t?t[1]:"Unknown"}return{platform:`${i} ${r} ${n}`,browser:r,browserVersion:n,os:i}}catch(e){return console.error("Error in getPlatformInfo:",e),{platform:"null",browser:"null",browserVersion:"null",os:"null"}}}function yK(){try{let e=navigator.language||"unknown",t=navigator.languages||[e],r=Intl.DateTimeFormat().resolvedOptions().locale||e;return{language:e,languages:t,locale:r}}catch(e){return console.error("Error in getLanguageInfo:",e),{language:"null",languages:["null"],locale:"null"}}}async function yz(){try{let e=await yV(),t=yW(),r=yK(),n=Intl.DateTimeFormat().resolvedOptions().timeZone||"null";return{deviceId:e,...t,...r,timezone:n}}catch(e){return console.error("Error in getDeviceInfo:",e),{deviceId:"null",platform:"null",browser:"null",browserVersion:"null",os:"null",language:"null",languages:["null"],locale:"null",timezone:"null"}}}async function yV(){let e="amplitude_device_id_frontrun";try{let t=await yj.getItem(e);return t||(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),await yj.setItem(e,t)),t}catch(e){return console.error("Failed to get/set device ID:",e),"null"}}async function yH(){let e="amplitude_session_id_frontrun",t="amplitude_last_event_time_frontrun";try{let r=Date.now(),n=Number(await yj.getItem(t)||"0"),i=Number(await yj.getItem(e)||"0");return(r-n>18e5||!i)&&(i=r,await yj.setItem(e,i.toString())),await yj.setItem(t,r.toString()),i}catch(e){return console.error("Error getting session ID:",e),0}}(x9=PO||(PO={})).PAGE_VIEW="page_view",x9.WEBSITE_VISIT="website_visit",x9.EXTENSION_COMPATIBLE="extension_compatible",x9.LOGIN_ATTEMPT_GOOGLE="login_attempt_google",x9.LOGIN_SUCCESS_GOOGLE="login_success_google",x9.INVITE_CODE_SUCCESS="invite_code_success",x9.LOGIN_CHECK_SESSION="login_check_session",x9.LOGIN_CHECK_RELOGIN_NEW_USER="login_check_relogin_new_user",x9.LOGIN_CHECK_TURNKEY_SUB_ORG_ID="login_check_turnkey_sub_org_id",x9.HOVER_ON_PROFILE="hover_on_profile",x9.HOVER_ON_USERNAME_HISTORY="hover_on_username_history",x9.UNFOLLOW_KOL="unfollow_kol",x9.FOLLOW_KOL="follow_kol",x9.CLICK_ON_FOLLOWING="click_on_following",x9.CLICK_ON_FOLLOWERS="click_on_followers",x9.CLICK_ON_PROFILE="click_on_profile_from_twitter",x9.CLICK_ON_ASSOCIATED_WALLETS="click_on_associated_wallets",x9.CLICK_ON_MENTIONED_WALLETS="click_on_mentioned_wallets",x9.POST_TWITTER_TWEETS_WITH_CA="post_twitter_tweets_with_ca",x9.HOVER_ON_INLINE_WALLET="hover_on_inline_wallet",x9.CLICK_ON_EDIT_LABEL_SIDE_PANEL="click_on_edit_label_side_panel",x9.CLICK_ON_CANCEL_MANAGE_SIDE_PANEL="click_on_cancel_manage_side_panel",x9.CLICK_ON_EDIT_LABEL_TWITTER="click_on_edit_label_twitter",x9.TWITTER_PROFILE_WALLET_EXPAND="twitter_profile_wallet_expand",x9.TWITTER_PROFILE_WALLET_HISTORY_CLICK="twitter_profile_wallet_history_click",x9.SIDE_PANEL_UPDATE_LABEL_TWITTER="side_panel_update_label_twitter",x9.SIDE_PANEL_CLEAR_LABEL_TWITTER="side_panel_clear_label_twitter",x9.CLICK_ON_PROFILE_SIDE_PANEL="click_on_profile_side_panel",x9.CLICK_ON_WALLET_COPY="click_on_wallet_copy",x9.CLICK_ON_WALLET_COPY_ALL="click_on_wallet_copy_all",x9.CLICK_ON_WALLET_DETAIL_SIDE_PANEL="click_on_wallet_detail_side_panel",x9.HOME_START_TRADING_CLICK="home_start_trading_click",x9.HOME_CLICK_ON_TWITTER_X="home_click_on_twitter_x",x9.HOME_CLICK_ON_WALLET_DETAIL_TAB="home_click_on_wallet_detail_tab",x9.HOME_CLICK_ON_TWITTER_DETAIL_TAB="home_click_on_twitter_detail_tab",x9.HOME_CLICK_ON_LABEL="home_click_on_label",x9.HOME_CLICK_ON_WALLET_SOLSCAN="home_click_on_wallet_solscan",x9.HOME_CLICK_ON_TWITTER="home_click_on_twitter",x9.CLICK_ON_GROUP_DETAIL_SIDE_PANEL="click_on_group_detail_side_panel",x9.CLICK_ON_GROUP_SIDE_PANEL="click_on_group_side_panel",x9.CLICK_ON_CREATE_GROUP_SIDE_PANEL="click_on_create_group_side_panel",x9.CLICK_DELETE_GROUP_SIDE_PANEL="click_delete_group_side_panel",x9.CLICK_EDIT_GROUP_SIDE_PANEL="click_edit_group_side_panel",x9.CLICK_SAVE_GROUP_CHANGES_SIDE_PANEL="click_save_group_changes_side_panel",x9.CLICK_CANCEL_GROUP_CHANGES_SIDE_PANEL="click_cancel_group_changes_side_panel",x9.CLICK_DELETE_WALLET_FROM_GROUP_SIDE_PANEL="click_delete_wallet_from_group_side_panel",x9.CLICK_CANCEL_ADD_WALLET_TO_GROUP_SIDE_PANEL="click_cancel_add_wallet_to_group_side_panel",x9.CLICK_SAVE_NEW_WALLET_TO_GROUP_SIDE_PANEL="click_save_new_wallet_to_group_side_panel",x9.CLICK_ON_PRIMARY_LABEL_ADD_WALLET_TO_GROUP_SIDE_PANEL="click_on_primary_label_add_wallet_to_group_side_panel",x9.CLICK_ADD_GROUP_SIDE_PANEL="click_add_group_side_panel",x9.CLICK_SAVE_GROUP_SIDE_PANEL="click_save_group_side_panel",x9.CLICK_CANCEL_ADD_GROUP_SIDE_PANEL="click_cancel_add_group_side_panel",x9.CLICK_ADD_WALLET_TO_GROUP_SIDE_PANEL="click_add_wallet_to_group_side_panel",x9.GROUP_SELECT_TOGGLE_SIDE_PANEL="group_select_toggle_side_panel",x9.CLICK_ON_CUSTOMIZED_GROUP="click_on_customized_group",x9.CLICK_ON_GMGN_IMPORT_SIDE_PANEL="click_on_gmgn_import_side_panel",x9.CLICK_ON_SOLSCAN_IMPORT_SIDE_PANEL="click_on_solscan_import_side_panel",x9.CLICK_ON_AXIOM_IMPORT_SIDE_PANEL="click_on_axiom_import_side_panel",x9.CLICK_ON_PHOTON_IMPORT_SIDE_PANEL="click_on_photon_import_side_panel",x9.CLICK_ON_BULK_IMPORT_SIDE_PANEL="click_on_bulk_import_side_panel",x9.CLICK_ON_CONFIRMING_IMPORT_LABELS="click_on_confirming_import_labels",x9.CLICK_ON_SUBMIT_BULK_IMPORT_SIDE_PANEL="click_on_submit_bulk_import_side_panel",x9.CLICK_ON_TAB_SIDE_PANEL="click_on_tab_side_panel",x9.HOME_CLICK_ON_HOME_TAB="home_click_on_home_tab",x9.HOME_CLICK_ON_IMPORT_TAB="home_click_on_import_tab",x9.HOME_EXPLORE_LABEL_CLICK="home_explore_label_click",x9.SEARCH_ON_TAB_SIDE_PANEL="search_on_tab_side_panel",x9.CLICK_ON_WALLET_SEARCH_TAB="click_on_wallet_search_tab",x9.CLICK_ON_PROFILE_SEARCH_TAB="click_on_profile_search_tab",x9.CLICK_ON_GROUP_SEARCH_TAB="click_on_group_search_tab",x9.CLICK_ON_SETTING_TAB="click_on_setting_tab",x9.CLICK_ON_ADD_TAB="click_on_add_tab",x9.SETTING_THEME_SIDE_PANEL="setting_theme_side_panel",x9.CLICK_CLOSE_SETTING_SIDE_PANEL="click_close_setting_side_panel",x9.CLICK_LOGOUT_SIDE_PANEL="click_logout_side_panel",x9.CLICK_ON_SETTING="click_on_setting",x9.CLICK_ON_LOGIN_SIDE_PANEL="click_on_login_side_panel",x9.CLICK_OFF_SETTING_SIDE_PANEL="click_off_setting_side_panel",x9.CLICK_SHOW_SETTING_SIDE_PANEL="click_show_setting_side_panel",x9.CLICK_TOGGLE_PLATFORM_DISABLED_SIDE_PANEL="click_toggle_platform_disabled_side_panel",x9.SETTING_LABEL_TEXT_STYLE_SIDE_PANEL="setting_label_text_style_side_panel",x9.SETTING_LABEL_TYPE_SIDE_PANEL="setting_label_type_side_panel",x9.SETTING_LANGUAGE_SIDE_PANEL="setting_language_side_panel",x9.CLICK_ON_CLOSE_ADD_SIDE_PANEL="click_on_close_add_side_panel",x9.CLICK_ON_NEW_WALLET_SIDE_PANEL="click_on_new_wallet_side_panel",x9.CLICK_ON_NEW_GROUP_SIDE_PANEL="click_on_new_group_side_panel",x9.GROUP_NAME_CHANGE_ADD_SIDE_PANEL="group_name_change_add_side_panel",x9.CLICK_ON_SAVE_GROUP_SIDE_PANEL="click_on_save_group_side_panel",x9.WALLET_ADDRESS_CHANGE_ADD_SIDE_PANEL="wallet_address_change_add_side_panel",x9.PRIMARY_LABEL_CHANGE_ADD_SIDE_PANEL="primary_label_change_add_side_panel",x9.CLICK_ON_SAVE_WALLET_SIDE_PANEL="click_on_save_wallet_side_panel",x9.GROUP_SELECT_CHANGE_ADD_SIDE_PANEL="group_select_change_add_side_panel",x9.CLICK_ON_BACK_ADD_SIDE_PANEL="click_on_back_add_side_panel",x9.CLICK_ON_WALLET_EDIT_SIDE_PANEL="click_on_wallet_edit_side_panel",x9.CLICK_ON_DELETE_LABEL_SIDE_PANEL="click_on_delete_label_side_panel",x9.CLICK_ON_SAVE_MANAGE_SIDE_PANEL="click_on_save_manage_side_panel",x9.CLICK_ON_ADD_WALLET_TO_GROUP_SIDE_PANEL="click_on_add_wallet_to_group_side_panel",x9.CLICK_IMPORT_OPTIONS_WELCOME_SIDE_PANEL="click_import_options_welcome_side_panel",x9.CLICK_EXPLORE_WELCOME_SIDE_PANEL="click_explore_welcome_side_panel",x9.CLICK_ON_EXPLORE_FRONTRUN_BUTTON="click_on_explore_frontrun_button",x9.CLICK_EXTENSION_CHROME="click_extension_chrome",x9.EXTENSION_INSTALLED="extension_installed",x9.EXTENSION_UPDATED="extension_updated",x9.CHROME_BROWSER_UPDATED="chrome_browser_updated",x9.SHARED_MODULE_UPDATED="shared_module_updated",x9.SESSION_STARTED="session_started",x9.SESSION_ENDED="session_ended",x9.CLICK_ON_ADD_ALT_WALLET_TO_GROUP_SIDE_PANEL="click_on_add_alt_wallet_to_group_side_panel",x9.CLICK_ON_ALT_WALLET_SOLSCAN_SIDE_PANEL="click_on_alt_wallet_solscan_side_panel",x9.CLICK_ON_ALT_WALLET_LAST_ACTIVE_SIDE_PANEL="click_on_alt_wallet_last_active_side_panel",x9.CLICK_ON_ALT_WALLET_DETAIL_SIDE_PANEL="click_on_alt_wallet_detail_side_panel",x9.CLICK_ON_ALT_WALLET_EDIT_LABEL_SIDE_PANEL="click_on_alt_wallet_edit_label_side_panel",x9.CLICK_ON_ALT_WALLET_FIND_SIDE_PANEL="click_on_alt_wallet_find_side_panel",x9.SUCCESS_BULK_IMPORT_SIDE_PANEL="success_bulk_import_side_panel",x9.ERROR_BULK_IMPORT_SIDE_PANEL="error_bulk_import_side_panel",x9.CLICK_ON_FIND_ALT_WALLETS_SIDE_PANEL="click_on_find_alt_wallets_side_panel",x9.HOME_CLICK_ON_TRADING="home_click_on_trading",x9.HOME_START_TRADING_AUTH="home_start_trading_auth",x9.TRADING_CREATE_WALLET="trading_create_wallet",x9.TRADING_IMPORT_WALLET="trading_import_wallet",x9.TRADING_DELETE_WALLET="trading_delete_wallet",x9.TRADING_COPY_ADDRESS="trading_copy_address",x9.TRADING_EXPORT_PRIVATE_KEY="trading_export_private_key",x9.TRADING_EXPORT_PRIVATE_KEY_ERROR="trading_export_private_key_error",x9.TRADING_EXPORT_PRIVATE_KEY_AUTH="trading_export_private_key_auth",x9.TRADING_SET_ACTIVE_WALLET="trading_set_active_wallet",x9.TRADING_CLICK_WITHDRAW="trading_click_withdraw",x9.TRADING_CLICK_DEPOSIT="trading_click_deposit",x9.TRADING_TOKEN_ON_AXIOM="trading_token_on_axiom",x9.TRADING_CLICK_EXPORT_PRIVATE_KEY="trading_click_export_private_key",x9.TRADING_HIDE_LOW_BALANCES="trading_hide_low_balances",x9.TRADING_IMPORT_PRIVATE_KEY_SUCCESS="trading_import_private_key_success",x9.TRADING_IMPORT_PRIVATE_KEY_ERROR="trading_import_private_key_error",x9.TRADING_WITHDRAW_SUCCESS="trading_withdraw_success",x9.TRADING_WITHDRAW_ERROR="trading_withdraw_error",x9.TRADING_WITHDRAW_AUTH="trading_withdraw_auth",x9.TRADING_TOKEN_SOLSCAN="trading_token_solscan",x9.TRADING_TOKEN_ON_PADRE="trading_token_on_padre",x9.TRADING_TRANSACTION_COMPLETE="trading_transaction_complete",x9.HOME_CLICK_ON_LABELING_TAB="home_click_on_labeling_tab",x9.HOME_CLICK_ON_TRADING_TAB="home_click_on_trading_tab",x9.HOME_CLICK_ON_ADD_TAB="home_click_on_add_tab",x9.HOME_CLICK_CLOSE_ADD_TAB="home_click_close_add_tab",x9.HOME_CLICK_ON_SETTING_TAB="home_click_on_setting_tab",x9.TRADING_IMPORT_WALLET_FAILED="trading_import_wallet_failed",x9.TRADING_IMPORT_WALLET_MORE_THAN_5_WALLETS="trading_import_wallet_more_than_5_wallets",x9.TRADING_CREATE_WALLET_FAILED="trading_create_wallet_failed",x9.CLICK_ON_JITO_BUNDLE_INFO="click_on_jito_bundle_info",x9.CHECK_JITO_BUNDLE_COPY_TX="check_jito_bundle_copy_tx",x9.CHECK_JITO_BUNDLE_VIEW_SOLSCAN="check_jito_bundle_view_solscan",x9.CHECK_JITO_BUNDLE_VIEW_GMGN="check_jito_bundle_view_gmgn",x9.CLICK_ON_HISTORICAL_CA_AXIOM="click_on_historical_ca_axiom",x9.CLICK_ON_HISTORICAL_CA_GMGN="click_on_historical_ca_gmgn",x9.CLICK_ON_HISTORICAL_WALLET_GMGN="click_on_historical_wallet_gmgn",x9.CLICK_ON_HISTORICAL_WALLET_SOLSCAN="click_on_historical_wallet_solscan",x9.CLICK_ON_HISTORICAL_CA_PADRE="click_on_historical_ca_padre",x9.CLICK_ON_HISTORICAL_CA="click_on_historical_ca",x9.CLICK_ON_GENERATE_HISTORICAL_CA="click_on_generate_historical_ca",x9.CLICK_ON_HISTORICAL_CA_LOAD_MORE_TOKEN_MARKET_CAP="click_on_historical_ca_load_more_token_market_cap",x9.CLICK_ON_HISTORICAL_CA_EXPAND="click_on_historical_ca_expand",x9.CLICK_ON_HISTORICAL_CA_DIRECT_TWEET="click_on_historical_ca_direct_tweet",x9.CLICK_ON_HISTORICAL_CA_REFRESH_TOKEN_MARKET_CAP="click_on_historical_ca_refresh_token_market_cap",x9.CLICK_ON_HISTORICAL_CA_LOAD_MORE_TWEETS="click_on_historical_ca_load_more_tweets",x9.CLICK_ON_HISTORICAL_CA_JUMP_TO_DELETED_TWEETS="click_on_historical_ca_jump_to_deleted_tweets",x9.CLICK_ON_HISTORICAL_CA_JUMP_TO_ACTIVE_TWEETS="click_on_historical_ca_jump_to_active_tweets",x9.CLICK_ON_HISTORICAL_CA_CLOSE_MODAL="click_on_historical_ca_close_modal",x9.CLICK_WALLET_MENTION_ICON="click_wallet_mention_icon",x9.CLICK_WALLET_MENTION_TWEET="click_wallet_mention_tweet",x9.CLICK_ON_LINKED_WALLET_GMGN="click_on_linked_wallet_gmgn",x9.UPDATE_LABEL="update_label",x9.UI_LABEL_SELECTED_PUBLIC="ui_label_selected_public",x9.UI_LABEL_SELECTED_TOKEN_STATS="ui_label_selected_token_stats",x9.UI_LABEL_SELECTED_TAGS="ui_label_selected_tags",x9.TWITTER_HEADSHOT_ERROR="twitter_headshot_error",x9.TRIAL_STARTED="trial_started",x9.CLICK_ON_HISTORICAL_CA_SHARE_PNL="click_on_historical_ca_share_pnl",x9.CLICK_ON_LINKED_WALLET_SOLSCAN="click_on_linked_wallet_solscan";let yG=null,y$=null,yX=null;async function yZ(){try{yG||(yG=await yz()),y$||(y$=yW()),yX||(yX=yK())}catch(e){yu.error("Failed to initialize amplitude cache",e)}}function yQ(){try{let e=lk.getState(),t=uw(e),r={};return Object.entries(t).forEach(([e,t])=>{r[`${e.toUpperCase()}_TOGGLE`]=t}),r}catch(e){return yu.error("Failed to get current toggle states",e),{}}}async function yY(e){}let yJ=async(e,t)=>{try{await yZ();let r=yG,n=y$,i=yX,{account:o,setting:a}=lk.getState(),s=await yH(),u=yQ(),l={$set:{browser:n.browser,browser_version:n.browserVersion,os:n.os,language:i.language,locale:i.locale,timezone:r.timezone,...u,label_tool:a.labelTool}},c={event_type:e,user_id:o.user?.id||"anonymous",device_id:r.deviceId,session_id:s,time:Date.now(),app_version:chrome.runtime.getManifest().version,platform:n.platform,language:i.language,ip:"$remote",event_properties:{...t,context:"background",browser:n.browser,browser_version:n.browserVersion,os:n.os,locale:i.locale,supported_languages:i.languages,timezone:r.timezone},user_properties:l};await yY([c])}catch(e){yu.error("Failed to track amplitude event",e)}},y1=async e=>{try{let{account:t}=lk.getState();if(!t.user?.id){yu.warn("Cannot identify user without user_id");return}await yZ();let r=yG,n=y$,i=yX,o=yQ(),a={event_type:"$identify",user_id:t.user?.id,device_id:r.deviceId,session_id:await yH(),time:Date.now(),language:i.language,platform:n.platform,ip:"$remote",user_properties:{$set:{...e,browser:n.browser,browser_version:n.browserVersion,os:n.os,language:i.language,locale:i.locale,timezone:r.timezone,...o}}};await yY([a])}catch(e){yu.error("Failed to identify amplitude user",e)}},y0=async()=>{try{let{account:e}=lk.getState();e.user&&await y1({email:e.user.email||"",name:e.user.name||""})}catch(e){yu.error("Failed to update amplitude user",e)}},y2=async()=>{try{await yZ();let e=lk.getState(),t=e.account.user?.id;lk.subscribe(()=>{try{let e=lk.getState(),r=e.account.user?.id;t!==r&&(t=r,y0().catch(e=>{yu.error("Failed to update amplitude user in subscription",e)}))}catch(e){yu.error("Error in store subscription",e)}}),yJ(PO.SESSION_STARTED,{initialization_context:"background_script_startup"}).catch(e=>{yu.error("Failed to track session started event",e)})}catch(e){yu.error("Failed to initialize Amplitude",e)}},y6=ig("openSidepanel"),y4=!1;chrome.runtime.onConnect.addListener(function(e){"sidepanel"===e.name&&(y6.debug("sidepanel connected"),y4=!0,yJ(PO.SESSION_STARTED),e.onDisconnect.addListener(()=>{y6.debug("sidepanel disconnected."),y4=!1,yJ(PO.SESSION_ENDED)}))});let y5=async(e,t)=>{if(e.body&&lk.dispatch(s4(e.body)),!y4){let t=e.sender.tab?.id||0;if(t){try{await chrome.sidePanel.open({tabId:t})}catch(e){console.error("Failed to open side panel:",e)}let e=await yo();e||await ya()}}t.send({success:!0})},y8=ig("openTabs"),y3=async(e,t)=>{let r=!0,{params:n}=e.body;try{await ya(n)}catch(e){y8.error("Failed to open tabs",e),r=!1}t.send({success:r})},y9=ig("session"),y7=async(e,t)=>{try{let{data:e}=await ty.getSession({query:{disableCookieCache:!0}});if(!e){t.send({session:null});return}if(e.user&&e.session){t.send({user:e.user,session:e.session});return}t.send({session:null})}catch(e){y9.error("Error getting session",e),t.send({session:null})}};var be={},bt=1/0,br=0/0,bn=/^\s+|\s+$/g,bi=/^[-+]0x[0-9a-f]+$/i,bo=/^0b[01]+$/i,ba=/^0o[0-7]+$/i,bs=/^(?:0|[1-9]\d*)$/,bu=parseInt,bl=Object.prototype.toString,bc=Math.ceil,bd=Math.max;function bp(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}be=function(e,t,r){t=(r?function(e,t,r){if(!bp(r))return!1;var n,i,o,a,s=typeof t;return("number"==s?!!(null!=r&&"number"==typeof(n=r.length)&&n>-1&&n%1==0&&n<=9007199254740991&&!("[object Function]"==(i=bp(r)?bl.call(r):"")||"[object GeneratorFunction]"==i)&&(a=null==(a=r.length)?9007199254740991:a)&&("number"==typeof t||bs.test(t))&&t>-1&&t%1==0&&t<a):"string"==s&&t in r)&&((o=r[t])===e||o!=o&&e!=e)}(e,t,r):void 0===t)?1:bd((o=(i=(n=t)?(n=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==bl.call(t))return br;if(bp(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=bp(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(bn,"");var n=bo.test(e);return n||ba.test(e)?bu(e.slice(2),n?2:8):bi.test(e)?br:+e}(n))===bt||n===-bt?(n<0?-1:1)*17976931348623157e292:n==n?n:0:0===n?n:0)%1,i==i?o?i-o:i:0),0);var n,i,o,a=e?e.length:0;if(!a||t<1)return[];for(var s=0,u=0,l=Array(bc(a/t));s<a;)l[u++]=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}(e,s,s+=t);return l};let bf={SOL:"So11111111111111111111111111111111111111112"};ig("DexscreenerCall");let bh=gX({baseUrl:"https://api.dexscreener.com"}),bm=async(e,t)=>{let{args:r}=e.body;try{let e;e="string"==typeof r?await bh.GET(r,{}):await bh.request(r.method,r.url,{body:r.body,params:r.params,headers:r.headers});let{data:n,error:i,response:o}=e;n?t.send({data:n}):t.send({error:{status:o.status,data:i}})}catch(e){t.send({error:{status:"FETCH_ERROR",error:e.message}})}};ig("JupiterCall");let bg=gX({baseUrl:"https://lite-api.jup.ag"}),by=async(e,t)=>{let{args:r}=e.body;try{let e;e="string"==typeof r?await bg.GET(r,{}):await bg.request(r.method,r.url,{body:r.body,params:r.params,headers:r.headers});let{data:n,error:i,response:o}=e;n?t.send({data:n}):t.send({error:{status:o.status,data:i}})}catch(e){t.send({error:{status:"FETCH_ERROR",error:e.message}})}},bb=0,b_={},bw=async(e,t)=>{if(Date.now()-bb<5e3){t.send({data:b_});return}let{tokenMints:r}=e.body,{data:n,error:i}=await bS(r.concat([bf.SOL]));if(i){t.send({error:i});return}bb=Date.now(),b_={...b_,...n},t.send({data:b_})},bv=async e=>{try{let{data:t,error:r}=await bg.GET("/price/v3",{params:{query:{ids:e.join()}}});if(r)return{error:JSON.stringify(r)};let n={},i=[];return e.forEach(e=>{let r=t[e]?.usdPrice;r>0?n[e]=r:i.push(e)}),{data:n,notFoundMints:i}}catch(e){return{error:e.message}}},bk=async e=>{try{let{data:t,error:r}=await bh.GET("/tokens/v1/{chainId}/{tokenAddresses}",{params:{path:{chainId:"solana",tokenAddresses:e.join()}}});if(r)return{error:JSON.stringify(r)};let n=t.reduce((e,t)=>(e[t.baseToken.address]=Number(t.priceUsd),e),{});return{data:n}}catch(e){return{error:e.message}}},bA=async e=>{let t=await bv(e);if(t.error||t.notFoundMints.length>0){let r=await bk(t.error?e:t.notFoundMints);return{error:r.error,data:{...t.data,...r.data}}}return t},bS=async e=>{let t=ed(be)(e,50),r={},n=null;for(let e of t){let{data:t,error:i}=await bA(e);if(i){n=i;continue}r={...r,...t}}return Object.keys(r).length>0||!n?{data:r}:{error:n}},bI=ig("background/messages/trackAmplitudeEvent"),bE=async(e,t)=>{let{eventName:r,eventProperties:n}=e.body;try{await Promise.race([yJ(r,n),new Promise((e,t)=>setTimeout(()=>t(Error("Request timeout")),5e3))]),t.send({success:!0})}catch(n){let e=n instanceof Error?n.message:String(n);bI.error("trackAmplitudeEvent failed",{error:e,eventName:r}),t.send({success:!1,error:e})}};var d0=(eh("9U7pb"),eh("9U7pb")),ds=eh("acDaE"),d2=eh("63LgX"),bT={};let bx=/[\p{Lu}]/u,bP=/[\p{Ll}]/u,bO=/^[\p{Lu}](?![\p{Lu}])/gu,bB=/([\p{Alpha}\p{N}_]|$)/u,bC=/[_.\- ]+/,bR=RegExp("^"+bC.source),bM=RegExp(bC.source+bB.source,"gu"),bL=RegExp("\\d+"+bB.source,"gu"),bN=(e,t,r)=>{let n=!1,i=!1,o=!1;for(let a=0;a<e.length;a++){let s=e[a];n&&bx.test(s)?(e=e.slice(0,a)+"-"+e.slice(a),n=!1,o=i,i=!0,a++):i&&o&&bP.test(s)?(e=e.slice(0,a-1)+"-"+e.slice(a-1),o=i,i=!1,n=!0):(n=t(s)===s&&r(s)!==s,o=i,i=r(s)===s&&t(s)!==s)}return e},bD=(e,t)=>(bO.lastIndex=0,e.replace(bO,e=>t(e))),bF=(e,t)=>(bM.lastIndex=0,bL.lastIndex=0,e.replace(bM,(e,r)=>t(r)).replace(bL,e=>t(e))),bq=(e,t)=>{if(!("string"==typeof e||Array.isArray(e)))throw TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},0===(e=Array.isArray(e)?e.map(e=>e.trim()).filter(e=>e.length).join("-"):e.trim()).length)return"";let r=!1===t.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t.locale),n=!1===t.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t.locale);if(1===e.length)return t.pascalCase?n(e):r(e);let i=e!==r(e);return i&&(e=bN(e,r,n)),e=e.replace(bR,""),e=t.preserveConsecutiveUppercase?bD(e,r):r(e),t.pascalCase&&(e=n(e.charAt(0))+e.slice(1)),bF(e,n)};(bT=bq).default=bq;var bU={},ds=eh("acDaE"),bj=ds.Buffer,bW=bU&&bU.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bU,"__esModule",{value:!0}),bU.struct=bU.f64=bU.f32=bU.i32=bU.u32=bU.i16=bU.u16=bU.i8=bU.u8=void 0,bU.u64=_r,bU.i64=function(e){return new _t(8,!0,e)},bU.u128=function(e){return new _t(16,!1,e)},bU.i128=function(e){return new _t(16,!0,e)},bU.u256=function(e){return new _t(32,!1,e)},bU.i256=function(e){return new _t(32,!0,e)},bU.publicKey=function(e){return new _n(Pz(32),e=>new ho(e),e=>e.toBuffer(),e)},bU.option=function(e,t){return new _i(e,t)},bU.bool=function(e){return new _n(PR(),_o,_a,e)},bU.vec=function(e,t){let r=PL("length"),n=Pj([r,PW(e,PC(r,-r.span),"values")]);return new _n(n,({values:e})=>e,e=>({values:e}),t)},bU.tagged=function(e,t,r){let n=Pj([_r("tag"),t.replicate("data")]);return new _n(n,function({tag:t,data:r}){if(!t.eq(e))throw Error("Invalid tag, expected: "+e.toString("hex")+", got: "+t.toString("hex"));return r},t=>({tag:e,data:t}),r)},bU.vecU8=_s,bU.str=function(e){return new _n(_s(),e=>e.toString("utf-8"),e=>bj.from(e,"utf-8"),e)},bU.rustEnum=function(e,t,r){let n=PK(null!=r?r:PR(),t);return e.forEach((e,t)=>n.addVariant(t,e,e.property)),n},bU.array=function(e,t,r){let n=Pj([PW(e,t,"values")]);return new _n(n,({values:e})=>e,e=>({values:e}),r)},bU.map=function(e,t,r){let n=PL("length"),i=Pj([n,PW(new _u(e,t),PC(n,-n.span),"values")]);return new _n(i,({values:e})=>new Map(e),e=>({values:Array.from(e.entries())}),r)};var ds=eh("acDaE"),bK=ds.Buffer;class bz{constructor(e,t){if(!Number.isInteger(e))throw TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw Error("Layout is abstract")}encode(e,t,r){throw Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function bV(e,t){return t.property?e+"["+t.property+"]":e}PB=bz;class bH extends bz{isCount(){throw Error("ExternalLayout is abstract")}}class bG extends bH{constructor(e,t,r){if(!(e instanceof bz))throw TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof b$||this.layout instanceof bX}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return void 0===r&&(r=0),this.layout.encode(e,t,r+this.offset)}}class b$ extends bz{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class bX extends bz{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}class bZ extends bz{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeIntLE(e,r,this.span),this.span}}class bQ extends bz{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatLE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeFloatLE(e,r),4}}class bY extends bz{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleLE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeDoubleLE(e,r),8}}class bJ extends bz{constructor(e,t,r){if(!(e instanceof bz))throw TypeError("elementLayout must be a Layout");if(!(t instanceof bH&&t.isCount()||Number.isInteger(t)&&0<=t))throw TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;t instanceof bH||!(0<e.span)||(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0,n=this.count;if(n instanceof bH&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t){void 0===t&&(t=0);let r=[],n=0,i=this.count;for(i instanceof bH&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r){void 0===r&&(r=0);let n=this.elementLayout,i=e.reduce((e,i)=>e+n.encode(i,t,r+e),0);return this.count instanceof bH&&this.count.encode(e.length,t,r),i}}class b1 extends bz{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((e,t)=>e&&t instanceof bz,!0)))throw TypeError("fields must be array of Layout instances");for(let n of("boolean"==typeof t&&void 0===r&&(r=t,t=void 0),e))if(0>n.span&&void 0===n.property)throw Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce((e,t)=>e+t.getSpan(),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;try{r=this.fields.reduce((r,n)=>{let i=n.getSpan(e,t);return t+=i,r+i},0)}catch(e){throw RangeError("indeterminate span")}return r}decode(e,t){void 0===t&&(t=0);let r=this.makeDestinationObject();for(let n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){void 0===r&&(r=0);let n=r,i=0,o=0;for(let n of this.fields){let a=n.span;if(o=0<a?a:0,void 0!==n.property){let i=e[n.property];void 0!==i&&(o=n.encode(i,t,r),0>a&&(a=n.getSpan(t,r)))}i=r,r+=a}return i+o-n}fromArray(e){let t=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw TypeError("property must be string");let t=0;for(let r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class b0{constructor(e){this.property=e}decode(){throw Error("UnionDiscriminator is abstract")}encode(){throw Error("UnionDiscriminator is abstract")}}class b2 extends b0{constructor(e,t){if(!(e instanceof bH&&e.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class b6 extends bz{constructor(e,t,r){let n=e instanceof b$||e instanceof bX;if(n)e=new b2(new bG(e));else if(e instanceof bH&&e.isCount())e=new b2(e);else if(!(e instanceof b0))throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof bz))throw TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&0<=(i=t.span)&&n&&(i+=e.layout.span),super(i,r),this.discriminator=e,this.usesPrefixDiscriminator=n,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=this.getVariant(e,t);if(!r)throw Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(let t in this.registry){let r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw Error("unable to infer src variant")}decode(e,t){let r;void 0===t&&(t=0);let n=this.discriminator,i=n.decode(e,t),o=this.registry[i];if(void 0===o){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=n.layout.span),(r=this.makeDestinationObject())[n.property]=i,r[o.property]=this.defaultLayout.decode(e,t+a)}else r=o.decode(e,t);return r}encode(e,t,r){void 0===r&&(r=0);let n=this.getSourceVariant(e);if(void 0===n){let n=this.discriminator,i=this.defaultLayout,o=0;return this.usesPrefixDiscriminator&&(o=n.layout.span),n.encode(e[n.property],t,r),o+i.encode(e[i.property],t,r+o)}return n.encode(e,t,r)}addVariant(e,t,r){let n=new b4(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t){let r=e;return bK.isBuffer(e)&&(void 0===t&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class b4 extends bz{constructor(e,t,r,n){if(!(e instanceof b6))throw TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof bz))throw TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof n)throw TypeError("variant must have a String property")}let i=e.span;0>e.span&&0<=(i=r?r.span:0)&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){let r=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function b5(e){return 0>e&&(e+=4294967296),e}class b8 extends bz{constructor(e,t,r){if(!(e instanceof b$||e instanceof bX))throw TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=void 0),4<e.span)throw RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=b5(e),this},this._packedGetValue=function(){return n}}decode(e,t){let r=this.makeDestinationObject();void 0===t&&(t=0);let n=this.word.decode(e,t);for(let e of(this._packedSetValue(n),this.fields))void 0!==e.property&&(r[e.property]=e.decode(n));return r}encode(e,t,r){void 0===r&&(r=0);let n=this.word.decode(t,r);for(let t of(this._packedSetValue(n),this.fields))if(void 0!==t.property){let r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){let r=new b3(this,e,t);return this.fields.push(r),r}addBoolean(e){let t=new b9(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}}class b3{constructor(e,t,r){if(!(e instanceof b8))throw TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw TypeError("bits must be positive integer");let n=8*e.span,i=e.fields.reduce((e,t)=>e+t.bits,0);if(t+i>n)throw Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=b5(this.valueMask<<this.start),this.property=r}decode(){let e=this.container._packedGetValue(),t=b5(e&this.wordMask),r=t>>>this.start;return r}encode(e){if(!Number.isInteger(e)||e!==b5(e&this.valueMask))throw TypeError(bV("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),r=b5(e<<this.start);this.container._packedSetValue(b5(t&~this.wordMask)|r)}}class b9 extends b3{constructor(e,t){super(e,1,t)}decode(e,t){return!!b3.prototype.decode.call(this,e,t)}encode(e){return"boolean"==typeof e&&(e=+e),b3.prototype.encode.call(this,e)}}class b7 extends bz{constructor(e,t){if(!(e instanceof bH&&e.isCount()||Number.isInteger(e)&&0<=e))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof bH||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){void 0===t&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof bH&&(n=e.length),!(bK.isBuffer(e)&&n===e.length))throw TypeError(bV("Blob.encode",this)+" requires (length "+n+") Buffer as src");if(r+n>t.length)throw RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,n,"hex"),this.length instanceof bH&&this.length.encode(n,t,r),n}}PC=(e,t,r)=>new bG(e,t,r),PR=e=>new b$(1,e),PM=e=>new b$(2,e),PL=e=>new b$(4,e),PN=e=>new bZ(1,e),PD=e=>new bZ(2,e),PF=e=>new bZ(4,e),Pq=e=>new bQ(e),PU=e=>new bY(e),Pj=(e,t,r)=>new b1(e,t,r),PW=(e,t,r)=>new bJ(e,t,r),PK=(e,t,r)=>new b6(e,t,r),Pz=(e,t)=>new b7(e,t);let _e=bW(eh("9U7pb"));Object.defineProperty(bU,"u8",{enumerable:!0,get:function(){return PR}}),Object.defineProperty(bU,"i8",{enumerable:!0,get:function(){return PN}}),Object.defineProperty(bU,"u16",{enumerable:!0,get:function(){return PM}}),Object.defineProperty(bU,"i16",{enumerable:!0,get:function(){return PD}}),Object.defineProperty(bU,"u32",{enumerable:!0,get:function(){return PL}}),Object.defineProperty(bU,"i32",{enumerable:!0,get:function(){return PF}}),Object.defineProperty(bU,"f32",{enumerable:!0,get:function(){return Pq}}),Object.defineProperty(bU,"f64",{enumerable:!0,get:function(){return PU}}),Object.defineProperty(bU,"struct",{enumerable:!0,get:function(){return Pj}});class _t extends PB{constructor(e,t,r){super(e,r),this.blob=Pz(e),this.signed=t}decode(e,t=0){let r=new _e.default(this.blob.decode(e,t),10,"le");return this.signed?r.fromTwos(8*this.span).clone():r}encode(e,t,r=0){return this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(bj,"le",this.span),t,r)}}function _r(e){return new _t(8,!1,e)}class _n extends PB{constructor(e,t,r,n){super(e.span,n),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class _i extends PB{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=PR()}encode(e,t,r=0){return null==e?this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+1)+1)}decode(e,t=0){let r=this.discriminator.decode(e,t);if(0===r)return null;if(1===r)return this.layout.decode(e,t+1);throw Error("Invalid option "+this.property)}getSpan(e,t=0){let r=this.discriminator.decode(e,t);if(0===r)return 1;if(1===r)return this.layout.getSpan(e,t+1)+1;throw Error("Invalid option "+this.property)}}function _o(e){if(0===e)return!1;if(1===e)return!0;throw Error("Invalid bool: "+e)}function _a(e){return e?1:0}function _s(e){let t=PL("length"),r=Pj([t,Pz(PC(t,-t.span),"data")]);return new _n(r,({data:e})=>e,e=>({data:e}),e)}class _u extends PB{constructor(e,t,r){super(e.span+t.span,r),this.keyLayout=e,this.valueLayout=t}decode(e,t){t=t||0;let r=this.keyLayout.decode(e,t),n=this.valueLayout.decode(e,t+this.keyLayout.getSpan(e,t));return[r,n]}encode(e,t,r){r=r||0;let n=this.keyLayout.encode(e[0],t,r),i=this.valueLayout.encode(e[1],t,r+n);return n+i}getSpan(e,t){return this.keyLayout.getSpan(e,t)+this.valueLayout.getSpan(e,t)}}function _l(e){let t=e.length;for(;--t>=0;)e[t]=0}let _c=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),_d=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),_p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),_f=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_h=Array(576);_l(_h);let _m=Array(60);_l(_m);let _g=Array(512);_l(_g);let _y=Array(256);_l(_y);let _b=Array(29);_l(_b);let __=Array(30);function _w(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function _v(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}_l(__);let _k=e=>e<256?_g[e]:_g[256+(e>>>7)],_A=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},_S=(e,t,r)=>{e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,_A(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},_I=(e,t,r)=>{_S(e,r[2*t],r[2*t+1])},_E=(e,t)=>{let r=0;do r|=1&e,e>>>=1,r<<=1;while(--t>0)return r>>>1},_T=e=>{16===e.bi_valid?(_A(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)},_x=(e,t)=>{let r,n,i,o,a,s;let u=t.dyn_tree,l=t.max_code,c=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,h=t.stat_desc.max_length,m=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(o=u[2*u[2*(n=e.heap[r])+1]+1]+1)>h&&(o=h,m++),u[2*n+1]=o,!(n>l)&&(e.bl_count[o]++,a=0,n>=f&&(a=p[n-f]),s=u[2*n],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(c[2*n+1]+a)));if(0!==m){do{for(o=h-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[h]--,m-=2}while(m>0)for(o=h;0!==o;o--)for(n=e.bl_count[o];0!==n;)!((i=e.heap[--r])>l)&&(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),n--)}},_P=(e,t,r)=>{let n,i;let o=Array(16),a=0;for(n=1;n<=15;n++)a=a+r[n-1]<<1,o[n]=a;for(i=0;i<=t;i++){let t=e[2*i+1];0!==t&&(e[2*i]=_E(o[t]++,t))}},_O=()=>{let e,t,r,n,i;let o=Array(16);for(n=0,r=0;n<28;n++)for(e=0,_b[n]=r;e<1<<_c[n];e++)_y[r++]=n;for(_y[r-1]=n,i=0,n=0;n<16;n++)for(e=0,__[n]=i;e<1<<_d[n];e++)_g[i++]=n;for(i>>=7;n<30;n++)for(e=0,__[n]=i<<7;e<1<<_d[n]-7;e++)_g[256+i++]=n;for(t=0;t<=15;t++)o[t]=0;for(e=0;e<=143;)_h[2*e+1]=8,e++,o[8]++;for(;e<=255;)_h[2*e+1]=9,e++,o[9]++;for(;e<=279;)_h[2*e+1]=7,e++,o[7]++;for(;e<=287;)_h[2*e+1]=8,e++,o[8]++;for(_P(_h,287,o),e=0;e<30;e++)_m[2*e+1]=5,_m[2*e]=_E(e,5);a=new _w(_h,_c,257,286,15),s=new _w(_m,_d,0,30,15),u=new _w([],_p,0,19,7)},_B=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},_C=e=>{e.bi_valid>8?_A(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},_R=(e,t,r,n)=>{let i=2*t,o=2*r;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]},_M=(e,t,r)=>{let n=e.heap[r],i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&_R(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!_R(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},_L=(e,t,r)=>{let n,i,o,a;let s=0;if(0!==e.sym_next)do n=(255&e.pending_buf[e.sym_buf+s++])+((255&e.pending_buf[e.sym_buf+s++])<<8),i=e.pending_buf[e.sym_buf+s++],0===n?_I(e,i,t):(_I(e,(o=_y[i])+256+1,t),0!==(a=_c[o])&&_S(e,i-=_b[o],a),_I(e,o=_k(--n),r),0!==(a=_d[o])&&_S(e,n-=__[o],a));while(s<e.sym_next)_I(e,256,t)},_N=(e,t)=>{let r,n,i;let o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(r=0,e.heap_len=0,e.heap_max=573;r<u;r++)0!==o[2*r]?(e.heap[++e.heap_len]=l=r,e.depth[r]=0):o[2*r+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=l,r=e.heap_len>>1;r>=1;r--)_M(e,o,r);i=u;do r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],_M(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,o[2*i]=o[2*r]+o[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,o[2*r+1]=o[2*n+1]=i,e.heap[1]=i++,_M(e,o,1);while(e.heap_len>=2)e.heap[--e.heap_max]=e.heap[1],_x(e,t),_P(o,l,e.bl_count)},_D=(e,t,r)=>{let n,i;let o=-1,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=a,a=t[(n+1)*2+1],++s<u&&i===a||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4))},_F=(e,t,r)=>{let n,i;let o=-1,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),n=0;n<=r;n++)if(i=a,a=t[(n+1)*2+1],!(++s<u)||i!==a){if(s<l)do _I(e,i,e.bl_tree);while(0!=--s)else 0!==i?(i!==o&&(_I(e,i,e.bl_tree),s--),_I(e,16,e.bl_tree),_S(e,s-3,2)):s<=10?(_I(e,17,e.bl_tree),_S(e,s-3,3)):(_I(e,18,e.bl_tree),_S(e,s-11,7));s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4)}},_q=e=>{let t;for(_D(e,e.dyn_ltree,e.l_desc.max_code),_D(e,e.dyn_dtree,e.d_desc.max_code),_N(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*_f[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t},_U=(e,t,r,n)=>{let i;for(_S(e,t-257,5),_S(e,r-1,5),_S(e,n-4,4),i=0;i<n;i++)_S(e,e.bl_tree[2*_f[i]+1],3);_F(e,e.dyn_ltree,t-1),_F(e,e.dyn_dtree,r-1)},_j=e=>{let t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0},_W=!1,_K=(e,t,r,n)=>{_S(e,0+(n?1:0),3),_C(e),_A(e,r),_A(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r};var _z={_tr_init:e=>{_W||(_O(),_W=!0),e.l_desc=new _v(e.dyn_ltree,a),e.d_desc=new _v(e.dyn_dtree,s),e.bl_desc=new _v(e.bl_tree,u),e.bi_buf=0,e.bi_valid=0,_B(e)},_tr_stored_block:_K,_tr_flush_block:(e,t,r,n)=>{let i,o;let a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=_j(e)),_N(e,e.l_desc),_N(e,e.d_desc),a=_q(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==t?_K(e,t,r,n):4===e.strategy||o===i?(_S(e,2+(n?1:0),3),_L(e,_h,_m)):(_S(e,4+(n?1:0),3),_U(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),_L(e,e.dyn_ltree,e.dyn_dtree)),_B(e),n&&_C(e)},_tr_tally:(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[(_y[r]+256+1)*2]++,e.dyn_dtree[2*_k(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{_S(e,2,3),_I(e,256,_h),_T(e)}},_V=(e,t,r,n)=>{let i=65535&e|0,o=e>>>16&65535|0,a=0;for(;0!==r;){a=r>2e3?2e3:r,r-=a;do o=o+(i=i+t[n++]|0)|0;while(--a)i%=65521,o%=65521}return i|o<<16|0};let _H=new Uint32Array((()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t})());var _G=(e,t,r,n)=>{let i=n+r;e^=-1;for(let r=n;r<i;r++)e=e>>>8^_H[(e^t[r])&255];return -1^e},_$={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_X={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:_Z,_tr_stored_block:_Q,_tr_flush_block:_Y,_tr_tally:_J,_tr_align:_1}=_z,{Z_NO_FLUSH:_0,Z_PARTIAL_FLUSH:_2,Z_FULL_FLUSH:_6,Z_FINISH:_4,Z_BLOCK:_5,Z_OK:_8,Z_STREAM_END:_3,Z_STREAM_ERROR:_9,Z_DATA_ERROR:_7,Z_BUF_ERROR:we,Z_DEFAULT_COMPRESSION:wt,Z_FILTERED:wr,Z_HUFFMAN_ONLY:wn,Z_RLE:wi,Z_FIXED:wo,Z_DEFAULT_STRATEGY:wa,Z_UNKNOWN:ws,Z_DEFLATED:wu}=_X,wl=(e,t)=>(e.msg=_$[t],t),wc=e=>2*e-(e>4?9:0),wd=e=>{let t=e.length;for(;--t>=0;)e[t]=0},wp=e=>{let t,r,n;let i=e.w_size;n=t=e.hash_size;do r=e.head[--n],e.head[n]=r>=i?r-i:0;while(--t)n=t=i;do r=e.prev[--n],e.prev[n]=r>=i?r-i:0;while(--t)},wf=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,wh=e=>{let t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},wm=(e,t)=>{_Y(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,wh(e.strm)},wg=(e,t)=>{e.pending_buf[e.pending++]=t},wy=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},wb=(e,t,r,n)=>{let i=e.avail_in;return(i>n&&(i=n),0===i)?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),1===e.state.wrap?e.adler=_V(e.adler,t,i,r):2===e.state.wrap&&(e.adler=_G(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},w_=(e,t)=>{let r,n,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,l=e.window,c=e.w_mask,d=e.prev,p=e.strstart+258,f=l[o+a-1],h=l[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(r=t)+a]!==h||l[r+a-1]!==f||l[r]!==l[o]||l[++r]!==l[o+1])continue;o+=2,r++;do;while(l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&o<p)if(n=258-(p-o),o=p-258,n>a){if(e.match_start=t,a=n,n>=s)break;f=l[o+a-1],h=l[o+a]}}while((t=d[t&c])>u&&0!=--i)return a<=e.lookahead?a:e.lookahead},ww=e=>{let t,r,n;let i=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=i+(i-262)&&(e.window.set(e.window.subarray(i,i+i-r),0),e.match_start-=i,e.strstart-=i,e.block_start-=i,e.insert>e.strstart&&(e.insert=e.strstart),wp(e),r+=i),0===e.strm.avail_in)break;if(t=wb(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=t,e.lookahead+e.insert>=3)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=wf(e,e.ins_h,e.window[n+1]);e.insert&&(e.ins_h=wf(e,e.ins_h,e.window[n+3-1]),e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)},wv=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,o,a=0,s=e.strm.avail_in;do{if(n=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o||(o=e.strm.avail_out-o,n>(i=e.strstart-e.block_start)+e.strm.avail_in&&(n=i+e.strm.avail_in),n>o&&(n=o),n<r&&(0===n&&t!==_4||t===_0||n!==i+e.strm.avail_in)))break;a=t===_4&&n===i+e.strm.avail_in?1:0,_Q(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,wh(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(wb(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===a)return((s-=e.strm.avail_in)&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a)?4:t!==_0&&t!==_4&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(wb(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,r=(o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o)>e.w_size?e.w_size:o,((i=e.strstart-e.block_start)>=r||(i||t===_4)&&t!==_0&&0===e.strm.avail_in&&i<=o)&&(n=i>o?o:i,a=t===_4&&0===e.strm.avail_in&&n===i?1:0,_Q(e,e.block_start,n,a),e.block_start+=n,wh(e.strm)),a?3:1)},wk=(e,t)=>{let r,n;for(;;){if(e.lookahead<262){if(ww(e),e.lookahead<262&&t===_0)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=wf(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-262&&(e.match_length=w_(e,r)),e.match_length>=3){if(n=_J(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=wf(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length)e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=wf(e,e.ins_h,e.window[e.strstart+1])}else n=_J(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(wm(e,!1),0===e.strm.avail_out))return 1}return(e.insert=e.strstart<2?e.strstart:2,t===_4)?(wm(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(wm(e,!1),0===e.strm.avail_out)?1:2},wA=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<262){if(ww(e),e.lookahead<262&&t===_0)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=wf(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=w_(e,r),e.match_length<=5&&(e.strategy===wr||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=_J(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=wf(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length)if(e.match_available=0,e.match_length=2,e.strstart++,n&&(wm(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=_J(e,0,e.window[e.strstart-1]))&&wm(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return(e.match_available&&(n=_J(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===_4)?(wm(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(wm(e,!1),0===e.strm.avail_out)?1:2},wS=(e,t)=>{let r,n,i,o;let a=e.window;for(;;){if(e.lookahead<=258){if(ww(e),e.lookahead<=258&&t===_0)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=a[i=e.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){o=e.strstart+258;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o)e.match_length=258-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=_J(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=_J(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(wm(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,t===_4)?(wm(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(wm(e,!1),0===e.strm.avail_out)?1:2},wI=(e,t)=>{let r;for(;;){if(0===e.lookahead&&(ww(e),0===e.lookahead)){if(t===_0)return 1;break}if(e.match_length=0,r=_J(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(wm(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,t===_4)?(wm(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(wm(e,!1),0===e.strm.avail_out)?1:2};function wE(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}let wT=[new wE(0,0,0,0,wv),new wE(4,4,8,4,wk),new wE(4,5,16,8,wk),new wE(4,6,32,32,wk),new wE(4,4,16,16,wA),new wE(8,16,32,32,wA),new wE(8,16,128,128,wA),new wE(8,32,128,256,wA),new wE(32,128,258,1024,wA),new wE(32,258,258,4096,wA)],wx=e=>{e.window_size=2*e.w_size,wd(e.head),e.max_lazy_match=wT[e.level].max_lazy,e.good_match=wT[e.level].good_length,e.nice_match=wT[e.level].nice_length,e.max_chain_length=wT[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0};function wP(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=wu,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),wd(this.dyn_ltree),wd(this.dyn_dtree),wd(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),wd(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),wd(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let wO=e=>{if(!e)return 1;let t=e.state;return t&&t.strm===e&&(42===t.status||57===t.status||69===t.status||73===t.status||91===t.status||103===t.status||113===t.status||666===t.status)?0:1},wB=e=>{if(wO(e))return wl(e,_9);e.total_in=e.total_out=0,e.data_type=ws;let t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=-2,_Z(t),_8},wC=e=>{let t=wB(e);return t===_8&&wx(e.state),t},wR=(e,t,r,n,i,o)=>{if(!e)return _9;let a=1;if(t===wt&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>9||r!==wu||n<8||n>15||t<0||t>9||o<0||o>wo||8===n&&1!==a)return wl(e,_9);8===n&&(n=9);let s=new wP;return e.state=s,s.strm=e,s.status=42,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=t,s.strategy=o,s.method=r,wC(e)};var wM={deflateInit:(e,t)=>wR(e,t,wu,15,8,wa),deflateInit2:wR,deflateReset:wC,deflateResetKeep:wB,deflateSetHeader:(e,t)=>wO(e)||2!==e.state.wrap?_9:(e.state.gzhead=t,_8),deflate:(e,t)=>{if(wO(e)||t>_5||t<0)return e?wl(e,_9):_9;let r=e.state;if(!e.output||0!==e.avail_in&&!e.input||666===r.status&&t!==_4)return wl(e,0===e.avail_out?we:_9);let n=r.last_flush;if(r.last_flush=t,0!==r.pending){if(wh(e),0===e.avail_out)return r.last_flush=-1,_8}else if(0===e.avail_in&&wc(t)<=wc(n)&&t!==_4)return wl(e,we);if(666===r.status&&0!==e.avail_in)return wl(e,we);if(42===r.status&&0===r.wrap&&(r.status=113),42===r.status){let t=wu+(r.w_bits-8<<4)<<8;if(t|=(r.strategy>=wn||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(t|=32),wy(r,t+=31-t%31),0!==r.strstart&&(wy(r,e.adler>>>16),wy(r,65535&e.adler)),e.adler=1,r.status=113,wh(e),0!==r.pending)return r.last_flush=-1,_8}if(57===r.status){if(e.adler=0,wg(r,31),wg(r,139),wg(r,8),r.gzhead)wg(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),wg(r,255&r.gzhead.time),wg(r,r.gzhead.time>>8&255),wg(r,r.gzhead.time>>16&255),wg(r,r.gzhead.time>>24&255),wg(r,9===r.level?2:r.strategy>=wn||r.level<2?4:0),wg(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(wg(r,255&r.gzhead.extra.length),wg(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=_G(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(wg(r,0),wg(r,0),wg(r,0),wg(r,0),wg(r,0),wg(r,9===r.level?2:r.strategy>=wn||r.level<2?4:0),wg(r,3),r.status=113,wh(e),0!==r.pending)return r.last_flush=-1,_8}if(69===r.status){if(r.gzhead.extra){let t=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let i=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>t&&(e.adler=_G(e.adler,r.pending_buf,r.pending-t,t)),r.gzindex+=i,wh(e),0!==r.pending)return r.last_flush=-1,_8;t=0,n-=i}let i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>t&&(e.adler=_G(e.adler,r.pending_buf,r.pending-t,t)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let t,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(e.adler=_G(e.adler,r.pending_buf,r.pending-n,n)),wh(e),0!==r.pending)return r.last_flush=-1,_8;n=0}t=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,wg(r,t)}while(0!==t)r.gzhead.hcrc&&r.pending>n&&(e.adler=_G(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let t,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(e.adler=_G(e.adler,r.pending_buf,r.pending-n,n)),wh(e),0!==r.pending)return r.last_flush=-1,_8;n=0}t=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,wg(r,t)}while(0!==t)r.gzhead.hcrc&&r.pending>n&&(e.adler=_G(e.adler,r.pending_buf,r.pending-n,n))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(wh(e),0!==r.pending))return r.last_flush=-1,_8;wg(r,255&e.adler),wg(r,e.adler>>8&255),e.adler=0}if(r.status=113,wh(e),0!==r.pending)return r.last_flush=-1,_8}if(0!==e.avail_in||0!==r.lookahead||t!==_0&&666!==r.status){let n=0===r.level?wv(r,t):r.strategy===wn?wI(r,t):r.strategy===wi?wS(r,t):wT[r.level].func(r,t);if((3===n||4===n)&&(r.status=666),1===n||3===n)return 0===e.avail_out&&(r.last_flush=-1),_8;if(2===n&&(t===_2?_1(r):t!==_5&&(_Q(r,0,0,!1),t===_6&&(wd(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),wh(e),0===e.avail_out))return r.last_flush=-1,_8}return t!==_4?_8:r.wrap<=0?_3:(2===r.wrap?(wg(r,255&e.adler),wg(r,e.adler>>8&255),wg(r,e.adler>>16&255),wg(r,e.adler>>24&255),wg(r,255&e.total_in),wg(r,e.total_in>>8&255),wg(r,e.total_in>>16&255),wg(r,e.total_in>>24&255)):(wy(r,e.adler>>>16),wy(r,65535&e.adler)),wh(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?_8:_3)},deflateEnd:e=>{if(wO(e))return _9;let t=e.state.status;return e.state=null,113===t?wl(e,_7):_8},deflateSetDictionary:(e,t)=>{let r=t.length;if(wO(e))return _9;let n=e.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return _9;if(1===i&&(e.adler=_V(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){0===i&&(wd(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(r-n.w_size,r),0),t=e,r=n.w_size}let o=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,ww(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do n.ins_h=wf(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++;while(--t)n.strstart=e,n.lookahead=2,ww(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,n.wrap=i,_8},deflateInfo:"pako deflate (from Nodeca project)"};let wL=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var wN={assign:function(e){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let r=t.shift();if(r){if("object"!=typeof r)throw TypeError(r+"must be non-object");for(let t in r)wL(r,t)&&(e[t]=r[t])}}return e},flattenChunks:e=>{let t=0;for(let r=0,n=e.length;r<n;r++)t+=e[r].length;let r=new Uint8Array(t);for(let t=0,n=0,i=e.length;t<i;t++){let i=e[t];r.set(i,n),n+=i.length}return r}};let wD=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){wD=!1}let wF=new Uint8Array(256);for(let e=0;e<256;e++)wF[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;wF[254]=wF[254]=1;let wq=(e,t)=>{if(t<65534&&e.subarray&&wD)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var wU={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,o,a=e.length,s=0;for(i=0;i<a;i++)(64512&(r=e.charCodeAt(i)))==55296&&i+1<a&&(64512&(n=e.charCodeAt(i+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),i++),s+=r<128?1:r<2048?2:r<65536?3:4;for(o=0,t=new Uint8Array(s),i=0;o<s;i++)(64512&(r=e.charCodeAt(i)))==55296&&i+1<a&&(64512&(n=e.charCodeAt(i+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[o++]=r:(r<2048?t[o++]=192|r>>>6:(r<65536?t[o++]=224|r>>>12:(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63),t[o++]=128|r>>>6&63),t[o++]=128|63&r);return t},buf2string:(e,t)=>{let r,n;let i=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let o=Array(2*i);for(n=0,r=0;r<i;){let t=e[r++];if(t<128){o[n++]=t;continue}let a=wF[t];if(a>4){o[n++]=65533,r+=a-1;continue}for(t&=2===a?31:3===a?15:7;a>1&&r<i;)t=t<<6|63&e[r++],a--;if(a>1){o[n++]=65533;continue}t<65536?o[n++]=t:(t-=65536,o[n++]=55296|t>>10&1023,o[n++]=56320|1023&t)}return wq(o,n)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(192&e[r])==128;)r--;return r<0||0===r?t:r+wF[e[r]]>t?r:t}},wj=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};let wW=Object.prototype.toString,{Z_NO_FLUSH:wK,Z_SYNC_FLUSH:wz,Z_FULL_FLUSH:wV,Z_FINISH:wH,Z_OK:wG,Z_STREAM_END:w$,Z_DEFAULT_COMPRESSION:wX,Z_DEFAULT_STRATEGY:wZ,Z_DEFLATED:wQ}=_X;function wY(e){this.options=wN.assign({level:wX,method:wQ,chunkSize:16384,windowBits:15,memLevel:8,strategy:wZ},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wj,this.strm.avail_out=0;let r=wM.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==wG)throw Error(_$[r]);if(t.header&&wM.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?wU.string2buf(t.dictionary):"[object ArrayBuffer]"===wW.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=wM.deflateSetDictionary(this.strm,e))!==wG)throw Error(_$[r]);this._dict_set=!0}}function wJ(e,t){let r=new wY(t);if(r.push(e,!0),r.err)throw r.msg||_$[r.err];return r.result}wY.prototype.push=function(e,t){let r,n;let i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;for(n=t===~~t?t:!0===t?wH:wK,"string"==typeof e?i.input=wU.string2buf(e):"[object ArrayBuffer]"===wW.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){if(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(n===wz||n===wV)&&i.avail_out<=6){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if((r=wM.deflate(i,n))===w$)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=wM.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===wG;if(0===i.avail_out){this.onData(i.output);continue}if(n>0&&i.next_out>0){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(0===i.avail_in)break}return!0},wY.prototype.onData=function(e){this.chunks.push(e)},wY.prototype.onEnd=function(e){e===wG&&(this.result=wN.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var w1=function(e,t){let r,n,i,o,a,s,u,l,c,d,p,f,h,m,g,y,b,_,w,v,k,A,S,I;let E=e.state;r=e.next_in,S=e.input,n=r+(e.avail_in-5),i=e.next_out,I=e.output,o=i-(t-e.avail_out),a=i+(e.avail_out-257),s=E.dmax,u=E.wsize,l=E.whave,c=E.wnext,d=E.window,p=E.hold,f=E.bits,h=E.lencode,m=E.distcode,g=(1<<E.lenbits)-1,y=(1<<E.distbits)-1;t:do for(f<15&&(p+=S[r++]<<f,f+=8,p+=S[r++]<<f,f+=8),b=h[p&g];;){if(p>>>=_=b>>>24,f-=_,0==(_=b>>>16&255))I[i++]=65535&b;else if(16&_)for(w=65535&b,(_&=15)&&(f<_&&(p+=S[r++]<<f,f+=8),w+=p&(1<<_)-1,p>>>=_,f-=_),f<15&&(p+=S[r++]<<f,f+=8,p+=S[r++]<<f,f+=8),b=m[p&y];;){if(p>>>=_=b>>>24,f-=_,16&(_=b>>>16&255)){if(v=65535&b,f<(_&=15)&&(p+=S[r++]<<f,(f+=8)<_&&(p+=S[r++]<<f,f+=8)),(v+=p&(1<<_)-1)>s){e.msg="invalid distance too far back",E.mode=16209;break t}if(p>>>=_,f-=_,v>(_=i-o)){if((_=v-_)>l&&E.sane){e.msg="invalid distance too far back",E.mode=16209;break t}if(k=0,A=d,0===c){if(k+=u-_,_<w){w-=_;do I[i++]=d[k++];while(--_)k=i-v,A=I}}else if(c<_){if(k+=u+c-_,(_-=c)<w){w-=_;do I[i++]=d[k++];while(--_)if(k=0,c<w){w-=_=c;do I[i++]=d[k++];while(--_)k=i-v,A=I}}}else if(k+=c-_,_<w){w-=_;do I[i++]=d[k++];while(--_)k=i-v,A=I}for(;w>2;)I[i++]=A[k++],I[i++]=A[k++],I[i++]=A[k++],w-=3;w&&(I[i++]=A[k++],w>1&&(I[i++]=A[k++]))}else{k=i-v;do I[i++]=I[k++],I[i++]=I[k++],I[i++]=I[k++],w-=3;while(w>2)w&&(I[i++]=I[k++],w>1&&(I[i++]=I[k++]))}}else if((64&_)==0){b=m[(65535&b)+(p&(1<<_)-1)];continue}else{e.msg="invalid distance code",E.mode=16209;break t}break}else if((64&_)==0){b=h[(65535&b)+(p&(1<<_)-1)];continue}else if(32&_){E.mode=16191;break t}else{e.msg="invalid literal/length code",E.mode=16209;break t}break}while(r<n&&i<a)r-=w=f>>3,f-=w<<3,p&=(1<<f)-1,e.next_in=r,e.next_out=i,e.avail_in=r<n?5+(n-r):5-(r-n),e.avail_out=i<a?257+(a-i):257-(i-a),E.hold=p,E.bits=f};let w0=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),w2=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),w6=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),w4=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var w5=(e,t,r,n,i,o,a,s)=>{let u,l,c,d,p,f,h,m,g;let y=s.bits,b=0,_=0,w=0,v=0,k=0,A=0,S=0,I=0,E=0,T=0,x=null,P=new Uint16Array(16),O=new Uint16Array(16),B=null;for(b=0;b<=15;b++)P[b]=0;for(_=0;_<n;_++)P[t[r+_]]++;for(v=15,k=y;v>=1&&0===P[v];v--);if(k>v&&(k=v),0===v)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(w=1;w<v&&0===P[w];w++);for(k<w&&(k=w),I=1,b=1;b<=15;b++)if(I<<=1,(I-=P[b])<0)return -1;if(I>0&&(0===e||1!==v))return -1;for(b=1,O[1]=0;b<15;b++)O[b+1]=O[b]+P[b];for(_=0;_<n;_++)0!==t[r+_]&&(a[O[t[r+_]]++]=_);if(0===e?(x=B=a,f=20):1===e?(x=w0,B=w2,f=257):(x=w6,B=w4,f=0),T=0,_=0,b=w,p=o,A=k,S=0,c=-1,d=(E=1<<k)-1,1===e&&E>852||2===e&&E>592)return 1;for(;;){h=b-S,a[_]+1<f?(m=0,g=a[_]):a[_]>=f?(m=B[a[_]-f],g=x[a[_]-f]):(m=96,g=0),u=1<<b-S,w=l=1<<A;do i[p+(T>>S)+(l-=u)]=h<<24|m<<16|g|0;while(0!==l)for(u=1<<b-1;T&u;)u>>=1;if(0!==u?(T&=u-1,T+=u):T=0,_++,0==--P[b]){if(b===v)break;b=t[r+a[_]]}if(b>k&&(T&d)!==c){for(0===S&&(S=k),p+=w,I=1<<(A=b-S);A+S<v&&!((I-=P[A+S])<=0);)A++,I<<=1;if(E+=1<<A,1===e&&E>852||2===e&&E>592)return 1;i[c=T&d]=k<<24|A<<16|p-o|0}}return 0!==T&&(i[p+T]=b-S<<24|4194304),s.bits=k,0};let{Z_FINISH:w8,Z_BLOCK:w3,Z_TREES:w9,Z_OK:w7,Z_STREAM_END:ve,Z_NEED_DICT:vt,Z_STREAM_ERROR:vr,Z_DATA_ERROR:vn,Z_MEM_ERROR:vi,Z_BUF_ERROR:vo,Z_DEFLATED:va}=_X,vs=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function vu(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let vl=e=>{if(!e)return 1;let t=e.state;return!t||t.strm!==e||t.mode<16180||t.mode>16211?1:0},vc=e=>{if(vl(e))return vr;let t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=16180,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,w7},vd=e=>{if(vl(e))return vr;let t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,vc(e)},vp=(e,t)=>{let r;if(vl(e))return vr;let n=e.state;return(t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15))?vr:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,vd(e))},vf=(e,t)=>{if(!e)return vr;let r=new vu;e.state=r,r.strm=e,r.window=null,r.mode=16180;let n=vp(e,t);return n!==w7&&(e.state=null),n},vh=!0,vm=e=>{if(vh){l=new Int32Array(512),c=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(w5(1,e.lens,0,288,l,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;w5(2,e.lens,0,32,c,0,e.work,{bits:5}),vh=!1}e.lencode=l,e.lenbits=9,e.distcode=c,e.distbits=5},vg=(e,t,r,n)=>{let i;let o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>n&&(i=n),o.window.set(t.subarray(r-n,r-n+i),o.wnext),(n-=i)?(o.window.set(t.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var vy={inflateReset:vd,inflateReset2:vp,inflateResetKeep:vc,inflateInit:e=>vf(e,15),inflateInit2:vf,inflate:(e,t)=>{let r,n,i,o,a,s,u,l,c,d,p,f,h,m,g,y,b,_,w,v,k,A,S,I;let E=0,T=new Uint8Array(4),x=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(vl(e)||!e.output||!e.input&&0!==e.avail_in)return vr;16191===(r=e.state).mode&&(r.mode=16192),a=e.next_out,i=e.output,u=e.avail_out,o=e.next_in,n=e.input,s=e.avail_in,l=r.hold,c=r.bits,d=s,p=u,A=w7;r:for(;;)switch(r.mode){case 16180:if(0===r.wrap){r.mode=16192;break}for(;c<16;){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}if(2&r.wrap&&35615===l){0===r.wbits&&(r.wbits=15),r.check=0,T[0]=255&l,T[1]=l>>>8&255,r.check=_G(r.check,T,2,0),l=0,c=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&l)<<8)+(l>>8))%31){e.msg="incorrect header check",r.mode=16209;break}if((15&l)!==va){e.msg="unknown compression method",r.mode=16209;break}if(l>>>=4,c-=4,k=(15&l)+8,0===r.wbits&&(r.wbits=k),k>15||k>r.wbits){e.msg="invalid window size",r.mode=16209;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=512&l?16189:16191,l=0,c=0;break;case 16181:for(;c<16;){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}if(r.flags=l,(255&r.flags)!==va){e.msg="unknown compression method",r.mode=16209;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=16209;break}r.head&&(r.head.text=l>>8&1),512&r.flags&&4&r.wrap&&(T[0]=255&l,T[1]=l>>>8&255,r.check=_G(r.check,T,2,0)),l=0,c=0,r.mode=16182;case 16182:for(;c<32;){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}r.head&&(r.head.time=l),512&r.flags&&4&r.wrap&&(T[0]=255&l,T[1]=l>>>8&255,T[2]=l>>>16&255,T[3]=l>>>24&255,r.check=_G(r.check,T,4,0)),l=0,c=0,r.mode=16183;case 16183:for(;c<16;){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}r.head&&(r.head.xflags=255&l,r.head.os=l>>8),512&r.flags&&4&r.wrap&&(T[0]=255&l,T[1]=l>>>8&255,r.check=_G(r.check,T,2,0)),l=0,c=0,r.mode=16184;case 16184:if(1024&r.flags){for(;c<16;){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}r.length=l,r.head&&(r.head.extra_len=l),512&r.flags&&4&r.wrap&&(T[0]=255&l,T[1]=l>>>8&255,r.check=_G(r.check,T,2,0)),l=0,c=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&((f=r.length)>s&&(f=s),f&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+f),k)),512&r.flags&&4&r.wrap&&(r.check=_G(r.check,n,f,o)),s-=f,o+=f,r.length-=f),r.length))break r;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===s)break r;f=0;do k=n[o+f++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k));while(k&&f<s)if(512&r.flags&&4&r.wrap&&(r.check=_G(r.check,n,f,o)),s-=f,o+=f,k)break r}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===s)break r;f=0;do k=n[o+f++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k));while(k&&f<s)if(512&r.flags&&4&r.wrap&&(r.check=_G(r.check,n,f,o)),s-=f,o+=f,k)break r}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;c<16;){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}if(4&r.wrap&&l!==(65535&r.check)){e.msg="header crc mismatch",r.mode=16209;break}l=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=16191;break;case 16189:for(;c<32;){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}e.adler=r.check=vs(l),l=0,c=0,r.mode=16190;case 16190:if(0===r.havedict)return e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,r.hold=l,r.bits=c,vt;e.adler=r.check=1,r.mode=16191;case 16191:if(t===w3||t===w9)break r;case 16192:if(r.last){l>>>=7&c,c-=7&c,r.mode=16206;break}for(;c<3;){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}switch(r.last=1&l,c-=1,3&(l>>>=1)){case 0:r.mode=16193;break;case 1:if(vm(r),r.mode=16199,t===w9){l>>>=2,c-=2;break r}break;case 2:r.mode=16196;break;case 3:e.msg="invalid block type",r.mode=16209}l>>>=2,c-=2;break;case 16193:for(l>>>=7&c,c-=7&c;c<32;){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}if((65535&l)!=(l>>>16^65535)){e.msg="invalid stored block lengths",r.mode=16209;break}if(r.length=65535&l,l=0,c=0,r.mode=16194,t===w9)break r;case 16194:r.mode=16195;case 16195:if(f=r.length){if(f>s&&(f=s),f>u&&(f=u),0===f)break r;i.set(n.subarray(o,o+f),a),s-=f,o+=f,u-=f,a+=f,r.length-=f;break}r.mode=16191;break;case 16196:for(;c<14;){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}if(r.nlen=(31&l)+257,l>>>=5,c-=5,r.ndist=(31&l)+1,l>>>=5,c-=5,r.ncode=(15&l)+4,l>>>=4,c-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=16209;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;c<3;){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}r.lens[x[r.have++]]=7&l,l>>>=3,c-=3}for(;r.have<19;)r.lens[x[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},A=w5(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,A){e.msg="invalid code lengths set",r.mode=16209;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;g=(E=r.lencode[l&(1<<r.lenbits)-1])>>>24,y=E>>>16&255,b=65535&E,!(g<=c);){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}if(b<16)l>>>=g,c-=g,r.lens[r.have++]=b;else{if(16===b){for(I=g+2;c<I;){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}if(l>>>=g,c-=g,0===r.have){e.msg="invalid bit length repeat",r.mode=16209;break}k=r.lens[r.have-1],f=3+(3&l),l>>>=2,c-=2}else if(17===b){for(I=g+3;c<I;){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}l>>>=g,c-=g,k=0,f=3+(7&l),l>>>=3,c-=3}else{for(I=g+7;c<I;){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}l>>>=g,c-=g,k=0,f=11+(127&l),l>>>=7,c-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=16209;break}for(;f--;)r.lens[r.have++]=k}}if(16209===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=16209;break}if(r.lenbits=9,S={bits:r.lenbits},A=w5(1,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,A){e.msg="invalid literal/lengths set",r.mode=16209;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},A=w5(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,A){e.msg="invalid distances set",r.mode=16209;break}if(r.mode=16199,t===w9)break r;case 16199:r.mode=16200;case 16200:if(s>=6&&u>=258){e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,r.hold=l,r.bits=c,w1(e,p),a=e.next_out,i=e.output,u=e.avail_out,o=e.next_in,n=e.input,s=e.avail_in,l=r.hold,c=r.bits,16191===r.mode&&(r.back=-1);break}for(r.back=0;g=(E=r.lencode[l&(1<<r.lenbits)-1])>>>24,y=E>>>16&255,b=65535&E,!(g<=c);){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}if(y&&(240&y)==0){for(_=g,w=y,v=b;g=(E=r.lencode[v+((l&(1<<_+w)-1)>>_)])>>>24,y=E>>>16&255,b=65535&E,!(_+g<=c);){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}l>>>=_,c-=_,r.back+=_}if(l>>>=g,c-=g,r.back+=g,r.length=b,0===y){r.mode=16205;break}if(32&y){r.back=-1,r.mode=16191;break}if(64&y){e.msg="invalid literal/length code",r.mode=16209;break}r.extra=15&y,r.mode=16201;case 16201:if(r.extra){for(I=r.extra;c<I;){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;g=(E=r.distcode[l&(1<<r.distbits)-1])>>>24,y=E>>>16&255,b=65535&E,!(g<=c);){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}if((240&y)==0){for(_=g,w=y,v=b;g=(E=r.distcode[v+((l&(1<<_+w)-1)>>_)])>>>24,y=E>>>16&255,b=65535&E,!(_+g<=c);){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}l>>>=_,c-=_,r.back+=_}if(l>>>=g,c-=g,r.back+=g,64&y){e.msg="invalid distance code",r.mode=16209;break}r.offset=b,r.extra=15&y,r.mode=16203;case 16203:if(r.extra){for(I=r.extra;c<I;){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=16209;break}r.mode=16204;case 16204:if(0===u)break r;if(f=p-u,r.offset>f){if((f=r.offset-f)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=16209;break}f>r.wnext?(f-=r.wnext,h=r.wsize-f):h=r.wnext-f,f>r.length&&(f=r.length),m=r.window}else m=i,h=a-r.offset,f=r.length;f>u&&(f=u),u-=f,r.length-=f;do i[a++]=m[h++];while(--f)0===r.length&&(r.mode=16200);break;case 16205:if(0===u)break r;i[a++]=r.length,u--,r.mode=16200;break;case 16206:if(r.wrap){for(;c<32;){if(0===s)break r;s--,l|=n[o++]<<c,c+=8}if(p-=u,e.total_out+=p,r.total+=p,4&r.wrap&&p&&(e.adler=r.check=r.flags?_G(r.check,i,p,a-p):_V(r.check,i,p,a-p)),p=u,4&r.wrap&&(r.flags?l:vs(l))!==r.check){e.msg="incorrect data check",r.mode=16209;break}l=0,c=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;c<32;){if(0===s)break r;s--,l+=n[o++]<<c,c+=8}if(4&r.wrap&&l!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=16209;break}l=0,c=0}r.mode=16208;case 16208:A=ve;break r;case 16209:A=vn;break r;case 16210:return vi;default:return vr}return e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,r.hold=l,r.bits=c,(r.wsize||p!==e.avail_out&&r.mode<16209&&(r.mode<16206||t!==w8))&&vg(e,e.output,e.next_out,p-e.avail_out),d-=e.avail_in,p-=e.avail_out,e.total_in+=d,e.total_out+=p,r.total+=p,4&r.wrap&&p&&(e.adler=r.check=r.flags?_G(r.check,i,p,e.next_out-p):_V(r.check,i,p,e.next_out-p)),e.data_type=r.bits+(r.last?64:0)+(16191===r.mode?128:0)+(16199===r.mode||16194===r.mode?256:0),(0===d&&0===p||t===w8)&&A===w7&&(A=vo),A},inflateEnd:e=>{if(vl(e))return vr;let t=e.state;return t.window&&(t.window=null),e.state=null,w7},inflateGetHeader:(e,t)=>{if(vl(e))return vr;let r=e.state;return(2&r.wrap)==0?vr:(r.head=t,t.done=!1,w7)},inflateSetDictionary:(e,t)=>{let r;let n=t.length;return vl(e)||0!==(r=e.state).wrap&&16190!==r.mode?vr:16190===r.mode&&_V(1,t,n,0)!==r.check?vn:vg(e,t,n,n)?(r.mode=16210,vi):(r.havedict=1,w7)},inflateInfo:"pako inflate (from Nodeca project)"},vb=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};let v_=Object.prototype.toString,{Z_NO_FLUSH:vw,Z_FINISH:vv,Z_OK:vk,Z_STREAM_END:vA,Z_NEED_DICT:vS,Z_STREAM_ERROR:vI,Z_DATA_ERROR:vE,Z_MEM_ERROR:vT}=_X;function vx(e){this.options=wN.assign({chunkSize:65536,windowBits:15,to:""},e||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wj,this.strm.avail_out=0;let r=vy.inflateInit2(this.strm,t.windowBits);if(r!==vk||(this.header=new vb,vy.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=wU.string2buf(t.dictionary):"[object ArrayBuffer]"===v_.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=vy.inflateSetDictionary(this.strm,t.dictionary))!==vk)))throw Error(_$[r])}function vP(e,t){let r=new vx(t);if(r.push(e),r.err)throw r.msg||_$[r.err];return r.result}vx.prototype.push=function(e,t){let r,n,i;let o=this.strm,a=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(n=t===~~t?t:!0===t?vv:vw,"[object ArrayBuffer]"===v_.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(a),o.next_out=0,o.avail_out=a),(r=vy.inflate(o,n))===vS&&s&&((r=vy.inflateSetDictionary(o,s))===vk?r=vy.inflate(o,n):r===vE&&(r=vS));o.avail_in>0&&r===vA&&o.state.wrap>0&&0!==e[o.next_in];)vy.inflateReset(o),r=vy.inflate(o,n);switch(r){case vI:case vE:case vS:case vT:return this.onEnd(r),this.ended=!0,!1}if(i=o.avail_out,o.next_out&&(0===o.avail_out||r===vA)){if("string"===this.options.to){let e=wU.utf8border(o.output,o.next_out),t=o.next_out-e,r=wU.buf2string(o.output,e);o.next_out=t,o.avail_out=a-t,t&&o.output.set(o.output.subarray(e,e+t),0),this.onData(r)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out))}if(r!==vk||0!==i){if(r===vA)return r=vy.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},vx.prototype.onData=function(e){this.chunks.push(e)},vx.prototype.onEnd=function(e){e===vk&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=wN.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};let{Deflate:vO,deflate:vB,deflateRaw:vC,gzip:vR}={Deflate:wY,deflate:wJ,deflateRaw:function(e,t){return(t=t||{}).raw=!0,wJ(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,wJ(e,t)},constants:_X},{Inflate:vM,inflate:vL,inflateRaw:vN,ungzip:vD}={Inflate:vx,inflate:vP,inflateRaw:function(e,t){return(t=t||{}).raw=!0,vP(e,t)},ungzip:vP,constants:_X};var vF={},vq=Object.prototype.hasOwnProperty,vU="~";function vj(){}function vW(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function vK(e,t,r,n,i){if("function"!=typeof r)throw TypeError("The listener must be a function");var o=new vW(r,n||e,i),a=vU?vU+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],o]:e._events[a].push(o):(e._events[a]=o,e._eventsCount++),e}function vz(e,t){0==--e._eventsCount?e._events=new vj:delete e._events[t]}function vV(){this._events=new vj,this._eventsCount=0}Object.create&&(vj.prototype=Object.create(null),new vj().__proto__||(vU=!1)),vV.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)vq.call(e,t)&&r.push(vU?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},vV.prototype.listeners=function(e){var t=vU?vU+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,o=Array(i);n<i;n++)o[n]=r[n].fn;return o},vV.prototype.listenerCount=function(e){var t=vU?vU+e:e,r=this._events[t];return r?r.fn?1:r.length:0},vV.prototype.emit=function(e,t,r,n,i,o){var a=vU?vU+e:e;if(!this._events[a])return!1;var s,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,n),!0;case 5:return l.fn.call(l.context,t,r,n,i),!0;case 6:return l.fn.call(l.context,t,r,n,i,o),!0}for(u=1,s=Array(c-1);u<c;u++)s[u-1]=arguments[u];l.fn.apply(l.context,s)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,n);break;default:if(!s)for(d=1,s=Array(c-1);d<c;d++)s[d-1]=arguments[d];l[u].fn.apply(l[u].context,s)}}return!0},vV.prototype.on=function(e,t,r){return vK(this,e,t,r,!1)},vV.prototype.once=function(e,t,r){return vK(this,e,t,r,!0)},vV.prototype.removeListener=function(e,t,r,n){var i=vU?vU+e:e;if(!this._events[i])return this;if(!t)return vz(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||vz(this,i);else{for(var a=0,s=[],u=o.length;a<u;a++)(o[a].fn!==t||n&&!o[a].once||r&&o[a].context!==r)&&s.push(o[a]);s.length?this._events[i]=1===s.length?s[0]:s:vz(this,i)}return this},vV.prototype.removeAllListeners=function(e){var t;return e?(t=vU?vU+e:e,this._events[t]&&vz(this,t)):(this._events=new vj,this._eventsCount=0),this},vV.prototype.off=vV.prototype.removeListener,vV.prototype.addListener=vV.prototype.on,vV.prefixed=vU,vV.EventEmitter=vV,vF=vV;var ds=eh("acDaE"),vH=ds.Buffer;let vG=e=>"version"in e;function v$(e){return ed(d2).encode(e)}function vX(e){return(0,ds.Buffer).from(e,"base64")}function vZ(e){return"accounts"in e}async function vQ(e){let t=(await ho.findProgramAddress([],e))[0];return await ho.createWithSeed(t,"anchor:idl",e)}let vY=bU.struct([bU.publicKey("authority"),bU.vecU8("data")]);function vJ(e,t,r,n){return(null==e?void 0:e.length)?e[0].name?r(e):n(e):t()}function v1(e){return e instanceof ho?e:new ho(e)}class v0 extends TypeError{constructor(e,t){let r;let{message:n,...i}=e,{path:o}=e,a=0===o.length?n:"At path: "+o.join(".")+" -- "+n;super(a),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var n;return null!=(n=r)?n:r=[e,...t()]}}}function v2(e){return"object"==typeof e&&null!=e}function v6(e){return"string"==typeof e?JSON.stringify(e):""+e}function*v4(e,t,r,n){var i;for(let o of(v2(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:i,branch:o}=t,{type:a}=r,{refinement:s,message:u="Expected a value of type `"+a+"`"+(s?" with refinement `"+s+"`":"")+", but received: `"+v6(n)+"`"}=e;return{value:n,type:a,refinement:s,key:i[i.length-1],path:i,branch:o,...e,message:u}}(o,t,r,n);e&&(yield e)}}function*v5(e,t,r){void 0===r&&(r={});let{path:n=[],branch:i=[e],coerce:o=!1,mask:a=!1}=r,s={path:n,branch:i};if(o&&(e=t.coercer(e,s),a&&"type"!==t.type&&v2(t.schema)&&v2(e)&&!Array.isArray(e)))for(let r in e)void 0===t.schema[r]&&delete e[r];let u=!0;for(let r of t.validator(e,s))u=!1,yield[r,void 0];for(let[r,l,c]of t.entries(e,s)){let t=v5(l,c,{path:void 0===r?n:[...n,r],branch:void 0===r?i:[...i,l],coerce:o,mask:a});for(let n of t)n[0]?(u=!1,yield[n[0],void 0]):o&&(l=n[1],void 0===r?e=l:e instanceof Map?e.set(r,l):e instanceof Set?e.add(l):v2(e)&&(e[r]=l))}if(u)for(let r of t.refiner(e,s))u=!1,yield[r,void 0];u&&(yield[void 0,e])}class v8{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;let{type:t,schema:r,validator:n,refiner:i,coercer:o=e=>e,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,n?this.validator=(e,t)=>{let r=n(e,t);return v4(r,t,this,e)}:this.validator=()=>[],i?this.refiner=(e,t)=>{let r=i(e,t);return v4(r,t,this,e)}:this.refiner=()=>[]}assert(e){return function(e,t){let r=v7(e,t);if(r[0])throw r[0]}(e,this)}create(e){return v3(e,this)}is(e){return v9(e,this)}mask(e){return function(e,t){let r=v7(e,t,{coerce:!0,mask:!0});if(!r[0])return r[1];throw r[0]}(e,this)}validate(e,t){return void 0===t&&(t={}),v7(e,this,t)}}function v3(e,t){let r=v7(e,t,{coerce:!0});if(!r[0])return r[1];throw r[0]}function v9(e,t){let r=v7(e,t);return!r[0]}function v7(e,t,r){void 0===r&&(r={});let n=v5(e,t,r),i=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(n);if(i[0]){let e=new v0(i[0],function*(){for(let e of n)e[0]&&(yield e[0])});return[e,void 0]}{let e=i[1];return[void 0,e]}}function ke(e,t){return new v8({type:e,schema:null,validator:t})}function kt(e){return new v8({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+v6(e)})}function kr(e){let t=v6(e),r=typeof e;return new v8({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||"Expected the literal `"+t+"`, but received: "+v6(r)})}function kn(e){return new v8({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function ki(){return ke("number",e=>"number"==typeof e&&!isNaN(e)||"Expected a number, but received: "+v6(e))}function ko(e){return new v8({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function ka(){return ke("string",e=>"string"==typeof e||"Expected a string, but received: "+v6(e))}function ks(e){let t=Object.keys(e);return new v8({type:"type",schema:e,*entries(r){if(v2(r))for(let n of t)yield[n,r[n],e[n]]},validator:e=>v2(e)||"Expected an object, but received: "+v6(e)})}function ku(e){let t=e.map(e=>e.type).join(" | ");return new v8({type:"union",schema:null,coercer(t,r){let n=e.find(e=>{let[r]=e.validate(t,{coerce:!0});return!r})||kl();return n.coercer(t,r)},validator(r,n){let i=[];for(let t of e){let[...e]=v5(r,t,n),[o]=e;if(!o[0])return[];for(let[t]of e)t&&i.push(t)}return["Expected the value to satisfy a union of `"+t+"`, but received: "+v6(r),...i]}})}function kl(){return ke("unknown",()=>!0)}async function kc(e,t,r){if(t.length<=99)return await kd(e,t,r);{let n=Array.apply(0,Array(Math.ceil(t.length/99))).map((e,r)=>t.slice(99*r,(r+1)*99)),i=await Promise.all(n.map(t=>kd(e,t,r)));return i.flat()}}async function kd(e,t,r){let n=null!=r?r:e.commitment,{value:i,context:o}=await e.getMultipleAccountsInfoAndContext(t,n),a=i.map((e,r)=>null===e?null:{publicKey:t[r],account:e,context:o});return a}async function kp(e,t,r,n,i){var o;r&&r.length>0&&t.sign(...r);let a=t._compile(),s=a.serialize(),u=t._serialize(s),l=u.toString("base64"),c={encoding:"base64",commitment:null!=n?n:e.commitment};if(i){let e=(Array.isArray(i)?i:a.nonProgramIds()).map(e=>e.toBase58());c.accounts={encoding:"base64",addresses:e}}r&&r.length>0&&(c.sigVerify=!0);let d=[l,c],p=await e._rpcRequest("simulateTransaction",d),f=v3(p,km);if("error"in f){let e;if("data"in f.error&&(e=null===(o=f.error.data)||void 0===o?void 0:o.logs)&&Array.isArray(e)){let t="\n    ",r=t+e.join(t);console.error(f.error.message,r)}throw new hM("failed to simulate transaction: "+f.error.message,e)}return f.result}let kf=kh(kl());function kh(e){return ku([ks({jsonrpc:kr("2.0"),id:ka(),result:e}),ks({jsonrpc:kr("2.0"),id:ka(),error:ks({code:kl(),message:ka(),data:ko(ke("any",()=>!0))})})])}let km=(x7=ks({err:kn(ku([ks({}),ka()])),logs:kn(kt(ka())),accounts:ko(kn(kt(kn(ks({executable:ke("boolean",e=>"boolean"==typeof e),owner:ka(),lamports:ki(),data:kt(ka()),rentEpoch:ko(ki())}))))),unitsConsumed:ko(ki())}),Pt=kh(Pe=ks({context:ks({slot:ki()}),value:x7})),Pr=e=>"error"in e?e:{...e,result:v3(e.result,Pe)},new v8({...Pt,coercer:(e,t)=>v9(e,kf)?Pt.coercer(Pr(e,t),t):Pt.coercer(e,t)}));class kg{constructor(e,t,r=kg.defaultOptions()){this.connection=e,this.wallet=t,this.opts=r,this.publicKey=null==t?void 0:t.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t=kg.defaultOptions()){throw Error("Provider local is not available on browser.")}static env(){throw Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,r){var n,i,o,a;if(void 0===r&&(r=this.opts),vG(e))t&&e.sign(t);else if(e.feePayer=null!==(n=e.feePayer)&&void 0!==n?n:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,t)for(let r of t)e.partialSign(r);e=await this.wallet.signTransaction(e);let s=e.serialize();try{return await kb(this.connection,s,r)}catch(t){if(t instanceof k_){let r=v$(vG(e)?(null===(i=e.signatures)||void 0===i?void 0:i[0])||new Uint8Array:null!==(o=e.signature)&&void 0!==o?o:new Uint8Array),n=vG(e)?0:void 0,s=await this.connection.getTransaction(r,{commitment:"confirmed",maxSupportedTransactionVersion:n});if(s){let e=null===(a=s.meta)||void 0===a?void 0:a.logMessages;throw e?new hM(t.message,e):t}}throw t}}async sendAll(e,t){var r,n,i;void 0===t&&(t=this.opts);let o=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash,a=e.map(e=>{var t,r;if(vG(e.tx)){let t=e.tx;return e.signers&&t.sign(e.signers),t}{let n=e.tx,i=null!==(t=e.signers)&&void 0!==t?t:[];return n.feePayer=null!==(r=n.feePayer)&&void 0!==r?r:this.wallet.publicKey,n.recentBlockhash=o,i.forEach(e=>{n.partialSign(e)}),n}}),s=await this.wallet.signAllTransactions(a),u=[];for(let e=0;e<a.length;e+=1){let o=s[e],a=o.serialize();try{u.push(await kb(this.connection,a,t))}catch(e){if(e instanceof k_){let t=v$(vG(o)?(null===(r=o.signatures)||void 0===r?void 0:r[0])||new Uint8Array:null!==(n=o.signature)&&void 0!==n?n:new Uint8Array),a=vG(o)?0:void 0,s=await this.connection.getTransaction(t,{commitment:"confirmed",maxSupportedTransactionVersion:a});if(s){let t=null===(i=s.meta)||void 0===i?void 0:i.logMessages;throw t?new hM(e.message,t):e}}throw e}}return u}async simulate(e,t,r,n){let i,o=(await this.connection.getLatestBlockhash(null!=r?r:this.connection.commitment)).blockhash;if(vG(e)?(t&&t.length>0&&(e.sign(t),e=await this.wallet.signTransaction(e)),i=await this.connection.simulateTransaction(e,{commitment:r})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=o,t&&t.length>0&&(e=await this.wallet.signTransaction(e)),i=await kp(this.connection,e,t,r,n)),i.value.err)throw new ky(i.value);return i.value}}class ky extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function kb(e,t,r){let n;let i=r?{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot}:{},o=Date.now();for(;Date.now()-o<6e4;)try{let o=await e.sendRawTransaction(t,i);if(null==r?void 0:r.blockhash){if(0===i.maxRetries){let t=AbortSignal.timeout(15e3);n=(await e.confirmTransaction({abortSignal:t,signature:o,...r.blockhash},r&&r.commitment)).value}else n=(await e.confirmTransaction({signature:o,...r.blockhash},r&&r.commitment)).value}else n=(await e.confirmTransaction(o,r&&r.commitment)).value;if(n.err)throw new k_(`Raw transaction ${o} failed (${JSON.stringify(n)})`);return o}catch(e){if("TimeoutError"===e.name)continue;throw e}throw Error("Transaction failed to confirm in 60s")}class k_ extends Error{constructor(e){super(e)}}function kw(){return null===kv?kg.local():kv}let kv=null;var kk="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==ec?ec:"undefined"!=typeof self?self:{},kA={};Object.defineProperty(kA,"__esModule",{value:!0});var kS=kA.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=Ac=kA.ANCHOR_ERROR__REQUIRE_VIOLATED=Al=kA.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=Au=kA.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=As=kA.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=Aa=kA.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=Ao=kA.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=Ai=kA.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=An=kA.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=Ar=kA.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=At=kA.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=Ae=kA.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=k7=kA.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=k9=kA.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=k3=kA.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=k8=kA.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=k5=kA.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=k4=kA.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=k6=kA.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=k2=kA.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=k0=kA.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=k1=kA.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=kJ=kA.ANCHOR_ERROR__CONSTRAINT_SPACE=kY=kA.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=kQ=kA.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=kZ=kA.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=kX=kA.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=k$=kA.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=kG=kA.ANCHOR_ERROR__CONSTRAINT_ZERO=kH=kA.ANCHOR_ERROR__CONSTRAINT_ADDRESS=kV=kA.ANCHOR_ERROR__CONSTRAINT_CLOSE=kz=kA.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=kK=kA.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=kW=kA.ANCHOR_ERROR__CONSTRAINT_STATE=kj=kA.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=kU=kA.ANCHOR_ERROR__CONSTRAINT_SEEDS=kq=kA.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=kF=kA.ANCHOR_ERROR__CONSTRAINT_OWNER=kD=kA.ANCHOR_ERROR__CONSTRAINT_RAW=kN=kA.ANCHOR_ERROR__CONSTRAINT_SIGNER=kL=kA.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=kM=kA.ANCHOR_ERROR__CONSTRAINT_MUT=kR=kA.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=kC=kA.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=kB=kA.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=kO=kA.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=kP=kA.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=kx=kA.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=kT=kA.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=kE=kA.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,kI=kA.ANCHOR_ERROR__DEPRECATED=AN=kA.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=AL=kA.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=AM=kA.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=AR=kA.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=AC=kA.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=AB=kA.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=AO=kA.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=AP=kA.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=Ax=kA.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=AT=kA.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=AE=kA.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=AI=kA.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=AS=kA.ANCHOR_ERROR__INVALID_PROGRAM_ID=AA=kA.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=Ak=kA.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=Av=kA.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=Aw=kA.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=A_=kA.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=Ab=kA.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=Ay=kA.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=Ag=kA.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=Am=kA.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=Ah=kA.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=Af=kA.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=Ap=kA.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=Ad=kA.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,kE=kA.ANCHOR_ERROR__INSTRUCTION_MISSING=100,kT=kA.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,kx=kA.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,kP=kA.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,kO=kA.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,kB=kA.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,kC=kA.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,kR=kA.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,kM=kA.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,kL=kA.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,kN=kA.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,kD=kA.ANCHOR_ERROR__CONSTRAINT_RAW=2003,kF=kA.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,kq=kA.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,kU=kA.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,kj=kA.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,kW=kA.ANCHOR_ERROR__CONSTRAINT_STATE=2008,kK=kA.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,kz=kA.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,kV=kA.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,kH=kA.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,kG=kA.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,k$=kA.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,kX=kA.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,kZ=kA.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,kQ=kA.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,kY=kA.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,kJ=kA.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,k1=kA.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,k0=kA.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,k2=kA.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,k6=kA.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,k4=kA.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,k5=kA.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,k8=kA.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,k3=kA.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,k9=kA.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,k7=kA.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,Ae=kA.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,At=kA.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,Ar=kA.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,An=kA.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,Ai=kA.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,Ao=kA.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,Aa=kA.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,As=kA.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,Au=kA.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,Al=kA.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,Ac=kA.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;kS=kA.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var Ad=kA.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,Ap=kA.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,Af=kA.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,Ah=kA.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,Am=kA.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,Ag=kA.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,Ay=kA.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,Ab=kA.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,A_=kA.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,Aw=kA.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,Av=kA.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,Ak=kA.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,AA=kA.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,AS=kA.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,AI=kA.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,AE=kA.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,AT=kA.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,Ax=kA.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,AP=kA.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,AO=kA.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,AB=kA.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,AC=kA.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,AR=kA.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,AM=kA.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,AL=kA.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,AN=kA.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;kI=kA.ANCHOR_ERROR__DEPRECATED=5e3;let AD=new Map;function AF(e){return void 0!==AD.get(e)}class Aq extends Error{constructor(e){super(e),this.name="IdlError"}}class AU{constructor(e){this.stack=e}static parse(e){var t;let r=/^Program (\w*) invoke/,n=/^Program \w* success/,i=[];for(let o=0;o<e.length;o++){if(n.exec(e[o])){i.pop();continue}let a=null===(t=r.exec(e[o]))||void 0===t?void 0:t[1];a&&i.push(new ho(a))}return new AU(i)}}class Aj extends Error{constructor(e,t,r,n,i,o){super(r.join("\n").replace("Program log: ","")),this.errorLogs=r,this.logs=n,this.error={errorCode:e,errorMessage:t,comparedValues:o,origin:i},this._programErrorStack=AU.parse(n)}static parse(e){let t;if(!e)return null;let r=e.findIndex(e=>e.startsWith("Program log: AnchorError"));if(-1===r)return null;let n=e[r],i=[n];if(r+1<e.length){if("Program log: Left:"===e[r+1]){let n=/^Program log: (.*)$/,o=n.exec(e[r+2])[1],a=n.exec(e[r+4])[1];t=[new ho(o),new ho(a)],i.push(...e.slice(r+1,r+5))}else if(e[r+1].startsWith("Program log: Left:")){let n=/^Program log: (Left|Right): (.*)$/,o=n.exec(e[r+1])[2],a=n.exec(e[r+2])[2];i.push(...e.slice(r+1,r+3)),t=[o,a]}}let o=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),s=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(o){let[r,n,a]=o.slice(1,4),s={code:r,number:parseInt(n)};return new Aj(s,a,i,e,void 0,t)}if(a){let[r,n,o,s,u]=a.slice(1,6),l={code:o,number:parseInt(s)},c={file:r,line:parseInt(n)};return new Aj(l,u,i,e,c,t)}if(!s)return null;{let[r,n,o,a]=s.slice(1,5),u={code:n,number:parseInt(o)};return new Aj(u,a,i,e,r,t)}}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class AW extends Error{constructor(e,t,r){super(),this.code=e,this.msg=t,this.logs=r,r&&(this._programErrorStack=AU.parse(r))}static parse(e,t){let r,n;let i=e.toString();if(i.includes("custom program error:")){let e=i.split("custom program error: ");if(2!==e.length)return null;r=e[1]}else{let e=i.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;r=e[0].match(/([0-9]+)/g)[0]}try{n=parseInt(r)}catch(e){return null}let o=t.get(n);return void 0!==o||void 0!==(o=AV.get(n))?new AW(n,o,e.logs):null}get program(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack}toString(){return this.msg}}function AK(e,t){AF("debug-logs")&&console.log("Translating error:",e);let r=Aj.parse(e.logs);if(r)return r;let n=AW.parse(e,t);return n||(e.logs?(e.programErrorStack=AU.parse(e.logs),new Proxy(e,{get:function(t,r){return"programErrorStack"===r?t.programErrorStack.stack:"program"===r?t.programErrorStack.stack[e.programErrorStack.stack.length-1]:Reflect.get(...arguments)}})):e)}let Az={InstructionMissing:kE,InstructionFallbackNotFound:kT,InstructionDidNotDeserialize:kx,InstructionDidNotSerialize:kP,IdlInstructionStub:kO,IdlInstructionInvalidProgram:kB,IdlAccountNotEmpty:kC,EventInstructionStub:kR,ConstraintMut:kM,ConstraintHasOne:kL,ConstraintSigner:kN,ConstraintRaw:kD,ConstraintOwner:kF,ConstraintRentExempt:kq,ConstraintSeeds:kU,ConstraintExecutable:kj,ConstraintState:kW,ConstraintAssociated:kK,ConstraintAssociatedInit:kz,ConstraintClose:kV,ConstraintAddress:kH,ConstraintZero:kG,ConstraintTokenMint:k$,ConstraintTokenOwner:kX,ConstraintMintMintAuthority:kZ,ConstraintMintFreezeAuthority:kQ,ConstraintMintDecimals:kY,ConstraintSpace:kJ,ConstraintAccountIsNone:k1,ConstraintTokenTokenProgram:k0,ConstraintMintTokenProgram:k2,ConstraintAssociatedTokenTokenProgram:k6,ConstraintMintGroupPointerExtension:k4,ConstraintMintGroupPointerExtensionAuthority:k5,ConstraintMintGroupPointerExtensionGroupAddress:k8,ConstraintMintGroupMemberPointerExtension:k3,ConstraintMintGroupMemberPointerExtensionAuthority:k9,ConstraintMintGroupMemberPointerExtensionMemberAddress:k7,ConstraintMintMetadataPointerExtension:Ae,ConstraintMintMetadataPointerExtensionAuthority:At,ConstraintMintMetadataPointerExtensionMetadataAddress:Ar,ConstraintMintCloseAuthorityExtension:An,ConstraintMintCloseAuthorityExtensionAuthority:Ai,ConstraintMintPermanentDelegateExtension:Ao,ConstraintMintPermanentDelegateExtensionDelegate:Aa,ConstraintMintTransferHookExtension:As,ConstraintMintTransferHookExtensionAuthority:Au,ConstraintMintTransferHookExtensionProgramId:Al,RequireViolated:Ac,RequireEqViolated:kS,RequireKeysEqViolated:Ad,RequireNeqViolated:Ap,RequireKeysNeqViolated:Af,RequireGtViolated:Ah,RequireGteViolated:Am,AccountDiscriminatorAlreadySet:Ag,AccountDiscriminatorNotFound:Ay,AccountDiscriminatorMismatch:Ab,AccountDidNotDeserialize:A_,AccountDidNotSerialize:Aw,AccountNotEnoughKeys:Av,AccountNotMutable:Ak,AccountOwnedByWrongProgram:AA,InvalidProgramId:AS,InvalidProgramExecutable:AI,AccountNotSigner:AE,AccountNotSystemOwned:AT,AccountNotInitialized:Ax,AccountNotProgramData:AP,AccountNotAssociatedTokenAccount:AO,AccountSysvarMismatch:AB,AccountReallocExceedsLimit:AC,AccountDuplicateReallocs:AR,DeclaredProgramIdMismatch:AM,TryingToInitPayerAsProgramAccount:AL,InvalidNumericConversion:AN,Deprecated:kI},AV=new Map([[Az.InstructionMissing,"Instruction discriminator not provided"],[Az.InstructionFallbackNotFound,"Fallback functions are not supported"],[Az.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[Az.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[Az.IdlInstructionStub,"The program was compiled without idl instructions"],[Az.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[Az.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[Az.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[Az.ConstraintMut,"A mut constraint was violated"],[Az.ConstraintHasOne,"A has one constraint was violated"],[Az.ConstraintSigner,"A signer constraint was violated"],[Az.ConstraintRaw,"A raw constraint was violated"],[Az.ConstraintOwner,"An owner constraint was violated"],[Az.ConstraintRentExempt,"A rent exemption constraint was violated"],[Az.ConstraintSeeds,"A seeds constraint was violated"],[Az.ConstraintExecutable,"An executable constraint was violated"],[Az.ConstraintState,"Deprecated Error, feel free to replace with something else"],[Az.ConstraintAssociated,"An associated constraint was violated"],[Az.ConstraintAssociatedInit,"An associated init constraint was violated"],[Az.ConstraintClose,"A close constraint was violated"],[Az.ConstraintAddress,"An address constraint was violated"],[Az.ConstraintZero,"Expected zero account discriminant"],[Az.ConstraintTokenMint,"A token mint constraint was violated"],[Az.ConstraintTokenOwner,"A token owner constraint was violated"],[Az.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[Az.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[Az.ConstraintMintDecimals,"A mint decimals constraint was violated"],[Az.ConstraintSpace,"A space constraint was violated"],[Az.ConstraintAccountIsNone,"A required account for the constraint is None"],[Az.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[Az.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[Az.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[Az.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[Az.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[Az.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[Az.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[Az.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[Az.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[Az.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[Az.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[Az.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[Az.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[Az.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[Az.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[Az.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[Az.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[Az.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[Az.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[Az.RequireViolated,"A require expression was violated"],[Az.RequireEqViolated,"A require_eq expression was violated"],[Az.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[Az.RequireNeqViolated,"A require_neq expression was violated"],[Az.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[Az.RequireGtViolated,"A require_gt expression was violated"],[Az.RequireGteViolated,"A require_gte expression was violated"],[Az.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[Az.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[Az.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[Az.AccountDidNotDeserialize,"Failed to deserialize the account"],[Az.AccountDidNotSerialize,"Failed to serialize the account"],[Az.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[Az.AccountNotMutable,"The given account is not mutable"],[Az.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[Az.InvalidProgramId,"Program ID was not as expected"],[Az.InvalidProgramExecutable,"Program account is not executable"],[Az.AccountNotSigner,"The given account did not sign"],[Az.AccountNotSystemOwned,"The given account is not owned by the system program"],[Az.AccountNotInitialized,"The program expected this account to be already initialized"],[Az.AccountNotProgramData,"The given account is not a program data account"],[Az.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[Az.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[Az.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[Az.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[Az.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[Az.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[Az.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[Az.Deprecated,"The API being used is deprecated and should no longer be used"]]);class AH{static fieldLayout(e,t=[],r){let n=e.name;switch(e.type){case"bool":return bU.bool(n);case"u8":return bU.u8(n);case"i8":return bU.i8(n);case"u16":return bU.u16(n);case"i16":return bU.i16(n);case"u32":return bU.u32(n);case"i32":return bU.i32(n);case"f32":return bU.f32(n);case"u64":return bU.u64(n);case"i64":return bU.i64(n);case"f64":return bU.f64(n);case"u128":return bU.u128(n);case"i128":return bU.i128(n);case"u256":return bU.u256(n);case"i256":return bU.i256(n);case"bytes":return bU.vecU8(n);case"string":return bU.str(n);case"pubkey":return bU.publicKey(n);default:if("option"in e.type)return bU.option(AH.fieldLayout({type:e.type.option},t,r),n);if("vec"in e.type)return bU.vec(AH.fieldLayout({type:e.type.vec},t,r),n);if("array"in e.type){let[i,o]=e.type.array;return o=AH.resolveArrayLen(o,r),bU.array(AH.fieldLayout({type:i},t,r),o,n)}if("defined"in e.type){if(!t)throw new Aq("User defined types not provided");let i=e.type.defined.name,o=t.find(e=>e.name===i);if(!o)throw new Aq(`Type not found: ${e.name}`);return AH.typeDefLayout({typeDef:o,types:t,genericArgs:null!=r?r:e.type.defined.generics,name:n})}if("generic"in e.type){let n=null==r?void 0:r.at(0);if((null==n?void 0:n.kind)!=="type")throw new Aq(`Invalid generic field: ${e.name}`);return AH.fieldLayout({...e,type:n.type},t)}throw new Aq(`Not yet implemented: ${JSON.stringify(e.type)}`)}}static typeDefLayout({typeDef:e,types:t,name:r,genericArgs:n}){switch(e.type.kind){case"struct":{let i=vJ(e.type.fields,()=>[],r=>r.map(r=>{let i=n?AH.resolveGenericArgs({type:r.type,typeDef:e,genericArgs:n}):n;return AH.fieldLayout(r,t,i)}),r=>r.map((r,i)=>{let o=n?AH.resolveGenericArgs({type:r,typeDef:e,genericArgs:n}):n;return AH.fieldLayout({name:i.toString(),type:r},t,o)}));return bU.struct(i,r)}case"enum":{let i=e.type.variants.map(r=>{let i=vJ(r.fields,()=>[],r=>r.map(r=>{let i=n?AH.resolveGenericArgs({type:r.type,typeDef:e,genericArgs:n}):n;return AH.fieldLayout(r,t,i)}),r=>r.map((r,i)=>{let o=n?AH.resolveGenericArgs({type:r,typeDef:e,genericArgs:n}):n;return AH.fieldLayout({name:i.toString(),type:r},t,o)}));return bU.struct(i,r.name)});if(void 0!==r)return bU.rustEnum(i).replicate(r);return bU.rustEnum(i,r)}case"type":return AH.fieldLayout({type:e.type.alias,name:r},t)}}static typeSize(e,t,r){var n;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"u256":case"i256":case"pubkey":return 32;default:if("option"in e)return 1+AH.typeSize(e.option,t,r);if("coption"in e)return 4+AH.typeSize(e.coption,t,r);if("vec"in e)return 1;if("array"in e){let[n,i]=e.array;return i=AH.resolveArrayLen(i,r),AH.typeSize(n,t,r)*i}if("defined"in e){let i=null===(n=t.types)||void 0===n?void 0:n.find(t=>t.name===e.defined.name);if(!i)throw new Aq(`Type not found: ${JSON.stringify(e)}`);let o=n=>{let o=null!=r?r:e.defined.generics,a=o?AH.resolveGenericArgs({type:n,typeDef:i,genericArgs:o}):o;return AH.typeSize(n,t,a)};switch(i.type.kind){case"struct":return vJ(i.type.fields,()=>[0],e=>e.map(e=>o(e.type)),e=>e.map(e=>o(e))).reduce((e,t)=>e+t,0);case"enum":{let e=i.type.variants.map(e=>vJ(e.fields,()=>[0],e=>e.map(e=>o(e.type)),e=>e.map(e=>o(e))).reduce((e,t)=>e+t,0));return Math.max(...e)+1}case"type":return AH.typeSize(i.type.alias,t,r)}}if("generic"in e){let n=null==r?void 0:r.at(0);if((null==n?void 0:n.kind)!=="type")throw new Aq(`Invalid generic: ${e.generic}`);return AH.typeSize(n.type,t,r)}throw Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,t){if("number"==typeof e)return e;if(t){let r=t.find(e=>"const"===e.kind);(null==r?void 0:r.kind)==="const"&&(e=+r.value)}if("number"!=typeof e)throw new Aq("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:t,genericArgs:r,isDefined:n}){if("object"!=typeof e)return null;for(let i in t.generics){let o=t.generics[i];if("generic"in e&&o.name===e.generic)return[r[i]];if("option"in e){let i=AH.resolveGenericArgs({type:e.option,typeDef:t,genericArgs:r,isDefined:n});if(!i||!n)return i;if("type"===i[0].kind)return[{kind:"type",type:{option:i[0].type}}]}if("vec"in e){let i=AH.resolveGenericArgs({type:e.vec,typeDef:t,genericArgs:r,isDefined:n});if(!i||!n)return i;if("type"===i[0].kind)return[{kind:"type",type:{vec:i[0].type}}]}if("array"in e){let[a,s]=e.array,u="object"==typeof s,l=AH.resolveGenericArgs({type:a,typeDef:t,genericArgs:r,isDefined:n})||[];if(u){let e=t.generics.findIndex(e=>e.name===s.generic);-1!==e&&l.push(r[e])}if(l.length>0){if(!n)return l;if("type"===l[0].kind&&"const"===l[1].kind)return[{kind:"type",type:{array:[l[0].type,+l[1].value]}}]}if(u&&o.name===s.generic){let e=r[i];if(!n)return[e];return[{kind:"type",type:{array:[a,+e.value]}}]}break}if("defined"in e){if(!e.defined.generics)return null;return e.defined.generics.flatMap(e=>{switch(e.kind){case"type":return AH.resolveGenericArgs({type:e.type,typeDef:t,genericArgs:r,isDefined:!0});case"const":return[e]}}).filter(e=>null!==e)}}return null}}class AG{constructor(e){this.idl=e;let t=e.instructions.map(t=>{let r=t.name,n=t.args.map(t=>AH.fieldLayout(t,e.types)),i=bU.struct(n,r);return[r,{discriminator:t.discriminator,layout:i}]});this.ixLayouts=new Map(t)}encode(e,t){let r=(0,ds.Buffer).alloc(1e3),n=this.ixLayouts.get(e);if(!n)throw Error(`Unknown method: ${e}`);let i=n.layout.encode(t,r),o=r.slice(0,i);return(0,ds.Buffer).concat([(0,ds.Buffer).from(n.discriminator),o])}decode(e,t="hex"){for(let[r,n]of("string"==typeof e&&(e="hex"===t?(0,ds.Buffer).from(e,"hex"):ed(d2).decode(e)),this.ixLayouts)){let t=e.subarray(0,n.discriminator.length),i=t.equals((0,ds.Buffer).from(n.discriminator));if(i)return{name:r,data:n.layout.decode(e.subarray(t.length))}}return null}format(e,t){return A$.format(e,t,this.idl)}}class A${static format(e,t,r){let n=r.instructions.find(t=>e.name===t.name);if(!n)return console.error("Invalid instruction given"),null;let i=n.args.map(t=>({name:t.name,type:A$.formatIdlType(t.type),data:A$.formatIdlData(t,e.data[t.name],r.types)})),o=A$.flattenIdlAccounts(n.accounts),a=t.map((e,t)=>t<o.length?{name:o[t].name,...e}:{name:void 0,...e});return{args:i,accounts:a}}static formatIdlType(e){if("string"==typeof e)return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){let t=e.defined.name;if(e.defined.generics){let r=e.defined.generics.map(e=>{switch(e.kind){case"type":return A$.formatIdlType(e.type);case"const":return e.value}}).join(", ");return`${t}<${r}>`}return t}throw Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,r){if("string"==typeof e.type)return t.toString();if("vec"in e.type)return"["+t.map(t=>this.formatIdlData({name:"",type:e.type.vec},t,r)).join(", ")+"]";if("option"in e.type)return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t,r);if("defined"in e.type){if(!r)throw Error("User defined types not provided");let n=e.type.defined.name,i=r.find(e=>e.name===n);if(!i)throw Error(`Type not found: ${n}`);return A$.formatIdlDataDefined(i,t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){switch(e.type.kind){case"struct":return"{ "+vJ(e.type.fields,()=>"",e=>Object.entries(t).map(([t,n])=>{let i=e.find(e=>e.name===t);if(!i)throw Error(`Field not found: ${t}`);return t+": "+A$.formatIdlData(i,n,r)}).join(", "),e=>Object.entries(t).map(([t,n])=>t+": "+A$.formatIdlData({name:"",type:e[t]},n,r)).join(", "))+" }";case"enum":{let n=Object.keys(t)[0],i=e.type.variants.find(e=>e.name===n);if(!i)throw Error(`Unable to find variant: ${n}`);let o=t[n];return vJ(i.fields,()=>n,e=>{let t=Object.keys(o).map(t=>{let n=o[t],i=e.find(e=>e.name===t);if(!i)throw Error(`Field not found: ${t}`);return t+": "+A$.formatIdlData(i,n,r)}).join(", ");return`${n} { ${t} }`},e=>{let t=Object.entries(o).map(([t,n])=>t+": "+A$.formatIdlData({name:"",type:e[t]},n,r)).join(", ");return`${n} { ${t} }`})}case"type":return A$.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,t){return e.map(e=>{let r=function(e){let t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(!e.hasOwnProperty("accounts"))return{...e,name:t?`${t} > ${r}`:r};{let n=t?`${t} > ${r}`:r;return A$.flattenIdlAccounts(e.accounts,n)}}).flat()}}class AX{constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}let t=e.types;if(!t)throw Error("Accounts require `idl.types`");let r=e.accounts.map(e=>{let r=t.find(t=>t.name===e.name);if(!r)throw Error(`Account not found: ${e.name}`);return[e.name,{discriminator:e.discriminator,layout:AH.typeDefLayout({typeDef:r,types:t})}]});this.accountLayouts=new Map(r)}async encode(e,t){let r=(0,ds.Buffer).alloc(1e3),n=this.accountLayouts.get(e);if(!n)throw Error(`Unknown account: ${e}`);let i=n.layout.encode(t,r),o=r.slice(0,i),a=this.accountDiscriminator(e);return(0,ds.Buffer).concat([a,o])}decode(e,t){let r=this.accountDiscriminator(e);if(r.compare(t.slice(0,r.length)))throw Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeAny(e){for(let[t,r]of this.accountLayouts){let n=e.subarray(0,r.discriminator.length),i=n.equals((0,ds.Buffer).from(r.discriminator));if(i)return this.decodeUnchecked(t,e)}throw Error("Account not found")}decodeUnchecked(e,t){let r=this.accountDiscriminator(e),n=t.subarray(r.length),i=this.accountLayouts.get(e);if(!i)throw Error(`Unknown account: ${e}`);return i.layout.decode(n)}memcmp(e,t){let r=this.accountDiscriminator(e);return{offset:0,bytes:ed(d2).encode(t?(0,ds.Buffer).concat([r,t]):r)}}size(e){return this.accountDiscriminator(e).length+AH.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var t;let r=null===(t=this.idl.accounts)||void 0===t?void 0:t.find(t=>t.name===e);if(!r)throw Error(`Account not found: ${e}`);return(0,ds.Buffer).from(r.discriminator)}}class AZ{constructor(e){if(!e.events){this.layouts=new Map;return}let t=e.types;if(!t)throw Error("Events require `idl.types`");let r=e.events.map(e=>{let r=t.find(t=>t.name===e.name);if(!r)throw Error(`Event not found: ${e.name}`);return[e.name,{discriminator:e.discriminator,layout:AH.typeDefLayout({typeDef:r,types:t})}]});this.layouts=new Map(r)}decode(e){let t;try{t=vX(e)}catch(e){return null}for(let[e,r]of this.layouts){let n=t.subarray(0,r.discriminator.length),i=n.equals((0,ds.Buffer).from(r.discriminator));if(i)return{name:e,data:r.layout.decode(t.subarray(n.length))}}return null}}class AQ{constructor(e){let t=e.types;if(!t){this.typeLayouts=new Map;return}let r=t.filter(e=>!e.generics).map(e=>[e.name,AH.typeDefLayout({typeDef:e,types:t})]);this.typeLayouts=new Map(r)}encode(e,t){let r=(0,ds.Buffer).alloc(1e3),n=this.typeLayouts.get(e);if(!n)throw Error(`Unknown type: ${e}`);let i=n.encode(t,r);return r.slice(0,i)}decode(e,t){let r=this.typeLayouts.get(e);if(!r)throw Error(`Unknown type: ${e}`);return r.decode(t)}}class AY{constructor(e){this.instruction=new AG(e),this.accounts=new AX(e),this.events=new AZ(e),this.types=new AQ(e)}}class AJ{constructor(e,t){if(!Number.isInteger(e))throw TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw Error("Layout is abstract")}encode(e,t,r){throw Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var A1=AJ;class A0 extends AJ{isCount(){throw Error("ExternalLayout is abstract")}}class A2 extends A0{constructor(e,t,r){if(!(e instanceof AJ))throw TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof A6||this.layout instanceof A4}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return void 0===r&&(r=0),this.layout.encode(e,t,r+this.offset)}}class A6 extends AJ{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class A4 extends AJ{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}function A5(e){let t=Math.floor(e/4294967296);return{hi32:t,lo32:e-4294967296*t}}function A8(e,t){return 4294967296*e+t}class A3 extends AJ{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);let r=e.readUInt32LE(t),n=e.readInt32LE(t+4);return A8(n,r)}encode(e,t,r){void 0===r&&(r=0);let n=A5(e);return t.writeUInt32LE(n.lo32,r),t.writeInt32LE(n.hi32,r+4),8}}class A9 extends AJ{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((e,t)=>e&&t instanceof AJ,!0)))throw TypeError("fields must be array of Layout instances");for(let n of("boolean"==typeof t&&void 0===r&&(r=t,t=void 0),e))if(0>n.span&&void 0===n.property)throw Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce((e,t)=>e+t.getSpan(),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;try{r=this.fields.reduce((r,n)=>{let i=n.getSpan(e,t);return t+=i,r+i},0)}catch(e){throw RangeError("indeterminate span")}return r}decode(e,t){void 0===t&&(t=0);let r=this.makeDestinationObject();for(let n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){void 0===r&&(r=0);let n=r,i=0,o=0;for(let n of this.fields){let a=n.span;if(o=0<a?a:0,void 0!==n.property){let i=e[n.property];void 0!==i&&(o=n.encode(i,t,r),0>a&&(a=n.getSpan(t,r)))}i=r,r+=a}return i+o-n}fromArray(e){let t=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw TypeError("property must be string");let t=0;for(let r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class A7{constructor(e){this.property=e}decode(){throw Error("UnionDiscriminator is abstract")}encode(){throw Error("UnionDiscriminator is abstract")}}class Se extends A7{constructor(e,t){if(!(e instanceof A0&&e.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class St extends AJ{constructor(e,t,r){let n=e instanceof A6||e instanceof A4;if(n)e=new Se(new A2(e));else if(e instanceof A0&&e.isCount())e=new Se(e);else if(!(e instanceof A7))throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof AJ))throw TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&0<=(i=t.span)&&n&&(i+=e.layout.span),super(i,r),this.discriminator=e,this.usesPrefixDiscriminator=n,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=this.getVariant(e,t);if(!r)throw Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(let t in this.registry){let r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw Error("unable to infer src variant")}decode(e,t){let r;void 0===t&&(t=0);let n=this.discriminator,i=n.decode(e,t),o=this.registry[i];if(void 0===o){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=n.layout.span),(r=this.makeDestinationObject())[n.property]=i,r[o.property]=this.defaultLayout.decode(e,t+a)}else r=o.decode(e,t);return r}encode(e,t,r){void 0===r&&(r=0);let n=this.getSourceVariant(e);if(void 0===n){let n=this.discriminator,i=this.defaultLayout,o=0;return this.usesPrefixDiscriminator&&(o=n.layout.span),n.encode(e[n.property],t,r),o+i.encode(e[i.property],t,r+o)}return n.encode(e,t,r)}addVariant(e,t,r){let n=new Sr(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t){let r=e;return vH.isBuffer(e)&&(void 0===t&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class Sr extends AJ{constructor(e,t,r,n){if(!(e instanceof St))throw TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof AJ))throw TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof n)throw TypeError("variant must have a String property")}let i=e.span;0>e.span&&0<=(i=r?r.span:0)&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){let r=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class Sn extends AJ{constructor(e,t){if(!(e instanceof A0&&e.isCount()||Number.isInteger(e)&&0<=e))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof A0||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){void 0===t&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof A0&&(n=e.length),!(vH.isBuffer(e)&&n===e.length)){var i;throw TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+n+") Buffer as src"))}if(r+n>t.length)throw RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,n,"hex"),this.length instanceof A0&&this.length.encode(n,t,r),n}}var Si=(e,t,r)=>new A2(e,t,r),So=e=>new A6(1,e),Sa=e=>new A6(4,e),Ss=e=>new A3(e),Su=(e,t,r)=>new A9(e,t,r),Sl=(e,t,r)=>new St(e,t,r),Sc=(e,t)=>new Sn(e,t);class Sd extends A1{constructor(e){super(-1,e),this.property=e,this.layout=Su([Sa("length"),Sa("lengthPadding"),Sc(Si(Sa(),-8),"chars")],this.property)}encode(e,t,r=0){if(null==e)return this.layout.span;let n={chars:vH.from(e,"utf8")};return this.layout.encode(n,t,r)}decode(e,t=0){let r=this.layout.decode(e,t);return r.chars.toString()}getSpan(e,t=0){return Sa().span+Sa().span+new(ed(d0))(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function Sp(e){return new Sd(e)}function Sf(e){return Sc(32,e)}let Sh=Sl(Sa("instruction"));Sh.addVariant(0,Su([Ss("lamports"),Ss("space"),Sf("owner")]),"createAccount"),Sh.addVariant(1,Su([Sf("owner")]),"assign"),Sh.addVariant(2,Su([Ss("lamports")]),"transfer"),Sh.addVariant(3,Su([Sf("base"),Sp("seed"),Ss("lamports"),Ss("space"),Sf("owner")]),"createAccountWithSeed"),Sh.addVariant(4,Su([Sf("authorized")]),"advanceNonceAccount"),Sh.addVariant(5,Su([Ss("lamports")]),"withdrawNonceAccount"),Sh.addVariant(6,Su([Sf("authorized")]),"initializeNonceAccount"),Sh.addVariant(7,Su([Sf("authorized")]),"authorizeNonceAccount"),Sh.addVariant(8,Su([Ss("space")]),"allocate"),Sh.addVariant(9,Su([Sf("base"),Sp("seed"),Ss("space"),Sf("owner")]),"allocateWithSeed"),Sh.addVariant(10,Su([Sf("base"),Sp("seed"),Sf("owner")]),"assignWithSeed"),Sh.addVariant(11,Su([Ss("lamports"),Sp("seed"),Sf("owner")]),"transferWithSeed"),Object.values(Sh.registry).map(e=>e.span);class Sm extends A1{constructor(e,t,r,n){super(e.span,n),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}function Sg(e){return new Sm(Sc(32),e=>new ho(e),e=>e.toBuffer(),e)}Su([Sa("version"),Sa("state"),Sg("authorizedPubkey"),Sg("nonce"),Su([new class extends AJ{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);let r=e.readUInt32LE(t),n=e.readUInt32LE(t+4);return A8(n,r)}encode(e,t,r){void 0===r&&(r=0);let n=A5(e);return t.writeUInt32LE(n.lo32,r),t.writeUInt32LE(n.hi32,r+4),8}}("lamportsPerSignature")],"feeCalculator")]),new ho("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),new ho("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Sy={exports:{}};Pn=Sy.exports,Pi="undefined"!=typeof self?self:kk,Pa=Po=function(){function e(){this.fetch=!1,this.DOMException=Pi.DOMException}return e.prototype=Pi,new e}(),function(e){var t={searchParams:"URLSearchParams"in Pa,iterable:"Symbol"in Pa&&"iterator"in Symbol,blob:"FileReader"in Pa&&"Blob"in Pa&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in Pa,arrayBuffer:"ArrayBuffer"in Pa};if(t.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};function i(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function a(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function s(e){this.map={},e instanceof s?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function u(e){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}function l(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function c(e){var t=new FileReader,r=l(t);return t.readAsArrayBuffer(e),r}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var r;t.arrayBuffer&&t.blob&&(r=e)&&DataView.prototype.isPrototypeOf(r)?(this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||n(e))?this._bodyArrayBuffer=d(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(c)}),this.text=function(){var e,t,r,n=u(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=l(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},t.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}s.prototype.append=function(e,t){e=i(e),t=o(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},s.prototype.delete=function(e){delete this.map[i(e)]},s.prototype.get=function(e){return e=i(e),this.has(e)?this.map[e]:null},s.prototype.has=function(e){return this.map.hasOwnProperty(i(e))},s.prototype.set=function(e,t){this.map[i(e)]=o(t)},s.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},s.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),a(e)},s.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),a(e)},s.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),a(e)},t.iterable&&(s.prototype[Symbol.iterator]=s.prototype.entries);var f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function h(e,t){var r,n,i=(t=t||{}).body;if(e instanceof h){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new s(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new s(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),f.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function g(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new s(t.headers),this.url=t.url||"",this._initBody(e)}h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},p.call(h.prototype),p.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new s(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var y=[301,302,303,307,308];g.redirect=function(e,t){if(-1===y.indexOf(t))throw RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.DOMException=Pa.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function b(r,n){return new Promise(function(i,o){var a=new h(r,n);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function l(){u.abort()}u.onload=function(){var e,t,r={status:u.status,statusText:u.statusText,headers:(e=u.getAllResponseHeaders()||"",t=new s,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t)};r.url="responseURL"in u?u.responseURL:r.headers.get("X-Request-URL"),i(new g("response"in u?u.response:u.responseText,r))},u.onerror=function(){o(TypeError("Network request failed"))},u.ontimeout=function(){o(TypeError("Network request failed"))},u.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},u.open(a.method,a.url,!0),"include"===a.credentials?u.withCredentials=!0:"omit"===a.credentials&&(u.withCredentials=!1),"responseType"in u&&t.blob&&(u.responseType="blob"),a.headers.forEach(function(e,t){u.setRequestHeader(t,e)}),a.signal&&(a.signal.addEventListener("abort",l),u.onreadystatechange=function(){4===u.readyState&&a.signal.removeEventListener("abort",l)}),u.send(void 0===a._bodyInit?null:a._bodyInit)})}b.polyfill=!0,Pa.fetch||(Pa.fetch=b,Pa.Headers=s,Pa.Request=h,Pa.Response=g),e.Headers=s,e.Request=h,e.Response=g,e.fetch=b,Object.defineProperty(e,"__esModule",{value:!0})}({}),Po.fetch.ponyfill=!0,delete Po.fetch.polyfill,(Pn=Po.fetch).default=Po.fetch,Pn.fetch=Po.fetch,Pn.Headers=Po.Headers,Pn.Request=Po.Request,Pn.Response=Po.Response,Sy.exports=Pn,(Ps=Sy.exports)&&Ps.__esModule&&Object.prototype.hasOwnProperty.call(Ps,"default")&&Ps.default;let Sb=bU.rustEnum([bU.struct([],"uninitialized"),bU.struct([bU.option(bU.publicKey(),"authorityAddress")],"buffer"),bU.struct([bU.publicKey("programdataAddress")],"program"),bU.struct([bU.u64("slot"),bU.option(bU.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,bU.u32()),S_="Program log: ",Sw="Program data: ",Sv=S_.length,Sk=Sw.length;class SA{constructor(e,t,r){this._programId=e,this._provider=t,this._eventParser=new SS(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t,r){var n;let i=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!==(n=this._eventListeners.get(e))&&void 0!==n?n:[]).concat(i)),this._eventCallbacks.set(i,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(e,t)=>{if(!e.err)for(let r of this._eventParser.parseLogs(e.logs)){let n=this._eventListeners.get(r.name);n&&n.forEach(n=>{let i=this._eventCallbacks.get(n);if(i){let[,n]=i;n(r.data,t.slot,e.signature)}})}},r)),i}async removeEventListener(e){let t=this._eventCallbacks.get(e);if(!t)throw Error(`Event listener ${e} doesn't exist!`);let[r]=t,n=this._eventListeners.get(r);if(!n)throw Error(`Event listeners don't exist for ${r}!`);if(this._eventCallbacks.delete(e),n=n.filter(t=>t!==e),this._eventListeners.set(r,n),0===n.length&&this._eventListeners.delete(r),0===this._eventCallbacks.size){if(0!==this._eventListeners.size)throw Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class SS{constructor(e,t){this.coder=t,this.programId=e}*parseLogs(e,t=!1){let r=new SE(e),n=new SI,i=r.next();for(;null!==i;){let[e,o,a]=this.handleLog(n,i,t);e&&(yield e),o&&n.push(o),a&&n.pop(),i=r.next()}}handleLog(e,t,r){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t,r):[null,...this.handleSystemLog(t)]}handleProgramLog(e,t){if(!(e.startsWith(S_)||e.startsWith(Sw)))return[null,...this.handleSystemLog(e)];{let r=e.startsWith(S_)?e.slice(Sv):e.slice(Sk),n=this.coder.events.decode(r);if(t&&null===n)throw Error(`Unable to decode event ${r}`);return[n,null,!1]}}handleSystemLog(e){let t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class SI{constructor(){this.stack=[]}program(){if(!this.stack.length)throw Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw Error("Expected the stack to have elements");this.stack.pop()}}class SE{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}function ST(e,t){var r,n;let i={},o=e.args?e.args.length:0;if(t.length>o){if(t.length!==o+1)throw Error(`provided too many arguments ${t} to instruction ${null==e?void 0:e.name} expecting: ${null!==(n=null===(r=e.args)||void 0===r?void 0:r.map(e=>e.name))&&void 0!==n?n:[]}`);i=t.pop()}return[t,i]}class Sx{static build(e,t,r){if("_inner"===e.name)throw new Aq("the _inner name is reserved");let n=(...i)=>{let[o,a]=ST(e,[...i]);(function e(t,r={}){t.forEach(t=>{if(vZ(t))e(t.accounts,r[t.name]);else if(!r[t.name])throw Error(`Account \`${t.name}\` not provided.`)})})(e.accounts,a.accounts),[...i];let s=n.accounts(a.accounts);return void 0!==a.remainingAccounts&&s.push(...a.remainingAccounts),AF("debug-logs")&&console.log("Outgoing account metas:",s),new hI({keys:s,programId:r,data:t(e.name,function(e,...t){if(e.args.length!=t.length)throw Error("Invalid argument length");let r={},n=0;return e.args.forEach(e=>{r[e.name]=t[n],n+=1}),r}(e,...o))})};return n.accounts=t=>Sx.accountsArray(t,e.accounts,r,e.name),n}static accountsArray(e,t,r,n){return e?t.map(t=>{let i;if(vZ(t)){let i=e[t.name];return Sx.accountsArray(i,t.accounts,r,n).flat()}try{i=v1(e[t.name])}catch(e){throw Error(`Wrong input type for account "${t.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}let o=t.optional&&i.equals(r),a=!!(t.writable&&!o),s=!!(t.signer&&!o);return{pubkey:i,isWritable:a,isSigner:s}}).flat():[]}}class SP{static build(e,t){return(...r)=>{var n,i,o;let[,a]=ST(e,[...r]),s=new hE;if(a.preInstructions&&a.instructions)throw Error("instructions is deprecated, use preInstructions");return null===(n=a.preInstructions)||void 0===n||n.forEach(e=>s.add(e)),null===(i=a.instructions)||void 0===i||i.forEach(e=>s.add(e)),s.add(t(...r)),null===(o=a.postInstructions)||void 0===o||o.forEach(e=>s.add(e)),s}}}class SO{static build(e,t,r,n){let i=async(...i)=>{var o;let a=t(...i),[,s]=ST(e,[...i]);if(void 0===n.sendAndConfirm)throw Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await n.sendAndConfirm(a,null!==(o=s.signers)&&void 0!==o?o:[],s.options)}catch(e){throw AK(e,r)}};return i}}class SB{static build(e,t,r,n){var i;return(null!==(i=e.accounts)&&void 0!==i?i:[]).reduce((i,o)=>(i[o.name]=new SC(e,o,r,n,t),i),{})}}class SC{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,t,r,n,i){this._idlAccount=t,this._programId=r,this._provider=null!=n?n:kw(),this._coder=null!=i?i:new AY(e),this._size=this._coder.accounts.size(t.name)}async fetchNullable(e,t){let{data:r}=await this.fetchNullableAndContext(e,t);return r}async fetchNullableAndContext(e,t){let r=await this.getAccountInfoAndContext(e,t),{value:n,context:i}=r;return{data:n&&0!==n.data.length?this._coder.accounts.decode(this._idlAccount.name,n.data):null,context:i}}async fetch(e,t){let{data:r}=await this.fetchNullableAndContext(e,t);if(null===r)throw Error(`Account does not exist or has no data ${e.toString()}`);return r}async fetchAndContext(e,t){let{data:r,context:n}=await this.fetchNullableAndContext(e,t);if(null===r)throw Error(`Account does not exist ${e.toString()}`);return{data:r,context:n}}async fetchMultiple(e,t){let r=await this.fetchMultipleAndContext(e,t);return r.map(e=>e?e.data:null)}async fetchMultipleAndContext(e,t){let r=await kc(this._provider.connection,e.map(e=>v1(e)),t);return r.map(e=>{if(null==e)return null;let{account:t,context:r}=e;return{data:this._coder.accounts.decode(this._idlAccount.name,t.data),context:r}})}async all(e){let t=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof vH?e:void 0),r=[];return(null==t?void 0:t.offset)!=void 0&&(null==t?void 0:t.bytes)!=void 0&&r.push({memcmp:{offset:t.offset,bytes:t.bytes}}),(null==t?void 0:t.dataSize)!=void 0&&r.push({dataSize:t.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...r,...Array.isArray(e)?e:[]]})).map(({pubkey:e,account:t})=>({publicKey:e,account:this._coder.accounts.decode(this._idlAccount.name,t.data)}))}subscribe(e,t){let r=SR.get(e.toString());if(r)return r.ee;let n=new(ed(vF));e=v1(e);let i=this._provider.connection.onAccountChange(e,e=>{let t=this._coder.accounts.decode(this._idlAccount.name,e.data);n.emit("change",t)},t);return SR.set(e.toString(),{ee:n,listener:i}),n}async unsubscribe(e){let t=SR.get(e.toString());if(!t){console.warn("Address is not subscribed");return}SR&&await this._provider.connection.removeAccountChangeListener(t.listener).then(()=>{SR.delete(e.toString())}).catch(console.error)}async createInstruction(e,t){let r=this.size;if(void 0===this._provider.publicKey)throw Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return hV.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:r),programId:this._programId})}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(v1(e),t)}async getAccountInfoAndContext(e,t){return await this._provider.connection.getAccountInfoAndContext(v1(e),t)}}let SR=new Map;class SM{static build(e,t,r,n,i,o,a){let s=async(...s)=>{var u;let l;let c=t(...s),[,d]=ST(e,[...s]);if(void 0===n.simulate)throw Error("This function requires 'Provider.simulate' to be implemented.");try{l=await n.simulate(c,d.signers,null===(u=d.options)||void 0===u?void 0:u.commitment)}catch(e){throw AK(e,r)}if(void 0===l)throw Error("Unable to simulate transaction");let p=l.logs;if(!p)throw Error("Simulated logs not found");let f=[];if(a.events)for(let e of new SS(o,i).parseLogs(p))f.push(e);return{events:f,raw:p}};return s}}function SL(e){return new SD(Sc(8),e=>Sq.fromBuffer(e),e=>e.toBuffer(),e)}function SN(e){return new SD(Sc(32),e=>new ho(e),e=>e.toBuffer(),e)}class SD extends A1{constructor(e,t,r,n){super(e.span,n),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class SF extends A1{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=Sa()}encode(e,t,r=0){return null==e?this.layout.span+this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+4)+4)}decode(e,t=0){let r=this.discriminator.decode(e,t);if(0===r)return null;if(1===r)return this.layout.decode(e,t+4);throw Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}class Sq extends ed(d0){toBuffer(){let e=super.toArray().reverse(),t=vH.from(e);if(8===t.length)return t;if(t.length>=8)throw Error("u64 too large");let r=vH.alloc(8);return t.copy(r),r}static fromBuffer(e){if(8!==e.length)throw Error(`Invalid buffer length: ${e.length}`);return new Sq([...e].reverse().map(e=>`00${e.toString(16)}`.slice(-2)).join(""),16)}}let SU=Su([SN("mint"),SN("owner"),SL("amount"),new SF(SN(),"delegate"),(e=>{let t=Sl(So("discriminator"),null,e);return t.addVariant(0,Su([]),"uninitialized"),t.addVariant(1,Su([]),"initialized"),t.addVariant(2,Su([]),"frozen"),t})("state"),new SF(SL(),"isNative"),SL("delegatedAmount"),new SF(SN(),"closeAuthority")]);class Sj{constructor(e,t,r,n,i,o,a,s){this._args=e,this._accounts=t,this._provider=r,this._programId=n,this._idlIx=i,this._idlTypes=a,this._customResolver=s,this._accountStore=new SW(r,o,n)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(16==++e){let e=t=>vZ(t)?t.accounts.some(e):!!(t.address||t.pda||t.relations),t=(e,r=[],n=[])=>{for(let i of e)vZ(i)?n.push(...t(i.accounts,[...r,i.name])):n.push([...r,i.name]);return n},r=this._idlIx.accounts.filter(e),n=t(r).filter(e=>!this.get(e)).map(e=>e.reduce((e,t)=>e+"."+t)).map(e=>`\`${e}\``).join(", ");throw Error(`Reached maximum depth for account resolution. Unresolved accounts: ${n}`)}}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){let t=e.reduce((e,t)=>e&&e[t],this._accounts);if(t&&t.toBase58)return t}set(e,t){let r=this._accounts;e.forEach((n,i)=>{var o;let a=i===e.length-1;a&&(r[n]=t),r[n]=null!==(o=r[n])&&void 0!==o?o:{},r=r[n]})}resolveOptionalsHelper(e,t){let r={};for(let n of t){let t=n.name,i=e[t];void 0!==i&&(Sz(i)?vZ(n)?r[t]=this.resolveOptionalsHelper(i,n.accounts):r[t]=function e(t,r){let n={};for(let i in t){let o=t[i];if(null===o){if(r)throw Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");continue}n[i]=Sz(o)?e(o,!0):v1(o)}return n}(i,!0):null!==i?r[t]=v1(i):n.optional&&(r[t]=this._programId))}return r}async resolveCustom(){if(this._customResolver){let{accounts:e,resolved:t}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,t}return 0}resolveEventCpi(e,t=[]){for(let r in e){let n=e[r];vZ(n)&&this.resolveEventCpi(n.accounts,[...t,n.name]);let i=+r+1;if(i===e.length)return;let o=e[r].name,a=e[i].name;if("eventAuthority"===o&&"program"===a){let e=[...t,o],r=[...t,a];this.get(e)||this.set(e,ho.findProgramAddressSync([vH.from("__event_authority")],this._programId)[0]),this.get(r)||this.set(r,this._programId);return}}}resolveConst(e,t=[]){for(let r of e){let e=r.name;if(vZ(r))this.resolveConst(r.accounts,[...t,e]);else if((r.signer||r.address)&&!this.get([...t,e])){if(r.signer){if(!this._provider.publicKey)throw Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...t,e],this._provider.publicKey)}r.address&&this.set([...t,e],v1(r.address))}}}async resolvePdasAndRelations(e,t=[]){let r=0;for(let n of e){let e=n.name;if(vZ(n))r+=await this.resolvePdasAndRelations(n.accounts,[...t,e]);else if((n.pda||n.relations)&&!this.get([...t,e])){r++;try{if(n.pda){let r=await Promise.all(n.pda.seeds.map(e=>this.toBuffer(e,t)));if(r.some(e=>!e))continue;let i=await this.parseProgramId(n,t),[o]=ho.findProgramAddressSync(r,i);this.set([...t,e],o)}}catch{}try{if(n.relations){let r=this.get([...t,n.relations[0]]);if(r){let n=await this._accountStore.fetchAccount({publicKey:r});this.set([...t,e],n[e])}}}catch{}}}return r}async parseProgramId(e,t=[]){var r;if(!(null===(r=e.pda)||void 0===r?void 0:r.program))return this._programId;let n=await this.toBuffer(e.pda.program,t);if(!n)throw Error(`Program seed not resolved: ${e.name}`);return new ho(n)}async toBuffer(e,t=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,t);default:throw Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){let[t,...r]=e.path.split("."),n=this._idlIx.args.findIndex(e=>e.name===t);if(-1===n)throw Error(`Unable to find argument for seed: ${t}`);let i=r.reduce((e,t)=>(null!=e?e:{})[t],this._args[n]);if(void 0===i)return;let o=this.getType(this._idlIx.args[n].type,r);return this.toBufferValue(o,i)}async toBufferAccount(e,t=[]){let[r,...n]=e.path.split("."),i=this.get([...t,r]);if(!i)return;if(!n.length)return this.toBufferValue("pubkey",i);if(!e.account)throw Error(`Seed account is required in order to resolve type: ${e.path}`);let o=await this._accountStore.fetchAccount({publicKey:i,name:e.account}),a=o,s=n;for(;s.length>0;)a=a[s[0]],s=s.slice(1);if(void 0===a)return;let u=this.getType({defined:{name:e.account}},n);return this.toBufferValue(u,a)}toBufferValue(e,t){switch(e){case"u8":case"i8":return vH.from([t]);case"u16":case"i16":return new(ed(d0))(t).toArrayLike(vH,"le",2);case"u32":case"i32":return new(ed(d0))(t).toArrayLike(vH,"le",4);case"u64":case"i64":return new(ed(d0))(t).toArrayLike(vH,"le",8);case"u128":case"i128":return new(ed(d0))(t).toArrayLike(vH,"le",16);case"u256":case"i256":return new(ed(d0))(t).toArrayLike(vH,"le",32);case"string":case"bytes":return vH.from(t);case"pubkey":return t.toBuffer();default:if(null==e?void 0:e.array)return vH.from(t);throw Error(`Unexpected seed type: ${e}`)}}getType(e,t=[]){var r;let n=null===(r=null==e?void 0:e.defined)||void 0===r?void 0:r.name;if(n){if("tokenAccount"===n)switch(t.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw Error(`Unknown token account path: ${t}`)}let e=this._idlTypes.find(e=>e.name===n);if(!e)throw Error(`Type not found: ${n}`);let[r,...i]=t,o=e.type.fields,a=o.find(e=>e.name===r);if(!a)throw Error(`Field not found: ${r}`);return this.getType(a.type,i)}return e}}class SW{constructor(e,t,r){this._provider=e,this._cache=new Map,this._idls={},this._idls[r.toBase58()]=t}async fetchAccount({publicKey:e,name:t}){let r=e.toBase58();if(!this._cache.has(r)){let i=await this._provider.connection.getAccountInfo(e);if(null===i)throw Error(`Account not found: ${r}`);if("tokenAccount"===t){var n;let e=(n=i.data,SU.decode(n));this._cache.set(r,e)}else{let e=await this.getAccountsNs(i.owner);if(e){let t=Object.values(e)[0];if(t){let e=t.coder.accounts.decodeAny(i.data);this._cache.set(r,e)}}}}return this._cache.get(r)}async getAccountsNs(e){let t=e.toBase58();if(!this._idls[t]){let r=await S$.fetchIdl(e,this._provider);if(r){let e=new S$(r,this._provider);this._idls[t]=e.account}}return this._idls[t]}}class SK{static build(e,t,r,n,i,o,a,s,u,l,c){return(...d)=>new SV(d,n,i,o,a,s,e,t,r,u,l,c)}}function Sz(e){return"object"==typeof e&&null!==e&&!("_bn"in e)}class SV{constructor(e,t,r,n,i,o,a,s,u,l,c,d){this._args=e,this._ixFn=t,this._txFn=r,this._rpcFn=n,this._simulateFn=i,this._viewFn=o,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new Sj(e,this._accounts,a,s,u,l,c,d)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,t=!1){return t?this._preInstructions=e.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw Error("Method does not support views. The instruction should return a value, and its accounts must be read-only");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{signature:await this.rpc(e),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class SH{static build(e,t,r,n){let i=t.accounts.find(e=>e.writable),o=!!t.returns;if(i||!o)return;let a=async(...i)=>{let o=await r(...i),a=`Program return: ${e} `,s=o.raw.find(e=>e.startsWith(a));if(!s)throw Error("View expected return log");let u=vX(s.slice(a.length)),l=t.returns;if(!l)throw Error("View expected return type");let c=AH.fieldLayout({type:l},n.types);return c.decode(u)};return a}}class SG{static build(e,t,r,n,i){let o={},a={},s={},u={},l={},c={},d=function(e){let t=new Map;return e.errors&&e.errors.forEach(e=>{var r;let n=null!==(r=e.msg)&&void 0!==r?r:e.name;t.set(e.code,n)}),t}(e),p=e.accounts?SB.build(e,t,r,n):{};return e.instructions.forEach(f=>{let h=Sx.build(f,(e,r)=>t.instruction.encode(e,r),r),m=SP.build(f,h),g=SO.build(f,m,d,n),y=SM.build(f,m,d,n,t,r,e),b=SH.build(r,f,y,e),_=SK.build(n,r,f,h,m,g,y,b,p,e.types||[],null==i?void 0:i(f)),w=f.name;a[w]=h,s[w]=m,o[w]=g,u[w]=y,l[w]=_,b&&(c[w]=b)}),[o,a,s,p,u,l,c]}}class S${get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,t=kw(),r,n){this._idl=function(e){let t=["name","path","account","relations","generic"],r=e=>e.split(".").map(ed(bT)).join("."),n=e=>{for(let i in e){let o=e[i];t.includes(i)?e[i]=Array.isArray(o)?o.map(r):r(o):"object"==typeof o&&n(o)}},i=structuredClone(e);return n(i),i}(e),this._rawIdl=e,this._provider=t,this._programId=v1(e.address),this._coder=null!=r?r:new AY(this._idl),this._events=new SA(this._programId,t,this._coder);let[i,o,a,s,u,l,c]=SG.build(this._idl,this._coder,this._programId,t,n);this.rpc=i,this.instruction=o,this.transaction=a,this.account=s,this.simulate=u,this.methods=l,this.views=c}static async at(e,t){let r=v1(e),n=await S$.fetchIdl(r,t);if(!n)throw Error(`IDL not found for program: ${e.toString()}`);return new S$(n,t)}static async fetchIdl(e,t){var r;t=null!=t?t:kw();let n=v1(e),i=await vQ(n),o=await t.connection.getAccountInfo(i);if(!o)return null;let a=(r=o.data.slice(8),vY.decode(r)),s=vL(a.data);return JSON.parse(function(e){let t=new TextDecoder("utf-8");return t.decode(e)}(s))}addEventListener(e,t,r){return this._events.addEventListener(e,t,r)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new ho("11111111111111111111111111111111");let SX=new ho("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),SZ=new ho("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),SQ=new ho("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),SY=new ho("So11111111111111111111111111111111111111112");new ho("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");let SJ=e=>{let t=e.decode.bind(e),r=e.encode.bind(e);return{decode:t,encode:r}};var S1={},ds=eh("acDaE"),S0=ds.Buffer;Object.defineProperty(S1,"__esModule",{value:!0}),S1.toBigIntLE=function(e){{let t=S0.from(e);t.reverse();let r=t.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}},S1.toBigIntBE=function(e){{let t=e.toString("hex");return 0===t.length?BigInt(0):BigInt(`0x${t}`)}},S1.toBufferLE=function(e,t){{let r=e.toString(16),n=S0.from(r.padStart(2*t,"0").slice(0,2*t),"hex");return n.reverse(),n}},S1.toBufferBE=function(e,t){{let r=e.toString(16);return S0.from(r.padStart(2*t,"0").slice(0,2*t),"hex")}};var ds=eh("acDaE"),S2=ds.Buffer;let S6=e=>t=>{let r=(0,ph.blob)(e,t),{encode:n,decode:i}=SJ(r);return r.decode=(e,t)=>{let r=i(e,t);return(0,S1.toBigIntLE)(S2.from(r))},r.encode=(t,r,i)=>{let o=(0,S1.toBufferLE)(t,e);return n(o,r,i)},r},S4=e=>t=>{let r=(0,ph.blob)(e,t),{encode:n,decode:i}=SJ(r);return r.decode=(e,t)=>{let r=i(e,t);return(0,S1.toBigIntBE)(S2.from(r))},r.encode=(t,r,i)=>{let o=(0,S1.toBufferBE)(t,e);return n(o,r,i)},r},S5=S6(8);S4(8),S6(16),S4(16),S6(24),S4(24),S6(32),S4(32);var S8={};(function(t){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,a="[BigNumber Error] ",s=a+"Number primitive has more than 15 significant digits: ",u=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function l(e){var t=0|e;return e>0||e===t?t:t-1}function c(e){for(var t,r,n=1,i=e.length,o=e[0]+"";n<i;){for(r=14-(t=e[n++]+"").length;r--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function d(e,t){var r,n,i=e.c,o=t.c,a=e.s,s=t.s,u=e.e,l=t.e;if(!a||!s)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-s:a;if(a!=s)return a;if(r=a<0,n=u==l,!i||!o)return n?0:!i^r?1:-1;if(!n)return u>l^r?1:-1;for(a=0,s=(u=i.length)<(l=o.length)?u:l;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^r?1:-1;return u==l?0:u>l^r?1:-1}function p(e,t,r,n){if(e<t||e>r||e!==o(e))throw Error(a+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function f(e){var t=e.c.length-1;return l(e.e/14)==t&&e.c[t]%2!=0}function h(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function m(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(n=e.length,++t>n){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}(r=function e(t){var r,g,y,b,_,w,v,k,A,S=F.prototype={constructor:F,toString:null,valueOf:null},I=new F(1),E=20,T=4,x=-7,P=21,O=-1e7,B=1e7,C=!1,R=1,M=0,L={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},N="0123456789abcdefghijklmnopqrstuvwxyz",D=!0;function F(e,t){var r,i,a,u,l,c,d,f,h=this;if(!(h instanceof F))return new F(e,t);if(null==t){if(e&&!0===e._isBigNumber){h.s=e.s,!e.c||e.e>B?h.c=h.e=null:e.e<O?h.c=[h.e=0]:(h.e=e.e,h.c=e.c.slice());return}if((c="number"==typeof e)&&0*e==0){if(h.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,l=e;l>=10;l/=10,u++);u>B?h.c=h.e=null:(h.e=u,h.c=[e]);return}f=String(e)}else{if(!n.test(f=String(e)))return A(h,f,c);h.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(u=f.indexOf("."))>-1&&(f=f.replace(".","")),(l=f.search(/e/i))>0?(u<0&&(u=l),u+=+f.slice(l+1),f=f.substring(0,l)):u<0&&(u=f.length)}else{if(p(t,2,N.length,"Base"),10==t&&D)return W(h=new F(e),E+h.e+1,T);if(f=String(e),c="number"==typeof e){if(0*e!=0)return A(h,f,c,t);if(h.s=1/e<0?(f=f.slice(1),-1):1,F.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(s+e)}else h.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(r=N.slice(0,t),u=l=0,d=f.length;l<d;l++)if(0>r.indexOf(i=f.charAt(l))){if("."==i){if(l>u){u=d;continue}}else if(!a&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){a=!0,l=-1,u=0;continue}return A(h,String(e),c,t)}c=!1,(u=(f=k(f,t,10,h.s)).indexOf("."))>-1?f=f.replace(".",""):u=f.length}for(l=0;48===f.charCodeAt(l);l++);for(d=f.length;48===f.charCodeAt(--d););if(f=f.slice(l,++d)){if(d-=l,c&&F.DEBUG&&d>15&&(e>9007199254740991||e!==o(e)))throw Error(s+h.s*e);if((u=u-l-1)>B)h.c=h.e=null;else if(u<O)h.c=[h.e=0];else{if(h.e=u,h.c=[],l=(u+1)%14,u<0&&(l+=14),l<d){for(l&&h.c.push(+f.slice(0,l)),d-=14;l<d;)h.c.push(+f.slice(l,l+=14));l=14-(f=f.slice(l)).length}else l-=d;for(;l--;f+="0");h.c.push(+f)}}else h.c=[h.e=0]}function q(e,t,r,n){var i,o,a,s,u;if(null==r?r=T:p(r,0,8),!e.c)return e.toString();if(i=e.c[0],a=e.e,null==t)u=c(e.c),u=1==n||2==n&&(a<=x||a>=P)?h(u,a):m(u,a,"0");else if(o=(e=W(new F(e),t,r)).e,s=(u=c(e.c)).length,1==n||2==n&&(t<=o||o<=x)){for(;s<t;u+="0",s++);u=h(u,o)}else if(t-=a,u=m(u,o,"0"),o+1>s){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=o-s)>0)for(o+1==s&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function U(e,t){for(var r,n,i=1,o=new F(e[0]);i<e.length;i++)(n=new F(e[i])).s&&(r=d(o,n))!==t&&(0!==r||o.s!==t)||(o=n);return o}function j(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+14*r-1)>B?e.c=e.e=null:r<O?e.c=[e.e=0]:(e.e=r,e.c=t),e}function W(e,t,r,n){var a,s,l,c,d,p,f,h=e.c;if(h){n:{for(a=1,c=h[0];c>=10;c/=10,a++);if((s=t-a)<0)s+=14,l=t,f=o((d=h[p=0])/u[a-l-1]%10);else if((p=i((s+1)/14))>=h.length){if(n){for(;h.length<=p;h.push(0));d=f=0,a=1,s%=14,l=s-14+1}else break n}else{for(a=1,d=c=h[p];c>=10;c/=10,a++);s%=14,f=(l=s-14+a)<0?0:o(d/u[a-l-1]%10)}if(n=n||t<0||null!=h[p+1]||(l<0?d:d%u[a-l-1]),n=r<4?(f||n)&&(0==r||r==(e.s<0?3:2)):f>5||5==f&&(4==r||n||6==r&&(s>0?l>0?d/u[a-l]:0:h[p-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,n?(t-=e.e+1,h[0]=u[(14-t%14)%14],e.e=-t||0):h[0]=e.e=0,e;if(0==s?(h.length=p,c=1,p--):(h.length=p+1,c=u[14-s],h[p]=l>0?o(d/u[a-l]%u[l])*c:0),n)for(;;)if(0==p){for(s=1,l=h[0];l>=10;l/=10,s++);for(l=h[0]+=c,c=1;l>=10;l/=10,c++);s!=c&&(e.e++,1e14==h[0]&&(h[0]=1));break}else{if(h[p]+=c,1e14!=h[p])break;h[p--]=0,c=1}for(s=h.length;0===h[--s];h.pop());}e.e>B?e.c=e.e=null:e.e<O&&(e.c=[e.e=0])}return e}function K(e){var t,r=e.e;return null===r?e.toString():(t=c(e.c),t=r<=x||r>=P?h(t,r):m(t,r,"0"),e.s<0?"-"+t:t)}return F.clone=e,F.ROUND_UP=0,F.ROUND_DOWN=1,F.ROUND_CEIL=2,F.ROUND_FLOOR=3,F.ROUND_HALF_UP=4,F.ROUND_HALF_DOWN=5,F.ROUND_HALF_EVEN=6,F.ROUND_HALF_CEIL=7,F.ROUND_HALF_FLOOR=8,F.EUCLID=9,F.config=F.set=function(e){var t,r;if(null!=e){if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(p(r=e[t],0,1e9,t),E=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(p(r=e[t],0,8,t),T=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(p(r[0],-1e9,0,t),p(r[1],0,1e9,t),x=r[0],P=r[1]):(p(r,-1e9,1e9,t),x=-(P=r<0?-r:r))),e.hasOwnProperty(t="RANGE")){if((r=e[t])&&r.pop)p(r[0],-1e9,-1,t),p(r[1],1,1e9,t),O=r[0],B=r[1];else if(p(r,-1e9,1e9,t),r)O=-(B=r<0?-r:r);else throw Error(a+t+" cannot be zero: "+r)}if(e.hasOwnProperty(t="CRYPTO")){if(!!(r=e[t])===r){if(r){if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))C=r;else throw C=!r,Error(a+"crypto unavailable")}else C=r}else throw Error(a+t+" not true or false: "+r)}if(e.hasOwnProperty(t="MODULO_MODE")&&(p(r=e[t],0,9,t),R=r),e.hasOwnProperty(t="POW_PRECISION")&&(p(r=e[t],0,1e9,t),M=r),e.hasOwnProperty(t="FORMAT")){if("object"==typeof(r=e[t]))L=r;else throw Error(a+t+" not an object: "+r)}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(a+t+" invalid: "+r);D="0123456789"==r.slice(0,10),N=r}}else throw Error(a+"Object expected: "+e)}return{DECIMAL_PLACES:E,ROUNDING_MODE:T,EXPONENTIAL_AT:[x,P],RANGE:[O,B],CRYPTO:C,MODULO_MODE:R,POW_PRECISION:M,FORMAT:L,ALPHABET:N}},F.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!F.DEBUG)return!0;var t,r,n=e.c,i=e.e,s=e.s;n:if("[object Array]"==({}).toString.call(n)){if((1===s||-1===s)&&i>=-1e9&&i<=1e9&&i===o(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break n}if((t=(i+1)%14)<1&&(t+=14),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=1e14||r!==o(r))break n;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(a+"Invalid BigNumber: "+e)},F.maximum=F.max=function(){return U(arguments,-1)},F.minimum=F.min=function(){return U(arguments,1)},F.random=(r=9007199254740992*Math.random()&2097151?function(){return o(9007199254740992*Math.random())}:function(){return(1073741824*Math.random()|0)*8388608+(8388608*Math.random()|0)},function(e){var t,n,s,l,c,d=0,f=[],h=new F(I);if(null==e?e=E:p(e,0,1e9),l=i(e/14),C){if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(l*=2));d<l;)(c=131072*t[d]+(t[d+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[d]=n[0],t[d+1]=n[1]):(f.push(c%1e14),d+=2);d=l/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(l*=7);d<l;)(c=(31&t[d])*281474976710656+1099511627776*t[d+1]+4294967296*t[d+2]+16777216*t[d+3]+(t[d+4]<<16)+(t[d+5]<<8)+t[d+6])>=9e15?crypto.randomBytes(7).copy(t,d):(f.push(c%1e14),d+=7);d=l/7}else throw C=!1,Error(a+"crypto unavailable")}if(!C)for(;d<l;)(c=r())<9e15&&(f[d++]=c%1e14);for(l=f[--d],e%=14,l&&e&&(c=u[14-e],f[d]=o(l/c)*c);0===f[d];f.pop(),d--);if(d<0)f=[s=0];else{for(s=-1;0===f[0];f.splice(0,1),s-=14);for(d=1,c=f[0];c>=10;c/=10,d++);d<14&&(s-=14-d)}return h.e=s,h.c=f,h}),F.sum=function(){for(var e=1,t=arguments,r=new F(t[0]);e<t.length;)r=r.plus(t[e++]);return r},k=function(){var e="0123456789";function t(e,t,r,n){for(var i,o,a=[0],s=0,u=e.length;s<u;){for(o=a.length;o--;a[o]*=t);for(a[0]+=n.indexOf(e.charAt(s++)),i=0;i<a.length;i++)a[i]>r-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/r|0,a[i]%=r)}return a.reverse()}return function(r,n,i,o,a){var s,u,l,d,p,f,h,g,y=r.indexOf("."),b=E,_=T;for(y>=0&&(d=M,M=0,r=r.replace(".",""),f=(g=new F(n)).pow(r.length-y),M=d,g.c=t(m(c(f.c),f.e,"0"),10,i,e),g.e=g.c.length),l=d=(h=t(r,n,i,a?(s=N,e):(s=e,N))).length;0==h[--d];h.pop());if(!h[0])return s.charAt(0);if(y<0?--l:(f.c=h,f.e=l,f.s=o,h=(f=v(f,g,b,_,i)).c,p=f.r,l=f.e),y=h[u=l+b+1],d=i/2,p=p||u<0||null!=h[u+1],p=_<4?(null!=y||p)&&(0==_||_==(f.s<0?3:2)):y>d||y==d&&(4==_||p||6==_&&1&h[u-1]||_==(f.s<0?8:7)),u<1||!h[0])r=p?m(s.charAt(1),-b,s.charAt(0)):s.charAt(0);else{if(h.length=u,p)for(--i;++h[--u]>i;)h[u]=0,u||(++l,h=[1].concat(h));for(d=h.length;!h[--d];);for(y=0,r="";y<=d;r+=s.charAt(h[y++]));r=m(r,l,s.charAt(0))}return r}}(),v=function(){function e(e,t,r){var n,i,o,a,s=0,u=e.length,l=t%1e7,c=t/1e7|0;for(e=e.slice();u--;)n=c*(o=e[u]%1e7)+(a=e[u]/1e7|0)*l,s=((i=l*o+n%1e7*1e7+s)/r|0)+(n/1e7|0)+c*a,e[u]=i%r;return s&&(e=[s].concat(e)),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,a,s,u){var c,d,p,f,h,m,g,y,b,_,w,v,k,A,S,I,E,T=n.s==i.s?1:-1,x=n.c,P=i.c;if(!x||!x[0]||!P||!P[0])return new F(n.s&&i.s&&(x?!P||x[0]!=P[0]:P)?x&&0==x[0]||!P?0*T:T/0:NaN);for(b=(y=new F(T)).c=[],T=a+(d=n.e-i.e)+1,u||(u=1e14,d=l(n.e/14)-l(i.e/14),T=T/14|0),p=0;P[p]==(x[p]||0);p++);if(P[p]>(x[p]||0)&&d--,T<0)b.push(1),f=!0;else{for(A=x.length,I=P.length,p=0,T+=2,(h=o(u/(P[0]+1)))>1&&(P=e(P,h,u),x=e(x,h,u),I=P.length,A=x.length),k=I,w=(_=x.slice(0,I)).length;w<I;_[w++]=0);E=[0].concat(E=P.slice()),S=P[0],P[1]>=u/2&&S++;do{if(h=0,(c=t(P,_,I,w))<0){if(v=_[0],I!=w&&(v=v*u+(_[1]||0)),(h=o(v/S))>1)for(h>=u&&(h=u-1),g=(m=e(P,h,u)).length,w=_.length;1==t(m,_,g,w);)h--,r(m,I<g?E:P,g,u),g=m.length,c=1;else 0==h&&(c=h=1),g=(m=P.slice()).length;if(g<w&&(m=[0].concat(m)),r(_,m,w,u),w=_.length,-1==c)for(;1>t(P,_,I,w);)h++,r(_,I<w?E:P,w,u),w=_.length}else 0===c&&(h++,_=[0]);b[p++]=h,_[0]?_[w++]=x[k]||0:(_=[x[k]],w=1)}while((k++<A||null!=_[0])&&T--)f=null!=_[0],b[0]||b.splice(0,1)}if(1e14==u){for(p=1,T=b[0];T>=10;T/=10,p++);W(y,a+(y.e=p+14*d-1)+1,s,f)}else y.e=d,y.r=+f;return y}}(),g=/^(-?)0([xbo])(?=\w[\w.]*$)/i,y=/^([^.]+)\.$/,b=/^\.([^.]+)$/,_=/^-?(Infinity|NaN)$/,w=/^\s*\+(?=[\w.])|^\s+|\s+$/g,A=function(e,t,r,n){var i,o=r?t:t.replace(w,"");if(_.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(g,function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t}),n&&(i=n,o=o.replace(y,"$1").replace(b,"0.$1")),t!=o))return new F(o,i);if(F.DEBUG)throw Error(a+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},S.absoluteValue=S.abs=function(){var e=new F(this);return e.s<0&&(e.s=1),e},S.comparedTo=function(e,t){return d(this,new F(e,t))},S.decimalPlaces=S.dp=function(e,t){var r,n,i;if(null!=e)return p(e,0,1e9),null==t?t=T:p(t,0,8),W(new F(this),e+this.e+1,t);if(!(r=this.c))return null;if(n=((i=r.length-1)-l(this.e/14))*14,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},S.dividedBy=S.div=function(e,t){return v(this,new F(e,t),E,T)},S.dividedToIntegerBy=S.idiv=function(e,t){return v(this,new F(e,t),0,1)},S.exponentiatedBy=S.pow=function(e,t){var r,n,s,u,l,c,d,p,h,m=this;if((e=new F(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+K(e));if(null!=t&&(t=new F(t)),c=e.e>14,!m.c||!m.c[0]||1==m.c[0]&&!m.e&&1==m.c.length||!e.c||!e.c[0])return h=new F(Math.pow(+K(m),c?e.s*(2-f(e)):+K(e))),t?h.mod(t):h;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new F(NaN);(n=!d&&m.isInteger()&&t.isInteger())&&(m=m.mod(t))}else{if(e.e>9&&(m.e>0||m.e<-1||(0==m.e?m.c[0]>1||c&&m.c[1]>=24e7:m.c[0]<8e13||c&&m.c[0]<=9999975e7)))return u=m.s<0&&f(e)?-0:0,m.e>-1&&(u=1/u),new F(d?1/u:u);M&&(u=i(M/14+2))}for(c?(r=new F(.5),d&&(e.s=1),p=f(e)):p=(s=Math.abs(+K(e)))%2,h=new F(I);;){if(p){if(!(h=h.times(m)).c)break;u?h.c.length>u&&(h.c.length=u):n&&(h=h.mod(t))}if(s){if(0===(s=o(s/2)))break;p=s%2}else if(W(e=e.times(r),e.e+1,1),e.e>14)p=f(e);else{if(0==(s=+K(e)))break;p=s%2}m=m.times(m),u?m.c&&m.c.length>u&&(m.c.length=u):n&&(m=m.mod(t))}return n?h:(d&&(h=I.div(h)),t?h.mod(t):u?W(h,M,T,l):h)},S.integerValue=function(e){var t=new F(this);return null==e?e=T:p(e,0,8),W(t,t.e+1,e)},S.isEqualTo=S.eq=function(e,t){return 0===d(this,new F(e,t))},S.isFinite=function(){return!!this.c},S.isGreaterThan=S.gt=function(e,t){return d(this,new F(e,t))>0},S.isGreaterThanOrEqualTo=S.gte=function(e,t){return 1===(t=d(this,new F(e,t)))||0===t},S.isInteger=function(){return!!this.c&&l(this.e/14)>this.c.length-2},S.isLessThan=S.lt=function(e,t){return 0>d(this,new F(e,t))},S.isLessThanOrEqualTo=S.lte=function(e,t){return -1===(t=d(this,new F(e,t)))||0===t},S.isNaN=function(){return!this.s},S.isNegative=function(){return this.s<0},S.isPositive=function(){return this.s>0},S.isZero=function(){return!!this.c&&0==this.c[0]},S.minus=function(e,t){var r,n,i,o,a=this.s;if(t=(e=new F(e,t)).s,!a||!t)return new F(NaN);if(a!=t)return e.s=-t,this.plus(e);var s=this.e/14,u=e.e/14,c=this.c,d=e.c;if(!s||!u){if(!c||!d)return c?(e.s=-t,e):new F(d?this:NaN);if(!c[0]||!d[0])return d[0]?(e.s=-t,e):new F(c[0]?this:3==T?-0:0)}if(s=l(s),u=l(u),c=c.slice(),a=s-u){for((o=a<0)?(a=-a,i=c):(u=s,i=d),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(o=(a=c.length)<(t=d.length))?a:t,a=t=0;t<n;t++)if(c[t]!=d[t]){o=c[t]<d[t];break}if(o&&(i=c,c=d,d=i,e.s=-e.s),(t=(n=d.length)-(r=c.length))>0)for(;t--;c[r++]=0);for(t=1e14-1;n>a;){if(c[--n]<d[n]){for(r=n;r&&!c[--r];c[r]=t);--c[r],c[n]+=1e14}c[n]-=d[n]}for(;0==c[0];c.splice(0,1),--u);return c[0]?j(e,c,u):(e.s=3==T?-1:1,e.c=[e.e=0],e)},S.modulo=S.mod=function(e,t){var r,n;return(e=new F(e,t),this.c&&e.s&&(!e.c||e.c[0]))?e.c&&(!this.c||this.c[0])?(9==R?(n=e.s,e.s=1,r=v(this,e,0,3),e.s=n,r.s*=n):r=v(this,e,0,R),(e=this.minus(r.times(e))).c[0]||1!=R||(e.s=this.s),e):new F(this):new F(NaN)},S.multipliedBy=S.times=function(e,t){var r,n,i,o,a,s,u,c,d,p,f,h,m,g=this.c,y=(e=new F(e,t)).c;if(!g||!y||!g[0]||!y[0])return this.s&&e.s&&(!g||g[0]||y)&&(!y||y[0]||g)?(e.s*=this.s,g&&y?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(n=l(this.e/14)+l(e.e/14),e.s*=this.s,(u=g.length)<(p=y.length)&&(m=g,g=y,y=m,i=u,u=p,p=i),i=u+p,m=[];i--;m.push(0));for(i=p;--i>=0;){for(r=0,f=y[i]%1e7,h=y[i]/1e7|0,o=i+(a=u);o>i;)s=h*(c=g[--a]%1e7)+(d=g[a]/1e7|0)*f,r=((c=f*c+s%1e7*1e7+m[o]+r)/1e14|0)+(s/1e7|0)+h*d,m[o--]=c%1e14;m[o]=r}return r?++n:m.splice(0,1),j(e,m,n)},S.negated=function(){var e=new F(this);return e.s=-e.s||null,e},S.plus=function(e,t){var r,n=this.s;if(t=(e=new F(e,t)).s,!n||!t)return new F(NaN);if(n!=t)return e.s=-t,this.minus(e);var i=this.e/14,o=e.e/14,a=this.c,s=e.c;if(!i||!o){if(!a||!s)return new F(n/0);if(!a[0]||!s[0])return s[0]?e:new F(a[0]?this:0*n)}if(i=l(i),o=l(o),a=a.slice(),n=i-o){for(n>0?(o=i,r=s):(n=-n,r=a),r.reverse();n--;r.push(0));r.reverse()}for((n=a.length)-(t=s.length)<0&&(r=s,s=a,a=r,t=n),n=0;t;)n=(a[--t]=a[t]+s[t]+n)/1e14|0,a[t]=1e14===a[t]?0:a[t]%1e14;return n&&(a=[n].concat(a),++o),j(e,a,o)},S.precision=S.sd=function(e,t){var r,n,i;if(null!=e&&!!e!==e)return p(e,1,1e9),null==t?t=T:p(t,0,8),W(new F(this),e,t);if(!(r=this.c))return null;if(n=14*(i=r.length-1)+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&this.e+1>n&&(n=this.e+1),n},S.shiftedBy=function(e){return p(e,-9007199254740991,9007199254740991),this.times("1e"+e)},S.squareRoot=S.sqrt=function(){var e,t,r,n,i,o=this.c,a=this.s,s=this.e,u=E+4,d=new F("0.5");if(1!==a||!o||!o[0])return new F(!a||a<0&&(!o||o[0])?NaN:o?this:1/0);if(0==(a=Math.sqrt(+K(this)))||a==1/0?(((t=c(o)).length+s)%2==0&&(t+="0"),a=Math.sqrt(+t),s=l((s+1)/2)-(s<0||s%2),r=new F(t=a==1/0?"5e"+s:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+s)):r=new F(a+""),r.c[0]){for((a=(s=r.e)+u)<3&&(a=0);;)if(i=r,r=d.times(i.plus(v(this,i,u,1))),c(i.c).slice(0,a)===(t=c(r.c)).slice(0,a)){if(r.e<s&&--a,"9999"!=(t=t.slice(a-3,a+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(W(r,r.e+E+2,1),e=!r.times(r).eq(this));break}if(!n&&(W(i,i.e+E+2,0),i.times(i).eq(this))){r=i;break}u+=4,a+=4,n=1}}return W(r,r.e+E+1,T,e)},S.toExponential=function(e,t){return null!=e&&(p(e,0,1e9),e++),q(this,e,t,1)},S.toFixed=function(e,t){return null!=e&&(p(e,0,1e9),e=e+this.e+1),q(this,e,t)},S.toFormat=function(e,t,r){var n;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=L;else if("object"!=typeof r)throw Error(a+"Argument not an object: "+r);if(n=this.toFixed(e,t),this.c){var i,o=n.split("."),s=+r.groupSize,u=+r.secondaryGroupSize,l=r.groupSeparator||"",c=o[0],d=o[1],p=this.s<0,f=p?c.slice(1):c,h=f.length;if(u&&(i=s,s=u,u=i,h-=i),s>0&&h>0){for(i=h%s||s,c=f.substr(0,i);i<h;i+=s)c+=l+f.substr(i,s);u>0&&(c+=l+f.slice(i)),p&&(c="-"+c)}n=d?c+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?d.replace(RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):d):c}return(r.prefix||"")+n+(r.suffix||"")},S.toFraction=function(e){var t,r,n,i,o,s,l,d,p,f,h,m,g=this.c;if(null!=e&&(!(l=new F(e)).isInteger()&&(l.c||1!==l.s)||l.lt(I)))throw Error(a+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+K(l));if(!g)return new F(this);for(t=new F(I),p=r=new F(I),n=d=new F(I),m=c(g),o=t.e=m.length-this.e-1,t.c[0]=u[(s=o%14)<0?14+s:s],e=!e||l.comparedTo(t)>0?o>0?t:p:l,s=B,B=1/0,l=new F(m),d.c[0]=0;f=v(l,t,0,1),1!=(i=r.plus(f.times(n))).comparedTo(e);)r=n,n=i,p=d.plus(f.times(i=p)),d=i,t=l.minus(f.times(i=t)),l=i;return i=v(e.minus(r),n,0,1),d=d.plus(i.times(p)),r=r.plus(i.times(n)),d.s=p.s=this.s,o*=2,h=1>v(p,n,o,T).minus(this).abs().comparedTo(v(d,r,o,T).minus(this).abs())?[p,n]:[d,r],B=s,h},S.toNumber=function(){return+K(this)},S.toPrecision=function(e,t){return null!=e&&p(e,1,1e9),q(this,e,t,2)},S.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=i<=x||i>=P?h(c(r.c),i):m(c(r.c),i,"0"):10===e&&D?t=m(c((r=W(new F(r),E+i+1,T)).c),r.e,"0"):(p(e,2,N.length,"Base"),t=k(m(c(r.c),i,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},S.valueOf=S.toJSON=function(){return K(this)},S._isBigNumber=!0,null!=t&&F.set(t),F}()).default=r.BigNumber=r,"function"==typeof e&&e.amd?e(function(){return r}):S8?S8=r:(t||(t="undefined"!=typeof self&&self?self:window),t.BigNumber=r)})(S8),new(ed(S8))("1e+18");let S3=e=>{let t=(0,ph.u8)(e),{encode:r,decode:n}=SJ(t);return t.decode=(e,t)=>{let r=n(e,t);return!!r},t.encode=(e,t,n)=>{let i=Number(e);return r(i,t,n)},t},S9=e=>{let t=(0,ph.blob)(32,e),{encode:r,decode:n}=SJ(t);return t.decode=(e,t)=>{let r=n(e,t);return new ho(r)},t.encode=(e,t,n)=>{let i=e.toBuffer();return r(i,t,n)},t};class S7 extends Error{constructor(e){super(e)}}class Ie extends S7{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class It extends S7{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class Ir extends S7{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class In extends S7{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class Ii extends S7{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}class Io extends S7{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}(Pu=PV||(PV={}))[Pu.Uninitialized=0]="Uninitialized",Pu[Pu.Mint=1]="Mint",Pu[Pu.Account=2]="Account";let Ia=(0,ph.struct)([(0,ph.u8)("m"),(0,ph.u8)("n"),S3("isInitialized"),S9("signer1"),S9("signer2"),S9("signer3"),S9("signer4"),S9("signer5"),S9("signer6"),S9("signer7"),S9("signer8"),S9("signer9"),S9("signer10"),S9("signer11")]),Is=Ia.span;var ds=eh("acDaE"),Iu=ds.Buffer;(Pl=PH||(PH={}))[Pl.Uninitialized=0]="Uninitialized",Pl[Pl.Initialized=1]="Initialized",Pl[Pl.Frozen=2]="Frozen";let Il=(0,ph.struct)([S9("mint"),S9("owner"),S5("amount"),(0,ph.u32)("delegateOption"),S9("delegate"),(0,ph.u8)("state"),(0,ph.u32)("isNativeOption"),S5("isNative"),S5("delegatedAmount"),(0,ph.u32)("closeAuthorityOption"),S9("closeAuthority")]),Ic=Il.span;async function Id(e,t,r,n=SX){let i=await e.getAccountInfo(t,r);return function(e,t,r=SX){if(!t)throw new Ie;if(!t.owner.equals(r))throw new Ir;if(t.data.length<Ic)throw new In;let n=Il.decode(t.data.slice(0,Ic)),i=Iu.alloc(0);if(t.data.length>Ic){if(t.data.length===Is)throw new In;if(t.data[Ic]!=PV.Account)throw new It;i=t.data.slice(Ic+1)}return{address:e,mint:n.mint,owner:n.owner,amount:n.amount,delegate:n.delegateOption?n.delegate:null,delegatedAmount:n.delegatedAmount,isInitialized:n.state!==PH.Uninitialized,isFrozen:n.state===PH.Frozen,isNative:!!n.isNativeOption,rentExemptReserve:n.isNativeOption?n.isNative:null,closeAuthority:n.closeAuthorityOption?n.closeAuthority:null,tlvData:i}}(t,i,n)}let Ip=(0,ph.struct)([S3("lockCpi")]);Ip.span;let If=(0,ph.struct)([(0,ph.u8)("state")]);function Ih([e,t]){return`${e}=${function e(t){if(Array.isArray(t)){let r=t.map(e).join("%2C%20");return"%5B"+r+"%5D"}return"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}If.span;var Im=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,n;if(t){let{cause:e,...i}=t;e&&(n={cause:e}),Object.keys(i).length>0&&(r=i)}let i=function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${function(e){let t=Object.entries(e).map(Ih).join("&");return btoa(t)}(t)}'`),`${r}\``}}(e,r);super(i,n),this.context={__code:e,...r},this.name="SolanaError"}},Ig=(e,t)=>{if(e.length>=t)return e;let r=new Uint8Array(t).fill(0);return r.set(e),r},Iy=(e,t)=>Ig(e.length<=t?e:e.slice(0,t),t);function Ib(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function I_(e){return Object.freeze({...e,encode:t=>{let r=new Uint8Array(Ib(t,e));return e.write(t,r,0),r}})}function Iw(e){return Object.freeze({...e,decode:(t,r=0)=>e.read(t,r)[0]})}function Iv(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function Ik(e,t){if(Iv(e)!==Iv(t))throw new Im(8078004);if(Iv(e)&&Iv(t)&&e.fixedSize!==t.fixedSize)throw new Im(8078005,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!Iv(e)&&!Iv(t)&&e.maxSize!==t.maxSize)throw new Im(8078006,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function IA(e,t,r,n=0){let i=r.length-n;if(i<t)throw new Im(8078001,{bytesLength:i,codecDescription:e,expected:t})}function IS(e,t){return Ik(I_({fixedSize:t,write:(r,n,i)=>{let o=e.encode(r),a=o.length>t?o.slice(0,t):o;return n.set(a,i),i+t}}),Iw({fixedSize:t,read:(r,n)=>{IA("fixCodecSize",t,r,n),(n>0||r.length>t)&&(r=r.slice(n,n+t)),Iv(e)&&(r=Iy(r,e.fixedSize));let[i]=e.read(r,0);return[i,n+t]}}))}var II=((Pc=II||{})[Pc.Little=0]="Little",Pc[Pc.Big=1]="Big",Pc);function IE(e){return e?.endian!==1}var IT=(e={})=>{var t;return I_({fixedSize:(t={config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}).size,write(e,r,n){t.range&&function(e,t,r,n){if(n<t||n>r)throw new Im(8078011,{codecDescription:e,max:r,min:t,value:n})}(t.name,t.range[0],t.range[1],e);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,IE(t.config)),r.set(new Uint8Array(i),n),n+t.size}})},Ix=(e={})=>{var t;return Iw({fixedSize:(t={config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}).size,read(e,r=0){(function(e,t,r=0){if(t.length-r<=0)throw new Im(8078e3,{codecDescription:e})})(t.name,e,r),IA(t.name,t.size,e,r);let n=new DataView(function(e,t,r){let n=e.byteOffset+(t??0),i=r??e.byteLength;return e.buffer.slice(n,n+i)}(e,r,t.size));return[t.get(n,IE(t.config)),r+t.size]}})},IP=(e={})=>Ik(IT(e),Ix(e));function IO(e){return e.reduce((e,t)=>null===e||null===t?null:e+t,0)}function IB(e){return Iv(e)?e.fixedSize:null}function IC(e){return Iv(e)?e.fixedSize:e.maxSize??null}function IR(){return Ik(I_({getSizeFromValue:e=>e.length,write:(e,t,r)=>(t.set(e,r),r+e.length)}),Iw({read:(e,t)=>{let r=e.slice(t);return[r,t+r.length]}}))}function IM(e){return Ik(function(e){let t=e.map(([,e])=>e),r=IO(t.map(IB)),n=IO(t.map(IC))??void 0;return I_({...null===r?{getSizeFromValue:t=>e.map(([e,r])=>Ib(t[e],r)).reduce((e,t)=>e+t,0),maxSize:n}:{fixedSize:r},write:(t,r,n)=>(e.forEach(([e,i])=>{n=i.write(t[e],r,n)}),n)})}(e),function(e){let t=e.map(([,e])=>e),r=IO(t.map(IB)),n=IO(t.map(IC))??void 0;return Iw({...null===r?{maxSize:n}:{fixedSize:r},read:(t,r)=>{let n={};return e.forEach(([e,i])=>{let[o,a]=i.read(t,r);r=a,n[e]=o}),[n,r]}})}(e))}let IL=IM([["mint",IS(IR(),32)],["group",IS(IR(),32)],["memberNumber",IP()]]);IL.fixedSize;let IN=IM([["updateAuthority",IS(IR(),32)],["mint",IS(IR(),32)],["size",IP()],["maxSize",IP()]]);IN.fixedSize;let ID=(0,ph.struct)([S9("authority"),S9("memberAddress")]);ID.span;let IF=(0,ph.struct)([S9("authority"),S9("groupAddress")]);IF.span;let Iq=(0,ph.struct)([]);Iq.span;let IU=(0,ph.struct)([S9("rateAuthority"),(0,ph.ns64)("initializationTimestamp"),(0,ph.s16)("preUpdateAverageRate"),(0,ph.ns64)("lastUpdateTimestamp"),(0,ph.s16)("currentRate")]);IU.span;let Ij=(0,ph.struct)([S3("requireIncomingTransferMemos")]);Ij.span;let IW=(0,ph.struct)([S9("authority"),S9("metadataAddress")]);IW.span;let IK=(0,ph.struct)([S9("closeAuthority")]);IK.span;let Iz=(0,ph.struct)([]);Iz.span,Iz.span;let IV=(0,ph.struct)([S9("authority"),S3("paused")]);IV.span;let IH=(0,ph.struct)([]);IH.span;let IG=(0,ph.struct)([S9("delegate")]);IG.span;let I$=(0,ph.struct)([S9("authority"),(0,ph.f64)("multiplier"),S5("newMultiplierEffectiveTimestamp"),(0,ph.f64)("newMultiplier")]);I$.span;let IX=BigInt(1e4);function IZ(e){return(0,ph.struct)([S5("epoch"),S5("maximumFee"),(0,ph.u16)("transferFeeBasisPoints")],e)}function IQ(e,t){let r=e.transferFeeBasisPoints;if(0===r||t===BigInt(0))return BigInt(0);{let n=t*BigInt(r),i=(n+IX-BigInt(1))/IX,o=i>e.maximumFee?e.maximumFee:i;return BigInt(o)}}let IY=(0,ph.struct)([S9("transferFeeConfigAuthority"),S9("withdrawWithheldAuthority"),S5("withheldAmount"),IZ("olderTransferFee"),IZ("newerTransferFee")]);function IJ(e,t){return t>=e.newerTransferFee.epoch?e.newerTransferFee:e.olderTransferFee}IY.span;let I1=(0,ph.struct)([S5("withheldAmount")]);function I0(e){let t=function(e,t){let r=0;for(;r+2+2<=t.length;){let n=t.readUInt16LE(r),i=t.readUInt16LE(r+2),o=r+2+2;if(n==e)return t.slice(o,o+i);r=o+i}return null}(PG.TransferFeeConfig,e.tlvData);return null!==t?IY.decode(t):null}I1.span;var ds=eh("acDaE");ds.Buffer;var ds=eh("acDaE");ds.Buffer;let I2=(0,ph.struct)([S9("authority"),S9("programId")]);I2.span;let I6=(0,ph.struct)([S3("transferring")]);I6.span;let I4=(0,ph.struct)([(0,ph.u8)("discriminator"),(0,ph.blob)(32,"addressConfig"),S3("isSigner"),S3("isWritable")]),I5=(0,ph.struct)([(0,ph.u32)("count"),(0,ph.seq)(I4,(0,ph.greedy)(I4.span),"extraAccounts")]);(0,ph.struct)([S5("instructionDiscriminator"),(0,ph.u32)("length"),I5.replicate("extraAccountsList")]),(Pd=PG||(PG={}))[Pd.Uninitialized=0]="Uninitialized",Pd[Pd.TransferFeeConfig=1]="TransferFeeConfig",Pd[Pd.TransferFeeAmount=2]="TransferFeeAmount",Pd[Pd.MintCloseAuthority=3]="MintCloseAuthority",Pd[Pd.ConfidentialTransferMint=4]="ConfidentialTransferMint",Pd[Pd.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",Pd[Pd.DefaultAccountState=6]="DefaultAccountState",Pd[Pd.ImmutableOwner=7]="ImmutableOwner",Pd[Pd.MemoTransfer=8]="MemoTransfer",Pd[Pd.NonTransferable=9]="NonTransferable",Pd[Pd.InterestBearingConfig=10]="InterestBearingConfig",Pd[Pd.CpiGuard=11]="CpiGuard",Pd[Pd.PermanentDelegate=12]="PermanentDelegate",Pd[Pd.NonTransferableAccount=13]="NonTransferableAccount",Pd[Pd.TransferHook=14]="TransferHook",Pd[Pd.TransferHookAccount=15]="TransferHookAccount",Pd[Pd.MetadataPointer=18]="MetadataPointer",Pd[Pd.TokenMetadata=19]="TokenMetadata",Pd[Pd.GroupPointer=20]="GroupPointer",Pd[Pd.TokenGroup=21]="TokenGroup",Pd[Pd.GroupMemberPointer=22]="GroupMemberPointer",Pd[Pd.TokenGroupMember=23]="TokenGroupMember",Pd[Pd.ScaledUiAmountConfig=25]="ScaledUiAmountConfig",Pd[Pd.PausableConfig=26]="PausableConfig",Pd[Pd.PausableAccount=27]="PausableAccount";var ds=eh("acDaE"),I8=ds.Buffer;let I3=(0,ph.struct)([(0,ph.u32)("mintAuthorityOption"),S9("mintAuthority"),S5("supply"),(0,ph.u8)("decimals"),S3("isInitialized"),(0,ph.u32)("freezeAuthorityOption"),S9("freezeAuthority")]),I9=I3.span;async function I7(e,t,r=!1,n=SX,i=SQ){if(!r&&!ho.isOnCurve(t.toBuffer()))throw new Io;let[o]=await ho.findProgramAddress([t.toBuffer(),n.toBuffer(),e.toBuffer()],i);return o}function Ee(e,t,r=!1,n=SX,i=SQ){if(!r&&!ho.isOnCurve(t.toBuffer()))throw new Io;let[o]=ho.findProgramAddressSync([t.toBuffer(),n.toBuffer(),e.toBuffer()],i);return o}var ds=eh("acDaE"),Et=ds.Buffer;function Er(e,t,r,n,i=SX,o=SQ){return function(e,t,r,n,i,o=SX,a=SQ){let s=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:hV.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return new hI({keys:s,programId:a,data:i})}(e,t,r,n,Et.from([1]),i,o)}function En(e,t,r){if(r.length)for(let n of(e.push({pubkey:t,isSigner:!1,isWritable:!1}),r))e.push({pubkey:n instanceof ho?n:n.publicKey,isSigner:!0,isWritable:!1});else e.push({pubkey:t,isSigner:!0,isWritable:!1});return e}(Pp=P$||(P$={}))[Pp.InitializeMint=0]="InitializeMint",Pp[Pp.InitializeAccount=1]="InitializeAccount",Pp[Pp.InitializeMultisig=2]="InitializeMultisig",Pp[Pp.Transfer=3]="Transfer",Pp[Pp.Approve=4]="Approve",Pp[Pp.Revoke=5]="Revoke",Pp[Pp.SetAuthority=6]="SetAuthority",Pp[Pp.MintTo=7]="MintTo",Pp[Pp.Burn=8]="Burn",Pp[Pp.CloseAccount=9]="CloseAccount",Pp[Pp.FreezeAccount=10]="FreezeAccount",Pp[Pp.ThawAccount=11]="ThawAccount",Pp[Pp.TransferChecked=12]="TransferChecked",Pp[Pp.ApproveChecked=13]="ApproveChecked",Pp[Pp.MintToChecked=14]="MintToChecked",Pp[Pp.BurnChecked=15]="BurnChecked",Pp[Pp.InitializeAccount2=16]="InitializeAccount2",Pp[Pp.SyncNative=17]="SyncNative",Pp[Pp.InitializeAccount3=18]="InitializeAccount3",Pp[Pp.InitializeMultisig2=19]="InitializeMultisig2",Pp[Pp.InitializeMint2=20]="InitializeMint2",Pp[Pp.GetAccountDataSize=21]="GetAccountDataSize",Pp[Pp.InitializeImmutableOwner=22]="InitializeImmutableOwner",Pp[Pp.AmountToUiAmount=23]="AmountToUiAmount",Pp[Pp.UiAmountToAmount=24]="UiAmountToAmount",Pp[Pp.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",Pp[Pp.TransferFeeExtension=26]="TransferFeeExtension",Pp[Pp.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",Pp[Pp.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",Pp[Pp.Reallocate=29]="Reallocate",Pp[Pp.MemoTransferExtension=30]="MemoTransferExtension",Pp[Pp.CreateNativeMint=31]="CreateNativeMint",Pp[Pp.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",Pp[Pp.InterestBearingMintExtension=33]="InterestBearingMintExtension",Pp[Pp.CpiGuardExtension=34]="CpiGuardExtension",Pp[Pp.InitializePermanentDelegate=35]="InitializePermanentDelegate",Pp[Pp.TransferHookExtension=36]="TransferHookExtension",Pp[Pp.MetadataPointerExtension=39]="MetadataPointerExtension",Pp[Pp.GroupPointerExtension=40]="GroupPointerExtension",Pp[Pp.GroupMemberPointerExtension=41]="GroupMemberPointerExtension",Pp[Pp.ScaledUiAmountExtension=43]="ScaledUiAmountExtension",Pp[Pp.PausableExtension=44]="PausableExtension";var ds=eh("acDaE"),Ei=ds.Buffer;let Eo=(0,ph.struct)([(0,ph.u8)("instruction")]);function Ea(e,t,r,n=[],i=SX){let o=En([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],r,n),a=Ei.alloc(Eo.span);return Eo.encode({instruction:P$.CloseAccount},a),new hI({keys:o,programId:i,data:a})}var ds=eh("acDaE"),Es=ds.Buffer;let Eu=(0,ph.struct)([(0,ph.u8)("instruction")]);function El(e,t=SX){let r=Es.alloc(Eu.span);return Eu.encode({instruction:P$.SyncNative},r),new hI({keys:[{pubkey:e,isSigner:!1,isWritable:!0}],programId:t,data:r})}var Ec=eh("dZqUV");function Ed(e,t){return function(){return e.apply(t,arguments)}}var e3=eh("jcdBh");let{toString:Ep}=Object.prototype,{getPrototypeOf:Ef}=Object,{iterator:Eh,toStringTag:Em}=Symbol,Eg=(Pf=Object.create(null),e=>{let t=Ep.call(e);return Pf[t]||(Pf[t]=t.slice(8,-1).toLowerCase())}),Ey=e=>(e=e.toLowerCase(),t=>Eg(t)===e),Eb=e=>t=>typeof t===e,{isArray:E_}=Array,Ew=Eb("undefined"),Ev=Ey("ArrayBuffer"),Ek=Eb("string"),EA=Eb("function"),ES=Eb("number"),EI=e=>null!==e&&"object"==typeof e,EE=e=>{if("object"!==Eg(e))return!1;let t=Ef(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Em in e)&&!(Eh in e)},ET=Ey("Date"),Ex=Ey("File"),EP=Ey("Blob"),EO=Ey("FileList"),EB=Ey("URLSearchParams"),[EC,ER,EM,EL]=["ReadableStream","Request","Response","Headers"].map(Ey);function EN(e,t,{allOwnKeys:r=!1}={}){let n,i;if(null!=e){if("object"!=typeof e&&(e=[e]),E_(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{let i;let o=r?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;for(n=0;n<a;n++)i=o[n],t.call(null,e[i],i,e)}}}function ED(e,t){let r;t=t.toLowerCase();let n=Object.keys(e),i=n.length;for(;i-- >0;)if(t===(r=n[i]).toLowerCase())return r;return null}let EF="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:ec,Eq=e=>!Ew(e)&&e!==EF,EU=(Ph="undefined"!=typeof Uint8Array&&Ef(Uint8Array),e=>Ph&&e instanceof Ph),Ej=Ey("HTMLFormElement"),EW=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),EK=Ey("RegExp"),Ez=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),n={};EN(r,(r,i)=>{let o;!1!==(o=t(r,i,e))&&(n[i]=o||r)}),Object.defineProperties(e,n)},EV=Ey("AsyncFunction"),EH=(xQ="function"==typeof setImmediate,xY=EA(EF.postMessage),xQ?setImmediate:xY?(xJ=`axios@${Math.random()}`,x1=[],EF.addEventListener("message",({source:e,data:t})=>{e===EF&&t===xJ&&x1.length&&x1.shift()()},!1),e=>{x1.push(e),EF.postMessage(xJ,"*")}):e=>setTimeout(e)),EG="undefined"!=typeof queueMicrotask?queueMicrotask.bind(EF):void 0!==e3&&e3.nextTick||EH;var E$={isArray:E_,isArrayBuffer:Ev,isBuffer:function(e){return null!==e&&!Ew(e)&&null!==e.constructor&&!Ew(e.constructor)&&EA(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||EA(e.append)&&("formdata"===(t=Eg(e))||"object"===t&&EA(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ev(e.buffer)},isString:Ek,isNumber:ES,isBoolean:e=>!0===e||!1===e,isObject:EI,isPlainObject:EE,isReadableStream:EC,isRequest:ER,isResponse:EM,isHeaders:EL,isUndefined:Ew,isDate:ET,isFile:Ex,isBlob:EP,isRegExp:EK,isFunction:EA,isStream:e=>EI(e)&&EA(e.pipe),isURLSearchParams:EB,isTypedArray:EU,isFileList:EO,forEach:EN,merge:function e(){let{caseless:t}=Eq(this)&&this||{},r={},n=(n,i)=>{let o=t&&ED(r,i)||i;EE(r[o])&&EE(n)?r[o]=e(r[o],n):EE(n)?r[o]=e({},n):E_(n)?r[o]=n.slice():r[o]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&EN(arguments[e],n);return r},extend:(e,t,r,{allOwnKeys:n}={})=>(EN(t,(t,n)=>{r&&EA(t)?e[n]=Ed(t,r):e[n]=t},{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,o,a;let s={};if(t=t||{},null==e)return t;do{for(o=(i=Object.getOwnPropertyNames(e)).length;o-- >0;)a=i[o],(!n||n(a,e,t))&&!s[a]&&(t[a]=e[a],s[a]=!0);e=!1!==r&&Ef(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype)return t},kindOf:Eg,kindOfTest:Ey,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;let n=e.indexOf(t,r);return -1!==n&&n===r},toArray:e=>{if(!e)return null;if(E_(e))return e;let t=e.length;if(!ES(t))return null;let r=Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{let r;let n=e&&e[Eh],i=n.call(e);for(;(r=i.next())&&!r.done;){let n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let r;let n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:Ej,hasOwnProperty:EW,hasOwnProp:EW,reduceDescriptors:Ez,freezeMethods:e=>{Ez(e,(t,r)=>{if(EA(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;let n=e[r];if(EA(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet:(e,t)=>{let r={};return(e=>{e.forEach(e=>{r[e]=!0})})(E_(e)?e:String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ED,global:EF,isContextDefined:Eq,isSpecCompliantForm:function(e){return!!(e&&EA(e.append)&&"FormData"===e[Em]&&e[Eh])},toJSONObject:e=>{let t=Array(10),r=(e,n)=>{if(EI(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;let i=E_(e)?[]:{};return EN(e,(e,t)=>{let o=r(e,n+1);Ew(o)||(i[t]=o)}),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn:EV,isThenable:e=>e&&(EI(e)||EA(e))&&EA(e.then)&&EA(e.catch),setImmediate:EH,asap:EG,isIterable:e=>null!=e&&EA(e[Eh])};function EX(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}E$.inherits(EX,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E$.toJSONObject(this.config),code:this.code,status:this.status}}});let EZ=EX.prototype,EQ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{EQ[e]={value:e}}),Object.defineProperties(EX,EQ),Object.defineProperty(EZ,"isAxiosError",{value:!0}),EX.from=(e,t,r,n,i,o)=>{let a=Object.create(EZ);return E$.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),EX.call(a,e.message,t,r,n,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};var ds=eh("acDaE"),EY=ds.Buffer;function EJ(e){return E$.isPlainObject(e)||E$.isArray(e)}function E1(e){return E$.endsWith(e,"[]")?e.slice(0,-2):e}function E0(e,t,r){return e?e.concat(t).map(function(e,t){return e=E1(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}let E2=E$.toFlatObject(E$,{},null,function(e){return/^is[A-Z]/.test(e)});var E6=function(e,t,r){if(!E$.isObject(e))throw TypeError("target must be an object");t=t||new FormData,r=E$.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!E$.isUndefined(t[e])});let n=r.metaTokens,i=r.visitor||c,o=r.dots,a=r.indexes,s=r.Blob||"undefined"!=typeof Blob&&Blob,u=s&&E$.isSpecCompliantForm(t);if(!E$.isFunction(i))throw TypeError("visitor must be a function");function l(e){if(null===e)return"";if(E$.isDate(e))return e.toISOString();if(E$.isBoolean(e))return e.toString();if(!u&&E$.isBlob(e))throw new EX("Blob is not supported. Use a Buffer instead.");return E$.isArrayBuffer(e)||E$.isTypedArray(e)?u&&"function"==typeof Blob?new Blob([e]):EY.from(e):e}function c(e,r,i){let s=e;if(e&&!i&&"object"==typeof e){if(E$.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else{var u;if(E$.isArray(e)&&(u=e,E$.isArray(u)&&!u.some(EJ))||(E$.isFileList(e)||E$.endsWith(r,"[]"))&&(s=E$.toArray(e)))return r=E1(r),s.forEach(function(e,n){E$.isUndefined(e)||null===e||t.append(!0===a?E0([r],n,o):null===a?r:r+"[]",l(e))}),!1}}return!!EJ(e)||(t.append(E0(i,r,o),l(e)),!1)}let d=[],p=Object.assign(E2,{defaultVisitor:c,convertValue:l,isVisitable:EJ});if(!E$.isObject(e))throw TypeError("data must be an object");return function e(r,n){if(!E$.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),E$.forEach(r,function(r,o){let a=!(E$.isUndefined(r)||null===r)&&i.call(t,r,E$.isString(o)?o.trim():o,n,p);!0===a&&e(r,n?n.concat(o):[o])}),d.pop()}}(e),t};function E4(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\x00"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function E5(e,t){this._pairs=[],e&&E6(e,this,t)}let E8=E5.prototype;function E3(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function E9(e,t,r){let n;if(!t)return e;let i=r&&r.encode||E3;E$.isFunction(r)&&(r={serialize:r});let o=r&&r.serialize;if(n=o?o(t,r):E$.isURLSearchParams(t)?t.toString():new E5(t,r).toString(i)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}E8.append=function(e,t){this._pairs.push([e,t])},E8.toString=function(e){let t=e?function(t){return e.call(this,t,E4)}:E4;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};var E7=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){E$.forEach(this.handlers,function(t){null!==t&&e(t)})}},Te={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tt="undefined"!=typeof URLSearchParams?URLSearchParams:E5,Tr="undefined"!=typeof FormData?FormData:null,Tn="undefined"!=typeof Blob?Blob:null,Ti={};v(Ti,"hasBrowserEnv",()=>To),v(Ti,"navigator",()=>Ta),v(Ti,"hasStandardBrowserEnv",()=>Ts),v(Ti,"hasStandardBrowserWebWorkerEnv",()=>Tu),v(Ti,"origin",()=>Tl);let To="undefined"!=typeof window&&"undefined"!=typeof document,Ta="object"==typeof navigator&&navigator||void 0,Ts=To&&(!Ta||0>["ReactNative","NativeScript","NS"].indexOf(Ta.product)),Tu="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Tl=To&&window.location.href||"http://localhost";var Tc={...Ti,isBrowser:!0,classes:{URLSearchParams:Tt,FormData:Tr,Blob:Tn},protocols:["http","https","file","blob","url","data"]},Td=function(e){if(E$.isFormData(e)&&E$.isFunction(e.entries)){let t={};return E$.forEachEntry(e,(e,r)=>{!function e(t,r,n,i){let o=t[i++];if("__proto__"===o)return!0;let a=Number.isFinite(+o),s=i>=t.length;if(o=!o&&E$.isArray(n)?n.length:o,s)return E$.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!a;n[o]&&E$.isObject(n[o])||(n[o]=[]);let u=e(t,r,n[o],i);return u&&E$.isArray(n[o])&&(n[o]=function(e){let t,r;let n={},i=Object.keys(e),o=i.length;for(t=0;t<o;t++)n[r=i[t]]=e[r];return n}(n[o])),!a}(E$.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),r,t,0)}),t}return null};let Tp={transitional:Te,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let r;let n=t.getContentType()||"",i=n.indexOf("application/json")>-1,o=E$.isObject(e);o&&E$.isHTMLForm(e)&&(e=new FormData(e));let a=E$.isFormData(e);if(a)return i?JSON.stringify(Td(e)):e;if(E$.isArrayBuffer(e)||E$.isBuffer(e)||E$.isStream(e)||E$.isFile(e)||E$.isBlob(e)||E$.isReadableStream(e))return e;if(E$.isArrayBufferView(e))return e.buffer;if(E$.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1){var s,u;return(s=e,u=this.formSerializer,E6(s,new Tc.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return Tc.isNode&&E$.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},u))).toString()}if((r=E$.isFileList(e))||n.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return E6(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),function(e,t,r){if(E$.isString(e))try{return(0,JSON.parse)(e),E$.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){let t=this.transitional||Tp.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(E$.isResponse(e)||E$.isReadableStream(e))return e;if(e&&E$.isString(e)&&(r&&!this.responseType||n)){let r=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!r&&n){if("SyntaxError"===e.name)throw EX.from(e,EX.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tc.classes.FormData,Blob:Tc.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E$.forEach(["delete","get","head","post","put","patch"],e=>{Tp.headers[e]={}});let Tf=E$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Th=e=>{let t,r,n;let i={};return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),t=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!t||i[t]&&Tf[t]||("set-cookie"===t?i[t]?i[t].push(r):i[t]=[r]:i[t]=i[t]?i[t]+", "+r:r)}),i};let Tm=Symbol("internals");function Tg(e){return e&&String(e).trim().toLowerCase()}function Ty(e){return!1===e||null==e?e:E$.isArray(e)?e.map(Ty):String(e)}let Tb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function T_(e,t,r,n,i){if(E$.isFunction(n))return n.call(this,t,r);if(i&&(t=r),E$.isString(t)){if(E$.isString(n))return -1!==t.indexOf(n);if(E$.isRegExp(n))return n.test(t)}}class Tw{constructor(e){e&&this.set(e)}set(e,t,r){let n=this;function i(e,t,r){let i=Tg(t);if(!i)throw Error("header name must be a non-empty string");let o=E$.findKey(n,i);o&&void 0!==n[o]&&!0!==r&&(void 0!==r||!1===n[o])||(n[o||t]=Ty(e))}let o=(e,t)=>E$.forEach(e,(e,r)=>i(e,r,t));if(E$.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(E$.isString(e)&&(e=e.trim())&&!Tb(e))o(Th(e),t);else if(E$.isObject(e)&&E$.isIterable(e)){let r={},n,i;for(let t of e){if(!E$.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[i=t[0]]=(n=r[i])?E$.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(r,t)}else null!=e&&i(t,e,r);return this}get(e,t){if(e=Tg(e)){let r=E$.findKey(this,e);if(r){let e=this[r];if(!t)return e;if(!0===t)return function(e){let t;let r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=n.exec(e);)r[t[1]]=t[2];return r}(e);if(E$.isFunction(t))return t.call(this,e,r);if(E$.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Tg(e)){let r=E$.findKey(this,e);return!!(r&&void 0!==this[r]&&(!t||T_(this,this[r],r,t)))}return!1}delete(e,t){let r=this,n=!1;function i(e){if(e=Tg(e)){let i=E$.findKey(r,e);i&&(!t||T_(r,r[i],i,t))&&(delete r[i],n=!0)}}return E$.isArray(e)?e.forEach(i):i(e),n}clear(e){let t=Object.keys(this),r=t.length,n=!1;for(;r--;){let i=t[r];(!e||T_(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){let t=this,r={};return E$.forEach(this,(n,i)=>{let o=E$.findKey(r,i);if(o){t[o]=Ty(n),delete t[i];return}let a=e?i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r):String(i).trim();a!==i&&delete t[i],t[a]=Ty(n),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return E$.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&E$.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let r=new this(e);return t.forEach(e=>r.set(e)),r}static accessor(e){let t=this[Tm]=this[Tm]={accessors:{}},r=t.accessors,n=this.prototype;function i(e){let t=Tg(e);r[t]||(function(e,t){let r=E$.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})})}(n,e),r[t]=!0)}return E$.isArray(e)?e.forEach(i):i(e),this}}function Tv(e,t){let r=this||Tp,n=t||r,i=Tw.from(n.headers),o=n.data;return E$.forEach(e,function(e){o=e.call(r,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function Tk(e){return!!(e&&e.__CANCEL__)}function TA(e,t,r){EX.call(this,null==e?"canceled":e,EX.ERR_CANCELED,t,r),this.name="CanceledError"}function TS(e,t,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new EX("Request failed with status code "+r.status,[EX.ERR_BAD_REQUEST,EX.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}Tw.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),E$.reduceDescriptors(Tw.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}}),E$.freezeMethods(Tw),E$.inherits(TA,EX,{__CANCEL__:!0});var TI=function(e,t){let r;e=e||10;let n=Array(e),i=Array(e),o=0,a=0;return t=void 0!==t?t:1e3,function(s){let u=Date.now(),l=i[a];r||(r=u),n[o]=s,i[o]=u;let c=a,d=0;for(;c!==o;)d+=n[c++],c%=e;if((o=(o+1)%e)===a&&(a=(a+1)%e),u-r<t)return;let p=l&&u-l;return p?Math.round(1e3*d/p):void 0}},TE=function(e,t){let r,n,i=0,o=1e3/t,a=(t,o=Date.now())=>{i=o,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[(...e)=>{let t=Date.now(),s=t-i;s>=o?a(e,t):(r=e,n||(n=setTimeout(()=>{n=null,a(r)},o-s)))},()=>r&&a(r)]};let TT=(e,t,r=3)=>{let n=0,i=TI(50,250);return TE(r=>{let o=r.loaded,a=r.lengthComputable?r.total:void 0,s=o-n,u=i(s);n=o,e({loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&o<=a?(a-o)/u:void 0,event:r,lengthComputable:null!=a,[t?"download":"upload"]:!0})},r)},Tx=(e,t)=>{let r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},TP=e=>(...t)=>E$.asap(()=>e(...t));var TO=Tc.hasStandardBrowserEnv?(Pm=new URL(Tc.origin),Pg=Tc.navigator&&/(msie|trident)/i.test(Tc.navigator.userAgent),e=>(e=new URL(e,Tc.origin),Pm.protocol===e.protocol&&Pm.host===e.host&&(Pg||Pm.port===e.port))):()=>!0,TB=Tc.hasStandardBrowserEnv?{write(e,t,r,n,i,o){let a=[e+"="+encodeURIComponent(t)];E$.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),E$.isString(n)&&a.push("path="+n),E$.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function TC(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||!1==r)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}let TR=e=>e instanceof Tw?{...e}:e;function TM(e,t){t=t||{};let r={};function n(e,t,r,n){return E$.isPlainObject(e)&&E$.isPlainObject(t)?E$.merge.call({caseless:n},e,t):E$.isPlainObject(t)?E$.merge({},t):E$.isArray(t)?t.slice():t}function i(e,t,r,i){return E$.isUndefined(t)?E$.isUndefined(e)?void 0:n(void 0,e,r,i):n(e,t,r,i)}function o(e,t){if(!E$.isUndefined(t))return n(void 0,t)}function a(e,t){return E$.isUndefined(t)?E$.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function s(r,i,o){return o in t?n(r,i):o in e?n(void 0,r):void 0}let u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,r)=>i(TR(e),TR(t),r,!0)};return E$.forEach(Object.keys(Object.assign({},e,t)),function(n){let o=u[n]||i,a=o(e[n],t[n],n);E$.isUndefined(a)&&o!==s||(r[n]=a)}),r}var TL=e=>{let t;let r=TM({},e),{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:u}=r;if(r.headers=s=Tw.from(s),r.url=E9(TC(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&s.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),E$.isFormData(n)){if(Tc.hasStandardBrowserEnv||Tc.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(t=s.getContentType())){let[e,...r]=t?t.split(";").map(e=>e.trim()).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...r].join("; "))}}if(Tc.hasStandardBrowserEnv&&(i&&E$.isFunction(i)&&(i=i(r)),i||!1!==i&&TO(r.url))){let e=o&&a&&TB.read(a);e&&s.set(o,e)}return r};let TN="undefined"!=typeof XMLHttpRequest;var TD=TN&&function(e){return new Promise(function(t,r){let n,i,o,a,s;let u=TL(e),l=u.data,c=Tw.from(u.headers).normalize(),{responseType:d,onUploadProgress:p,onDownloadProgress:f}=u;function h(){a&&a(),s&&s(),u.cancelToken&&u.cancelToken.unsubscribe(n),u.signal&&u.signal.removeEventListener("abort",n)}let m=new XMLHttpRequest;function g(){if(!m)return;let n=Tw.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),i=d&&"text"!==d&&"json"!==d?m.response:m.responseText,o={data:i,status:m.status,statusText:m.statusText,headers:n,config:e,request:m};TS(function(e){t(e),h()},function(e){r(e),h()},o),m=null}m.open(u.method.toUpperCase(),u.url,!0),m.timeout=u.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(r(new EX("Request aborted",EX.ECONNABORTED,e,m)),m=null)},m.onerror=function(){r(new EX("Network Error",EX.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded",n=u.transitional||Te;u.timeoutErrorMessage&&(t=u.timeoutErrorMessage),r(new EX(t,n.clarifyTimeoutError?EX.ETIMEDOUT:EX.ECONNABORTED,e,m)),m=null},void 0===l&&c.setContentType(null),"setRequestHeader"in m&&E$.forEach(c.toJSON(),function(e,t){m.setRequestHeader(t,e)}),E$.isUndefined(u.withCredentials)||(m.withCredentials=!!u.withCredentials),d&&"json"!==d&&(m.responseType=u.responseType),f&&([o,s]=TT(f,!0),m.addEventListener("progress",o)),p&&m.upload&&([i,a]=TT(p),m.upload.addEventListener("progress",i),m.upload.addEventListener("loadend",a)),(u.cancelToken||u.signal)&&(n=t=>{m&&(r(!t||t.type?new TA(null,e,m):t),m.abort(),m=null)},u.cancelToken&&u.cancelToken.subscribe(n),u.signal&&(u.signal.aborted?n():u.signal.addEventListener("abort",n)));let y=function(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(u.url);if(y&&-1===Tc.protocols.indexOf(y)){r(new EX("Unsupported protocol "+y+":",EX.ERR_BAD_REQUEST,e));return}m.send(l||null)})},TF=(e,t)=>{let{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController,i=function(e){if(!r){r=!0,a();let t=e instanceof Error?e:this.reason;n.abort(t instanceof EX?t:new TA(t instanceof Error?t.message:t))}},o=t&&setTimeout(()=>{o=null,i(new EX(`timeout ${t} of ms exceeded`,EX.ETIMEDOUT))},t),a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));let{signal:s}=n;return s.unsubscribe=()=>E$.asap(a),s}};let Tq=function*(e,t){let r,n=e.byteLength;if(!t||n<t){yield e;return}let i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},TU=async function*(e,t){for await(let r of Tj(e))yield*Tq(r,t)},Tj=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}let t=e.getReader();try{for(;;){let{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},TW=(e,t,r,n)=>{let i;let o=TU(e,t),a=0,s=e=>{!i&&(i=!0,n&&n(e))};return new ReadableStream({async pull(e){try{let{done:t,value:n}=await o.next();if(t){s(),e.close();return}let i=n.byteLength;if(r){let e=a+=i;r(e)}e.enqueue(new Uint8Array(n))}catch(e){throw s(e),e}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},TK="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Tz=TK&&"function"==typeof ReadableStream,TV=TK&&("function"==typeof TextEncoder?(Py=new TextEncoder,e=>Py.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer())),TH=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},TG=Tz&&TH(()=>{let e=!1,t=new Request(Tc.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),T$=Tz&&TH(()=>E$.isReadableStream(new Response("").body)),TX={stream:T$&&(e=>e.body)};TK&&(Pb=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{TX[e]||(TX[e]=E$.isFunction(Pb[e])?t=>t[e]():(t,r)=>{throw new EX(`Response type '${e}' is not supported`,EX.ERR_NOT_SUPPORT,r)})}));let TZ=async e=>{if(null==e)return 0;if(E$.isBlob(e))return e.size;if(E$.isSpecCompliantForm(e)){let t=new Request(Tc.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return E$.isArrayBufferView(e)||E$.isArrayBuffer(e)?e.byteLength:(E$.isURLSearchParams(e)&&(e+=""),E$.isString(e))?(await TV(e)).byteLength:void 0},TQ=async(e,t)=>{let r=E$.toFiniteNumber(e.getContentLength());return null==r?TZ(t):r};var TY=TK&&(async e=>{let t,r,{url:n,method:i,data:o,signal:a,cancelToken:s,timeout:u,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:p,withCredentials:f="same-origin",fetchOptions:h}=TL(e);d=d?(d+"").toLowerCase():"text";let m=TF([a,s&&s.toAbortSignal()],u),g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});try{if(c&&TG&&"get"!==i&&"head"!==i&&0!==(r=await TQ(p,o))){let e,t=new Request(n,{method:"POST",body:o,duplex:"half"});if(E$.isFormData(o)&&(e=t.headers.get("content-type"))&&p.setContentType(e),t.body){let[e,n]=Tx(r,TT(TP(c)));o=TW(t.body,65536,e,n)}}E$.isString(f)||(f=f?"include":"omit");let a="credentials"in Request.prototype;t=new Request(n,{...h,signal:m,method:i.toUpperCase(),headers:p.normalize().toJSON(),body:o,duplex:"half",credentials:a?f:void 0});let s=await fetch(t,h),u=T$&&("stream"===d||"response"===d);if(T$&&(l||u&&g)){let e={};["status","statusText","headers"].forEach(t=>{e[t]=s[t]});let t=E$.toFiniteNumber(s.headers.get("content-length")),[r,n]=l&&Tx(t,TT(TP(l),!0))||[];s=new Response(TW(s.body,65536,r,()=>{n&&n(),g&&g()}),e)}d=d||"text";let y=await TX[E$.findKey(TX,d)||"text"](s,e);return!u&&g&&g(),await new Promise((r,n)=>{TS(r,n,{data:y,headers:Tw.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:t})})}catch(r){if(g&&g(),r&&"TypeError"===r.name&&/Load failed|fetch/i.test(r.message))throw Object.assign(new EX("Network Error",EX.ERR_NETWORK,e,t),{cause:r.cause||r});throw EX.from(r,r&&r.code,e,t)}});let TJ={http:null,xhr:TD,fetch:TY};E$.forEach(TJ,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let T1=e=>`- ${e}`,T0=e=>E$.isFunction(e)||null===e||!1===e;var T2={getAdapter:e=>{let t,r;e=E$.isArray(e)?e:[e];let{length:n}=e,i={};for(let o=0;o<n;o++){let n;if(r=t=e[o],!T0(t)&&void 0===(r=TJ[(n=String(t)).toLowerCase()]))throw new EX(`Unknown adapter '${n}'`);if(r)break;i[n||"#"+o]=r}if(!r){let e=Object.entries(i).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new EX("There is no suitable adapter to dispatch the request "+(n?e.length>1?"since :\n"+e.map(T1).join("\n"):" "+T1(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r},adapters:TJ};function T6(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new TA(null,e)}function T4(e){T6(e),e.headers=Tw.from(e.headers),e.data=Tv.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);let t=T2.getAdapter(e.adapter||Tp.adapter);return t(e).then(function(t){return T6(e),t.data=Tv.call(e,e.transformResponse,t),t.headers=Tw.from(t.headers),t},function(t){return!Tk(t)&&(T6(e),t&&t.response&&(t.response.data=Tv.call(e,e.transformResponse,t.response),t.response.headers=Tw.from(t.response.headers))),Promise.reject(t)})}let T5="1.10.0",T8={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{T8[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});let T3={};T8.transitional=function(e,t,r){function n(e,t){return"[Axios v"+T5+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,o)=>{if(!1===e)throw new EX(n(i," has been removed"+(t?" in "+t:"")),EX.ERR_DEPRECATED);return t&&!T3[i]&&(T3[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,o)}},T8.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};var T9={assertOptions:function(e,t,r){if("object"!=typeof e)throw new EX("options must be an object",EX.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),i=n.length;for(;i-- >0;){let o=n[i],a=t[o];if(a){let t=e[o],r=void 0===t||a(t,o,e);if(!0!==r)throw new EX("option "+o+" must be "+r,EX.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new EX("Unknown option "+o,EX.ERR_BAD_OPTION)}},validators:T8};let T7=T9.validators;class xe{constructor(e){this.defaults=e||{},this.interceptors={request:new E7,response:new E7}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=Error();let r=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}catch(e){}}throw e}}_request(e,t){let r,n;"string"==typeof e?(t=t||{}).url=e:t=e||{},t=TM(this.defaults,t);let{transitional:i,paramsSerializer:o,headers:a}=t;void 0!==i&&T9.assertOptions(i,{silentJSONParsing:T7.transitional(T7.boolean),forcedJSONParsing:T7.transitional(T7.boolean),clarifyTimeoutError:T7.transitional(T7.boolean)},!1),null!=o&&(E$.isFunction(o)?t.paramsSerializer={serialize:o}:T9.assertOptions(o,{encode:T7.function,serialize:T7.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),T9.assertOptions(t,{baseUrl:T7.spelling("baseURL"),withXsrfToken:T7.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&E$.merge(a.common,a[t.method]);a&&E$.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=Tw.concat(s,a);let u=[],l=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(l=l&&e.synchronous,u.unshift(e.fulfilled,e.rejected))});let c=[];this.interceptors.response.forEach(function(e){c.push(e.fulfilled,e.rejected)});let d=0;if(!l){let e=[T4.bind(this),void 0];for(e.unshift.apply(e,u),e.push.apply(e,c),n=e.length,r=Promise.resolve(t);d<n;)r=r.then(e[d++],e[d++]);return r}n=u.length;let p=t;for(d=0;d<n;){let e=u[d++],t=u[d++];try{p=e(p)}catch(e){t.call(this,e);break}}try{r=T4.call(this,p)}catch(e){return Promise.reject(e)}for(d=0,n=c.length;d<n;)r=r.then(c[d++],c[d++]);return r}getUri(e){e=TM(this.defaults,e);let t=TC(e.baseURL,e.url,e.allowAbsoluteUrls);return E9(t,e.params,e.paramsSerializer)}}E$.forEach(["delete","get","head","options"],function(e){xe.prototype[e]=function(t,r){return this.request(TM(r||{},{method:e,url:t,data:(r||{}).data}))}}),E$.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,i){return this.request(TM(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}xe.prototype[e]=t(),xe.prototype[e+"Form"]=t(!0)});class xt{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;let n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,i){r.reason||(r.reason=new TA(e,n,i),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){let e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;let t=new xt(function(t){e=t});return{token:t,cancel:e}}}let xr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xr).forEach(([e,t])=>{xr[t]=e});let xn=function e(t){let r=new xe(t),n=Ed(xe.prototype.request,r);return E$.extend(n,xe.prototype,r,{allOwnKeys:!0}),E$.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(TM(t,r))},n}(Tp);xn.Axios=xe,xn.CanceledError=TA,xn.CancelToken=xt,xn.isCancel=Tk,xn.VERSION=T5,xn.toFormData=E6,xn.AxiosError=EX,xn.Cancel=xn.CanceledError,xn.all=function(e){return Promise.all(e)},xn.spread=function(e){return function(t){return e.apply(null,t)}},xn.isAxiosError=function(e){return E$.isObject(e)&&!0===e.isAxiosError},xn.mergeConfig=TM,xn.AxiosHeaders=Tw,xn.formToJSON=e=>Td(E$.isHTMLForm(e)?new FormData(e):e),xn.getAdapter=T2.getAdapter,xn.HttpStatusCode=xr,xn.default=xn;let{Axios:xi,AxiosError:xo,CanceledError:xa,isCancel:xs,CancelToken:xu,VERSION:xl,all:xc,Cancel:xd,isAxiosError:xp,spread:xf,toFormData:xh,AxiosHeaders:xm,HttpStatusCode:xg,formToJSON:xy,getAdapter:xb,mergeConfig:x_}=xn;var xw=eh("kxOXd"),ds=eh("acDaE"),xv=ds.Buffer;let xk=(0,ph.struct)([(0,ph.u8)("instruction")]);function xA(e,t,r,n=SX){let i=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:hC,isSigner:!1,isWritable:!1}],o=xv.alloc(xk.span);return xk.encode({instruction:P$.InitializeAccount},o),new hI({keys:i,programId:n,data:o})}var ds=eh("acDaE"),xS=ds.Buffer;let xI=(0,ph.struct)([(0,ph.u8)("instruction"),S5("amount")]);function xE(e,t,r,n,i=[],o=SX){let a=En([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],r,i),s=xS.alloc(xI.span);return xI.encode({instruction:P$.Transfer,amount:BigInt(n)},s),new hI({keys:a,programId:o,data:s})}var d0=eh("9U7pb"),xT={};!function(t){var r,n="[big.js] ",i=n+"Invalid ",o=i+"decimal places",a=i+"rounding mode",s=n+"Division by zero",u={},l=void 0,c=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function d(e,t,r,n){var i=e.c;if(r===l&&(r=e.constructor.RM),0!==r&&1!==r&&2!==r&&3!==r)throw Error(a);if(t<1)n=3===r&&(n||!!i[0])||0===t&&(1===r&&i[0]>=5||2===r&&(i[0]>5||5===i[0]&&(n||i[1]!==l))),i.length=1,n?(e.e=e.e-t+1,i[0]=1):i[0]=e.e=0;else if(t<i.length){if(n=1===r&&i[t]>=5||2===r&&(i[t]>5||5===i[t]&&(n||i[t+1]!==l||1&i[t-1]))||3===r&&(n||!!i[0]),i.length=t,n){for(;++i[--t]>9;)if(i[t]=0,0===t){++e.e,i.unshift(1);break}}for(t=i.length;!i[--t];)i.pop()}return e}function p(e,t,r){var n=e.e,i=e.c.join(""),o=i.length;if(t)i=i.charAt(0)+(o>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0){if(++n>o)for(n-=o;n--;)i+="0";else n<o&&(i=i.slice(0,n)+"."+i.slice(n))}else o>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&r?"-"+i:i}u.abs=function(){var e=new this.constructor(this);return e.s=1,e},u.cmp=function(e){var t,r=this.c,n=(e=new this.constructor(e)).c,i=this.s,o=e.s,a=this.e,s=e.e;if(!r[0]||!n[0])return r[0]?i:n[0]?-o:0;if(i!=o)return i;if(t=i<0,a!=s)return a>s^t?1:-1;for(i=-1,o=(a=r.length)<(s=n.length)?a:s;++i<o;)if(r[i]!=n[i])return r[i]>n[i]^t?1:-1;return a==s?0:a>s^t?1:-1},u.div=function(e){var t=this.constructor,r=this.c,n=(e=new t(e)).c,i=this.s==e.s?1:-1,a=t.DP;if(a!==~~a||a<0||a>1e6)throw Error(o);if(!n[0])throw Error(s);if(!r[0])return e.s=i,e.c=[e.e=0],e;var u,c,p,f,h,m=n.slice(),g=u=n.length,y=r.length,b=r.slice(0,u),_=b.length,w=e,v=w.c=[],k=0,A=a+(w.e=this.e-e.e)+1;for(w.s=i,i=A<0?0:A,m.unshift(0);_++<u;)b.push(0);do{for(p=0;p<10;p++){if(u!=(_=b.length))f=u>_?1:-1;else for(h=-1,f=0;++h<u;)if(n[h]!=b[h]){f=n[h]>b[h]?1:-1;break}if(f<0){for(c=_==u?n:m;_;){if(b[--_]<c[_]){for(h=_;h&&!b[--h];)b[h]=9;--b[h],b[_]+=10}b[_]-=c[_]}for(;!b[0];)b.shift()}else break}v[k++]=f?p:++p,b[0]&&f?b[_]=r[g]||0:b=[r[g]]}while((g++<y||b[0]!==l)&&i--)return!v[0]&&1!=k&&(v.shift(),w.e--,A--),k>A&&d(w,A,t.RM,b[0]!==l),w},u.eq=function(e){return 0===this.cmp(e)},u.gt=function(e){return this.cmp(e)>0},u.gte=function(e){return this.cmp(e)>-1},u.lt=function(e){return 0>this.cmp(e)},u.lte=function(e){return 1>this.cmp(e)},u.minus=u.sub=function(e){var t,r,n,i,o=this.constructor,a=this.s,s=(e=new o(e)).s;if(a!=s)return e.s=-s,this.plus(e);var u=this.c.slice(),l=this.e,c=e.c,d=e.e;if(!u[0]||!c[0])return c[0]?e.s=-s:u[0]?e=new o(this):e.s=1,e;if(a=l-d){for((i=a<0)?(a=-a,n=u):(d=l,n=c),n.reverse(),s=a;s--;)n.push(0);n.reverse()}else for(r=((i=u.length<c.length)?u:c).length,a=s=0;s<r;s++)if(u[s]!=c[s]){i=u[s]<c[s];break}if(i&&(n=u,u=c,c=n,e.s=-e.s),(s=(r=c.length)-(t=u.length))>0)for(;s--;)u[t++]=0;for(s=t;r>a;){if(u[--r]<c[r]){for(t=r;t&&!u[--t];)u[t]=9;--u[t],u[r]+=10}u[r]-=c[r]}for(;0===u[--s];)u.pop();for(;0===u[0];)u.shift(),--d;return u[0]||(e.s=1,u=[d=0]),e.c=u,e.e=d,e},u.mod=function(e){var t,r=this,n=r.constructor,i=r.s,o=(e=new n(e)).s;if(!e.c[0])throw Error(s);return(r.s=e.s=1,t=1==e.cmp(r),r.s=i,e.s=o,t)?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(e),n.DP=i,n.RM=o,this.minus(r.times(e)))},u.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},u.plus=u.add=function(e){var t,r,n,i=this.constructor;if(e=new i(e),this.s!=e.s)return e.s=-e.s,this.minus(e);var o=this.e,a=this.c,s=e.e,u=e.c;if(!a[0]||!u[0])return u[0]||(a[0]?e=new i(this):e.s=this.s),e;if(a=a.slice(),t=o-s){for(t>0?(s=o,n=u):(t=-t,n=a),n.reverse();t--;)n.push(0);n.reverse()}for(a.length-u.length<0&&(n=u,u=a,a=n),t=u.length,r=0;t;a[t]%=10)r=(a[--t]=a[t]+u[t]+r)/10|0;for(r&&(a.unshift(r),++s),t=a.length;0===a[--t];)a.pop();return e.c=a,e.e=s,e},u.pow=function(e){var t=this,r=new t.constructor("1"),n=r,o=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(i+"exponent");for(o&&(e=-e);1&e&&(n=n.times(t)),e>>=1;)t=t.times(t);return o?r.div(n):n},u.prec=function(e,t){if(e!==~~e||e<1||e>1e6)throw Error(i+"precision");return d(new this.constructor(this),e,t)},u.round=function(e,t){if(e===l)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(o);return d(new this.constructor(this),e+this.e+1,t)},u.sqrt=function(){var e,t,r,i=this.constructor,o=this.s,a=this.e,s=new i("0.5");if(!this.c[0])return new i(this);if(o<0)throw Error(n+"No square root");0===(o=Math.sqrt(+p(this,!0,!0)))||o===1/0?((t=this.c.join("")).length+a&1||(t+="0"),a=((a+1)/2|0)-(a<0||1&a),e=new i(((o=Math.sqrt(t))==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+a)):e=new i(o+""),a=e.e+(i.DP+=4);do r=e,e=s.times(r.plus(this.div(r)));while(r.c.slice(0,a).join("")!==e.c.slice(0,a).join(""))return d(e,(i.DP-=4)+e.e+1,i.RM)},u.times=u.mul=function(e){var t,r=this.constructor,n=this.c,i=(e=new r(e)).c,o=n.length,a=i.length,s=this.e,u=e.e;if(e.s=this.s==e.s?1:-1,!n[0]||!i[0])return e.c=[e.e=0],e;for(e.e=s+u,o<a&&(t=n,n=i,i=t,u=o,o=a,a=u),t=Array(u=o+a);u--;)t[u]=0;for(s=a;s--;){for(a=0,u=o+s;u>s;)a=t[u]+i[s]*n[u-s-1]+a,t[u--]=a%10,a=a/10|0;t[u]=a}for(a?++e.e:t.shift(),s=t.length;!t[--s];)t.pop();return e.c=t,e},u.toExponential=function(e,t){var r=this,n=r.c[0];if(e!==l){if(e!==~~e||e<0||e>1e6)throw Error(o);for(r=d(new r.constructor(r),++e,t);r.c.length<e;)r.c.push(0)}return p(r,!0,!!n)},u.toFixed=function(e,t){var r=this,n=r.c[0];if(e!==l){if(e!==~~e||e<0||e>1e6)throw Error(o);for(r=d(new r.constructor(r),e+r.e+1,t),e=e+r.e+1;r.c.length<e;)r.c.push(0)}return p(r,!1,!!n)},u.toJSON=u.toString=function(){var e=this.constructor;return p(this,this.e<=e.NE||this.e>=e.PE,!!this.c[0])},u.toNumber=function(){var e=+p(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(n+"Imprecise conversion");return e},u.toPrecision=function(e,t){var r=this,n=r.constructor,o=r.c[0];if(e!==l){if(e!==~~e||e<1||e>1e6)throw Error(i+"precision");for(r=d(new n(r),e,t);r.c.length<e;)r.c.push(0)}return p(r,e<=r.e||r.e<=n.NE||r.e>=n.PE,!!o)},u.valueOf=function(){var e=this.constructor;if(!0===e.strict)throw Error(n+"valueOf disallowed");return p(this,this.e<=e.NE||this.e>=e.PE,!0)},(r=function e(){function t(r){if(!(this instanceof t))return r===l?e():new t(r);if(r instanceof t)this.s=r.s,this.e=r.e,this.c=r.c.slice();else{if("string"!=typeof r){if(!0===t.strict&&"bigint"!=typeof r)throw TypeError(i+"value");r=0===r&&1/r<0?"-0":String(r)}(function(e,t){var r,n,o;if(!c.test(t))throw Error(i+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),o=t.length,n=0;n<o&&"0"==t.charAt(n);)++n;if(n==o)e.c=[e.e=0];else{for(;o>0&&"0"==t.charAt(--o););for(e.e=r-n-1,e.c=[],r=0;n<=o;)e.c[r++]=+t.charAt(n++)}})(this,r)}this.constructor=t}return t.prototype=u,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}()).default=r.Big=r,"function"==typeof e&&e.amd?e(function(){return r}):xT?xT=r:t.Big=r}(xT);var xx={};xx&&(xx=function(e){return e.prototype.toFormat=function(e,t,r){if(!this.e&&0!==this.e)return this.toString();var n,i,o,a,s,u,l,c,d,p,f,h,m,g,y,b=this.format||{},_=this.constructor.format||{};if(e!=s?"object"==typeof e?(r=e,e=s):t!=s?"object"==typeof t?(r=t,t=s):"object"!=typeof r&&(r={}):r={}:r={},c=(n=this.toFixed(e,t).split("."))[0],d=n[1],u=(l=this.s<0?c.slice(1):c).length,(p=r.decimalSeparator)==s&&(p=b.decimalSeparator)==s&&(p=_.decimalSeparator)==s&&(p="."),(f=r.groupSeparator)==s&&(f=b.groupSeparator)==s&&(f=_.groupSeparator),f&&((h=r.groupSize)==s&&(h=b.groupSize)==s&&(h=_.groupSize)==s&&(h=0),(m=r.secondaryGroupSize)==s&&(m=b.secondaryGroupSize)==s&&(m=_.secondaryGroupSize)==s&&(m=0),m?(i=+m,u-=o=+h):(i=+h,o=+m),i>0&&u>0)){for(a=u%i||i,c=l.substr(0,a);a<u;a+=i)c+=f+l.substr(a,i);o>0&&(c+=f+l.slice(a)),this.s<0&&(c="-"+c)}return d?((g=r.fractionGroupSeparator)==s&&(g=b.fractionGroupSeparator)==s&&(g=_.fractionGroupSeparator),g&&((y=r.fractionGroupSize)==s&&(y=b.fractionGroupSize)==s&&(y=_.fractionGroupSize)==s&&(y=0),(y=+y)&&(d=d.replace(RegExp("\\d{"+y+"}\\B","g"),"$&"+g))),c+p+d):c},e.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},e});var xP={};!function(t){var r,n={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},i=!0,o="[DecimalError] ",a=o+"Invalid argument: ",s=o+"Exponent out of range: ",u=Math.floor,l=Math.pow,c=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,d=u(1286742750677284.5),p={};function f(e,t){var r,n,o,a,s,u,l,c,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),i?A(t,p):t;if(l=e.d,c=t.d,s=e.e,o=t.e,l=l.slice(),a=s-o){for(a<0?(n=l,a=-a,u=c.length):(n=c,o=s,u=l.length),a>(u=(s=Math.ceil(p/7))>u?s+1:u+1)&&(a=u,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for((u=l.length)-(a=c.length)<0&&(a=u,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/1e7|0,l[a]%=1e7;for(r&&(l.unshift(r),++o),u=l.length;0==l[--u];)l.pop();return t.d=l,t.e=o,i?A(t,p):t}function h(e,t,r){if(e!==~~e||e<t||e>r)throw Error(a+e)}function m(e){var t,r,n,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(o+=w(r)),o+=n;(r=7-(n=(a=e[t])+"").length)&&(o+=w(r))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}p.absoluteValue=p.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},p.comparedTo=p.cmp=function(e){var t,r,n,i;if(e=new this.constructor(e),this.s!==e.s)return this.s||-e.s;if(this.e!==e.e)return this.e>e.e^this.s<0?1:-1;for(t=0,r=(n=this.d.length)<(i=e.d.length)?n:i;t<r;++t)if(this.d[t]!==e.d[t])return this.d[t]>e.d[t]^this.s<0?1:-1;return n===i?0:n>i^this.s<0?1:-1},p.decimalPlaces=p.dp=function(){var e=this.d.length-1,t=(e-this.e)*7;if(e=this.d[e])for(;e%10==0;e/=10)t--;return t<0?0:t},p.dividedBy=p.div=function(e){return g(this,new this.constructor(e))},p.dividedToIntegerBy=p.idiv=function(e){var t=this.constructor;return A(g(this,new t(e),0,1),t.precision)},p.equals=p.eq=function(e){return!this.cmp(e)},p.exponent=function(){return b(this)},p.greaterThan=p.gt=function(e){return this.cmp(e)>0},p.greaterThanOrEqualTo=p.gte=function(e){return this.cmp(e)>=0},p.isInteger=p.isint=function(){return this.e>this.d.length-2},p.isNegative=p.isneg=function(){return this.s<0},p.isPositive=p.ispos=function(){return this.s>0},p.isZero=function(){return 0===this.s},p.lessThan=p.lt=function(e){return 0>this.cmp(e)},p.lessThanOrEqualTo=p.lte=function(e){return 1>this.cmp(e)},p.logarithm=p.log=function(e){var t,n=this.constructor,a=n.precision,s=a+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(r))throw Error(o+"NaN");if(this.s<1)throw Error(o+(this.s?"NaN":"-Infinity"));return this.eq(r)?new n(0):(i=!1,t=g(v(this,s),v(e,s),s),i=!0,A(t,a))},p.minus=p.sub=function(e){return e=new this.constructor(e),this.s==e.s?S(this,e):f(this,(e.s=-e.s,e))},p.modulo=p.mod=function(e){var t,r=this.constructor,n=r.precision;if(!(e=new r(e)).s)throw Error(o+"NaN");return this.s?(i=!1,t=g(this,e,0,1).times(e),i=!0,this.minus(t)):A(new r(this),n)},p.naturalExponential=p.exp=function(){return y(this)},p.naturalLogarithm=p.ln=function(){return v(this)},p.negated=p.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},p.plus=p.add=function(e){return e=new this.constructor(e),this.s==e.s?f(this,e):S(this,(e.s=-e.s,e))},p.precision=p.sd=function(e){var t,r,n;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(a+e);if(t=b(this)+1,r=7*(n=this.d.length-1)+1,n=this.d[n]){for(;n%10==0;n/=10)r--;for(n=this.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},p.squareRoot=p.sqrt=function(){var e,t,r,n,a,s,l,c=this.constructor;if(this.s<1){if(!this.s)return new c(0);throw Error(o+"NaN")}for(e=b(this),i=!1,0==(a=Math.sqrt(+this))||a==1/0?(((t=m(this.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=u((e+1)/2)-(e<0||e%2),n=new c(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new c(a.toString()),a=l=(r=c.precision)+3;;)if(n=(s=n).plus(g(this,s,l+2)).times(.5),m(s.d).slice(0,l)===(t=m(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&"4999"==t){if(A(s,r+1,0),s.times(s).eq(this)){n=s;break}}else if("9999"!=t)break;l+=4}return i=!0,A(n,r)},p.times=p.mul=function(e){var t,r,n,o,a,s,u,l,c,d=this.constructor,p=this.d,f=(e=new d(e)).d;if(!this.s||!e.s)return new d(0);for(e.s*=this.s,r=this.e+e.e,(l=p.length)<(c=f.length)&&(a=p,p=f,f=a,s=l,l=c,c=s),a=[],n=s=l+c;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,o=l+n;o>n;)u=a[o]+f[n]*p[o-n-1]+t,a[o--]=u%1e7|0,t=u/1e7|0;a[o]=(a[o]+t)%1e7|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,i?A(e,d.precision):e},p.toDecimalPlaces=p.todp=function(e,t){var r=this,n=r.constructor;return(r=new n(r),void 0===e)?r:(h(e,0,1e9),void 0===t?t=n.rounding:h(t,0,8),A(r,e+b(r)+1,t))},p.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=I(n,!0):(h(e,0,1e9),void 0===t?t=i.rounding:h(t,0,8),r=I(n=A(new i(n),e+1,t),!0,e+1)),r},p.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?I(this):(h(e,0,1e9),void 0===t?t=i.rounding:h(t,0,8),r=I((n=A(new i(this),e+b(this)+1,t)).abs(),!1,e+b(n)+1),this.isneg()&&!this.isZero()?"-"+r:r)},p.toInteger=p.toint=function(){var e=this.constructor;return A(new e(this),b(this)+1,e.rounding)},p.toNumber=function(){return+this},p.toPower=p.pow=function(e){var t,n,a,s,l,c,d=this,p=d.constructor,f=+(e=new p(e));if(!e.s)return new p(r);if(!(d=new p(d)).s){if(e.s<1)throw Error(o+"Infinity");return d}if(d.eq(r))return d;if(a=p.precision,e.eq(r))return A(d,a);if(c=(t=e.e)>=(n=e.d.length-1),l=d.s,c){if((n=f<0?-f:f)<=9007199254740991){for(s=new p(r),t=Math.ceil(a/7+4),i=!1;n%2&&E((s=s.times(d)).d,t),0!==(n=u(n/2));)E((d=d.times(d)).d,t);return i=!0,e.s<0?new p(r).div(s):A(s,a)}}else if(l<0)throw Error(o+"NaN");return l=l<0&&1&e.d[Math.max(t,n)]?-1:1,d.s=1,i=!1,s=e.times(v(d,a+12)),i=!0,(s=y(s)).s=l,s},p.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return void 0===e?(r=b(i),n=I(i,r<=o.toExpNeg||r>=o.toExpPos)):(h(e,1,1e9),void 0===t?t=o.rounding:h(t,0,8),r=b(i=A(new o(i),e,t)),n=I(i,e<=r||r<=o.toExpNeg,e)),n},p.toSignificantDigits=p.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(h(e,1,1e9),void 0===t?t=r.rounding:h(t,0,8)),A(new r(this),e,t)},p.toString=p.valueOf=p.val=p.toJSON=function(){var e=b(this),t=this.constructor;return I(this,e<=t.toExpNeg||e>=t.toExpPos)};var g=function(){function e(e,t){var r,n=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+n,e[i]=r%1e7|0,n=r/1e7|0;return n&&e.unshift(n),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=1e7*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,s){var u,l,c,d,p,f,h,m,g,y,_,w,v,k,S,I,E,T,x=n.constructor,P=n.s==i.s?1:-1,O=n.d,B=i.d;if(!n.s)return new x(n);if(!i.s)throw Error(o+"Division by zero");for(c=0,l=n.e-i.e,E=B.length,S=O.length,m=(h=new x(P)).d=[];B[c]==(O[c]||0);)++c;if(B[c]>(O[c]||0)&&--l,(w=null==a?a=x.precision:s?a+(b(n)-b(i))+1:a)<0)return new x(0);if(w=w/7+2|0,c=0,1==E)for(d=0,B=B[0],w++;(c<S||d)&&w--;c++)v=1e7*d+(O[c]||0),m[c]=v/B|0,d=v%B|0;else{for((d=1e7/(B[0]+1)|0)>1&&(B=e(B,d),O=e(O,d),E=B.length,S=O.length),k=E,y=(g=O.slice(0,E)).length;y<E;)g[y++]=0;(T=B.slice()).unshift(0),I=B[0],B[1]>=1e7/2&&++I;do d=0,(u=t(B,g,E,y))<0?(_=g[0],E!=y&&(_=1e7*_+(g[1]||0)),(d=_/I|0)>1?(d>=1e7&&(d=1e7-1),f=(p=e(B,d)).length,y=g.length,1==(u=t(p,g,f,y))&&(d--,r(p,E<f?T:B,f))):(0==d&&(u=d=1),p=B.slice()),(f=p.length)<y&&p.unshift(0),r(g,p,y),-1==u&&(y=g.length,(u=t(B,g,E,y))<1&&(d++,r(g,E<y?T:B,y))),y=g.length):0===u&&(d++,g=[0]),m[c++]=d,u&&g[0]?g[y++]=O[k]||0:(g=[O[k]],y=1);while((k++<S||void 0!==g[0])&&w--)}return m[0]||m.shift(),h.e=l,A(h,s?a+b(h)+1:a)}}();function y(e,t){var n,o,a,u,c,d=0,p=0,f=e.constructor,h=f.precision;if(b(e)>16)throw Error(s+b(e));if(!e.s)return new f(r);for(null==t?(i=!1,c=h):c=t,u=new f(.03125);e.abs().gte(.1);)e=e.times(u),p+=5;for(c+=Math.log(l(2,p))/Math.LN10*2+5|0,n=o=a=new f(r),f.precision=c;;){if(o=A(o.times(e),c),n=n.times(++d),m((u=a.plus(g(o,n,c))).d).slice(0,c)===m(a.d).slice(0,c)){for(;p--;)a=A(a.times(a),c);return f.precision=h,null==t?(i=!0,A(a,h)):a}a=u}}function b(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function _(e,t,r){if(t>e.LN10.sd())throw i=!0,r&&(e.precision=r),Error(o+"LN10 precision limit exceeded");return A(new e(e.LN10),t)}function w(e){for(var t="";e--;)t+="0";return t}function v(e,t){var n,a,s,u,l,c,d,p,f,h=1,y=e,w=y.d,k=y.constructor,S=k.precision;if(y.s<1)throw Error(o+(y.s?"NaN":"-Infinity"));if(y.eq(r))return new k(0);if(null==t?(i=!1,p=S):p=t,y.eq(10))return null==t&&(i=!0),_(k,p);if(p+=10,k.precision=p,a=(n=m(w)).charAt(0),!(15e14>Math.abs(u=b(y))))return d=_(k,p+2,S).times(u+""),y=v(new k(a+"."+n.slice(1)),p-10).plus(d),k.precision=S,null==t?(i=!0,A(y,S)):y;for(;a<7&&1!=a||1==a&&n.charAt(1)>3;)a=(n=m((y=y.times(e)).d)).charAt(0),h++;for(u=b(y),a>1?(y=new k("0."+n),u++):y=new k(a+"."+n.slice(1)),c=l=y=g(y.minus(r),y.plus(r),p),f=A(y.times(y),p),s=3;;){if(l=A(l.times(f),p),m((d=c.plus(g(l,new k(s),p))).d).slice(0,p)===m(c.d).slice(0,p))return c=c.times(2),0!==u&&(c=c.plus(_(k,p+2,S).times(u+""))),c=g(c,new k(h),p),k.precision=S,null==t?(i=!0,A(c,S)):c;c=d,s+=2}}function k(e,t){var r,n,o;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(o=t.length;48===t.charCodeAt(o-1);)--o;if(t=t.slice(n,o)){if(o-=n,r=r-n-1,e.e=u(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<o){for(n&&e.d.push(+t.slice(0,n)),o-=7;n<o;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=o;for(;n--;)t+="0";if(e.d.push(+t),i&&(e.e>d||e.e<-d))throw Error(s+r)}else e.s=0,e.e=0,e.d=[0];return e}function A(e,t,r){var n,o,a,c,p,f,h,m,g=e.d;for(c=1,a=g[0];a>=10;a/=10)c++;if((n=t-c)<0)n+=7,o=t,h=g[m=0];else{if((m=Math.ceil((n+1)/7))>=(a=g.length))return e;for(c=1,h=a=g[m];a>=10;a/=10)c++;n%=7,o=n-7+c}if(void 0!==r&&(p=h/(a=l(10,c-o-1))%10|0,f=t<0||void 0!==g[m+1]||h%a,f=r<4?(p||f)&&(0==r||r==(e.s<0?3:2)):p>5||5==p&&(4==r||f||6==r&&(n>0?o>0?h/l(10,c-o):0:g[m-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return f?(a=b(e),g.length=1,t=t-a-1,g[0]=l(10,(7-t%7)%7),e.e=u(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==n?(g.length=m,a=1,m--):(g.length=m+1,a=l(10,7-n),g[m]=o>0?(h/l(10,c-o)%l(10,o)|0)*a:0),f)for(;;)if(0==m){1e7==(g[0]+=a)&&(g[0]=1,++e.e);break}else{if(g[m]+=a,1e7!=g[m])break;g[m--]=0,a=1}for(n=g.length;0===g[--n];)g.pop();if(i&&(e.e>d||e.e<-d))throw Error(s+b(e));return e}function S(e,t){var r,n,o,a,s,u,l,c,d,p,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),i?A(t,h):t;if(l=e.d,p=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n){for((d=s<0)?(r=l,s=-s,u=p.length):(r=p,n=c,u=l.length),s>(o=Math.max(Math.ceil(h/7),u)+2)&&(s=o,r.length=1),r.reverse(),o=s;o--;)r.push(0);r.reverse()}else{for((d=(o=l.length)<(u=p.length))&&(u=o),o=0;o<u;o++)if(l[o]!=p[o]){d=l[o]<p[o];break}s=0}for(d&&(r=l,l=p,p=r,t.s=-t.s),u=l.length,o=p.length-u;o>0;--o)l[u++]=0;for(o=p.length;o>s;){if(l[--o]<p[o]){for(a=o;a&&0===l[--a];)l[a]=1e7-1;--l[a],l[o]+=1e7}l[o]-=p[o]}for(;0===l[--u];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=n,i?A(t,h):t):new f(0)}function I(e,t,r){var n,i=b(e),o=m(e.d),a=o.length;return t?(r&&(n=r-a)>0?o=o.charAt(0)+"."+o.slice(1)+w(n):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+w(-i-1)+o,r&&(n=r-a)>0&&(o+=w(n))):i>=a?(o+=w(i+1-a),r&&(n=r-i-1)>0&&(o=o+"."+w(n))):((n=i+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(o+="."),o+=w(n))),e.s<0?"-"+o:o}function E(e,t){if(e.length>t)return e.length=t,!0}function T(e){if(!e||"object"!=typeof e)throw Error(o+"Object expected");var t,r,n,i=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(n=e[r=i[t]])){if(u(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(a+r+": "+n)}if(void 0!==(n=e[r="LN10"])){if(n==Math.LN10)this[r]=new this(n);else throw Error(a+r+": "+n)}return this}(n=function e(t){var r,n,i;function o(e){if(!(this instanceof o))return new o(e);if(this.constructor=o,e instanceof o){this.s=e.s,this.e=e.e,this.d=(e=e.d)?e.slice():e;return}if("number"==typeof e){if(0*e!=0)throw Error(a+e);if(e>0)this.s=1;else if(e<0)e=-e,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(e===~~e&&e<1e7){this.e=0,this.d=[e];return}return k(this,e.toString())}if("string"!=typeof e)throw Error(a+e);if(45===e.charCodeAt(0)?(e=e.slice(1),this.s=-1):this.s=1,c.test(e))k(this,e);else throw Error(a+e)}if(o.prototype=p,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=T,void 0===t&&(t={}),t)for(r=0,i=["precision","rounding","toExpNeg","toExpPos","LN10"];r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return o.config(t),o}(n)).default=n.Decimal=n,r=new n(1),"function"==typeof e&&e.amd?e(function(){return n}):xP?xP=n:(t||(t="undefined"!=typeof self&&self&&self.self==self?self:Function("return this")()),t.Decimal=n)}(xP);var ds=eh("acDaE"),xO=ds.Buffer,xB=Object.defineProperty,xC=Object.defineProperties,xR=Object.getOwnPropertyDescriptors,xM=Object.getOwnPropertySymbols,xL=Object.prototype.hasOwnProperty,xN=Object.prototype.propertyIsEnumerable,xD=(e,t,r)=>t in e?xB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xF=(e,t)=>{for(var r in t||(t={}))xL.call(t,r)&&xD(e,r,t[r]);if(xM)for(var r of xM(t))xN.call(t,r)&&xD(e,r,t[r]);return e},xq=(e,t)=>xC(e,xR(t)),xU=(e,t)=>{var r={};for(var n in e)xL.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&xM)for(var n of xM(e))0>t.indexOf(n)&&xN.call(e,n)&&(r[n]=e[n]);return r},xj=((P_=xj||{})[P_.Error=0]="Error",P_[P_.Warning=1]="Warning",P_[P_.Info=2]="Info",P_[P_.Debug=3]="Debug",P_),xW=class{constructor(e){this.logLevel=void 0!==e.logLevel?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)&&console.error(this.time,this.name,"sdk logger error",...e),this}logWithError(...e){throw Error(e.map(e=>"object"==typeof e?JSON.stringify(e):e).join(", "))}warning(...e){return this.isLogLevel(1)&&console.warn(this.time,this.name,"sdk logger warning",...e),this}info(...e){return this.isLogLevel(2)&&console.info(this.time,this.name,"sdk logger info",...e),this}debug(...e){return this.isLogLevel(3)&&console.debug(this.time,this.name,"sdk logger debug",...e),this}},xK={},xz={};function xV(e){let t=(0,xw.get)(xK,e);if(!t){let r=(0,xw.get)(xz,e);t=new xW({name:e,logLevel:r}),(0,xw.set)(xK,e,t)}return t}var xH=xV("Raydium_accountInfo_util");async function xG(e,t,r){let{batchRequest:n,commitment:i="confirmed",chunkCount:o=100}=xF({batchRequest:!1},r),a=BH(t,o),s=Array(a.length).fill([]);if(n){let t=BH(a.map(t=>({methodName:"getMultipleAccounts",args:e._buildArgs([t.map(e=>e.toBase58())],i,"base64")})),10);s=(await (await Promise.all(t.map(async t=>await e._rpcBatchRequest(t)))).flat()).map(e=>(e.error&&xH.logWithError(`failed to get info for multiple accounts, RPC_ERROR, ${e.error.message}`),e.result.value.map(e=>{if(e){let{data:t,executable:r,lamports:n,owner:i,rentEpoch:o}=e;return 2!==t.length&&"base64"!==t[1]&&xH.logWithError("info must be base64 encoded, RPC_ERROR"),{data:xO.from(t[0],"base64"),executable:r,lamports:n,owner:new ho(i),rentEpoch:o}}return null})))}else try{s=await Promise.all(a.map(t=>e.getMultipleAccountsInfo(t,i)))}catch(e){e instanceof Error&&xH.logWithError(`failed to get info for multiple accounts, RPC_ERROR, ${e.message}`)}return s.flat()}async function x$(e,t,r){let n=await xG(e,t.map(e=>e.pubkey),r);return t.map((e,t)=>xq(xF({},e),{accountInfo:n[t]}))}var xX=((Pw=xX||{})[Pw.Uninitialized=0]="Uninitialized",Pw[Pw.Mint=1]="Mint",Pw[Pw.Account=2]="Account",Pw);async function xZ({connection:e,mints:t,config:r}){var n,i,o;if(0===t.length)return{};let a=await x$(e,t.map(e=>({pubkey:BR(e)})),r),s={};for(let e of a){if(!e.accountInfo||e.accountInfo.data.length<I9){console.log("invalid mint account",e.pubkey.toBase58());continue}let t=function(e,t,r=SX){if(!t)throw new Ie;if(!t.owner.equals(r))throw new Ir;if(t.data.length<I9)throw new In;let n=I3.decode(t.data.slice(0,I9)),i=I8.alloc(0);if(t.data.length>I9){if(t.data.length<=Ic||t.data.length===Is)throw new In;if(t.data[Ic]!=PV.Mint)throw new Ii;i=t.data.slice(Ic+1)}return{address:e,mintAuthority:n.mintAuthorityOption?n.mintAuthority:null,supply:n.supply,decimals:n.decimals,isInitialized:n.isInitialized,freezeAuthority:n.freezeAuthorityOption?n.freezeAuthority:null,tlvData:i}}(e.pubkey,e.accountInfo,null==(n=e.accountInfo)?void 0:n.owner);s[e.pubkey.toString()]=xq(xF({},t),{programId:(null==(i=e.accountInfo)?void 0:i.owner)||SX,feeConfig:null!=(o=I0(t))?o:void 0})}return s[ho.default.toBase58()]=s[BB.toBase58()],s}var xQ,xY,xJ,x1,x0,x2,x6,x4,x5,x8,x3,x9,x7,Pe,Pt,Pr,Pn,Pi,Po,Pa,Ps,Pu,Pl,Pc,Pd,Pp,Pf,Ph,Pm,Pg,Py,Pb,P_,Pw,Pv,Pk,PA,PS,PI,PE,PT,Px,PP,PO,PB,PC,PR,PM,PL,PN,PD,PF,Pq,PU,Pj,PW,PK,Pz,PV,PH,PG,P$,PX,PZ,PQ="0123456789abcdef",PY="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PJ="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",P1={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},P0=!0,P2="[DecimalError] ",P6=P2+"Invalid argument: ",P4=P2+"Precision limit exceeded",P5=P2+"crypto unavailable",P8="[object Decimal]",P3=Math.floor,P9=Math.pow,P7=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Oe=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Ot=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Or=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,On=PY.length-1,Oi=PJ.length-1,Oo={toStringTag:P8};function Oa(e){var t,r,n,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(o+=Oy(r)),o+=n;(r=7-(n=(a=e[t])+"").length)&&(o+=Oy(r))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}function Os(e,t,r){if(e!==~~e||e<t||e>r)throw Error(P6+e)}function Ou(e,t,r,n){var i,o,a,s;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),o=P9(10,7-t),s=e[i]%o|0,null==n?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),a=r<4&&99999==s||r>3&&49999==s||5e4==s||0==s):a=(r<4&&s+1==o||r>3&&s+1==o/2)&&(e[i+1]/o/100|0)==P9(10,t-2)-1||(s==o/2||0==s)&&(e[i+1]/o/100|0)==0:t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),a=(n||r<4)&&9999==s||!n&&r>3&&4999==s):a=((n||r<4)&&s+1==o||!n&&r>3&&s+1==o/2)&&(e[i+1]/o/1e3|0)==P9(10,t-3)-1,a}function Ol(e,t,r){for(var n,i,o=[0],a=0,s=e.length;a<s;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=PQ.indexOf(e.charAt(a++)),n=0;n<o.length;n++)o[n]>r-1&&(void 0===o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}Oo.absoluteValue=Oo.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Od(e)},Oo.ceil=function(){return Od(new this.constructor(this),this.e+1,2)},Oo.clampedTo=Oo.clamp=function(e,t){var r=this.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(P6+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new r(this)},Oo.comparedTo=Oo.cmp=function(e){var t,r,n,i,o=this.d,a=(e=new this.constructor(e)).d,s=this.s,u=e.s;if(!o||!a)return s&&u?s!==u?s:o===a?0:!o^s<0?1:-1:NaN;if(!o[0]||!a[0])return o[0]?s:a[0]?-u:0;if(s!==u)return s;if(this.e!==e.e)return this.e>e.e^s<0?1:-1;for(n=o.length,i=a.length,t=0,r=n<i?n:i;t<r;++t)if(o[t]!==a[t])return o[t]>a[t]^s<0?1:-1;return n===i?0:n>i^s<0?1:-1},Oo.cosine=Oo.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n,i;if(t.isZero())return t;(n=t.d.length)<32?i=(1/OE(4,r=Math.ceil(n/3))).toString():(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=OI(e,1,t.times(i),new e(1));for(var o=r;o--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=r,t}(n,OT(n,r)),n.precision=e,n.rounding=t,Od(2==PZ||3==PZ?r.neg():r,e,t,!0)):new n(1):new n(NaN)},Oo.cubeRoot=Oo.cbrt=function(){var e,t,r,n,i,o,a,s,u,l,c=this.constructor;if(!this.isFinite()||this.isZero())return new c(this);for(P0=!1,(o=this.s*P9(this.s*this,1/3))&&Math.abs(o)!=1/0?n=new c(o.toString()):(r=Oa(this.d),(o=((e=this.e)-r.length+1)%3)&&(r+=1==o||-2==o?"0":"00"),o=P9(r,1/3),e=P3((e+1)/3)-(e%3==(e<0?-1:2)),(n=new c(r=o==1/0?"5e"+e:(r=o.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=this.s),a=(e=c.precision)+3;;)if(n=Oc((l=(u=(s=n).times(s).times(s)).plus(this)).plus(this).times(s),l.plus(u),a+2,1),Oa(s.d).slice(0,a)===(r=Oa(n.d)).slice(0,a)){if("9999"!=(r=r.slice(a-3,a+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(Od(n,e+1,1),t=!n.times(n).times(n).eq(this));break}if(!i&&(Od(s,e+1,0),s.times(s).times(s).eq(this))){n=s;break}a+=4,i=1}return P0=!0,Od(n,e,c.rounding,t)},Oo.decimalPlaces=Oo.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-P3(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},Oo.dividedBy=Oo.div=function(e){return Oc(this,new this.constructor(e))},Oo.dividedToIntegerBy=Oo.divToInt=function(e){var t=this.constructor;return Od(Oc(this,new t(e),0,1,1),t.precision,t.rounding)},Oo.equals=Oo.eq=function(e){return 0===this.cmp(e)},Oo.floor=function(){return Od(new this.constructor(this),this.e+1,3)},Oo.greaterThan=Oo.gt=function(e){return this.cmp(e)>0},Oo.greaterThanOrEqualTo=Oo.gte=function(e){var t=this.cmp(e);return 1==t||0===t},Oo.hyperbolicCosine=Oo.cosh=function(){var e,t,r,n,i,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;r=a.precision,n=a.rounding,a.precision=r+Math.max(o.e,o.sd())+4,a.rounding=1,(i=o.d.length)<32?t=(1/OE(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=OI(a,1,o.times(t),new a(1),!0);for(var u,l=e,c=new a(8);l--;)u=o.times(o),o=s.minus(u.times(c.minus(u.times(c))));return Od(o,a.precision=r,a.rounding=n,!0)},Oo.hyperbolicSine=Oo.sinh=function(){var e,t,r,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,r=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,(n=i.d.length)<3)i=OI(o,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=OI(o,2,i=i.times(1/OE(5,e)),i,!0);for(var a,s=new o(5),u=new o(16),l=new o(20);e--;)a=i.times(i),i=i.times(s.plus(a.times(u.times(a).plus(l))))}return o.precision=t,o.rounding=r,Od(i,t,r,!0)},Oo.hyperbolicTangent=Oo.tanh=function(){var e,t,r=this.constructor;return this.isFinite()?this.isZero()?new r(this):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,Oc(this.sinh(),this.cosh(),r.precision=e,r.rounding=t)):new r(this.s)},Oo.inverseCosine=Oo.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,o=r.rounding;return -1!==n?0===n?t.isNeg()?Om(r,i,o):new r(0):new r(NaN):t.isZero()?Om(r,i+4,o).times(.5):(r.precision=i+6,r.rounding=1,t=t.asin(),e=Om(r,i+4,o).times(.5),r.precision=i,r.rounding=o,e.minus(t))},Oo.inverseHyperbolicCosine=Oo.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,P0=!1,r=r.times(r).minus(1).sqrt().plus(r),P0=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},Oo.inverseHyperbolicSine=Oo.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,P0=!1,r=r.times(r).plus(1).sqrt().plus(r),P0=!0,n.precision=e,n.rounding=t,r.ln())},Oo.inverseHyperbolicTangent=Oo.atanh=function(){var e,t,r,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,Math.max(n=i.sd(),e)<-(2*i.e)-1?Od(new o(i),e,t,!0):(o.precision=r=n-i.e,i=Oc(i.plus(1),new o(1).minus(i),r+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)},Oo.inverseSine=Oo.asin=function(){var e,t,r,n,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),r=o.precision,n=o.rounding,-1!==t?0===t?((e=Om(o,r+4,n).times(.5)).s=i.s,e):new o(NaN):(o.precision=r+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=r,o.rounding=n,i.times(2)))},Oo.inverseTangent=Oo.atan=function(){var e,t,r,n,i,o,a,s,u,l=this,c=l.constructor,d=c.precision,p=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&d+4<=Oi)return(a=Om(c,d+4,p).times(.25)).s=l.s,a}else{if(!l.s)return new c(NaN);if(d+4<=Oi)return(a=Om(c,d+4,p).times(.5)).s=l.s,a}for(c.precision=s=d+10,c.rounding=1,e=r=Math.min(28,s/7+2|0);e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(P0=!1,t=Math.ceil(s/7),n=1,u=l.times(l),a=new c(l),i=l;-1!==e;)if(i=i.times(u),o=a.minus(i.div(n+=2)),i=i.times(u),void 0!==(a=o.plus(i.div(n+=2))).d[t])for(e=t;a.d[e]===o.d[e]&&e--;);return r&&(a=a.times(2<<r-1)),P0=!0,Od(a,c.precision=d,c.rounding=p,!0)},Oo.isFinite=function(){return!!this.d},Oo.isInteger=Oo.isInt=function(){return!!this.d&&P3(this.e/7)>this.d.length-2},Oo.isNaN=function(){return!this.s},Oo.isNegative=Oo.isNeg=function(){return this.s<0},Oo.isPositive=Oo.isPos=function(){return this.s>0},Oo.isZero=function(){return!!this.d&&0===this.d[0]},Oo.lessThan=Oo.lt=function(e){return 0>this.cmp(e)},Oo.lessThanOrEqualTo=Oo.lte=function(e){return 1>this.cmp(e)},Oo.logarithm=Oo.log=function(e){var t,r,n,i,o,a,s,u=this.constructor,l=u.precision,c=u.rounding;if(null==e)e=new u(10),t=!0;else{if(r=(e=new u(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new u(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t){if(r.length>1)i=!0;else{for(n=r[0];n%10==0;)n/=10;i=1!==n}}if(P0=!1,Ou((s=Oc(Ok(this,a=l+5),t?Oh(u,a+10):Ok(e,a),a,1)).d,n=l,c))do if(a+=10,s=Oc(Ok(this,a),t?Oh(u,a+10):Ok(e,a),a,1),!i){+Oa(s.d).slice(n+1,n+15)+1==1e14&&(s=Od(s,l+1,0));break}while(Ou(s.d,n+=10,c))return P0=!0,Od(s,l,c)},Oo.minus=Oo.sub=function(e){var t,r,n,i,o,a,s,u,l,c,d,p,f=this.constructor;if(e=new f(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new f(e.d||this.s!==e.s?this:NaN):e=new f(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(l=this.d,p=e.d,s=f.precision,u=f.rounding,!l[0]||!p[0]){if(p[0])e.s=-e.s;else{if(!l[0])return new f(3===u?-0:0);e=new f(this)}return P0?Od(e,s,u):e}if(r=P3(e.e/7),c=P3(this.e/7),l=l.slice(),o=c-r){for((d=o<0)?(t=l,o=-o,a=p.length):(t=p,r=c,a=l.length),o>(n=Math.max(Math.ceil(s/7),a)+2)&&(o=n,t.length=1),t.reverse(),n=o;n--;)t.push(0);t.reverse()}else{for((d=(n=l.length)<(a=p.length))&&(a=n),n=0;n<a;n++)if(l[n]!=p[n]){d=l[n]<p[n];break}o=0}for(d&&(t=l,l=p,p=t,e.s=-e.s),a=l.length,n=p.length-a;n>0;--n)l[a++]=0;for(n=p.length;n>o;){if(l[--n]<p[n]){for(i=n;i&&0===l[--i];)l[i]=1e7-1;--l[i],l[n]+=1e7}l[n]-=p[n]}for(;0===l[--a];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(e.d=l,e.e=Of(l,r),P0?Od(e,s,u):e):new f(3===u?-0:0)},Oo.modulo=Oo.mod=function(e){var t,r=this.constructor;return e=new r(e),this.d&&e.s&&(!e.d||e.d[0])?e.d&&(!this.d||this.d[0])?(P0=!1,9==r.modulo?(t=Oc(this,e.abs(),0,3,1),t.s*=e.s):t=Oc(this,e,0,r.modulo,1),t=t.times(e),P0=!0,this.minus(t)):Od(new r(this),r.precision,r.rounding):new r(NaN)},Oo.naturalExponential=Oo.exp=function(){return Ov(this)},Oo.naturalLogarithm=Oo.ln=function(){return Ok(this)},Oo.negated=Oo.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Od(e)},Oo.plus=Oo.add=function(e){var t,r,n,i,o,a,s,u,l,c,d=this.constructor;if(e=new d(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new d(e.d||this.s===e.s?this:NaN)):e=new d(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(l=this.d,c=e.d,s=d.precision,u=d.rounding,!l[0]||!c[0])return c[0]||(e=new d(this)),P0?Od(e,s,u):e;if(o=P3(this.e/7),n=P3(e.e/7),l=l.slice(),i=o-n){for(i<0?(r=l,i=-i,a=c.length):(r=c,n=o,a=l.length),i>(a=(o=Math.ceil(s/7))>a?o+1:a+1)&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((a=l.length)-(i=c.length)<0&&(i=a,r=c,c=l,l=r),t=0;i;)t=(l[--i]=l[i]+c[i]+t)/1e7|0,l[i]%=1e7;for(t&&(l.unshift(t),++n),a=l.length;0==l[--a];)l.pop();return e.d=l,e.e=Of(l,n),P0?Od(e,s,u):e},Oo.precision=Oo.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(P6+e);return this.d?(t=Og(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},Oo.round=function(){var e=this.constructor;return Od(new e(this),this.e+1,e.rounding)},Oo.sine=Oo.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:OI(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=OI(e,2,t=t.times(1/OE(5,r)),t);for(var i,o=new e(5),a=new e(16),s=new e(20);r--;)i=t.times(t),t=t.times(o.plus(i.times(a.times(i).minus(s))));return t}(n,OT(n,r)),n.precision=e,n.rounding=t,Od(PZ>2?r.neg():r,e,t,!0)):new n(NaN)},Oo.squareRoot=Oo.sqrt=function(){var e,t,r,n,i,o,a=this.d,s=this.e,u=this.s,l=this.constructor;if(1!==u||!a||!a[0])return new l(!u||u<0&&(!a||a[0])?NaN:a?this:1/0);for(P0=!1,0==(u=Math.sqrt(+this))||u==1/0?(((t=Oa(a)).length+s)%2==0&&(t+="0"),u=Math.sqrt(t),s=P3((s+1)/2)-(s<0||s%2),n=new l(t=u==1/0?"5e"+s:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+s)):n=new l(u.toString()),r=(s=l.precision)+3;;)if(n=(o=n).plus(Oc(this,o,r+2,1)).times(.5),Oa(o.d).slice(0,r)===(t=Oa(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(Od(n,s+1,1),e=!n.times(n).eq(this));break}if(!i&&(Od(o,s+1,0),o.times(o).eq(this))){n=o;break}r+=4,i=1}return P0=!0,Od(n,s,l.rounding,e)},Oo.tangent=Oo.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=Oc(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,Od(2==PZ||4==PZ?r.neg():r,e,t,!0)):new n(NaN)},Oo.times=Oo.mul=function(e){var t,r,n,i,o,a,s,u,l,c=this.constructor,d=this.d,p=(e=new c(e)).d;if(e.s*=this.s,!d||!d[0]||!p||!p[0])return new c(e.s&&(!d||d[0]||p)&&(!p||p[0]||d)?d&&p?0*e.s:e.s/0:NaN);for(r=P3(this.e/7)+P3(e.e/7),(u=d.length)<(l=p.length)&&(o=d,d=p,p=o,a=u,u=l,l=a),o=[],n=a=u+l;n--;)o.push(0);for(n=l;--n>=0;){for(t=0,i=u+n;i>n;)s=o[i]+p[n]*d[i-n-1]+t,o[i--]=s%1e7|0,t=s/1e7|0;o[i]=(o[i]+t)%1e7|0}for(;!o[--a];)o.pop();return t?++r:o.shift(),e.d=o,e.e=Of(o,r),P0?Od(e,c.precision,c.rounding):e},Oo.toBinary=function(e,t){return Ox(this,2,e,t)},Oo.toDecimalPlaces=Oo.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(Os(e,0,1e9),void 0===t?t=n.rounding:Os(t,0,8),Od(r,e+r.e+1,t))},Oo.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=Op(n,!0):(Os(e,0,1e9),void 0===t?t=i.rounding:Os(t,0,8),r=Op(n=Od(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},Oo.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?r=Op(this):(Os(e,0,1e9),void 0===t?t=i.rounding:Os(t,0,8),r=Op(n=Od(new i(this),e+this.e+1,t),!1,e+n.e+1)),this.isNeg()&&!this.isZero()?"-"+r:r},Oo.toFraction=function(e){var t,r,n,i,o,a,s,u,l,c,d,p,f=this.d,h=this.constructor;if(!f)return new h(this);if(l=r=new h(1),n=u=new h(0),a=(o=(t=new h(n)).e=Og(f)-this.e-1)%7,t.d[0]=P9(10,a<0?7+a:a),null==e)e=o>0?t:l;else{if(!(s=new h(e)).isInt()||s.lt(l))throw Error(P6+s);e=s.gt(t)?o>0?t:l:s}for(P0=!1,s=new h(Oa(f)),c=h.precision,h.precision=o=14*f.length;d=Oc(s,t,0,1,1),1!=(i=r.plus(d.times(n))).cmp(e);)r=n,n=i,i=l,l=u.plus(d.times(i)),u=i,i=t,t=s.minus(d.times(i)),s=i;return i=Oc(e.minus(r),n,0,1,1),u=u.plus(i.times(l)),r=r.plus(i.times(n)),u.s=l.s=this.s,p=1>Oc(l,n,o,1).minus(this).abs().cmp(Oc(u,r,o,1).minus(this).abs())?[l,n]:[u,r],h.precision=c,P0=!0,p},Oo.toHexadecimal=Oo.toHex=function(e,t){return Ox(this,16,e,t)},Oo.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:Os(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(P0=!1,r=Oc(r,e,0,t,1).times(e),P0=!0,Od(r)):(e.s=r.s,r=e),r},Oo.toNumber=function(){return+this},Oo.toOctal=function(e,t){return Ox(this,8,e,t)},Oo.toPower=Oo.pow=function(e){var t,r,n,i,o,a,s=this,u=s.constructor,l=+(e=new u(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new u(P9(+s,l));if((s=new u(s)).eq(1))return s;if(n=u.precision,o=u.rounding,e.eq(1))return Od(s,n,o);if((t=P3(e.e/7))>=e.d.length-1&&(r=l<0?-l:l)<=9007199254740991)return i=Ob(u,s,r,n),e.s<0?new u(1).div(i):Od(i,n,o);if((a=s.s)<0){if(t<e.d.length-1)return new u(NaN);if((1&e.d[t])==0&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return(t=0!=(r=P9(+s,l))&&isFinite(r)?new u(r+"").e:P3(l*(Math.log("0."+Oa(s.d))/Math.LN10+s.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?a/0:0):(P0=!1,u.rounding=s.s=1,r=Math.min(12,(t+"").length),(i=Ov(e.times(Ok(s,n+r)),n)).d&&Ou((i=Od(i,n+5,1)).d,n,o)&&(t=n+10,+Oa((i=Od(Ov(e.times(Ok(s,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=Od(i,n+1,0))),i.s=a,P0=!0,u.rounding=o,Od(i,n,o))},Oo.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=Op(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Os(e,1,1e9),void 0===t?t=i.rounding:Os(t,0,8),r=Op(n=Od(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},Oo.toSignificantDigits=Oo.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(Os(e,1,1e9),void 0===t?t=r.rounding:Os(t,0,8)),Od(new r(this),e,t)},Oo.toString=function(){var e=this.constructor,t=Op(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},Oo.truncated=Oo.trunc=function(){return Od(new this.constructor(this),this.e+1,1)},Oo.valueOf=Oo.toJSON=function(){var e=this.constructor,t=Op(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var Oc=function(){function e(e,t,r){var n,i=0,o=e.length;for(e=e.slice();o--;)n=e[o]*t+i,e[o]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,o,a,s,u){var l,c,d,p,f,h,m,g,y,b,_,w,v,k,A,S,I,E,T,x,P=n.constructor,O=n.s==i.s?1:-1,B=n.d,C=i.d;if(!B||!B[0]||!C||!C[0])return new P(n.s&&i.s&&(B?!C||B[0]!=C[0]:C)?B&&0==B[0]||!C?0*O:O/0:NaN);for(u?(f=1,c=n.e-i.e):(u=1e7,f=7,c=P3(n.e/f)-P3(i.e/f)),T=C.length,I=B.length,b=(y=new P(O)).d=[],d=0;C[d]==(B[d]||0);d++);if(C[d]>(B[d]||0)&&c--,null==o?(k=o=P.precision,a=P.rounding):k=s?o+(n.e-i.e)+1:o,k<0)b.push(1),h=!0;else{if(k=k/f+2|0,d=0,1==T){for(p=0,C=C[0],k++;(d<I||p)&&k--;d++)A=p*u+(B[d]||0),b[d]=A/C|0,p=A%C|0;h=p||d<I}else{for((p=u/(C[0]+1)|0)>1&&(C=e(C,p,u),B=e(B,p,u),T=C.length,I=B.length),S=T,w=(_=B.slice(0,T)).length;w<T;)_[w++]=0;(x=C.slice()).unshift(0),E=C[0],C[1]>=u/2&&++E;do p=0,(l=t(C,_,T,w))<0?(v=_[0],T!=w&&(v=v*u+(_[1]||0)),(p=v/E|0)>1?(p>=u&&(p=u-1),g=(m=e(C,p,u)).length,w=_.length,1==(l=t(m,_,g,w))&&(p--,r(m,T<g?x:C,g,u))):(0==p&&(l=p=1),m=C.slice()),(g=m.length)<w&&m.unshift(0),r(_,m,w,u),-1==l&&(w=_.length,(l=t(C,_,T,w))<1&&(p++,r(_,T<w?x:C,w,u))),w=_.length):0===l&&(p++,_=[0]),b[d++]=p,l&&_[0]?_[w++]=B[S]||0:(_=[B[S]],w=1);while((S++<I||void 0!==_[0])&&k--)h=void 0!==_[0]}b[0]||b.shift()}if(1==f)y.e=c,PX=h;else{for(d=1,p=b[0];p>=10;p/=10)d++;y.e=d+c*f-1,Od(y,s?o+y.e+1:o,a,h)}return y}}();function Od(e,t,r,n){var i,o,a,s,u,l,c,d,p,f=e.constructor;i:if(null!=t){if(!(d=e.d))return e;for(i=1,s=d[0];s>=10;s/=10)i++;if((o=t-i)<0)o+=7,a=t,u=(c=d[p=0])/P9(10,i-a-1)%10|0;else if((p=Math.ceil((o+1)/7))>=(s=d.length)){if(n){for(;s++<=p;)d.push(0);c=u=0,i=1,o%=7,a=o-7+1}else break i}else{for(c=s=d[p],i=1;s>=10;s/=10)i++;o%=7,u=(a=o-7+i)<0?0:c/P9(10,i-a-1)%10|0}if(n=n||t<0||void 0!==d[p+1]||(a<0?c:c%P9(10,i-a-1)),l=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(o>0?a>0?c/P9(10,i-a):0:d[p-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,l?(t-=e.e+1,d[0]=P9(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==o?(d.length=p,s=1,p--):(d.length=p+1,s=P9(10,7-o),d[p]=a>0?(c/P9(10,i-a)%P9(10,a)|0)*s:0),l)for(;;)if(0==p){for(o=1,a=d[0];a>=10;a/=10)o++;for(a=d[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(e.e++,1e7==d[0]&&(d[0]=1));break}else{if(d[p]+=s,1e7!=d[p])break;d[p--]=0,s=1}for(o=d.length;0===d[--o];)d.pop()}return P0&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function Op(e,t,r){if(!e.isFinite())return OA(e);var n,i=e.e,o=Oa(e.d),a=o.length;return t?(r&&(n=r-a)>0?o=o.charAt(0)+"."+o.slice(1)+Oy(n):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+Oy(-i-1)+o,r&&(n=r-a)>0&&(o+=Oy(n))):i>=a?(o+=Oy(i+1-a),r&&(n=r-i-1)>0&&(o=o+"."+Oy(n))):((n=i+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(o+="."),o+=Oy(n))),o}function Of(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function Oh(e,t,r){if(t>On)throw P0=!0,r&&(e.precision=r),Error(P4);return Od(new e(PY),t,1,!0)}function Om(e,t,r){if(t>Oi)throw Error(P4);return Od(new e(PJ),t,r,!0)}function Og(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function Oy(e){for(var t="";e--;)t+="0";return t}function Ob(e,t,r,n){var i,o=new e(1),a=Math.ceil(n/7+4);for(P0=!1;;){if(r%2&&OP((o=o.times(t)).d,a)&&(i=!0),0===(r=P3(r/2))){r=o.d.length-1,i&&0===o.d[r]&&++o.d[r];break}OP((t=t.times(t)).d,a)}return P0=!0,o}function O_(e){return 1&e.d[e.d.length-1]}function Ow(e,t,r){for(var n,i=new e(t[0]),o=0;++o<t.length;)if((n=new e(t[o])).s)i[r](n)&&(i=n);else{i=n;break}return i}function Ov(e,t){var r,n,i,o,a,s,u,l=0,c=0,d=0,p=e.constructor,f=p.rounding,h=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(null==t?(P0=!1,u=h):u=t,s=new p(.03125);e.e>-2;)e=e.times(s),d+=5;for(u+=n=Math.log(P9(2,d))/Math.LN10*2+5|0,r=o=a=new p(1),p.precision=u;;){if(o=Od(o.times(e),u,1),r=r.times(++c),Oa((s=a.plus(Oc(o,r,u,1))).d).slice(0,u)===Oa(a.d).slice(0,u)){for(i=d;i--;)a=Od(a.times(a),u,1);if(null!=t)return p.precision=h,a;if(!(l<3&&Ou(a.d,u-n,f,l)))return Od(a,p.precision=h,f,P0=!0);p.precision=u+=10,r=o=s=new p(1),c=0,l++}a=s}}function Ok(e,t){var r,n,i,o,a,s,u,l,c,d,p,f=1,h=e,m=h.d,g=h.constructor,y=g.rounding,b=g.precision;if(h.s<0||!m||!m[0]||!h.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=h.s?NaN:m?0:h);if(null==t?(P0=!1,c=b):c=t,g.precision=c+=10,n=(r=Oa(m)).charAt(0),!(15e14>Math.abs(o=h.e)))return l=Oh(g,c+2,b).times(o+""),h=Ok(new g(n+"."+r.slice(1)),c-10).plus(l),g.precision=b,null==t?Od(h,b,y,P0=!0):h;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=Oa((h=h.times(e)).d)).charAt(0),f++;for(o=h.e,n>1?(h=new g("0."+r),o++):h=new g(n+"."+r.slice(1)),d=h,u=a=h=Oc(h.minus(1),h.plus(1),c,1),p=Od(h.times(h),c,1),i=3;;){if(a=Od(a.times(p),c,1),Oa((l=u.plus(Oc(a,new g(i),c,1))).d).slice(0,c)===Oa(u.d).slice(0,c)){if(u=u.times(2),0!==o&&(u=u.plus(Oh(g,c+2,b).times(o+""))),u=Oc(u,new g(f),c,1),null!=t)return g.precision=b,u;if(!Ou(u.d,c-10,y,s))return Od(u,g.precision=b,y,P0=!0);g.precision=c+=10,l=a=h=Oc(d.minus(1),d.plus(1),c,1),p=Od(h.times(h),c,1),i=s=1}u=l,i+=2}}function OA(e){return String(e.s*e.s/0)}function OS(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),P0&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function OI(e,t,r,n,i){var o,a,s,u,l=e.precision,c=Math.ceil(l/7);for(P0=!1,u=r.times(r),s=new e(n);;){if(a=Oc(s.times(u),new e(t++*t++),l,1),s=i?n.plus(a):n.minus(a),n=Oc(a.times(u),new e(t++*t++),l,1),void 0!==(a=s.plus(n)).d[c]){for(o=c;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=n,n=a,a=o}return P0=!0,a.d.length=c+1,a}function OE(e,t){for(var r=e;--t;)r*=e;return r}function OT(e,t){var r,n=t.s<0,i=Om(e,e.precision,1),o=i.times(.5);if((t=t.abs()).lte(o))return PZ=n?4:1,t;if((r=t.divToInt(i)).isZero())PZ=n?3:2;else{if((t=t.minus(r.times(i))).lte(o))return PZ=O_(r)?n?2:3:n?4:1,t;PZ=O_(r)?n?1:4:n?3:2}return t.minus(i).abs()}function Ox(e,t,r,n){var i,o,a,s,u,l,c,d,p,f=e.constructor,h=void 0!==r;if(h?(Os(r,1,1e9),void 0===n?n=f.rounding:Os(n,0,8)):(r=f.precision,n=f.rounding),e.isFinite()){for(a=(c=Op(e)).indexOf("."),h?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,a>=0&&(c=c.replace(".",""),(p=new f(1)).e=c.length-a,p.d=Ol(Op(p),10,i),p.e=p.d.length),o=u=(d=Ol(c,10,i)).length;0==d[--u];)d.pop();if(d[0]){if(a<0?o--:((e=new f(e)).d=d,e.e=o,d=(e=Oc(e,p,r,n,0,i)).d,o=e.e,l=PX),a=d[r],s=i/2,l=l||void 0!==d[r+1],l=n<4?(void 0!==a||l)&&(0===n||n===(e.s<0?3:2)):a>s||a===s&&(4===n||l||6===n&&1&d[r-1]||n===(e.s<0?8:7)),d.length=r,l)for(;++d[--r]>i-1;)d[r]=0,r||(++o,d.unshift(1));for(u=d.length;!d[u-1];--u);for(a=0,c="";a<u;a++)c+=PQ.charAt(d[a]);if(h){if(u>1){if(16==t||8==t){for(a=16==t?4:3,--u;u%a;u++)c+="0";for(u=(d=Ol(c,i,t)).length;!d[u-1];--u);for(a=1,c="1.";a<u;a++)c+=PQ.charAt(d[a])}else c=c.charAt(0)+"."+c.slice(1)}c=c+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)c="0"+c;c="0."+c}else if(++o>u)for(o-=u;o--;)c+="0";else o<u&&(c=c.slice(0,o)+"."+c.slice(o))}else c=h?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=OA(e);return e.s<0?"-"+c:c}function OP(e,t){if(e.length>t)return e.length=t,!0}function OO(e){return new this(e).abs()}function OB(e){return new this(e).acos()}function OC(e){return new this(e).acosh()}function OR(e,t){return new this(e).plus(t)}function OM(e){return new this(e).asin()}function OL(e){return new this(e).asinh()}function ON(e){return new this(e).atan()}function OD(e){return new this(e).atanh()}function OF(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,o=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?Om(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=Om(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,r=this.atan(Oc(e,t,o,1)),t=Om(this,o,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(Oc(e,t,o,1)):(r=Om(this,o,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function Oq(e){return new this(e).cbrt()}function OU(e){return Od(e=new this(e),e.e+1,2)}function Oj(e,t,r){return new this(e).clamp(t,r)}function OW(e){if(!e||"object"!=typeof e)throw Error(P2+"Object expected");var t,r,n,i=!0===e.defaults,o=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(r=o[t],i&&(this[r]=P1[r]),void 0!==(n=e[r])){if(P3(n)===n&&n>=o[t+1]&&n<=o[t+2])this[r]=n;else throw Error(P6+r+": "+n)}if(r="crypto",i&&(this[r]=P1[r]),void 0!==(n=e[r])){if(!0===n||!1===n||0===n||1===n){if(n){if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(P5)}else this[r]=!1}else throw Error(P6+r+": "+n)}return this}function OK(e){return new this(e).cos()}function Oz(e){return new this(e).cosh()}function OV(e,t){return new this(e).div(t)}function OH(e){return new this(e).exp()}function OG(e){return Od(e=new this(e),e.e+1,3)}function O$(){var e,t,r=new this(0);for(P0=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return P0=!0,new this(1/0);r=t}return P0=!0,r.sqrt()}function OX(e){return e instanceof Ba||e&&e.toStringTag===P8||!1}function OZ(e){return new this(e).ln()}function OQ(e,t){return new this(e).log(t)}function OY(e){return new this(e).log(2)}function OJ(e){return new this(e).log(10)}function O1(){return Ow(this,arguments,"lt")}function O0(){return Ow(this,arguments,"gt")}function O2(e,t){return new this(e).mod(t)}function O6(e,t){return new this(e).mul(t)}function O4(e,t){return new this(e).pow(t)}function O5(e){var t,r,n,i,o=0,a=new this(1),s=[];if(void 0===e?e=this.precision:Os(e,1,1e9),n=Math.ceil(e/7),this.crypto){if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));o<n;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);o<n;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(s.push(i%1e7),o+=4);o=n/4}else throw Error(P5)}else for(;o<n;)s[o++]=1e7*Math.random()|0;for(n=s[--o],e%=7,n&&e&&(i=P9(10,7-e),s[o]=(n/i|0)*i);0===s[o];o--)s.pop();if(o<0)r=0,s=[0];else{for(r=-1;0===s[0];r-=7)s.shift();for(n=1,i=s[0];i>=10;i/=10)n++;n<7&&(r-=7-n)}return a.e=r,a.d=s,a}function O8(e){return Od(e=new this(e),e.e+1,this.rounding)}function O3(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function O9(e){return new this(e).sin()}function O7(e){return new this(e).sinh()}function Be(e){return new this(e).sqrt()}function Bt(e,t){return new this(e).sub(t)}function Br(){var e=0,t=arguments,r=new this(t[e]);for(P0=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return P0=!0,Od(r,this.precision,this.rounding)}function Bn(e){return new this(e).tan()}function Bi(e){return new this(e).tanh()}function Bo(e){return Od(e=new this(e),e.e+1,1)}Oo[Symbol.for("nodejs.util.inspect.custom")]=Oo.toString,Oo[Symbol.toStringTag]="Decimal";var Ba=Oo.constructor=function e(t){var r,n,i;function o(e){var t,r,n;if(!(this instanceof o))return new o(e);if(this.constructor=o,OX(e)){this.s=e.s,P0?!e.d||e.e>o.maxE?(this.e=NaN,this.d=null):e.e<o.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(n=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;P0?t>o.maxE?(this.e=NaN,this.d=null):t<o.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return OS(this,e.toString())}if("string"!==n)throw Error(P6+e);return 45===(r=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===r&&(e=e.slice(1)),this.s=1),Or.test(e)?OS(this,e):function(e,t){var r,n,i,o,a,s,u,l,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Or.test(t))return OS(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Oe.test(t))r=16,t=t.toLowerCase();else if(P7.test(t))r=2;else if(Ot.test(t))r=8;else throw Error(P6+t);for((o=t.search(/p/i))>0?(u=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),a=(o=t.indexOf("."))>=0,n=e.constructor,a&&(o=(s=(t=t.replace(".","")).length)-o,i=Ob(n,new n(r),o,2*o)),o=c=(l=Ol(t,r,1e7)).length-1;0===l[o];--o)l.pop();return o<0?new n(0*e.s):(e.e=Of(l,c),e.d=l,P0=!1,a&&(e=Oc(e,i,4*s)),u&&(e=e.times(54>Math.abs(u)?P9(2,u):Ba.pow(2,u))),P0=!0,e)}(this,e)}if(o.prototype=Oo,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=OW,o.clone=e,o.isDecimal=OX,o.abs=OO,o.acos=OB,o.acosh=OC,o.add=OR,o.asin=OM,o.asinh=OL,o.atan=ON,o.atanh=OD,o.atan2=OF,o.cbrt=Oq,o.ceil=OU,o.clamp=Oj,o.cos=OK,o.cosh=Oz,o.div=OV,o.exp=OH,o.floor=OG,o.hypot=O$,o.ln=OZ,o.log=OQ,o.log10=OJ,o.log2=OY,o.max=O1,o.min=O0,o.mod=O2,o.mul=O6,o.pow=O4,o.random=O5,o.round=O8,o.sign=O3,o.sin=O9,o.sinh=O7,o.sqrt=Be,o.sub=Bt,o.sum=Br,o.tan=Bn,o.tanh=Bi,o.trunc=Bo,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return o.config(t),o}(P1);PY=new Ba(PY),PJ=new Ba(PJ);var Bs=ed(xx),Bu=((k=Bu||{})[k.ROUND_DOWN=0]="ROUND_DOWN",k[k.ROUND_HALF_UP=1]="ROUND_HALF_UP",k[k.ROUND_UP=2]="ROUND_UP",k);function Bl(e){let t=xV("Raydium_parseBigNumberish");if(e instanceof ed(d0))return e;if("string"==typeof e){if(e.match(/^-?[0-9]+$/))return new(ed(d0))(e);t.logWithError(`invalid BigNumberish string: ${e}`)}return"number"==typeof e?(e%1&&t.logWithError(`BigNumberish number underflow: ${e}`),(e>=9007199254740991||e<=-9007199254740991)&&t.logWithError(`BigNumberish number overflow: ${e}`),new(ed(d0))(String(e))):"bigint"==typeof e?new(ed(d0))(e.toString()):(t.error(`invalid BigNumberish value: ${e}`),new(ed(d0))(0))}var Bc=xV("module/fraction"),Bd=Bs(ed(xT)),Bp=Bs(ed(xP)),Bf={0:Bp.ROUND_DOWN,1:Bp.ROUND_HALF_UP,2:Bp.ROUND_UP},Bh={0:ed(xT).roundDown,1:ed(xT).roundHalfUp,2:ed(xT).roundUp},Bm=class{constructor(e,t=new(ed(d0))(1)){this.numerator=Bl(e),this.denominator=Bl(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new Bm(this.denominator,this.numerator)}add(e){let t=e instanceof Bm?e:new Bm(Bl(e));return this.denominator.eq(t.denominator)?new Bm(this.numerator.add(t.numerator),this.denominator):new Bm(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof Bm?e:new Bm(Bl(e));return this.denominator.eq(t.denominator)?new Bm(this.numerator.sub(t.numerator),this.denominator):new Bm(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof Bm?e:new Bm(Bl(e));return new Bm(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof Bm?e:new Bm(Bl(e));return new Bm(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},r=1){Number.isInteger(e)||Bc.logWithError(`${e} is not an integer.`),e<=0&&Bc.logWithError(`${e} is not positive.`),Bp.set({precision:e+1,rounding:Bf[r]});let n=new Bp(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return n.toFormat(n.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},r=1){return Number.isInteger(e)||Bc.logWithError(`${e} is not an integer.`),e<0&&Bc.logWithError(`${e} is negative.`),Bd.DP=e,Bd.RM=Bh[r]||1,new Bd(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}isZero(){return this.numerator.isZero()}},Bg=xV("Raydium_amount"),By=Bs(ed(xT)),Bb=class extends Bm{constructor(e,t,r=!0,n){let i=new(ed(d0))(0),o=BK.pow(new(ed(d0))(e.decimals));if(r)i=Bl(t);else{let r=new(ed(d0))(0),n=new(ed(d0))(0);if("string"==typeof t||"number"==typeof t||"bigint"==typeof t){let[i,o]=function(e,t){let r="0",n="0";if(e.includes(".")){let i=e.split(".");2===i.length?([r,n]=i,n=n.padEnd(t,"0")):Bg.logWithError(`invalid number string, num: ${e}`)}else r=e;return[r,n.slice(0,t)||n]}(t.toString(),e.decimals);r=Bl(i),n=Bl(o)}i=(r=r.mul(o)).add(n)}super(i,o),this.logger=xV(n||"TokenAmount"),this.token=e}get raw(){return this.numerator}isZero(){return this.raw.isZero()}gt(e){return this.token.equals(e.token)||this.logger.logWithError("gt token not equals"),this.raw.gt(e.raw)}lt(e){return this.token.equals(e.token)||this.logger.logWithError("lt token not equals"),this.raw.lt(e.raw)}add(e){return this.token.equals(e.token)||this.logger.logWithError("add token not equals"),new Bb(this.token,this.raw.add(e.raw))}subtract(e){return this.token.equals(e.token)||this.logger.logWithError("sub token not equals"),new Bb(this.token,this.raw.sub(e.raw))}toSignificant(e=this.token.decimals,t,r=0){return super.toSignificant(e,t,r)}toFixed(e=this.token.decimals,t,r=0){return e>this.token.decimals&&this.logger.logWithError("decimals overflow"),super.toFixed(e,t,r)}toExact(e={groupSeparator:""}){return By.DP=this.token.decimals,new By(this.numerator.toString()).div(this.denominator.toString()).toFormat(e)}},B_={chainId:101,address:ho.default.toBase58(),programId:SX.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},Bw={chainId:101,address:"So11111111111111111111111111111111111111112",programId:SX.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};function Bv({pubkey:e,isSigner:t=!1,isWritable:r=!0}){return{pubkey:e,isWritable:r,isSigner:t}}var Bk=[Bv({pubkey:SX,isWritable:!1}),Bv({pubkey:hV.programId,isWritable:!1}),Bv({pubkey:hC,isWritable:!1})];function BA({publicKey:e,transformSol:t}){let r=BS(e.toString());if(r instanceof ho)return t&&r.equals(BC)?BB:r;if(t&&r.toString()===BC.toBase58())return BB;if("string"==typeof r){if(r===ho.default.toBase58())return ho.default;try{return new ho(r)}catch{throw Error("invalid public key")}}throw Error("invalid public key")}function BS(e){try{return new ho(e)}catch{return e}}var BI=new ho("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),BE=new ho("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),BT=new ho("SysvarRent111111111111111111111111111111111"),Bx=new ho("SysvarC1ock11111111111111111111111111111111"),BP=new ho("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),BO=(new ho("Sysvar1nstructions1111111111111111111111111"),hV.programId),BB=(new ho("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),new ho("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),new ho("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),new ho("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),new ho("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),new ho("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),new ho("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),new ho("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),new ho("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),new ho("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),new ho("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),new ho("So11111111111111111111111111111111111111112")),BC=ho.default;function BR(e){return BA({publicKey:e,transformSol:!0})}var BM=class{constructor({mint:e,decimals:t,symbol:r,name:n,skipMint:i=!1,isToken2022:o=!1}){if(e===BC.toBase58()||e instanceof ho&&BC.equals(e)){this.decimals=Bw.decimals,this.symbol=Bw.symbol,this.name=Bw.name,this.mint=new ho(Bw.address),this.isToken2022=!1;return}this.decimals=t,this.symbol=r||e.toString().substring(0,6),this.name=n||e.toString().substring(0,6),this.mint=i?ho.default:BA({publicKey:e}),this.isToken2022=o}equals(e){return this===e||this.mint.equals(e.mint)}};BM.WSOL=new BM(xq(xF({},Bw),{mint:Bw.address}));var BL=class{constructor({decimals:e,symbol:t="UNKNOWN",name:r="UNKNOWN"}){this.decimals=e,this.symbol=t,this.name=r}equals(e){return this===e}};BL.SOL=new BL(B_);var BN=new Bm(new(ed(d0))(100)),BD=class extends Bm{toSignificant(e=5,t,r){return this.mul(BN).toSignificant(e,t,r)}toFixed(e=2,t,r){return this.mul(BN).toFixed(e,t,r)}},BF=xV("Raydium_price"),Bq=class extends Bm{constructor(e){var t,r;let{baseToken:n,quoteToken:i,numerator:o,denominator:a}=e;super(o,a),this.baseToken=n,this.quoteToken=i,this.scalar=new Bm((t=n.decimals,BK.pow(Bl(t))),(r=i.decimals,BK.pow(Bl(r))))}get raw(){return new Bm(this.numerator,this.denominator)}get adjusted(){return super.mul(this.scalar)}invert(){return new Bq({baseToken:this.quoteToken,quoteToken:this.baseToken,denominator:this.numerator,numerator:this.denominator})}mul(e){this.quoteToken!==e.baseToken&&BF.logWithError("mul token not equals");let t=super.mul(e);return new Bq({baseToken:this.baseToken,quoteToken:e.quoteToken,denominator:t.denominator,numerator:t.numerator})}toSignificant(e=this.quoteToken.decimals,t,r){return this.adjusted.toSignificant(e,t,r)}toFixed(e=this.quoteToken.decimals,t,r){return this.adjusted.toFixed(e,t,r)}};function BU(e){return"string"==typeof e?BS(e):Array.isArray(e)?e.map(e=>BU(e)):"object"!=typeof e||null===e||[BM,Bb,ho,Bm,ed(d0),Bq,BD].some(t=>"object"==typeof t&&e instanceof t)?e:Object.fromEntries(Object.entries(e).map(([e,t])=>[e,BU(t)]))}var Bj=new(ed(d0))(0),BW=new(ed(d0))(1),BK=(new(ed(d0))(2),new(ed(d0))(3),new(ed(d0))(5),new(ed(d0))(10));function Bz(e,t){let r=e.divmod(t);return r.mod.isZero()?r.div:r.div.isNeg()?r.div.isubn(1):r.div.iaddn(1)}function BV(e,t,r){return e.mul(t).add(r).sub(new(ed(d0))(1)).div(r)}function BH(e,t=1,r=[]){let n=[...e];if(t<=0)return r;for(;n.length;)r.push(n.splice(0,t));return r}new(ed(d0))(100),new(ed(d0))(1e3),new(ed(d0))(1e4);var BG=class{constructor(e){this._owner=e}get publicKey(){return BG.isKeyPair(this._owner)?this._owner.publicKey:this._owner}get signer(){return BG.isKeyPair(this._owner)?this._owner:void 0}get isKeyPair(){return BG.isKeyPair(this._owner)}get isPublicKey(){return BG.isPublicKey(this._owner)}static isKeyPair(e){return void 0!==e.secretKey}static isPublicKey(e){return!BG.isKeyPair(e)}},B$=((A=B$||{})[A.V0=0]="V0",A[A.LEGACY=1]="LEGACY",A),BX={CreateAccount:"CreateAccount",InitAccount:"InitAccount",CreateATA:"CreateATA",CloseAccount:"CloseAccount",TransferAmount:"TransferAmount",InitMarket:"InitMarket",SetComputeUnitPrice:"SetComputeUnitPrice",SetComputeUnitLimit:"SetComputeUnitLimit",ClmmCreatePool:"ClmmCreatePool",ClmmOpenPosition:"ClmmOpenPosition",ClmmIncreasePosition:"ClmmIncreasePosition",ClmmDecreasePosition:"ClmmDecreasePosition",ClmmClosePosition:"ClmmClosePosition",ClmmSwapBaseIn:"ClmmSwapBaseIn",ClmmSwapBaseOut:"ClmmSwapBaseOut",ClmmInitReward:"ClmmInitReward",ClmmSetReward:"ClmmSetReward",ClmmCollectReward:"ClmmCollectReward",ClmmLockPosition:"ClmmLockPosition",ClmmHarvestLockPosition:"ClmmHarvestLockPosition",AmmV4AddLiquidity:"AmmV4AddLiquidity",AmmV4RemoveLiquidity:"AmmV4RemoveLiquidity",AmmV4SwapBaseIn:"AmmV4SwapBaseIn",AmmV4CreatePool:"AmmV4CreatePool",AmmV5AddLiquidity:"AmmV5AddLiquidity",AmmV5RemoveLiquidity:"AmmV5RemoveLiquidity",AmmV5SwapBaseIn:"AmmV5SwapBaseIn",RouteSwap:"RouteSwap",FarmV3Deposit:"FarmV3Deposit",FarmV3Withdraw:"FarmV3Withdraw",FarmV3CreateLedger:"FarmV3CreateLedger",FarmV4Withdraw:"FarmV4Withdraw",FarmV5Deposit:"FarmV5Deposit",FarmV5Withdraw:"FarmV5Withdraw",FarmV6Deposit:"FarmV6Deposit",FarmV6Withdraw:"FarmV6Withdraw",FarmV6Create:"FarmV6Create",FarmV6Restart:"FarmV6Restart",FarmV6CreatorAddReward:"FarmV6CreatorAddReward",FarmV6CreatorWithdraw:"FarmV6CreatorWithdraw",CpmmCreatePool:"CpmmCreatePool",CpmmAddLiquidity:"CpmmAddLiquidity",CpmmWithdrawLiquidity:"CpmmWithdrawLiquidity",CpmmSwapBaseIn:"CpmmSwapBaseIn",CpmmSwapBaseOut:"CpmmSwapBaseOut",CpmmLockLp:"CpmmLockLp",CpmmCollectLockFee:"CpmmCollectLockFee",TransferTip:"TransferTip"},BZ=xV("Raydium_txUtil");function BQ(e){let t=[],r=[];return e.microLamports&&(t.push(gO.setComputeUnitPrice({microLamports:e.microLamports})),r.push(BX.SetComputeUnitPrice)),e.units&&(t.push(gO.setComputeUnitLimit({units:e.units})),r.push(BX.SetComputeUnitLimit)),{instructions:t,instructionTypes:r}}async function BY(e,t){var r,n;return null==(n=await (null==(r=e.getLatestBlockhash)?void 0:r.call(e,{commitment:null!=t?t:"confirmed"})))?void 0:n.blockhash}async function BJ(e,t){return e.getSignatureStatuses([t]),new Promise((r,n)=>{let i=setTimeout(n,6e4);e.onSignature(t,e=>{if(clearTimeout(i),!e.err){r("");return}n(Object.assign(e.err,{txId:t}))},"confirmed")})}function B1(e,t){e.length<1&&BZ.logWithError(`no instructions provided: ${e.toString()}`),t.length<1&&BZ.logWithError(`no signers provided:, ${t.toString()}`);let r=new hE;r.recentBlockhash="11111111111111111111111111111111",r.feePayer=t[0],r.add(...e);try{return xO.from(r.serialize({verifySignatures:!1})).toString("base64").length<1644}catch{return!1}}function B0(e,t){let[r,n]=ho.findProgramAddressSync(e,t);return{publicKey:r,nonce:n}}function B2({instructions:e,payer:t,signers:r}){return B1(e,[t,...r])}function B6({instructions:e,payer:t,lookupTableAddressAccount:r,recentBlockhash:n=gx.generate().publicKey.toString()}){let i=new hT({payerKey:t,recentBlockhash:n,instructions:e}).compileToV0Message(Object.values(null!=r?r:{}));try{return xO.from(new hx(i).serialize()).toString("base64").length<1644}catch{return!1}}var B4=e=>xO.isBuffer(e)?e:e instanceof Uint8Array?xO.from(e.buffer,e.byteOffset,e.byteLength):xO.from(e),B5=e=>{let t=e.serialize({requireAllSignatures:!1,verifySignatures:!1});e instanceof hx&&(t=B4(t));try{return t instanceof xO?t.toString("base64"):xO.from(t).toString("base64")}catch{return t.toString("base64")}};function B8(e){let t=[];return e.forEach(e=>{e instanceof hE&&(e.recentBlockhash||(e.recentBlockhash=SX.toBase58()),e.feePayer||(e.feePayer=gx.generate().publicKey)),t.push(B5(e))}),console.log("simulate tx string:",t),t}function B3(e,t,r){return B0([e.toBuffer(),(null!=r?r:SX).toBuffer(),t.toBuffer()],new ho("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"))}var B9=new ho("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),B7=new ho("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),Ce=new ho("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),Ct=new ho("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),Cr=(new ho("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),new ho("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX")),Cn=new ho("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),Ci=new ho("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),Co=(new ho("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),new ho("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo")),Ca=new ho("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),Cs=new ho("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Cu=new ho("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),Cl=new ho("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),Cc=(new ho("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),new ho("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5")),Cd=new ho("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),Cp=new ho("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),Cf=new ho("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),Ch=new ho("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),Cm=new ho("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),Cg=new ho("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),Cy=(new ho("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),new ho("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE")),Cb=new ho("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),C_=new ho("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),Cw=(new ho("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),new ho("4Bu96XjU84XjPDSpveTVf6LYGCkfW5FK7SNkREWcEfV4"),new ho("6s1xP3hpbAfFoNtUNF8mfHsjr2Bd97JxFJRWLbL6aHuX"),{IDO_PROGRAM_ID_V1:Cd,IDO_PROGRAM_ID_V2:Cp,IDO_PROGRAM_ID_V3:Cf,IDO_PROGRAM_ID_V4:Ch}),Cv={OPEN_BOOK_PROGRAM:new ho("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),SERUM_PROGRAM_ID_V3:new ho("Ray1111111111111111111111111111111111111111"),AMM_V4:new ho("DRaya7Kj3aMWQSy19kSjvmuwq9docCHofyP9kanQGaav"),AMM_STABLE:new ho("DRayDdXc1NZQ9C3hRWmoSf8zK4iapgMnjdNZWrfwsP8m"),CLMM_PROGRAM_ID:new ho("DRayAUgENGQBKVaX8owNhgzkEDyoHTGVEGHVJT1E9pfH"),CLMM_LOCK_PROGRAM_ID:new ho("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),CLMM_LOCK_AUTH_ID:new ho("6Aoh8h2Lw2m5UGxYR8AdAL87jTWYeKoxM52mJRzfYwN"),CREATE_CPMM_POOL_PROGRAM:new ho("DRaycpLY18LhpbydsBWbVJtxpNv9oXPgjRSfpF2bWpYb"),CREATE_CPMM_POOL_AUTH:new ho("CXniRufdq5xL8t8jZAPxsPZDpuudwuJSPWnbcD5Y5Nxq"),CREATE_CPMM_POOL_FEE_ACC:new ho("3oE58BKVt8KuYkGxx8zBojugnymWmBiyafWgMrnb6eYy"),LOCK_CPMM_PROGRAM:new ho("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),LOCK_CPMM_AUTH:new ho("7qWVV8UY2bRJfDLP4s37YzBPKUkVB46DStYJBpYbQzu3"),UTIL1216:ho.default,Router:new ho("DRaybByLpbUL57LJARs3j8BitTxVfzBg351EaMr5UTCd"),FARM_PROGRAM_ID_V3:new ho("DRayWyrLmEW5KEeqs8kdTMMaBabapqagaBC7KWpGtJeZ"),FARM_PROGRAM_ID_V4:new ho("Ray1111111111111111111111111111111111111111"),FARM_PROGRAM_ID_V5:new ho("DRayiCGSZgku1GTK6rXD6mVDdingXy6APAH1R6R5L2LC"),FARM_PROGRAM_ID_V6:new ho("DRayzbYakXs45ELHkzH6vC3fuhQqTAnv5A68gdFuvZyZ"),LAUNCHPAD_PROGRAM:new ho("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),LAUNCHPAD_AUTH:new ho("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),LAUNCHPAD_PLATFORM:new ho("2Jx4KTDrVSdWNazuGpcA8n3ZLTRGGBDxAWhuKe2Xcj2a"),LAUNCHPAD_CONFIG:new ho("7ZR4zD7PYfY2XxoG1Gxcy2EgEeGYrpxrwzPuwdUBssEt"),FEE_DESTINATION_ID:new ho("9y8ENuuZ3b19quffx9hQvRVygG5ky6snHfRvGpuSfeJy"),MODEL_DATA_PUBKEY:new ho("Ray1111111111111111111111111111111111111111")};function Ck(e,t,r,n){if(void 0===t)return{amount:e,fee:void 0,expirationTime:void 0};let i=xq(xF({},t),{olderTransferFee:{epoch:BigInt(t.olderTransferFee.epoch),maximumFee:BigInt(t.olderTransferFee.maximumFee),transferFeeBasisPoints:t.olderTransferFee.transferFeeBasisPoints},newerTransferFee:{epoch:BigInt(t.newerTransferFee.epoch),maximumFee:BigInt(t.newerTransferFee.maximumFee),transferFeeBasisPoints:t.newerTransferFee.transferFeeBasisPoints}}),o=r.epoch<i.newerTransferFee.epoch?i.olderTransferFee:i.newerTransferFee,a=new(ed(d0))(o.maximumFee.toString()),s=r.epoch<i.newerTransferFee.epoch?(Number(i.newerTransferFee.epoch)*r.slotsInEpoch-r.absoluteSlot)*400/1e3:void 0;if(n){if(1e4===o.transferFeeBasisPoints){let t=new(ed(d0))(o.maximumFee.toString());return{amount:e.add(t),fee:t,expirationTime:s}}{let t=CS(e.mul(new(ed(d0))(1e4)),new(ed(d0))(1e4-o.transferFeeBasisPoints)),r=new(ed(d0))(o.maximumFee.toString()),n=t.sub(e).gt(r)?e.add(r):t,i=CS(n.mul(new(ed(d0))(o.transferFeeBasisPoints)),new(ed(d0))(1e4));return{amount:n,fee:i.gt(a)?a:i,expirationTime:s}}}{let t=CS(e.mul(new(ed(d0))(o.transferFeeBasisPoints)),new(ed(d0))(1e4));return{amount:e,fee:t.gt(a)?a:t,expirationTime:s}}}function CA(e,t){return void 0===e?t:void 0===t?e:Math.min(e,t)}function CS(e,t){let{div:r,mod:n}=e.divmod(t);return n.gt(new(ed(d0))(0))?r.add(new(ed(d0))(1)):r}function CI(e,t){if(e.isZero())return new(ed(d0))(0);let r=e.div(t);return r.isZero()?new(ed(d0))(1):e.mod(t).gt(new(ed(d0))(0))?r.add(new(ed(d0))(1)):r}async function CE({connection:e,address:t,cluster:r="mainnet"}){let n=await xG(e,[...new Set(t.map(e=>e.toString()))].map(e=>new ho(e))),i={};for(let e=0;e<t.length;e++){let o=n[e],a=t[e];if(!o)continue;let s=new hY({key:a,state:hY.deserialize(o.data)});i[a.toString()]=s,"devnet"===r?Cx[a.toString()]=s:CT[a.toString()]=s}return i}var CT={AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU:new hY({key:new ho("AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU"),state:hY.deserialize(xO.from("AQAAAP//////////I1rcEwAAAAAvAQYwun9CU6c5Ikm2pAj+D9IEnCOR45nK+SFTGSdpd6J6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbd9uHXZaGT2cvhRs7reawctIXtX1s3kTqM9YV+/wCpBt324e51j94YQl285GzN2rYa/E2DuQ0n/r35KNihi/wFSlNQ+F3IgtYUpVZyeIopbd8eq6vQpgZ4iEky9O72oAVKU1qZKSEGTSTocWDaOHx8NbXdvJK7geQfqEBBBUSNBqfVFxksXFEhjMlMPUrxf1ja7gibof1E49vZigAAAAAGp9UXGMd0yShWY5hpHV62i164o5tLbVxzVVshAAAAAIyXJY9OJInxuz0QKRSODYMLWhOZ2v8QhASOe9jb6fhZC3BlsePRfEU4nVJ/awTDzVi4bHMaoP21SbbRvAP4KUbIScv+6Yw2LHF/6K0ZjUPibbSWXCirYPGuuVl7zT789IUPLW4CpHr4JNCatp3ELXDLKMv6JJ+37le50lbBJ2LvBkX2T9y7AHdNGviJAqQNtlDUDCnauQRWybsLji6nPM8Qkw5asQRvCdB3MbX6IEBwytOrpM32l4jQygKG9TKgR0vZScQ2AsM/IHeQ7RajUkyhuZdc8SGiqQz/7H34torNR/Wir3sl0ruUrVxJWEZfUg+QLNAxxODdBi53/OP7Ioil1cqeBM9dtZC3FLov4yyxWRM/wcGStyJX/QfTnLBAHqkqWotPKVlShCVQqpP9W5W1rOao65IMk5QuQ2kMIOxzDMKAy2vjGSxQODgBz0QwGA+eP4ZjIjrIAQaXENv31QfLlOdXSRCkaybRniDHF4C8YcwhcvsqrOVuTP4B2Na+9wLdtrB31uz2rtlFI5kahdsnp/d1SrASDInYCtTYtdoke4kX+hoKWcEWM4Tle8pTUkUVv4BxS6fje/EzKBE4Qu/YsA/yfEEFGcr8Z57VKDw8uQzpiru7g4lvjnfapW62W030syevD8k07SGoxUHiuT/ai7gAHWWhDsVmg/C63ajgpkH7Sn3GdutArDTfyqOkdqv4/IPC/EFFy7mGkfDd2C57N5a/4jC+BbmJy7wQaSEZr0CQU88lPtUxIVvzGjC95b8Ooss2TqmkrayGKofkPMGQn7Ux+9lfwBSNfxwH8NgbpqC/7LNlV4I7nCvsXf3p+ohQk9NrAJb2KAFpUqEIJ9ZBV7BYDzHF/ORKYlgtvPnXjudZQ6CEo5OzUDaNIomTCCsvhD16TxJjsbgne1kGnQPCFSoaxUbq2V1bPMFQ3VYP6wDZ9bKStCFKx9A3tNbwZFC5ZGAN83MFK7XoTy+OmmcFEr6rLOjfSuTfPvHJkSVxW6Qllwkl67XcBi5v00u2gQsbu+38sp+rd5pA/LvyWj4P94ZGZwc1tE2P88xekCLcAwZGb+UhFzL/7K26csOb57yM5bvF9xJrLEObOkAAAAAn+HWRkdcPKyFFMnVwEoD7vnD0jCKFIU1sImubYCxNTSVzsKpaQX+fzNxrLAI3L14JQnJx/D6Uk2LADIHGqnGELzjEbkBDAlaM77NkXMPfqXNLSveCkWI7UEgNs31WEWB6XHSYI/v5DklHOb4QTtDOR804PVbi3fjloZeLR2F8d4FuZmMMO7ck3Fnkn2zEMG5gOmqsygb6PjTitArVl52NhcSznTxVnguaIJxiZkAnurDmn3MWR0PC2GLghp2KJqHCc6QQ85odeIjFHKOlRlJyeSXVJmL8vb1UgOzsbJPVP8p6zM4M3C1Sd7uWIHP33G42AP2Zg8ucn/n6meQjjD266JgCWdxZD6PXs9CsnIeL7SSG0/6lGb9xfP0ZcWkCXB/3hjxHYVXjra/GPOeXGk0fLLKjCbk+mgs2w6d2oCwimBipTzuoZ30GiI8ij8VRzD5CzMWtu2m21eDBIfjGAEo4pQeNNonKcqzV/cleX8ySZLOHsz8PtBCrLqF+VkLm9hOzIT+6i/nIf6keR4GWKMOD4AvqfpjHoD4DuhBpz8P28+DxkGrDXXr/nr20x291VPvcTU/b+b+o2kC9G0kcXeTlLjU6a2TQXWlZ4gBUdBl1jgT7mObSTpLblNiXZsLkbmVXZwvFKXua5cUKlWed/w30skmEUraTuQqtqr5fHZPW9n57EmeTif6LjHL2YJFZkQU+TrJmFzqzmF4/b8OwrPQAprl8mX3q4LUIdAS/a+11B6DWD1Xk2++Sn94dLC4xjkO4Wtlw8c4XuzciVbepHOmnoWzVu/0y3KCrLCSfQxQ3br8DJCoVzhgtPsS2nZZjsBGIZgnU0QpMv+2MnRsnKwdp1VsrCX84j/qvaZn4WhKunippgTbN2EUs0tPTP55Qfgj+nKmjtWW5IYs72FrEwJKYoNfsmqaF4o5pf4v9zgPwVwY/5I4XJKUL2L25m9kAQcW/K+H1RTFEUoj8Z4ajpOmAB/dG0COmCphVMW2CCMvnxhcGiSgPnpDuWu6qiJ7NG7ye5kvHgefgqPLeicspNJ5EpL3XiRNLM2tmJLI1awAwOyd6iHv0dCkMYRKaa6rcaZeYwmKCkckm0kM2JNmnmmAaBQQ7mwmIM0IMxX4f5W6j9PqZWcJxF7r17T/lQBAmcjoupRiJifbnXCNUv9GhpRF19WcBdeKbivRJVlGop6I2RS6lGImJ9udcI1S/0aGlEXX1ZwF14puK9ElWUainojZFYVHLHD6dIP2ESjqBzg3ol1/wB7+/ylGwd9LS7wSZ2A630CJSVKwH47K9P4bB8PEQP8BwjMFa7xQHOqZFP1XqaQ==","base64"))})},Cx={},CP=async e=>{let t="EFhMuDw1PKEuckuFRW9PavNfTH4LKP5uKHgyXDmWpFCq";if(Cx[t])return Cx;let r=new ho(t),n=await e.getAccountInfo(r);return n&&(Cx[t]=new hY({key:r,state:hY.deserialize(n.data)})),Cx},CO=class{constructor(e){this.instructions=[],this.endInstructions=[],this.lookupTableAddress=[],this.signers=[],this.instructionTypes=[],this.endInstructionTypes=[],this.connection=e.connection,this.feePayer=e.feePayer,this.signAllTransactions=e.signAllTransactions,this.owner=e.owner,this.cluster=e.cluster,this.blockhashCommitment=e.blockhashCommitment,this.loopMultiTxStatus=!!e.loopMultiTxStatus}get AllTxData(){return{instructions:this.instructions,endInstructions:this.endInstructions,signers:this.signers,instructionTypes:this.instructionTypes,endInstructionTypes:this.endInstructionTypes,lookupTableAddress:this.lookupTableAddress}}get allInstructions(){return[...this.instructions,...this.endInstructions]}async getComputeBudgetConfig(){var e;let t=(await xn.get("https://solanacompass.com/api/fees?cacheFreshTime=300000")).data,{avg:r}=null!=(e=null==t?void 0:t[15])?e:{};if(r)return{units:6e5,microLamports:Math.min(Math.ceil(1e6*r/6e5),25e3)}}addCustomComputeBudget(e){if(e){let{instructions:t,instructionTypes:r}=BQ(e);return this.instructions.unshift(...t),this.instructionTypes.unshift(...r),!0}return!1}addTipInstruction(e){var t;return!!e&&(this.endInstructions.push(hV.transfer({fromPubkey:null!=(t=e.feePayer)?t:this.feePayer,toPubkey:new ho(e.address),lamports:BigInt(e.amount.toString())})),this.endInstructionTypes.push(BX.TransferTip),!0)}async calComputeBudget({config:e,defaultIns:t}){try{let r=e||await this.getComputeBudgetConfig();if(this.addCustomComputeBudget(r))return;t&&this.instructions.unshift(...t)}catch{t&&this.instructions.unshift(...t)}}addInstruction({instructions:e=[],endInstructions:t=[],signers:r=[],instructionTypes:n=[],endInstructionTypes:i=[],lookupTableAddress:o=[]}){return this.instructions.push(...e),this.endInstructions.push(...t),this.signers.push(...r),this.instructionTypes.push(...n),this.endInstructionTypes.push(...i),this.lookupTableAddress.push(...o.filter(e=>e!==ho.default.toString())),this}async versionBuild({txVersion:e,extInfo:t}){return 0===e?await this.buildV0(xF({},t||{})):this.build(t)}build(e){var t;let r=new hE;return this.allInstructions.length&&r.add(...this.allInstructions),r.feePayer=this.feePayer,(null==(t=this.owner)?void 0:t.signer)&&!this.signers.some(e=>e.publicKey.equals(this.owner.publicKey))&&this.signers.push(this.owner.signer),{builder:this,transaction:r,signers:this.signers,instructionTypes:[...this.instructionTypes,...this.endInstructionTypes],execute:async e=>{var t;let{recentBlockHash:n,skipPreflight:i=!0,sendAndConfirm:o,notSendToRpc:a}=e||{},s=null!=n?n:await BY(this.connection,this.blockhashCommitment);if(r.recentBlockhash=s,this.signers.length&&r.sign(...this.signers),B8([r]),null!=(t=this.owner)&&t.isKeyPair)return{txId:o?await hN(this.connection,r,this.signers.find(e=>e.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:i}):await this.connection.sendRawTransaction(r.serialize(),{skipPreflight:i}),signedTx:r};if(this.signAllTransactions){let e=await this.signAllTransactions([r]);if(this.signers.length)for(let t of e)try{t.sign(...this.signers)}catch{}return{txId:a?"":await this.connection.sendRawTransaction(e[0].serialize(),{skipPreflight:i}),signedTx:e[0]}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:e||{}}}buildMultiTx(e){var t;let{extraPreBuildData:r=[],extInfo:n}=e,{transaction:i}=this.build(n),o=r.filter(e=>e.transaction.instructions.length>0),a=[i,...o.map(e=>e.transaction)],s=[this.signers,...o.map(e=>e.signers)],u=[...this.instructionTypes,...o.map(e=>e.instructionTypes).flat()];return null!=(t=this.owner)&&t.signer&&s.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||this.signers.push(this.owner.signer)}),{builder:this,transactions:a,signers:s,instructionTypes:u,execute:async e=>{var t;let{sequentially:r,onTxUpdate:n,skipTxCount:i=0,recentBlockHash:o,skipPreflight:u=!0}=e||{},l=null!=o?o:await BY(this.connection,this.blockhashCommitment);if(null!=(t=this.owner)&&t.isKeyPair){if(r){let e=[],t=0;for(let r of a){if(++t<=i)continue;let n=await hN(this.connection,r,this.signers.find(e=>e.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:u});e.push(n)}return{txIds:e,signedTxs:a}}return{txIds:await await Promise.all(a.map(async e=>(e.recentBlockhash=l,await this.connection.sendRawTransaction(e.serialize(),{skipPreflight:u})))),signedTxs:a}}if(this.signAllTransactions){let e=a.map((e,t)=>(e.recentBlockhash=l,s[t].length&&e.sign(...s[t]),e));B8(e);let t=await this.signAllTransactions(e);if(r){let e=0,r=[],i=async()=>{if(!t[e])return;let o=await this.connection.sendRawTransaction(t[e].serialize(),{skipPreflight:u});r.push({txId:o,status:"sent",signedTx:t[e]}),null==n||n([...r]),e++;let a=!1,s=null,l=null,c=e=>{null!==s&&clearInterval(s),null!==l&&this.connection.removeSignatureListener(l);let t=r.findIndex(e=>e.txId===o);if(t>-1){if("error"===r[t].status||"success"===r[t].status)return;r[t].status=e.err?"error":"success"}null==n||n([...r]),e.err||i()};this.loopMultiTxStatus&&(s=setInterval(async()=>{var e;if(a){clearInterval(s);return}try{let t=await this.connection.getTransaction(o,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(a=!0,clearInterval(s),c({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",o))}catch(e){a=!0,clearInterval(s),console.error("getTransaction timeout:",e,o)}},2e3)),l=this.connection.onSignature(o,e=>{if(a){this.connection.removeSignatureListener(l);return}a=!0,c(e)},"confirmed"),this.connection.getSignatureStatus(o)};return await i(),{txIds:r.map(e=>e.txId),signedTxs:t}}{let e=[];for(let r=0;r<t.length;r+=1){let n=await this.connection.sendRawTransaction(t[r].serialize(),{skipPreflight:u});e.push(n)}return{txIds:e,signedTxs:t}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:n||{}}}async versionMultiBuild({extraPreBuildData:e,txVersion:t,extInfo:r}){return 0===t?await this.buildV0MultiTx({extraPreBuildData:e,buildProps:r||{}}):this.buildMultiTx({extraPreBuildData:e,extInfo:r})}async buildV0(e){var t;let r=e||{},{lookupTableCache:n={},lookupTableAddress:i=[],forerunCreate:o,recentBlockhash:a}=r,s=xU(r,["lookupTableCache","lookupTableAddress","forerunCreate","recentBlockhash"]),u=xF(xF({},"devnet"===this.cluster?await CP(this.connection):CT),n),l=Array.from(new Set([...i,...this.lookupTableAddress])),c=[];for(let e of l)void 0===u[e]&&c.push(new ho(e));for(let[e,t]of Object.entries(await CE({connection:this.connection,address:c})))u[e]=t;let d=o?ho.default.toBase58():null!=a?a:await BY(this.connection,this.blockhashCommitment),p=new hT({payerKey:this.feePayer,recentBlockhash:d,instructions:[...this.allInstructions]}).compileToV0Message(Object.values(u));(null==(t=this.owner)?void 0:t.signer)&&!this.signers.some(e=>e.publicKey.equals(this.owner.publicKey))&&this.signers.push(this.owner.signer);let f=new hx(p);return f.sign(this.signers),{builder:this,transaction:f,signers:this.signers,instructionTypes:[...this.instructionTypes,...this.endInstructionTypes],execute:async e=>{var t;let{skipPreflight:r=!0,sendAndConfirm:n,notSendToRpc:i}=e||{};if(B8([f]),null!=(t=this.owner)&&t.isKeyPair){let e=await this.connection.sendTransaction(f,{skipPreflight:r});return n&&await BJ(this.connection,e),{txId:e,signedTx:f}}if(this.signAllTransactions){let e=await this.signAllTransactions([f]);if(this.signers.length)for(let t of e)try{t.sign(this.signers)}catch{}return{txId:i?"":await this.connection.sendTransaction(e[0],{skipPreflight:r}),signedTx:e[0]}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:s||{}}}async buildV0MultiTx(e){var t;let{extraPreBuildData:r=[],buildProps:n}=e,{transaction:i}=await this.buildV0(n),o=r.filter(e=>e.builder.instructions.length>0),a=[i,...o.map(e=>e.transaction)],s=[this.signers,...o.map(e=>e.signers)],u=[...this.instructionTypes,...o.map(e=>e.instructionTypes).flat()];return null!=(t=this.owner)&&t.signer&&s.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||this.signers.push(this.owner.signer)}),a.forEach(async(e,t)=>{e.sign(s[t])}),{builder:this,transactions:a,signers:s,instructionTypes:u,buildProps:n,execute:async e=>{var t;let{sequentially:r,onTxUpdate:n,recentBlockHash:i,skipPreflight:o=!0}=e||{};if(i&&a.forEach(e=>e.message.recentBlockhash=i),B8(a),null!=(t=this.owner)&&t.isKeyPair){if(r){let e=[];for(let t of a){let r=await this.connection.sendTransaction(t,{skipPreflight:o});await BJ(this.connection,r),e.push(r)}return{txIds:e,signedTxs:a}}return{txIds:await Promise.all(a.map(async e=>await this.connection.sendTransaction(e,{skipPreflight:o}))),signedTxs:a}}if(this.signAllTransactions){let e=await this.signAllTransactions(a);if(r){let t=0,r=[],i=async()=>{if(!e[t])return;let a=await this.connection.sendTransaction(e[t],{skipPreflight:o});r.push({txId:a,status:"sent",signedTx:e[t]}),null==n||n([...r]),t++;let s=!1,u=null,l=null,c=e=>{null!==u&&clearInterval(u),null!==l&&this.connection.removeSignatureListener(l);let t=r.findIndex(e=>e.txId===a);if(t>-1){if("error"===r[t].status||"success"===r[t].status)return;r[t].status=e.err?"error":"success"}null==n||n([...r]),e.err||i()};this.loopMultiTxStatus&&(u=setInterval(async()=>{var e;if(s){clearInterval(u);return}try{let t=await this.connection.getTransaction(a,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(s=!0,clearInterval(u),c({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",a))}catch(e){s=!0,clearInterval(u),console.error("getTransaction timeout:",e,a)}},2e3)),l=this.connection.onSignature(a,e=>{if(s){this.connection.removeSignatureListener(l);return}s=!0,c(e)},"confirmed"),this.connection.getSignatureStatus(a)};return i(),{txIds:[],signedTxs:e}}{let t=[];for(let r=0;r<e.length;r+=1){let n=await this.connection.sendTransaction(e[r],{skipPreflight:o});t.push(n)}return{txIds:t,signedTxs:e}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:n||{}}}async sizeCheckBuild(e){var t;let r=e||{},{splitIns:n=[],computeBudgetConfig:i}=r,o=xU(r,["splitIns","computeBudgetConfig"]),a=i?BQ(i):{instructions:[],instructionTypes:[]},s=this.signers.reduce((e,t)=>xq(xF({},e),{[t.publicKey.toBase58()]:t}),{}),u=[],l=[],c=[],d=0;if(this.allInstructions.forEach(e=>{let t=[...c,e],r=i?[...a.instructions,...t]:t,o=[...new Set(t.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat()).values()].map(e=>new ho(e));if(e!==n[d]&&c.length<12&&(B2({instructions:r,payer:this.feePayer,signers:o})||B2({instructions:t,payer:this.feePayer,signers:o})))c.push(e);else{if(0===c.length)throw Error("item ins too big");d+=e===n[d]?1:0,B2({instructions:i?[...a.instructions,...c]:[...c],payer:this.feePayer,signers:o})?u.push(new hE().add(...a.instructions,...c)):u.push(new hE().add(...c)),l.push(Array.from(new Set(c.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat())).map(e=>s[e]).filter(e=>void 0!==e)),c=[e]}}),c.length>0){let e=[...new Set(c.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat()).values()].map(e=>s[e]).filter(e=>void 0!==e);B2({instructions:i?[...a.instructions,...c]:[...c],payer:this.feePayer,signers:e.map(e=>e.publicKey)})?u.push(new hE().add(...a.instructions,...c)):u.push(new hE().add(...c)),l.push(e)}return u.forEach(e=>e.feePayer=this.feePayer),null!=(t=this.owner)&&t.signer&&l.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||e.push(this.owner.signer)}),{builder:this,transactions:u,signers:l,instructionTypes:this.instructionTypes,execute:async e=>{var t;let{sequentially:r,onTxUpdate:n,skipTxCount:i=0,recentBlockHash:o,skipPreflight:a=!0}=e||{},s=null!=o?o:await BY(this.connection,this.blockhashCommitment);if(u.forEach(async(e,t)=>{e.recentBlockhash=s,l[t].length&&e.sign(...l[t])}),B8(u),null!=(t=this.owner)&&t.isKeyPair){if(r){let e=0,t=[];for(let r of u){if(++e<=i){t.push("tx skipped");continue}let n=await hN(this.connection,r,this.signers.find(e=>e.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:a});t.push(n)}return{txIds:t,signedTxs:u}}return{txIds:await Promise.all(u.map(async e=>await this.connection.sendRawTransaction(e.serialize(),{skipPreflight:a}))),signedTxs:u}}if(this.signAllTransactions){let e=await this.signAllTransactions(u.slice(i,u.length)),t=[...u.slice(0,i),...e];if(r){let e=0,r=[],o=async()=>{if(!t[e])return;e<i&&(r.push({txId:"",status:"success",signedTx:t[e]}),null==n||n([...r]),e++,o());let s=await this.connection.sendRawTransaction(t[e].serialize(),{skipPreflight:a});r.push({txId:s,status:"sent",signedTx:t[e]}),null==n||n([...r]),e++;let u=!1,l=null,c=null,d=e=>{null!==l&&clearInterval(l),null!==c&&this.connection.removeSignatureListener(c);let t=r.findIndex(e=>e.txId===s);if(t>-1){if("error"===r[t].status||"success"===r[t].status)return;r[t].status=e.err?"error":"success"}null==n||n([...r]),e.err||o()};this.loopMultiTxStatus&&(l=setInterval(async()=>{var e;if(u){clearInterval(l);return}try{let t=await this.connection.getTransaction(s,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(u=!0,clearInterval(l),d({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",s))}catch(e){u=!0,clearInterval(l),console.error("getTransaction timeout:",e,s)}},2e3)),c=this.connection.onSignature(s,e=>{if(u){this.connection.removeSignatureListener(c);return}u=!0,d(e)},"confirmed"),this.connection.getSignatureStatus(s)};return await o(),{txIds:r.map(e=>e.txId),signedTxs:t}}{let e=[];for(let r=0;r<t.length;r+=1){let n=await this.connection.sendRawTransaction(t[r].serialize(),{skipPreflight:a});e.push(n)}return{txIds:e,signedTxs:t}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:o||{}}}async sizeCheckBuildV0(e){var t;let r=e||{},{computeBudgetConfig:n,splitIns:i=[],lookupTableCache:o={},lookupTableAddress:a=[]}=r,s=xU(r,["computeBudgetConfig","splitIns","lookupTableCache","lookupTableAddress"]),u=xF(xF({},"devnet"===this.cluster?await CP(this.connection):CT),o),l=Array.from(new Set([...this.lookupTableAddress,...a])),c=[];for(let e of l)void 0===u[e]&&c.push(new ho(e));for(let[e,t]of Object.entries(await CE({connection:this.connection,address:c})))u[e]=t;let d=n?BQ(n):{instructions:[],instructionTypes:[]},p=await BY(this.connection,this.blockhashCommitment),f=this.signers.reduce((e,t)=>xq(xF({},e),{[t.publicKey.toBase58()]:t}),{}),h=[],m=[],g=[],y=0;if(this.allInstructions.forEach(e=>{let t=[...g,e],r=n?[...d.instructions,...t]:t;if(e!==i[y]&&g.length<12&&(B6({instructions:r,payer:this.feePayer,lookupTableAddressAccount:u})||B6({instructions:t,payer:this.feePayer,lookupTableAddressAccount:u})))g.push(e);else{if(0===g.length)throw Error("item ins too big");y+=e===i[y]?1:0;let t={};for(let e of[...new Set(l)])void 0!==u[e]&&(t[e]=u[e]);if(n&&B6({instructions:[...d.instructions,...g],payer:this.feePayer,lookupTableAddressAccount:u,recentBlockhash:p})){let e=new hT({payerKey:this.feePayer,recentBlockhash:p,instructions:[...d.instructions,...g]}).compileToV0Message(Object.values(u));h.push(new hx(e))}else{let e=new hT({payerKey:this.feePayer,recentBlockhash:p,instructions:[...g]}).compileToV0Message(Object.values(u));h.push(new hx(e))}m.push(Array.from(new Set(g.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat())).map(e=>f[e]).filter(e=>void 0!==e)),g=[e]}}),g.length>0){let e=[...new Set(g.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat()).values()].map(e=>f[e]).filter(e=>void 0!==e);if(n&&B6({instructions:[...d.instructions,...g],payer:this.feePayer,lookupTableAddressAccount:u,recentBlockhash:p})){let e=new hT({payerKey:this.feePayer,recentBlockhash:p,instructions:[...d.instructions,...g]}).compileToV0Message(Object.values(u));h.push(new hx(e))}else{let e=new hT({payerKey:this.feePayer,recentBlockhash:p,instructions:[...g]}).compileToV0Message(Object.values(u));h.push(new hx(e))}m.push(e)}return null!=(t=this.owner)&&t.signer&&m.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||e.push(this.owner.signer)}),h.forEach((e,t)=>{e.sign(m[t])}),{builder:this,transactions:h,buildProps:e,signers:m,instructionTypes:this.instructionTypes,execute:async e=>{var t;let{sequentially:r,onTxUpdate:n,skipTxCount:i=0,recentBlockHash:o,skipPreflight:a=!0}=e||{};if(h.map(async(e,t)=>{m[t].length&&e.sign(m[t]),o&&(e.message.recentBlockhash=o)}),B8(h),null!=(t=this.owner)&&t.isKeyPair){if(r){let e=0,t=[];for(let r of h){if(++e<=i){console.log("skip tx: ",e),t.push("tx skipped");continue}let n=await this.connection.sendTransaction(r,{skipPreflight:a});await BJ(this.connection,n),t.push(n)}return{txIds:t,signedTxs:h}}return{txIds:await Promise.all(h.map(async e=>await this.connection.sendTransaction(e,{skipPreflight:a}))),signedTxs:h}}if(this.signAllTransactions){let e=await this.signAllTransactions(h.slice(i,h.length)),t=[...h.slice(0,i),...e];if(r){let e=0,r=[],o=async()=>{if(!t[e])return;if(e<i){r.push({txId:"",status:"success",signedTx:t[e]}),null==n||n([...r]),e++,o();return}let s=await this.connection.sendTransaction(t[e],{skipPreflight:a});r.push({txId:s,status:"sent",signedTx:t[e]}),null==n||n([...r]),e++;let u=!1,l=null,c=null,d=e=>{null!==l&&clearInterval(l),null!==c&&this.connection.removeSignatureListener(c);let t=r.findIndex(e=>e.txId===s);if(t>-1){if("error"===r[t].status||"success"===r[t].status)return;r[t].status=e.err?"error":"success"}null==n||n([...r]),e.err||o()};this.loopMultiTxStatus&&(l=setInterval(async()=>{var e;if(u){clearInterval(l);return}try{let t=await this.connection.getTransaction(s,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(u=!0,clearInterval(l),d({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",s))}catch(e){u=!0,clearInterval(l),console.error("getTransaction timeout:",e,s)}},2e3)),c=this.connection.onSignature(s,e=>{if(u){this.connection.removeSignatureListener(c);return}u=!0,d(e)},"confirmed"),this.connection.getSignatureStatus(s)};return o(),{txIds:[],signedTxs:t}}{let e=[];for(let r=0;r<t.length;r+=1){let n=await this.connection.sendTransaction(t[r],{skipPreflight:a});e.push(n)}return{txIds:e,signedTxs:t}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:s||{}}}},CB=new(ed(d0))(1e6),CC=((S=CC||{}).ALL="all",S.Strict="strict",S),CR=((I=CR||{}).All="all",I.Standard="standard",I.Concentrated="concentrated",I.AllFarm="allFarm",I.StandardFarm="standardFarm",I.ConcentratedFarm="concentratedFarm",I),CM={BASE_HOST:"https://api-v3.raydium.io",OWNER_BASE_HOST:"https://owner-v1.raydium.io",SERVICE_BASE_HOST:"https://service.raydium.io",MONITOR_BASE_HOST:"https://monitor.raydium.io",SERVICE_1_BASE_HOST:"https://service-v1.raydium.io",SEND_TRANSACTION:"/send-transaction",FARM_ARP:"/main/farm/info",FARM_ARP_LINE:"/main/farm-apr-tv",CLMM_CONFIG:"/main/clmm-config",CPMM_CONFIG:"/main/cpmm-config",VERSION:"/main/version",CHECK_AVAILABILITY:"/v3/main/AvailabilityCheckAPI",RPCS:"/main/rpcs",INFO:"/main/info",STAKE_POOLS:"/main/stake-pools",CHAIN_TIME:"/main/chain-time",TOKEN_LIST:"/mint/list",MINT_INFO_ID:"/mint/ids",JUP_TOKEN_LIST:"https://lite-api.jup.ag/tokens/v1/tagged/verified",POOL_LIST:"/pools/info/list",POOL_SEARCH_BY_ID:"/pools/info/ids",POOL_SEARCH_MINT:"/pools/info/mint",POOL_SEARCH_LP:"/pools/info/lps",POOL_KEY_BY_ID:"/pools/key/ids",POOL_LIQUIDITY_LINE:"/pools/line/liquidity",POOL_POSITION_LINE:"/pools/line/position",FARM_INFO:"/farms/info/ids",FARM_LP_INFO:"/farms/info/lp",FARM_KEYS:"/farms/key/ids",OWNER_CREATED_FARM:"/create-pool/{owner}",OWNER_IDO:"/main/ido/{owner}",OWNER_STAKE_FARMS:"/position/stake/{owner}",OWNER_LOCK_POSITION:"/position/clmm-lock/{owner}",IDO_KEYS:"/ido/key/ids",SWAP_HOST:"https://transaction-v1.raydium.io",SWAP_COMPUTE:"/compute/",SWAP_TX:"/transaction/",MINT_PRICE:"/mint/price",MIGRATE_CONFIG:"/main/migrate-lp",PRIORITY_FEE:"/main/auto-fee",CPMM_LOCK:"https://dynamic-ipfs.raydium.io/lock/cpmm/position"};xF({},CM);var CL="ray_tab_hash",CN="ray_req_hash",CD=()=>{window;let e=sessionStorage.getItem(CL);return e||(e=`ray-${Date.now()}`,sessionStorage.setItem(CL,e)),e},CF=async e=>{var{logCount:t=1e3,removeLastLog:r}=e,n=xU(e,["logCount","removeLastLog"]);window;let i=JSON.parse(localStorage.getItem(CN)||"[]").slice(0,t-1);r&&i.pop(),new Blob([JSON.stringify(n.data)]).size>1024&&(n.data=JSON.stringify(n.data).substring(0,200)+"..."),i.unshift(xq(xF({},n),{time:Date.now(),session:CD()}));try{localStorage.setItem(CN,JSON.stringify(i))}catch{if(r){let e=!1,t=JSON.stringify(n.data).substring(0,100);for(i[0].data=t+(t.length>100?"...":"");!e;){i.pop();let t=JSON.stringify(n.data).substring(0,100);i[0].data=t+(t.length>100?"...":"");try{localStorage.setItem(CN,JSON.stringify(i)),e=!0}catch{e=!1}}return new Promise(e=>e())}return CF(xq(xF({},n),{logCount:t,removeLastLog:!0}))}},Cq=xV("Raydium_Api"),CU=new Map,Cj=class{constructor({cluster:e,timeout:t,logRequests:r,logCount:n,urlConfigs:i}){this.cluster=e,this.urlConfigs=i||{},this.logCount=n||1e3,this.api=xn.create({baseURL:this.urlConfigs.BASE_HOST||CM.BASE_HOST,timeout:t}),this.api.interceptors.request.use(e=>{let{method:t,baseURL:r,url:n}=e;return Cq.debug(`${null==t?void 0:t.toUpperCase()} ${r}${n}`),e},e=>(Cq.error("Request failed"),Promise.reject(e))),this.api.interceptors.response.use(e=>{let{config:t,data:n,status:i}=e,{method:o,baseURL:a,url:s}=t;return r&&CF({status:i,url:`${a}${s}`,params:t.params,data:n,logCount:this.logCount}),Cq.debug(`${null==o?void 0:o.toUpperCase()} ${a}${s}  ${i}`),n},e=>{let{config:t,response:n={}}=e,{status:i}=n,{method:o,baseURL:a,url:s}=t;return r&&CF({status:i,url:`${a}${s}`,params:t.params,data:e.message,logCount:this.logCount}),Cq.error(`${o.toUpperCase()} ${a}${s} ${i||e.message}`),Promise.reject(e)})}async getClmmConfigs(){return(await this.api.get(this.urlConfigs.CLMM_CONFIG||CM.CLMM_CONFIG)).data}async getCpmmConfigs(){return(await this.api.get(this.urlConfigs.CPMM_CONFIG||CM.CPMM_CONFIG)).data}async getClmmPoolLines(e){return(await this.api.get(`${this.urlConfigs.POOL_LIQUIDITY_LINE||CM.POOL_LIQUIDITY_LINE}?pool_id=${e}`)).data}async getBlockSlotCountForSecond(e){if(!e)return 2;let t=(await xn.post(e,{id:"getRecentPerformanceSamples",jsonrpc:"2.0",method:"getRecentPerformanceSamples",params:[4]})).result.map(e=>e.numSlots);return t.reduce((e,t)=>e+t,0)/t.length/60}async getChainTimeOffset(){return(await this.api.get(this.urlConfigs.CHAIN_TIME||CM.CHAIN_TIME)).data}async getRpcs(){return this.api.get(this.urlConfigs.RPCS||CM.RPCS)}async getTokenList(){return(await this.api.get(this.urlConfigs.TOKEN_LIST||CM.TOKEN_LIST)).data}async getJupTokenList(){return(await this.api.get("",{baseURL:this.urlConfigs.JUP_TOKEN_LIST||CM.JUP_TOKEN_LIST})).map(e=>xq(xF({},e),{chainId:101,programId:e.tags.includes("token-2022")?SZ.toBase58():SX.toBase58()}))}async getTokenInfo(e){return(await this.api.get((this.urlConfigs.MINT_INFO_ID||CM.MINT_INFO_ID)+`?mints=${e.map(e=>e.toString()).join(",")}`)).data}async getPoolList(e={}){let{type:t="all",sort:r="liquidity",order:n="desc",page:i=0,pageSize:o=100}=e;return(await this.api.get((this.urlConfigs.POOL_LIST||CM.POOL_LIST)+`?poolType=${t}&poolSortField=${r}&sortType=${n}&page=${i}&pageSize=${o}`)).data}async fetchPoolById(e){let{ids:t}=e;return(await this.api.get((this.urlConfigs.POOL_SEARCH_BY_ID||CM.POOL_SEARCH_BY_ID)+`?ids=${t}`)).data}async fetchPoolKeysById(e){let{idList:t}=e,r=[],n=t.filter(e=>!CU.has(e)||(r.push(CU.get(e)),!1)),i=[];return n.length&&(i=(await this.api.get((this.urlConfigs.POOL_KEY_BY_ID||CM.POOL_KEY_BY_ID)+`?ids=${n.join(",")}`)).data.filter(Boolean)).forEach(e=>{CU.set(e.id,e)}),r.concat(i)}async fetchPoolByMints(e){let{mint1:t,mint2:r,type:n="all",sort:i="default",order:o="desc",page:a=1}=e,[s,u]=[t&&BR(t).toBase58(),r&&"undefined"!==r?BR(r).toBase58():""],[l,c]=u&&s>u?[u,s]:[s,u];return(await this.api.get((this.urlConfigs.POOL_SEARCH_MINT||CM.POOL_SEARCH_MINT)+`?mint1=${l}&mint2=${c}&poolType=${n}&poolSortField=${i}&sortType=${o}&pageSize=100&page=${a}`)).data}async fetchFarmInfoById(e){let{ids:t}=e;return(await this.api.get((this.urlConfigs.FARM_INFO||CM.FARM_INFO)+`?ids=${t}`)).data}async fetchFarmKeysById(e){let{ids:t}=e;return(await this.api.get((this.urlConfigs.FARM_KEYS||CM.FARM_KEYS)+`?ids=${t}`)).data}async fetchAvailabilityStatus(){return(await this.api.get(this.urlConfigs.CHECK_AVAILABILITY||CM.CHECK_AVAILABILITY)).data}},CW="please provide owner in load() initialization or you can set by calling raydium.setOwner(owner)",CK=(...e)=>e.map(e=>{try{return"object"==typeof e?JSON.stringify(e):e}catch{return e}}).join(", "),Cz=class{constructor({scope:e,moduleName:t}){this.disabled=!1,this.scope=e,this.logger=xV(t)}createTxBuilder(e){return this.scope.checkOwner(),new CO({connection:this.scope.connection,feePayer:e||this.scope.ownerPubKey,cluster:this.scope.cluster,owner:this.scope.owner,blockhashCommitment:this.scope.blockhashCommitment,loopMultiTxStatus:this.scope.loopMultiTxStatus,api:this.scope.api,signAllTransactions:this.scope.signAllTransactions})}logDebug(...e){this.logger.debug(CK(e))}logInfo(...e){this.logger.info(CK(e))}logAndCreateError(...e){throw Error(CK(e))}checkDisabled(){(this.disabled||!this.scope)&&this.logAndCreateError("module not working")}};function CV(e,...t){if(!(e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function CH(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}var CG=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),C$=(e,t)=>e<<32-t|e>>>t;function CX(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),CV(e),e}new Uint8Array(new Uint32Array([287454020]).buffer)[0];var CZ=class{clone(){return this._cloneInto()}},CQ=(e,t,r)=>e&t^~e&r,CY=(e,t,r)=>e&t^e&r^t&r,CJ=class extends CZ{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=CG(this.buffer)}update(e){CH(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=CX(e)).length;for(let o=0;o<i;){let a=Math.min(n-this.pos,i-o);if(a===n){let t=CG(e);for(;n<=i-o;o+=n)this.process(t,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){CH(this),function(e,t){CV(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),u=n?4:0,l=n?0:4;e.setUint32(t+u,a,n),e.setUint32(t+l,s,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let a=CG(e),s=this.outputLen;if(s%4)throw Error("_sha2: outputLen should be aligned to 32bit");let u=s/4,l=this.get();if(u>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)a.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}},C1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),C0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),C2=new Uint32Array(64),C6=class extends CJ{constructor(){super(64,32,8,!1),this.A=0|C0[0],this.B=0|C0[1],this.C=0|C0[2],this.D=0|C0[3],this.E=0|C0[4],this.F=0|C0[5],this.G=0|C0[6],this.H=0|C0[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:a,H:s}=this;return[e,t,r,n,i,o,a,s]}set(e,t,r,n,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)C2[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=C2[e-15],r=C2[e-2],n=C$(t,7)^C$(t,18)^t>>>3,i=C$(r,17)^C$(r,19)^r>>>10;C2[e]=i+C2[e-7]+n+C2[e-16]|0}let{A:r,B:n,C:i,D:o,E:a,F:s,G:u,H:l}=this;for(let e=0;e<64;e++){let t=l+(C$(a,6)^C$(a,11)^C$(a,25))+CQ(a,s,u)+C1[e]+C2[e]|0,c=(C$(r,2)^C$(r,13)^C$(r,22))+CY(r,n,i)|0;l=u,u=s,s=a,a=o+t|0,o=i,i=n,n=r,r=t+c|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,n,i,o,a,s,u,l)}roundClean(){C2.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},C4=(E=()=>new C6,_=e=>E().update(CX(e)).digest(),w=E(),_.outputLen=w.outputLen,_.blockLen=w.blockLen,_.create=()=>E(),_),C5=ph.Layout,C8=ph.Structure,C3=(ph.Union,ph.BitStructure,ph.UInt),C9=(ph.Blob,ph.greedy,ph.u8),C7=ph.u16,Re=(ph.u24,ph.u32),Rt=(ph.u40,ph.u48,ph.nu64),Rr=(ph.u16be,ph.u24be,ph.u32be,ph.u40be,ph.u48be,ph.nu64be,ph.s8,ph.s16,ph.s24,ph.s32);ph.s40,ph.s48,ph.ns64,ph.s16be,ph.s24be,ph.s32be,ph.s40be,ph.s48be,ph.ns64be,ph.f32,ph.f32be,ph.f64,ph.f64be;var Rn=ph.seq,Ri=(ph.union,ph.unionLayoutDiscriminator,ph.blob),Ro=(ph.cstr,ph.utf8,ph.bits),Ra=ph.offset,Rs=class extends C5{constructor(e,t,r){super(e,r),this.blob=Ri(e),this.signed=t}decode(e,t=0){let r=new(ed(d0))(this.blob.decode(e,t),10,"le");return this.signed?r.fromTwos(8*this.span).clone():r}encode(e,t,r=0){return"number"==typeof e&&(e=new(ed(d0))(e)),this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(xO,"le",this.span),t,r)}},Ru=class extends C5{constructor(e){super(8,e),this._lower=Ro(Re(),!1),this._upper=Ro(Re(),!1)}addBoolean(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}decode(e,t=0){let r=this._lower.decode(e,t),n=this._upper.decode(e,t+this._lower.span);return xF(xF({},r),n)}encode(e,t,r=0){return this._lower.encode(e,t,r)+this._upper.encode(e,t,r+this._lower.span)}};function Rl(e){return new C3(1,e)}function Rc(e){return new C3(4,e)}function Rd(e){return new Rs(8,!1,e)}function Rp(e){return new Rs(16,!1,e)}function Rf(e){return new Rs(8,!0,e)}var Rh=class extends C5{constructor(e,t,r,n){super(e.span,n),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}};function Rm(e){return new Rh(Ri(32),e=>new ho(e),e=>e.toBuffer(),e)}function Rg(e){return new Rh(C9(),Ry,Rb,e)}function Ry(e){if(0===e)return!1;if(1===e)return!0;throw Error("Invalid bool: "+e)}function Rb(e){return e?1:0}function R_(e){let t;return new Rh(new Rh(Rv([t=Re("length"),Ri(Ra(t,-t.span),"data")]),({data:e})=>e,e=>({data:e}),void 0),e=>e.toString("utf-8"),e=>xO.from(e,"utf-8"),e)}var Rw=class extends C8{decode(e,t){return super.decode(e,t)}};function Rv(e,t,r){return new Rw(e,t,r)}function Rk(e,t,r){let n;return Rn(e,"number"==typeof t?t:(0,d0.isBN)(t)?t.toNumber():new Proxy(t,{get(e,t){if(!n){let t=Reflect.get(e,"count");n=(0,d0.isBN)(t)?t.toNumber():t,Reflect.set(e,"count",n)}return Reflect.get(e,t)},set:(e,t,r)=>("count"===t&&(n=r),Reflect.set(e,t,r))}),r)}var RA=Rv([Rm("mint"),Rm("owner"),Rd("amount"),Rc("delegateOption"),Rm("delegate"),Rl("state"),Rc("isNativeOption"),Rd("isNative"),Rd("delegatedAmount"),Rc("closeAuthorityOption"),Rm("closeAuthority")]);function RS({fromPublicKey:e,programId:t=SX,assignSeed:r}){let n=r?btoa(r).slice(0,32):gx.generate().publicKey.toBase58().slice(0,32);return{publicKey:new ho(C4(xO.concat([e.toBuffer(),xO.from(n),t.toBuffer()]))),seed:n}}function RI(e){let{mint:t,tokenAccount:r,owner:n,programId:i=SX}=e;return xA(r,t,n,i)}function RE(e){let{tokenAccount:t,payer:r,multiSigners:n=[],owner:i,programId:o=SX}=e;return Ea(t,r,i,n,o)}async function RT(e){let{connection:t,amount:r,commitment:n,payer:i,owner:o,skipCloseAccount:a}=e,s=await t.getMinimumBalanceForRentExemption(RA.span,n),u=Bl(r).add(new(ed(d0))(s)),l=RS({fromPublicKey:i,programId:SX});return{addresses:{newAccount:l.publicKey},signers:[],instructions:[hV.createAccountWithSeed({fromPubkey:i,basePubkey:i,seed:l.seed,newAccountPubkey:l.publicKey,lamports:u.toNumber(),space:RA.span,programId:SX}),RI({mint:new ho(Bw.address),tokenAccount:l.publicKey,owner:o,programId:SX})],instructionTypes:[BX.CreateAccount,BX.InitAccount],endInstructionTypes:a?[]:[BX.CloseAccount],endInstructions:a?[]:[RE({tokenAccount:l.publicKey,payer:i,owner:o})]}}xV("Raydium_Util");var Rx=class extends Cz{constructor(e){super(e),this._tokenAccounts=[],this._tokenAccountRawInfos=[],this._accountListener=[],this._clientOwnedToken=!1,this._notSubscribeAccountChange=!1,this._accountFetchTime=0;let{tokenAccounts:t,tokenAccountRawInfos:r,notSubscribeAccountChange:n}=e;this._tokenAccounts=t||[],this._tokenAccountRawInfos=r||[],this._notSubscribeAccountChange=null==n||n,this._clientOwnedToken=!!(t||r)}get tokenAccounts(){return this._tokenAccounts}get tokenAccountRawInfos(){return this._tokenAccountRawInfos}set notSubscribeAccountChange(e){this._notSubscribeAccountChange=e}updateTokenAccount({tokenAccounts:e,tokenAccountRawInfos:t}){return e&&(this._tokenAccounts=e),t&&(this._tokenAccountRawInfos=t),this._accountChangeListenerId&&this.scope.connection.removeAccountChangeListener(this._accountChangeListenerId),this._accountChangeListenerId=void 0,this._clientOwnedToken=!0,this}addAccountChangeListener(e){return this._accountListener.push(e),this}removeAccountChangeListener(e){return this._accountListener=this._accountListener.filter(t=>t!==e),this}getAssociatedTokenAccount(e,t){return B3(this.scope.ownerPubKey,e,t).publicKey}resetTokenAccounts(){this._clientOwnedToken||(this._tokenAccounts=[],this._tokenAccountRawInfos=[])}async fetchWalletTokenAccounts(e){if(this._clientOwnedToken||!(null!=e&&e.forceUpdate)&&this._tokenAccounts.length&&Date.now()-this._accountFetchTime<(this._notSubscribeAccountChange?5e3:18e4))return{tokenAccounts:this._tokenAccounts,tokenAccountRawInfos:this._tokenAccountRawInfos};this.scope.checkOwner();let t=xF(xF({},{}),e),[r,n,i]=await Promise.all([this.scope.connection.getAccountInfo(this.scope.ownerPubKey,t.commitment),this.scope.connection.getTokenAccountsByOwner(this.scope.ownerPubKey,{programId:SX},t.commitment),this.scope.connection.getTokenAccountsByOwner(this.scope.ownerPubKey,{programId:SZ},t.commitment)]),{tokenAccounts:o,tokenAccountRawInfos:a}=function({owner:e,solAccountResp:t,tokenAccountResp:r}){let n=[],i=[];for(let{pubkey:t,account:o}of r.value){let r=RA.decode(o.data),{mint:a,amount:s}=r;n.push({publicKey:t,mint:a,amount:s,isAssociated:B3(e,a,o.owner).publicKey.equals(t),isNative:!1,programId:o.owner}),i.push({pubkey:t,accountInfo:r,programId:o.owner})}return t&&n.push({mint:ho.default,amount:new(ed(d0))(String(t.lamports)),isNative:!0,programId:t.owner}),{tokenAccounts:n,tokenAccountRawInfos:i}}({owner:this.scope.ownerPubKey,solAccountResp:r,tokenAccountResp:{context:n.context,value:[...n.value,...i.value]}});return this._tokenAccounts=o,this._tokenAccountRawInfos=a,this._accountFetchTime=Date.now(),this._notSubscribeAccountChange||(this._accountChangeListenerId&&this.scope.connection.removeAccountChangeListener(this._accountChangeListenerId),this._accountChangeListenerId=this.scope.connection.onAccountChange(this.scope.ownerPubKey,()=>{this.fetchWalletTokenAccounts({forceUpdate:!0}),this._accountListener.forEach(e=>e({tokenAccounts:this._tokenAccounts,tokenAccountRawInfos:this._tokenAccountRawInfos}))},{commitment:null==e?void 0:e.commitment})),{tokenAccounts:o,tokenAccountRawInfos:a}}clearAccountChangeCkb(){void 0!==this._accountChangeListenerId&&this.scope.connection.removeAccountChangeListener(this._accountChangeListenerId)}async getCreatedTokenAccount({mint:e,programId:t=SX,associatedOnly:r=!0}){await this.fetchWalletTokenAccounts();let n=this._tokenAccounts.filter(({mint:t})=>null==t?void 0:t.equals(e)).sort((e,t)=>e.amount.lt(t.amount)?1:-1),i=this.getAssociatedTokenAccount(e,t);for(let e of n){let{publicKey:t}=e;if(t&&(!r||r&&i.equals(t)))return t}}async getOrCreateTokenAccount(e){var t,r,n,i;await this.fetchWalletTokenAccounts();let{mint:o,createInfo:a,associatedOnly:s,owner:u,notUseTokenAccount:l=!1,skipCloseAccount:c=!1,checkCreateATAOwner:d=!1,assignSeed:p}=e,f=new ho(e.tokenProgram||SX),h=this.getAssociatedTokenAccount(o,new ho(f)),m=(l?[]:this.tokenAccountRawInfos).filter(e=>e.accountInfo.mint.equals(o)&&(!s||e.pubkey.equals(h))).sort((e,t)=>e.accountInfo.amount.lt(t.accountInfo.amount)?1:-1);if(void 0===a||m.length>0)return m.length>0?{account:m[0].pubkey}:{};let g={instructions:[],endInstructions:[],signers:[],instructionTypes:[],endInstructionTypes:[]};if(s){let e=Er(u,h,u,o,f),n=this.tokenAccountRawInfos.find(e=>e.pubkey.equals(h));if(d){let r=await this.scope.connection.getAccountInfo(h);if(null===r)null==(t=g.instructions)||t.push(e),g.instructionTypes.push(BX.CreateATA);else if(!(r.owner.equals(f)&&Il.decode(r.data).mint.equals(o)&&Il.decode(r.data).owner.equals(u)))throw Error(`create ata check error -> mint: ${o.toString()}, ata: ${h.toString()}`)}else void 0===n&&(g.instructions.push(e),g.instructionTypes.push(BX.CreateATA));if(o.equals(BB)&&a.amount){let e=await RT({connection:this.scope.connection,owner:this.scope.ownerPubKey,payer:a.payer||this.scope.ownerPubKey,amount:null!=(r=a.amount)?r:0,skipCloseAccount:c});g.instructions.push(...e.instructions||[]),g.endInstructions.push(...e.endInstructions||[]),g.instructionTypes.push(...e.instructionTypes||[]),g.endInstructionTypes.push(...e.endInstructionTypes||[]),a.amount&&(g.instructions.push(function({source:e,destination:t,owner:r,amount:n,multiSigners:i=[],tokenProgram:o=SX}){return xE(e,t,r,BigInt(String(n)),i,o)}({source:e.addresses.newAccount,destination:h,owner:this.scope.ownerPubKey,amount:a.amount,tokenProgram:SX})),g.instructionTypes.push(BX.TransferAmount))}return c||void 0!==n||(g.endInstructions.push(RE({owner:u,payer:a.payer||u,tokenAccount:h,programId:f})),g.endInstructionTypes.push(BX.CloseAccount)),{account:h,instructionParams:g}}{let e=RS({fromPublicKey:u,programId:f,assignSeed:p}),t=await this.scope.connection.getMinimumBalanceForRentExemption(Il.span),r=hV.createAccountWithSeed({fromPubkey:u,basePubkey:u,seed:e.seed,newAccountPubkey:e.publicKey,lamports:t+Number(null!=(i=null==(n=a.amount)?void 0:n.toString())?i:0),space:Il.span,programId:f});return g.instructions.push(r,RI({mint:o,tokenAccount:e.publicKey,owner:this.scope.ownerPubKey,programId:f})),g.instructionTypes.push(BX.CreateAccount),g.instructionTypes.push(BX.InitAccount),c||(g.endInstructions.push(RE({owner:u,payer:a.payer||u,tokenAccount:e.publicKey,programId:f})),g.endInstructionTypes.push(BX.CloseAccount)),{account:e.publicKey,instructionParams:g}}}async checkOrCreateAta({mint:e,programId:t=SX,autoUnwrapWSOLToSOL:r}){var n;await this.fetchWalletTokenAccounts();let i=null==(n=this.scope.account.tokenAccounts.find(({mint:t})=>(null==t?void 0:t.toBase58())===e.toBase58()))?void 0:n.publicKey,o=this.scope.ownerPubKey,a={};if(!i){let r=this.getAssociatedTokenAccount(e,t),n=await Er(o,r,o,e,t);a.instructions=[n],a.instructionTypes=[BX.CreateATA],i=r}return r&&BB.toBase58()===e.toBase58()&&(a.endInstructions=[RE({owner:o,payer:o,tokenAccount:i,programId:t})],a.endInstructionTypes=[BX.CloseAccount]),{pubKey:i,newInstructions:a}}async handleTokenAccount(e){let{side:t,amount:r,mint:n,programId:i=SX,tokenAccount:o,payer:a=this.scope.ownerPubKey,bypassAssociatedCheck:s,skipCloseAccount:u,checkCreateATAOwner:l}=e,c=this.getAssociatedTokenAccount(n,i);if(new ho(BB).equals(n)){let e=await RT({connection:this.scope.connection,owner:this.scope.ownerPubKey,payer:a,amount:r,skipCloseAccount:u});return xF({tokenAccount:e.addresses.newAccount},e)}if(!o||"out"===t&&!c.equals(o)&&!s){let e=[],t=Er(this.scope.ownerPubKey,c,this.scope.ownerPubKey,n,i);if(l){let r=await this.scope.connection.getAccountInfo(c);if(null===r)e.push(t);else if(!(r.owner.equals(SX)&&Il.decode(r.data).mint.equals(n)&&Il.decode(r.data).owner.equals(this.scope.ownerPubKey)))throw Error(`create ata check error -> mint: ${n.toString()}, ata: ${c.toString()}`)}else e.push(t);return{tokenAccount:c,instructions:e,instructionTypes:[BX.CreateATA]}}return{tokenAccount:o}}async processTokenAccount(e){let{mint:t,programId:r=SX,amount:n,useSOLBalance:i,handleTokenAccount:o,feePayer:a}=e,s,u=this.createTxBuilder(a);if(t.equals(new ho(BB))&&i){let e=await this.handleTokenAccount({side:"in",amount:n||0,mint:t,bypassAssociatedCheck:!0,programId:r}),{tokenAccount:i}=e,o=xU(e,["tokenAccount"]);s=i,u.addInstruction(o)}else if(!(s=await this.getCreatedTokenAccount({mint:t,associatedOnly:!1,programId:r}))&&o){let e=await this.scope.account.handleTokenAccount({side:"in",amount:0,mint:t,bypassAssociatedCheck:!0,programId:r}),{tokenAccount:n}=e,i=xU(e,["tokenAccount"]);s=n,u.addInstruction(i)}return xF({tokenAccount:s},u.AllTxData)}},RP=Rv([Rl("instruction")]),RO=Rv([Rl("instruction")]),RB=Rv([Rd("rewardState"),Rd("rewardOpenTime"),Rd("rewardEndTime"),Rd("rewardLastUpdateTime"),Rd("totalReward"),Rd("totalRewardEmissioned"),Rd("rewardClaimed"),Rd("rewardPerSecond"),Rp("accRewardPerShare"),Rm("rewardVault"),Rm("rewardMint"),Rm("rewardSender"),Rd("rewardType"),Rk(Rd(),15,"padding")]),RC=Rv([Rd("state"),Rd("nonce"),Rm("lpVault"),Rm("rewardVault"),Rm(),Rm(),Rd(),Rd(),Rd("totalReward"),Rp("perShareReward"),Rd("lastSlot"),Rd("perSlotReward")]),RR=Rv([Rd("state"),Rd("nonce"),Rm("lpVault"),Rm("rewardVaultA"),Rd("totalRewardA"),Rp("perShareRewardA"),Rd("perSlotRewardA"),Rl("option"),Rm("rewardVaultB"),Ri(7),Rd("totalRewardB"),Rp("perShareRewardB"),Rd("perSlotRewardB"),Rd("lastSlot"),Rm()]),RM=Rv([Rd(),Rd("state"),Rd("nonce"),Rd("validRewardTokenNum"),Rp("rewardMultiplier"),Rd("rewardPeriodMax"),Rd("rewardPeriodMin"),Rd("rewardPeriodExtend"),Rm("lpMint"),Rm("lpVault"),Rk(RB,5,"rewardInfos"),Rm("creator"),Rm(),Rk(Rd(),32,"padding")]),RL=(new Proxy(RC,{get:(e,t,r)=>"decode"===t?(...t)=>{let r=e.decode(...t);return xq(xF({},r),{version:3,rewardInfos:[{rewardVault:r.rewardVault,totalReward:r.totalReward,perSlotReward:r.perSlotReward,perShareReward:r.perShareReward}]})}:Reflect.get(e,t,r)}),new Proxy(RR,{get:(e,t,r)=>"decode"===t?(...t)=>{let r=e.decode(...t);return xq(xF({},r),{version:5,rewardInfos:[{rewardVault:r.rewardVaultA,totalReward:r.totalRewardA,perSlotReward:r.perSlotRewardA,perShareReward:r.perShareRewardA},{rewardVault:r.rewardVaultB,totalReward:r.totalRewardB,perSlotReward:r.perSlotRewardB,perShareReward:r.perShareRewardB}]})}:Reflect.get(e,t,r)}),new Proxy(RM,{get:(e,t,r)=>"decode"===t?(...t)=>{let r=e.decode(...t);return xq(xF({},r),{version:6,rewardInfos:r.rewardInfos.map(e=>{var t;return xq(xF({},e),{rewardType:(null!=(t=Object.entries(RY).find(t=>String(t[1])===e.rewardType.toString()))?t:["Standard SPL"])[0]})})})}:Reflect.get(e,t,r)})),RN=Rv([Rd("isSet"),Rd("rewardPerSecond"),Rd("rewardOpenTime"),Rd("rewardEndTime"),Rd("rewardType")]),RD=Rv([Rl("instruction"),Rd("nonce"),Rk(RN,5,"rewardTimeInfo")]),RF=Rv([Rl("instruction"),Rd("rewardReopenTime"),Rd("rewardEndTime"),Rd("rewardPerSecond")]),Rq=Rv([Rl("instruction"),Rd("isSet"),Rd("rewardPerSecond"),Rd("rewardOpenTime"),Rd("rewardEndTime"),Rd("rewardType")]),RU=(Rv([Rd("state"),Rm("id"),Rm("owner"),Rd("deposited"),Rk(Rd(),1,"rewardDebts")]),Rv([Rd("state"),Rm("id"),Rm("owner"),Rd("deposited"),Rk(Rp(),1,"rewardDebts"),Rd(""),Rd("voteLockedBalance"),Rk(Rd(),15)])),Rj=(Rv([Rd("state"),Rm("id"),Rm("owner"),Rd("deposited"),Rk(Rd(),2,"rewardDebts")]),Rv([Rd("state"),Rm("id"),Rm("owner"),Rd("deposited"),Rk(Rp(),2,"rewardDebts"),Rk(Rd(),17)])),RW=Rv([Rd(),Rd("state"),Rm("id"),Rm("owner"),Rd("deposited"),Rk(Rp(),5,"rewardDebts"),Rk(Rd(),16)]),RK=Rv([Rl("instruction"),Rd("amount")]),Rz=Rv([Rm("mint"),Rm("grantAuthority"),Rd("baselineVoteWeightScaledFactor"),Rd("maxExtraLockupVoteWeightScaledFactor"),Rd("lockupSaturationSecs"),new Rs(1,!0,"digitShift"),Rk(Rl(),7,"reserved1"),Rk(Rd(),7,"reserved2")]),RV=(Rv([Ri(8),Rm("governanceProgramId"),Rm("realm"),Rm("realmGoverningTokenMint"),Rm("realmAuthority"),Rk(Rl(),32,"reserved1"),Rk(Rz,4,"votingMints"),Rf("timeOffset"),Rl("bump"),Rk(Rl(),7,"reserved2"),Rk(Rd(),11,"reserved3")]),Rv([Rf("startTime"),Rf("endTime"),Rl("kind"),Rk(Rl(),15,"reserved")])),RH=Rv([Rk(RV,1,"lockup"),Rd("amountDeposited_native"),Rd("amountInitiallyLockedNative"),Rg("isUsed"),Rg("allowClawback"),Rl("votingMintConfigIdx"),Rk(Rl(),29,"reserved")]);Rv([Ri(8),Rm("voterAuthority"),Rm("registrar"),Rk(RH,32,"deposits"),Rl("voterBump"),Rl("voterWweightRecordBump"),Rk(Rl(),94,"reserved")]),xV("Raydium_farm_config");var RG=new ho("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),R$=new ho("FrspKwj8i3pNmKwXreTveC4fu7KL5ZbGeXdZBe2XViu1"),RX=(new ho("3TRTX4dXUpp2eqxi3tvQDFYUV7SdDJjcPE3Y4mbtftaX"),{3:RU,5:Rj,6:RW}),RZ=e=>-1!==[3,4,5,6].indexOf(e),RQ=e=>{var t;let{version:r,rewardInfos:n,rewardTokenAccountsPublicKeys:i}=e,o=`rewardInfo:${JSON.stringify(n)}, rewardAccount:${JSON.stringify(i)}`,a={3:()=>{if(1!==n.length||1!==i.length)return`rewardInfos or rewardTokenAccounts lengths not equal 1: ${o}`},5:()=>{if(n.length!==i.length)return`rewardInfos and rewardTokenAccounts lengths not equal: ${o}`},6:()=>{if(!i.length||n.length!==i.length)return`no rewardTokenAccounts or rewardInfos and rewardTokenAccounts lengths not equal: ${o}`}};return null==(t=a[r])?void 0:t.call(a)},RY={"Standard SPL":0,"Option tokens":1},RJ={[B9.toString()]:3,[B7.toString()]:4,[Ce.toString()]:5,[Ct.toString()]:6,[Cv.FARM_PROGRAM_ID_V3.toString()]:3,[Cv.FARM_PROGRAM_ID_V4.toString()]:4,[Cv.FARM_PROGRAM_ID_V5.toString()]:5,[Cv.FARM_PROGRAM_ID_V6.toString()]:6},R1=xV("Raydium.farm.util");function R0({programId:e,poolId:t,mint:r,type:n}){let{publicKey:i}=B0([t.toBuffer(),r.toBuffer(),xO.from("lpVault"===n?"lp_vault_associated_seed":"rewardVault"===n?"reward_vault_associated_seed":"","utf-8")],e);return i}function R2({programId:e,poolId:t,owner:r,version:n}){let{publicKey:i}=B0([t.toBuffer(),r.toBuffer(),xO.from(6===n?"farmer_info_associated_seed":"staker_info_v2_associated_seed","utf-8")],e);return i}var R6=({programId:e,poolId:t})=>B0([t.toBuffer()],e);function R4(e){return Bl(e.endTime).sub(Bl(e.openTime)).mul(Bl(e.perSecond))}function R5(e){let t=RX[e];return t||R1.logWithError("invalid version",e),t}var R8=xV("Raydium_farm_instruction");function R3(e){let{version:t,id:r,ledger:n,programId:i,owner:o}=e,a={3:9,5:10}[t];a||R8.logWithError(`invalid farm pool version: ${t}`);let s=xO.alloc(RP.span);return RP.encode({instruction:a},s),{instruction:new hI({programId:i,keys:[Bv({pubkey:r}),Bv({pubkey:n}),Bv({pubkey:o,isWritable:!1}),Bv({pubkey:hV.programId,isWritable:!1}),Bv({pubkey:hC,isWritable:!1})],data:s}),instructionType:BX.FarmV3CreateLedger}}function R9({payer:e,rewardVault:t,userRewardTokenPub:r,farmKeys:n,rewardInfo:i}){let o=xO.alloc(RF.span);RF.encode({instruction:3,rewardReopenTime:Bl(i.openTime),rewardEndTime:Bl(i.endTime),rewardPerSecond:Bl(i.perSecond)},o);let a=[Bv({pubkey:SX,isWritable:!1}),Bv({pubkey:n.id}),Bv({pubkey:n.lpVault,isWritable:!1}),Bv({pubkey:t}),Bv({pubkey:r}),Bv({pubkey:e,isWritable:!1,isSigner:!0})];return new hI({programId:n.programId,keys:a,data:o})}function R7({payer:e,userRewardTokenPub:t,farmKeys:r,rewardVault:n,rewardInfo:i}){let o=xO.alloc(Rq.span);Rq.encode({instruction:4,isSet:new(ed(d0))(1),rewardPerSecond:Bl(i.perSecond),rewardOpenTime:Bl(i.openTime),rewardEndTime:Bl(i.endTime),rewardType:Bl(RY[i.rewardType])},o);let a=[...Bk,Bv({pubkey:r.id}),Bv({pubkey:r.authority,isWritable:!1}),Bv({pubkey:i.mint,isWritable:!1}),Bv({pubkey:n}),Bv({pubkey:t}),Bv({pubkey:e,isWritable:!1,isSigner:!0})];return new hI({programId:r.programId,keys:a,data:o})}function Me(e){let{farmInfo:t,farmKeys:r,lpAccount:n,rewardAccounts:i,owner:o,amount:a}=e,[s,u]=[new ho(t.programId),new ho(t.id)],l=R2({programId:s,poolId:u,owner:o,version:6}),c=xO.alloc(RK.span);RK.encode({instruction:2,amount:Bl(a)},c);let d=[Bv({pubkey:SX,isWritable:!1}),Bv({pubkey:u}),Bv({pubkey:new ho(r.authority),isWritable:!1}),Bv({pubkey:new ho(r.lpVault)}),Bv({pubkey:l}),Bv({pubkey:o,isWritable:!1,isSigner:!0}),Bv({pubkey:n})];for(let e=0;e<r.rewardInfos.length;e++)d.push(Bv({pubkey:new ho(r.rewardInfos[e].vault)})),d.push(Bv({pubkey:i[e]}));return new hI({programId:s,keys:d,data:c})}function Mt(e){let{farmInfo:t,farmKeys:r,lpAccount:n,rewardAccounts:i,owner:o,amount:a,userAuxiliaryLedgers:s}=e,[u,l]=[new ho(t.programId),new ho(t.id)],c=R2({programId:u,poolId:l,owner:o,version:5}),d=xO.alloc(RK.span);RK.encode({instruction:12,amount:Bl(a)},d);let p=[Bv({pubkey:l}),Bv({pubkey:new ho(r.authority),isWritable:!1}),Bv({pubkey:c}),Bv({pubkey:o,isWritable:!1,isSigner:!0}),Bv({pubkey:n}),Bv({pubkey:new ho(r.lpVault)}),Bv({pubkey:i[0]}),Bv({pubkey:new ho(r.rewardInfos[0].vault)}),Bv({pubkey:hP,isWritable:!1}),Bv({pubkey:SX,isWritable:!1})];for(let e=1;e<r.rewardInfos.length;e++)p.push(Bv({pubkey:i[e]})),p.push(Bv({pubkey:new ho(r.rewardInfos[e].vault)}));if(s)for(let e of s)p.push(Bv({pubkey:e}));return new hI({programId:u,keys:p,data:d})}function Mr(e){let{farmInfo:t,farmKeys:r,lpAccount:n,rewardAccounts:i,owner:o,amount:a,userAuxiliaryLedgers:s}=e,[u,l]=[new ho(t.programId),new ho(t.id)],c=R2({programId:u,poolId:l,owner:o,version:3}),d=xO.alloc(RK.span);RK.encode({instruction:11,amount:Bl(a)},d);let p=[Bv({pubkey:l}),Bv({pubkey:new ho(r.authority),isWritable:!1}),Bv({pubkey:c}),Bv({pubkey:o,isWritable:!1,isSigner:!0}),Bv({pubkey:n}),Bv({pubkey:new ho(r.lpVault)}),Bv({pubkey:i[0]}),Bv({pubkey:new ho(r.rewardInfos[0].vault)}),Bv({pubkey:hP,isWritable:!1}),Bv({pubkey:SX,isWritable:!1})];if(s)for(let e of s)p.push(Bv({pubkey:e}));return new hI({programId:u,keys:p,data:d})}xO.from([6,24,245,52,243,255,148,25]),xO.from([185,131,167,186,159,125,19,67]),xO.from([242,35,198,137,82,225,242,182]),xO.from([183,18,70,156,148,109,161,34]),xO.from([45,185,3,36,109,190,115,169]);var Mn=class extends Cz{async _getUserRewardInfo({payer:e,rewardInfo:t}){if(t.mint.equals(BC)){let r=await RT({connection:this.scope.connection,owner:this.scope.ownerPubKey,payer:e,amount:R4(xq(xF({},t),{openTime:t.openTime.toString(),endTime:t.endTime.toString()}))});return{rewardPubKey:r.addresses.newAccount,newInstruction:r}}return{rewardPubKey:await this.scope.account.getCreatedTokenAccount({mint:t.mint,associatedOnly:!1})}}async create({poolInfo:e,rewardInfos:t,payer:r,programId:n=Ct,txVersion:i,feePayer:o,lockProgram:a}){var s,u;this.checkDisabled(),this.scope.checkOwner();let l={lpMint:new ho(e.lpMint.address),lockInfo:{lockMint:null!=(s=null==a?void 0:a.mint)?s:RG,lockVault:null!=(u=null==a?void 0:a.vault)?u:R$},version:6,rewardInfos:t,programId:n},c=this.createTxBuilder(o),d=null!=r?r:this.scope.ownerPubKey,p=RS({fromPublicKey:d,programId:l.programId}),f=await this.scope.connection.getMinimumBalanceForRentExemption(RL.span);c.addInstruction({instructions:[hV.createAccountWithSeed({fromPubkey:d,basePubkey:d,seed:p.seed,newAccountPubkey:p.publicKey,lamports:f,space:RL.span,programId:l.programId})]});let{publicKey:h,nonce:m}=R6({programId:new ho(l.programId),poolId:p.publicKey}),g=R0({programId:l.programId,poolId:p.publicKey,mint:l.lpMint,type:"lpVault"}),y=[],b=[];for(let e of l.rewardInfos){e.openTime>=e.endTime&&this.logAndCreateError("start time error","rewardInfo.rewardOpenTime",e.openTime.toString()),isNaN(RY[e.rewardType])&&this.logAndCreateError("rewardType error",e.rewardType),0>=Number(e.perSecond)&&this.logAndCreateError("rewardPerSecond error",e.perSecond),y.push({isSet:new(ed(d0))(1),rewardPerSecond:Bl(e.perSecond),rewardOpenTime:Bl(e.openTime),rewardEndTime:Bl(e.endTime),rewardType:Bl(RY[e.rewardType])});let{rewardPubKey:t,newInstruction:r}=await this._getUserRewardInfo({rewardInfo:e,payer:d});r&&c.addInstruction(r),t||this.logAndCreateError("cannot found target token accounts",this.scope.account.tokenAccounts);let n=e.mint.equals(BC)?new ho(Bw.address):e.mint;b.push({rewardMint:n,rewardVault:R0({programId:l.programId,poolId:p.publicKey,mint:n,type:"rewardVault"}),userRewardToken:t})}let{account:_,instructionParams:w}=await this.scope.account.getOrCreateTokenAccount({mint:new ho(l.lockInfo.lockMint),owner:this.scope.ownerPubKey,skipCloseAccount:!1,createInfo:{payer:this.scope.ownerPubKey,amount:0},associatedOnly:!1});w&&c.addInstruction(w),_||this.logAndCreateError("cannot found lock vault","tokenAccounts",this.scope.account.tokenAccounts);let{instruction:v,instructionType:k}=function(e){var t;let r=xO.alloc(RD.span);RD.encode({instruction:0,nonce:new(ed(d0))(e.nonce),rewardTimeInfo:e.rewardInfoConfig},r);let n=[...Bk,Bv({pubkey:e.farmId}),Bv({pubkey:e.farmAuthority,isWritable:!1}),Bv({pubkey:e.lpVault}),Bv({pubkey:e.lpMint,isWritable:!1}),Bv({pubkey:e.lockVault}),Bv({pubkey:e.lockMint,isWritable:!1}),Bv({pubkey:null!=(t=e.lockUserAccount)?t:BC}),Bv({pubkey:e.owner,isWritable:!1,isSigner:!0})];for(let t of e.rewardInfo)n.push(Bv({pubkey:t.rewardMint,isWritable:!1}),Bv({pubkey:t.rewardVault}),Bv({pubkey:t.userRewardToken}));return{instruction:new hI({programId:e.programId,keys:n,data:r}),instructionType:BX.FarmV6Create}}({farmId:p.publicKey,owner:this.scope.ownerPubKey,farmAuthority:h,lpVault:g,lpMint:l.lpMint,lockVault:l.lockInfo.lockVault,lockMint:l.lockInfo.lockMint,lockUserAccount:_,programId:l.programId,rewardInfo:b,rewardInfoConfig:y,nonce:m});return c.addInstruction({instructions:[v],instructionTypes:[k]}).versionBuild({txVersion:i,extInfo:{farmId:p.publicKey,farmAuthority:h,lpVault:g,lockUserAccount:_,nonce:m}})}async restartReward({farmInfo:e,payer:t,newRewardInfo:r,txVersion:n,feePayer:i}){var o;let a=RJ[e.programId];6!==a&&this.logAndCreateError("invalid farm version ",a);let s=BU((await this.scope.api.fetchFarmKeysById({ids:e.id}))[0]),u={id:s.id,rewardInfos:e.rewardInfos,lpVault:s.lpVault,programId:s.programId};r.openTime>=r.endTime&&this.logAndCreateError("start time error","newRewardInfo",r);let l=t||this.scope.ownerPubKey,c=r.mint.equals(BC)?new ho(Bw.address):r.mint,d=u.rewardInfos.findIndex(e=>new ho(e.mint.address).equals(c)),p=s.rewardInfos[d];p||this.logAndCreateError("configuration does not exist","rewardMint",c);let f=null!=(o=p.vault)?o:BC,h=this.createTxBuilder(i),{rewardPubKey:m,newInstruction:g}=await this._getUserRewardInfo({rewardInfo:r,payer:l});return g&&h.addInstruction(g),m||this.logAndCreateError("cannot found target token accounts",this.scope.account.tokenAccounts),h.addInstruction({instructions:[R9({payer:this.scope.ownerPubKey,rewardVault:f,userRewardTokenPub:m,farmKeys:u,rewardInfo:r})],instructionTypes:[BX.FarmV6Restart]}).versionBuild({txVersion:n})}async restartRewards({farmInfo:e,payer:t,newRewardInfos:r,txVersion:n,feePayer:i}){var o;let a=RJ[e.programId];6!==a&&this.logAndCreateError("invalid farm version ",a);let s=BU((await this.scope.api.fetchFarmKeysById({ids:e.id}))[0]),u={id:s.id,rewardInfos:e.rewardInfos,lpVault:s.lpVault,programId:s.programId};r.forEach(e=>{e.openTime>=e.endTime&&this.logAndCreateError("start time error","newRewardInfo",e)});let l=t||this.scope.ownerPubKey,c=this.createTxBuilder(i);for(let e of r){let t=e.mint.equals(BC)?new ho(Bw.address):e.mint,r=u.rewardInfos.findIndex(e=>new ho(e.mint.address).equals(t)),n=s.rewardInfos[r];n||this.logAndCreateError("configuration does not exist","rewardMint",t);let i=null!=(o=n.vault)?o:BC,{rewardPubKey:a,newInstruction:d}=await this._getUserRewardInfo({rewardInfo:e,payer:l});d&&c.addInstruction(d),a||this.logAndCreateError("cannot found target token accounts",this.scope.account.tokenAccounts);let p=R9({payer:this.scope.ownerPubKey,rewardVault:i,userRewardTokenPub:a,farmKeys:u,rewardInfo:e});c.addInstruction({instructions:[p],instructionTypes:[BX.FarmV6Restart]})}return c.versionBuild({txVersion:n})}async addNewRewardToken(e){let{txVersion:t,farmInfo:r,newRewardInfo:n,payer:i,feePayer:o}=e,a=RJ[r.programId];6!==a&&this.logAndCreateError("invalid farm version ",a);let s=BU((await this.scope.api.fetchFarmKeysById({ids:r.id}))[0]),u=null!=i?i:this.scope.ownerPubKey,l=this.createTxBuilder(o),c=n.mint.equals(BC)?new ho(Bw.address):n.mint,d=R0({programId:new ho(r.programId),poolId:new ho(r.id),mint:c,type:"rewardVault"}),{rewardPubKey:p,newInstruction:f}=await this._getUserRewardInfo({rewardInfo:n,payer:u});return f&&l.addInstruction(f),p||this.logAndCreateError("annot found target token accounts",this.scope.account.tokenAccounts),n.mint=c,l.addInstruction({instructions:[R7({payer:this.scope.ownerPubKey,userRewardTokenPub:p,farmKeys:s,rewardVault:d,rewardInfo:n})],instructionTypes:[BX.FarmV6CreatorAddReward]}).versionBuild({txVersion:t})}async addNewRewardsToken(e){let{txVersion:t,farmInfo:r,newRewardInfos:n,payer:i,feePayer:o}=e,a=RJ[r.programId];6!==a&&this.logAndCreateError("invalid farm version ",a);let s=BU((await this.scope.api.fetchFarmKeysById({ids:r.id}))[0]),u=null!=i?i:this.scope.ownerPubKey,l=this.createTxBuilder(o);for(let e of n){let t=e.mint.equals(BC)?new ho(Bw.address):e.mint,n=R0({programId:new ho(r.programId),poolId:new ho(r.id),mint:t,type:"rewardVault"}),{rewardPubKey:i,newInstruction:o}=await this._getUserRewardInfo({rewardInfo:e,payer:u});o&&l.addInstruction(o),i||this.logAndCreateError("cannot found target token accounts",this.scope.account.tokenAccounts);let a=R7({payer:this.scope.ownerPubKey,userRewardTokenPub:i,farmKeys:s,rewardVault:n,rewardInfo:xq(xF({},e),{mint:t})});l.addInstruction({instructions:[a],instructionTypes:[BX.FarmV6CreatorAddReward]})}return l.versionBuild({txVersion:t})}async deposit(e){let{txVersion:t,farmInfo:r,amount:n,feePayer:i,useSOLBalance:o,associatedOnly:a=!0,checkCreateATAOwner:s=!1,userAuxiliaryLedgers:u,computeBudgetConfig:l,txTipConfig:c}=e;!1===this.scope.availability.addFarm&&this.logAndCreateError("farm deposit feature disabled in your region");let{rewardInfos:d,programId:p}=r,f=RJ[p];4===f&&this.logAndCreateError("V4 has suspended deposits:",r.programId),RZ(f)||this.logAndCreateError("invalid farm program:",r.programId);let[h,m]=[new ho(r.programId),new ho(r.id)],g=(await this.scope.api.fetchFarmKeysById({ids:r.id}))[0],y=R2({programId:h,poolId:m,owner:this.scope.ownerPubKey,version:f}),b=this.createTxBuilder(i);b.addCustomComputeBudget(l),b.addTipInstruction(c);let _={};for(let e of this.scope.account.tokenAccounts)if(a){let t=B3(this.scope.ownerPubKey,e.mint,e.programId).publicKey;e.publicKey&&t.equals(e.publicKey)&&(_[e.mint.toString()]=e.publicKey)}else _[e.mint.toString()]=e.publicKey;let w=_[g.lpMint.address];w||this.logAndCreateError("you don't have any lp","lp zero",_);let v=[];for(let e of d){let t=o&&e.mint.address===BB.toString(),r=_[e.mint.address];if(!r){let{account:n,instructionParams:o}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:e.mint.programId,mint:new ho(e.mint.address),notUseTokenAccount:t,createInfo:{payer:i||this.scope.ownerPubKey,amount:0},owner:this.scope.ownerPubKey,skipCloseAccount:!t,associatedOnly:!t&&a,checkCreateATAOwner:s});r=n,o&&b.addInstruction(o)}_[e.mint.address]=r,v.push(r)}let k,A=await this.scope.connection.getAccountInfo(y);if(A&&(k=R5(f).decode(A.data)),r.programId!==Ct.toString()&&r.programId!==Cv.FARM_PROGRAM_ID_V6.toString()&&!k){let{instruction:e,instructionType:t}=R3({id:m,programId:h,version:f,ledger:y,owner:this.scope.ownerPubKey});b.addInstruction({instructions:[e],instructionTypes:[t]})}let S=RQ({version:f,rewardInfos:d,rewardTokenAccountsPublicKeys:v});S&&this.logAndCreateError(S);let I={amount:Bl(n),owner:this.scope.ownerPubKey,farmInfo:r,farmKeys:g,lpAccount:w,rewardAccounts:v,userAuxiliaryLedgers:null==u?void 0:u.map(e=>new ho(e))},E=6===f?function(e){let{farmInfo:t,farmKeys:r,lpAccount:n,rewardAccounts:i,owner:o,amount:a}=e,[s,u]=[new ho(t.programId),new ho(t.id)],l=R2({programId:s,poolId:u,owner:o,version:6}),c=xO.alloc(RK.span);RK.encode({instruction:1,amount:Bl(a)},c);let d=[Bv({pubkey:SX,isWritable:!1}),Bv({pubkey:hV.programId,isWritable:!1}),Bv({pubkey:u}),Bv({pubkey:new ho(r.authority),isWritable:!1}),Bv({pubkey:new ho(r.lpVault)}),Bv({pubkey:l}),Bv({pubkey:o,isWritable:!1,isSigner:!0}),Bv({pubkey:n})];for(let e=0;e<r.rewardInfos.length;e++)d.push(Bv({pubkey:new ho(r.rewardInfos[e].vault)})),d.push(Bv({pubkey:i[e]}));return new hI({programId:s,keys:d,data:c})}(I):5===f?function(e){let{farmInfo:t,farmKeys:r,lpAccount:n,rewardAccounts:i,owner:o,amount:a,userAuxiliaryLedgers:s}=e,[u,l]=[new ho(t.programId),new ho(t.id)],c=R2({programId:u,poolId:l,owner:o,version:5}),d=xO.alloc(RK.span);RK.encode({instruction:11,amount:Bl(a)},d);let p=[Bv({pubkey:l}),Bv({pubkey:new ho(r.authority),isWritable:!1}),Bv({pubkey:c}),Bv({pubkey:o,isWritable:!1,isSigner:!0}),Bv({pubkey:n}),Bv({pubkey:new ho(r.lpVault)}),Bv({pubkey:i[0]}),Bv({pubkey:new ho(r.rewardInfos[0].vault)}),Bv({pubkey:hP,isWritable:!1}),Bv({pubkey:SX,isWritable:!1})];for(let e=1;e<r.rewardInfos.length;e++)p.push(Bv({pubkey:i[e]})),p.push(Bv({pubkey:new ho(r.rewardInfos[e].vault)}));if(s)for(let e of s)p.push(Bv({pubkey:e}));return new hI({programId:u,keys:p,data:d})}(I):function(e){let{farmInfo:t,farmKeys:r,lpAccount:n,rewardAccounts:i,owner:o,amount:a,userAuxiliaryLedgers:s}=e,[u,l]=[new ho(t.programId),new ho(t.id)],c=R2({programId:u,poolId:l,owner:o,version:3}),d=xO.alloc(RK.span);RK.encode({instruction:10,amount:Bl(a)},d);let p=[Bv({pubkey:l}),Bv({pubkey:new ho(r.authority),isWritable:!1}),Bv({pubkey:c}),Bv({pubkey:o,isWritable:!1,isSigner:!0}),Bv({pubkey:n}),Bv({pubkey:new ho(r.lpVault)}),Bv({pubkey:i[0]}),Bv({pubkey:new ho(r.rewardInfos[0].vault)}),Bv({pubkey:hP,isWritable:!1}),Bv({pubkey:SX,isWritable:!1})];if(s)for(let e of s)p.push(Bv({pubkey:e}));return new hI({programId:u,keys:p,data:d})}(I),T={3:BX.FarmV3Deposit,5:BX.FarmV5Deposit,6:BX.FarmV6Deposit};return b.addInstruction({instructions:[E],instructionTypes:[T[f]]}).versionBuild({txVersion:t})}async withdraw(e){let{txVersion:t,farmInfo:r,amount:n,deposited:i,useSOLBalance:o,feePayer:a,associatedOnly:s=!0,checkCreateATAOwner:u=!1,userAuxiliaryLedgers:l,computeBudgetConfig:c,txTipConfig:d}=e,{rewardInfos:p}=r;!1===this.scope.availability.removeFarm&&this.logAndCreateError("farm withdraw feature disabled in your region");let f=RJ[r.programId];RZ(f)||this.logAndCreateError("invalid farm program:",r.programId);let h=(await this.scope.api.fetchFarmKeysById({ids:r.id}))[0],m=this.createTxBuilder(a);m.addCustomComputeBudget(c),m.addTipInstruction(d);let g={};for(let e of this.scope.account.tokenAccounts)if(s){let t=B3(this.scope.ownerPubKey,e.mint).publicKey;e.publicKey&&t.equals(e.publicKey)&&(g[e.mint.toString()]=e.publicKey)}else g[e.mint.toString()]=e.publicKey;if(4!==f){let e=R2({programId:new ho(r.programId),poolId:new ho(r.id),owner:this.scope.ownerPubKey,version:f}),t=await this.scope.connection.getAccountInfo(e);if(t)R5(f).decode(t.data).deposited.isZero()&&this.logAndCreateError("no deposited lp",{farmId:r.id});else if(6!==f){let{instruction:t,instructionType:r}=R3({id:new ho(h.id),programId:new ho(h.programId),version:f,ledger:e,owner:this.scope.ownerPubKey});m.addInstruction({instructions:[t],instructionTypes:[r]})}}i&&i.isZero()&&!(l||[]).length&&this.logAndCreateError("no deposited lp",{farmId:r.id});let y=h.lpMint.address,b=o&&y===BB.toString(),_=g[y.toString()];if(!_){let{account:e,instructionParams:t}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:h.lpMint.programId,mint:new ho(y),notUseTokenAccount:b,createInfo:{payer:a||this.scope.ownerPubKey,amount:0},owner:this.scope.ownerPubKey,skipCloseAccount:!0,associatedOnly:!b&&s,checkCreateATAOwner:u});_=e,t&&m.addInstruction(t)}g[y.toString()]=_;let w=[];for(let e of p){let t=o&&e.mint.address===BB.toString(),r=g[e.mint.address];if(!r){let{account:n,instructionParams:i}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:e.mint.programId,mint:new ho(e.mint.address),notUseTokenAccount:t,createInfo:{payer:a||this.scope.ownerPubKey,amount:0},owner:this.scope.ownerPubKey,skipCloseAccount:!t,associatedOnly:!t&&s,checkCreateATAOwner:u});r=n,i&&m.addInstruction(i)}g[e.mint.address]=r,w.push(r)}let v=RQ({version:f,rewardInfos:p,rewardTokenAccountsPublicKeys:w});v&&this.logAndCreateError(v);let k={amount:Bl(n),owner:this.scope.ownerPubKey,farmInfo:r,farmKeys:h,lpAccount:_,rewardAccounts:w,userAuxiliaryLedgers:null==l?void 0:l.map(e=>new ho(e))},A=6===f?Me(k):5===f?Mt(k):4===f?function(e){let{farmInfo:t,farmKeys:r,lpAccount:n,rewardAccounts:i,owner:o,amount:a,userAuxiliaryLedgers:s}=e,[u,l]=[new ho(t.programId),new ho(t.id)],c=Rv([Rl("instruction"),Rd("amount")]),d=[Bv({pubkey:l}),Bv({pubkey:new ho(r.authority),isWritable:!1}),Bv({pubkey:s[0]}),Bv({pubkey:o,isSigner:!0,isWritable:!1}),Bv({pubkey:n}),Bv({pubkey:new ho(r.lpVault)}),Bv({pubkey:i[0]}),Bv({pubkey:new ho(r.rewardInfos[0].vault)}),Bv({pubkey:hP,isWritable:!1}),Bv({pubkey:SX,isWritable:!1}),Bv({pubkey:i[1]}),Bv({pubkey:new ho(r.rewardInfos[1].vault)})],p=xO.alloc(c.span);return c.encode({instruction:2,amount:a},p),new hI({keys:d,programId:u,data:p})}(k):Mr(k),S={3:BX.FarmV3Withdraw,4:BX.FarmV4Withdraw,5:BX.FarmV5Withdraw,6:BX.FarmV6Withdraw};return m.addInstruction({instructions:[A],instructionTypes:[S[f]]}).versionBuild({txVersion:t})}async withdrawFarmReward({farmInfo:e,withdrawMint:t,txVersion:r,computeBudgetConfig:n,txTipConfig:i,feePayer:o}){var a,s;let u,l;this.scope.checkOwner();let c=BU((await this.scope.api.fetchFarmKeysById({ids:e.id}))[0]),d=RJ[e.programId];6!==d&&this.logAndCreateError("invalid farm version",d);let p=c.rewardInfos.find(e=>BR(e.mint.address).equals(BR(t)));p||this.logAndCreateError("withdraw mint error","rewardInfos",e);let f=null!=(a=null==p?void 0:p.vault)?a:BC,h=this.createTxBuilder(o),m;if(t.equals(BC)||t.equals(ho.default)){let e=await RT({connection:this.scope.connection,owner:this.scope.ownerPubKey,payer:this.scope.ownerPubKey,amount:R4(xq(xF({},p),{openTime:p.openTime,endTime:p.endTime,perSecond:new Ba(p.perSecond).mul(10**p.mint.decimals).toString()}))});m=e.addresses.newAccount,h.addInstruction(e)}else{let e=await this.scope.account.getCreatedTokenAccount({mint:t});null===e?(m=await this.scope.account.getAssociatedTokenAccount(t),h.addInstruction({instructions:[Er(this.scope.ownerPubKey,m,this.scope.ownerPubKey,t)],instructionTypes:[BX.CreateATA]})):m=e}let{instruction:g,instructionType:y}=(s={programId:c.programId,id:c.id,authority:c.authority,lpVault:c.lpVault,rewardVault:f,userRewardToken:m,owner:this.scope.ownerPubKey},u=xO.alloc(RO.span),RO.encode({instruction:5},u),l=[Bv({pubkey:SX,isWritable:!1}),Bv({pubkey:s.id}),Bv({pubkey:s.authority,isWritable:!1}),Bv({pubkey:s.lpVault,isWritable:!1}),Bv({pubkey:s.rewardVault}),Bv({pubkey:s.userRewardToken}),Bv({pubkey:s.owner,isWritable:!1,isSigner:!0})],{instruction:new hI({programId:s.programId,keys:l,data:u}),instructionType:BX.FarmV6CreatorWithdraw});return h.addCustomComputeBudget(n),h.addTipInstruction(i),h.addInstruction({instructions:[g],instructionTypes:[y]}).versionBuild({txVersion:r})}async harvestAllRewards(e){let{farmInfoList:t,useSOLBalance:r,feePayer:n,associatedOnly:i=!0,checkCreateATAOwner:o=!1,userAuxiliaryLedgers:a,txVersion:s,computeBudgetConfig:u}=e,l=this.createTxBuilder(n),c={};for(let e of this.scope.account.tokenAccounts)if(i){let t=B3(this.scope.ownerPubKey,e.mint).publicKey;e.publicKey&&t.equals(e.publicKey)&&(c[e.mint.toString()]=e.publicKey)}else c[e.mint.toString()]=e.publicKey;let d=(await this.scope.api.fetchFarmKeysById({ids:Object.values(t).map(e=>e.id).join(",")})).reduce((e,t)=>xq(xF({},e),{[t.id]:t}),{});for(let e of Object.values(t)){let{programId:t,lpMint:s,rewardInfos:u,id:p}=e,f=RJ[t],h=s.address,m=r&&h===BB.toString(),g=c[h];if(!g){let{account:e,instructionParams:t}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:s.programId,mint:new ho(h),notUseTokenAccount:m,createInfo:{payer:n||this.scope.ownerPubKey,amount:0},owner:this.scope.ownerPubKey,skipCloseAccount:!0,associatedOnly:!m&&i,checkCreateATAOwner:o});g=e,t&&l.addInstruction(t)}c[h.toString()]=g;let y=[];for(let e of u){let t=r&&e.mint.address===BB.toString(),a=c[e.mint.address];if(!a){if(t){let{account:r,instructionParams:s}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:e.mint.programId,mint:new ho(e.mint.address),notUseTokenAccount:t,createInfo:{payer:n||this.scope.ownerPubKey,amount:0},owner:this.scope.ownerPubKey,skipCloseAccount:!t,associatedOnly:!t&&i,checkCreateATAOwner:o});a=r,s&&l.addInstruction(s)}else{let t=new ho(e.mint.address);a=this.scope.account.getAssociatedTokenAccount(t),l.addInstruction({instructions:[Er(this.scope.ownerPubKey,a,this.scope.ownerPubKey,t)]})}}c[e.mint.address]=a,y.push(a)}let b=d[p],_={amount:Bj,owner:this.scope.ownerPubKey,farmInfo:e,farmKeys:b,lpAccount:g,rewardAccounts:y,userAuxiliaryLedgers:null==a?void 0:a.map(e=>new ho(e))},w=6===f?Me(_):5===f?Mt(_):Mr(_),v={3:BX.FarmV3Withdraw,5:BX.FarmV5Withdraw,6:BX.FarmV6Withdraw};l.addInstruction({instructions:[w],instructionTypes:[v[f]]})}return 1===s?l.sizeCheckBuild({computeBudgetConfig:u}):l.sizeCheckBuildV0({computeBudgetConfig:u})}},Mi=new(ed(d0))(0),Mo=new(ed(d0))(1),Ma=new(ed(d0))(-1),Ms=new(ed(d0))(1).shln(64),Mu=new(ed(d0))(1).shln(128),Ml=Ms.sub(Mo),Mc=Mu.subn(1),Md=new(ed(d0))("4295048016"),Mp=new(ed(d0))("79226673521066979257578248091"),Mf=new(ed(d0))("4295048017"),Mh=new(ed(d0))("79226673521066979257578248090"),Mm=new(ed(d0))(10).pow(new(ed(d0))(6)),Mg=((T=Mg||{})[T.rate_500=500]="rate_500",T[T.rate_3000=3e3]="rate_3000",T[T.rate_10000=1e4]="rate_10000",T),My={tvl:0,volumeQuote:0,mintAmountA:0,mintAmountB:0,rewardDefaultInfos:[],farmUpcomingCount:0,farmOngoingCount:0,farmFinishedCount:0,day:{volume:0,volumeQuote:0,volumeFee:0,apr:0,feeApr:0,priceMin:0,priceMax:0,rewardApr:[0]},week:{volume:0,volumeQuote:0,volumeFee:0,apr:0,feeApr:0,priceMin:0,priceMax:0,rewardApr:[0]},month:{volume:0,volumeQuote:0,volumeFee:0,apr:0,feeApr:0,priceMin:0,priceMax:0,rewardApr:[0]},pooltype:[]};function Mb(e){let t=new ArrayBuffer(4);return new DataView(t).setInt32(0,e,!1),new Uint8Array(t)}function M_(e,t){let r=0;for(let n=e-1;n>=0&&!t.testn(n);n--)r++;return r}function Mw(e,t){let r=0;for(let n=0;n<e&&!t.testn(n);n++)r++;return r}function Mv(e,t){for(let r=0;r<e;r++)if(t.testn(r))return!1;return!0}new(ed(d0))("18446744073700000000"),xO.from("amm_config","utf8");var Mk=xO.from("pool","utf8"),MA=xO.from("pool_vault","utf8"),MS=xO.from("pool_reward_vault","utf8"),MI=xO.from("position","utf8"),ME=xO.from("tick_array","utf8"),MT=xO.from("operation","utf8"),Mx=xO.from("pool_tick_array_bitmap_extension","utf8"),MP=xO.from("observation","utf8");function MO(e,t,r){return B0([MA,t.toBuffer(),r.toBuffer()],e)}function MB(e,t,r){return B0([ME,t.toBuffer(),Mb(r)],e)}function MC(e,t,r,n){return B0([MI,t.toBuffer(),Mb(r),Mb(n)],e)}function MR(e,t){return B0([MI,t.toBuffer()],e)}function MM(e){return B0([xO.from("metadata","utf8"),BP.toBuffer(),e.toBuffer()],BP)}function ML(e,t){return B0([Mx,t.toBuffer()],e)}var MN=xO.from("locked_position","utf8");function MD(e,t){return B0([MN,t.toBuffer()],e)}function MF(e,t){return B0([MN,t.toBuffer()],e)}var Mq=xO.from("support_mint","utf8");function MU(e,t){return B0([Mq,t.toBuffer()],e)}var Mj=class{static getfeeGrowthInside(e,t,r){let n=new(ed(d0))(0),i=new(ed(d0))(0);e.tickCurrent>=t.tick?(n=t.feeGrowthOutsideX64A,i=t.feeGrowthOutsideX64B):(n=e.feeGrowthGlobalX64A.sub(t.feeGrowthOutsideX64A),i=e.feeGrowthGlobalX64B.sub(t.feeGrowthOutsideX64B));let o=new(ed(d0))(0),a=new(ed(d0))(0);return e.tickCurrent<r.tick?(o=r.feeGrowthOutsideX64A,a=r.feeGrowthOutsideX64B):(o=e.feeGrowthGlobalX64A.sub(r.feeGrowthOutsideX64A),a=e.feeGrowthGlobalX64B.sub(r.feeGrowthOutsideX64B)),{feeGrowthInsideX64A:MG.wrappingSubU128(MG.wrappingSubU128(e.feeGrowthGlobalX64A,n),o),feeGrowthInsideBX64:MG.wrappingSubU128(MG.wrappingSubU128(e.feeGrowthGlobalX64B,i),a)}}static GetPositionFees(e,t,r,n){let{feeGrowthInsideX64A:i,feeGrowthInsideBX64:o}=this.getfeeGrowthInside(e,r,n),a=MG.mulDivFloor(MG.wrappingSubU128(i,t.feeGrowthInsideLastX64A),t.liquidity,Ms),s=t.tokenFeesOwedA.add(a),u=MG.mulDivFloor(MG.wrappingSubU128(o,t.feeGrowthInsideLastX64B),t.liquidity,Ms);return{tokenFeeAmountA:s,tokenFeeAmountB:t.tokenFeesOwedB.add(u)}}static GetPositionFeesV2(e,t,r,n){let{feeGrowthInsideX64A:i,feeGrowthInsideBX64:o}=this.getfeeGrowthInside(e,r,n),a=MG.mulDivFloor(MG.wrappingSubU128(i,t.feeGrowthInsideLastX64A),t.liquidity,Ms),s=t.tokenFeesOwedA.add(a),u=MG.mulDivFloor(MG.wrappingSubU128(o,t.feeGrowthInsideLastX64B),t.liquidity,Ms);return{tokenFeeAmountA:s,tokenFeeAmountB:t.tokenFeesOwedB.add(u)}}static GetPositionRewardsV2(e,t,r,n){let i=[],o=this.getRewardGrowthInsideV2(e.tickCurrent,r,n,e.rewardInfos);for(let e=0;e<o.length;e++){let r=o[e],n=t.rewardInfos[e],a=MG.wrappingSubU128(r,n.growthInsideLastX64),s=MG.mulDivFloor(a,t.liquidity,Ms),u=n.rewardAmountOwed.add(s);i.push(u)}return i}static GetPositionRewards(e,t,r,n){let i=[],o=this.getRewardGrowthInside(e.tickCurrent,r,n,e.rewardInfos);for(let e=0;e<o.length;e++){let r=o[e],n=t.rewardInfos[e],a=MG.wrappingSubU128(r,n.growthInsideLastX64),s=MG.mulDivFloor(a,t.liquidity,Ms),u=n.rewardAmountOwed.add(s);i.push(u)}return i}static getRewardGrowthInside(e,t,r,n){let i=[];for(let o=0;o<n.length;o++){let a=new(ed(d0))(0);a=t.liquidityGross.eqn(0)?n[o].rewardGrowthGlobalX64:e<t.tick?n[o].rewardGrowthGlobalX64.sub(t.rewardGrowthsOutsideX64[o]):t.rewardGrowthsOutsideX64[o];let s=new(ed(d0))(0);r.liquidityGross.eqn(0)||(s=e<r.tick?r.rewardGrowthsOutsideX64[o]:n[o].rewardGrowthGlobalX64.sub(r.rewardGrowthsOutsideX64[o])),i.push(MG.wrappingSubU128(MG.wrappingSubU128(n[o].rewardGrowthGlobalX64,a),s))}return i}static getRewardGrowthInsideV2(e,t,r,n){let i=[];for(let o=0;o<n.length;o++){let a=new(ed(d0))(0);a=t.liquidityGross.eqn(0)?n[o].rewardGrowthGlobalX64:e<t.tick?n[o].rewardGrowthGlobalX64.sub(t.rewardGrowthsOutsideX64[o]):t.rewardGrowthsOutsideX64[o];let s=new(ed(d0))(0);r.liquidityGross.eqn(0)||(s=e<r.tick?r.rewardGrowthsOutsideX64[o]:n[o].rewardGrowthGlobalX64.sub(r.rewardGrowthsOutsideX64[o])),i.push(MG.wrappingSubU128(MG.wrappingSubU128(n[o].rewardGrowthGlobalX64,a),s))}return i}static getAmountsFromLiquidity({poolInfo:e,ownerPosition:t,liquidity:r,slippage:n,add:i,epochInfo:o}){var a,s,u,l;let c=MZ.priceToSqrtPriceX64(new Ba(e.price),e.mintA.decimals,e.mintB.decimals),d=MZ.getSqrtPriceX64FromTick(t.tickLower),p=MZ.getSqrtPriceX64FromTick(t.tickUpper),f=i?1+n:1-n,h=MY.getAmountsFromLiquidity(c,d,p,r,i),[m,g]=[Ck(h.amountA,null==(a=e.mintA.extensions)?void 0:a.feeConfig,o,!0),Ck(h.amountB,null==(s=e.mintB.extensions)?void 0:s.feeConfig,o,!0)],[y,b]=[Ck(new(ed(d0))(new Ba(h.amountA.toString()).mul(f).toFixed(0)),null==(u=e.mintA.extensions)?void 0:u.feeConfig,o,!0),Ck(new(ed(d0))(new Ba(h.amountB.toString()).mul(f).toFixed(0)),null==(l=e.mintB.extensions)?void 0:l.feeConfig,o,!0)];return{liquidity:r,amountA:m,amountB:g,amountSlippageA:y,amountSlippageB:b,expirationTime:CA(m.expirationTime,g.expirationTime)}}},MW=class{static async getTickArrays(e,t,r,n,i,o,a){let s=[],u=M2.getTickArrayStartIndexByTick(n,i),l=M2.getInitializedTickArrayInRange(o,a,i,u,Math.floor(7.5));for(let e=0;e<l.length;e++){let{publicKey:n}=MB(t,r,l[e]);s.push(n)}let c=(await xG(e,s)).map(e=>null!==e?Lt.decode(e.data):null),d={};for(let e=0;e<s.length;e++){let t=c[e];null!==t&&(d[t.startTickIndex]=xq(xF({},t),{address:s[e]}))}return d}static nextInitializedTick(e,t,r,n,i,o){let{initializedTick:a,tickArrayAddress:s,tickArrayStartTickIndex:u}=this.nextInitializedTickInOneArray(e,t,r,n,i,o);for(;null==a||a.liquidityGross.lten(0);){if(u=M2.getNextTickArrayStartIndex(u,i,o),this.checkIsValidStartIndex(u,i))throw Error("No enough initialized tickArray");let n=r[u];if(void 0===n)continue;let{nextTick:l,tickArrayAddress:c,tickArrayStartTickIndex:d}=this.firstInitializedTickInOneArray(e,t,n,o);[a,s,u]=[l,c,d]}if(null==a)throw Error("No invaild tickArray cache");return{nextTick:a,tickArrayAddress:s,tickArrayStartTickIndex:u}}static nextInitializedTickArray(e,t,r,n,i){let o=Math.floor(e/MW.tickCount(t)),a=r?M2.searchLowBitFromStart(n,i,o-1,1,t):M2.searchHightBitFromStart(n,i,o+1,1,t);return a.length>0?{isExist:!0,nextStartIndex:a[0]}:{isExist:!1,nextStartIndex:0}}static firstInitializedTickInOneArray(e,t,r,n){let i;if(n){let e=M1-1;for(;e>=0;){let t=r.ticks[e];if(t.liquidityGross.gtn(0)){i=t;break}e-=1}}else{let e=0;for(;e<M1;){let t=r.ticks[e];if(t.liquidityGross.gtn(0)){i=t;break}e+=1}}let{publicKey:o}=MB(e,t,r.startTickIndex);return{nextTick:i,tickArrayAddress:o,tickArrayStartTickIndex:r.startTickIndex}}static nextInitializedTickInOneArray(e,t,r,n,i,o){let a,s=M2.getTickArrayStartIndexByTick(n,i),u=Math.floor((n-s)/i),l=r[s];if(null==l)return{initializedTick:void 0,tickArrayAddress:void 0,tickArrayStartTickIndex:s};if(o)for(;u>=0;){let e=l.ticks[u];if(e.liquidityGross.gtn(0)){a=e;break}u-=1}else for(u+=1;u<M1;){let e=l.ticks[u];if(e.liquidityGross.gtn(0)){a=e;break}u+=1}let{publicKey:c}=MB(e,t,s);return{initializedTick:a,tickArrayAddress:c,tickArrayStartTickIndex:l.startTickIndex}}static getArrayStartIndex(e,t){let r=this.tickCount(t);return Math.floor(e/r)*r}static checkIsValidStartIndex(e,t){return M2.checkIsOutOfBoundary(e)?!(e>443636)&&e==M2.getTickArrayStartIndexByTick(-443636,t):e%this.tickCount(t)==0}static tickCount(e){return M1*e}},MK=class{static maxTickInTickarrayBitmap(e){return e*M1*M0}static getBitmapTickBoundary(e,t){let r=this.maxTickInTickarrayBitmap(t),n=Math.floor(Math.abs(e)/r);e<0&&Math.abs(e)%r!=0&&(n+=1);let i=r*n;return e<0?{minValue:-i,maxValue:-i+r}:{minValue:i,maxValue:i+r}}static nextInitializedTickArrayStartIndex(e,t,r,n){var i,o;if(!MW.checkIsValidStartIndex(t,r))throw Error("nextInitializedTickArrayStartIndex check error");let a=this.maxTickInTickarrayBitmap(r),s=n?t-MW.tickCount(r):t+MW.tickCount(r);if(s<-a||s>=a)return{isInit:!1,tickIndex:t};let u=r*M1,l=s/u+512;s<0&&s%u!=0&&l--;let c=Math.abs(l);if(n){let t=Mv(1024,i=e.shln(1024-c-1))?null:M_(1024,i);return null!==t?{isInit:!0,tickIndex:(c-t-512)*u}:{isInit:!1,tickIndex:-a}}{let t=Mv(1024,o=e.shrn(c))?null:Mw(1024,o);return null!==t?{isInit:!0,tickIndex:(c+t-512)*u}:{isInit:!1,tickIndex:a-MW.tickCount(r)}}}},Mz=class{static getBitmapOffset(e,t){if(!MW.checkIsValidStartIndex(e,t))throw Error("No enough initialized tickArray");this.checkExtensionBoundary(e,t);let r=MK.maxTickInTickarrayBitmap(t),n=Math.floor(Math.abs(e)/r)-1;return e<0&&Math.abs(e)%r==0&&n--,n}static getBitmap(e,t,r){let n=this.getBitmapOffset(e,t);return e<0?{offset:n,tickarrayBitmap:r.negativeTickArrayBitmap[n]}:{offset:n,tickarrayBitmap:r.positiveTickArrayBitmap[n]}}static checkExtensionBoundary(e,t){let{positiveTickBoundary:r,negativeTickBoundary:n}=this.extensionTickBoundary(t);if(e>=n&&e<r)throw Error("checkExtensionBoundary -> InvalidTickArrayBoundary")}static extensionTickBoundary(e){let t=MK.maxTickInTickarrayBitmap(e),r=-t;if(443636<=t)throw Error(`extensionTickBoundary check error: 443636, ${t}`);if(r<=-443636)throw Error(`extensionTickBoundary check error: ${r}, -443636`);return{positiveTickBoundary:t,negativeTickBoundary:r}}static checkTickArrayIsInit(e,t,r){let{tickarrayBitmap:n}=this.getBitmap(e,t,r),i=this.tickArrayOffsetInBitmap(e,t);return{isInitialized:M2.mergeTickArrayBitmap(n).testn(i),startIndex:e}}static nextInitializedTickArrayFromOneBitmap(e,t,r,n){let i=MW.tickCount(t),o=r?e-i:e+i,{tickarrayBitmap:a}=this.getBitmap(o,t,n);return this.nextInitializedTickArrayInBitmap(a,o,t,r)}static nextInitializedTickArrayInBitmap(e,t,r,n){let{minValue:i,maxValue:o}=MK.getBitmapTickBoundary(t,r),a=this.tickArrayOffsetInBitmap(t,r);if(n){let n=M2.mergeTickArrayBitmap(e).shln(M0-1-a),o=Mv(512,n)?null:M_(512,n);return null!==o?{isInit:!0,tickIndex:t-o*MW.tickCount(r)}:{isInit:!1,tickIndex:i}}{let n=M2.mergeTickArrayBitmap(e).shrn(a),i=Mv(512,n)?null:Mw(512,n);return null!==i?{isInit:!0,tickIndex:t+i*MW.tickCount(r)}:{isInit:!1,tickIndex:o-MW.tickCount(r)}}}static tickArrayOffsetInBitmap(e,t){let r=Math.abs(e)%MK.maxTickInTickarrayBitmap(t),n=Math.floor(r/MW.tickCount(t));return e<0&&0!=r&&(n=M0-n),n}},MV=class{static getOutputAmountAndRemainAccounts(e,t,r,n,i,o=!1){let a=r.toBase58()===e.mintA.address,s=[],{isExist:u,startIndex:l,nextAccountMeta:c}=this.getFirstInitializedTickArray(e,a);if(!u||void 0===l||!c)throw Error("Invalid tick array");s.push(c);let{allTrade:d,amountCalculated:p,accounts:f,sqrtPriceX64:h,feeAmount:m}=MJ.swapCompute(e.programId,e.id,t,e.tickArrayBitmap,e.exBitmapInfo,a,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,n,l,i,o);return s.push(...f),{allTrade:d,expectedAmountOut:p.mul(Ma),remainingAccounts:s,executionPrice:h,feeAmount:m}}static getInputAmountAndRemainAccounts(e,t,r,n,i){let o=r.toBase58()===e.mintB.address,a=[],{isExist:s,startIndex:u,nextAccountMeta:l}=this.getFirstInitializedTickArray(e,o);if(!s||void 0===u||!l)throw Error("Invalid tick array");try{let t=this.preInitializedTickArrayStartIndex(e,o);if(t.isExist){let{publicKey:r}=MB(e.programId,e.id,t.nextStartIndex);a.push(r)}}catch{}a.push(l);let{amountCalculated:c,accounts:d,sqrtPriceX64:p,feeAmount:f}=MJ.swapCompute(e.programId,e.id,t,e.tickArrayBitmap,e.exBitmapInfo,o,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,n.mul(Ma),u,i);return a.push(...d),{expectedAmountIn:c,remainingAccounts:a,executionPrice:p,feeAmount:f}}static getFirstInitializedTickArray(e,t){let{isInitialized:r,startIndex:n}=MV.isOverflowDefaultTickarrayBitmap(e.tickSpacing,[e.tickCurrent])?Mz.checkTickArrayIsInit(MW.getArrayStartIndex(e.tickCurrent,e.tickSpacing),e.tickSpacing,e.exBitmapInfo):M2.checkTickArrayIsInitialized(M2.mergeTickArrayBitmap(e.tickArrayBitmap),e.tickCurrent,e.tickSpacing);if(r){let{publicKey:t}=MB(e.programId,e.id,n);return{isExist:!0,startIndex:n,nextAccountMeta:t}}let{isExist:i,nextStartIndex:o}=this.nextInitializedTickArrayStartIndex(e,MW.getArrayStartIndex(e.tickCurrent,e.tickSpacing),t);if(i){let{publicKey:t}=MB(e.programId,e.id,o);return{isExist:!0,startIndex:o,nextAccountMeta:t}}return{isExist:!1,nextAccountMeta:void 0,startIndex:void 0}}static preInitializedTickArrayStartIndex(e,t){let r=Math.floor(e.tickCurrent/MW.tickCount(e.tickSpacing)),n=t?M2.searchHightBitFromStart(e.tickArrayBitmap,e.exBitmapInfo,r+1,1,e.tickSpacing):M2.searchLowBitFromStart(e.tickArrayBitmap,e.exBitmapInfo,r-1,1,e.tickSpacing);return n.length>0?{isExist:!0,nextStartIndex:n[0]}:{isExist:!1,nextStartIndex:0}}static nextInitializedTickArrayStartIndex(e,t,r){for(t=MW.getArrayStartIndex(e.tickCurrent,e.tickSpacing);;){let{isInit:n,tickIndex:i}=MK.nextInitializedTickArrayStartIndex(M2.mergeTickArrayBitmap(e.tickArrayBitmap),t,e.tickSpacing,r);if(n)return{isExist:!0,nextStartIndex:i};t=i;let{isInit:o,tickIndex:a}=Mz.nextInitializedTickArrayFromOneBitmap(t,e.tickSpacing,r,e.exBitmapInfo);if(o)return{isExist:!0,nextStartIndex:a};if((t=a)<-443636||t>443636)return{isExist:!1,nextStartIndex:0}}}static async updatePoolRewardInfos({connection:e,apiPoolInfo:t,chainTime:r,poolLiquidity:n,rewardInfos:i}){var o,a,s;let u=[];for(let l=0;l<i.length;l++){let c=i[l],d=null!=(s=null==(o=t.rewardDefaultInfos[l])?void 0:o.mint.programId)?s:null==(a=await e.getAccountInfo(c.tokenMint))?void 0:a.owner;if(void 0===d)throw Error("get new reward mint info error");let p=xq(xF({},c),{perSecond:MG.x64ToDecimal(c.emissionsPerSecondX64),remainingRewards:void 0,tokenProgramId:new ho(d)});if(p.tokenMint.equals(ho.default))continue;if(r<=p.openTime.toNumber()||n.eq(Mi)){u.push(p);continue}let f=new(ed(d0))(Math.min(p.endTime.toNumber(),r)),h=f.sub(p.lastUpdateTime),m=MG.mulDivFloor(h,p.emissionsPerSecondX64,n),g=p.rewardGrowthGlobalX64.add(m),y=MG.mulDivFloor(h,p.emissionsPerSecondX64,Ms),b=p.rewardTotalEmissioned.add(y);u.push(xq(xF({},p),{rewardGrowthGlobalX64:g,rewardTotalEmissioned:b,lastUpdateTime:f}))}return u}static isOverflowDefaultTickarrayBitmap(e,t){let{maxTickBoundary:r,minTickBoundary:n}=this.tickRange(e);for(let i of t){let t=M2.getTickArrayStartIndexByTick(i,e);if(t>=r||t<n)return!0}return!1}static tickRange(e){let t=MK.maxTickInTickarrayBitmap(e),r=-t;return t>443636&&(t=MW.getArrayStartIndex(443636,e)+MW.tickCount(e)),r<-443636&&(r=MW.getArrayStartIndex(-443636,e)),{maxTickBoundary:t,minTickBoundary:r}}static get_tick_array_offset(e,t){if(!MW.checkIsValidStartIndex(e,t))throw Error("No enough initialized tickArray");return e/MW.tickCount(t)*M0}static async fetchExBitmaps({connection:e,exBitmapAddress:t,batchRequest:r}){let n=await x$(e,t.map(e=>({pubkey:e})),{batchRequest:r}),i={};for(let e of n)null!==e.accountInfo&&(i[e.pubkey.toString()]=Ln.decode(e.accountInfo.data));return i}static async fetchMultiplePoolTickArrays({connection:e,poolKeys:t,batchRequest:r}){let n={},i=[];for(let e of t){let t=M2.getTickArrayStartIndexByTick(e.tickCurrent,e.tickSpacing);for(let r of M2.getInitializedTickArrayInRange(e.tickArrayBitmap,e.exBitmapInfo,e.tickSpacing,t,7)){let{publicKey:t}=MB(e.programId,e.id,r);i.push({pubkey:t}),n[t.toString()]=e.id}}let o=await x$(e,i,{batchRequest:r}),a={};for(let e of o){if(!e.accountInfo)continue;let t=n[e.pubkey.toString()];if(!t)continue;void 0===a[t.toString()]&&(a[t.toString()]={});let r=Lt.decode(e.accountInfo.data);a[t.toString()][r.startTickIndex]=xq(xF({},r),{address:e.pubkey})}return a}static async fetchPoolsAccountPosition({pools:e,connection:t,ownerInfo:r,batchRequest:n=!1,updateOwnerRewardAndFee:i=!0}){var o;let a=[];for(let t=0;t<e.length;t++){let r=e[t];null!==r&&(a.find(e=>e.equals(r.state.programId))||a.push(r.state.programId))}if(r){let s=r.tokenAccounts.map(e=>e.accountInfo.mint),u=[];for(let e of s)for(let t of a)u.push(MR(t,e).publicKey);let l=await xG(t,u,{batchRequest:n}),c={};for(let t of l){if(null===t)continue;let r=M7.decode(t.data),n=r.poolId.toString(),i=e.find(e=>e.state.id.toBase58()===n);if(void 0===i)continue;let a=i.state,s=M2._getTickPriceLegacy({poolInfo:a,tick:r.tickLower,baseIn:!0}),u=M2._getTickPriceLegacy({poolInfo:a,tick:r.tickUpper,baseIn:!0}),{amountA:l,amountB:d}=MY.getAmountsFromLiquidity(a.sqrtPriceX64,s.tickSqrtPriceX64,u.tickSqrtPriceX64,r.liquidity,!1),p=1/(1-Math.sqrt(Math.sqrt(s.price.div(u.price).toNumber())));i.positionAccount=[...null!=(o=i.positionAccount)?o:[],{poolId:r.poolId,nftMint:r.nftMint,priceLower:s.price,priceUpper:u.price,amountA:l,amountB:d,tickLower:r.tickLower,tickUpper:r.tickUpper,liquidity:r.liquidity,feeGrowthInsideLastX64A:r.feeGrowthInsideLastX64A,feeGrowthInsideLastX64B:r.feeGrowthInsideLastX64B,tokenFeesOwedA:r.tokenFeesOwedA,tokenFeesOwedB:r.tokenFeesOwedB,rewardInfos:r.rewardInfos.map(e=>xq(xF({},e),{pendingReward:new(ed(d0))(0)})),leverage:p,tokenFeeAmountA:new(ed(d0))(0),tokenFeeAmountB:new(ed(d0))(0)}];let f=await M2.getTickArrayAddressByTick(i.state.programId,r.poolId,r.tickLower,i.state.tickSpacing),h=await M2.getTickArrayAddressByTick(i.state.programId,r.poolId,r.tickUpper,i.state.tickSpacing);c[`${i.state.programId.toString()}-${r.poolId.toString()}-${r.tickLower}`]=f,c[`${i.state.programId.toString()}-${r.poolId.toString()}-${r.tickUpper}`]=h}if(i){let r=Object.values(c),i=await xG(t,r,{batchRequest:n}),o={};for(let e=0;e<r.length;e++){let t=i[e];null!==t&&(o[r[e].toString()]=Lt.decode(t.data))}for(let{state:t,positionAccount:r}of e)if(r)for(let e of r){let r=`${t.programId.toString()}-${t.id.toString()}-${e.tickLower}`,n=`${t.programId.toString()}-${t.id.toString()}-${e.tickUpper}`,i=o[c[r].toString()],a=o[c[n].toString()],s=i.ticks[M2.getTickOffsetInArray(e.tickLower,t.tickSpacing)],u=a.ticks[M2.getTickOffsetInArray(e.tickUpper,t.tickSpacing)],{tokenFeeAmountA:l,tokenFeeAmountB:d}=await Mj.GetPositionFees(t,e,s,u),p=await Mj.GetPositionRewards(t,e,s,u);e.tokenFeeAmountA=l.gte(new(ed(d0))(0))?l:new(ed(d0))(0),e.tokenFeeAmountB=d.gte(new(ed(d0))(0))?d:new(ed(d0))(0);for(let t=0;t<p.length;t++)e.rewardInfos[t].pendingReward=p[t].gte(new(ed(d0))(0))?p[t]:new(ed(d0))(0)}}}return e}static computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:r,epochInfo:n,amountIn:i,slippage:o,priceLimit:a=new Ba(0),catchLiquidityInsufficient:s=!1}){var u;let l,c=r.toBase58()===e.mintA.address,[d,p]=c?[e.mintA.extensions.feeConfig,e.mintB.extensions.feeConfig]:[e.mintB.extensions.feeConfig,e.mintA.extensions.feeConfig];l=a.equals(new Ba(0))?c?Md.add(new(ed(d0))(1)):Mp.sub(new(ed(d0))(1)):MZ.priceToSqrtPriceX64(a,e.mintA.decimals,e.mintB.decimals);let f=Ck(i,d,n,!1),{allTrade:h,expectedAmountOut:m,remainingAccounts:g,executionPrice:y,feeAmount:b}=MV.getOutputAmountAndRemainAccounts(e,t,r,f.amount.sub(null!=(u=f.fee)?u:Mi),l,s),_=Ck(m,p,n,!1),w=MZ.sqrtPriceX64ToPrice(y,e.mintA.decimals,e.mintB.decimals),v=c?w:new Ba(1).div(w),k=Ck(m.mul(new(ed(d0))(Math.floor((1-o)*1e10))).div(new(ed(d0))(1e10)),p,n,!1),A=c?e.currentPrice:new Ba(1).div(e.currentPrice),S=new Ba(v).sub(A).abs(),I=new BD(new Ba(S).mul(1e15).toFixed(0),new Ba(A).mul(1e15).toFixed(0));return{allTrade:h,realAmountIn:f,amountOut:_,minAmountOut:k,expirationTime:CA(f.expirationTime,_.expirationTime),currentPrice:e.currentPrice,executionPrice:v,priceImpact:I,fee:b,remainingAccounts:g,executionPriceX64:y}}static computeAmountOutFormat({poolInfo:e,tickArrayCache:t,amountIn:r,tokenOut:n,slippage:i,epochInfo:o,catchLiquidityInsufficient:a=!1}){let[s,u]=n.address===e.mintB.address?[e.mintA,e.mintB]:[e.mintB,e.mintA],[l,c]=[new BM(xq(xF({},s),{mint:s.address,isToken2022:s.programId===SZ.toBase58()})),new BM(xq(xF({},u),{mint:u.address,isToken2022:u.programId===SZ.toBase58()}))],{allTrade:d,realAmountIn:p,amountOut:f,minAmountOut:h,expirationTime:m,currentPrice:g,executionPrice:y,priceImpact:b,fee:_,remainingAccounts:w,executionPriceX64:v}=MV.computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:new ho(s.address),amountIn:r,slippage:i,epochInfo:o,catchLiquidityInsufficient:a});return{allTrade:d,realAmountIn:xq(xF({},p),{amount:new Bb(l,p.amount),fee:void 0===p.fee?void 0:new Bb(l,p.fee)}),amountOut:xq(xF({},f),{amount:new Bb(c,f.amount),fee:void 0===f.fee?void 0:new Bb(c,f.fee)}),minAmountOut:xq(xF({},h),{amount:new Bb(c,h.amount),fee:void 0===h.fee?void 0:new Bb(c,h.fee)}),expirationTime:m,currentPrice:new Bq({baseToken:l,denominator:new(ed(d0))(10).pow(new(ed(d0))(20+l.decimals)),quoteToken:c,numerator:g.mul(new Ba(10**(20+c.decimals))).toFixed(0)}),executionPrice:new Bq({baseToken:l,denominator:new(ed(d0))(10).pow(new(ed(d0))(20+l.decimals)),quoteToken:c,numerator:y.mul(new Ba(10**(20+c.decimals))).toFixed(0)}),priceImpact:b,fee:new Bb(l,_),remainingAccounts:w,executionPriceX64:v}}static computeAmountIn({poolInfo:e,tickArrayCache:t,baseMint:r,epochInfo:n,amountOut:i,slippage:o,priceLimit:a=new Ba(0)}){var s;let u=r.toBase58()===e.mintA.address,l={[e.mintA.address]:e.mintA.extensions.feeConfig,[e.mintB.address]:e.mintB.extensions.feeConfig},c;c=a.equals(new Ba(0))?u?Mp.sub(new(ed(d0))(1)):Md.add(new(ed(d0))(1)):MZ.priceToSqrtPriceX64(a,e.mintA.decimals,e.mintB.decimals);let d=Ck(i,l[r.toString()],n,!0),{expectedAmountIn:p,remainingAccounts:f,executionPrice:h,feeAmount:m}=MV.getInputAmountAndRemainAccounts(e,t,r,d.amount.sub(null!=(s=d.fee)?s:Mi),c),g=u?e.mintB.address:e.mintA.address,y=Ck(p,l[g],n,!1),b=MZ.sqrtPriceX64ToPrice(h,e.mintA.decimals,e.mintB.decimals),_=u?b:new Ba(1).div(b),w=Ck(p.mul(new(ed(d0))(Math.floor((1+o)*1e10))).div(new(ed(d0))(1e10)),l[g],n,!0),v=u?e.currentPrice:new Ba(1).div(e.currentPrice),k=new Ba(_).sub(v).abs(),A=new BD(new Ba(k).mul(1e15).toFixed(0),new Ba(v).mul(1e15).toFixed(0));return{amountIn:y,maxAmountIn:w,realAmountOut:d,expirationTime:CA(y.expirationTime,d.expirationTime),currentPrice:e.currentPrice,executionPrice:_,priceImpact:A,fee:m,remainingAccounts:f}}static estimateAprsForPriceRangeMultiplier({poolInfo:e,aprType:t,positionTickLowerIndex:r,positionTickUpperIndex:n}){var i,o,a;let s=e[t],u=M2.getTickPrice({poolInfo:e,tick:r,baseIn:!0}).price.toNumber(),l=M2.getTickPrice({poolInfo:e,tick:n,baseIn:!0}).price.toNumber(),c=Math.max(u,s.priceMin),d=Math.min(l,s.priceMax)-c,p=l-u,f=s.priceMax-s.priceMin,h;return h=d<=0?0:p===d?f/d:f===d?d/p:d/f*(d/p),{feeApr:s.feeApr*h,rewardsApr:[(null!=(i=s.rewardApr[0])?i:0)*h,(null!=(o=s.rewardApr[1])?o:0)*h,(null!=(a=s.rewardApr[2])?a:0)*h],apr:s.apr*h}}static estimateAprsForPriceRangeDelta({poolInfo:e,poolLiquidity:t,aprType:r,mintPrice:n,liquidity:i,positionTickLowerIndex:o,positionTickUpperIndex:a,chainTime:s}){let u=e[r],l=n[BR(e.mintA.address).toString()],c=n[BR(e.mintB.address).toString()],d=e.mintA.decimals,p=e.mintB.decimals;if(!u||!l||!c)return{feeApr:0,rewardsApr:[0,0,0],apr:0};let f=MZ.priceToSqrtPriceX64(new Ba(e.price),e.mintA.decimals,e.mintB.decimals),h=MZ.getSqrtPriceX64FromTick(o),m=MZ.getSqrtPriceX64FromTick(a),{amountSlippageA:g,amountSlippageB:y}=MY.getAmountsFromLiquidityWithSlippage(f,h,m,t,!1,!1,0),{amountSlippageA:b,amountSlippageB:_}=MY.getAmountsFromLiquidityWithSlippage(f,h,m,i,!1,!1,0),w=new Ba(g.toString()).div(new Ba(10).pow(d)).mul(l.value).add(new Ba(y.toString()).div(new Ba(10).pow(p)).mul(c.value)),v=new Ba(b.toString()).div(new Ba(10).pow(d)).mul(l.value).add(new Ba(_.toString()).div(new Ba(10).pow(p)).mul(c.value)),k=new Ba(1).div(w.add(v)),A=new Ba(u.volumeFee).mul(365).div("day"===r?1:"week"===r?7:"month"===r?30:0).mul(k).mul(100).toNumber(),S=e.rewardDefaultInfos.map(e=>{var t,r;let i=e.mint.decimals,o=n[e.mint.address];return s<(null!=(t=e.startTime)?t:0)||s>(null!=(r=e.endTime)?r:0)||!e.perSecond||!o||void 0===i?0:new Ba(o.value).mul(new Ba(e.perSecond).mul(31536e3)).div(new Ba(10).pow(i)).mul(k).mul(100).toNumber()});return{feeApr:A,rewardsApr:S,apr:A+S.reduce((e,t)=>e+t,0)}}static async getLiquidityAmountOutFromAmountIn({poolInfo:e,inputA:t,tickLower:r,tickUpper:n,amount:i,slippage:o,add:a,epochInfo:s,amountHasFee:u}){var l,c;let d=MZ.priceToSqrtPriceX64(new Ba(e.price),e.mintA.decimals,e.mintB.decimals),p=MZ.getSqrtPriceX64FromTick(r),f=MZ.getSqrtPriceX64FromTick(n),h=Ck(i,null==(l=e[t?"mintA":"mintB"].extensions)?void 0:l.feeConfig,s,!u),m=new(ed(d0))(new Ba(h.amount.sub(null!=(c=h.fee)?c:Mi).toString()).toFixed(0)),g;if(d.lte(p))g=t?MY.getLiquidityFromTokenAmountA(p,f,m,!a):new(ed(d0))(0);else if(d.lte(f)){let e=MY.getLiquidityFromTokenAmountA(d,f,m,!a),r=MY.getLiquidityFromTokenAmountB(p,d,m);g=t?e:r}else g=t?new(ed(d0))(0):MY.getLiquidityFromTokenAmountB(p,f,m);let y=await MV.getAmountsFromLiquidity({epochInfo:s,poolInfo:e,tickLower:r,tickUpper:n,liquidity:g,slippage:o,add:a});return{liquidity:g,amountA:t?h:y.amountA,amountB:t?y.amountB:h,amountSlippageA:t?h:y.amountSlippageA,amountSlippageB:t?y.amountSlippageB:h,expirationTime:y.expirationTime}}static async getAmountsFromLiquidity({epochInfo:e,poolInfo:t,tickLower:r,tickUpper:n,liquidity:i,slippage:o,add:a}){var s,u,l,c;let d=MZ.getSqrtPriceX64FromTick(r),p=MZ.getSqrtPriceX64FromTick(n),f=a?1+o:1-o,h=MY.getAmountsFromLiquidity(MZ.priceToSqrtPriceX64(new Ba(t.price),t.mintA.decimals,t.mintB.decimals),d,p,i,a),[m,g]=[Ck(h.amountA,null==(s=t.mintA.extensions)?void 0:s.feeConfig,e,!0),Ck(h.amountB,null==(u=t.mintB.extensions)?void 0:u.feeConfig,e,!0)],[y,b]=[Ck(h.amountA.muln(f),null==(l=t.mintA.extensions)?void 0:l.feeConfig,e,!0),Ck(h.amountB.muln(f),null==(c=t.mintB.extensions)?void 0:c.feeConfig,e,!0)];return{liquidity:i,amountA:m,amountB:g,amountSlippageA:y,amountSlippageB:b,expirationTime:CA(m.expirationTime,g.expirationTime)}}static async fetchComputeMultipleClmmInfo({connection:e,poolList:t,rpcDataMap:r={}}){let n=t.filter(e=>!r[e.id]).map(e=>new ho(e.id));(await xG(e,n)).forEach((e,t)=>{e&&(r[n[t].toBase58()]=M3.decode(e.data))});let i=t.map(e=>ML(new ho(e.programId),new ho(e.id)).publicKey),o=await MV.fetchExBitmaps({connection:e,exBitmapAddress:i,batchRequest:!1});return t.reduce((e,t)=>xq(xF({},e),{[t.id]:xq(xF({},r[t.id]),{id:new ho(t.id),version:6,programId:new ho(t.programId),mintA:t.mintA,mintB:t.mintB,ammConfig:xq(xF({},t.config),{id:new ho(t.config.id),fundOwner:""}),currentPrice:new Ba(t.price),exBitmapAccount:ML(new ho(t.programId),new ho(t.id)).publicKey,exBitmapInfo:o[ML(new ho(t.programId),new ho(t.id)).publicKey.toBase58()],startTime:r[t.id].startTime.toNumber(),rewardInfos:r[t.id].rewardInfos})}),{})}static async fetchComputeClmmInfo({connection:e,poolInfo:t,rpcData:r}){return(await this.fetchComputeMultipleClmmInfo({connection:e,rpcDataMap:r?{[t.id]:r}:void 0,poolList:[t]}))[t.id]}},MH={volume:0,volumeQuote:0,volumeFee:0,apr:0,feeApr:0,priceMin:0,priceMax:0,rewardApr:[]},MG=class{static mulDivRoundingUp(e,t,r){let n=e.mul(t),i=n.div(r);return n.mod(r).eq(Mi)||(i=i.add(Mo)),i}static mulDivFloor(e,t,r){if(r.eq(Mi))throw Error("division by 0");return e.mul(t).div(r)}static mulDivCeil(e,t,r){if(r.eq(Mi))throw Error("division by 0");return e.mul(t).add(r.sub(Mo)).div(r)}static x64ToDecimal(e,t){return new Ba(e.toString()).div(Ba.pow(2,64)).toDecimalPlaces(t)}static decimalToX64(e){return new(ed(d0))(e.mul(Ba.pow(2,64)).floor().toFixed())}static wrappingSubU128(e,t){return e.add(Mu).sub(t).mod(Mu)}};function M$(e,t){return MX(e.mul(t),64,256)}function MX(e,t,r){let n=e.toTwos(r).shrn(t);return n.imaskn(r-t+1),n.fromTwos(r-t)}var MZ=class{static sqrtPriceX64ToPrice(e,t,r){return MG.x64ToDecimal(e).pow(2).mul(Ba.pow(10,t-r))}static priceToSqrtPriceX64(e,t,r){return MG.decimalToX64(e.mul(Ba.pow(10,r-t)).sqrt())}static getNextSqrtPriceX64FromInput(e,t,r,n){if(!e.gt(Mi))throw Error("sqrtPriceX64 must greater than 0");if(!t.gt(Mi))throw Error("liquidity must greater than 0");return n?this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,r,!0):this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,r,!0)}static getNextSqrtPriceX64FromOutput(e,t,r,n){if(!e.gt(Mi))throw Error("sqrtPriceX64 must greater than 0");if(!t.gt(Mi))throw Error("liquidity must greater than 0");return n?this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,r,!1):this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,r,!1)}static getNextSqrtPriceFromTokenAmountARoundingUp(e,t,r,n){if(r.eq(Mi))return e;let i=t.shln(64);if(n){let t=i.add(r.mul(e));return t.gte(i)?MG.mulDivCeil(i,e,t):MG.mulDivRoundingUp(i,Mo,i.div(e).add(r))}{let t=r.mul(e);if(!i.gt(t))throw Error("getNextSqrtPriceFromTokenAmountARoundingUp,liquidityLeftShift must gt amountMulSqrtPrice");let n=i.sub(t);return MG.mulDivCeil(i,e,n)}}static getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,r,n){let i=r.shln(64);if(n)return e.add(i.div(t));{let r=MG.mulDivRoundingUp(i,Mo,t);if(!e.gt(r))throw Error("getNextSqrtPriceFromTokenAmountBRoundingDown sqrtPriceX64 must gt amountDivLiquidity");return e.sub(r)}}static getSqrtPriceX64FromTick(e){if(!Number.isInteger(e))throw Error("tick must be integer");if(e<-443636||e>443636)throw Error("tick must be in MIN_TICK and MAX_TICK");let t=e<0?-1*e:e,r=new(ed(d0))((1&t)!=0?"18445821805675395072":"18446744073709551616");return(2&t)!=0&&(r=M$(r,new(ed(d0))("18444899583751176192"))),(4&t)!=0&&(r=M$(r,new(ed(d0))("18443055278223355904"))),(8&t)!=0&&(r=M$(r,new(ed(d0))("18439367220385607680"))),(16&t)!=0&&(r=M$(r,new(ed(d0))("18431993317065453568"))),(32&t)!=0&&(r=M$(r,new(ed(d0))("18417254355718170624"))),(64&t)!=0&&(r=M$(r,new(ed(d0))("18387811781193609216"))),(128&t)!=0&&(r=M$(r,new(ed(d0))("18329067761203558400"))),(256&t)!=0&&(r=M$(r,new(ed(d0))("18212142134806163456"))),(512&t)!=0&&(r=M$(r,new(ed(d0))("17980523815641700352"))),(1024&t)!=0&&(r=M$(r,new(ed(d0))("17526086738831433728"))),(2048&t)!=0&&(r=M$(r,new(ed(d0))("16651378430235570176"))),(4096&t)!=0&&(r=M$(r,new(ed(d0))("15030750278694412288"))),(8192&t)!=0&&(r=M$(r,new(ed(d0))("12247334978884435968"))),(16384&t)!=0&&(r=M$(r,new(ed(d0))("8131365268886854656"))),(32768&t)!=0&&(r=M$(r,new(ed(d0))("3584323654725218816"))),(65536&t)!=0&&(r=M$(r,new(ed(d0))("696457651848324352"))),(131072&t)!=0&&(r=M$(r,new(ed(d0))("26294789957507116"))),(262144&t)!=0&&(r=M$(r,new(ed(d0))("37481735321082"))),e>0&&(r=Mc.div(r)),r}static getTickFromPrice(e,t,r){return MZ.getTickFromSqrtPriceX64(MZ.priceToSqrtPriceX64(e,t,r))}static getTickFromSqrtPriceX64(e){let t;if(e.gt(Mp)||e.lt(Md))throw Error("Provided sqrtPrice is not within the supported sqrtPrice range.");let r=e.bitLength()-1,n=((t=new(ed(d0))(r-64).toTwos(128).shln(32)).imaskn(129),t.fromTwos(128)),i=new(ed(d0))("8000000000000000","hex"),o=0,a=new(ed(d0))(0),s=r>=64?e.shrn(r-63):e.shln(63-r);for(;i.gt(new(ed(d0))(0))&&o<16;){let e=(s=s.mul(s)).shrn(127);s=s.shrn(63+e.toNumber()),a=a.add(i.mul(e)),i=i.shrn(1),o+=1}let u=a.shrn(32),l=n.add(u).mul(new(ed(d0))("59543866431248")),c=MX(l.sub(new(ed(d0))("184467440737095516")),64,128).toNumber(),d=MX(l.add(new(ed(d0))("15793534762490258745")),64,128).toNumber();return c==d?c:MZ.getSqrtPriceX64FromTick(d).lte(e)?d:c}},MQ=class{static getTickWithPriceAndTickspacing(e,t,r,n){let i=MZ.getTickFromSqrtPriceX64(MZ.priceToSqrtPriceX64(e,r,n))/t;return(i=i<0?Math.floor(i):Math.ceil(i))*t}static roundPriceWithTickspacing(e,t,r,n){let i=MQ.getTickWithPriceAndTickspacing(e,t,r,n),o=MZ.getSqrtPriceX64FromTick(i);return MZ.sqrtPriceX64ToPrice(o,r,n)}},MY=class{static addDelta(e,t){return e.add(t)}static getTokenAmountAFromLiquidity(e,t,r,n){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(Mi))throw Error("sqrtPriceX64A must greater than 0");let i=r.ushln(64),o=t.sub(e);return n?MG.mulDivRoundingUp(MG.mulDivCeil(i,o,t),Mo,e):MG.mulDivFloor(i,o,t).div(e)}static getTokenAmountBFromLiquidity(e,t,r,n){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(Mi))throw Error("sqrtPriceX64A must greater than 0");return n?MG.mulDivCeil(r,t.sub(e),Ms):MG.mulDivFloor(r,t.sub(e),Ms)}static getLiquidityFromTokenAmountA(e,t,r,n){e.gt(t)&&([e,t]=[t,e]);let i=r.mul(e).mul(t),o=t.sub(e),a=i.div(o);return n?MG.mulDivRoundingUp(a,Mo,Ml):a.shrn(64)}static getLiquidityFromTokenAmountB(e,t,r){return e.gt(t)&&([e,t]=[t,e]),MG.mulDivFloor(r,Ml,t.sub(e))}static getLiquidityFromTokenAmounts(e,t,r,n,i){if(t.gt(r)&&([t,r]=[r,t]),e.lte(t))return MY.getLiquidityFromTokenAmountA(t,r,n,!1);if(!e.lt(r))return MY.getLiquidityFromTokenAmountB(t,r,i);{let o=MY.getLiquidityFromTokenAmountA(e,r,n,!1),a=MY.getLiquidityFromTokenAmountB(t,e,i);return o.lt(a)?o:a}}static getAmountsFromLiquidity(e,t,r,n,i){return(t.gt(r)&&([t,r]=[r,t]),e.lte(t))?{amountA:MY.getTokenAmountAFromLiquidity(t,r,n,i),amountB:new(ed(d0))(0)}:e.lt(r)?{amountA:MY.getTokenAmountAFromLiquidity(e,r,n,i),amountB:MY.getTokenAmountBFromLiquidity(t,e,n,i)}:{amountA:new(ed(d0))(0),amountB:MY.getTokenAmountBFromLiquidity(t,r,n,i)}}static getAmountsFromLiquidityWithSlippage(e,t,r,n,i,o,a){let{amountA:s,amountB:u}=MY.getAmountsFromLiquidity(e,t,r,n,o),l=i?1+a:1-a;return{amountSlippageA:new(ed(d0))(new Ba(s.toString()).mul(l).toFixed(0)),amountSlippageB:new(ed(d0))(new Ba(u.toString()).mul(l).toFixed(0))}}static getAmountsOutFromLiquidity({poolInfo:e,tickLower:t,tickUpper:r,liquidity:n,slippage:i,add:o,epochInfo:a,amountAddFee:s}){var u,l,c,d;let p=MZ.priceToSqrtPriceX64(new Ba(e.price),e.mintA.decimals,e.mintB.decimals),f=MZ.getSqrtPriceX64FromTick(t),h=MZ.getSqrtPriceX64FromTick(r),m=o?1+i:1-i,g=MY.getAmountsFromLiquidity(p,f,h,n,o),[y,b]=[Ck(g.amountA,null==(u=e.mintA.extensions)?void 0:u.feeConfig,a,s),Ck(g.amountB,null==(l=e.mintB.extensions)?void 0:l.feeConfig,a,s)],[_,w]=[Ck(new(ed(d0))(new Ba(g.amountA.toString()).mul(m).toFixed(0)),null==(c=e.mintA.extensions)?void 0:c.feeConfig,a,s),Ck(new(ed(d0))(new Ba(g.amountB.toString()).mul(m).toFixed(0)),null==(d=e.mintB.extensions)?void 0:d.feeConfig,a,s)];return{liquidity:n,amountA:y,amountB:b,amountSlippageA:_,amountSlippageB:w,expirationTime:CA(y.expirationTime,b.expirationTime)}}},MJ=class{static swapCompute(e,t,r,n,i,o,a,s,u,l,c,d,p,f,h=!1){if(d.eq(Mi))throw Error("amountSpecified must not be 0");if(f||(f=o?Md.add(Mo):Mp.sub(Mo)),o){if(f.lt(Md))throw Error("sqrtPriceX64 must greater than MIN_SQRT_PRICE_X64");if(f.gte(c))throw Error("sqrtPriceX64 must smaller than current")}else{if(f.gt(Mp))throw Error("sqrtPriceX64 must smaller than MAX_SQRT_PRICE_X64");if(f.lte(c))throw Error("sqrtPriceX64 must greater than current")}let m=d.gt(Mi),g={amountSpecifiedRemaining:d,amountCalculated:Mi,sqrtPriceX64:c,tick:u>p?Math.min(p+MW.tickCount(l)-1,u):p,accounts:[],liquidity:s,feeAmount:new(ed(d0))(0)},y=p,b=r[p],_=!o&&b.startTickIndex===g.tick;for(;!g.amountSpecifiedRemaining.eq(Mi)&&!g.sqrtPriceX64.eq(f);){let s;let u={};u.sqrtPriceStartX64=g.sqrtPriceX64;let c=M2.nextInitTick(b,g.tick,l,o,_)||null,d=null;if(!(null!=c&&c.liquidityGross.gtn(0))){let a=MV.nextInitializedTickArrayStartIndex({tickCurrent:g.tick,tickSpacing:l,tickArrayBitmap:n,exBitmapInfo:i},y,o);if(!a.isExist){if(h)return{allTrade:!1,amountSpecifiedRemaining:g.amountSpecifiedRemaining,amountCalculated:g.amountCalculated,feeAmount:g.feeAmount,sqrtPriceX64:g.sqrtPriceX64,liquidity:g.liquidity,tickCurrent:g.tick,accounts:g.accounts};throw Error("swapCompute LiquidityInsufficient")}let{publicKey:s}=MB(e,t,y=a.nextStartIndex);d=s,b=r[y];try{c=M2.firstInitializedTick(b,o)}catch{throw Error("not found next tick info")}}if(u.tickNext=c.tick,u.initialized=c.liquidityGross.gtn(0),p!==y&&d&&(g.accounts.push(d),p=y),u.tickNext<-443636?u.tickNext=-443636:u.tickNext>443636&&(u.tickNext=443636),u.sqrtPriceNextX64=MZ.getSqrtPriceX64FromTick(u.tickNext),s=o&&u.sqrtPriceNextX64.lt(f)||!o&&u.sqrtPriceNextX64.gt(f)?f:u.sqrtPriceNextX64,[g.sqrtPriceX64,u.amountIn,u.amountOut,u.feeAmount]=MJ.swapStepCompute(g.sqrtPriceX64,s,g.liquidity,g.amountSpecifiedRemaining,a,o),g.feeAmount=g.feeAmount.add(u.feeAmount),m?(g.amountSpecifiedRemaining=g.amountSpecifiedRemaining.sub(u.amountIn.add(u.feeAmount)),g.amountCalculated=g.amountCalculated.sub(u.amountOut)):(g.amountSpecifiedRemaining=g.amountSpecifiedRemaining.add(u.amountOut),g.amountCalculated=g.amountCalculated.add(u.amountIn.add(u.feeAmount))),g.sqrtPriceX64.eq(u.sqrtPriceNextX64)){if(u.initialized){let e=c.liquidityNet;o&&(e=e.mul(Ma)),g.liquidity=MY.addDelta(g.liquidity,e)}_=u.tickNext!=g.tick&&!o&&b.startTickIndex===u.tickNext,g.tick=o?u.tickNext-1:u.tickNext}else if(g.sqrtPriceX64!=u.sqrtPriceStartX64){let e=MZ.getTickFromSqrtPriceX64(g.sqrtPriceX64);_=e!=g.tick&&!o&&b.startTickIndex===e,g.tick=e}}try{let{nextStartIndex:r,isExist:a}=MW.nextInitializedTickArray(g.tick,l,o,n,i);a&&p!==r&&(g.accounts.push(MB(e,t,r).publicKey),p=r)}catch{}return{allTrade:!0,amountSpecifiedRemaining:Mi,amountCalculated:g.amountCalculated,feeAmount:g.feeAmount,sqrtPriceX64:g.sqrtPriceX64,liquidity:g.liquidity,tickCurrent:g.tick,accounts:g.accounts}}static swapStepCompute(e,t,r,n,i,o){let a={sqrtPriceX64Next:new(ed(d0))(0),amountIn:new(ed(d0))(0),amountOut:new(ed(d0))(0),feeAmount:new(ed(d0))(0)},s=n.gte(Mi);if(s){let s=MG.mulDivFloor(n,Mm.sub(new(ed(d0))(i.toString())),Mm);a.amountIn=o?MY.getTokenAmountAFromLiquidity(t,e,r,!0):MY.getTokenAmountBFromLiquidity(e,t,r,!0),s.gte(a.amountIn)?a.sqrtPriceX64Next=t:a.sqrtPriceX64Next=MZ.getNextSqrtPriceX64FromInput(e,r,s,o)}else a.amountOut=o?MY.getTokenAmountBFromLiquidity(t,e,r,!1):MY.getTokenAmountAFromLiquidity(e,t,r,!1),n.mul(Ma).gte(a.amountOut)?a.sqrtPriceX64Next=t:a.sqrtPriceX64Next=MZ.getNextSqrtPriceX64FromOutput(e,r,n.mul(Ma),o);let u=t.eq(a.sqrtPriceX64Next);return o?(u&&s||(a.amountIn=MY.getTokenAmountAFromLiquidity(a.sqrtPriceX64Next,e,r,!0)),u&&!s||(a.amountOut=MY.getTokenAmountBFromLiquidity(a.sqrtPriceX64Next,e,r,!1))):(a.amountIn=u&&s?a.amountIn:MY.getTokenAmountBFromLiquidity(e,a.sqrtPriceX64Next,r,!0),a.amountOut=u&&!s?a.amountOut:MY.getTokenAmountAFromLiquidity(e,a.sqrtPriceX64Next,r,!1)),!s&&a.amountOut.gt(n.mul(Ma))&&(a.amountOut=n.mul(Ma)),s&&!a.sqrtPriceX64Next.eq(t)?a.feeAmount=n.sub(a.amountIn):a.feeAmount=MG.mulDivCeil(a.amountIn,new(ed(d0))(i),Mm.sub(new(ed(d0))(i))),[a.sqrtPriceX64Next,a.amountIn,a.amountOut,a.feeAmount]}},M1=60,M0=512,M2=class{static getTickArrayAddressByTick(e,t,r,n){let{publicKey:i}=MB(e,t,M2.getTickArrayStartIndexByTick(r,n));return i}static getTickOffsetInArray(e,t){if(e%t!=0)throw Error("tickIndex % tickSpacing not equal 0");let r=M2.getTickArrayStartIndexByTick(e,t),n=Math.floor((e-r)/t);if(n<0||n>=M1)throw Error("tick offset in array overflow");return n}static getTickArrayBitIndex(e,t){let r=MW.tickCount(t),n=e/r;return e<0&&e%r!=0?Math.ceil(n)-1:Math.floor(n)}static getTickArrayStartIndexByTick(e,t){return this.getTickArrayBitIndex(e,t)*MW.tickCount(t)}static getTickArrayOffsetInBitmapByTick(e,t){return Math.abs(Math.floor(e/(t*M1))+512)}static checkTickArrayIsInitialized(e,t,r){let n=r*M1,i=Math.abs(Math.floor(t/n)+512);return{isInitialized:e.testn(i),startIndex:(i-512)*n}}static getNextTickArrayStartIndex(e,t,r){return r?e-t*M1:e+t*M1}static mergeTickArrayBitmap(e){let t=new(ed(d0))(0);for(let r=0;r<e.length;r++)t=t.add(e[r].shln(64*r));return t}static getInitializedTickArrayInRange(e,t,r,n,i){let o=Math.floor(n/(r*M1));return[...M2.searchLowBitFromStart(e,t,o-1,i,r),...M2.searchHightBitFromStart(e,t,o,i,r)]}static getAllInitializedTickArrayStartIndex(e,t,r){return M2.searchHightBitFromStart(e,t,-7680,M0,r)}static getAllInitializedTickArrayInfo(e,t,r,n,i){let o=[];for(let a of M2.getAllInitializedTickArrayStartIndex(r,n,i)){let{publicKey:r}=MB(e,t,a);o.push({tickArrayStartIndex:a,tickArrayAddress:r})}return o}static getAllInitializedTickInTickArray(e){return e.ticks.filter(e=>e.liquidityGross.gtn(0))}static searchLowBitFromStart(e,t,r,n,i){let o=[...[...t.negativeTickArrayBitmap].reverse(),e.slice(0,8),e.slice(8,16),...t.positiveTickArrayBitmap].map(e=>M2.mergeTickArrayBitmap(e)),a=[];for(;r>=-7680;){let e=Math.floor((r+7680)/512),t=(r+7680)%512;if(o[e].testn(t)&&a.push(r),r--,a.length===n)break}let s=MW.tickCount(i);return a.map(e=>e*s)}static searchHightBitFromStart(e,t,r,n,i){let o=[...[...t.negativeTickArrayBitmap].reverse(),e.slice(0,8),e.slice(8,16),...t.positiveTickArrayBitmap].map(e=>M2.mergeTickArrayBitmap(e)),a=[];for(;r<7680;){let e=Math.floor((r+7680)/512),t=(r+7680)%512;if(o[e].testn(t)&&a.push(r),r++,a.length===n)break}let s=MW.tickCount(i);return a.map(e=>e*s)}static checkIsOutOfBoundary(e){return e<-443636||e>443636}static nextInitTick(e,t,r,n,i){if(MW.getArrayStartIndex(t,r)!=e.startTickIndex)return null;let o=Math.floor((t-e.startTickIndex)/r);if(n)for(;o>=0;){if(e.ticks[o].liquidityGross.gtn(0))return e.ticks[o];o-=1}else for(i||(o+=1);o<M1;){if(e.ticks[o].liquidityGross.gtn(0))return e.ticks[o];o+=1}return null}static firstInitializedTick(e,t){if(t){let t=M1-1;for(;t>=0;){if(e.ticks[t].liquidityGross.gtn(0))return e.ticks[t];t-=1}}else{let t=0;for(;t<M1;){if(e.ticks[t].liquidityGross.gtn(0))return e.ticks[t];t+=1}}throw Error(`firstInitializedTick check error: ${e} - ${t}`)}static _getTickPriceLegacy({poolInfo:e,tick:t,baseIn:r}){let n=MZ.getSqrtPriceX64FromTick(t),i=MZ.sqrtPriceX64ToPrice(n,e.mintA.decimals,e.mintB.decimals);return r?{tick:t,price:i,tickSqrtPriceX64:n}:{tick:t,price:new Ba(1).div(i),tickSqrtPriceX64:n}}static _getPriceAndTickLegacy({poolInfo:e,price:t,baseIn:r}){let n=r?t:new Ba(1).div(t),i=MQ.getTickWithPriceAndTickspacing(n,e.ammConfig.tickSpacing,e.mintA.decimals,e.mintB.decimals),o=MZ.getSqrtPriceX64FromTick(i),a=MZ.sqrtPriceX64ToPrice(o,e.mintA.decimals,e.mintB.decimals);return r?{tick:i,price:a}:{tick:i,price:new Ba(1).div(a)}}static getTickPrice({poolInfo:e,tick:t,baseIn:r}){let n=MZ.getSqrtPriceX64FromTick(t),i=MZ.sqrtPriceX64ToPrice(n,e.mintA.decimals,e.mintB.decimals);return r?{tick:t,price:i,tickSqrtPriceX64:n}:{tick:t,price:new Ba(1).div(i),tickSqrtPriceX64:n}}static getPriceAndTick({poolInfo:e,price:t,baseIn:r}){let n=r?t:new Ba(1).div(t),i=MQ.getTickWithPriceAndTickspacing(n,e.config.tickSpacing,e.mintA.decimals,e.mintB.decimals),o=MZ.getSqrtPriceX64FromTick(i),a=MZ.sqrtPriceX64ToPrice(o,e.mintA.decimals,e.mintB.decimals);return r?{tick:i,price:a}:{tick:i,price:new Ba(1).div(a)}}},M6=Rv([Ri(8),Rl("bump"),C7("index"),Rm(""),Rc("protocolFeeRate"),Rc("tradeFeeRate"),C7("tickSpacing"),Rk(Rd(),8,"")]),M4=Rv([Rc("blockTimestamp"),Rf("tickCumulative"),Rk(Rd(),4)]),M5=Rv([Ri(8),Rg("initialized"),Rd("recentEpoch"),C7("observationIndex"),Rm("poolId"),Rk(M4,100,"observations"),Rk(Rd(),4)]),M8=Rv([Rl("rewardState"),Rd("openTime"),Rd("endTime"),Rd("lastUpdateTime"),Rp("emissionsPerSecondX64"),Rd("rewardTotalEmissioned"),Rd("rewardClaimed"),Rm("tokenMint"),Rm("tokenVault"),Rm("creator"),Rp("rewardGrowthGlobalX64")]),M3=Rv([Ri(8),Rl("bump"),Rm("ammConfig"),Rm("creator"),Rm("mintA"),Rm("mintB"),Rm("vaultA"),Rm("vaultB"),Rm("observationId"),Rl("mintDecimalsA"),Rl("mintDecimalsB"),C7("tickSpacing"),Rp("liquidity"),Rp("sqrtPriceX64"),Rr("tickCurrent"),Rc(),Rp("feeGrowthGlobalX64A"),Rp("feeGrowthGlobalX64B"),Rd("protocolFeesTokenA"),Rd("protocolFeesTokenB"),Rp("swapInAmountTokenA"),Rp("swapOutAmountTokenB"),Rp("swapInAmountTokenB"),Rp("swapOutAmountTokenA"),Rl("status"),Rk(Rl(),7,""),Rk(M8,3,"rewardInfos"),Rk(Rd(),16,"tickArrayBitmap"),Rd("totalFeesTokenA"),Rd("totalFeesClaimedTokenA"),Rd("totalFeesTokenB"),Rd("totalFeesClaimedTokenB"),Rd("fundFeesTokenA"),Rd("fundFeesTokenB"),Rd("startTime"),Rk(Rd(),57,"padding")]),M9=Rv([Rp("growthInsideLastX64"),Rd("rewardAmountOwed")]),M7=Rv([Ri(8),Rl("bump"),Rm("nftMint"),Rm("poolId"),Rr("tickLower"),Rr("tickUpper"),Rp("liquidity"),Rp("feeGrowthInsideLastX64A"),Rp("feeGrowthInsideLastX64B"),Rd("tokenFeesOwedA"),Rd("tokenFeesOwedB"),Rk(M9,3,"rewardInfos"),Rk(Rd(),8,"")]),Le=(Rv([Ri(8),Rl("bump"),Rm("poolId"),Rr("tickLowerIndex"),Rr("tickUpperIndex"),Rp("liquidity"),Rp("feeGrowthInsideLastX64A"),Rp("feeGrowthInsideLastX64B"),Rd("tokenFeesOwedA"),Rd("tokenFeesOwedB"),Rk(Rp(),3,"rewardGrowthInside"),Rk(Rd(),8,"")]),Rv([Rr("tick"),new Rs(16,!0,"liquidityNet"),Rp("liquidityGross"),Rp("feeGrowthOutsideX64A"),Rp("feeGrowthOutsideX64B"),Rk(Rp(),3,"rewardGrowthsOutsideX64"),Rk(Rc(),13,"")])),Lt=Rv([Ri(8),Rm("poolId"),Rr("startTickIndex"),Rk(Le,M1,"ticks"),Rl("initializedTickCount"),Rk(Rl(),115,"")]),Lr=Rv([Ri(329),Rk(Rm(),100,"whitelistMints")]),Ln=Rv([Ri(8),Rm("poolId"),Rk(Rk(Rd(),8),14,"positiveTickArrayBitmap"),Rk(Rk(Rd(),8),14,"negativeTickArrayBitmap")]),Li=(Rv([Rd(),Rl("bump"),Rm("owner"),Rm("poolId"),Rm("positionId"),Rm("nftAccount"),Rk(Rd(),8)]),Rv([Ri(8),Rl("bump"),Rm("lockOwner"),Rm("poolId"),Rm("positionId"),Rm("nftAccount"),Rm("lockNftMint"),Rd("recentEpoch"),Rk(Rd(),8)]));M5.span;var Lo=xV("Raydium_Clmm"),La={createPool:[233,146,209,142,207,104,64,188],initReward:[95,135,192,196,242,129,230,68],setRewardEmissions:[112,52,167,75,32,201,211,137],openPosition:[77,184,74,214,112,86,241,199],openPositionWithTokenEx:[77,255,174,82,125,29,201,46],closePosition:[123,134,81,0,49,68,98,98],increaseLiquidity:[133,29,89,223,69,238,176,10],decreaseLiquidity:[58,127,188,62,79,82,196,96],swap:[43,4,237,11,26,201,30,98],collectReward:[18,237,166,197,34,16,213,144]},Ls=[188,37,179,131,82,150,84,73],Lu=[16,72,250,198,14,162,212,19],Ll=class{static createPoolInstruction(e,t,r,n,i,o,a,s,u,l,c,d,p,f){let h=Rv([Rp("sqrtPriceX64"),Rd("zero")]),m=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:hV.programId,isSigner:!1,isWritable:!1},{pubkey:BT,isSigner:!1,isWritable:!1},...(null==f?void 0:f.map(e=>({pubkey:e,isSigner:!1,isWritable:!1})))||[]],g=xO.alloc(h.span);return h.encode({sqrtPriceX64:p,zero:Mi},g),new hI({keys:m,programId:e,data:xO.from([...La.createPool,...g])})}static async createPoolInstructions(e){let{programId:t,owner:r,mintA:n,mintB:i,ammConfigId:o,initialPriceX64:a,extendMintAccount:s}=e,[u,l]=[new ho(n.address),new ho(i.address)],{publicKey:c}=B0([Mk,o.toBuffer(),u.toBuffer(),l.toBuffer()],t),{publicKey:d}=B0([MP,c.toBuffer()],t),{publicKey:p}=MO(t,c,u),{publicKey:f}=MO(t,c,l),h=ML(t,c).publicKey;return{signers:[],instructions:[this.createPoolInstruction(t,c,r,o,d,u,p,new ho(n.programId||SX),l,f,new ho(i.programId||SX),h,a,s)],instructionTypes:[BX.CreateAccount,BX.ClmmCreatePool],address:{poolId:c,observationId:d,exBitmapAccount:h,mintAVault:p,mintBVault:f},lookupTableAddress:[]}}static openPositionFromLiquidityInstruction(e,t,r,n,i,o,a,s,u,l,c,d,p,f,h,m,g,y,b,_,w,v,k,A,S,I){let E=Rv([Rr("tickLowerIndex"),Rr("tickUpperIndex"),Rr("tickArrayLowerStartIndex"),Rr("tickArrayUpperStartIndex"),Rp("liquidity"),Rd("amountMaxA"),Rd("amountMaxB"),Rg("withMetadata"),Rl("optionBaseFlag"),Rg("baseFlag")]),T=[...I?[{pubkey:I,isSigner:!1,isWritable:!0}]:[]],x=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:BT,isSigner:!1,isWritable:!1},{pubkey:hV.programId,isSigner:!1,isWritable:!1},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SQ,isSigner:!1,isWritable:!1},{pubkey:BP,isSigner:!1,isWritable:!1},{pubkey:SZ,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},...T],P=xO.alloc(E.span);return E.encode({tickLowerIndex:y,tickUpperIndex:b,tickArrayLowerStartIndex:_,tickArrayUpperStartIndex:w,liquidity:v,amountMaxA:k,amountMaxB:A,withMetadata:"create"===S,baseFlag:!1,optionBaseFlag:0},P),new hI({keys:x,programId:e,data:xO.from([...La.openPosition,...P])})}static openPositionFromLiquidityInstruction22(e,t,r,n,i,o,a,s,u,l,c,d,p,f,h,m,g,y,b,_,w,v,k,A,S){let I=Rv([Rr("tickLowerIndex"),Rr("tickUpperIndex"),Rr("tickArrayLowerStartIndex"),Rr("tickArrayUpperStartIndex"),Rp("liquidity"),Rd("amountMaxA"),Rd("amountMaxB"),Rg("withMetadata"),Rl("optionBaseFlag"),Rg("baseFlag")]),E=[...S?[{pubkey:S,isSigner:!1,isWritable:!0}]:[]],T=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:BT,isSigner:!1,isWritable:!1},{pubkey:hV.programId,isSigner:!1,isWritable:!1},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SQ,isSigner:!1,isWritable:!1},{pubkey:SZ,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},...E],x=xO.alloc(I.span);return I.encode({tickLowerIndex:g,tickUpperIndex:y,tickArrayLowerStartIndex:b,tickArrayUpperStartIndex:_,liquidity:w,amountMaxA:v,amountMaxB:k,withMetadata:"create"===A,baseFlag:!1,optionBaseFlag:0},x),new hI({keys:T,programId:e,data:xO.from([...La.openPositionWithTokenEx,...x])})}static async openPositionInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,tickLower:n,tickUpper:i,liquidity:o,amountMaxA:a,amountMaxB:s,withMetadata:u,getEphemeralSigners:l,nft2022:c}){let d=[],[p,f]=[new ho(e.programId),new ho(e.id)],h;if(l)h=new ho((await l(1))[0]);else{let e=gx.generate();d.push(e),h=e.publicKey}let m=M2.getTickArrayStartIndexByTick(n,e.config.tickSpacing),g=M2.getTickArrayStartIndexByTick(i,e.config.tickSpacing),{publicKey:y}=MB(p,f,m),{publicKey:b}=MB(p,f,g),{publicKey:_}=c?B3(r.wallet,h,SZ):B3(r.wallet,h,SX),{publicKey:w}=MM(h),{publicKey:v}=MR(p,h),{publicKey:k}=MC(p,f,n,i);return{signers:d,instructions:[c?this.openPositionFromLiquidityInstruction22(p,r.feePayer,f,r.wallet,h,_,k,y,b,v,r.tokenAccountA,r.tokenAccountB,new ho(t.vault.A),new ho(t.vault.B),new ho(e.mintA.address),new ho(e.mintB.address),n,i,m,g,o,a,s,u,MV.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[m,g])?ML(p,f).publicKey:void 0):this.openPositionFromLiquidityInstruction(p,r.feePayer,f,r.wallet,h,_,w,k,y,b,v,r.tokenAccountA,r.tokenAccountB,new ho(t.vault.A),new ho(t.vault.B),new ho(e.mintA.address),new ho(e.mintB.address),n,i,m,g,o,a,s,u,MV.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[m,g])?ML(p,f).publicKey:void 0)],instructionTypes:[BX.ClmmOpenPosition],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[],address:{nftMint:h,tickArrayLower:y,tickArrayUpper:b,positionNftAccount:_,metadataAccount:w,personalPosition:v,protocolPosition:k}}}static async openPositionFromBaseInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,tickLower:n,tickUpper:i,base:o,baseAmount:a,otherAmountMax:s,withMetadata:u,getEphemeralSigners:l,nft2022:c}){let d=[],[p,f]=[new ho(e.programId),new ho(e.id)],h;if(l)h=new ho((await l(1))[0]);else{let e=gx.generate();d.push(e),h=e.publicKey}let m=M2.getTickArrayStartIndexByTick(n,e.config.tickSpacing),g=M2.getTickArrayStartIndexByTick(i,e.config.tickSpacing),{publicKey:y}=MB(p,f,m),{publicKey:b}=MB(p,f,g),{publicKey:_}=c?B3(r.wallet,h,SZ):B3(r.wallet,h,SX),{publicKey:w}=MM(h),{publicKey:v}=MR(p,h),{publicKey:k}=MC(p,f,n,i),A=c?this.openPositionFromBaseInstruction22(p,r.feePayer,f,r.wallet,h,_,k,y,b,v,r.tokenAccountA,r.tokenAccountB,new ho(t.vault.A),new ho(t.vault.B),new ho(e.mintA.address),new ho(e.mintB.address),n,i,m,g,u,o,a,s,MV.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[m,g])?ML(p,f).publicKey:void 0):this.openPositionFromBaseInstruction(p,r.feePayer,f,r.wallet,h,_,w,k,y,b,v,r.tokenAccountA,r.tokenAccountB,new ho(t.vault.A),new ho(t.vault.B),new ho(e.mintA.address),new ho(e.mintB.address),n,i,m,g,u,o,a,s,MV.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[m,g])?ML(p,f).publicKey:void 0);return{address:{nftMint:h,tickArrayLower:y,tickArrayUpper:b,positionNftAccount:_,metadataAccount:w,personalPosition:v,protocolPosition:k},instructions:[A],signers:d,instructionTypes:[BX.ClmmOpenPosition],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static openPositionFromBaseInstruction(e,t,r,n,i,o,a,s,u,l,c,d,p,f,h,m,g,y,b,_,w,v,k,A,S,I){let E=Rv([Rr("tickLowerIndex"),Rr("tickUpperIndex"),Rr("tickArrayLowerStartIndex"),Rr("tickArrayUpperStartIndex"),Rp("liquidity"),Rd("amountMaxA"),Rd("amountMaxB"),Rg("withMetadata"),Rl("optionBaseFlag"),Rg("baseFlag")]),T=[...I?[{pubkey:I,isSigner:!1,isWritable:!0}]:[]],x=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:BT,isSigner:!1,isWritable:!1},{pubkey:hV.programId,isSigner:!1,isWritable:!1},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SQ,isSigner:!1,isWritable:!1},{pubkey:BP,isSigner:!1,isWritable:!1},{pubkey:SZ,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},...T],P=xO.alloc(E.span);return E.encode({tickLowerIndex:y,tickUpperIndex:b,tickArrayLowerStartIndex:_,tickArrayUpperStartIndex:w,liquidity:new(ed(d0))(0),amountMaxA:"MintA"===k?A:S,amountMaxB:"MintA"===k?S:A,withMetadata:"create"===v,baseFlag:"MintA"===k,optionBaseFlag:1},P),new hI({keys:x,programId:e,data:xO.from([...La.openPosition,...P])})}static openPositionFromBaseInstruction22(e,t,r,n,i,o,a,s,u,l,c,d,p,f,h,m,g,y,b,_,w,v,k,A,S){let I=Rv([Rr("tickLowerIndex"),Rr("tickUpperIndex"),Rr("tickArrayLowerStartIndex"),Rr("tickArrayUpperStartIndex"),Rp("liquidity"),Rd("amountMaxA"),Rd("amountMaxB"),Rg("withMetadata"),Rl("optionBaseFlag"),Rg("baseFlag")]),E=[...S?[{pubkey:S,isSigner:!1,isWritable:!0}]:[]],T=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:BT,isSigner:!1,isWritable:!1},{pubkey:hV.programId,isSigner:!1,isWritable:!1},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SQ,isSigner:!1,isWritable:!1},{pubkey:SZ,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},...E],x=xO.alloc(I.span);return I.encode({tickLowerIndex:g,tickUpperIndex:y,tickArrayLowerStartIndex:b,tickArrayUpperStartIndex:_,liquidity:new(ed(d0))(0),amountMaxA:"MintA"===v?k:A,amountMaxB:"MintA"===v?A:k,withMetadata:"create"===w,baseFlag:"MintA"===v,optionBaseFlag:1},x),new hI({keys:T,programId:e,data:xO.from([...La.openPositionWithTokenEx,...x])})}static async openPositionFromLiquidityInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,tickLower:n,tickUpper:i,liquidity:o,amountMaxA:a,amountMaxB:s,withMetadata:u,getEphemeralSigners:l,nft2022:c}){let d,p=[];if(l)d=new ho((await l(1))[0]);else{let e=gx.generate();p.push(e),d=e.publicKey}let[f,h]=[new ho(e.programId),new ho(e.id)],m=M2.getTickArrayStartIndexByTick(n,e.config.tickSpacing),g=M2.getTickArrayStartIndexByTick(i,e.config.tickSpacing),{publicKey:y}=MB(f,h,m),{publicKey:b}=MB(f,h,g),{publicKey:_}=c?B3(r.wallet,d,SZ):B3(r.wallet,d,SX),{publicKey:w}=MM(d),{publicKey:v}=MR(f,d),{publicKey:k}=MC(f,h,n,i),A=c?this.openPositionFromLiquidityInstruction22(f,r.wallet,h,r.wallet,d,_,k,y,b,v,r.tokenAccountA,r.tokenAccountB,new ho(t.vault.A),new ho(t.vault.B),new ho(t.mintA.address),new ho(t.mintB.address),n,i,m,g,o,a,s,u,MV.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[m,g])?ML(f,h).publicKey:void 0):this.openPositionFromLiquidityInstruction(f,r.wallet,h,r.wallet,d,_,w,k,y,b,v,r.tokenAccountA,r.tokenAccountB,new ho(t.vault.A),new ho(t.vault.B),new ho(t.mintA.address),new ho(t.mintB.address),n,i,m,g,o,a,s,u,MV.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[m,g])?ML(f,h).publicKey:void 0);return{address:{nftMint:d,tickArrayLower:y,tickArrayUpper:b,positionNftAccount:_,metadataAccount:w,personalPosition:v,protocolPosition:k},instructions:[A],signers:p,instructionTypes:[BX.ClmmOpenPosition],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static closePositionInstruction(e,t,r,n,i,o){let a=Rv([]),s=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:hV.programId,isSigner:!1,isWritable:!1},{pubkey:o?SZ:SX,isSigner:!1,isWritable:!1}],u=xO.alloc(a.span);return a.encode({},u),new hI({keys:s,programId:e,data:xO.from([...La.closePosition,...u])})}static closePositionInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,ownerPosition:n,nft2022:i}){let o=new ho(e.programId),a=i?B3(r.wallet,n.nftMint,SZ).publicKey:B3(r.wallet,n.nftMint,SX).publicKey,{publicKey:s}=MR(o,n.nftMint),u=[];return u.push(this.closePositionInstruction(o,r.wallet,n.nftMint,a,s,i)),{address:{positionNftAccount:a,personalPosition:s},signers:[],instructions:u,instructionTypes:[BX.ClmmClosePosition],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static increasePositionFromLiquidityInstruction(e,t,r,n,i,o,a,s,u,l,c,d,p,f,h,m,g,y){let b=Rv([Rp("liquidity"),Rd("amountMaxA"),Rd("amountMaxB"),Rl("optionBaseFlag"),Rg("baseFlag")]),_=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SZ,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},...y?[{pubkey:y,isSigner:!1,isWritable:!0}]:[]],w=xO.alloc(b.span);return b.encode({liquidity:h,amountMaxA:m,amountMaxB:g,optionBaseFlag:0,baseFlag:!1},w),new hI({keys:_,programId:e,data:xO.from([...La.increaseLiquidity,...w])})}static increasePositionFromLiquidityInstructions({poolInfo:e,poolKeys:t,ownerPosition:r,ownerInfo:n,liquidity:i,amountMaxA:o,amountMaxB:a,nft2022:s}){let[u,l]=[new ho(e.programId),new ho(e.id)],c=M2.getTickArrayStartIndexByTick(r.tickLower,e.config.tickSpacing),d=M2.getTickArrayStartIndexByTick(r.tickUpper,e.config.tickSpacing),{publicKey:p}=MB(u,l,c),{publicKey:f}=MB(u,l,d),{publicKey:h}=s?B3(n.wallet,r.nftMint,SZ):B3(n.wallet,r.nftMint,SX),{publicKey:m}=MR(u,r.nftMint),{publicKey:g}=MC(u,l,r.tickLower,r.tickUpper),y=this.increasePositionFromLiquidityInstruction(u,n.wallet,h,m,l,g,p,f,n.tokenAccountA,n.tokenAccountB,new ho(t.vault.A),new ho(t.vault.B),new ho(e.mintA.address),new ho(e.mintB.address),i,o,a,MV.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[c,d])?ML(u,l).publicKey:void 0);return{address:{tickArrayLower:p,tickArrayUpper:f,positionNftAccount:h,personalPosition:m,protocolPosition:g},signers:[],instructions:[y],instructionTypes:[BX.ClmmIncreasePosition],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static increasePositionFromBaseInstructions({poolInfo:e,poolKeys:t,ownerPosition:r,ownerInfo:n,base:i,baseAmount:o,otherAmountMax:a,nft2022:s}){let[u,l]=[new ho(e.programId),new ho(e.id)],c=M2.getTickArrayStartIndexByTick(r.tickLower,e.config.tickSpacing),d=M2.getTickArrayStartIndexByTick(r.tickUpper,e.config.tickSpacing),{publicKey:p}=MB(u,l,c),{publicKey:f}=MB(u,l,d),{publicKey:h}=s?B3(n.wallet,r.nftMint,SZ):B3(n.wallet,r.nftMint,SX),{publicKey:m}=MR(u,r.nftMint),{publicKey:g}=MC(u,l,r.tickLower,r.tickUpper);return{address:{tickArrayLower:p,tickArrayUpper:f,positionNftAccount:h,personalPosition:m,protocolPosition:g},instructions:[this.increasePositionFromBaseInstruction(u,n.wallet,h,m,l,g,p,f,n.tokenAccountA,n.tokenAccountB,new ho(t.vault.A),new ho(t.vault.B),new ho(e.mintA.address),new ho(e.mintB.address),i,o,a,MV.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[c,d])?ML(u,l).publicKey:void 0)],signers:[],instructionTypes:[BX.ClmmIncreasePosition],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static increasePositionFromBaseInstruction(e,t,r,n,i,o,a,s,u,l,c,d,p,f,h,m,g,y){let b=Rv([Rp("liquidity"),Rd("amountMaxA"),Rd("amountMaxB"),Rl("optionBaseFlag"),Rg("baseFlag")]),_=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SZ,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},...y?[{pubkey:y,isSigner:!1,isWritable:!0}]:[]],w=xO.alloc(b.span);return b.encode({liquidity:new(ed(d0))(0),amountMaxA:"MintA"===h?m:g,amountMaxB:"MintA"===h?g:m,baseFlag:"MintA"===h,optionBaseFlag:1},w),new hI({keys:_,programId:e,data:xO.from([...La.increaseLiquidity,...w])})}static decreaseLiquidityInstruction(e,t,r,n,i,o,a,s,u,l,c,d,p,f,h,m,g,y,b){let _=Rv([Rp("liquidity"),Rd("amountMinA"),Rd("amountMinB")]),w=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SZ,isSigner:!1,isWritable:!1},{pubkey:BI,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},...b?[{pubkey:b,isSigner:!1,isWritable:!0}]:[],...h.map(e=>[{pubkey:e.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.ownerRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.rewardMint,isSigner:!1,isWritable:!1}]).flat()],v=xO.alloc(_.span);return _.encode({liquidity:m,amountMinA:g,amountMinB:y},v),new hI({keys:w,programId:e,data:xO.from([...La.decreaseLiquidity,...v])})}static decreaseLiquidityInstructions({poolInfo:e,poolKeys:t,ownerPosition:r,ownerInfo:n,liquidity:i,amountMinA:o,amountMinB:a,programId:s,nft2022:u}){let[l,c]=[new ho(e.programId),new ho(e.id)],d=M2.getTickArrayStartIndexByTick(r.tickLower,e.config.tickSpacing),p=M2.getTickArrayStartIndexByTick(r.tickUpper,e.config.tickSpacing),{publicKey:f}=MB(l,c,d),{publicKey:h}=MB(l,c,p),{publicKey:m}=u?B3(n.wallet,r.nftMint,SZ):B3(n.wallet,r.nftMint,s),{publicKey:g}=MR(l,r.nftMint),{publicKey:y}=MC(l,c,r.tickLower,r.tickUpper),b=[];for(let r=0;r<e.rewardDefaultInfos.length;r++)b.push({poolRewardVault:new ho(t.rewardInfos[r].vault),ownerRewardVault:n.rewardAccounts[r],rewardMint:new ho(e.rewardDefaultInfos[r].mint.address)});let _=[];return _.push(this.decreaseLiquidityInstruction(l,n.wallet,m,g,c,y,f,h,n.tokenAccountA,n.tokenAccountB,new ho(t.vault.A),new ho(t.vault.B),new ho(e.mintA.address),new ho(e.mintB.address),b,i,o,a,MV.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[d,p])?ML(l,c).publicKey:void 0)),{address:{tickArrayLower:f,tickArrayUpper:h,positionNftAccount:m,personalPosition:g,protocolPosition:y},signers:[],instructions:_,instructionTypes:[BX.ClmmDecreasePosition],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static swapInstruction(e,t,r,n,i,o,a,s,u,l,c,d,p,f,h,m,g){let y=Rv([Rd("amount"),Rd("otherAmountThreshold"),Rp("sqrtPriceLimitX64"),Rg("isBaseInput")]),b=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SZ,isSigner:!1,isWritable:!1},{pubkey:BI,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},...g?[{pubkey:g,isSigner:!1,isWritable:!0}]:[],...c.map(e=>({pubkey:e,isSigner:!1,isWritable:!0}))],_=xO.alloc(y.span);return y.encode({amount:p,otherAmountThreshold:f,sqrtPriceLimitX64:h,isBaseInput:m},_),new hI({keys:b,programId:e,data:xO.from([...La.swap,..._])})}static makeSwapBaseInInstructions({poolInfo:e,poolKeys:t,observationId:r,ownerInfo:n,inputMint:i,amountIn:o,amountOutMin:a,sqrtPriceLimitX64:s,remainingAccounts:u}){let[l,c]=[new ho(e.programId),new ho(e.id)],[d,p]=[new ho(t.vault.A),new ho(t.vault.B)],[f,h]=[new ho(e.mintA.address),new ho(e.mintB.address)],m=e.mintA.address===i.toString();return{signers:[],instructions:[this.swapInstruction(l,n.wallet,c,new ho(e.config.id),m?n.tokenAccountA:n.tokenAccountB,m?n.tokenAccountB:n.tokenAccountA,m?d:p,m?p:d,m?f:h,m?h:f,u,r,o,a,s,!0,ML(l,c).publicKey)],instructionTypes:[BX.ClmmSwapBaseIn],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[],address:{}}}static makeSwapBaseOutInstructions({poolInfo:e,poolKeys:t,observationId:r,ownerInfo:n,outputMint:i,amountOut:o,amountInMax:a,sqrtPriceLimitX64:s,remainingAccounts:u}){let[l,c]=[new ho(e.programId),new ho(e.id)],[d,p]=[new ho(t.vault.A),new ho(t.vault.B)],[f,h]=[new ho(e.mintA.address),new ho(e.mintB.address)],m=e.mintA.address===i.toBase58();return{signers:[],instructions:[this.swapInstruction(l,n.wallet,c,new ho(e.config.id),m?n.tokenAccountB:n.tokenAccountA,m?n.tokenAccountA:n.tokenAccountB,m?p:d,m?d:p,m?h:f,m?f:h,u,r,o,a,s,!1,ML(l,c).publicKey)],instructionTypes:[BX.ClmmSwapBaseOut],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[],address:{}}}static initRewardInstruction(e,t,r,n,i,o,a,s,u,l,c,d){let p=Rv([Rd("openTime"),Rd("endTime"),Rp("emissionsPerSecondX64")]),f=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:hV.programId,isSigner:!1,isWritable:!1},{pubkey:BT,isSigner:!1,isWritable:!1}],h=xO.alloc(p.span);return p.encode({openTime:Bl(l),endTime:Bl(c),emissionsPerSecondX64:d},h),new hI({keys:f,programId:e,data:xO.from([...La.initReward,...h])})}static initRewardInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,rewardInfo:n}){var i;let[o,a]=[new ho(e.programId),new ho(e.id)],s=(i=n.mint,B0([MS,a.toBuffer(),i.toBuffer()],o)).publicKey,u=B0([MT],o).publicKey,l=[this.initRewardInstruction(o,r.wallet,a,u,new ho(e.config.id),r.tokenAccount,n.programId,n.mint,s,n.openTime,n.endTime,n.emissionsPerSecondX64)];return{address:{poolRewardVault:s,operationId:u},signers:[],instructions:l,instructionTypes:[BX.ClmmInitReward],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static setRewardInstruction(e,t,r,n,i,o,a,s,u,l,c,d){let p=Rv([Rl("rewardIndex"),Rp("emissionsPerSecondX64"),Rd("openTime"),Rd("endTime")]),f=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SZ,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0}],h=xO.alloc(p.span);return p.encode({rewardIndex:u,emissionsPerSecondX64:d,openTime:Bl(l),endTime:Bl(c)},h),new hI({keys:f,programId:e,data:xO.from([...La.setRewardEmissions,...h])})}static setRewardInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,rewardInfo:n}){let[i,o]=[new ho(e.programId),new ho(e.id)],a,s,u;for(let r=0;r<e.rewardDefaultInfos.length;r++)e.rewardDefaultInfos[r].mint.address===n.mint.toString()&&(a=r,s=new ho(t.rewardInfos[r].vault),u=new ho(t.rewardInfos[r].mint.address));(void 0===a||void 0===s)&&Lo.logWithError("reward mint check error","no reward mint",e.rewardDefaultInfos);let l=B0([MT],i).publicKey,c=[this.setRewardInstruction(i,r.wallet,o,l,new ho(e.config.id),r.tokenAccount,s,u,a,n.openTime,n.endTime,n.emissionsPerSecondX64)];return{address:{rewardVault:s,operationId:l},signers:[],instructions:c,instructionTypes:[BX.ClmmSetReward],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static collectRewardInstruction(e,t,r,n,i,o,a){let s=Rv([Rl("rewardIndex")]),u=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SZ,isSigner:!1,isWritable:!1},{pubkey:BI,isSigner:!1,isWritable:!1}],l=xO.alloc(s.span);return s.encode({rewardIndex:a},l),new hI({keys:u,programId:e,data:xO.from([...La.collectReward,...l])})}static collectRewardInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,rewardMint:n}){let[i,o]=[new ho(e.programId),new ho(e.id)],a,s;for(let r=0;r<e.rewardDefaultInfos.length;r++)e.rewardDefaultInfos[r].mint.address===n.toString()&&(a=r,s=new ho(t.rewardInfos[r].vault));(void 0===a||void 0===s)&&Lo.logWithError("reward mint check error","no reward mint",e.rewardDefaultInfos);let u=[this.collectRewardInstruction(i,r.wallet,o,r.tokenAccount,s,n,a)];return{address:{rewardVault:s},signers:[],instructions:u,instructionTypes:[BX.ClmmCollectReward],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static async makeLockPositions({programId:e,authProgramId:t,poolProgramId:r,payer:n,wallet:i,nftMint:o,nft2022:a,getEphemeralSigners:s}){let u=[],l;if(s)l=new ho((await s(1))[0]);else{let e=gx.generate();u.push(e),l=e.publicKey}let c=a?B3(i,o,SZ).publicKey:B3(i,o,SX).publicKey,{publicKey:d}=MR(r,o),p=MF(e,l).publicKey,f=B3(i,l,SX).publicKey,h=MM(l).publicKey,m=Ll.lockPositionInstructionV2({programId:e,auth:t,payer:n,positionOwner:i,lockOwner:i,positionNftAccount:c,positionId:d,lockPositionId:p,lockNftMint:l,lockNftAccount:f,metadataAccount:h,withMetadata:!0,nft2022:a,positionNftMint:o,authPositionNftAccount:B3(t,o,a?SZ:SX).publicKey,positionNftProgram:a?SZ:SX});return{address:{positionId:d,lockPositionId:p,lockNftAccount:f,lockNftMint:l,positionNftAccount:c,metadataAccount:h},instructions:[m],signers:u,instructionTypes:[BX.ClmmLockPosition],lookupTableAddress:[]}}static lockPositionInstructionV2({programId:e,auth:t,payer:r,positionOwner:n,lockOwner:i,positionNftAccount:o,positionId:a,positionNftMint:s,authPositionNftAccount:u,positionNftProgram:l,lockPositionId:c,lockNftMint:d,lockNftAccount:p,metadataAccount:f,withMetadata:h}){let m=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!0,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:BP,isSigner:!1,isWritable:!1},{pubkey:SQ,isSigner:!1,isWritable:!1},{pubkey:BT,isSigner:!1,isWritable:!1},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:hV.programId,isSigner:!1,isWritable:!1}],g=Rv([Rg("withMetadata")]),y=xO.alloc(g.span);return g.encode({withMetadata:h},y),new hI({keys:m,programId:e,data:xO.from([...Ls,...y])})}static lockPositionInstruction({programId:e,authProgramId:t,poolProgramId:r,owner:n,positionNft:i}){let{publicKey:o}=B3(n,i,SX),{publicKey:a}=MR(r,i);return new hI({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:MD(e,a).publicKey,isSigner:!1,isWritable:!0},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:hV.programId,isSigner:!1,isWritable:!1}],programId:e,data:xO.from(Ls)})}static harvestLockPositionInstruction(e){let[t,r]=[new ho(e.poolKeys.programId),new ho(e.poolKeys.id)],n=M2.getTickArrayStartIndexByTick(e.ownerPosition.tickLower,e.poolKeys.config.tickSpacing),i=M2.getTickArrayStartIndexByTick(e.ownerPosition.tickUpper,e.poolKeys.config.tickSpacing),{publicKey:o}=MB(t,r,n),{publicKey:a}=MB(t,r,i),{publicKey:s}=B3(e.owner,e.ownerPosition.nftMint,SX),{publicKey:u}=MR(t,e.ownerPosition.nftMint),{publicKey:l}=MC(t,r,e.ownerPosition.tickLower,e.ownerPosition.tickUpper),c=[];for(let t=0;t<e.poolKeys.rewardInfos.length;t++)c.push({poolRewardVault:new ho(e.poolKeys.rewardInfos[t].vault),ownerRewardVault:e.ownerRewardAccounts[t],rewardMint:new ho(e.poolKeys.rewardInfos[t].mint.address)});let d=[...c.map(e=>[{pubkey:e.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.ownerRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.rewardMint,isSigner:!1,isWritable:!1}]).flat()];return new hI({keys:[{pubkey:e.authProgramId,isSigner:!1,isWritable:!1},{pubkey:MD(e.programId,u).publicKey,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:e.owner,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:new ho(e.poolKeys.vault.A),isSigner:!1,isWritable:!0},{pubkey:new ho(e.poolKeys.vault.B),isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:e.userVaultA,isSigner:!1,isWritable:!0},{pubkey:e.userVaultB,isSigner:!1,isWritable:!0},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SZ,isSigner:!1,isWritable:!1},{pubkey:BE,isSigner:!1,isWritable:!1},{pubkey:new ho(e.poolKeys.mintA.address),isSigner:!1,isWritable:!1},{pubkey:new ho(e.poolKeys.mintB.address),isSigner:!1,isWritable:!1},...d],programId:e.programId,data:xO.from(Lu)})}static harvestLockPositionInstructionV2({programId:e,auth:t,lockPositionId:r,clmmProgram:n,lockOwner:i,lockNftMint:o,lockNftAccount:a,positionNftAccount:s,positionId:u,poolId:l,protocolPosition:c,vaultA:d,vaultB:p,tickArrayLower:f,tickArrayUpper:h,userVaultA:m,userVaultB:g,mintA:y,mintB:b,rewardAccounts:_,exTickArrayBitmap:w}){return new hI({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SZ,isSigner:!1,isWritable:!1},{pubkey:BE,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},...w?[{pubkey:w,isSigner:!1,isWritable:!0}]:[],..._.map(e=>[{pubkey:e.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.ownerRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.rewardMint,isSigner:!1,isWritable:!1}]).flat()],programId:e,data:xO.from(Lu)})}};Rv([Rc("mintAuthorityOption"),Rm("mintAuthority"),Rd("supply"),Rl("decimals"),Rl("isInitialized"),Rc("freezeAuthorityOption"),Rm("freezeAuthority")]);var Lc=e=>new BM({mint:e.address,decimals:e.decimals,symbol:e.symbol,name:e.name}),Ld=e=>{var{amount:t,isRaw:r,name:n}=e,i=xU(e,["amount","isRaw","name"]);return new Bb(new BM({mint:BR(i.address).toBase58(),decimals:i.decimals,symbol:i.symbol,name:n}),t,r,n)},Lp=e=>{var{address:t,programId:r,decimals:n}=e,i=xU(e,["address","programId","decimals"]);return xF({chainId:101,address:BR(t).toBase58(),programId:r,logoURI:"",symbol:"",name:"",decimals:n,tags:[],extensions:i.extensions||{}},i)},Lf=e=>e?xq(xF({},e),{transferFeeConfigAuthority:e.transferFeeConfigAuthority.toBase58(),withdrawWithheldAuthority:e.withdrawWithheldAuthority.toBase58(),withheldAmount:e.withheldAmount.toString(),olderTransferFee:xq(xF({},e.olderTransferFee),{epoch:e.olderTransferFee.epoch.toString(),maximumFee:e.olderTransferFee.maximumFee.toString()}),newerTransferFee:xq(xF({},e.newerTransferFee),{epoch:e.newerTransferFee.epoch.toString(),maximumFee:e.newerTransferFee.maximumFee.toString()})}):void 0,Lh=new(ed(d0))(25),Lm=new(ed(d0))(1e4),Lg=Rv([Rl("instruction"),Rd("amountIn"),Rd("minAmountOut")]),Ly=Rv([Rl("instruction"),Rd("maxAmountIn"),Rd("amountOut")]),Lb=(Rv([Rl("instruction"),Rl("nonce")]),Rv([Rl("instruction"),Rl("nonce"),Rd("startTime")]),Rv([Rd("status"),Rd("nonce"),Rd("maxOrder"),Rd("depth"),Rd("baseDecimal"),Rd("quoteDecimal"),Rd("state"),Rd("resetFlag"),Rd("minSize"),Rd("volMaxCutRatio"),Rd("amountWaveRatio"),Rd("baseLotSize"),Rd("quoteLotSize"),Rd("minPriceMultiplier"),Rd("maxPriceMultiplier"),Rd("systemDecimalValue"),Rd("minSeparateNumerator"),Rd("minSeparateDenominator"),Rd("tradeFeeNumerator"),Rd("tradeFeeDenominator"),Rd("pnlNumerator"),Rd("pnlDenominator"),Rd("swapFeeNumerator"),Rd("swapFeeDenominator"),Rd("baseNeedTakePnl"),Rd("quoteNeedTakePnl"),Rd("quoteTotalPnl"),Rd("baseTotalPnl"),Rd("poolOpenTime"),Rd("punishPcAmount"),Rd("punishCoinAmount"),Rd("orderbookToInitTime"),Rp("swapBaseInAmount"),Rp("swapQuoteOutAmount"),Rd("swapBase2QuoteFee"),Rp("swapQuoteInAmount"),Rp("swapBaseOutAmount"),Rd("swapQuote2BaseFee"),Rm("baseVault"),Rm("quoteVault"),Rm("baseMint"),Rm("quoteMint"),Rm("lpMint"),Rm("openOrders"),Rm("marketId"),Rm("marketProgramId"),Rm("targetOrders"),Rm("withdrawQueue"),Rm("lpVault"),Rm("owner"),Rd("lpReserve"),Rk(Rd(),3,"padding")])),L_=(Rv([Rd("accountType"),Rd("status"),Rd("nonce"),Rd("maxOrder"),Rd("depth"),Rd("baseDecimal"),Rd("quoteDecimal"),Rd("state"),Rd("resetFlag"),Rd("minSize"),Rd("volMaxCutRatio"),Rd("amountWaveRatio"),Rd("baseLotSize"),Rd("quoteLotSize"),Rd("minPriceMultiplier"),Rd("maxPriceMultiplier"),Rd("systemDecimalsValue"),Rd("abortTradeFactor"),Rd("priceTickMultiplier"),Rd("priceTick"),Rd("minSeparateNumerator"),Rd("minSeparateDenominator"),Rd("tradeFeeNumerator"),Rd("tradeFeeDenominator"),Rd("pnlNumerator"),Rd("pnlDenominator"),Rd("swapFeeNumerator"),Rd("swapFeeDenominator"),Rd("baseNeedTakePnl"),Rd("quoteNeedTakePnl"),Rd("quoteTotalPnl"),Rd("baseTotalPnl"),Rd("poolOpenTime"),Rd("punishPcAmount"),Rd("punishCoinAmount"),Rd("orderbookToInitTime"),Rp("swapBaseInAmount"),Rp("swapQuoteOutAmount"),Rp("swapQuoteInAmount"),Rp("swapBaseOutAmount"),Rd("swapQuote2BaseFee"),Rd("swapBase2QuoteFee"),Rm("baseVault"),Rm("quoteVault"),Rm("baseMint"),Rm("quoteMint"),Rm("lpMint"),Rm("modelDataAccount"),Rm("openOrders"),Rm("marketId"),Rm("marketProgramId"),Rm("targetOrders"),Rm("owner"),Rk(Rd(),64,"padding")]),Rv([Rl("instruction"),Rd("baseAmountIn"),Rd("quoteAmountIn"),Rd("fixedSide"),Rd("otherAmountMin")])),Lw=Rv([Rl("instruction"),Rd("lpAmount"),Rd("baseAmountMin"),Rd("quoteAmountMin")]),Lv=Rv([Rd("fee")]),Lk=xV("Raydium_liquidity_instruction");function LA(e){let{poolInfo:t,poolKeys:r,userKeys:n,lpAmount:i,baseAmountMin:o,quoteAmountMin:a,modelDataPubKey:s=Cl}=e,u=BU(r),l=4;if(t.pooltype.includes("StablePool")&&(l=5),4===l||5===l){let e=xO.alloc(Lw.span);Lw.encode({instruction:4,lpAmount:Bl(i),baseAmountMin:Bl(o),quoteAmountMin:Bl(a)},e);let t=[Bv({pubkey:SX,isWritable:!1}),Bv({pubkey:u.id}),Bv({pubkey:u.authority,isWritable:!1}),Bv({pubkey:u.openOrders}),Bv({pubkey:u.targetOrders}),Bv({pubkey:u.mintLp.address}),Bv({pubkey:u.vault.A}),Bv({pubkey:u.vault.B})];return 5===l?t.push(Bv({pubkey:s})):(t.push(Bv({pubkey:u.id})),t.push(Bv({pubkey:u.id}))),t.push(Bv({pubkey:u.marketProgramId,isWritable:!1}),Bv({pubkey:u.marketId}),Bv({pubkey:u.marketBaseVault}),Bv({pubkey:u.marketQuoteVault}),Bv({pubkey:u.marketAuthority,isWritable:!1}),Bv({pubkey:n.lpTokenAccount}),Bv({pubkey:n.baseTokenAccount}),Bv({pubkey:n.quoteTokenAccount}),Bv({pubkey:n.owner,isWritable:!1,isSigner:!0}),Bv({pubkey:u.marketEventQueue}),Bv({pubkey:u.marketBids}),Bv({pubkey:u.marketAsks})),new hI({programId:u.programId,keys:t,data:e})}return new hI({programId:u.programId,keys:[]})}function LS({programId:e,ammId:t,ammAuthority:r,ammOpenOrders:n,lpMint:i,coinMint:o,pcMint:a,coinVault:s,pcVault:u,withdrawQueue:l,ammTargetOrders:c,poolTempLp:d,marketProgramId:p,marketId:f,userWallet:h,userCoinVault:m,userPcVault:g,userLpVault:y,nonce:b,openTime:_,coinAmount:w,pcAmount:v,ammConfigId:k,feeDestinationId:A}){let S=Rv([Rl("instruction"),Rl("nonce"),Rd("openTime"),Rd("pcAmount"),Rd("coinAmount")]),I=[{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SQ,isSigner:!1,isWritable:!1},{pubkey:hV.programId,isSigner:!1,isWritable:!1},{pubkey:BT,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!0,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0}],E=xO.alloc(S.span);return S.encode({instruction:1,nonce:b,openTime:_,coinAmount:w,pcAmount:v},E),{instruction:new hI({keys:I,programId:e,data:E}),instructionType:BX.AmmV4CreatePool}}function LI(e){let{poolKeys:t,version:r,userKeys:n,amountIn:i,amountOut:o,fixedSide:a}=e;if(4===r||5===r){let s={poolKeys:t,userKeys:n};if("in"===a)return function({poolKeys:e,userKeys:t,amountIn:r,minAmountOut:n,modelDataPubKey:i=Cl},o){let a=BU(e),s=xO.alloc(Lg.span);Lg.encode({instruction:9,amountIn:Bl(r),minAmountOut:Bl(n)},s);let u=[Bv({pubkey:SX,isWritable:!1}),Bv({pubkey:a.id}),Bv({pubkey:a.authority,isWritable:!1}),Bv({pubkey:a.openOrders})];return 4===o&&u.push(Bv({pubkey:a.targetOrders})),u.push(Bv({pubkey:a.vault.A}),Bv({pubkey:a.vault.B})),5===o&&u.push(Bv({pubkey:i})),u.push(Bv({pubkey:a.marketProgramId,isWritable:!1}),Bv({pubkey:a.marketId}),Bv({pubkey:a.marketBids}),Bv({pubkey:a.marketAsks}),Bv({pubkey:a.marketEventQueue}),Bv({pubkey:a.marketBaseVault}),Bv({pubkey:a.marketQuoteVault}),Bv({pubkey:a.marketAuthority,isWritable:!1}),Bv({pubkey:t.tokenAccountIn}),Bv({pubkey:t.tokenAccountOut}),Bv({pubkey:t.owner,isWritable:!1,isSigner:!0})),new hI({programId:a.programId,keys:u,data:s})}(xq(xF({},s),{amountIn:i,minAmountOut:o}),r);if("out"===a)return function({poolKeys:e,userKeys:t,maxAmountIn:r,amountOut:n,modelDataPubKey:i=Cl},o){let a=BU(e),s=xO.alloc(Ly.span);Ly.encode({instruction:11,maxAmountIn:Bl(r),amountOut:Bl(n)},s);let u=[Bv({pubkey:SX,isWritable:!1}),Bv({pubkey:a.id}),Bv({pubkey:a.authority,isWritable:!1}),Bv({pubkey:a.openOrders}),Bv({pubkey:a.targetOrders}),Bv({pubkey:a.vault.A}),Bv({pubkey:a.vault.B})];return 5===o&&u.push(Bv({pubkey:i})),u.push(Bv({pubkey:a.marketProgramId,isWritable:!1}),Bv({pubkey:a.marketId}),Bv({pubkey:a.marketBids}),Bv({pubkey:a.marketAsks}),Bv({pubkey:a.marketEventQueue}),Bv({pubkey:a.marketBaseVault}),Bv({pubkey:a.marketQuoteVault}),Bv({pubkey:a.marketAuthority,isWritable:!1}),Bv({pubkey:t.tokenAccountIn}),Bv({pubkey:t.tokenAccountOut}),Bv({pubkey:t.owner,isWritable:!1,isSigner:!0})),new hI({programId:a.programId,keys:u,data:s})}(xq(xF({},s),{maxAmountIn:i,amountOut:o}),r);Lk.logWithError("invalid params","params",e)}throw Lk.logWithError("invalid version","poolKeys.version",r),Error("invalid version")}var LE=Rv([Rd("x"),Rd("y"),Rd("price")]),LT=Rv([Rd("accountType"),Rd("status"),Rd("multiplier"),Rd("validDataCount"),Rk(LE,5e4,"DataElement")]);function Lx(e,t,r){let[n,i,o]=function(e,t,r){let[n,i]=[0,49998],o=n,a=i,s=0,u=t*e.multiplier/r;for(;o<=a&&0!==(s=Math.floor((a+o)/2))&&!(s>=49998);){let t=e.DataElement[s].x*e.multiplier/e.DataElement[s].y,r=e.DataElement[s-1].x*e.multiplier/e.DataElement[s-1].y,n=e.DataElement[s+1].x*e.multiplier/e.DataElement[s+1].y;if(u===t)return[s,s,!0];if(u===r)return[s-1,s-1,!0];if(u===n)return[s+1,s+1,!0];if(u<r)a=s-1;else{if(u>r&&u<t)return[s-1,s,!0];if(u>t&&u<n)return[s,s+1,!0];o=s+1}}return[s,s,!1]}(e,t,r);if(!o)return 0;if(n===i){let r=e.DataElement[n].x;return t*e.multiplier/r}{let o=e.DataElement[n].x,a=e.DataElement[n].y,s=e.DataElement[i].x,u=e.DataElement[i].y,l=r*(s*a-o*u),c=(s-o)*(t*a-o*r)*u;return t*e.multiplier*l/(o*l+c)}}function LP(e,t,r){return t*e.multiplier/r}function LO(e,t,r){return t*r/e.multiplier}function LB(e,t,r,n){let i=n?t+r:t-r,[o,a,s]=function(e,t){let[r,n]=[0,49998],i=r,o=n,a=0;for(;i<o&&!((a=Math.floor((o+i)/2))<=0)&&!(a>49998);){let r=e.DataElement[a].x,n=e.DataElement[a-1].x,s=e.DataElement[a+1].x;if(t===r)return[a,a,!0];if(t===n)return[a-1,a-1,!0];if(t===s)return[a+1,a+1,!0];if(t<n)o=a-1;else{if(t>n&&t<r)return[a-1,a,!0];if(t>r&&t<s)return[a,a+1,!0];i=a+1}}return[a,a,!1]}(e,i);if(!s)return[0,0,!1,s];if(o===a)return[e.DataElement[a].price,e.DataElement[a].y,!1,s];{let r=e.DataElement[o].x,u=e.DataElement[a].x,l=e.DataElement[o].price,c=e.DataElement[a].price,d=e.DataElement[o].y,p=e.DataElement[a].y;if(t>=r&&t<=u)return n?[c,p,!0,s]:[l,d,!0,s];{let o,a;return n?(o=l+(c-l)*(t-r)/(u-r),a=d-(i-r)*e.multiplier/c):(o=l+(c-l)*(t-r)/(u-r),a=p+(u-i)*e.multiplier/l),[o,a,!1,s]}}}var LC=class{constructor({connection:e,modelDataPubKey:t=Cl}){this._layoutData={accountType:0,status:0,multiplier:0,validDataCount:0,DataElement:[]},this.connection=e,this.modelDataPubKey=t}get stableModelData(){return this._layoutData}async initStableModelLayout(){if(0===this._layoutData.validDataCount&&this.connection){var e;let t,r=await this.connection.getAccountInfo(this.modelDataPubKey);r&&(this._layoutData=(e=null==r?void 0:r.data,{accountType:(t=LT.decode(e)).accountType.toNumber(),status:t.status.toNumber(),multiplier:t.multiplier.toNumber(),validDataCount:t.validDataCount.toNumber(),DataElement:t.DataElement.map(e=>({x:e.x.toNumber(),y:e.y.toNumber(),price:e.price.toNumber()}))}))}}},LR=xV("Raydium_liquidity_serum");function LM({programId:e}){let{publicKey:t}=B0([xO.from("amm_config_account_seed","utf-8")],e);return t}function LL({name:e,programId:t,marketId:r}){let{publicKey:n}=B0([t.toBuffer(),r.toBuffer(),xO.from(e,"utf-8")],t);return n}function LN({programId:e}){return B0([xO.from([97,109,109,32,97,117,116,104,111,114,105,116,121])],e)}function LD({version:e,marketVersion:t,marketId:r,baseMint:n,quoteMint:i,baseDecimals:o,quoteDecimals:a,programId:s,marketProgramId:u}){let l=LL({name:"amm_associated_seed",programId:s,marketId:r}),c=LL({name:"lp_mint_associated_seed",programId:s,marketId:r}),{publicKey:d,nonce:p}=LN({programId:s}),f=LL({name:"coin_vault_associated_seed",programId:s,marketId:r}),h=LL({name:"pc_vault_associated_seed",programId:s,marketId:r}),m=LL({name:"temp_lp_token_associated_seed",programId:s,marketId:r}),g=function({programId:e,marketId:t}){let{publicKey:r}=B0([e.toBuffer(),t.toBuffer(),xO.from("open_order_associated_seed","utf-8")],e);return r}({programId:s,marketId:r}),y=LL({name:"target_associated_seed",programId:s,marketId:r}),b=LL({name:"withdraw_associated_seed",programId:s,marketId:r}),{publicKey:_}=function({programId:e,marketId:t}){let r=[t.toBuffer()],n=0,i;for(;n<100;){try{let t=r.concat(xO.from([n]),xO.alloc(7));i=ho.createProgramAddressSync(t,e)}catch(e){if(e instanceof TypeError)throw e;n++;continue}return{publicKey:i,nonce:n}}throw LR.logWithError("unable to find a viable program address nonce","params",{programId:e,marketId:t}),Error("unable to find a viable program address nonce")}({programId:u,marketId:r});return{id:l,baseMint:n,quoteMint:i,lpMint:c,baseDecimals:o,quoteDecimals:a,lpDecimals:o,version:e,programId:s,authority:d,nonce:p,baseVault:f,quoteVault:h,lpVault:m,openOrders:g,targetOrders:y,withdrawQueue:b,marketVersion:t,marketProgramId:u,marketId:r,marketAuthority:_,lookupTableAccount:ho.default,configId:LM({programId:s})}}var LF={volume:0,volumeQuote:0,volumeFee:0,apr:0,feeApr:0,priceMin:0,priceMax:0,rewardApr:[]},Lq=e=>{let t={},r=SX.toBase58();return Object.keys(e).map(n=>{let i=e[n],[o,a]=[i.baseMint.toBase58(),i.quoteMint.toBase58()];t[n]={id:n,version:4,status:i.status.toNumber(),programId:i.programId.toBase58(),mintA:Lp({address:o,programId:r,decimals:i.baseDecimal.toNumber()}),mintB:Lp({address:a,programId:r,decimals:i.quoteDecimal.toNumber()}),rewardDefaultInfos:[],rewardDefaultPoolInfos:"Ecosystem",price:i.poolPrice.toNumber(),mintAmountA:new Ba(i.mintAAmount.toString()).div(10**i.baseDecimal.toNumber()).toNumber(),mintAmountB:new Ba(i.mintBAmount.toString()).div(10**i.quoteDecimal.toNumber()).toNumber(),baseReserve:i.baseReserve,quoteReserve:i.quoteReserve,feeRate:new Ba(i.tradeFeeNumerator.toString()).div(i.tradeFeeDenominator.toString()).toNumber(),openTime:i.poolOpenTime.toString(),tvl:0,day:LF,week:LF,month:LF,pooltype:[],farmUpcomingCount:0,farmOngoingCount:0,farmFinishedCount:0,type:"Standard",marketId:i.marketId.toBase58(),configId:LM({programId:i.programId}).toBase58(),lpPrice:0,lpAmount:new Ba(i.lpReserve.toString()).div(10**Math.min(i.baseDecimal.toNumber(),i.quoteDecimal.toNumber())).toNumber(),lpMint:Lp({address:i.lpMint.toBase58(),programId:r,decimals:Math.min(i.baseDecimal.toNumber(),i.quoteDecimal.toNumber())}),burnPercent:0}}),t},LU=Rv([Ri(5),function(e="accountFlags"){let t=new Ru(e);return t.addBoolean("initialized"),t.addBoolean("market"),t.addBoolean("openOrders"),t.addBoolean("requestQueue"),t.addBoolean("eventQueue"),t.addBoolean("bids"),t.addBoolean("asks"),t}("accountFlags"),Rm("ownAddress"),Rd("vaultSignerNonce"),Rm("baseMint"),Rm("quoteMint"),Rm("baseVault"),Rd("baseDepositsTotal"),Rd("baseFeesAccrued"),Rm("quoteVault"),Rd("quoteDepositsTotal"),Rd("quoteFeesAccrued"),Rd("quoteDustThreshold"),Rm("requestQueue"),Rm("eventQueue"),Rm("bids"),Rm("asks"),Rd("baseLotSize"),Rd("quoteLotSize"),Rd("feeRateBps"),Rd("referrerRebatesAccrued"),Ri(7)]);async function Lj({connection:e,wallet:t,marketInfo:r}){var n,i,o,a,s,u,l,c;let d=new hE,p=await e.getMinimumBalanceForRentExemption(165);d.add(hV.createAccountWithSeed({fromPubkey:t,basePubkey:t,seed:r.baseVault.seed,newAccountPubkey:r.baseVault.publicKey,lamports:p,space:165,programId:SX}),hV.createAccountWithSeed({fromPubkey:t,basePubkey:t,seed:r.quoteVault.seed,newAccountPubkey:r.quoteVault.publicKey,lamports:p,space:165,programId:SX}),xA(r.baseVault.publicKey,r.baseMint,r.vaultOwner),xA(r.quoteVault.publicKey,r.quoteMint,r.vaultOwner),hV.createAccountWithSeed({fromPubkey:t,basePubkey:t,seed:r.id.seed,newAccountPubkey:r.id.publicKey,lamports:await e.getMinimumBalanceForRentExemption(LU.span),space:LU.span,programId:r.programId}));let f=new hE;return f.add(hV.createAccountWithSeed({fromPubkey:t,basePubkey:t,seed:r.requestQueue.seed,newAccountPubkey:r.requestQueue.publicKey,lamports:r.lowestFeeMarket?6208320:await e.getMinimumBalanceForRentExemption(null!=(n=r.requestQueueSpace)?n:5132),space:r.lowestFeeMarket?764:null!=(i=r.requestQueueSpace)?i:5132,programId:r.programId}),hV.createAccountWithSeed({fromPubkey:t,basePubkey:t,seed:r.eventQueue.seed,newAccountPubkey:r.eventQueue.publicKey,lamports:r.lowestFeeMarket?79594560:await e.getMinimumBalanceForRentExemption(null!=(o=r.eventQueueSpace)?o:262156),space:r.lowestFeeMarket?11308:null!=(a=r.eventQueueSpace)?a:262156,programId:r.programId}),hV.createAccountWithSeed({fromPubkey:t,basePubkey:t,seed:r.bids.seed,newAccountPubkey:r.bids.publicKey,lamports:r.lowestFeeMarket?101977920:await e.getMinimumBalanceForRentExemption(null!=(s=r.orderbookQueueSpace)?s:65548),space:r.lowestFeeMarket?14524:null!=(u=r.orderbookQueueSpace)?u:65548,programId:r.programId}),hV.createAccountWithSeed({fromPubkey:t,basePubkey:t,seed:r.asks.seed,newAccountPubkey:r.asks.publicKey,lamports:r.lowestFeeMarket?101977920:await e.getMinimumBalanceForRentExemption(null!=(l=r.orderbookQueueSpace)?l:65548),space:r.lowestFeeMarket?14524:null!=(c=r.orderbookQueueSpace)?c:65548,programId:r.programId}),function({programId:e,marketInfo:t}){let r=Rv([Rl("version"),Rc("instruction"),Rd("baseLotSize"),Rd("quoteLotSize"),C7("feeRateBps"),Rd("vaultSignerNonce"),Rd("quoteDustThreshold")]),n=[{pubkey:t.id,isSigner:!1,isWritable:!0},{pubkey:t.requestQueue,isSigner:!1,isWritable:!0},{pubkey:t.eventQueue,isSigner:!1,isWritable:!0},{pubkey:t.bids,isSigner:!1,isWritable:!0},{pubkey:t.asks,isSigner:!1,isWritable:!0},{pubkey:t.baseVault,isSigner:!1,isWritable:!0},{pubkey:t.quoteVault,isSigner:!1,isWritable:!0},{pubkey:t.baseMint,isSigner:!1,isWritable:!1},{pubkey:t.quoteMint,isSigner:!1,isWritable:!1},{pubkey:t.authority?t.quoteMint:hC,isSigner:!1,isWritable:!1}].concat(t.authority?{pubkey:t.authority,isSigner:!1,isWritable:!1}:[]).concat(t.authority&&t.pruneAuthority?{pubkey:t.pruneAuthority,isSigner:!1,isWritable:!1}:[]),i=xO.alloc(r.span);return r.encode({version:0,instruction:0,baseLotSize:t.baseLotSize,quoteLotSize:t.quoteLotSize,feeRateBps:t.feeRateBps,vaultSignerNonce:t.vaultSignerNonce,quoteDustThreshold:t.quoteDustThreshold},i),new hI({keys:n,programId:e,data:i})}({programId:r.programId,marketInfo:{id:r.id.publicKey,requestQueue:r.requestQueue.publicKey,eventQueue:r.eventQueue.publicKey,bids:r.bids.publicKey,asks:r.asks.publicKey,baseVault:r.baseVault.publicKey,quoteVault:r.quoteVault.publicKey,baseMint:r.baseMint,quoteMint:r.quoteMint,baseLotSize:r.baseLotSize,quoteLotSize:r.quoteLotSize,feeRateBps:r.feeRateBps,vaultSignerNonce:r.vaultSignerNonce,quoteDustThreshold:r.quoteDustThreshold}})),[{transaction:d,signer:[],instructionTypes:[BX.CreateAccount,BX.CreateAccount,BX.InitAccount,BX.InitAccount]},{transaction:f,signer:[],instructionTypes:[BX.CreateAccount,BX.CreateAccount,BX.CreateAccount,BX.CreateAccount,BX.CreateAccount,BX.InitMarket]}]}var LW=class extends Cz{async create({baseInfo:e,quoteInfo:t,lotSize:r,tickSize:n,dexProgramId:i,requestQueueSpace:o,eventQueueSpace:a,orderbookQueueSpace:s,lowestFeeMarket:u,assignSeed:l,txVersion:c,computeBudgetConfig:d,txTipConfig:p,feePayer:f}){let h=this.scope.ownerPubKey,m=l?`${e.mint.toBase58().slice(0,10)}-${t.mint.toBase58().slice(0,10)}-${l}`:void 0,g=RS({fromPublicKey:h,programId:i,assignSeed:m&&`${m}-market`}),y=RS({fromPublicKey:h,programId:i,assignSeed:m&&`${m}-request`}),b=RS({fromPublicKey:h,programId:i,assignSeed:m&&`${m}-event`}),_=RS({fromPublicKey:h,programId:i,assignSeed:m&&`${m}-bids`}),w=RS({fromPublicKey:h,programId:i,assignSeed:m&&`${m}-asks`}),v=RS({fromPublicKey:h,programId:SX,assignSeed:m&&`${m}-baseVault`}),k=RS({fromPublicKey:h,programId:SX,assignSeed:m&&`${m}-quoteVault`}),A=new(ed(d0))(100),{vaultOwner:S,vaultSignerNonce:I}=function(){let e=new(ed(d0))(0);for(;;)try{return{vaultOwner:ho.createProgramAddressSync([g.publicKey.toBuffer(),e.toArrayLike(xO,"le",8)],i),vaultSignerNonce:e}}catch{if(e.iaddn(1),e.gt(new(ed(d0))(25555)))throw Error("find vault owner error")}}(),E=new(ed(d0))(Math.round(10**e.decimals*r)),T=new(ed(d0))(Math.round(r*10**t.decimals*n));if(E.eq(Bj))throw Error("lot size is too small");if(T.eq(Bj))throw Error("tick size or lot size is too small");let x=await Lj({connection:this.scope.connection,wallet:this.scope.ownerPubKey,marketInfo:{programId:i,id:g,baseMint:e.mint,quoteMint:t.mint,baseVault:v,quoteVault:k,vaultOwner:S,requestQueue:y,eventQueue:b,bids:_,asks:w,feeRateBps:0,quoteDustThreshold:A,vaultSignerNonce:I,baseLotSize:E,quoteLotSize:T,requestQueueSpace:o,eventQueueSpace:a,orderbookQueueSpace:s,lowestFeeMarket:u}}),P=this.createTxBuilder(f);for await(let e of(P.addInstruction({instructions:x[0].transaction.instructions,signers:x[0].signer}),x.slice(1,x.length)))P.addInstruction({instructions:e.transaction.instructions,signers:e.signer,instructionTypes:e.instructionTypes});return 0===c?P.sizeCheckBuildV0({computeBudgetConfig:d,address:{marketId:g.publicKey,requestQueue:y.publicKey,eventQueue:b.publicKey,bids:_.publicKey,asks:w.publicKey,baseVault:v.publicKey,quoteVault:k.publicKey,baseMint:new ho(e.mint),quoteMint:new ho(t.mint)}}):P.sizeCheckBuild({computeBudgetConfig:d,address:{marketId:g.publicKey,requestQueue:y.publicKey,eventQueue:b.publicKey,bids:_.publicKey,asks:w.publicKey,baseVault:v.publicKey,quoteVault:k.publicKey,baseMint:new ho(e.mint),quoteMint:new ho(t.mint)}})}},LK=class extends Cz{constructor(e){super(e),this.stableLayout=new LC({connection:this.scope.connection,modelDataPubKey:"mainnet"===this.scope.cluster?void 0:Cv.MODEL_DATA_PUBKEY})}async initLayout(){await this.stableLayout.initStableModelLayout()}async load(){this.checkDisabled()}computePairAmount({poolInfo:e,amount:t,slippage:r,baseIn:n}){let i=new(ed(d0))(new Ba(t).mul(10**e[n?"mintA":"mintB"].decimals).toFixed(0)),o=Lc(e[n?"mintB":"mintA"]),[a,s]=[new(ed(d0))(new Ba(e.mintAmountA).mul(10**e.mintA.decimals).toString()),new(ed(d0))(new Ba(e.mintAmountB).mul(10**e.mintB.decimals).toString())],u=new(ed(d0))(new Ba(e.lpAmount).mul(10**e.lpMint.decimals).toFixed(0,Ba.ROUND_DOWN));this.logDebug("baseReserve:",a.toString(),"quoteReserve:",s.toString()),this.logDebug("tokenIn:",n?e.mintA.symbol:e.mintB.symbol,"amountIn:",i.toString(),"anotherToken:",n?e.mintB.symbol:e.mintA.symbol,"slippage:",`${r.toSignificant()}%`,"baseReserve",a.toString(),"quoteReserve",s.toString());let l=n?"base":"quote";this.logDebug("input side:",l);let c=Bj;i.isZero()||(c="base"===l?Bz(i.mul(s),a):Bz(i.mul(a),s)),this.logDebug("amountRaw:",c.toString(),"lpAmount:",u.toString());let d=Bz(i.mul(u),"base"===l?a:s);this.logDebug("liquidity:",d.toString());let p=new BD(new(ed(d0))(1)).add(r),f=new BD(new(ed(d0))(1)).sub(r),h=p.mul(c).quotient,m=f.mul(c).quotient,g=new Bb(o,c),y=new Bb(o,h),b=new Bb(o,m);return this.logDebug("anotherAmount:",g.toFixed(),"maxAnotherAmount:",y.toFixed()),{anotherAmount:g,maxAnotherAmount:y,minAnotherAmount:b,liquidity:d}}async getAmmPoolKeys(e){return(await this.scope.api.fetchPoolKeysById({idList:[e]}))[0]}async addLiquidity(e){let{poolInfo:t,poolKeys:r,amountInA:n,amountInB:i,otherAmountMin:o,fixedSide:a,config:s,txVersion:u,computeBudgetConfig:l,txTipConfig:c,feePayer:d}=e;!1===this.scope.availability.addStandardPosition&&this.logAndCreateError("add liquidity feature disabled in your region"),this.logDebug("amountInA:",n,"amountInB:",i),(n.isZero()||i.isZero())&&this.logAndCreateError("amounts must greater than zero","amountInA & amountInB",{amountInA:n.toFixed(),amountInB:i.toFixed()});let{account:p}=this.scope,{bypassAssociatedCheck:f,checkCreateATAOwner:h}=xF({bypassAssociatedCheck:!1,checkCreateATAOwner:!1},s),[m,g]=[n.token,i.token],y=await p.getCreatedTokenAccount({mint:m.mint,associatedOnly:!1}),b=await p.getCreatedTokenAccount({mint:g.mint,associatedOnly:!1});y||b||this.logAndCreateError("cannot found target token accounts","tokenAccounts",p.tokenAccounts);let _=await p.getCreatedTokenAccount({mint:new ho(t.lpMint.address)}),w=[m,g],v=[y,b],k=[n.raw,i.raw],A=n.token.mint.toBase58()===t.mintA.address?"base":"quote",S="base";["quote","base"].includes(A)||this.logAndCreateError("invalid fixedSide","fixedSide",a),"quote"===A?(w.reverse(),v.reverse(),k.reverse(),S="a"===a?"quote":"base"):"base"===A&&(S="a"===a?"base":"quote");let[I,E]=w,[T,x]=v,[P,O]=k,B=null!=r?r:await this.getAmmPoolKeys(t.id),C=this.createTxBuilder(d),R=await p.handleTokenAccount({side:"in",amount:P,mint:I.mint,tokenAccount:T,bypassAssociatedCheck:f,checkCreateATAOwner:h}),{tokenAccount:M}=R,L=xU(R,["tokenAccount"]);C.addInstruction(L);let N=await p.handleTokenAccount({side:"in",amount:O,mint:E.mint,tokenAccount:x,bypassAssociatedCheck:f,checkCreateATAOwner:h}),{tokenAccount:D}=N,F=xU(N,["tokenAccount"]);C.addInstruction(F);let q=await p.handleTokenAccount({side:"out",amount:0,mint:new ho(t.lpMint.address),tokenAccount:_,bypassAssociatedCheck:f,checkCreateATAOwner:h}),{tokenAccount:U}=q,j=xU(q,["tokenAccount"]);return C.addInstruction(j),C.addInstruction({instructions:[function(e){let{poolInfo:t,poolKeys:r,userKeys:n,baseAmountIn:i,quoteAmountIn:o,fixedSide:a,otherAmountMin:s,modelDataPubKey:u=Cl}=e,l=xO.alloc(L_.span);L_.encode({instruction:3,baseAmountIn:Bl(i),quoteAmountIn:Bl(o),otherAmountMin:Bl(s),fixedSide:"base"===a?Bj:BW},l);let c=[Bv({pubkey:SX,isWritable:!1}),Bv({pubkey:new ho(t.id)}),Bv({pubkey:new ho(r.authority),isWritable:!1}),Bv({pubkey:new ho(r.openOrders),isWritable:!1}),Bv({pubkey:new ho(r.targetOrders)}),Bv({pubkey:new ho(t.lpMint.address)}),Bv({pubkey:new ho(r.vault.A)}),Bv({pubkey:new ho(r.vault.B)})];return t.pooltype.includes("StablePool")&&c.push(Bv({pubkey:u})),c.push(Bv({pubkey:new ho(t.marketId),isWritable:!1}),Bv({pubkey:n.baseTokenAccount}),Bv({pubkey:n.quoteTokenAccount}),Bv({pubkey:n.lpTokenAccount}),Bv({pubkey:n.owner,isWritable:!1,isSigner:!0}),Bv({pubkey:new ho(r.marketEventQueue),isWritable:!1})),new hI({programId:new ho(t.programId),keys:c,data:l})}({poolInfo:t,poolKeys:B,userKeys:{baseTokenAccount:M,quoteTokenAccount:D,lpTokenAccount:U,owner:this.scope.ownerPubKey},baseAmountIn:P,quoteAmountIn:O,otherAmountMin:o.raw,fixedSide:S})],instructionTypes:[t.pooltype.includes("StablePool")?BX.AmmV5AddLiquidity:BX.AmmV4AddLiquidity],lookupTableAddress:B.lookupTableAccount?[B.lookupTableAccount]:[]}),C.addCustomComputeBudget(l),C.addTipInstruction(c),0===u?await C.buildV0():C.build()}async removeLiquidity(e){!1===this.scope.availability.removeStandardPosition&&this.logAndCreateError("remove liquidity feature disabled in your region");let{poolInfo:t,poolKeys:r,lpAmount:n,baseAmountMin:i,quoteAmountMin:o,config:a,txVersion:s,computeBudgetConfig:u,txTipConfig:l,feePayer:c}=e,d=null!=r?r:await this.getAmmPoolKeys(t.id),[p,f,h]=[new ho(t.mintA.address),new ho(t.mintB.address),new ho(t.lpMint.address)];this.logDebug("lpAmount:",n),this.logDebug("baseAmountMin:",i),this.logDebug("quoteAmountMin:",o),n.isZero()&&this.logAndCreateError("amount must greater than zero","lpAmount",n.toString());let{account:m}=this.scope,g=await m.getCreatedTokenAccount({mint:h,associatedOnly:!1});g||this.logAndCreateError("cannot found lpTokenAccount","tokenAccounts",m.tokenAccounts);let y=await m.getCreatedTokenAccount({mint:p}),b=await m.getCreatedTokenAccount({mint:f}),_=this.createTxBuilder(c),{bypassAssociatedCheck:w,checkCreateATAOwner:v}=xF({bypassAssociatedCheck:!1,checkCreateATAOwner:!1},a),k=await m.handleTokenAccount({side:"out",amount:0,mint:p,tokenAccount:y,bypassAssociatedCheck:w,checkCreateATAOwner:v}),{tokenAccount:A}=k,S=xU(k,["tokenAccount"]);_.addInstruction(S);let I=await m.handleTokenAccount({side:"out",amount:0,mint:f,tokenAccount:b,bypassAssociatedCheck:w,checkCreateATAOwner:v}),{tokenAccount:E}=I,T=xU(I,["tokenAccount"]);return _.addInstruction(T),_.addInstruction({instructions:[LA({poolInfo:t,poolKeys:d,userKeys:{lpTokenAccount:g,baseTokenAccount:A,quoteTokenAccount:E,owner:this.scope.ownerPubKey},lpAmount:n,baseAmountMin:i,quoteAmountMin:o})],lookupTableAddress:d.lookupTableAccount?[d.lookupTableAccount]:[],instructionTypes:[t.pooltype.includes("StablePool")?BX.AmmV5RemoveLiquidity:BX.AmmV4RemoveLiquidity]}),_.addCustomComputeBudget(u),_.addTipInstruction(l),0===s?await _.buildV0():_.build()}async removeAllLpAndCreateClmmPosition({poolInfo:e,clmmPoolInfo:t,removeLpAmount:r,createPositionInfo:n,farmInfo:i,userFarmLpAmount:o,base:a,computeBudgetConfig:s,payer:u,userAuxiliaryLedgers:l,tokenProgram:c=SX,checkCreateATAOwner:d=!0,getEphemeralSigners:p,txVersion:f,feePayer:h}){if((!1===this.scope.availability.removeStandardPosition||!1===this.scope.availability.createConcentratedPosition)&&this.logAndCreateError("remove liquidity or create position feature disabled in your region"),!(e.mintA.address===t.mintA.address||e.mintA.address===t.mintB.address)||!(e.mintB.address===t.mintA.address||e.mintB.address===t.mintB.address))throw Error("mint check error");let m=this.createTxBuilder(h),g={};for(let e of this.scope.account.tokenAccountRawInfos)(void 0===g[e.accountInfo.mint.toString()]||B3(this.scope.ownerPubKey,e.accountInfo.mint,SX).publicKey.equals(e.pubkey))&&(g[e.accountInfo.mint.toString()]=e.pubkey);let y=g[e.lpMint.address];if(void 0===y)throw Error("find lp account error in trade accounts");let b=r.add(null!=o?o:new(ed(d0))(0)),_=e.mintA.address===BM.WSOL.mint.toString(),w=e.mintB.address===BM.WSOL.mint.toString(),{account:v,instructionParams:k}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:SX,mint:new ho(e.mintA.address),owner:this.scope.ownerPubKey,createInfo:_?{payer:this.scope.ownerPubKey}:void 0,skipCloseAccount:!_,notUseTokenAccount:_,associatedOnly:!0,checkCreateATAOwner:d});if(m.addInstruction(k||{}),void 0===v)throw Error("base token account not found");let{account:A,instructionParams:S}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:SX,mint:new ho(e.mintB.address),owner:this.scope.ownerPubKey,createInfo:w?{payer:this.scope.ownerPubKey,amount:0}:void 0,skipCloseAccount:!w,notUseTokenAccount:w,associatedOnly:!0,checkCreateATAOwner:d});if(m.addInstruction(S||{}),void 0===A)throw Error("quote token account not found");if(g[e.mintA.address]=v,g[e.mintB.address]=A,void 0!==i&&!(null!=o&&o.isZero())){let e=RJ[i.programId],t=R2({programId:new ho(i.programId),poolId:new ho(i.id),owner:this.scope.ownerPubKey,version:e}),r,n=await this.scope.connection.getAccountInfo(t);if(n&&(r=R5(e).decode(n.data)),6!==e&&!r){let{instruction:r,instructionType:n}=R3({id:new ho(i.id),programId:new ho(i.programId),version:e,ledger:t,owner:this.scope.ownerPubKey});m.addInstruction({instructions:[r],instructionTypes:[n]})}let a=[];for(let e of i.rewardInfos){let t=e.mint.address===BM.WSOL.mint.toString();if(g[e.mint.address])a.push(g[e.mint.address]);else{let{account:r,instructionParams:n}=await this.scope.account.getOrCreateTokenAccount({mint:new ho(e.mint.address),tokenProgram:c,owner:this.scope.ownerPubKey,skipCloseAccount:!t,createInfo:{payer:u||this.scope.ownerPubKey},associatedOnly:!0,checkCreateATAOwner:d});r||this.logAndCreateError("farm reward account not found:",e.mint.address),n&&m.addInstruction(n),a.push(r)}}let s=(await this.scope.api.fetchFarmKeysById({ids:i.id}))[0],p={userAuxiliaryLedgers:l,amount:o,owner:this.scope.ownerPubKey,farmInfo:i,farmKeys:s,lpAccount:y,rewardAccounts:a},f=RJ[i.programId],h=6===f?Me(p):5===f?Mt(p):Mr(p),b={3:BX.FarmV3Withdraw,5:BX.FarmV5Withdraw,6:BX.FarmV6Withdraw};m.addInstruction({instructions:[h],instructionTypes:[b[f]]})}let I=await this.getAmmPoolKeys(e.id),E=LA({poolInfo:e,poolKeys:I,userKeys:{lpTokenAccount:y,baseTokenAccount:v,quoteTokenAccount:A,owner:this.scope.ownerPubKey},lpAmount:b,baseAmountMin:0,quoteAmountMin:0});m.addInstruction({instructions:[E],instructionTypes:[e.pooltype.includes("StablePool")?BX.AmmV5RemoveLiquidity:BX.AmmV4RemoveLiquidity],lookupTableAddress:I.lookupTableAccount?[I.lookupTableAccount]:[]});let[T,x]=e.mintA.address===t.mintA.address?[v,A]:[A,v],P=await this.scope.clmm.getClmmPoolKeys(t.id),O=await Ll.openPositionFromBaseInstructions(xq(xF({poolInfo:t,poolKeys:P,ownerInfo:{feePayer:this.scope.ownerPubKey,wallet:this.scope.ownerPubKey,tokenAccountA:T,tokenAccountB:x},withMetadata:"create"},n),{base:a,getEphemeralSigners:p}));return m.addInstruction({instructions:[...O.instructions],signers:O.signers,instructionTypes:[...O.instructionTypes],lookupTableAddress:P.lookupTableAccount?[P.lookupTableAccount]:[]}),0===f?m.sizeCheckBuildV0({computeBudgetConfig:s}):m.sizeCheckBuild({computeBudgetConfig:s})}async createPoolV4({programId:e,marketInfo:t,baseMintInfo:r,quoteMintInfo:n,baseAmount:i,quoteAmount:o,startTime:a,ownerInfo:s,associatedOnly:u=!1,checkCreateATAOwner:l=!1,tokenProgram:c,txVersion:d,feeDestinationId:p,computeBudgetConfig:f,txTipConfig:h,feePayer:m}){var g;let y=s.feePayer||(null==(g=this.scope.owner)?void 0:g.publicKey),b=s.useSOLBalance&&r.mint.equals(SY),_=s.useSOLBalance&&n.mint.equals(SY),w=this.createTxBuilder(m),{account:v,instructionParams:k}=await this.scope.account.getOrCreateTokenAccount({mint:r.mint,owner:this.scope.ownerPubKey,createInfo:b?{payer:y,amount:i}:void 0,notUseTokenAccount:b,skipCloseAccount:!b,associatedOnly:!b&&u,checkCreateATAOwner:l});w.addInstruction(k||{});let{account:A,instructionParams:S}=await this.scope.account.getOrCreateTokenAccount({mint:n.mint,owner:this.scope.ownerPubKey,createInfo:_?{payer:y,amount:o}:void 0,notUseTokenAccount:_,skipCloseAccount:!_,associatedOnly:!_&&u,checkCreateATAOwner:l});if(w.addInstruction(S||{}),void 0===v||void 0===A)throw Error("you don't has some token account");let I=LD({version:4,marketVersion:3,marketId:t.marketId,baseMint:r.mint,quoteMint:n.mint,baseDecimals:r.decimals,quoteDecimals:n.decimals,programId:e,marketProgramId:t.programId}),E={programId:e,ammId:I.id,ammAuthority:I.authority,ammOpenOrders:I.openOrders,lpMint:I.lpMint,coinMint:I.baseMint,pcMint:I.quoteMint,coinVault:I.baseVault,pcVault:I.quoteVault,withdrawQueue:I.withdrawQueue,ammTargetOrders:I.targetOrders,poolTempLp:I.lpVault,marketProgramId:I.marketProgramId,marketId:I.marketId,ammConfigId:I.configId,feeDestinationId:p},{instruction:T,instructionType:x}=LS(xq(xF({},E),{userWallet:this.scope.ownerPubKey,userCoinVault:v,userPcVault:A,userLpVault:B3(this.scope.ownerPubKey,I.lpMint,c).publicKey,nonce:I.nonce,openTime:a,coinAmount:i,pcAmount:o}));return w.addInstruction({instructions:[T],instructionTypes:[x]}),w.addCustomComputeBudget(f),w.addTipInstruction(h),w.versionBuild({txVersion:d,extInfo:{address:E}})}async createMarketAndPoolV4({programId:e=Ci,marketProgram:t=Cr,feeDestinationId:r=Cc,tokenProgram:n,baseMintInfo:i,quoteMintInfo:o,baseAmount:a,quoteAmount:s,startTime:u,ownerInfo:l,lowestFeeMarket:c,assignSeed:d,associatedOnly:p=!1,checkCreateATAOwner:f=!1,lotSize:h=1,tickSize:m=.01,txVersion:g,computeBudgetConfig:y,txTipConfig:b,feePayer:_}){var w,v,k;let A=this.scope.ownerPubKey,S=l.feePayer||(null==(w=this.scope.owner)?void 0:w.publicKey),I=l.useSOLBalance&&i.mint.equals(SY),E=l.useSOLBalance&&o.mint.equals(SY),T=d?`${i.mint.toBase58().slice(0,7)}-${o.mint.toBase58().slice(0,7)}-${d}`:void 0,x=RS({fromPublicKey:A,programId:t,assignSeed:T&&`${T}-market`}),P=RS({fromPublicKey:A,programId:t,assignSeed:T&&`${T}-request`}),O=RS({fromPublicKey:A,programId:t,assignSeed:T&&`${T}-event`}),B=RS({fromPublicKey:A,programId:t,assignSeed:T&&`${T}-bids`}),C=RS({fromPublicKey:A,programId:t,assignSeed:T&&`${T}-asks`}),R=RS({fromPublicKey:A,programId:SX,assignSeed:T&&`${T}-baseVault`}),M=RS({fromPublicKey:A,programId:SX,assignSeed:T&&`${T}-quoteVault`}),L=new(ed(d0))(100),{vaultOwner:N,vaultSignerNonce:D}=function(){let e=new(ed(d0))(0);for(;;)try{return{vaultOwner:ho.createProgramAddressSync([x.publicKey.toBuffer(),e.toArrayLike(xO,"le",8)],t),vaultSignerNonce:e}}catch{if(e.iaddn(1),e.gt(new(ed(d0))(25555)))throw Error("find vault owner error")}}(),F=new(ed(d0))(Math.round(10**i.decimals*h)),q=new(ed(d0))(Math.round(h*10**o.decimals*m));if(F.eq(Bj))throw Error("lot size is too small");if(q.eq(Bj))throw Error("tick size or lot size is too small");let U=await Lj({connection:this.scope.connection,wallet:this.scope.ownerPubKey,marketInfo:{programId:t,vaultOwner:N,baseMint:i.mint,quoteMint:o.mint,id:x,baseVault:R,quoteVault:M,requestQueue:P,eventQueue:O,bids:B,asks:C,feeRateBps:0,quoteDustThreshold:L,vaultSignerNonce:D,baseLotSize:F,quoteLotSize:q,lowestFeeMarket:c}}),j=this.createTxBuilder(_);for await(let e of(j.addInstruction({instructions:U[0].transaction.instructions,signers:U[0].signer}),U.slice(1,U.length)))j.addInstruction({instructions:e.transaction.instructions,signers:e.signer,instructionTypes:e.instructionTypes});let{account:W,instructionParams:K}=await this.scope.account.getOrCreateTokenAccount({mint:i.mint,owner:this.scope.ownerPubKey,createInfo:I?{payer:S,amount:a}:void 0,notUseTokenAccount:I,skipCloseAccount:!I,associatedOnly:!I&&p,checkCreateATAOwner:f,assignSeed:I&&T?`${T}-wsol`:void 0});j.addInstruction(K||{});let{account:z,instructionParams:V}=await this.scope.account.getOrCreateTokenAccount({mint:o.mint,owner:this.scope.ownerPubKey,createInfo:E?{payer:S,amount:s}:void 0,notUseTokenAccount:E,skipCloseAccount:!E,associatedOnly:!E&&p,checkCreateATAOwner:f,assignSeed:E&&T?`${T}-wsol`:void 0});if(j.addInstruction(V||{}),void 0===W)throw Error("you don't has base token account");if(void 0===z)throw Error("you don't has quote token account");let H=LD({version:4,marketVersion:3,marketId:x.publicKey,baseMint:i.mint,quoteMint:o.mint,baseDecimals:i.decimals,quoteDecimals:o.decimals,programId:e,marketProgramId:t}),G={programId:e,ammId:H.id,ammAuthority:H.authority,ammOpenOrders:H.openOrders,lpMint:H.lpMint,coinMint:H.baseMint,pcMint:H.quoteMint,coinVault:H.baseVault,pcVault:H.quoteVault,withdrawQueue:H.withdrawQueue,ammTargetOrders:H.targetOrders,poolTempLp:H.lpVault,marketProgramId:H.marketProgramId,marketId:H.marketId,ammConfigId:H.configId,feeDestinationId:r},{instruction:$,instructionType:X}=LS(xq(xF({},G),{userWallet:this.scope.ownerPubKey,userCoinVault:W,userPcVault:z,userLpVault:B3(this.scope.ownerPubKey,H.lpMint,n).publicKey,nonce:H.nonce,openTime:u,coinAmount:a,pcAmount:s}));j.addInstruction({instructions:[$],instructionTypes:[X]});let Z=I||E?[(null==(v=null==K?void 0:K.instructions)?void 0:v[0])||(null==(k=null==V?void 0:V.instructions)?void 0:k[0])].filter(e=>!!e):void 0;return 0===g?j.sizeCheckBuildV0({computeBudgetConfig:y,splitIns:Z,address:xF({requestQueue:P.publicKey,eventQueue:O.publicKey,bids:B.publicKey,asks:C.publicKey,baseVault:R.publicKey,quoteVault:M.publicKey,baseMint:new ho(i.mint),quoteMint:new ho(o.mint)},G)}):j.sizeCheckBuild({computeBudgetConfig:y,splitIns:Z,address:xF({requestQueue:P.publicKey,eventQueue:O.publicKey,bids:B.publicKey,asks:C.publicKey,baseVault:R.publicKey,quoteVault:M.publicKey,baseMint:new ho(i.mint),quoteMint:new ho(o.mint)},G)})}async getCreatePoolFee({programId:e}){let t=LM({programId:e}),r=await this.scope.connection.getAccountInfo(t,{dataSlice:{offset:536,length:8}});if(null===r)throw Error("get config account error");return Lv.decode(r.data).fee}computeAmountOut({poolInfo:e,amountIn:t,mintIn:r,mintOut:n,slippage:i}){let[o,a]=[r.toString(),n.toString()];if(o!==e.mintA.address&&o!==e.mintB.address||a!==e.mintA.address&&a!==e.mintB.address)throw Error("toke not match");let{baseReserve:s,quoteReserve:u}=e,l=[s,u],c=[e.mintA.decimals,e.mintB.decimals],d=o==e.mintA.address?"base":"quote";"quote"===d&&(l.reverse(),c.reverse());let[p,f]=l,[h,m]=c,g=4===e.version,y;if(g)y=new Ba(f.toString()).div(10**m).div(new Ba(p.toString()).div(10**h));else{var b,_;let e,t;let r=(b=this.stableLayout.stableModelData,_=s.toNumber(),t=((e=LB(b,LP(b,_,Lx(b,_,u.toNumber())),0,!1))[3]?e[0]:0)/b.multiplier,1/t);y="quote"===d?new Ba(1e6).div(1e6*r):new Ba(1e6*r).div(1e6)}let w=new(ed(d0))(0),v=new(ed(d0))(0);if(!t.isZero()){if(g){v=CS(t.mul(Lh),Lm);let e=t.sub(v),r=p.add(e);w=f.mul(e).div(r)}else{v=t.mul(new(ed(d0))(2)).div(new(ed(d0))(1e4));let e=t.sub(v);w=new(ed(d0))("quote"===d?function(e,t,r,n){let i=Lx(e,t,r),o=LP(e,t,i),a=LP(e,r,i),s=LP(e,n,i),[u,l,c,d]=LB(e,o,s,!0);return d?c?n*e.multiplier/u:LO(e,a-l,i):0}(this.stableLayout.stableModelData,u.toNumber(),s.toNumber(),e.toNumber()):function(e,t,r,n){let i=Lx(e,t,r),o=LP(e,t,i),a=LP(e,r,i),s=LP(e,n,i),[u,l,c,d]=function(e,t,r,n){let i=n?t-r:t+r,[o,a,s]=function(e,t){let[r,n]=[0,49998],i=r,o=n,a=0;for(;i<=o&&!((a=Math.floor((o+i)/2))<=0)&&!(a>=49998);){let r=e.DataElement[a].y,n=e.DataElement[a-1].y,s=e.DataElement[a+1].y;if(t===r)return[a,a,!0];if(t===n)return[a-1,a-1,!0];if(t===s)return[a+1,a+1,!0];if(t<s)i=a+1;else{if(t<n&&t>r)return[a-1,a,!0];if(t<r&&t>s)return[a,a+1,!0];o=a-1}}return[a,a,!1]}(e,i);if(!s)return[0,0,!1,s];if(o===a)return[e.DataElement[a].price,e.DataElement[a].x,!1,s];{let r=e.DataElement[o].x,u=e.DataElement[a].x,l=e.DataElement[o].price,c=e.DataElement[a].price,d=e.DataElement[o].y,p=e.DataElement[a].y;if(t>=p&&t<=d)return n?[c,u,!0,s]:[l,r,!0,s];{let o,a;return n?(o=l+(c-l)*(d-t)/(d-p),a=r+c*(d-i)/e.multiplier):(o=l+(c-l)*(d-t)/(d-p),a=u-l*(i-p)/e.multiplier),[o,a,!1,s]}}}(e,a,s,!1);return d?c?n*u/e.multiplier:LO(e,o-l,i):0}(this.stableLayout.stableModelData,u.toNumber(),s.toNumber(),e.toNumber()))}}let k=new(ed(d0))(new Ba(w.toString()).mul(1-i).toFixed(0)),A=w,S=new Ba(w.toString()).div(new Ba(t.sub(v).toString()).toFixed(0));t.isZero()||w.isZero()||(S=new Ba(w.toString()).div(10**m).div(new Ba(t.sub(v).toString()).div(10**h)));let I=y.sub(S).div(y).mul(100);return{amountOut:A,minAmountOut:k,currentPrice:y,executionPrice:S,priceImpact:I,fee:v}}computeAmountIn({poolInfo:e,amountOut:t,mintIn:r,mintOut:n,slippage:i}){let{baseReserve:o,quoteReserve:a}=e;r.toString()!==e.mintA.address&&r.toString()!==e.mintB.address&&this.logAndCreateError("mintIn does not match pool"),n.toString()!==e.mintA.address&&n.toString()!==e.mintB.address&&this.logAndCreateError("mintOut does not match pool"),this.logDebug("baseReserve:",o.toString()),this.logDebug("quoteReserve:",a.toString());let s=r.toString()===e.mintA.address,[u,l]=s?[e.mintA,e.mintB]:[e.mintB,e.mintA];this.logDebug("currencyOut:",l.symbol||l.address),this.logDebug("amountOut:",new Ba(t.toString()).div(10**l.decimals).toDecimalPlaces(l.decimals).toString(),u.symbol||u.address),this.logDebug("slippage:",`${100*i}%`);let c=[o,a],d=s?"quote":"base";"base"===d&&c.reverse(),this.logDebug("output side:",d);let[p,f]=c,h=new Ba(f.toString()).div(10**e[s?"mintB":"mintA"].decimals).div(new Ba(p.toString()).div(10**e[s?"mintA":"mintB"].decimals));this.logDebug("currentPrice:",`1 ${u.symbol||u.address} \u2248 ${h.toString()} ${l.symbol||l.address}`),this.logDebug("currentPrice invert:",`1 ${l.symbol||l.address} \u2248 ${new Ba(1).div(h).toString()} ${u.symbol||u.address}`);let m=new(ed(d0))(0),g=t;if(!g.isZero()){g.gt(f)&&(g=f.sub(new(ed(d0))(1)));let e=f.sub(g);m=p.mul(g).div(e).mul(Lm).div(Lm.sub(Lh))}let y=new(ed(d0))(new Ba(m.toString()).mul(1+i).toFixed(0)),b=m;this.logDebug("amountIn:",new Ba(b.toString()).div(10**u.decimals).toDecimalPlaces(u.decimals).toString()),this.logDebug("maxAmountIn:",new Ba(y.toString()).div(10**u.decimals).toDecimalPlaces(u.decimals).toString());let _=null;m.isZero()||g.isZero()||(_=new Ba(g.toString()).div(10**l.decimals).div(new Ba(m.toString()).div(10**u.decimals)),this.logDebug("executionPrice:",`1 ${l.symbol||l.address} \u2248 ${_.toDecimalPlaces(Math.max(e.mintA.decimals,e.mintB.decimals)).toString()} ${u.symbol||u.address}`),this.logDebug("executionPrice invert:",`1 ${l.symbol||l.address} \u2248 ${new Ba(1).div(_).toDecimalPlaces(Math.max(e.mintA.decimals,e.mintB.decimals)).toString()} ${u.symbol||u.address}`));let w=h.mul(b.toString()),v=w.sub(t.toString()).abs().div(w);return this.logDebug("priceImpact:",`${v.toString()}%`),{amountIn:b,maxAmountIn:y,currentPrice:h,executionPrice:_,priceImpact:v}}async swap({poolInfo:e,poolKeys:t,amountIn:r,amountOut:n,inputMint:i,fixedSide:o,txVersion:a,config:s,computeBudgetConfig:u,txTipConfig:l,feePayer:c}){let d=this.createTxBuilder(c),{associatedOnly:p=!0,inputUseSolBalance:f=!0,outputUseSolBalance:h=!0}=s||{},[m,g]=i===e.mintA.address?[e.mintA,e.mintB]:[e.mintB,e.mintA],y=f&&m.address===BB.toBase58(),b=h&&g.address===BB.toBase58(),{account:_,instructionParams:w}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:SX,mint:new ho(m.address),owner:this.scope.ownerPubKey,createInfo:y?{payer:this.scope.ownerPubKey,amount:r}:void 0,skipCloseAccount:!y,notUseTokenAccount:y,associatedOnly:p});d.addInstruction(w||{}),_||this.logAndCreateError("input token account not found",{token:m.symbol||m.address,tokenAccountIn:_,inputTokenUseSolBalance:y,associatedOnly:p});let{account:v,instructionParams:k}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:SX,mint:new ho(g.address),owner:this.scope.ownerPubKey,createInfo:{payer:this.scope.ownerPubKey,amount:0},skipCloseAccount:!b,notUseTokenAccount:b,associatedOnly:!b&&p});d.addInstruction(k||{}),void 0===v&&this.logAndCreateError("output token account not found",{token:g.symbol||g.address,tokenAccountOut:v,outputTokenUseSolBalance:b,associatedOnly:p});let A=t||await this.getAmmPoolKeys(e.id),S=4;return e.pooltype.includes("StablePool")&&(S=5),d.addInstruction({instructions:[LI({version:S,poolKeys:A,userKeys:{tokenAccountIn:_,tokenAccountOut:v,owner:this.scope.ownerPubKey},amountIn:r,amountOut:n,fixedSide:o})],instructionTypes:[4===S?BX.AmmV4SwapBaseIn:BX.AmmV5SwapBaseIn]}),d.addCustomComputeBudget(u),d.addTipInstruction(l),d.versionBuild({txVersion:a})}async getRpcPoolInfo(e){return(await this.getRpcPoolInfos([e]))[e]}async getRpcPoolInfos(e,t){let r=await x$(this.scope.connection,e.map(e=>({pubkey:new ho(e)})),t),n={},i=[];for(let t=0;t<e.length;t++){let o=r[t];if(null===o||!o.accountInfo)throw Error("fetch pool info error: "+String(e[t]));let a=Lb.decode(o.accountInfo.data);n[String(e[t])]=xq(xF({},a),{programId:o.accountInfo.owner}),i.push(a.baseVault,a.quoteVault)}let o={},a=await x$(this.scope.connection,i.map(e=>({pubkey:new ho(e)})),t);for(let e=0;e<i.length;e++){let t=a[e].accountInfo;if(null===t)throw Error("fetch vault info error: "+i[e]);o[String(i[e])]=new(ed(d0))(Il.decode(t.data).amount.toString())}let s={};for(let[e,t]of Object.entries(n)){let r=o[t.baseVault.toString()].sub(t.baseNeedTakePnl),n=o[t.quoteVault.toString()].sub(t.quoteNeedTakePnl);s[e]=xq(xF({},t),{baseReserve:r,mintAAmount:o[t.baseVault.toString()],mintBAmount:o[t.quoteVault.toString()],quoteReserve:n,poolPrice:new Ba(n.toString()).div(new Ba(10).pow(t.quoteDecimal.toString())).div(new Ba(r.toString()).div(new Ba(10).pow(t.baseDecimal.toString())))})}return s}async getPoolInfoFromRpc({poolId:e}){let t=await this.getRpcPoolInfo(e),r=Lq({[e]:t}),n=r[e],i=await this.scope.tradeV2.computePoolToPoolKeys({pools:[r[e]],ammRpcData:{[e]:t}});return{poolRpcData:t,poolInfo:n,poolKeys:i[0]}}},Lz=class extends Cz{constructor(e){super(e)}async getClmmPoolKeys(e){return(await this.scope.api.fetchPoolKeysById({idList:[e]}))[0]}async createPool(e){var t;let{programId:r,owner:n=(null==(t=this.scope.owner)?void 0:t.publicKey)||ho.default,mint1:i,mint2:o,ammConfig:a,initialPrice:s,computeBudgetConfig:u,forerunCreate:l,getObserveState:c,txVersion:d,txTipConfig:p,feePayer:f}=e,h=this.createTxBuilder(f),[m,g,y]=new(ed(d0))(new ho(i.address).toBuffer()).gt(new(ed(d0))(new ho(o.address).toBuffer()))?[o,i,new Ba(1).div(s)]:[i,o,s],b=MZ.priceToSqrtPriceX64(y,m.decimals,g.decimals),_=[],w=[];m.programId===SZ.toBase58()&&w.push(MU(r,new ho(m.address)).publicKey),g.programId===SZ.toBase58()&&w.push(MU(r,new ho(g.address)).publicKey),(await this.scope.connection.getMultipleAccountsInfo(w)).forEach((e,t)=>{e&&_.push(w[t])});let v=await Ll.createPoolInstructions({connection:this.scope.connection,programId:r,owner:n,mintA:m,mintB:g,ammConfigId:a.id,initialPriceX64:b,forerunCreate:!c&&l,extendMintAccount:_});return h.addInstruction(v),h.addCustomComputeBudget(u),h.addTipInstruction(p),h.versionBuild({txVersion:d,extInfo:{address:xq(xF({},v.address),{observationId:v.address.observationId.toBase58(),exBitmapAccount:v.address.exBitmapAccount.toBase58(),programId:r.toString(),id:v.address.poolId.toString(),mintA:m,mintB:g,openTime:"0",vault:{A:v.address.mintAVault.toString(),B:v.address.mintBVault.toString()},rewardInfos:[],config:{id:a.id.toString(),index:a.index,protocolFeeRate:a.protocolFeeRate,tradeFeeRate:a.tradeFeeRate,tickSpacing:a.tickSpacing,fundFeeRate:a.fundFeeRate,description:a.description,defaultRange:0,defaultRangePoint:[]}}),mockPoolInfo:xF({type:"Concentrated",rewardDefaultPoolInfos:"Clmm",id:v.address.poolId.toString(),mintA:m,mintB:g,feeRate:a.tradeFeeRate,openTime:"0",programId:r.toString(),price:y.toNumber(),config:{id:a.id.toString(),index:a.index,protocolFeeRate:a.protocolFeeRate,tradeFeeRate:a.tradeFeeRate,tickSpacing:a.tickSpacing,fundFeeRate:a.fundFeeRate,description:a.description,defaultRange:0,defaultRangePoint:[]},burnPercent:0},My),forerunCreate:l}})}async openPositionFromBase({poolInfo:e,poolKeys:t,ownerInfo:r,tickLower:n,tickUpper:i,base:o,baseAmount:a,otherAmountMax:s,nft2022:u,associatedOnly:l=!0,checkCreateATAOwner:c=!1,withMetadata:d="create",getEphemeralSigners:p,computeBudgetConfig:f,txTipConfig:h,txVersion:m,feePayer:g}){!1===this.scope.availability.addConcentratedPosition&&this.logAndCreateError("add position feature disabled in your region"),this.scope.checkOwner();let y=this.createTxBuilder(g),b=null,_=null,w=r.useSOLBalance&&e.mintA.address===BB.toString(),v=r.useSOLBalance&&e.mintB.address===BB.toString(),[k,A]="MintA"===o?[a,s]:[s,a],{account:S,instructionParams:I}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:e.mintA.programId,mint:new ho(e.mintA.address),owner:this.scope.ownerPubKey,createInfo:w||k.isZero()?{payer:this.scope.ownerPubKey,amount:k}:void 0,skipCloseAccount:!w,notUseTokenAccount:w,associatedOnly:!w&&l,checkCreateATAOwner:c});S&&(b=S),y.addInstruction(I||{});let{account:E,instructionParams:T}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:e.mintB.programId,mint:new ho(e.mintB.address),owner:this.scope.ownerPubKey,createInfo:v||A.isZero()?{payer:this.scope.ownerPubKey,amount:A}:void 0,skipCloseAccount:!v,notUseTokenAccount:v,associatedOnly:!v&&l,checkCreateATAOwner:c});E&&(_=E),y.addInstruction(T||{}),b&&_||this.logAndCreateError("cannot found target token accounts","tokenAccounts",{ownerTokenAccountA:null==b?void 0:b.toBase58(),ownerTokenAccountB:null==_?void 0:_.toBase58()});let x=t||await this.getClmmPoolKeys(e.id),P=await Ll.openPositionFromBaseInstructions({poolInfo:e,poolKeys:x,ownerInfo:xq(xF({},r),{feePayer:this.scope.ownerPubKey,wallet:this.scope.ownerPubKey,tokenAccountA:b,tokenAccountB:_}),tickLower:n,tickUpper:i,base:o,baseAmount:a,otherAmountMax:s,withMetadata:d,getEphemeralSigners:p,nft2022:u});return y.addInstruction(P),y.addCustomComputeBudget(f),y.addTipInstruction(h),y.versionBuild({txVersion:m,extInfo:xF({},P.address)})}async openPositionFromLiquidity({poolInfo:e,poolKeys:t,ownerInfo:r,amountMaxA:n,amountMaxB:i,tickLower:o,tickUpper:a,liquidity:s,associatedOnly:u=!0,checkCreateATAOwner:l=!1,withMetadata:c="create",txVersion:d,computeBudgetConfig:p,txTipConfig:f,getEphemeralSigners:h,nft2022:m,feePayer:g}){!1===this.scope.availability.createConcentratedPosition&&this.logAndCreateError("open position feature disabled in your region");let y=this.createTxBuilder(g),b=null,_=null,w=r.useSOLBalance&&e.mintA.address===BB.toBase58(),v=r.useSOLBalance&&e.mintB.address===BB.toBase58(),{account:k,instructionParams:A}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:e.mintA.programId,mint:new ho(e.mintA.address),owner:this.scope.ownerPubKey,createInfo:w||n.isZero()?{payer:this.scope.ownerPubKey,amount:n}:void 0,skipCloseAccount:!w,notUseTokenAccount:w,associatedOnly:!w&&u,checkCreateATAOwner:l});k&&(b=k),y.addInstruction(A||{});let{account:S,instructionParams:I}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:e.mintB.programId,mint:new ho(e.mintB.address),owner:this.scope.ownerPubKey,createInfo:v||i.isZero()?{payer:this.scope.ownerPubKey,amount:i}:void 0,skipCloseAccount:!v,notUseTokenAccount:v,associatedOnly:!v&&u,checkCreateATAOwner:l});S&&(_=S),y.addInstruction(I||{}),(void 0===b||void 0===_)&&this.logAndCreateError("cannot found target token accounts","tokenAccounts",this.scope.account.tokenAccounts);let E=t||await this.getClmmPoolKeys(e.id),T=await Ll.openPositionFromLiquidityInstructions({poolInfo:e,poolKeys:E,ownerInfo:{wallet:this.scope.ownerPubKey,tokenAccountA:b,tokenAccountB:_},tickLower:o,tickUpper:a,liquidity:s,amountMaxA:n,amountMaxB:i,withMetadata:c,getEphemeralSigners:h,nft2022:m});return y.addInstruction(T),y.addCustomComputeBudget(p),y.addTipInstruction(f),y.versionBuild({txVersion:d,extInfo:{address:T.address}})}async increasePositionFromLiquidity(e){var t;let{poolInfo:r,poolKeys:n,ownerPosition:i,amountMaxA:o,amountMaxB:a,liquidity:s,ownerInfo:u,associatedOnly:l=!0,checkCreateATAOwner:c=!1,computeBudgetConfig:d,txTipConfig:p,txVersion:f,feePayer:h}=e,m=this.createTxBuilder(h),g,y,b=u.useSOLBalance&&r.mintA.address===BB.toString(),_=u.useSOLBalance&&r.mintB.address===BB.toString(),{account:w,instructionParams:v}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:r.mintA.programId,mint:new ho(r.mintA.address),notUseTokenAccount:b,owner:this.scope.ownerPubKey,createInfo:b||o.isZero()?{payer:this.scope.ownerPubKey,amount:o}:void 0,skipCloseAccount:!b,associatedOnly:!b&&l,checkCreateATAOwner:c});w&&(g=w),m.addInstruction(v||{});let{account:k,instructionParams:A}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:r.mintB.programId,mint:new ho(r.mintB.address),owner:this.scope.ownerPubKey,createInfo:_||a.isZero()?{payer:this.scope.ownerPubKey,amount:a}:void 0,notUseTokenAccount:_,skipCloseAccount:!_,associatedOnly:!_&&l,checkCreateATAOwner:c});k&&(y=k),m.addInstruction(A||{}),g||y||this.logAndCreateError("cannot found target token accounts","tokenAccounts",this.scope.account.tokenAccounts);let S=null!=n?n:await this.getClmmPoolKeys(r.id),I=Ll.increasePositionFromLiquidityInstructions({poolInfo:r,poolKeys:S,ownerPosition:i,ownerInfo:{wallet:this.scope.ownerPubKey,tokenAccountA:g,tokenAccountB:y},liquidity:s,amountMaxA:o,amountMaxB:a,nft2022:null==(t=await this.scope.connection.getAccountInfo(i.nftMint))?void 0:t.owner.equals(SZ)});return m.addInstruction(I),m.addCustomComputeBudget(d),m.addTipInstruction(p),m.versionBuild({txVersion:f,extInfo:{address:I.address}})}async increasePositionFromBase(e){var t;let{poolInfo:r,ownerPosition:n,base:i,baseAmount:o,otherAmountMax:a,ownerInfo:s,associatedOnly:u=!0,checkCreateATAOwner:l=!1,computeBudgetConfig:c,txTipConfig:d,txVersion:p,feePayer:f}=e,h=this.createTxBuilder(f),m,g,y=s.useSOLBalance&&r.mintA.address===BB.toString(),b=s.useSOLBalance&&r.mintB.address===BB.toString(),{account:_,instructionParams:w}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:r.mintA.programId,mint:new ho(r.mintA.address),notUseTokenAccount:y,owner:this.scope.ownerPubKey,createInfo:y||("MintA"===i?o:a).isZero()?{payer:this.scope.ownerPubKey,amount:"MintA"===i?o:a}:void 0,skipCloseAccount:!y,associatedOnly:!y&&u,checkCreateATAOwner:l});_&&(m=_),h.addInstruction(w||{});let{account:v,instructionParams:k}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:r.mintB.programId,mint:new ho(r.mintB.address),owner:this.scope.ownerPubKey,createInfo:b||("MintA"===i?a:o).isZero()?{payer:this.scope.ownerPubKey,amount:"MintA"===i?a:o}:void 0,notUseTokenAccount:b,skipCloseAccount:!b,associatedOnly:!b&&u,checkCreateATAOwner:l});v&&(g=v),h.addInstruction(k||{}),m||g||this.logAndCreateError("cannot found target token accounts","tokenAccounts",this.scope.account.tokenAccounts);let A=await this.getClmmPoolKeys(r.id),S=Ll.increasePositionFromBaseInstructions({poolInfo:r,poolKeys:A,ownerPosition:n,ownerInfo:{wallet:this.scope.ownerPubKey,tokenAccountA:m,tokenAccountB:g},base:i,baseAmount:o,otherAmountMax:a,nft2022:null==(t=await this.scope.connection.getAccountInfo(n.nftMint))?void 0:t.owner.equals(SZ)});return h.addInstruction(S),h.addCustomComputeBudget(c),h.addTipInstruction(d),h.versionBuild({txVersion:p,extInfo:{address:S.address}})}async decreaseLiquidity(e){var t;let{poolInfo:r,poolKeys:n,ownerPosition:i,ownerInfo:o,amountMinA:a,amountMinB:s,liquidity:u,associatedOnly:l=!0,checkCreateATAOwner:c=!1,computeBudgetConfig:d,txTipConfig:p,txVersion:f,feePayer:h}=e;!1===this.scope.availability.removeConcentratedPosition&&this.logAndCreateError("remove position feature disabled in your region");let m=this.createTxBuilder(h),g=o.useSOLBalance&&r.mintA.address===BB.toString(),y=o.useSOLBalance&&r.mintB.address===BB.toString(),{account:b,instructionParams:_}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:r.mintA.programId,mint:new ho(r.mintA.address),notUseTokenAccount:g,owner:this.scope.ownerPubKey,createInfo:{payer:this.scope.ownerPubKey,amount:0},skipCloseAccount:!g,associatedOnly:!g&&l,checkCreateATAOwner:c});_&&m.addInstruction(_);let{account:w,instructionParams:v}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:r.mintB.programId,mint:new ho(r.mintB.address),notUseTokenAccount:y,owner:this.scope.ownerPubKey,createInfo:{payer:this.scope.ownerPubKey,amount:0},skipCloseAccount:!y,associatedOnly:!y&&l,checkCreateATAOwner:c});v&&m.addInstruction(v);let k=[];for(let e of r.rewardDefaultInfos){let t=o.useSOLBalance&&e.mint.address===BB.toString(),n;if(e.mint.address===r.mintA.address)n=b;else if(e.mint.address===r.mintB.address)n=w;else{let{account:r,instructionParams:i}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:new ho(e.mint.programId),mint:new ho(e.mint.address),notUseTokenAccount:t,owner:this.scope.ownerPubKey,createInfo:{payer:this.scope.ownerPubKey,amount:0},skipCloseAccount:!t,associatedOnly:!t&&l,checkCreateATAOwner:c});n=r,i&&m.addInstruction(i)}k.push(n)}b||w||this.logAndCreateError("cannot found target token accounts","tokenAccounts",this.scope.account.tokenAccountRawInfos);let A=null!=n?n:await this.getClmmPoolKeys(r.id),S=null==(t=await this.scope.connection.getAccountInfo(i.nftMint))?void 0:t.owner.equals(SZ),I=await Ll.decreaseLiquidityInstructions({poolInfo:r,poolKeys:A,ownerPosition:i,ownerInfo:{wallet:this.scope.ownerPubKey,tokenAccountA:b,tokenAccountB:w,rewardAccounts:k},liquidity:u,amountMinA:a,amountMinB:s,nft2022:S});m.addInstruction({instructions:I.instructions,instructionTypes:[BX.ClmmDecreasePosition]});let E=xF({},I.address);if(o.closePosition){let e=await Ll.closePositionInstructions({poolInfo:r,poolKeys:A,ownerInfo:{wallet:this.scope.ownerPubKey},ownerPosition:i,nft2022:S});m.addInstruction({endInstructions:e.instructions,endInstructionTypes:e.instructionTypes}),E=xF(xF({},E),e.address)}return m.addCustomComputeBudget(d),m.addTipInstruction(p),m.versionBuild({txVersion:f,extInfo:{address:E}})}async lockPosition(e){var t;let{programId:r=Cs,authProgramId:n=Cu,poolProgramId:i=Ca,ownerPosition:o,payer:a,computeBudgetConfig:s,txTipConfig:u,txVersion:l,getEphemeralSigners:c,feePayer:d}=e,p=this.createTxBuilder(d),f=await Ll.makeLockPositions({programId:r,authProgramId:n,poolProgramId:i,wallet:this.scope.ownerPubKey,payer:null!=a?a:this.scope.ownerPubKey,nftMint:o.nftMint,getEphemeralSigners:c,nft2022:null==(t=await this.scope.connection.getAccountInfo(o.nftMint))?void 0:t.owner.equals(SZ)});return p.addInstruction(f),p.addCustomComputeBudget(s),p.addTipInstruction(u),p.versionBuild({txVersion:l,extInfo:f.address})}async harvestLockPosition(e){let{programId:t=Cs,authProgramId:r=Cu,clmmProgram:n=Ca,poolKeys:i,lockData:o,ownerInfo:a={useSOLBalance:!0},associatedOnly:s=!0,checkCreateATAOwner:u=!1,computeBudgetConfig:l,txTipConfig:c,txVersion:d,feePayer:p}=e,f=i||await this.getClmmPoolKeys(o.poolId.toString()),h=this.createTxBuilder(p),m=await this.scope.connection.getAccountInfo(o.positionId);m||this.logger.logWithError("position not found",o.positionId);let g=M7.decode(m.data),y=a.useSOLBalance&&f.mintA.address===BB.toString(),b=a.useSOLBalance&&f.mintB.address===BB.toString(),{account:_,instructionParams:w}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:f.mintA.programId,mint:new ho(f.mintA.address),notUseTokenAccount:y,owner:this.scope.ownerPubKey,createInfo:{payer:this.scope.ownerPubKey,amount:0},skipCloseAccount:!y,associatedOnly:!y&&s,checkCreateATAOwner:u});w&&h.addInstruction(w);let{account:v,instructionParams:k}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:f.mintB.programId,mint:new ho(f.mintB.address),notUseTokenAccount:b,owner:this.scope.ownerPubKey,createInfo:{payer:this.scope.ownerPubKey,amount:0},skipCloseAccount:!b,associatedOnly:!b&&s,checkCreateATAOwner:u});k&&h.addInstruction(k);let A={},S=[];for(let e of f.rewardInfos){let t=a.useSOLBalance&&e.mint.address===BB.toString(),r=A[e.mint.address];if(!r){let{account:n,instructionParams:i}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:new ho(e.mint.programId),mint:new ho(e.mint.address),notUseTokenAccount:t,owner:this.scope.ownerPubKey,skipCloseAccount:!t,createInfo:{payer:this.scope.ownerPubKey,amount:0},associatedOnly:!t&&s});r=n,i&&h.addInstruction(i)}A[e.mint.address]=r,S.push(r)}let I=MF(t,o.lockNftMint).publicKey,E=B3(this.scope.ownerPubKey,o.lockNftMint,SX).publicKey,T=M2.getTickArrayStartIndexByTick(g.tickLower,f.config.tickSpacing),x=M2.getTickArrayStartIndexByTick(g.tickUpper,f.config.tickSpacing),{publicKey:P}=MB(new ho(f.programId),o.poolId,T),{publicKey:O}=MB(new ho(f.programId),o.poolId,x),{publicKey:B}=MC(new ho(f.programId),o.poolId,g.tickLower,g.tickUpper),C=[];for(let e=0;e<f.rewardInfos.length;e++)C.push({poolRewardVault:new ho(f.rewardInfos[e].vault),ownerRewardVault:S[e],rewardMint:new ho(f.rewardInfos[e].mint.address)});let R=await Ll.harvestLockPositionInstructionV2({programId:t,auth:r,lockPositionId:I,clmmProgram:n,lockOwner:this.scope.ownerPubKey,lockNftMint:o.lockNftMint,lockNftAccount:E,positionNftAccount:o.nftAccount,positionId:o.positionId,poolId:o.poolId,protocolPosition:B,vaultA:new ho(f.vault.A),vaultB:new ho(f.vault.B),tickArrayLower:P,tickArrayUpper:O,userVaultA:_,userVaultB:v,mintA:new ho(f.mintA.address),mintB:new ho(f.mintB.address),rewardAccounts:C,exTickArrayBitmap:ML(n,o.poolId).publicKey});return h.addInstruction({instructions:[R],instructionTypes:[BX.ClmmHarvestLockPosition]}),h.addCustomComputeBudget(l),h.addTipInstruction(c),h.versionBuild({txVersion:d})}async closePosition({poolInfo:e,poolKeys:t,ownerPosition:r,txVersion:n,computeBudgetConfig:i,txTipConfig:o,feePayer:a}){var s;!1===this.scope.availability.removeConcentratedPosition&&this.logAndCreateError("remove position feature disabled in your region");let u=this.createTxBuilder(a),l=null!=t?t:await this.getClmmPoolKeys(e.id),c=Ll.closePositionInstructions({poolInfo:e,poolKeys:l,ownerInfo:{wallet:this.scope.ownerPubKey},ownerPosition:r,nft2022:null==(s=await this.scope.connection.getAccountInfo(r.nftMint))?void 0:s.owner.equals(SZ)});return u.addCustomComputeBudget(i),u.addTipInstruction(o),u.addInstruction(c).versionBuild({txVersion:n,extInfo:{address:c.address}})}async initReward({poolInfo:e,ownerInfo:t,rewardInfo:r,associatedOnly:n=!0,checkCreateATAOwner:i=!1,computeBudgetConfig:o,txVersion:a,feePayer:s}){r.endTime<=r.openTime&&this.logAndCreateError("reward time error","rewardInfo",r);let u=this.createTxBuilder(s),l=t.useSOLBalance&&r.mint.address.toString()===BB.toString(),c=r.perSecond.mul(r.endTime-r.openTime),{account:d,instructionParams:p}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:new ho(r.mint.address),mint:new ho(r.mint.address),notUseTokenAccount:!!l,skipCloseAccount:!l,owner:this.scope.ownerPubKey,createInfo:l?{payer:t.feePayer||this.scope.ownerPubKey,amount:new(ed(d0))(new Ba(c.toFixed(0)).gte(c)?c.toFixed(0):c.add(1).toFixed(0))}:void 0,associatedOnly:!l&&n,checkCreateATAOwner:i});p&&u.addInstruction(p),d||this.logAndCreateError("no money","ownerRewardAccount",this.scope.account.tokenAccountRawInfos);let f=await this.getClmmPoolKeys(e.id),h=Ll.initRewardInstructions({poolInfo:e,poolKeys:f,ownerInfo:{wallet:this.scope.ownerPubKey,tokenAccount:d},rewardInfo:{programId:new ho(r.mint.programId),mint:new ho(r.mint.address),openTime:r.openTime,endTime:r.endTime,emissionsPerSecondX64:MG.decimalToX64(r.perSecond)}});return u.addInstruction(h),u.addCustomComputeBudget(o),u.versionBuild({txVersion:a,extInfo:{address:h.address}})}async initRewards({poolInfo:e,poolKeys:t,ownerInfo:r,rewardInfos:n,associatedOnly:i=!0,checkCreateATAOwner:o=!1,computeBudgetConfig:a,txTipConfig:s,txVersion:u,feePayer:l}){for(let e of n)e.endTime<=e.openTime&&this.logAndCreateError("reward time error","rewardInfo",e);let c=this.createTxBuilder(l),d={};for(let a of n){let n=r.useSOLBalance&&a.mint.address===BB.toString(),s=a.perSecond.mul(a.endTime-a.openTime),{account:u,instructionParams:l}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:new ho(a.mint.programId),mint:new ho(a.mint.address),notUseTokenAccount:!!n,skipCloseAccount:!n,owner:this.scope.ownerPubKey,createInfo:n?{payer:r.feePayer||this.scope.ownerPubKey,amount:new(ed(d0))(new Ba(s.toFixed(0)).gte(s)?s.toFixed(0):s.add(1).toFixed(0))}:void 0,associatedOnly:!n&&i,checkCreateATAOwner:o});l&&c.addInstruction(l),u||this.logAndCreateError("no money","ownerRewardAccount",this.scope.account.tokenAccountRawInfos);let p=null!=t?t:await this.getClmmPoolKeys(e.id),f=Ll.initRewardInstructions({poolInfo:e,poolKeys:p,ownerInfo:{wallet:this.scope.ownerPubKey,tokenAccount:u},rewardInfo:{programId:new ho(a.mint.programId),mint:new ho(a.mint.address),openTime:a.openTime,endTime:a.endTime,emissionsPerSecondX64:MG.decimalToX64(a.perSecond)}});d=xF(xF({},d),f.address),c.addInstruction(f)}return c.addCustomComputeBudget(a),c.addTipInstruction(s),c.versionBuild({txVersion:u,extInfo:{address:d}})}async setReward({poolInfo:e,ownerInfo:t,rewardInfo:r,associatedOnly:n=!0,checkCreateATAOwner:i=!1,computeBudgetConfig:o,txTipConfig:a,txVersion:s,feePayer:u}){r.endTime<=r.openTime&&this.logAndCreateError("reward time error","rewardInfo",r);let l=this.createTxBuilder(u),c=t.useSOLBalance&&r.mint.equals(BB),{account:d,instructionParams:p}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:r.programId,mint:r.mint,notUseTokenAccount:c,owner:this.scope.ownerPubKey,createInfo:c?{payer:t.feePayer||this.scope.ownerPubKey,amount:new(ed(d0))(new Ba(r.perSecond.mul(r.endTime-r.openTime).toFixed(0)).gte(r.perSecond.mul(r.endTime-r.openTime))?r.perSecond.mul(r.endTime-r.openTime).toFixed(0):r.perSecond.mul(r.endTime-r.openTime).add(1).toFixed(0))}:void 0,associatedOnly:!c&&n,checkCreateATAOwner:i});p&&l.addInstruction(p),d||this.logAndCreateError("no money","ownerRewardAccount",this.scope.account.tokenAccountRawInfos);let f=await this.getClmmPoolKeys(e.id),h=Ll.setRewardInstructions({poolInfo:e,poolKeys:f,ownerInfo:{wallet:this.scope.ownerPubKey,tokenAccount:d},rewardInfo:{mint:r.mint,openTime:r.openTime,endTime:r.endTime,emissionsPerSecondX64:MG.decimalToX64(r.perSecond)}});return l.addInstruction(h),l.addCustomComputeBudget(o),l.addTipInstruction(a),l.versionBuild({txVersion:s,extInfo:{address:h.address}})}async setRewards({poolInfo:e,poolKeys:t,ownerInfo:r,rewardInfos:n,associatedOnly:i=!0,checkCreateATAOwner:o=!1,computeBudgetConfig:a,txTipConfig:s,txVersion:u,feePayer:l}){let c=this.createTxBuilder(l),d={};for(let a of n){a.endTime<=a.openTime&&this.logAndCreateError("reward time error","rewardInfo",a);let n=r.useSOLBalance&&a.mint.address===BB.toString(),{account:s,instructionParams:u}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:new ho(a.mint.programId),mint:new ho(a.mint.address),notUseTokenAccount:n,owner:this.scope.ownerPubKey,createInfo:n?{payer:r.feePayer||this.scope.ownerPubKey,amount:new(ed(d0))(new Ba(a.perSecond.mul(a.endTime-a.openTime).toFixed(0)).gte(a.perSecond.mul(a.endTime-a.openTime))?a.perSecond.mul(a.endTime-a.openTime).toFixed(0):a.perSecond.mul(a.endTime-a.openTime).add(1).toFixed(0))}:void 0,associatedOnly:!n&&i,checkCreateATAOwner:o});u&&c.addInstruction(u),s||this.logAndCreateError("no money","ownerRewardAccount",this.scope.account.tokenAccountRawInfos);let l=null!=t?t:await this.getClmmPoolKeys(e.id),p=Ll.setRewardInstructions({poolInfo:e,poolKeys:l,ownerInfo:{wallet:this.scope.ownerPubKey,tokenAccount:s},rewardInfo:{mint:new ho(a.mint.address),openTime:a.openTime,endTime:a.endTime,emissionsPerSecondX64:MG.decimalToX64(a.perSecond)}});c.addInstruction(p),d=xF(xF({},d),p.address)}return c.addCustomComputeBudget(a),c.addTipInstruction(s),c.versionBuild({txVersion:u,extInfo:{address:d}})}async collectReward({poolInfo:e,ownerInfo:t,rewardMint:r,associatedOnly:n=!0,checkCreateATAOwner:i=!1,computeBudgetConfig:o,txTipConfig:a,txVersion:s,feePayer:u}){let l=e.rewardDefaultInfos.find(e=>e.mint.address===r.toString());l||this.logAndCreateError("reward mint error","not found reward mint",r);let c=this.createTxBuilder(u),d=t.useSOLBalance&&r.equals(BB),{account:p,instructionParams:f}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:new ho(l.mint.programId),mint:r,notUseTokenAccount:d,owner:this.scope.ownerPubKey,skipCloseAccount:!d,createInfo:{payer:t.feePayer||this.scope.ownerPubKey,amount:0},associatedOnly:!d&&n,checkCreateATAOwner:i});f&&c.addInstruction(f),p||this.logAndCreateError("no money","ownerRewardAccount",this.scope.account.tokenAccountRawInfos);let h=await this.getClmmPoolKeys(e.id),m=Ll.collectRewardInstructions({poolInfo:e,poolKeys:h,ownerInfo:{wallet:this.scope.ownerPubKey,tokenAccount:p},rewardMint:r});return c.addInstruction(m),c.addCustomComputeBudget(o),c.addTipInstruction(a),c.versionBuild({txVersion:s,extInfo:{address:m.address}})}async collectRewards({poolInfo:e,ownerInfo:t,rewardMints:r,associatedOnly:n=!0,checkCreateATAOwner:i=!1,computeBudgetConfig:o,txTipConfig:a,feePayer:s}){let u=this.createTxBuilder(s),l={};for(let o of r){let r=e.rewardDefaultInfos.find(e=>e.mint.address===o.toString());if(!r){this.logAndCreateError("reward mint error","not found reward mint",o);continue}let a=t.useSOLBalance&&o.equals(BB),{account:s,instructionParams:c}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:new ho(r.mint.programId),mint:o,notUseTokenAccount:a,owner:this.scope.ownerPubKey,skipCloseAccount:!a,createInfo:{payer:t.feePayer||this.scope.ownerPubKey,amount:0},associatedOnly:!a&&n,checkCreateATAOwner:i});s||this.logAndCreateError("no money","ownerRewardAccount",this.scope.account.tokenAccountRawInfos),c&&u.addInstruction(c);let d=await this.getClmmPoolKeys(e.id),p=Ll.collectRewardInstructions({poolInfo:e,poolKeys:d,ownerInfo:{wallet:this.scope.ownerPubKey,tokenAccount:s},rewardMint:o});u.addInstruction(p),l=xF(xF({},l),p.address)}return u.addCustomComputeBudget(o),u.addTipInstruction(a),u.build({address:l})}async swap({poolInfo:e,poolKeys:t,inputMint:r,amountIn:n,amountOutMin:i,priceLimit:o,observationId:a,ownerInfo:s,remainingAccounts:u,associatedOnly:l=!0,checkCreateATAOwner:c=!1,txVersion:d,computeBudgetConfig:p,txTipConfig:f,feePayer:h}){let m,g,y=this.createTxBuilder(h),b=r.toString()===e.mintA.address,_=s.useSOLBalance&&e.mintA.address===BB.toBase58(),w=s.useSOLBalance&&e.mintB.address===BB.toBase58(),v;if(v=!o||o.equals(new Ba(0))?b?Md.add(new(ed(d0))(1)):Mp.sub(new(ed(d0))(1)):MZ.priceToSqrtPriceX64(o,e.mintA.decimals,e.mintB.decimals),!m){let{account:t,instructionParams:r}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:e.mintA.programId,mint:new ho(e.mintA.address),notUseTokenAccount:_,owner:this.scope.ownerPubKey,skipCloseAccount:!_,createInfo:_||!b?{payer:s.feePayer||this.scope.ownerPubKey,amount:b?n:0}:void 0,associatedOnly:!_&&l,checkCreateATAOwner:c});m=t,r&&y.addInstruction(r)}if(!g){let{account:t,instructionParams:r}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:e.mintB.programId,mint:new ho(e.mintB.address),notUseTokenAccount:w,owner:this.scope.ownerPubKey,skipCloseAccount:!w,createInfo:w||b?{payer:s.feePayer||this.scope.ownerPubKey,amount:b?0:n}:void 0,associatedOnly:!w&&l,checkCreateATAOwner:c});g=t,r&&y.addInstruction(r)}m&&g||this.logAndCreateError("user do not have token account",{tokenA:e.mintA.symbol||e.mintA.address,tokenB:e.mintB.symbol||e.mintB.address,ownerTokenAccountA:m,ownerTokenAccountB:g,mintAUseSOLBalance:_,mintBUseSOLBalance:w,associatedOnly:l});let k=null!=t?t:await this.getClmmPoolKeys(e.id);return y.addInstruction(Ll.makeSwapBaseInInstructions({poolInfo:e,poolKeys:k,observationId:a,ownerInfo:{wallet:this.scope.ownerPubKey,tokenAccountA:m,tokenAccountB:g},inputMint:new ho(r),amountIn:n,amountOutMin:i,sqrtPriceLimitX64:v,remainingAccounts:u})),y.addCustomComputeBudget(p),y.addTipInstruction(f),y.versionBuild({txVersion:d})}async swapBaseOut({poolInfo:e,poolKeys:t,outputMint:r,amountOut:n,amountInMax:i,priceLimit:o,observationId:a,ownerInfo:s,remainingAccounts:u,associatedOnly:l=!0,checkCreateATAOwner:c=!1,txVersion:d,computeBudgetConfig:p,txTipConfig:f,feePayer:h}){let m,g,y=this.createTxBuilder(h),b=r.toString()===e.mintB.address,_=s.useSOLBalance&&e.mintA.address===BB.toBase58(),w=s.useSOLBalance&&e.mintB.address===BB.toBase58(),v;if(v=!o||o.equals(new Ba(0))?r.toString()===e.mintB.address?Md.add(new(ed(d0))(1)):Mp.sub(new(ed(d0))(1)):MZ.priceToSqrtPriceX64(o,e.mintA.decimals,e.mintB.decimals),!m){let{account:t,instructionParams:r}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:e.mintA.programId,mint:new ho(e.mintA.address),notUseTokenAccount:_,owner:this.scope.ownerPubKey,skipCloseAccount:!_,createInfo:_||!b?{payer:s.feePayer||this.scope.ownerPubKey,amount:b?i:0}:void 0,associatedOnly:!_&&l,checkCreateATAOwner:c});m=t,r&&y.addInstruction(r)}if(!g){let{account:t,instructionParams:r}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:e.mintB.programId,mint:new ho(e.mintB.address),notUseTokenAccount:w,owner:this.scope.ownerPubKey,skipCloseAccount:!w,createInfo:w||b?{payer:s.feePayer||this.scope.ownerPubKey,amount:b?0:i}:void 0,associatedOnly:!w&&l,checkCreateATAOwner:c});g=t,r&&y.addInstruction(r)}m&&g||this.logAndCreateError("user do not have token account",{tokenA:e.mintA.symbol||e.mintA.address,tokenB:e.mintB.symbol||e.mintB.address,ownerTokenAccountA:m,ownerTokenAccountB:g,mintAUseSOLBalance:_,mintBUseSOLBalance:w,associatedOnly:l});let k=null!=t?t:await this.getClmmPoolKeys(e.id);return y.addInstruction(Ll.makeSwapBaseOutInstructions({poolInfo:e,poolKeys:k,observationId:a,ownerInfo:{wallet:this.scope.ownerPubKey,tokenAccountA:m,tokenAccountB:g},outputMint:new ho(r),amountOut:n,amountInMax:i,sqrtPriceLimitX64:v,remainingAccounts:u})),y.addCustomComputeBudget(p),y.addTipInstruction(f),y.versionBuild({txVersion:d})}async harvestAllRewards({allPoolInfo:e,allPositions:t,lockInfo:r,ownerInfo:n,associatedOnly:i=!0,checkCreateATAOwner:o=!1,programId:a,txVersion:s,computeBudgetConfig:u,feePayer:l}){var c,d;let p={};for(let e of this.scope.account.tokenAccountRawInfos)i?B3(this.scope.ownerPubKey,e.accountInfo.mint,a).publicKey.equals(e.pubkey)&&(p[e.accountInfo.mint.toString()]=e.pubkey):p[e.accountInfo.mint.toString()]=e.pubkey;let f=Object.values(t).flat().map(e=>e.nftMint),h=await x$(this.scope.connection,f.map(e=>({pubkey:e}))),m={};h.forEach(e=>{var t,r;m[e.pubkey.toBase58()]=null!=(r=null==(t=null==e?void 0:e.accountInfo)?void 0:t.owner)?r:null});let g=this.createTxBuilder(l);for(let a of Object.values(e)){if(void 0===t[a.id]||!t[a.id].find(e=>!e.liquidity.isZero()||e.rewardInfos.find(e=>!e.rewardAmountOwed.isZero())))continue;let e=n.useSOLBalance&&a.mintA.address===BB.toString(),s=n.useSOLBalance&&a.mintB.address===BB.toString(),u=p[a.mintA.address];if(!u){if(e){let{account:t,instructionParams:r}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:a.mintA.programId,mint:new ho(a.mintA.address),notUseTokenAccount:e,owner:this.scope.ownerPubKey,skipCloseAccount:!e,createInfo:{payer:n.feePayer||this.scope.ownerPubKey,amount:0},associatedOnly:!e&&i,checkCreateATAOwner:o});u=t,r&&g.addInstruction(r)}else{let e=new ho(a.mintA.address);u=this.scope.account.getAssociatedTokenAccount(e,new ho(a.mintA.programId)),g.addInstruction({instructions:[Er(this.scope.ownerPubKey,u,this.scope.ownerPubKey,e,new ho(a.mintA.programId))]})}}let l=p[a.mintB.address];if(!l){if(s){let{account:e,instructionParams:t}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:a.mintB.programId,mint:new ho(a.mintB.address),notUseTokenAccount:s,owner:this.scope.ownerPubKey,skipCloseAccount:!s,createInfo:{payer:n.feePayer||this.scope.ownerPubKey,amount:0},associatedOnly:!s&&i,checkCreateATAOwner:o});l=e,t&&g.addInstruction(t)}else{let e=new ho(a.mintB.address);l=this.scope.account.getAssociatedTokenAccount(e,new ho(a.mintB.programId)),g.addInstruction({instructions:[Er(this.scope.ownerPubKey,l,this.scope.ownerPubKey,e,new ho(a.mintB.programId))]})}}p[a.mintA.address]=u,p[a.mintB.address]=l;let f=[];for(let e of a.rewardDefaultInfos){let t=n.useSOLBalance&&e.mint.address===BB.toString(),r=p[e.mint.address];if(!r){let{account:o,instructionParams:a}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:new ho(e.mint.programId),mint:new ho(e.mint.address),notUseTokenAccount:t,owner:this.scope.ownerPubKey,skipCloseAccount:!t,createInfo:{payer:n.feePayer||this.scope.ownerPubKey,amount:0},associatedOnly:!t&&i});r=o,a&&g.addInstruction(a)}p[e.mint.address]=r,f.push(r)}let h=await this.getClmmPoolKeys(a.id),y=[];for(let e=0;e<h.rewardInfos.length;e++)y.push({poolRewardVault:new ho(h.rewardInfos[e].vault),ownerRewardVault:f[e],rewardMint:new ho(h.rewardInfos[e].mint.address)});for(let e of t[a.id]){let t=null==(c=null==r?void 0:r[a.id])?void 0:c[e.nftMint.toBase58()];if(t){let r=B3(this.scope.ownerPubKey,t.lockNftMint,SX).publicKey,n=M2.getTickArrayStartIndexByTick(e.tickLower,h.config.tickSpacing),i=M2.getTickArrayStartIndexByTick(e.tickUpper,h.config.tickSpacing),{publicKey:o}=MB(new ho(h.programId),t.poolId,n),{publicKey:a}=MB(new ho(h.programId),t.poolId,i),{publicKey:s}=MC(new ho(h.programId),t.poolId,e.tickLower,e.tickUpper),c=MF(Cs,t.lockNftMint).publicKey,d=Ll.harvestLockPositionInstructionV2({programId:Cs,auth:Cu,lockPositionId:c,clmmProgram:Ca,lockOwner:this.scope.ownerPubKey,lockNftMint:t.lockNftMint,lockNftAccount:r,positionNftAccount:t.nftAccount,positionId:t.positionId,poolId:t.poolId,protocolPosition:s,vaultA:new ho(h.vault.A),vaultB:new ho(h.vault.B),tickArrayLower:o,tickArrayUpper:a,userVaultA:u,userVaultB:l,mintA:new ho(h.mintA.address),mintB:new ho(h.mintB.address),rewardAccounts:y,exTickArrayBitmap:ML(Ca,t.poolId).publicKey});g.addInstruction({instructions:[d],instructionTypes:[BX.ClmmHarvestLockPosition],lookupTableAddress:h.lookupTableAccount?[h.lookupTableAccount]:[]})}else{let t=Ll.decreaseLiquidityInstructions({poolInfo:a,poolKeys:h,ownerPosition:e,ownerInfo:{wallet:this.scope.ownerPubKey,tokenAccountA:u,tokenAccountB:l,rewardAccounts:f},liquidity:new(ed(d0))(0),amountMinA:new(ed(d0))(0),amountMinB:new(ed(d0))(0),nft2022:null==(d=m[e.nftMint.toBase58()])?void 0:d.equals(SZ)});g.addInstruction(t)}}}return 0===s?g.sizeCheckBuildV0({computeBudgetConfig:u}):g.sizeCheckBuild({computeBudgetConfig:u})}async getWhiteListMint({programId:e}){let t=await this.scope.connection.getAccountInfo(B0([MT],e).publicKey);return t?Lr.decode(t.data).whitelistMints.filter(e=>!e.equals(ho.default)):[]}async getOwnerPositionInfo({programId:e=Ca}){await this.scope.account.fetchWalletTokenAccounts();let t=this.scope.account.tokenAccountRawInfos.filter(e=>e.accountInfo.amount.eq(new(ed(d0))(1))).map(t=>MR(new ho(e),t.accountInfo.mint).publicKey),r=await this.scope.connection.getMultipleAccountsInfo(t),n=[];return r.forEach(e=>{if(!e)return;let t=M7.decode(e.data);n.push(t)}),n}async getOwnerLockedPositionInfo({programId:e=Cs}){await this.scope.account.fetchWalletTokenAccounts();let t=this.scope.account.tokenAccountRawInfos.filter(e=>e.accountInfo.amount.eq(new(ed(d0))(1))).map(t=>MF(new ho(e),t.accountInfo.mint).publicKey),r=await this.scope.connection.getMultipleAccountsInfo(t),n=[];r.forEach(e=>{if(!e)return;let t=Li.decode(e.data);n.push(t)});let i=await this.scope.connection.getMultipleAccountsInfo(n.map(e=>e.positionId)),o=[];return i.forEach(e=>{if(!e)return;let t=M7.decode(e.data);o.push(t)}),n.map((e,t)=>({position:o[t],lockInfo:e}))}async getRpcClmmPoolInfo({poolId:e}){return(await this.getRpcClmmPoolInfos({poolIds:[e]}))[String(e)]}async getRpcClmmPoolInfos({poolIds:e,config:t}){let r=await x$(this.scope.connection,e.map(e=>({pubkey:new ho(e)})),t),n={};for(let t=0;t<e.length;t++){let i=r[t];if(null===i||!i.accountInfo)throw Error("fetch pool info error: "+String(e[t]));let o=M3.decode(i.accountInfo.data),a=MZ.sqrtPriceX64ToPrice(o.sqrtPriceX64,o.mintDecimalsA,o.mintDecimalsB).toNumber();n[String(e[t])]=xq(xF({},o),{currentPrice:a,programId:i.accountInfo.owner})}return n}async getComputeClmmPoolInfos({clmmPoolsRpcInfo:e,mintInfos:t}){let r=new Set(Object.keys(e).map(t=>e[t].ammConfig.toBase58())),n=await x$(this.scope.connection,Array.from(r).map(e=>({pubkey:new ho(e)}))),i={};n.forEach(e=>{e.accountInfo&&(i[e.pubkey.toBase58()]=M6.decode(e.accountInfo.data))});let o=await MV.fetchComputeMultipleClmmInfo({connection:this.scope.connection,rpcDataMap:e,poolList:Object.keys(e).map(r=>{var n,o,a,s;let[u,l]=[e[r].mintA.toBase58(),e[r].mintB.toBase58()];return{id:r,programId:e[r].programId.toBase58(),mintA:Lp({address:u,decimals:e[r].mintDecimalsA,programId:t[u].programId.toBase58()||SX.toBase58(),extensions:{feeConfig:null!=(n=t[u])&&n.feeConfig?Lf(null==(o=t[u])?void 0:o.feeConfig):void 0}}),mintB:Lp({address:l,decimals:e[r].mintDecimalsB,programId:t[l].programId.toBase58()||SX.toBase58(),extensions:{feeConfig:null!=(a=t[l])&&a.feeConfig?Lf(null==(s=t[l])?void 0:s.feeConfig):void 0}}),price:e[r].currentPrice,config:xq(xF({},i[e[r].ammConfig.toBase58()]),{id:e[r].ammConfig.toBase58(),fundFeeRate:0,description:"",defaultRange:0,defaultRangePoint:[]})}})}),a=await MV.fetchMultiplePoolTickArrays({connection:this.scope.connection,poolKeys:Object.values(o)});return{computeClmmPoolInfo:o,computePoolTickData:a}}async getPoolInfoFromRpc(e){var t,r;let n=await this.getRpcClmmPoolInfo({poolId:e}),i=new Set([n.mintA.toBase58(),n.mintB.toBase58()]),o=await xZ({connection:this.scope.connection,mints:Array.from(i).map(e=>new ho(e))}),{computeClmmPoolInfo:a,computePoolTickData:s}=await this.scope.clmm.getComputeClmmPoolInfos({clmmPoolsRpcInfo:{[e]:n},mintInfos:o}),u=await x$(this.scope.connection,[{pubkey:n.vaultA},{pubkey:n.vaultB}]),l=xq(xF({},r=a[e]),{type:"Concentrated",programId:r.programId.toString(),id:r.id.toString(),rewardDefaultInfos:[],rewardDefaultPoolInfos:"Clmm",price:r.currentPrice.toNumber(),mintAmountA:0,mintAmountB:0,feeRate:r.ammConfig.tradeFeeRate,openTime:r.startTime.toString(),tvl:0,day:MH,week:MH,month:MH,pooltype:[],farmUpcomingCount:0,farmOngoingCount:0,farmFinishedCount:0,burnPercent:0,config:xq(xF({},r.ammConfig),{id:r.ammConfig.id.toString(),defaultRange:0,defaultRangePoint:[]})});if(!u[0].accountInfo||!u[1].accountInfo)throw Error("pool vault data not found");l.mintAmountA=Number(Il.decode(u[0].accountInfo.data).amount.toString()),l.mintAmountB=Number(Il.decode(null==(t=u[1].accountInfo)?void 0:t.data).amount.toString());let c=xq(xF({},a[e]),{exBitmapAccount:a[e].exBitmapAccount.toBase58(),observationId:a[e].observationId.toBase58(),id:e,programId:n.programId.toBase58(),openTime:n.startTime.toString(),vault:{A:n.vaultA.toBase58(),B:n.vaultB.toBase58()},config:l.config,rewardInfos:a[e].rewardInfos.filter(e=>!e.tokenVault.equals(ho.default)).map(e=>({mint:Lp({address:e.tokenMint.toBase58(),programId:SX.toBase58(),decimals:10}),vault:e.tokenVault.toBase58()}))});return{poolInfo:l,poolKeys:c,computePoolInfo:a[e],tickData:s}}};function LV(e,t){if(t.isZero())throw Error("divisor is zero");return e.mod(t)}var LH=new(ed(d0))(0),LG=class{static swapWithoutFees(e,t,r){let[n]=function(e,t){if(t.isZero())throw Error("rhs is zero");let r=e.div(t);if(r.isZero())throw Error("quotient is zero");let n=LV(e,t);return n.gt(LH)&&(r=r.add(new(ed(d0))(1)),t=e.div(r),(n=LV(e,r)).gt(LH)&&(t=t.add(new(ed(d0))(1)))),[r,t]}(t.mul(r),t.add(e)),i=r.sub(n);if(i.isZero())throw Error("destinationAmountSwapped is zero");return{destinationAmountSwapped:i}}static lpTokensToTradingTokens(e,t,r,n,i){let o=e.mul(r).div(t),a=e.mul(n).div(t);if(0===i)return{tokenAmount0:o,tokenAmount1:a};if(1===i)return LV(e.mul(r),t).gt(LH)&&o.gt(LH)&&(o=o.add(new(ed(d0))(1))),LV(e.mul(n),t).gt(LH)&&a.gt(LH)&&(a=a.add(new(ed(d0))(1))),{tokenAmount0:o,tokenAmount1:a};throw Error("roundDirection value error")}},L$=class{static tradingFee(e,t){return BV(e,t,CB)}static protocolFee(e,t){return e.mul(t).div(CB)}static fundFee(e,t){return e.mul(t).div(CB)}},LX=((x=LX||{})[x.Floor=0]="Floor",x[x.Ceiling=1]="Ceiling",x),LZ=class{static validate_supply(e,t){if(e.isZero())throw Error("tokenAmount0 is zero");if(t.isZero())throw Error("tokenAmount1 is zero")}static swap(e,t,r,n){let i=L$.tradingFee(e,n),o=e.sub(i),{destinationAmountSwapped:a}=LG.swapWithoutFees(o,t,r);return{newSwapDestinationAmount:r.sub(a),sourceAmountSwapped:e,destinationAmountSwapped:a,tradeFee:i}}static swapBaseOut({poolMintA:e,poolMintB:t,tradeFeeRate:r,baseReserve:n,quoteReserve:i,outputMint:o,outputAmount:a}){let[s,u,l,c,d]=t.address===o.toString()?[n,i,e.decimals,t.decimals,e.address]:[i,n,t.decimals,e.decimals,t.address],p=new(ed(xP))(u.toString()).div(10**c).div(new(ed(xP))(s.toString()).div(10**l)),f=a.gte(u)?u.sub(new(ed(d0))(1)):a,h=u.sub(f),m=CS(s.mul(f),h),g=CS(m.mul(new(ed(d0))(1e6)),new(ed(d0))(1e6).sub(r)),y=g.sub(m),b=new(ed(xP))(f.toString()).div(10**c).div(new(ed(xP))(g.toString()).div(10**l));return{amountRealOut:f,amountIn:g,amountInWithoutFee:m,tradeFee:y,priceImpact:p.isZero()?0:b.sub(p).div(p).abs().toNumber()}}},LQ=xO.from("vault_and_lp_mint_auth_seed","utf8"),LY=(xO.from("amm_config","utf8"),xO.from("pool","utf8")),LJ=xO.from("pool_lp_mint","utf8"),L1=xO.from("pool_vault","utf8"),L0=xO.from("observation","utf8");function L2(e){return B0([LQ],e)}function L6(e,t,r,n){return B0([LY,t.toBuffer(),r.toBuffer(),n.toBuffer()],e)}function L4(e,t,r){return B0([L1,t.toBuffer(),r.toBuffer()],e)}function L5(e,t){return B0([L0,t.toBuffer()],e)}var L8=xO.from("locked_liquidity","utf8");function L3(e,t){return B0([L8,t.toBuffer()],e)}var L9=xV("Raydium_cpmm"),L7={initialize:[175,175,109,31,13,152,155,237],deposit:[242,35,198,137,82,225,242,182],withdraw:[183,18,70,156,148,109,161,34],swapBaseInput:[143,190,90,218,196,30,51,222],swapBaseOutput:[55,217,98,86,163,74,180,173],lockCpLiquidity:[216,157,29,78,38,51,31,26],collectCpFee:[8,30,51,199,209,184,247,133]};function Ne(e,t,r,n,i,o,a,s,u,l,c,d,p,f,h,m){let g=Rv([Rd("amountIn"),Rd("amounOutMin")]),y=xO.alloc(g.span);return g.encode({amountIn:h,amounOutMin:m},y),new hI({keys:[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0}],programId:e,data:xO.from([...L7.swapBaseInput,...y])})}async function Nt(e){var t;let{ownerInfo:r,poolInfo:n,poolKeys:i,feeNftOwner:o,getEphemeralSigners:a}=e,s=[],[u,l]=[new ho(n.id),new ho(n.lpMint.address)],c;if(a)c=new ho((await a(1))[0]);else{let e=gx.generate();s.push(e),c=e.publicKey}let{publicKey:d}=B3(o,c,SX),{publicKey:p}=MM(c),{publicKey:f}=L3(e.lockProgram,c),{publicKey:h}=B3(r.wallet,l,SX),{publicKey:m}=B3(e.lockAuthProgram,l,SX),g=function({programId:e,auth:t,payer:r,liquidityOwner:n,nftOwner:i,nftMint:o,nftAccount:a,poolId:s,lockPda:u,mintLp:l,userLpVault:c,lockLpVault:d,poolVaultA:p,poolVaultB:f,metadataAccount:h,lpAmount:m,withMetadata:g}){let y=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:BT,isSigner:!1,isWritable:!1},{pubkey:hV.programId,isSigner:!1,isWritable:!1},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SQ,isSigner:!1,isWritable:!1},{pubkey:BP,isSigner:!1,isWritable:!1}],b=Rv([Rd("lpAmount"),Rg("withMetadata")]),_=xO.alloc(b.span);return b.encode({lpAmount:m,withMetadata:g},_),new hI({keys:y,programId:e,data:xO.from([...L7.lockCpLiquidity,..._])})}({programId:e.lockProgram,auth:e.lockAuthProgram,payer:r.feePayer,liquidityOwner:r.wallet,nftOwner:o,nftMint:c,nftAccount:d,poolId:u,lockPda:f,mintLp:l,userLpVault:h,lockLpVault:m,poolVaultA:new ho(i.vault.A),poolVaultB:new ho(i.vault.B),metadataAccount:p,lpAmount:e.lpAmount,withMetadata:null==(t=e.withMetadata)||t});return{address:{nftMint:c,nftAccount:d,metadataAccount:p,lockPda:f,userLpVault:h,lockLpVault:m},instructions:[g],signers:s,instructionTypes:[BX.CpmmLockLp],lookupTableAddress:[]}}function Nr({programId:e,nftOwner:t,auth:r,nftAccount:n,lockPda:i,poolId:o,mintLp:a,userVaultA:s,userVaultB:u,poolVaultA:l,poolVaultB:c,mintA:d,mintB:p,lockLpVault:f,lpFeeAmount:h,cpmmProgram:m,cpmmAuthProgram:g}){let y=[{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:null!=m?m:Cm,isSigner:!1,isWritable:!1},{pubkey:null!=g?g:Cg,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SZ,isSigner:!1,isWritable:!1},{pubkey:BE,isSigner:!1,isWritable:!1}],b=Rv([Rd("lpFeeAmount")]),_=xO.alloc(b.span);return b.encode({lpFeeAmount:h},_),new hI({keys:y,programId:e,data:xO.from([...L7.collectCpFee,..._])})}var Nn=Rv([Ri(8),Rl("bump"),Rg("disableCreatePool"),C7("index"),Rd("tradeFeeRate"),Rd("protocolFeeRate"),Rd("fundFeeRate"),Rd("createPoolFee"),Rm("protocolOwner"),Rm("fundOwner"),Rk(Rd(),16)]),Ni=Rv([Ri(8),Rm("configId"),Rm("poolCreator"),Rm("vaultA"),Rm("vaultB"),Rm("mintLp"),Rm("mintA"),Rm("mintB"),Rm("mintProgramA"),Rm("mintProgramB"),Rm("observationId"),Rl("bump"),Rl("status"),Rl("lpDecimals"),Rl("mintDecimalA"),Rl("mintDecimalB"),Rd("lpAmount"),Rd("protocolFeesMintA"),Rd("protocolFeesMintB"),Rd("fundFeesMintA"),Rd("fundFeesMintB"),Rd("openTime"),Rk(Rd(),32)]),No=class extends Cz{constructor(e){super(e)}async load(){this.checkDisabled()}async getCpmmPoolKeys(e){return(await this.scope.api.fetchPoolKeysById({idList:[e]}))[0]}async getRpcPoolInfo(e,t){return(await this.getRpcPoolInfos([e],t))[e]}async getRpcPoolInfos(e,t){let r=await x$(this.scope.connection,e.map(e=>({pubkey:new ho(e)}))),n={},i=new Set,o=[];for(let t=0;t<e.length;t++){let a=r[t];if(null===a.accountInfo)throw Error("fetch pool info error: "+String(e[t]));let s=Ni.decode(a.accountInfo.data);n[String(e[t])]=xq(xF({},s),{programId:a.accountInfo.owner}),i.add(String(s.configId)),o.push(s.vaultA,s.vaultB)}let a={};if(t){let e=[...i],t=await x$(this.scope.connection,e.map(e=>({pubkey:new ho(e)})));for(let r=0;r<e.length;r++){let n=t[r].accountInfo;if(null===n)throw Error("fetch pool config error: "+e[r]);a[e[r]]=Nn.decode(n.data)}}let s={},u=await x$(this.scope.connection,o.map(e=>({pubkey:new ho(e)})));for(let e=0;e<o.length;e++){let t=u[e].accountInfo;if(null===t)throw Error("fetch vault info error: "+o[e]);s[String(o[e])]=new(ed(d0))(Il.decode(t.data).amount.toString())}let l={};for(let[e,t]of Object.entries(n)){let r=s[t.vaultA.toString()].sub(t.protocolFeesMintA).sub(t.fundFeesMintA),n=s[t.vaultB.toString()].sub(t.protocolFeesMintB).sub(t.fundFeesMintB);l[e]=xq(xF({},t),{baseReserve:r,quoteReserve:n,vaultAAmount:s[t.vaultA.toString()],vaultBAmount:s[t.vaultB.toString()],configInfo:a[t.configId.toString()],poolPrice:new Ba(n.toString()).div(new Ba(10).pow(t.mintDecimalB)).div(new Ba(r.toString()).div(new Ba(10).pow(t.mintDecimalA)))})}return l}toComputePoolInfos({pools:e,mintInfos:t}){return Object.keys(e).reduce((r,n)=>{var i,o,a,s;let u=e[n],[l,c]=[u.mintA.toBase58(),u.mintB.toBase58()];return xq(xF({},r),{[n]:xq(xF({},u),{id:new ho(n),configInfo:u.configInfo,version:7,authority:L2(u.programId).publicKey,mintA:Lp({address:l,decimals:u.mintDecimalA,programId:u.mintProgramA.toBase58(),extensions:{feeConfig:null!=(i=t[l])&&i.feeConfig?Lf(null==(o=t[l])?void 0:o.feeConfig):void 0}}),mintB:Lp({address:c,decimals:u.mintDecimalB,programId:u.mintProgramB.toBase58(),extensions:{feeConfig:null!=(a=t[c])&&a.feeConfig?Lf(null==(s=t[c])?void 0:s.feeConfig):void 0}})})})},{})}async getPoolInfoFromRpc(e){let t=await this.getRpcPoolInfo(e,!0),r=await xZ({connection:this.scope.connection,mints:[t.mintA,t.mintB]}),n=Lp({address:t.mintA.toBase58(),decimals:t.mintDecimalA,programId:t.mintProgramA.toBase58(),extensions:{feeConfig:r[t.mintA.toBase58()].feeConfig?Lf(r[t.mintA.toBase58()].feeConfig):void 0}}),i=Lp({address:t.mintB.toBase58(),decimals:t.mintDecimalB,programId:t.mintProgramB.toBase58(),extensions:{feeConfig:r[t.mintB.toBase58()].feeConfig?Lf(r[t.mintB.toBase58()].feeConfig):void 0}}),o=Lp({address:t.mintLp.toBase58(),decimals:t.lpDecimals,programId:SX.toBase58()}),a={id:t.configId.toBase58(),index:t.configInfo.index,protocolFeeRate:t.configInfo.protocolFeeRate.toNumber(),tradeFeeRate:t.configInfo.tradeFeeRate.toNumber(),fundFeeRate:t.configInfo.fundFeeRate.toNumber(),createPoolFee:t.configInfo.createPoolFee.toString()},s={volume:0,volumeQuote:0,volumeFee:0,apr:0,feeApr:0,priceMin:0,priceMax:0,rewardApr:[]};return{poolInfo:{programId:t.programId.toBase58(),id:e,type:"Standard",lpMint:o,lpPrice:0,lpAmount:t.lpAmount.toNumber(),config:a,mintA:n,mintB:i,rewardDefaultInfos:[],rewardDefaultPoolInfos:"Ecosystem",price:t.poolPrice.toNumber(),mintAmountA:new Ba(t.vaultAAmount.toString()).div(10**n.decimals).toNumber(),mintAmountB:new Ba(t.vaultBAmount.toString()).div(10**i.decimals).toNumber(),feeRate:t.configInfo.tradeFeeRate.toNumber(),openTime:t.openTime.toString(),tvl:0,burnPercent:0,day:s,week:s,month:s,pooltype:[],farmUpcomingCount:0,farmOngoingCount:0,farmFinishedCount:0},poolKeys:{programId:t.programId.toBase58(),id:e,mintA:n,mintB:i,openTime:t.openTime.toString(),vault:{A:t.vaultA.toBase58(),B:t.vaultB.toBase58()},authority:L2(t.programId).publicKey.toBase58(),mintLp:o,config:a,observationId:L5(t.programId,new ho(e)).publicKey.toBase58()},rpcData:t}}async createPool(e){let t,r,n,i;var o,a,s,u,l,c,d,p,f,h,m,g,y,b,{poolId:_,programId:w,poolFeeAccount:v,startTime:k,ownerInfo:A,associatedOnly:S=!1,checkCreateATAOwner:I=!1,txVersion:E,feeConfig:T,computeBudgetConfig:x,txTipConfig:P,feePayer:O}=e,B=xU(e,["poolId","programId","poolFeeAccount","startTime","ownerInfo","associatedOnly","checkCreateATAOwner","txVersion","feeConfig","computeBudgetConfig","txTipConfig","feePayer"]);let C=A.feePayer||(null==(g=this.scope.owner)?void 0:g.publicKey),R=new(ed(d0))(new ho(B.mintA.address).toBuffer()).lte(new(ed(d0))(new ho(B.mintB.address).toBuffer())),[M,L]=R?[B.mintA,B.mintB]:[B.mintB,B.mintA],[N,D]=R?[B.mintAAmount,B.mintBAmount]:[B.mintBAmount,B.mintAAmount],F=A.useSOLBalance&&M.address===SY.toBase58(),q=A.useSOLBalance&&L.address===SY.toBase58(),[U,j]=[new ho(M.address),new ho(L.address)],W=this.createTxBuilder(O),{account:K,instructionParams:z}=await this.scope.account.getOrCreateTokenAccount({mint:U,tokenProgram:M.programId,owner:this.scope.ownerPubKey,createInfo:F?{payer:C,amount:N}:void 0,notUseTokenAccount:F,skipCloseAccount:!F,associatedOnly:!F&&S,checkCreateATAOwner:I});W.addInstruction(z||{});let{account:V,instructionParams:H}=await this.scope.account.getOrCreateTokenAccount({mint:new ho(L.address),tokenProgram:L.programId,owner:this.scope.ownerPubKey,createInfo:q?{payer:C,amount:D}:void 0,notUseTokenAccount:q,skipCloseAccount:!q,associatedOnly:!q&&S,checkCreateATAOwner:I});if(W.addInstruction(H||{}),void 0===K||void 0===V)throw Error("you don't has some token account");let G=function({poolId:e,programId:t,configId:r,mintA:n,mintB:i}){let o=L2(t).publicKey,a=e||L6(t,r,n,i).publicKey,s=B0([LJ,a.toBuffer()],t).publicKey,u=L4(t,a,n).publicKey,l=L4(t,a,i).publicKey,c=L5(t,a).publicKey;return{poolId:a,configId:r,authority:o,lpMint:s,vaultA:u,vaultB:l,observationId:c}}({poolId:_,programId:w,configId:new ho(T.id),mintA:U,mintB:j});return W.addInstruction({instructions:[(o=this.scope.ownerPubKey,a=new ho(T.id),s=G.authority,u=G.poolId,l=G.lpMint,c=B3(this.scope.ownerPubKey,G.lpMint).publicKey,d=G.vaultA,p=G.vaultB,f=new ho(null!=(y=M.programId)?y:SX),h=new ho(null!=(b=L.programId)?b:SX),m=G.observationId,t=Rv([Rd("amountMaxA"),Rd("amountMaxB"),Rd("openTime")]),r=L6(w,a,U,j).publicKey,n=[{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!u.equals(r),isWritable:!0},{pubkey:U,isSigner:!1,isWritable:!1},{pubkey:j,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:K,isSigner:!1,isWritable:!0},{pubkey:V,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:SQ,isSigner:!1,isWritable:!1},{pubkey:BO,isSigner:!1,isWritable:!1},{pubkey:BT,isSigner:!1,isWritable:!1}],i=xO.alloc(t.span),t.encode({amountMaxA:N,amountMaxB:D,openTime:k},i),new hI({keys:n,programId:w,data:xO.from([...L7.initialize,...i])}))],instructionTypes:[BX.CpmmCreatePool]}),W.addCustomComputeBudget(x),W.addTipInstruction(P),W.versionBuild({txVersion:E,extInfo:{address:xq(xF({},G),{mintA:M,mintB:L,programId:w,poolFeeAccount:v,feeConfig:T})}})}async addLiquidity(e){var t,r,n,i,o,a,s,u,l,c;let d,p,f,{poolInfo:h,poolKeys:m,inputAmount:g,baseIn:y,slippage:b,computeResult:_,computeBudgetConfig:w,txTipConfig:v,config:k,txVersion:A,feePayer:S}=e;!1===this.scope.availability.addStandardPosition&&this.logAndCreateError("add liquidity feature disabled in your region"),g.isZero()&&this.logAndCreateError("amounts must greater than zero","amountInA",{amountInA:g.toString()});let{account:I}=this.scope,{bypassAssociatedCheck:E,checkCreateATAOwner:T}=xF({bypassAssociatedCheck:!1,checkCreateATAOwner:!1},k),x=_?void 0:await this.getRpcPoolInfo(h.id),{liquidity:P,inputAmountFee:O,anotherAmount:B}=_||this.computePairAmount({poolInfo:xq(xF({},h),{lpAmount:new Ba(x.lpAmount.toString()).div(10**h.lpMint.decimals).toNumber()}),baseReserve:x.baseReserve,quoteReserve:x.quoteReserve,slippage:new BD(0),baseIn:y,epochInfo:await this.scope.fetchEpochInfo(),amount:new Ba(g.toString()).div(10**(y?h.mintA.decimals:h.mintB.decimals))}),C=B.amount,R=h.mintA.address===SY.toString(),M=h.mintB.address===SY.toString(),L=this.createTxBuilder(S),[N,D]=[new ho(h.mintA.address),new ho(h.mintB.address)],{account:F,instructionParams:q}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:h.mintA.programId,mint:new ho(h.mintA.address),owner:this.scope.ownerPubKey,createInfo:R||(y?g:C).isZero()?{payer:this.scope.ownerPubKey,amount:y?g:C}:void 0,skipCloseAccount:!R,notUseTokenAccount:R,associatedOnly:!1,checkCreateATAOwner:T});L.addInstruction(q||{});let{account:U,instructionParams:j}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:h.mintB.programId,mint:new ho(h.mintB.address),owner:this.scope.ownerPubKey,createInfo:M||(y?C:g).isZero()?{payer:this.scope.ownerPubKey,amount:y?C:g}:void 0,skipCloseAccount:!M,notUseTokenAccount:M,associatedOnly:!1,checkCreateATAOwner:T});L.addInstruction(j||{}),F||U||this.logAndCreateError("cannot found target token accounts","tokenAccounts",I.tokenAccounts);let W=await I.getCreatedTokenAccount({mint:new ho(h.lpMint.address)}),K=await I.handleTokenAccount({side:"out",amount:0,mint:new ho(h.lpMint.address),tokenAccount:W,bypassAssociatedCheck:E,checkCreateATAOwner:T}),{tokenAccount:z}=K,V=xU(K,["tokenAccount"]);L.addInstruction(V);let H=null!=m?m:await this.getCpmmPoolKeys(h.id),G=new BD(new(ed(d0))(1)).sub(b);return L.addInstruction({instructions:[(t=new ho(h.programId),r=this.scope.ownerPubKey,n=new ho(H.authority),i=new ho(h.id),o=new ho(H.vault.A),a=new ho(H.vault.B),s=new ho(h.lpMint.address),u=_?null==_?void 0:_.liquidity:G.mul(P).quotient,l=y?O.amount:C,c=y?C:O.amount,d=Rv([Rd("lpAmount"),Rd("amountMaxA"),Rd("amountMaxB")]),p=[{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:z,isSigner:!1,isWritable:!0},{pubkey:F,isSigner:!1,isWritable:!0},{pubkey:U,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SZ,isSigner:!1,isWritable:!1},{pubkey:N,isSigner:!1,isWritable:!1},{pubkey:D,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0}],f=xO.alloc(d.span),L9.debug("cpmm deposit data",{lpAmount:u.toString(),amountMaxA:l.toString(),amountMaxB:c.toString()}),d.encode({lpAmount:u,amountMaxA:l,amountMaxB:c},f),new hI({keys:p,programId:t,data:xO.from([...L7.deposit,...f])}))],instructionTypes:[BX.CpmmAddLiquidity],lookupTableAddress:H.lookupTableAccount?[H.lookupTableAccount]:[]}),L.addCustomComputeBudget(w),L.addTipInstruction(v),L.versionBuild({txVersion:A})}async withdrawLiquidity(e){var t,r,n,i,o,a,s,u,l,c,d;let p,f,h;let{poolInfo:m,poolKeys:g,lpAmount:y,slippage:b,computeBudgetConfig:_,txTipConfig:w,txVersion:v,feePayer:k,closeWsol:A=!0}=e;!1===this.scope.availability.addStandardPosition&&this.logAndCreateError("add liquidity feature disabled in your region");let S=new BD(new(ed(d0))(1)).sub(b),I=await this.getRpcPoolInfo(m.id),[E,T]=[S.mul(y.mul(I.baseReserve).div(I.lpAmount)).quotient,S.mul(y.mul(I.quoteReserve).div(I.lpAmount)).quotient],x=await this.scope.fetchEpochInfo(),[P,O]=[Ck(E,m.mintA.extensions.feeConfig,x,!1),Ck(T,m.mintB.extensions.feeConfig,x,!1)],{account:B}=this.scope,C=this.createTxBuilder(k),[R,M]=[new ho(m.mintA.address),new ho(m.mintB.address)],L=R.equals(BB),N=M.equals(BB),{account:D,instructionParams:F}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:m.mintA.programId,mint:new ho(m.mintA.address),notUseTokenAccount:L,owner:this.scope.ownerPubKey,createInfo:{payer:this.scope.ownerPubKey,amount:0},skipCloseAccount:!(L&&A),associatedOnly:!L,checkCreateATAOwner:!1});F&&C.addInstruction(F);let{account:q,instructionParams:U}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:m.mintB.programId,mint:new ho(m.mintB.address),notUseTokenAccount:N,owner:this.scope.ownerPubKey,createInfo:{payer:this.scope.ownerPubKey,amount:0},skipCloseAccount:!(N&&A),associatedOnly:!N,checkCreateATAOwner:!1});U&&C.addInstruction(U),D&&q||this.logAndCreateError("cannot found target token accounts","tokenAccounts",B.tokenAccounts);let j=await B.getCreatedTokenAccount({mint:new ho(m.lpMint.address)});j||this.logAndCreateError("cannot found lp token account","tokenAccounts",B.tokenAccounts);let W=null!=g?g:await this.getCpmmPoolKeys(m.id);return C.addInstruction({instructions:[(n=new ho(m.programId),i=this.scope.ownerPubKey,o=new ho(W.authority),a=new ho(m.id),s=new ho(W.vault.A),u=new ho(W.vault.B),l=new ho(m.lpMint.address),c=E.sub(null!=(t=P.fee)?t:new(ed(d0))(0)),d=T.sub(null!=(r=O.fee)?r:new(ed(d0))(0)),p=Rv([Rd("lpAmount"),Rd("amountMinA"),Rd("amountMinB")]),f=[{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:j,isSigner:!1,isWritable:!0},{pubkey:D,isSigner:!1,isWritable:!0},{pubkey:q,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SZ,isSigner:!1,isWritable:!1},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:M,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:BE,isSigner:!1,isWritable:!1}],h=xO.alloc(p.span),p.encode({lpAmount:y,amountMinA:c,amountMinB:d},h),new hI({keys:f,programId:n,data:xO.from([...L7.withdraw,...h])}))],instructionTypes:[BX.CpmmWithdrawLiquidity],lookupTableAddress:W.lookupTableAccount?[W.lookupTableAccount]:[]}),C.addCustomComputeBudget(_),C.addTipInstruction(w),C.versionBuild({txVersion:v})}async swap(e){var t,r,n,i,o,a,s,u,l,c,d,p,f,h,m,g,y,b,_,w,v,k;let A,S;let{poolInfo:I,poolKeys:E,baseIn:T,fixedOut:x,inputAmount:P,swapResult:O,slippage:B=0,config:C,computeBudgetConfig:R,txTipConfig:M,txVersion:L,feePayer:N}=e,{bypassAssociatedCheck:D,checkCreateATAOwner:F,associatedOnly:q}=xF({bypassAssociatedCheck:!1,checkCreateATAOwner:!1,associatedOnly:!0},C),U=this.createTxBuilder(N),[j,W]=[new ho(I.mintA.address),new ho(I.mintB.address)];x?O.sourceAmountSwapped=O.sourceAmountSwapped.mul(new(ed(d0))((1+B)*1e4)).div(new(ed(d0))(1e4)):O.destinationAmountSwapped=O.destinationAmountSwapped.mul(new(ed(d0))((1-B)*1e4)).div(new(ed(d0))(1e4));let K=I.mintA.address===BB.toBase58(),z=I.mintB.address===BB.toBase58(),{account:V,instructionParams:H}=await this.scope.account.getOrCreateTokenAccount({mint:j,tokenProgram:new ho(null!=(t=I.mintA.programId)?t:SX),owner:this.scope.ownerPubKey,createInfo:K||!T?{payer:this.scope.ownerPubKey,amount:T?O.sourceAmountSwapped:0}:void 0,notUseTokenAccount:K,skipCloseAccount:!K,associatedOnly:!K&&q,checkCreateATAOwner:F});H&&U.addInstruction(H);let{account:G,instructionParams:$}=await this.scope.account.getOrCreateTokenAccount({mint:W,tokenProgram:new ho(null!=(r=I.mintB.programId)?r:SX),owner:this.scope.ownerPubKey,createInfo:z||T?{payer:this.scope.ownerPubKey,amount:T?0:O.sourceAmountSwapped}:void 0,notUseTokenAccount:z,skipCloseAccount:!z,associatedOnly:!z&&q,checkCreateATAOwner:F});$&&U.addInstruction($),V&&G||this.logAndCreateError("user do not have token account",{mintA:I.mintA.symbol||I.mintA.address,mintB:I.mintB.symbol||I.mintB.address,mintATokenAcc:V,mintBTokenAcc:G,mintAUseSOLBalance:K,mintBUseSOLBalance:z,associatedOnly:q});let X=null!=E?E:await this.getCpmmPoolKeys(I.id);return U.addInstruction({instructions:[x?(s=new ho(I.programId),u=this.scope.ownerPubKey,l=new ho(X.authority),c=new ho(X.config.id),d=new ho(I.id),p=T?V:G,f=T?G:V,h=new ho(X.vault[T?"A":"B"]),m=new ho(X.vault[T?"B":"A"]),g=new ho(null!=(o=I[T?"mintA":"mintB"].programId)?o:SX),y=new ho(null!=(a=I[T?"mintB":"mintA"].programId)?a:SX),b=T?j:W,_=T?W:j,w=L5(new ho(I.programId),new ho(I.id)).publicKey,v=O.sourceAmountSwapped,k=O.destinationAmountSwapped,A=Rv([Rd("amountInMax"),Rd("amountOut")]),S=xO.alloc(A.span),A.encode({amountInMax:v,amountOut:k},S),new hI({keys:[{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:_,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!0}],programId:s,data:xO.from([...L7.swapBaseOutput,...S])})):Ne(new ho(I.programId),this.scope.ownerPubKey,new ho(X.authority),new ho(X.config.id),new ho(I.id),T?V:G,T?G:V,new ho(X.vault[T?"A":"B"]),new ho(X.vault[T?"B":"A"]),new ho(null!=(n=I[T?"mintA":"mintB"].programId)?n:SX),new ho(null!=(i=I[T?"mintB":"mintA"].programId)?i:SX),T?j:W,T?W:j,L5(new ho(I.programId),new ho(I.id)).publicKey,P,O.destinationAmountSwapped)],instructionTypes:[x?BX.CpmmSwapBaseOut:BX.ClmmSwapBaseIn]}),U.addCustomComputeBudget(R),U.addTipInstruction(M),U.versionBuild({txVersion:L})}async lockLp(e){var t,r,n,i,o;let{poolInfo:a,lpAmount:s,computeBudgetConfig:u,txTipConfig:l,txVersion:c,feePayer:d,feeNftOwner:p}=e;s.isZero()&&this.logAndCreateError("lpAmount must greater than zero",{lpAmount:s.toString()});let f=this.createTxBuilder(d),h=null!=(t=e.poolKeys)?t:await this.getCpmmPoolKeys(a.id),m=await Nt({poolInfo:a,poolKeys:h,ownerInfo:{wallet:this.scope.ownerPubKey,feePayer:null!=(r=e.feePayer)?r:this.scope.ownerPubKey},feeNftOwner:null!=p?p:this.scope.ownerPubKey,lockProgram:null!=(n=e.programId)?n:Cy,lockAuthProgram:null!=(i=e.authProgram)?i:Cb,lpAmount:s,withMetadata:null==(o=e.withMetadata)||o,getEphemeralSigners:e.getEphemeralSigners});return f.addInstruction(m),f.addCustomComputeBudget(u),f.addTipInstruction(l),f.versionBuild({txVersion:c,extInfo:m.address})}async harvestLockLp(e){var t;let{poolInfo:r,lpFeeAmount:n,nftMint:i,programId:o=Cy,authProgram:a=Cb,cpmmProgram:s,computeBudgetConfig:u,txTipConfig:l,txVersion:c,closeWsol:d=!0}=e;n.isZero()&&this.logAndCreateError("lpFeeAmount must greater than zero",{lpAmount:n.toString()});let p=e.feePayer||this.scope.ownerPubKey,f=this.createTxBuilder(p),[h,m]=[new ho(r.mintA.address),new ho(r.mintB.address)],g=h.equals(BB),y=m.equals(BB),{account:b,instructionParams:_}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:r.mintA.programId,mint:new ho(r.mintA.address),notUseTokenAccount:g,owner:this.scope.ownerPubKey,createInfo:{payer:this.scope.ownerPubKey,amount:0},skipCloseAccount:!(g&&d),associatedOnly:!g,checkCreateATAOwner:!1});_&&f.addInstruction(_);let{account:w,instructionParams:v}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:r.mintB.programId,mint:new ho(r.mintB.address),notUseTokenAccount:y,owner:this.scope.ownerPubKey,createInfo:{payer:this.scope.ownerPubKey,amount:0},skipCloseAccount:!(y&&d),associatedOnly:!y,checkCreateATAOwner:!1});v&&f.addInstruction(v),b&&w||this.logAndCreateError("cannot found target token accounts",{tokenAccountA:b,tokenAccountB:w});let k=null!=(t=e.poolKeys)?t:await this.getCpmmPoolKeys(r.id),{publicKey:A}=B3(p,i,SX),{publicKey:S}=L3(o,i),{publicKey:I}=B3(a,new ho(r.lpMint.address),SX);return f.addInstruction({instructions:[Nr({programId:o,nftOwner:this.scope.ownerPubKey,auth:a,nftMint:i,nftAccount:A,lockPda:S,poolId:new ho(r.id),mintLp:new ho(k.mintLp.address),userVaultA:b,userVaultB:w,poolVaultA:new ho(k.vault.A),poolVaultB:new ho(k.vault.B),mintA:h,mintB:m,lockLpVault:I,lpFeeAmount:n,cpmmProgram:null==s?void 0:s.programId,cpmmAuthProgram:null==s?void 0:s.authProgram})],instructionTypes:[BX.CpmmCollectLockFee]}),f.addCustomComputeBudget(u),f.addTipInstruction(l),f.versionBuild({txVersion:c})}async harvestMultiLockLp(e){let{lockInfo:t,programId:r=Cy,authProgram:n=Cb,cpmmProgram:i,computeBudgetConfig:o,txVersion:a,closeWsol:s=!0}=e,u=e.feePayer||this.scope.ownerPubKey,l=this.createTxBuilder(u);return t.forEach(async e=>{var t;let{poolInfo:o,lpFeeAmount:a,nftMint:c}=e;if(a.isZero())return;let[d,p]=[new ho(o.mintA.address),new ho(o.mintB.address)],f=d.equals(BB),h=p.equals(BB),m,g;if(f){let{account:e,instructionParams:t}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:o.mintA.programId,mint:new ho(o.mintA.address),notUseTokenAccount:!0,owner:this.scope.ownerPubKey,createInfo:{payer:this.scope.ownerPubKey,amount:0},skipCloseAccount:!s,associatedOnly:!1,checkCreateATAOwner:!1});m=e,t&&l.addInstruction(t)}else{let e=new ho(o.mintA.address);m=this.scope.account.getAssociatedTokenAccount(e,new ho(o.mintA.programId)),l.addInstruction({instructions:[Er(this.scope.ownerPubKey,m,this.scope.ownerPubKey,e)]})}if(h){let{account:e,instructionParams:t}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:o.mintB.programId,mint:new ho(o.mintB.address),notUseTokenAccount:!0,owner:this.scope.ownerPubKey,createInfo:{payer:this.scope.ownerPubKey,amount:0},skipCloseAccount:!s,associatedOnly:!1,checkCreateATAOwner:!1});g=e,t&&l.addInstruction(t)}else{let e=new ho(o.mintB.address);g=this.scope.account.getAssociatedTokenAccount(e,new ho(o.mintB.programId)),l.addInstruction({instructions:[Er(this.scope.ownerPubKey,g,this.scope.ownerPubKey,e)]})}m&&g||this.logAndCreateError("cannot found target token accounts",{tokenAccountA:m,tokenAccountB:g});let y=null!=(t=e.poolKeys)?t:await this.getCpmmPoolKeys(o.id),{publicKey:b}=B3(u,c,SX),{publicKey:_}=L3(r,c),{publicKey:w}=B3(n,new ho(o.lpMint.address),SX);l.addInstruction({instructions:[Nr({programId:r,nftOwner:this.scope.ownerPubKey,auth:n,nftMint:c,nftAccount:b,lockPda:_,poolId:new ho(o.id),mintLp:new ho(y.mintLp.address),userVaultA:m,userVaultB:g,poolVaultA:new ho(y.vault.A),poolVaultB:new ho(y.vault.B),mintA:d,mintB:p,lockLpVault:w,lpFeeAmount:a,cpmmProgram:null==i?void 0:i.programId,cpmmAuthProgram:null==i?void 0:i.authProgram})],instructionTypes:[BX.CpmmCollectLockFee]})}),0===a?l.sizeCheckBuildV0({computeBudgetConfig:o}):l.sizeCheckBuild({computeBudgetConfig:o})}computeSwapAmount({pool:e,amountIn:t,outputMint:r,slippage:n}){let i=r.toString()===e.mintB.address,o=LZ.swap(t,i?e.baseReserve:e.quoteReserve,i?e.quoteReserve:e.baseReserve,e.configInfo.tradeFeeRate),a=new Ba(o.destinationAmountSwapped.toString()).div(o.sourceAmountSwapped.toString()),s=o.destinationAmountSwapped.mul(new(ed(d0))((1-n)*1e4)).div(new(ed(d0))(1e4));return{allTrade:o.sourceAmountSwapped.eq(t),amountIn:t,amountOut:o.destinationAmountSwapped,minAmountOut:s,executionPrice:a,fee:o.tradeFee,priceImpact:e.poolPrice.sub(a).div(e.poolPrice)}}computePairAmount({poolInfo:e,baseReserve:t,quoteReserve:r,amount:n,slippage:i,epochInfo:o,baseIn:a}){var s,u,l,c,d,p,f,h,m;let g=1-Number(i.toSignificant())/100,y=new(ed(d0))(new Ba(n).mul(10**e[a?"mintA":"mintB"].decimals).mul(g).toFixed(0)),b=Ck(y,e[a?"mintA":"mintB"].extensions.feeConfig,o,!1),_=y.sub(null!=(s=b.fee)?s:new(ed(d0))(0)),w=new(ed(d0))(new Ba(e.lpAmount).mul(10**e.lpMint.decimals).toFixed(0,Ba.ROUND_DOWN));this.logDebug("baseReserve:",t.toString(),"quoteReserve:",r.toString()),this.logDebug("tokenIn:",a?e.mintA.symbol:e.mintB.symbol,"amountIn:",y.toString(),"amountInFee:",null!=(l=null==(u=b.fee)?void 0:u.toString())?l:0,"anotherToken:",a?e.mintB.symbol:e.mintA.symbol,"slippage:",`${i.toSignificant()}%`);let v=a?"base":"quote";this.logDebug("input side:",v);let k=_.mul(w).div("base"===v?t:r),A={amount:Bj,fee:void 0,expirationTime:void 0};if(!_.isZero()){let n,i;let s=((n=k.mul(t).div(w)).isZero()||k.mul(t).mod(w).isZero()||(n=n.add(new(ed(d0))(1))),(i=k.mul(r).div(w)).isZero()||k.mul(r).mod(w).isZero()||(i=i.add(new(ed(d0))(1))),{amountA:n,amountB:i});this.logDebug("lpAmountData:",{amountA:s.amountA.toString(),amountB:s.amountB.toString()}),A=Ck(s[a?"amountB":"amountA"],e[a?"mintB":"mintA"].extensions.feeConfig,o,!0)}let S=new BD(new(ed(d0))(1)).add(i),I=new BD(new(ed(d0))(1)).sub(i),E=Ck(S.mul(A.amount.sub(null!=(c=A.fee)?c:new(ed(d0))(0))).quotient,e[a?"mintB":"mintA"].extensions.feeConfig,o,!0),T=Ck(I.mul(A.amount.sub(null!=(d=A.fee)?d:new(ed(d0))(0))).quotient,e[a?"mintB":"mintA"].extensions.feeConfig,o,!0);return this.logDebug("anotherAmount:",A.amount.toString(),"anotherAmountFee:",null!=(f=null==(p=A.fee)?void 0:p.toString())?f:0,"maxAnotherAmount:",E.amount.toString(),"maxAnotherAmountFee:",null!=(m=null==(h=E.fee)?void 0:h.toString())?m:0),{inputAmountFee:b,anotherAmount:A,maxAnotherAmount:E,minAnotherAmount:T,liquidity:k}}},Na={[Cn.toBase58()]:3},Ns={3:Cn},Nu=Rv([Ri(5),Ri(8),Rm("ownAddress"),Rd("vaultSignerNonce"),Rm("baseMint"),Rm("quoteMint"),Rm("baseVault"),Rd("baseDepositsTotal"),Rd("baseFeesAccrued"),Rm("quoteVault"),Rd("quoteDepositsTotal"),Rd("quoteFeesAccrued"),Rd("quoteDustThreshold"),Rm("requestQueue"),Rm("eventQueue"),Rm("bids"),Rm("asks"),Rd("baseLotSize"),Rd("quoteLotSize"),Rd("feeRateBps"),Rd("referrerRebatesAccrued"),Ri(7)]),Nl={3:Nu},Nc=xV("Serum"),Nd=class{static getProgramId(e){let t=Ns[e];return t||Nc.logWithError("invalid version","version",e),t}static getVersion(e){let t=e.toBase58(),r=Na[t];return r||Nc.logWithError("invalid program id","programId",t),r}static getStateLayout(e){let t=Nl[e];return t||Nc.logWithError(!!t,"invalid version","version",e),t}static getLayouts(e){return{state:this.getStateLayout(e)}}static getAssociatedAuthority({programId:e,marketId:t}){let r=[t.toBuffer()],n=0,i;for(;n<100;){try{let t=r.concat(xO.from([n]),xO.alloc(7));i=ho.createProgramAddressSync(t,e)}catch(e){if(e instanceof TypeError)throw e;n++;continue}return{publicKey:i,nonce:n}}return Nc.logWithError("unable to find a viable program address nonce","params",{programId:e,marketId:t}),{publicKey:ho.default,nonce:n}}},Np=new(ed(d0))(0),Nf=class extends Cz{constructor(e){super(e)}async getWSolAccounts(){this.scope.checkOwner(),await this.scope.account.fetchWalletTokenAccounts();let e=this.scope.account.tokenAccounts.filter(e=>e.mint.equals(BB));return e.sort((e,t)=>e.isAssociated?1:t.isAssociated||e.amount.lt(t.amount)?-1:1),e}async unWrapWSol(e){let{amount:t,tokenProgram:r,txVersion:n=1,feePayer:i}=e,o=await this.getWSolAccounts(),a=this.createTxBuilder(i);a.addCustomComputeBudget(e.computeBudgetConfig);let s=Bl(t);for(let e=0;e<o.length;e++)s.gte(o[e].amount)?(a.addInstruction({instructions:[RE({tokenAccount:o[e].publicKey,payer:this.scope.ownerPubKey,owner:this.scope.ownerPubKey,programId:r})]}),s.sub(o[e].amount)):a.addInstruction({instructions:[RE({tokenAccount:o[e].publicKey,payer:this.scope.ownerPubKey,owner:this.scope.ownerPubKey,programId:r})]});return a.versionBuild({txVersion:n})}async wrapWSol(e,t,r,n){let i=this.createTxBuilder(n),o=await RT({connection:this.scope.connection,owner:this.scope.ownerPubKey,payer:this.scope.ownerPubKey,amount:e,skipCloseAccount:!0});return i.addInstruction(o),i.versionBuild({txVersion:null!=r?r:1})}async swap({swapInfo:e,swapPoolKeys:t,ownerInfo:r,computeBudgetConfig:n,routeProgram:i,txVersion:o,feePayer:a}){let s,u,l=this.createTxBuilder(a),c=e.amountIn,d=e.amountOut,p=c.amount.token.mint.equals(BB),f=d.amount.token.mint.equals(BB),h=c.amount.token.mint,m=d.amount.token.mint,{account:g,instructionParams:y}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:c.amount.token.isToken2022?SZ:SX,mint:h,notUseTokenAccount:p,owner:this.scope.ownerPubKey,skipCloseAccount:!p,createInfo:p?{payer:this.scope.ownerPubKey,amount:c.amount.raw}:void 0,associatedOnly:!p&&r.associatedOnly,checkCreateATAOwner:r.checkCreateATAOwner});if(y&&l.addInstruction(y),void 0===g)throw Error("input account check error");if("route"!==e.routeType||f){let{account:e,instructionParams:t}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:d.amount.token.isToken2022?SZ:SX,mint:m,notUseTokenAccount:f,owner:this.scope.ownerPubKey,skipCloseAccount:!0,createInfo:{payer:this.scope.ownerPubKey,amount:0},associatedOnly:!f&&r.associatedOnly,checkCreateATAOwner:r.checkCreateATAOwner});s=e,t&&l.addInstruction(t)}else s=this.scope.account.getAssociatedTokenAccount(m,d.amount.token.isToken2022?SZ:SX);if(f&&l.addInstruction({endInstructions:[RE({owner:this.scope.ownerPubKey,payer:this.scope.ownerPubKey,tokenAccount:s,programId:SX})],endInstructionTypes:[BX.CloseAccount]}),"route"===e.routeType){let t=e.middleToken;u=this.scope.account.getAssociatedTokenAccount(t.mint,t.isToken2022?SZ:SX)}let b=t||await this.computePoolToPoolKeys({pools:e.poolInfoList}),_=function({routeProgram:e,ownerInfo:t,inputMint:r,swapInfo:n}){var i,o,a,s,u,l,c;if("amm"===n.routeType){if(6===n.poolInfo[0].version){let e=n.poolKey[0],s=BU(e),u=r.equals(s.mintA.address)?Md.add(Mo):Mp.sub(Mo);return Ll.makeSwapBaseInInstructions({poolInfo:e,poolKeys:e,observationId:n.poolInfo[0].observationId,ownerInfo:{wallet:t.wallet,tokenAccountA:s.mintA.address.equals(r)?t.sourceToken:t.destinationToken,tokenAccountB:s.mintA.address.equals(r)?t.destinationToken:t.sourceToken},inputMint:r,amountIn:n.amountIn.amount.raw,amountOutMin:n.minAmountOut.amount.raw.sub(null!=(o=null==(i=n.minAmountOut.fee)?void 0:i.raw)?o:new(ed(d0))(0)),sqrtPriceLimitX64:u,remainingAccounts:null!=(a=n.remainingAccounts[0])?a:[]})}if(7===n.poolInfo[0].version){let e=n.poolInfo[0],i=r.toString()===n.poolInfo[0].mintA.address;return{signers:[],instructions:[Ne(e.programId,t.wallet,e.authority,e.configId,e.id,t.sourceToken,t.destinationToken,i?e.vaultA:e.vaultB,i?e.vaultB:e.vaultA,i?e.mintProgramA:e.mintProgramB,i?e.mintProgramB:e.mintProgramA,new ho(e[i?"mintA":"mintB"].address),new ho(e[i?"mintB":"mintA"].address),e.observationId,n.amountIn.amount.raw,n.minAmountOut.amount.raw)],lookupTableAddress:[],instructionTypes:[i?BX.CpmmSwapBaseIn:BX.CpmmSwapBaseOut],address:{}}}{let e=n.poolKey[0];return{signers:[],instructions:[LI({poolKeys:e,version:n.poolInfo[0].pooltype.includes("StablePool")?5:4,userKeys:{tokenAccountIn:t.sourceToken,tokenAccountOut:t.destinationToken,owner:t.wallet},amountIn:n.amountIn.amount.raw,amountOut:n.minAmountOut.amount.raw.sub(null!=(u=null==(s=n.minAmountOut.fee)?void 0:s.raw)?u:new(ed(d0))(0)),fixedSide:"in"})],lookupTableAddress:e.lookupTableAccount?[e.lookupTableAccount]:[],instructionTypes:[n.poolInfo[0].pooltype.includes("StablePool")?BX.AmmV5SwapBaseIn:BX.AmmV4SwapBaseIn],address:{}}}}if("route"===n.routeType){let i=n.poolInfo[0],o=n.poolInfo[1],a=n.poolKey[0],s=n.poolKey[1];if(void 0===t.routeToken)throw Error("owner route token account check error");return{signers:[],instructions:[function(e,t,r,n,i,o,a,s,u,l,c,d,p,f,h){var m;let g=[],y=[Bv({pubkey:SX,isWritable:!1}),Bv({pubkey:SZ,isWritable:!1}),Bv({pubkey:SQ,isWritable:!1}),Bv({pubkey:hV.programId,isWritable:!1}),Bv({pubkey:t,isSigner:!0})];y.push(Bv({pubkey:r})),y.push(Bv({pubkey:i}));let b=[u,l],_=[c,d],w=[o,a,s];for(let e=0;e<b.length;e++){let t=b[e],r=w[e]===t.mintA.address;if(y.push(Bv({pubkey:new ho(t.programId),isWritable:!1})),e===b.length-1?y.push(Bv({pubkey:i})):y.push(Bv({pubkey:n})),y.push(Bv({pubkey:new ho(w[e])})),y.push(Bv({pubkey:new ho(w[e+1])})),6===t.version){let n=_[e];for(let i of(y.push(Bv({pubkey:new ho(n.config.id)})),y.push(Bv({pubkey:new ho(n.id)})),y.push(Bv({pubkey:new ho(r?n.vault.A:n.vault.B)})),y.push(Bv({pubkey:new ho(r?n.vault.B:n.vault.A)})),y.push(Bv({pubkey:new ho(t.observationId)})),y.push(Bv({pubkey:BE})),y.push(Bv({pubkey:ML(new ho(t.programId),new ho(t.id)).publicKey})),g.push(function(e,t){if(!e)return t?Mf:Mh;if(t){let t=new(ed(d0))(e).div(new(ed(d0))(25));return t.gt(Mf)?t:Mf}{let t=new(ed(d0))(e).mul(new(ed(d0))(25));return t.lt(Mh)?t:Mh}}(t.sqrtPriceX64.toString(),r)),null!=(m=h[e])?m:[]))y.push(Bv({pubkey:new ho(i)}))}else if(5===t.version){let t=_[e];y.push(Bv({pubkey:new ho(t.id)})),y.push(Bv({pubkey:new ho(t.authority),isWritable:!1})),y.push(Bv({pubkey:new ho(t.marketProgramId)})),y.push(Bv({pubkey:new ho(t.marketAuthority)})),y.push(Bv({pubkey:Co,isWritable:!1})),y.push(Bv({pubkey:new ho(t.openOrders)})),y.push(Bv({pubkey:new ho(t.vault.A)})),y.push(Bv({pubkey:new ho(t.vault.B)})),y.push(Bv({pubkey:new ho(t.id)})),y.push(Bv({pubkey:new ho(t.id)})),y.push(Bv({pubkey:new ho(t.id)})),y.push(Bv({pubkey:new ho(t.id)})),y.push(Bv({pubkey:new ho(t.id)})),y.push(Bv({pubkey:new ho(t.id)})),y.push(Bv({pubkey:new ho(t.marketId)})),y.push(Bv({pubkey:new ho(t.marketBids)})),y.push(Bv({pubkey:new ho(t.marketAsks)})),y.push(Bv({pubkey:new ho(t.marketEventQueue)})),y.push(Bv({pubkey:new ho(t.marketBaseVault)})),y.push(Bv({pubkey:new ho(t.marketQuoteVault)}))}else if(4===t.version){let r=_[e],n=1!==t.status;y.push(Bv({pubkey:new ho(r.id)})),y.push(Bv({pubkey:new ho(r.authority),isWritable:!1})),y.push(Bv({pubkey:new ho(n?r.id:r.marketProgramId)})),y.push(Bv({pubkey:new ho(n?r.id:r.marketAuthority)})),y.push(Bv({pubkey:new ho(n?r.id:r.openOrders)})),y.push(Bv({pubkey:new ho(r.vault.A)})),y.push(Bv({pubkey:new ho(r.vault.B)})),y.push(Bv({pubkey:new ho(n?r.id:r.marketId)})),y.push(Bv({pubkey:new ho(n?r.id:r.marketBids)})),y.push(Bv({pubkey:new ho(n?r.id:r.marketAsks)})),y.push(Bv({pubkey:new ho(n?r.id:r.marketEventQueue)})),y.push(Bv({pubkey:new ho(n?r.id:r.marketBaseVault)})),y.push(Bv({pubkey:new ho(n?r.id:r.marketQuoteVault)}))}else if(7===t.version){let n=_[e];y.push(Bv({pubkey:new ho(n.authority)})),y.push(Bv({pubkey:new ho(n.config.id)})),y.push(Bv({pubkey:new ho(n.id)})),y.push(Bv({pubkey:new ho(r?n.vault.A:n.vault.B)})),y.push(Bv({pubkey:new ho(r?n.vault.B:n.vault.A)})),y.push(Bv({pubkey:new ho(t.observationId)}))}else throw Error("pool type error")}let v=Rv([Rl("insId"),Rd("amountIn"),Rd("amountOut"),Rk(Rp(),g.length,"clmmPriceLimit")]),k=xO.alloc(v.span);return v.encode({insId:0,amountIn:p,amountOut:f,clmmPriceLimit:g},k),new hI({keys:y,programId:e,data:k})}(e,t.wallet,t.sourceToken,t.routeToken,t.destinationToken,r.toString(),n.middleToken.mint.toString(),n.outputMint.toString(),i,o,a,s,n.amountIn.amount.raw,n.minAmountOut.amount.raw.sub(null!=(c=null==(l=n.minAmountOut.fee)?void 0:l.raw)?c:new(ed(d0))(0)),n.remainingAccounts)],instructionTypes:[BX.RouteSwap],lookupTableAddress:[a.lookupTableAccount,s.lookupTableAccount].filter(e=>void 0!==e),address:{}}}throw Error("route type error")}({routeProgram:i,inputMint:h,swapInfo:xq(xF({},e),{poolInfo:[...e.poolInfoList],poolKey:b,outputMint:m}),ownerInfo:{wallet:this.scope.ownerPubKey,sourceToken:g,routeToken:u,destinationToken:s}});if(void 0!==e.feeConfig){let t=this.createTxBuilder();t.addInstruction({instructions:[xE(g,e.feeConfig.feeAccount,this.scope.ownerPubKey,e.feeConfig.feeAmount.toNumber())],instructionTypes:[BX.TransferAmount]}),t.addInstruction(_);let{transactions:r}=0===o?await t.sizeCheckBuildV0():await t.sizeCheckBuild();r.length<2&&l.addInstruction({instructions:[xE(g,e.feeConfig.feeAccount,this.scope.ownerPubKey,e.feeConfig.feeAmount.toNumber())],instructionTypes:[BX.TransferAmount]})}return l.addInstruction(_),0===o?l.sizeCheckBuildV0({computeBudgetConfig:n,address:_.address}):l.sizeCheckBuild({computeBudgetConfig:n,address:_.address})}async fetchRoutePoolBasicInfo(e){let{amm:t=Ci,clmm:r=Ca,cpmm:n=Cm}=e||{},i=await this.scope.connection.getProgramAccounts(t,{dataSlice:{offset:Lb.offsetOf("baseMint"),length:64}}),o=Rv([Rm("baseMint"),Rm("quoteMint")]),a=i.map(e=>({id:e.pubkey,version:4,mintA:o.decode(e.account.data).baseMint,mintB:o.decode(e.account.data).quoteMint})),s=Rv([Rm("mintA"),Rm("mintB")]);return{clmmPools:(await this.scope.connection.getProgramAccounts(r,{filters:[{dataSize:M3.span}],dataSlice:{offset:M3.offsetOf("mintA"),length:64}})).map(e=>{let t=s.decode(e.account.data);return{id:e.pubkey,version:6,mintA:t.mintA,mintB:t.mintB}}),ammPools:a,cpmmPools:(await this.scope.connection.getProgramAccounts(n,{dataSlice:{offset:Ni.offsetOf("mintA"),length:64}})).map(e=>{let t=s.decode(e.account.data);return{id:e.pubkey,version:7,mintA:t.mintA,mintB:t.mintB}})}}getAllRoute({inputMint:e,outputMint:t,clmmPools:r,ammPools:n,cpmmPools:i}){e=e.toString()===ho.default.toString()?BB:e,t=t.toString()===ho.default.toString()?BB:t;let o={},a={},s={},u=[],l={};for(let n of null!=r?r:[]){if((n.mintA.equals(e)&&n.mintB.equals(t)||n.mintA.equals(t)&&n.mintB.equals(e))&&(u.push(n),a[n.id.toString()]=n),n.mintA.equals(e)){let e=n.mintB.toString();void 0===l[e]&&(l[e]={mintProgram:SX,in:[],out:[],mDecimals:0}),l[e].in.push(n)}if(n.mintB.equals(e)){let e=n.mintA.toString();void 0===l[e]&&(l[e]={mintProgram:SX,in:[],out:[],mDecimals:0}),l[e].in.push(n)}if(n.mintA.equals(t)){let e=n.mintB.toString();void 0===l[e]&&(l[e]={mintProgram:SX,in:[],out:[],mDecimals:0}),l[e].out.push(n)}if(n.mintB.equals(t)){let e=n.mintA.toString();void 0===l[e]&&(l[e]={mintProgram:SX,in:[],out:[],mDecimals:0}),l[e].out.push(n)}}let c=[];for(let r of n)(r.mintA.equals(e)&&r.mintB.equals(t)||r.mintA.equals(t)&&r.mintB.equals(e))&&(u.push(r),o[r.id.toBase58()]=r,c.push(r)),r.mintA.equals(e)&&(void 0===l[r.mintB.toBase58()]&&(l[r.mintB.toBase58()]={mintProgram:SX,in:[],out:[],mDecimals:0}),l[r.mintB.toBase58()].in.push(r)),r.mintB.equals(e)&&(void 0===l[r.mintA.toBase58()]&&(l[r.mintA.toBase58()]={mintProgram:SX,in:[],out:[],mDecimals:0}),l[r.mintA.toBase58()].in.push(r)),r.mintA.equals(t)&&(void 0===l[r.mintB.toBase58()]&&(l[r.mintB.toBase58()]={mintProgram:SX,in:[],out:[],mDecimals:0}),l[r.mintB.toBase58()].out.push(r)),r.mintB.equals(t)&&(void 0===l[r.mintA.toBase58()]&&(l[r.mintA.toBase58()]={mintProgram:SX,in:[],out:[],mDecimals:0}),l[r.mintA.toBase58()].out.push(r));for(let r of i)(r.mintA.equals(e)&&r.mintB.equals(t)||r.mintA.equals(t)&&r.mintB.equals(e))&&(u.push(r),s[r.id.toBase58()]=r),r.mintA.equals(e)&&(void 0===l[r.mintB.toBase58()]&&(l[r.mintB.toBase58()]={mintProgram:SX,in:[],out:[],mDecimals:0}),l[r.mintB.toBase58()].in.push(r)),r.mintB.equals(e)&&(void 0===l[r.mintA.toBase58()]&&(l[r.mintA.toBase58()]={mintProgram:SX,in:[],out:[],mDecimals:0}),l[r.mintA.toBase58()].in.push(r)),r.mintA.equals(t)&&(void 0===l[r.mintB.toBase58()]&&(l[r.mintB.toBase58()]={mintProgram:SX,in:[],out:[],mDecimals:0}),l[r.mintB.toBase58()].out.push(r)),r.mintB.equals(t)&&(void 0===l[r.mintA.toBase58()]&&(l[r.mintA.toBase58()]={mintProgram:SX,in:[],out:[],mDecimals:0}),l[r.mintA.toBase58()].out.push(r));for(let e of Object.keys(l)){if(1===l[e].in.length&&1===l[e].out.length&&l[e].in[0].id.equals(l[e].out[0].id)||0===l[e].in.length||0===l[e].out.length){delete l[e];continue}let t=l[e];for(let e of t.in)for(let r of t.out)6===e.version&&void 0===a[e.id.toString()]?a[e.id.toString()]=e:7===e.version&&void 0===s[e.id.toString()]?s[e.id.toString()]=e:(4===e.version||5===e.version)&&void 0===o[e.id.toString()]&&(o[e.id.toString()]=e),6===r.version&&void 0===a[r.id.toString()]?a[r.id.toString()]=r:7===r.version&&void 0===s[r.id.toString()]?s[r.id.toString()]=r:(4===r.version||5===r.version)&&void 0===o[r.id.toString()]&&(o[r.id.toString()]=r)}return{directPath:u,addLiquidityPools:c,routePathDict:l,needSimulate:Object.values(o),needTickArray:Object.values(a),cpmmPoolList:Object.values(s)}}async fetchSwapRoutesData({routes:e,inputMint:t,outputMint:r}){let n=new Set([...e.needTickArray.map(e=>[e.mintA.toBase58(),e.mintB.toBase58()]).flat(),t.toString(),r.toString()]);console.log("fetching amm pools info, total: ",e.needSimulate.length);let i=await this.scope.liquidity.getRpcPoolInfos(e.needSimulate.map(e=>e.id)),o=Lq(i),a={};Object.values(o).forEach(e=>{n.delete(e.mintA.address),a[e.mintA.address]={address:new ho(e.mintA.address),programId:SX,mintAuthority:null,supply:BigInt(0),decimals:e.mintA.decimals,isInitialized:!0,freezeAuthority:null,tlvData:xO.from("0","hex"),feeConfig:void 0},n.delete(e.mintB.address),a[e.mintB.address]={address:new ho(e.mintB.address),programId:SX,mintAuthority:null,supply:BigInt(0),decimals:e.mintB.decimals,isInitialized:!0,freezeAuthority:null,tlvData:xO.from("0","hex"),feeConfig:void 0}}),console.log("fetching cpmm pools info, total: ",e.cpmmPoolList.length);let s=await this.scope.cpmm.getRpcPoolInfos(e.cpmmPoolList.map(e=>e.id.toBase58()),!0);Object.values(s).forEach(e=>{let[t,r]=[e.mintA.toBase58(),e.mintB.toBase58()];e.mintProgramA.equals(SX)?(n.delete(t),a[t]={address:e.mintA,programId:e.mintProgramA,mintAuthority:null,supply:BigInt(0),decimals:e.mintDecimalA,isInitialized:!0,freezeAuthority:null,tlvData:xO.from("0","hex"),feeConfig:void 0}):n.add(t),e.mintProgramB.equals(SX)?(n.delete(r),a[r]={address:e.mintB,programId:e.mintProgramB,mintAuthority:null,supply:BigInt(0),decimals:e.mintDecimalB,isInitialized:!0,freezeAuthority:null,tlvData:xO.from("0","hex"),feeConfig:void 0}):n.add(r)}),console.log("fetching mints info, total: ",n.size);let u=await xZ({connection:this.scope.connection,mints:Array.from(n).map(e=>new ho(e))});a=xF(xF({},a),u);let l=this.scope.cpmm.toComputePoolInfos({pools:s,mintInfos:a});console.log("fetching clmm pools info, total:",e.needTickArray.length);let c=await this.scope.clmm.getRpcClmmPoolInfos({poolIds:e.needTickArray.map(e=>e.id)}),{computeClmmPoolInfo:d,computePoolTickData:p}=await this.scope.clmm.getComputeClmmPoolInfos({clmmPoolsRpcInfo:c,mintInfos:a}),f=Object.keys(e.routePathDict).reduce((t,r)=>xq(xF({},t),{[r]:xq(xF({},e.routePathDict[r]),{mintProgram:a[r].programId,mDecimals:a[r].decimals,in:e.routePathDict[r].in.map(e=>o[e.id.toBase58()]||d[e.id.toBase58()]||l[e.id.toBase58()]),out:e.routePathDict[r].out.map(e=>o[e.id.toBase58()]||d[e.id.toBase58()]||l[e.id.toBase58()])})}),{});return{mintInfos:a,ammPoolsRpcInfo:i,ammSimulateCache:o,clmmPoolsRpcInfo:c,computeClmmPoolInfo:d,computePoolTickData:p,computeCpmmData:l,routePathDict:f}}getAllRouteComputeAmountOut({inputTokenAmount:e,outputToken:t,directPath:r,routePathDict:n,simulateCache:i,tickCache:o,slippage:a,chainTime:s,epochInfo:u,feeConfig:l}){var c,d,p,f,h,m,g,y,b;let _=void 0===l?new(ed(d0))(0):e.raw.mul(new(ed(d0))(l.feeBps.toNumber())).div(new(ed(d0))(1e4)),w=e.raw.sub(_),v=new Bb(e.token,w),k=void 0===l?void 0:{feeAmount:_,feeAccount:l.feeAccount},A=xq(xF({},t),{address:BR(t.address).toString()}),S=[];for(let e of r)try{S.push(xq(xF({},this.computeAmountOut({itemPool:e,tickCache:o,simulateCache:i,chainTime:s,epochInfo:u,slippage:a,outputToken:A,amountIn:v})),{feeConfig:k}))}catch(t){this.logDebug("direct error",e.version,e.id.toString(),t.message)}for(let[e,t]of(this.logDebug("direct done"),Object.entries(n))){let r={chainId:101,address:e,programId:t.mintProgram.toBase58(),logoURI:"",symbol:"",name:"",decimals:t.mDecimals,tags:[],extensions:{}},n=t.in.map(e=>{try{return{pool:e,data:this.computeAmountOut({itemPool:e,tickCache:o,simulateCache:i,chainTime:s,epochInfo:u,slippage:a,outputToken:r,amountIn:v})}}catch(t){this.logDebug("route in error",e.version,e.id.toString(),t.message);return}}).sort((e,t)=>{var r,n,i,o;let a=void 0===e?Np:e.data.amountOut.amount.raw.sub(null!=(n=null==(r=e.data.amountOut.fee)?void 0:r.raw)?n:Np),s=void 0===t?Np:t.data.amountOut.amount.raw.sub(null!=(o=null==(i=t.data.amountOut.fee)?void 0:i.raw)?o:Np);return a.lt(s)?1:-1})[0];if(void 0===n)continue;let l=new Bb(Lc(r),n.data.amountOut.amount.raw.sub(null!=(d=null==(c=n.data.amountOut.fee)?void 0:c.raw)?d:Np));for(let e of t.out)try{let t=this.computeAmountOut({itemPool:e,tickCache:o,simulateCache:i,chainTime:s,epochInfo:u,slippage:a,outputToken:A,amountIn:l});S.push(xq(xF({},t),{allTrade:!!(n.data.allTrade&&t.allTrade),amountIn:n.data.amountIn,amountOut:t.amountOut,minAmountOut:t.minAmountOut,currentPrice:void 0,executionPrice:new Ba(new Bq({baseToken:n.data.amountIn.amount.token,denominator:n.data.amountIn.amount.raw,quoteToken:t.amountOut.amount.token,numerator:t.amountOut.amount.raw.sub(null!=(f=null==(p=t.amountOut.fee)?void 0:p.raw)?f:Np)}).toFixed()),priceImpact:new Ba(n.data.priceImpact.add(t.priceImpact).toFixed()),fee:[n.data.fee[0],t.fee[0]],routeType:"route",poolInfoList:[n.pool,e],remainingAccounts:[n.data.remainingAccounts[0],t.remainingAccounts[0]],minMiddleAmountFee:null!=(h=t.amountOut.fee)&&h.raw?new Bb(n.data.amountOut.amount.token,(null!=(g=null==(m=n.data.amountOut.fee)?void 0:m.raw)?g:Np).add(null!=(b=null==(y=t.amountOut.fee)?void 0:y.raw)?b:Np)):void 0,middleToken:n.data.amountOut.amount.token,poolReady:n.data.poolReady&&t.poolReady,poolType:[n.data.poolType,t.poolType],feeConfig:k,expirationTime:CA(n.data.expirationTime,t.expirationTime)}))}catch(t){this.logDebug("route out error",e.version,e.id.toString(),t.message)}}return S.filter(e=>(e.allTrade||this.logDebug(`pool ${e.poolInfoList.map(e=>e.id.toString()).join(",")} filter out since not all trade`),e.allTrade)).sort((e,t)=>e.amountOut.amount.raw.sub(t.amountOut.amount.raw).gt(Np)?-1:1)}computeAmountOut({itemPool:e,tickCache:t,simulateCache:r,chainTime:n,epochInfo:i,slippage:o,outputToken:a,amountIn:s}){if(6===e.version){let{allTrade:r,realAmountIn:u,amountOut:l,minAmountOut:c,expirationTime:d,currentPrice:p,executionPrice:f,priceImpact:h,fee:m,remainingAccounts:g,executionPriceX64:y}=MV.computeAmountOutFormat({poolInfo:e,tickArrayCache:t[e.id.toString()],amountIn:s.raw,tokenOut:a,slippage:o,epochInfo:i,catchLiquidityInsufficient:!0});return{allTrade:r,amountIn:u,amountOut:l,minAmountOut:c,currentPrice:new Ba(p.toFixed()),executionPrice:new Ba(f.toFixed()),priceImpact:new Ba(h.toFixed()),fee:[m],remainingAccounts:[g],routeType:"amm",poolInfoList:[e],poolReady:e.startTime<n,poolType:"CLMM",slippage:o,clmmExPriceX64:[y],expirationTime:CA(u.expirationTime,d)}}if(7===e.version){let{allTrade:t,executionPrice:r,amountOut:i,minAmountOut:u,priceImpact:l,fee:c}=this.scope.cpmm.computeSwapAmount({pool:e,outputMint:a.address,amountIn:s.raw,slippage:o});return{allTrade:t,amountIn:{amount:s,fee:void 0,expirationTime:void 0},amountOut:{amount:Ld(xq(xF({},a),{amount:i})),fee:void 0,expirationTime:void 0},minAmountOut:{amount:Ld(xq(xF({},a),{amount:u})),fee:void 0,expirationTime:void 0},currentPrice:e.poolPrice,executionPrice:r,priceImpact:l,fee:[new Bb(s.token,c)],remainingAccounts:[],routeType:"amm",poolInfoList:[e],poolReady:e.openTime.toNumber()<n,poolType:"CPMM",slippage:o,clmmExPriceX64:[void 0],expirationTime:void 0}}{if(![1,6,7].includes(r[e.id.toString()].status))throw Error("swap error");let{amountOut:t,minAmountOut:i,currentPrice:u,executionPrice:l,priceImpact:c,fee:d}=this.scope.liquidity.computeAmountOut({poolInfo:r[e.id.toString()],amountIn:s.raw,mintIn:s.token.mint,mintOut:a.address,slippage:o});return{amountIn:{amount:s,fee:void 0,expirationTime:void 0},amountOut:{amount:Ld(xq(xF({},a),{amount:t})),fee:void 0,expirationTime:void 0},minAmountOut:{amount:Ld(xq(xF({},a),{amount:i})),fee:void 0,expirationTime:void 0},currentPrice:u,executionPrice:l,priceImpact:c,fee:[new Bb(s.token,d)],routeType:"amm",poolInfoList:[e],remainingAccounts:[],poolReady:Number(r[e.id].openTime)<n,poolType:5===e.version?"STABLE":void 0,expirationTime:void 0,allTrade:!0,slippage:o,clmmExPriceX64:[void 0]}}}async computePoolToPoolKeys({pools:e,clmmRpcData:t={},ammRpcData:r={}}){let n=new Set(e.filter(e=>6===e.version&&!t[e.id.toString()]).map(e=>e.id.toString()));if(n.size>0){let e=await this.scope.clmm.getRpcClmmPoolInfos({poolIds:Array.from(n)});Object.keys(e).forEach(r=>{t[r]=e[r]})}let i=new Set(e.filter(e=>4===e.version&&!r[e.id.toString()]).map(e=>e.id.toString()));if(i.size>0){let e=await this.scope.liquidity.getRpcPoolInfos(Array.from(i));Object.keys(e).forEach(t=>{r[t]=e[t]})}let o=new Set(e.filter(e=>4===e.version).map(e=>e.marketId)),a={};o.size>0&&(await x$(this.scope.connection,Array.from(o).map(e=>({pubkey:new ho(e)})))).forEach(e=>{if(!e.accountInfo)return;let t=Nu.decode(e.accountInfo.data);a[e.pubkey.toBase58()]={marketId:e.pubkey.toString(),marketProgramId:e.accountInfo.owner.toString(),marketAuthority:Nd.getAssociatedAuthority({programId:e.accountInfo.owner,marketId:e.pubkey}).publicKey.toString(),marketBaseVault:t.baseVault.toString(),marketQuoteVault:t.quoteVault.toString(),marketBids:t.bids.toString(),marketAsks:t.asks.toString(),marketEventQueue:t.eventQueue.toString()}});let s=[];return e.forEach(e=>{if(6===e.version){let r=t[e.id.toString()],n={programId:e.programId.toBase58(),id:e.id.toBase58(),mintA:e.mintA,mintB:e.mintB,openTime:String(e.startTime),vault:{A:r.vaultA.toBase58(),B:r.vaultB.toBase58()},config:xq(xF({},e.ammConfig),{id:e.ammConfig.id.toString(),defaultRange:0,defaultRangePoint:[]}),rewardInfos:[],observationId:e.observationId.toBase58(),exBitmapAccount:e.exBitmapAccount.toBase58()};s.push(n)}else if(4===e.version){let t=r[e.id.toString()],n=xF({programId:e.programId,id:e.id,mintA:e.mintA,mintB:e.mintB,openTime:String(e.openTime),vault:{A:t.baseVault.toBase58(),B:t.quoteVault.toBase58()},authority:LN({programId:new ho(e.programId)}).publicKey.toString(),openOrders:t.openOrders.toBase58(),targetOrders:t.targetOrders.toBase58(),mintLp:e.lpMint},a[e.marketId]);s.push(n)}else 7===e.version&&s.push({observationId:e.observationId.toBase58(),programId:e.programId.toBase58(),id:e.id.toBase58(),mintA:e.mintA,mintB:e.mintB,openTime:String(e.openTime),authority:L2(e.programId).publicKey.toBase58(),vault:{A:e.vaultA.toBase58(),B:e.vaultB.toBase58()},mintLp:Lp({address:e.mintLp.toBase58(),programId:SX.toBase58(),decimals:e.lpDecimals}),config:xq(xF({id:e.configId.toBase58()},e.configInfo),{protocolFeeRate:e.configInfo.protocolFeeRate.toNumber(),tradeFeeRate:e.configInfo.tradeFeeRate.toNumber(),fundFeeRate:e.configInfo.fundFeeRate.toNumber(),createPoolFee:e.configInfo.createPoolFee.toString()})})}),s}},Nh=class extends Cz{static getPdaPoolId(e,t){return B0([Nh.SEED_CONFIG.pool.id,t.toBuffer()],e)}static getPdaOwnerId(e,t,r,n){return B0([Nh.SEED_CONFIG.owner.id,t.toBuffer(),r.toBuffer(),xO.from(new(ed(d0))(n).toArray())],e)}static async getAllInfo({connection:e,programId:t,poolIds:r,wallet:n,chainTime:i}){if(0===r.length)return[];let o=r.map(e=>Nh.getPdaPoolId(t,e).publicKey),a=[];for(let e=0;e<Nh.VERSION_PROJECT.length;e++)a.push(...o.map(r=>Nh.getPdaOwnerId(t,r,n,e).publicKey));let s=await xG(e,[...o,...a]),u=[];for(let e=0;e<s.length;e++){let n=Math.floor(e/r.length),l=e%r.length,c=o[l],d=a[e],p=s[l],f=s[r.length+e];if(!(p&&f)||p.data.length!==Nh.POOL_LAYOUT.span||f.data.length!==Nh.OWNER_LAYOUT.span)continue;let h=Nh.POOL_LAYOUT.decode(p.data),m=Nh.OWNER_LAYOUT.decode(f.data),g=h.openTime.toNumber(),y=h.endTime.toNumber(),b=3!==m.tokenInfo.map(e=>e.debtAmount.gt(new(ed(d0))(0))).filter(e=>!e).length,_=i>g&&i<y&&1===h.status,w=b&&_;u.push({programId:t,poolId:c,ammId:h.ammId,ownerAccountId:d,snapshotLpAmount:m.lpAmount,project:Nh.VERSION_PROJECT[n],openTime:g,endTime:y,canClaim:w,canClaimErrorType:b?_?void 0:"outOfOperationalTime":"alreadyClaimIt",tokenInfo:h.tokenInfo.map((e,t)=>({mintAddress:e.mintAddress,mintVault:e.mintVault,mintDecimals:e.mintDecimals,perLpLoss:e.perLpLoss,debtAmount:m.tokenInfo[t].debtAmount.add(m.tokenInfo[t].claimedAmount)}))})}return u}async makeClaimTransaction({poolInfo:e,ownerInfo:t,feePayer:r}){t.wallet||this.scope.checkOwner();let n=this.createTxBuilder(r),i=t.wallet||this.scope.ownerPubKey,o=[];for(let r of e.tokenInfo){let{account:e,instructionParams:a}=await this.scope.account.getOrCreateTokenAccount({mint:r.mintAddress,owner:this.scope.ownerPubKey,notUseTokenAccount:r.mintAddress.equals(BM.WSOL.mint),createInfo:{payer:i,amount:0},skipCloseAccount:!r.mintAddress.equals(BM.WSOL.mint),associatedOnly:!r.mintAddress.equals(BM.WSOL.mint)&&t.associatedOnly});a&&n.addInstruction(a),o.push(e)}n.addInstruction({instructions:[Nh.makeClaimInstruction({programId:e.programId,poolInfo:e,ownerInfo:{wallet:i,ownerPda:e.ownerAccountId,claimAddress:o}})]});let{transaction:a,signers:s}=n.build();return[{transaction:a,signer:s}]}async makeClaimAllTransaction({poolInfos:e,ownerInfo:t,feePayer:r}){let n=this.createTxBuilder(r),i=t.wallet||this.scope.ownerPubKey,o={};for(let r of e){let e=[];for(let a of r.tokenInfo){let{account:r,instructionParams:s}=await this.scope.account.getOrCreateTokenAccount({mint:a.mintAddress,owner:this.scope.ownerPubKey,notUseTokenAccount:a.mintAddress.equals(BM.WSOL.mint),createInfo:{payer:i,amount:0},skipCloseAccount:!a.mintAddress.equals(BM.WSOL.mint),associatedOnly:!a.mintAddress.equals(BM.WSOL.mint)&&t.associatedOnly});s&&n.addInstruction(s),r&&(o[a.mintAddress.toString()]=r,e.push(r))}n.addInstruction({instructions:[Nh.makeClaimInstruction({programId:r.programId,poolInfo:r,ownerInfo:{wallet:i,ownerPda:r.ownerAccountId,claimAddress:e}})]})}let{transaction:a,signers:s}=n.build(),u=n.allInstructions;return B1(u,[i,...s.map(e=>e.publicKey)])?[{transaction:a,signer:s}]:[{transaction:new hE().add(...u.slice(0,n.AllTxData.instructions.length-1)),signer:s},{transaction:new hE().add(...u.slice(n.AllTxData.instructions.length-1)),signer:[]},{transaction:new hE().add(...n.AllTxData.endInstructions),signer:[]}]}static makeClaimInstruction({programId:e,poolInfo:t,ownerInfo:r}){let n=Rv([]),i=[{pubkey:r.wallet,isSigner:!0,isWritable:!0},{pubkey:t.poolId,isSigner:!1,isWritable:!0},{pubkey:r.ownerPda,isSigner:!1,isWritable:!0},...r.claimAddress.map(e=>({pubkey:e,isSigner:!1,isWritable:!0})),...t.tokenInfo.map(({mintVault:e})=>({pubkey:e,isSigner:!1,isWritable:!0})),{pubkey:SX,isSigner:!1,isWritable:!1}],o=xO.alloc(n.span);return n.encode({},o),new hI({keys:i,programId:e,data:xO.from([10,66,208,184,161,6,191,98,...o])})}};Nh.CLAIMED_NUM=3,Nh.POOL_LAYOUT=Rv([Ri(8),Rl("bump"),Rl("status"),Rd("openTime"),Rd("endTime"),Rm("ammId"),Rk(Rv([Rl("mintDecimals"),Rm("mintAddress"),Rm("mintVault"),Rd("perLpLoss"),Rd("totalClaimedAmount")]),Nh.CLAIMED_NUM,"tokenInfo"),Rk(Rd(),10,"padding")]),Nh.OWNER_LAYOUT=Rv([Ri(8),Rl("bump"),Rl("version"),Rm("poolId"),Rm("owner"),Rd("lpAmount"),Rk(Rv([Rm("mintAddress"),Rd("debtAmount"),Rd("claimedAmount")]),Nh.CLAIMED_NUM,"tokenInfo"),Rk(Rd(),4,"padding")]),Nh.DEFAULT_POOL_ID=["58oQChx4yWmvKdwLLZzBi4ChoCc2fqCUWBkwMihLYQo2","6UmmUiYoBjSrhakAobJw8BvkmJtDVxaeBtbt7rxWo1mg","AVs9TA4nWDzfPJE9gGVNJMVhcQy3V9PGazuz33BfG2RA","DVa7Qmb5ct9RCpaU7UTpSaf3GVMYz17vNVU67XpdCRut","7XawhbbxtsRcQA8KTkHT9f9nc6d69UwqCDh6U5EEbEmX","6a1CsrpeZubDjEJE9s1CMVheB6HWM5d7m1cj2jkhyXhj","EoNrn8iUhwgJySD1pHu8Qxm5gSQqLK3za4m8xzD2RuEb","AceAyRTWt4PyB2pHqf2qhDgNZDtKVNaxgL8Ru3V4aN1P","6tmFJbMk5yVHFcFy7X2K8RwHjKLr6KVFLYXpgpBNeAxB"].map(e=>new ho(e)),Nh.SEED_CONFIG={pool:{id:xO.from("pool_seed","utf8")},owner:{id:xO.from("user_claim_seed","utf8")}},Nh.VERSION_PROJECT=[void 0,"Francium","Tulip","Larix"],Rv([Rl("instruction"),Rt("amount")]);var Nm=Rv([Rl("instruction")]);function Ng({programId:e},t){let r=[{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:Bx,isSigner:!1,isWritable:!1},...Object.entries(t).map(([e,t])=>({pubkey:t,isSigner:"userOwner"===e,isWritable:!["authority","userOwner"].includes(e)}))],n=xO.alloc(Nm.span);return Nm.encode({instruction:2},n),new hI({keys:r,programId:e,data:n})}function Ny(e){let{poolConfig:t,userKeys:r,side:n}=e,i="base"===n?r.baseTokenAccount:r.quoteTokenAccount,o="base"===n?t.baseVault:t.quoteVault,a=xO.alloc(Nm.span);Nm.encode({instruction:2},a);let s=[{pubkey:SX,isWritable:!1,isSigner:!1},{pubkey:hP,isWritable:!1,isSigner:!1},{pubkey:t.id,isWritable:!0,isSigner:!1},{pubkey:t.authority,isWritable:!1,isSigner:!1},{pubkey:o,isWritable:!0,isSigner:!1},{pubkey:i,isWritable:!0,isSigner:!1},{pubkey:r.ledgerAccount,isWritable:!0,isSigner:!1},{pubkey:r.owner,isWritable:!1,isSigner:!0}];return new hI({programId:t.programId,keys:s,data:a})}var Nb={[Cw.IDO_PROGRAM_ID_V1.toString()]:1,[Cw.IDO_PROGRAM_ID_V2.toString()]:2,[Cw.IDO_PROGRAM_ID_V3.toString()]:3,[Cw.IDO_PROGRAM_ID_V4.toString()]:4},N_=class extends Cz{async claim({ownerInfo:e,idoKeys:t,associatedOnly:r=!0,checkCreateATAOwner:n=!1,txVersion:i,feePayer:o}){let a=this.createTxBuilder(o),s=Nb[t.programId];s||this.logAndCreateError("invalid version",s);let u=BU(t),[l,c]=[!new(ed(d0))(e.coin).isZero(),!new(ed(d0))(e.pc).isZero()],d=u.projectInfo.mint.address.equals(BB),{account:p,instructionParams:f}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:u.projectInfo.mint.programId,mint:u.projectInfo.mint.address,owner:this.scope.ownerPubKey,createInfo:{payer:this.scope.ownerPubKey,amount:0},skipCloseAccount:!d,notUseTokenAccount:d,associatedOnly:!d&&r,checkCreateATAOwner:n});!p&&l&&this.logAndCreateError("target token accounts not found","mint",t.projectInfo.mint.address),l&&f&&a.addInstruction(f);let h=u.buyInfo.mint.address.equals(BB),{account:m,instructionParams:g}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:u.buyInfo.mint.programId,mint:u.buyInfo.mint.address,owner:this.scope.ownerPubKey,createInfo:{payer:this.scope.ownerPubKey,amount:0},skipCloseAccount:!h,notUseTokenAccount:h,associatedOnly:!h&&r,checkCreateATAOwner:n});if(!p&&c&&this.logAndCreateError("target token accounts not found","mint",t.projectInfo.mint.address),c&&g&&a.addInstruction(g),p&&m||this.logAndCreateError("target token accounts not found","mint",t.projectInfo.mint.address,t.buyInfo.mint.address),3===s)return a.addInstruction({instructions:[...l?[Ng({programId:u.programId},{idoId:u.id,authority:u.authority,poolTokenAccount:u.projectInfo.vault,userTokenAccount:p,userIdoInfo:new ho(e.userIdoInfo),userOwner:this.scope.ownerPubKey})]:[],...c?[Ng({programId:new ho(t.programId)},{idoId:u.id,authority:u.authority,poolTokenAccount:u.buyInfo.vault,userTokenAccount:m,userIdoInfo:new ho(e.userIdoInfo),userOwner:this.scope.ownerPubKey})]:[]]}).versionBuild({txVersion:i});if(s<3)return l||c||this.logAndCreateError("no claimable rewards"),a.addInstruction({instructions:[Ng({programId:u.programId},{idoId:u.id,authority:u.authority,poolQuoteTokenAccount:u.buyInfo.vault,poolBaseTokenAccount:u.projectInfo.vault,userQuoteTokenAccount:m,userBaseTokenAccount:p,userIdoInfo:new ho(e.userIdoInfo),userOwner:this.scope.ownerPubKey})]}).versionBuild({txVersion:i});let y={poolConfig:{id:u.id,programId:u.programId,authority:u.authority,baseVault:u.projectInfo.vault,quoteVault:u.buyInfo.vault,baseToken:t.projectInfo.mint,quoteToken:t.buyInfo.mint},userKeys:{baseTokenAccount:p,quoteTokenAccount:m,ledgerAccount:new ho(e.userIdoInfo),owner:this.scope.ownerPubKey}};return a.addInstruction({instructions:[...l?[Ny(xq(xF({},y),{side:"base"}))]:[],...c?[Ny(xq(xF({},y),{side:"quote"}))]:[]]}).versionBuild({txVersion:i})}},Nw=xO.from("vault_auth_seed","utf8"),Nv=(xO.from("global_config","utf8"),xO.from("pool","utf8")),Nk=xO.from("pool_vault","utf8"),NA=xO.from("pool_vesting","utf8"),NS=xO.from("platform_config","utf8");function NI(e){return B0([Nw],e)}function NE(e,t,r){return B0([Nv,t.toBuffer(),r.toBuffer()],e)}function NT(e,t,r){return B0([Nk,t.toBuffer(),r.toBuffer()],e)}function Nx(e){return B0([xO.from("__event_authority","utf8")],e)}function NP(e,t){return B0([NS,t.toBuffer()],e)}function NO(e,t,r){return B0([NA,t.toBuffer(),r.toBuffer()],e)}var NB={initialize:xO.from([175,175,109,31,13,152,155,237]),buyExactIn:xO.from([250,234,13,123,213,156,19,236]),buyExactOut:xO.from([24,211,116,40,105,3,153,56]),sellExactIn:xO.from([149,39,222,155,211,124,152,26]),sellExactOut:xO.from([95,200,71,34,8,9,11,166]),createVestingAccount:xO.from([129,178,2,13,217,172,230,218]),claimVestedToken:xO.from([49,33,104,30,189,157,79,35]),createPlatformConfig:xO.from([176,90,196,175,253,113,220,20]),claimPlatformFee:xO.from([156,39,208,135,76,237,61,72]),updatePlaformConfig:xO.from([195,60,76,129,146,45,67,143])};function NC(e,t,r,n,i,o,a,s,u){let l=Rv([]),c=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:hV.programId,isSigner:!1,isWritable:!1},{pubkey:SQ,isSigner:!1,isWritable:!1}],d=xO.alloc(l.span);return l.encode({},d),new hI({keys:c,programId:e,data:xO.from([...NB.claimVestedToken,...d])})}function NR(e,t,r,n,i,o){let a=Rv([Rd("shareAmount")]),s=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:hV.programId,isSigner:!1,isWritable:!1}],u=xO.alloc(a.span);return a.encode({shareAmount:o},u),new hI({keys:s,programId:e,data:xO.from([...NB.createVestingAccount,...u])})}function NM(e,t,r,n,i,o,a,s,u){return new hI({keys:[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:hV.programId,isSigner:!1,isWritable:!0},{pubkey:SQ,isSigner:!1,isWritable:!0}],programId:e,data:NB.claimPlatformFee})}var NL=Rv([Rd(),Rd("epoch"),Rl("curveType"),C7("index"),Rd("migrateFee"),Rd("tradeFeeRate"),Rd("maxShareFeeRate"),Rd("minSupplyA"),Rd("maxLockRate"),Rd("minSellRateA"),Rd("minMigrateRateA"),Rd("minFundRaisingB"),Rm("mintB"),Rm("protocolFeeOwner"),Rm("migrateFeeOwner"),Rm("migrateToAmmWallet"),Rm("migrateToCpmmWallet"),Rk(Rd(),16)]),NN=Rv([Rd("totalLockedAmount"),Rd("cliffPeriod"),Rd("unlockPeriod"),Rd("startTime"),Rd("totalAllocatedShare")]),ND=Rv([Rd(),Rd("epoch"),Rl("bump"),Rl("status"),Rl("mintDecimalsA"),Rl("mintDecimalsB"),Rl("migrateType"),Rd("supply"),Rd("totalSellA"),Rd("virtualA"),Rd("virtualB"),Rd("realA"),Rd("realB"),Rd("totalFundRaisingB"),Rd("protocolFee"),Rd("platformFee"),Rd("migrateFee"),NN.replicate("vestingSchedule"),Rm("configId"),Rm("platformId"),Rm("mintA"),Rm("mintB"),Rm("vaultA"),Rm("vaultB"),Rm("creator"),Rk(Rd(),8)]),NF=(Rv([Rd(),Rd("epoch"),Rm("poolId"),Rm("beneficiary"),Rd("claimedAmount"),Rd("tokenShareAmount"),Rk(Rd(),8)]),Rv([Rd(),Rd("epoch"),Rm("platformClaimFeeWallet"),Rm("platformLockNftWallet"),Rd("platformScale"),Rd("creatorScale"),Rd("burnScale"),Rd("feeRate"),Rk(Rl(),64,"name"),Rk(Rl(),256,"web"),Rk(Rl(),256,"img"),Rm("cpConfigId"),Rk(Rl(),224)])),Nq=class{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r}){throw Error()}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:n}){throw Error()}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:r}){throw Error()}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:r,totalFundRaising:n,migrateFee:i,decimalA:o,decimalB:a}){throw Error()}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:r}){throw Error()}static getInitParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:n,migrateFee:i}){throw Error()}static buyExactIn({poolInfo:e,amount:t}){throw Error()}static buyExactOut({poolInfo:e,amount:t}){throw Error()}static sellExactIn({poolInfo:e,amount:t}){throw Error()}static sellExactOut({poolInfo:e,amount:t}){throw Error()}},NU=class extends Nq{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r}){return new Ba(e.virtualB.toString()).div(e.virtualA.toString()).mul(10**(t-r))}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:n}){return new Ba(t.toString()).div(e.toString()).mul(10**(r-n))}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:r}){return new Ba(e.virtualB.add(e.realB).toString()).div(e.virtualA.sub(e.realA).toString()).mul(10**(t-r))}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:r,totalFundRaising:n,migrateFee:i,decimalA:o,decimalB:a}){return new Ba(n.sub(i).toString()).div(e.sub(t).sub(r).toString()).mul(10**(o-a))}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:r}){let n=e.totalSellA.sub(e.realA),i=e.totalFundRaisingB.sub(e.realB);return new Ba(e.virtualB.add(e.realB.add(i)).toString()).div(e.virtualA.sub(e.realA.add(n)).toString()).mul(10**(t-r))}static getInitParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:n,migrateFee:i}){if(e.lte(r))throw Error("supply need gt total sell");let o=e.sub(r).sub(n);if(o.lte(new(ed(d0))(0)))throw Error("supplyMinusSellLocked <= 0");let a=t.sub(i);if(a.lte(new(ed(d0))(0)))throw Error("tfMinusMf <= 0");let s=a.mul(r).mul(r).div(o),u=a.mul(r).div(o).sub(t);if(u.lt(new(ed(d0))(0)))throw Error("supply/totalSell/totalLockedAmount diff too high");let l=s.div(u),c=t.mul(t).div(u);if(l.lt(new(ed(d0))(0))||c.lt(new(ed(d0))(0)))throw Error("invalid input 0");return{a:l,b:c,c:r}}static buyExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,inputReserve:e.virtualB.add(e.realB),outputReserve:e.virtualA.sub(e.realA)})}static buyExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,inputReserve:e.virtualB.add(e.realB),outputReserve:e.virtualA.sub(e.realA)})}static sellExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,inputReserve:e.virtualA.sub(e.realA),outputReserve:e.virtualB.add(e.realB)})}static sellExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,inputReserve:e.virtualA.sub(e.realA),outputReserve:e.virtualB.add(e.realB)})}static getAmountOut({amountIn:e,inputReserve:t,outputReserve:r}){let n=e.mul(r),i=t.add(e);return n.div(i)}static getAmountIn({amountOut:e,inputReserve:t,outputReserve:r}){return CI(t.mul(e),r.sub(e))}},Nj=class extends Nq{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r}){return new Ba(e.virtualB.toString()).div(e.virtualA.toString()).mul(10**(t-r))}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:n}){return new Ba(t.toString()).div(e.toString()).mul(10**(r-n))}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:r}){return new Ba(e.virtualB.toString()).div(e.virtualA.toString()).mul(10**(t-r))}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:r,totalFundRaising:n,migrateFee:i,decimalA:o,decimalB:a}){return new Ba(n.sub(i).toString()).div(e.sub(t).sub(r).toString()).mul(10**(o-a))}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:r}){let n=e.totalSellA.sub(e.realA),i=e.totalFundRaisingB.sub(e.realB);return new Ba(e.virtualB.add(e.realB).add(i).toString()).div(e.virtualA.sub(e.realA).add(n).toString()).mul(10**(t-r))}static getInitParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:n,migrateFee:i}){let o=e.sub(n);if(o.lte(new(ed(d0))(0)))throw Error("invalid input 1");let a=new(ed(d0))(2).mul(t).sub(i),s=t.mul(o).div(a);return{a:s,b:t,c:s}}static buyExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,initInput:e.virtualB,initOutput:e.virtualA})}static buyExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,initInput:e.virtualB,initOutput:e.virtualA})}static sellExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,initInput:e.virtualA,initOutput:e.virtualB})}static sellExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,initInput:e.virtualA,initOutput:e.virtualB})}static getAmountOut({amountIn:e,initInput:t,initOutput:r}){return r.mul(e).div(t)}static getAmountIn({amountOut:e,initInput:t,initOutput:r}){return CI(t.mul(e),r)}},NW=class{static _multipler(e){return new Ba(10).pow(e)}static getPrice({priceX64:e,decimalA:t,decimalB:r}){return new Ba(e.toString()).div(this._Q64).mul(this._multipler(t)).div(this._multipler(r))}static getPriceX64({price:e,decimalA:t,decimalB:r}){let n=e.mul(this._multipler(r)).div(this._multipler(t));return new(ed(d0))(n.mul(this._Q64).toFixed(0))}};NW._Q64=new Ba(new(ed(d0))(1).shln(64).toString());var NK=class extends Nq{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r}){return new Ba(0)}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:n}){return new Ba(0)}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:r}){return new Ba(e.virtualA.mul(e.realA).toString()).div(NW._Q64).mul(10**(t-r))}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:r,totalFundRaising:n,migrateFee:i,decimalA:o,decimalB:a}){return new Ba(n.sub(i).toString()).div(e.sub(t).sub(r).toString()).mul(10**(o-a))}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:r}){let n=e.totalSellA.sub(e.realA),i=e.totalFundRaisingB.sub(e.realB);return new Ba(e.virtualB.add(e.realB).add(i).toString()).div(e.virtualA.sub(e.realA).add(n).toString()).mul(10**(t-r))}static getInitParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:n,migrateFee:i}){let o=e.sub(n);if(o.lte(new(ed(d0))(0)))throw Error("supplyMinusLocked need gt 0");let a=t.mul(new(ed(d0))(3)).sub(i),s=t.mul(new(ed(d0))(2)).mul(o).div(a),u=s.mul(s),l=t.mul(new(ed(d0))(2)).mul(Ms).div(u);if(!l.gt(new(ed(d0))(0)))throw Error("a need gt 0");if(!Ml.gt(l))throw Error("a need lt u64 max");return{a:l,b:new(ed(d0))(0),c:s}}static buyExactIn({poolInfo:e,amount:t}){let r=e.realB.add(t),n=new(ed(d0))(2).mul(r).mul(Ms).div(e.virtualA);return new(ed(d0))(new Ba(n.toString()).sqrt().toFixed(0)).sub(e.realA)}static buyExactOut({poolInfo:e,amount:t}){let r=e.realA.add(t),n=r.mul(r),{div:i,mod:o}=e.virtualA.mul(n).divmod(new(ed(d0))(2).mul(Ms));return(o.isZero()?i:i.add(new(ed(d0))(1))).sub(e.realB)}static sellExactIn({poolInfo:e,amount:t}){let r=e.realA.sub(t),n=r.mul(r),{div:i,mod:o}=e.virtualA.mul(n).divmod(new(ed(d0))(2).mul(Ms)),a=o.isZero()?i:i.add(new(ed(d0))(1));return e.realB.sub(a)}static sellExactOut({poolInfo:e,amount:t}){let r=e.realB.sub(t),n=new(ed(d0))(2).mul(r).mul(Ms).div(e.virtualA),i=new(ed(d0))(new Ba(n.toString()).sqrt().toFixed(0));return e.realA.sub(i)}},Nz=class{static getPoolCurvePointByPoolInfo({curveType:e,pointCount:t,poolInfo:r}){return this.getPoolCurvePointByInit({curveType:e,pointCount:t,supply:r.supply,totalFundRaising:r.totalFundRaisingB,totalSell:r.totalSellA,totalLockedAmount:r.vestingSchedule.totalLockedAmount,migrateFee:r.migrateFee,decimalA:r.mintDecimalsA,decimalB:r.mintDecimalsB})}static getPoolCurvePointByInit({curveType:e,pointCount:t,supply:r,totalFundRaising:n,totalSell:i,totalLockedAmount:o,migrateFee:a,decimalA:s,decimalB:u}){if(t<3)throw Error("point count < 3");let l=this.getCurve(e),c=l.getInitParam({supply:r,totalFundRaising:n,totalSell:i,totalLockedAmount:o,migrateFee:a}),d=l.getPoolInitPriceByInit(xq(xF({},c),{decimalA:s,decimalB:u})),p=n.div(new(ed(d0))(t-1)),f=new(ed(d0))(0),h=[{price:d,totalSellSupply:0}],{a:m,b:g}=c,y=f,b=f;for(let r=1;r<t;r++){let o=r!==t-1?p:n.sub(b),a=this.buyExactIn({poolInfo:{virtualA:m,virtualB:g,realA:y,realB:b,totalFundRaisingB:n,totalSellA:i},amountB:o,protocolFeeRate:f,platformFeeRate:f,curveType:e,shareFeeRate:f});y=y.add(a.amountA),b=b.add(a.amountB);let l=this.getPrice({poolInfo:{virtualA:m,virtualB:g,realA:y,realB:b},decimalA:s,decimalB:u,curveType:e});h.push({price:l,totalSellSupply:new Ba(y.toString()).div(10**s).toNumber()})}return h}static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r,curveType:n}){return this.getCurve(n).getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r})}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:n,curveType:i}){return this.getCurve(i).getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:n})}static getPrice({poolInfo:e,curveType:t,decimalA:r,decimalB:n}){return this.getCurve(t).getPoolPrice({poolInfo:e,decimalA:r,decimalB:n})}static getEndPrice({poolInfo:e,curveType:t,decimalA:r,decimalB:n}){return this.getCurve(t).getPoolPrice({poolInfo:e,decimalA:r,decimalB:n})}static getPoolEndPriceReal({poolInfo:e,curveType:t,decimalA:r,decimalB:n}){return this.getCurve(t).getPoolEndPriceReal({poolInfo:e,decimalA:r,decimalB:n})}static checkParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:n,decimals:i,config:o,migrateType:a}){if(6!==Number(i))throw Error("decimals = 6");if(e.mul(o.maxLockRate).div(CB).lt(n))throw Error("total lock amount gte max lock amount");if(e.lt(o.minSupplyA.mul(new(ed(d0))(10**i))))throw Error("supply lt min supply");let s=e.mul(o.minSellRateA).div(CB);if(r.lt(s))throw Error("invalid input");if(t.lt(o.minFundRaisingB))throw Error("total fund raising lt min fund raising");let u=e.sub(r).sub(n),l=e.mul(o.minMigrateRateA).div(CB);if(u.lt(l))throw Error("migrate lt min migrate amount");let c=e.sub(r).sub(n),d=new(ed(d0))(new Ba(c.mul(t).toString()).sqrt().toFixed(0));if("amm"===a){let e=new(ed(d0))(10).pow(new(ed(d0))(i));if(d.lte(e))throw Error("check migrate lp error")}else if("cpmm"===a){let e=new(ed(d0))(100);if(d.lte(e))throw Error("check migrate lp error")}else throw Error("migrate type error")}static buyExactIn({poolInfo:e,amountB:t,protocolFeeRate:r,platformFeeRate:n,curveType:i,shareFeeRate:o}){let a=r.add(o).add(n),s=this.calculateFee({amount:t,feeRate:a}),u=t.sub(s),l=this.getCurve(i),c=l.buyExactIn({poolInfo:e,amount:u}),d=e.totalSellA.sub(e.realA),p,f,h;if(c.gt(d)){p=d;let t=l.buyExactOut({poolInfo:e,amount:p});h=(f=this.calculatePreFee({postFeeAmount:t,feeRate:a})).sub(t)}else p=c,f=t,h=s;return{amountA:p,amountB:f,splitFee:this.splitFee({totalFee:h,protocolFeeRate:r,platformFeeRate:n,shareFeeRate:o})}}static buyExactOut({poolInfo:e,amountA:t,protocolFeeRate:r,platformFeeRate:n,curveType:i,shareFeeRate:o}){let a=e.totalSellA.sub(e.realA),s=t;t.gt(a)&&(s=a);let u=this.getCurve(i).buyExactOut({poolInfo:e,amount:t}),l=r.add(o).add(n),c=this.calculatePreFee({postFeeAmount:u,feeRate:l}),d=c.sub(u);return{amountA:s,amountB:c,splitFee:this.splitFee({totalFee:d,protocolFeeRate:r,platformFeeRate:n,shareFeeRate:o})}}static sellExactIn({poolInfo:e,amountA:t,protocolFeeRate:r,platformFeeRate:n,curveType:i,shareFeeRate:o}){let a=this.getCurve(i).sellExactIn({poolInfo:e,amount:t}),s=this.calculateFee({amount:a,feeRate:r.add(o).add(n)}),u=this.splitFee({totalFee:s,protocolFeeRate:r,platformFeeRate:n,shareFeeRate:o});return{amountA:t,amountB:a.sub(s),splitFee:u}}static sellExactOut({poolInfo:e,amountB:t,protocolFeeRate:r,platformFeeRate:n,curveType:i,shareFeeRate:o}){let a=r.add(o).add(n),s=this.calculatePreFee({postFeeAmount:t,feeRate:a});if(e.realB.lt(s))throw Error("Insufficient liquidity");let u=s.sub(t),l=Nz.getCurve(i).sellExactOut({poolInfo:e,amount:s});if(l.gt(e.realA))throw Error();return{amountA:l,amountB:t,splitFee:this.splitFee({totalFee:u,protocolFeeRate:r,platformFeeRate:n,shareFeeRate:o})}}static splitFee({totalFee:e,protocolFeeRate:t,platformFeeRate:r,shareFeeRate:n}){let i=t.add(r).add(n),o=i.isZero()?new(ed(d0))(0):e.mul(r).div(i),a=i.isZero()?new(ed(d0))(0):e.mul(n).div(i),s=e.sub(o).sub(a);return{platformFee:o,shareFee:a,protocolFee:s}}static calculateFee({amount:e,feeRate:t}){return BV(e,t,CB)}static calculatePreFee({postFeeAmount:e,feeRate:t}){if(t.isZero())return e;let r=e.mul(CB),n=CB.sub(t);return r.add(n).sub(new(ed(d0))(1)).div(n)}static getCurve(e){switch(e){case 0:return NU;case 1:return Nj;case 2:return NK}throw Error("find curve error")}},NV={initPriceX64:new(ed(d0))("515752397214619"),supply:new(ed(d0))(1e15),totalSellA:new(ed(d0))(7931e11),totalFundRaisingB:new(ed(d0))(85e9),totalLockedAmount:new(ed(d0))("0"),cliffPeriod:new(ed(d0))("0"),unlockPeriod:new(ed(d0))("0"),decimals:6,virtualA:new(ed(d0))("1073471847374405"),virtualB:new(ed(d0))("30050573465"),realA:new(ed(d0))(0),realB:new(ed(d0))(0),protocolFee:new(ed(d0))(0),platformId:new ho("4Bu96XjU84XjPDSpveTVf6LYGCkfW5FK7SNkREWcEfV4"),vestingSchedule:{totalLockedAmount:new(ed(d0))(0),cliffPeriod:new(ed(d0))(0),unlockPeriod:new(ed(d0))(0),startTime:new(ed(d0))(0),totalAllocatedShare:new(ed(d0))(0)}},NH=new(ed(d0))(1e4),NG=class extends Cz{constructor(e){super(e)}async createLaunchpad(e){let t,r,n,i,o,a,s,u;var l,c,d,p,f,h,m,g,y,b,_,w,v,{programId:k=C_,authProgramId:A,platformId:S=NV.platformId,mintA:I,decimals:E=6,mintBDecimals:T=9,name:x,symbol:P,uri:O,migrateType:B,configId:C,configInfo:R,platformFeeRate:M,txVersion:L,computeBudgetConfig:N,txTipConfig:D,feePayer:F,buyAmount:q,minMintAAmount:U,slippage:j,associatedOnly:W=!0,checkCreateATAOwner:K=!1,extraSigners:z}=e,V=xU(e,["programId","authProgramId","platformId","mintA","decimals","mintBDecimals","name","symbol","uri","migrateType","configId","configInfo","platformFeeRate","txVersion","computeBudgetConfig","txTipConfig","feePayer","buyAmount","minMintAAmount","slippage","associatedOnly","checkCreateATAOwner","extraSigners"]);let H=this.createTxBuilder(F);A=null!=A?A:NI(k).publicKey;let G=R;if(!G&&C){let e=await this.scope.connection.getAccountInfo(C);e&&(G=NL.decode(e.data))}G||this.logAndCreateError("config not found");let $=G.mintB,X=G.curveType,{publicKey:Z}=NE(k,I,$),{publicKey:Q}=NT(k,Z,I),{publicKey:Y}=NT(k,Z,$),{publicKey:J}=MM(I);console.log(`create token: ${I.toBase58()}, mintB: ${$.toBase58()}, decimals A:${E}/B:${T}, config:${C.toBase58()}`),P.length>10&&this.logAndCreateError("Symbol length should shorter than 11"),O||this.logAndCreateError("uri should not empty"),q.lte(new(ed(d0))(0))&&this.logAndCreateError("buy amount should gt 0:",q.toString());let ee=null!=(g=null==V?void 0:V.supply)?g:NV.supply,et=null!=(y=null==V?void 0:V.totalSellA)?y:NV.totalSellA,er=null!=(b=null==V?void 0:V.totalFundRaisingB)?b:NV.totalFundRaisingB,en=null!=(_=null==V?void 0:V.totalLockedAmount)?_:new(ed(d0))(0),ei=M;if(!M){let e=await this.scope.connection.getAccountInfo(S);e||this.logAndCreateError("platform id not found:",S.toString()),ei=NF.decode(e.data).feeRate}let eo=Nz.getCurve(G.curveType).getInitParam({supply:ee,totalFundRaising:er,totalSell:et,totalLockedAmount:en,migrateFee:G.migrateFee}),ea={epoch:new(ed(d0))(896),bump:254,status:0,mintDecimalsA:E,mintDecimalsB:T,supply:ee,totalSellA:et,mintA:new ho(I),mintB:$,virtualA:eo.a,virtualB:eo.b,realA:NV.realA,realB:NV.realB,migrateFee:G.migrateFee,migrateType:"amm"===B?0:1,protocolFee:NV.protocolFee,platformFee:ei,platformId:S,configId:C,vaultA:Q,vaultB:Y,creator:this.scope.ownerPubKey,totalFundRaisingB:er,vestingSchedule:{totalLockedAmount:en,cliffPeriod:new(ed(d0))(0),unlockPeriod:new(ed(d0))(0),startTime:new(ed(d0))(0),totalAllocatedShare:new(ed(d0))(0)}},{c:es}=Nz.getCurve(G.curveType).getInitParam({supply:ea.supply,totalFundRaising:ea.totalFundRaisingB,totalLockedAmount:en,totalSell:0===G.curveType?ea.totalSellA:new(ed(d0))(0),migrateFee:G.migrateFee});try{Nz.checkParam({supply:ea.supply,totalFundRaising:ea.totalFundRaisingB,totalSell:es,totalLockedAmount:en,decimals:ea.mintDecimalsA,config:G,migrateType:B}),console.log("check init params success")}catch(e){this.logAndCreateError(`check create mint params failed, ${e.message}`)}H.addInstruction({instructions:[(l=null!=F?F:this.scope.ownerPubKey,c=this.scope.ownerPubKey,d=A,p=O||"https://",f={type:0===X?"ConstantCurve":1===X?"FixedCurve":2===X?"LinearCurve":"ConstantCurve",totalSellA:et,migrateType:B,supply:ee,totalFundRaisingB:er},h=null!=(w=null==V?void 0:V.cliffPeriod)?w:new(ed(d0))(0),m=null!=(v=null==V?void 0:V.unlockPeriod)?v:new(ed(d0))(0),t=Rv([Rl("decimals"),R_("name"),R_("symbol"),R_("uri")]),r=Rv([Rd("totalLockedAmount"),Rd("cliffPeriod"),Rd("unlockPeriod")]),n=Rv([Rl("index"),Rd("supply"),Rd("totalFundRaisingB"),Rl("migrateType")]),i=Rv([Rl("index"),Rd("supply"),Rd("totalSellA"),Rd("totalFundRaisingB"),Rl("migrateType")]),o=[{pubkey:l,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:C,isSigner:!1,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:Z,isSigner:!1,isWritable:!0},{pubkey:I,isSigner:!0,isWritable:!0},{pubkey:$,isSigner:!1,isWritable:!1},{pubkey:Q,isSigner:!1,isWritable:!0},{pubkey:Y,isSigner:!1,isWritable:!0},{pubkey:J,isSigner:!1,isWritable:!0},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:BP,isSigner:!1,isWritable:!1},{pubkey:hV.programId,isSigner:!1,isWritable:!1},{pubkey:BT,isSigner:!1,isWritable:!1},{pubkey:Nx(k).publicKey,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!1}],a=xO.alloc(xO.from(x,"utf-8").length+xO.from(P,"utf-8").length+xO.from(p,"utf-8").length+12+1),s=xO.alloc(r.span),u=xO.alloc("ConstantCurve"===f.type?i.span:n.span),t.encode({decimals:E,name:x,symbol:P,uri:p},a),"ConstantCurve"===f.type?i.encode(xq(xF({index:0},f),{migrateType:"amm"===f.migrateType?0:1}),u):"FixedCurve"===f.type?n.encode(xq(xF({index:1},f),{migrateType:"amm"===f.migrateType?0:1}),u):"LinearCurve"===f.type&&n.encode(xq(xF({index:2},f),{migrateType:"amm"===f.migrateType?0:1}),u),r.encode({totalLockedAmount:en,cliffPeriod:h,unlockPeriod:m},s),new hI({keys:o,programId:k,data:xO.from([...NB.initialize,...a,...u,...s])}))]});let eu=new(ed(d0))(0),el;if(null!=z&&z.length&&H.addInstruction({signers:z}),!V.createOnly){let{builder:e,extInfo:t}=await this.buyToken({programId:k,authProgramId:A,mintA:I,mintB:$,poolInfo:ea,buyAmount:q,minMintAAmount:U,shareFeeRate:V.shareFeeRate,shareFeeReceiver:V.shareFeeReceiver,configInfo:G,platformFeeRate:ei,slippage:j,associatedOnly:W,checkCreateATAOwner:K});H.addInstruction(xF({},e.AllTxData)),eu=t.outAmount,el=("devnet"===this.scope.cluster||1===L)&&V.shareFeeReceiver?[e.allInstructions[0]]:void 0}return H.addTipInstruction(D),0===L?H.sizeCheckBuildV0({computeBudgetConfig:N,outAmount:eu,splitIns:el,address:xq(xF({},ea),{poolId:Z})}):H.sizeCheckBuild({computeBudgetConfig:N,outAmount:eu,splitIns:el,address:xq(xF({},ea),{poolId:Z})})}async buyToken({programId:e=C_,authProgramId:t,mintA:r,mintB:n=SY,poolInfo:i,configInfo:o,platformFeeRate:a,txVersion:s,computeBudgetConfig:u,txTipConfig:l,feePayer:c,buyAmount:d,minMintAAmount:p,slippage:f,shareFeeRate:h=new(ed(d0))(0),shareFeeReceiver:m,associatedOnly:g=!0,checkCreateATAOwner:y=!1}){var b,_,w,v,k,A,S,I,E;let T,x,P;d.lte(new(ed(d0))(0))&&this.logAndCreateError("buy amount should gt 0:",d.toString());let O=this.createTxBuilder(c),{publicKey:B}=NE(e,r,n);t=null!=t?t:NI(e).publicKey;let C=null,R=null,M=n.equals(SY),{account:L,instructionParams:N}=await this.scope.account.getOrCreateTokenAccount({mint:r,owner:this.scope.ownerPubKey,createInfo:{payer:this.scope.ownerPubKey,amount:0},skipCloseAccount:!0,notUseTokenAccount:!1,associatedOnly:g,checkCreateATAOwner:y});L&&(C=L),O.addInstruction(N||{}),void 0===C&&this.logAndCreateError(`cannot found mintA(${r.toBase58()}) token accounts`,"tokenAccounts",this.scope.account.tokenAccounts);let{account:D,instructionParams:F}=await this.scope.account.getOrCreateTokenAccount({mint:n,owner:this.scope.ownerPubKey,createInfo:M?{payer:this.scope.ownerPubKey,amount:d}:void 0,skipCloseAccount:!M,notUseTokenAccount:M,associatedOnly:!M&&g,checkCreateATAOwner:y});D&&(R=D),O.addInstruction(F||{}),void 0===R&&this.logAndCreateError(`cannot found mintB(${n.toBase58()}) token accounts`,"tokenAccounts",this.scope.account.tokenAccounts);let q=i;if(!q){let e=await this.scope.connection.getAccountInfo(B,{commitment:"processed"});e||this.logAndCreateError("cannot found pool:",B.toBase58()),q=ND.decode(e.data)}let U=o,j=await x$(this.scope.connection,[U?void 0:q.configId,a?void 0:q.platformId].filter(Boolean).map(e=>({pubkey:e})));if(!U){let e=j.find(e=>e.pubkey.equals(q.configId));e&&e.accountInfo||this.logAndCreateError("config not found: ",q.configId.toBase58()),U=NL.decode(e.accountInfo.data)}if(!a){let e=j.find(e=>e.pubkey.equals(q.platformId));e&&e.accountInfo||this.logAndCreateError("platform info not found: ",q.configId.toBase58()),a=NF.decode(e.accountInfo.data).feeRate}let W=Nz.buyExactIn({poolInfo:q,amountB:d,protocolFeeRate:U.tradeFeeRate,platformFeeRate:a,curveType:U.curveType,shareFeeRate:h}),K=new Ba(W.amountA.toString()),z=f?new Ba(NH.sub(f).toNumber()/NH.toNumber()).clampedTo(0,1):new Ba(1),V=null!=p?p:f?new(ed(d0))(K.mul(z).toFixed(0)):W.amountA;W.amountB.lt(d)&&console.log(`maximum ${r.toBase58()} amount can buy is ${W.amountA.toString()}, input ${n.toBase58()} amount: ${W.amountB.toString()}`);let H=m?B3(m,n,SX).publicKey:void 0;return H&&O.addInstruction({instructions:[Er(this.scope.ownerPubKey,H,m,n)]}),O.addInstruction({instructions:[(b=this.scope.ownerPubKey,_=t,w=q.configId,v=q.platformId,k=C,A=R,S=q.vaultA,I=q.vaultB,E=W.amountB.lt(d)?W.amountB:d,T=Rv([Rd("amountB"),Rd("minAmountA"),Rd("shareFeeRate")]),x=[{pubkey:b,isSigner:!0,isWritable:!1},{pubkey:_,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:B,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:I,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:Nx(e).publicKey,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!1}],H&&x.push({pubkey:H,isSigner:!1,isWritable:!0}),console.log({amountB:E.toString(),minAmountA:V.toString()}),P=xO.alloc(T.span),T.encode({amountB:E,minAmountA:V,shareFeeRate:null!=h?h:new(ed(d0))(0)},P),new hI({keys:x,programId:e,data:xO.from([...NB.buyExactIn,...P])}))]}),O.addCustomComputeBudget(u),O.addTipInstruction(l),O.versionBuild({txVersion:s,extInfo:{outAmount:V}})}async sellToken({programId:e=C_,authProgramId:t,mintA:r,mintB:n=SY,poolInfo:i,configInfo:o,platformFeeRate:a,txVersion:s,computeBudgetConfig:u,txTipConfig:l,feePayer:c,sellAmount:d,minAmountB:p,slippage:f,shareFeeRate:h=new(ed(d0))(0),shareFeeReceiver:m,associatedOnly:g=!0,checkCreateATAOwner:y=!1}){var b,_,w,v,k,A,S,I,E;let T,x,P;t=null!=t?t:NI(e).publicKey;let O=this.createTxBuilder(c);d.lte(new(ed(d0))(0))&&this.logAndCreateError("sell amount should be gt 0");let{publicKey:B}=NE(e,r,n),C=null,R=null,M=n.equals(SY),{account:L,instructionParams:N}=await this.scope.account.getOrCreateTokenAccount({mint:r,owner:this.scope.ownerPubKey,createInfo:void 0,skipCloseAccount:!0,notUseTokenAccount:!1,associatedOnly:g,checkCreateATAOwner:y});L&&(C=L),O.addInstruction(N||{}),void 0===C&&this.logAndCreateError("cannot found mintA token accounts","tokenAccounts",this.scope.account.tokenAccounts);let{account:D,instructionParams:F}=await this.scope.account.getOrCreateTokenAccount({mint:n,owner:this.scope.ownerPubKey,createInfo:M?{payer:this.scope.ownerPubKey,amount:0}:void 0,skipCloseAccount:!M,notUseTokenAccount:M,associatedOnly:!M&&g,checkCreateATAOwner:y});D&&(R=D),O.addInstruction(F||{}),void 0===R&&this.logAndCreateError("cannot found mintB token accounts","tokenAccounts",this.scope.account.tokenAccounts);let q=i;if(!q){let e=await this.scope.connection.getAccountInfo(B,{commitment:"processed"});e||this.logAndCreateError("cannot found pool",B.toBase58()),q=ND.decode(e.data)}let U=o,j=await x$(this.scope.connection,[U?void 0:q.configId,a?void 0:q.platformId].filter(Boolean).map(e=>({pubkey:e})));if(!U){let e=j.find(e=>e.pubkey.equals(q.configId));e&&e.accountInfo||this.logAndCreateError("config not found: ",q.configId.toBase58()),U=NL.decode(e.accountInfo.data)}if(!a){let e=j.find(e=>e.pubkey.equals(q.platformId));e&&e.accountInfo||this.logAndCreateError("platform info not found: ",q.configId.toBase58()),a=NF.decode(e.accountInfo.data).feeRate}let W=Nz.sellExactIn({poolInfo:q,amountA:d,protocolFeeRate:U.tradeFeeRate,platformFeeRate:a,curveType:U.curveType,shareFeeRate:h}),K=new Ba(W.amountB.toString()),z=f?new Ba(NH.sub(f).toNumber()/NH.toNumber()).clampedTo(0,1):new Ba(1),V=null!=p?p:f?new(ed(d0))(K.mul(z).toFixed(0)):W.amountB;V.lte(new(ed(d0))(0))&&this.logAndCreateError(`out ${n.toBase58()} amount should be gt 0`);let H=m?B3(m,n,SX).publicKey:void 0;return H&&O.addInstruction({instructions:[Er(this.scope.ownerPubKey,H,m,n)]}),O.addInstruction({instructions:[(b=this.scope.ownerPubKey,_=t,w=q.configId,v=q.platformId,k=C,A=R,S=q.vaultA,I=q.vaultB,E=W.amountA.lt(d)?W.amountA:d,T=Rv([Rd("amountA"),Rd("minAmountB"),Rd("shareFeeRate")]),x=[{pubkey:b,isSigner:!0,isWritable:!1},{pubkey:_,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:B,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:I,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:SX,isSigner:!1,isWritable:!1},{pubkey:Nx(e).publicKey,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!1}],H&&x.push({pubkey:H,isSigner:!1,isWritable:!0}),P=xO.alloc(T.span),T.encode({amountA:E,minAmountB:V,shareFeeRate:null!=h?h:new(ed(d0))(0)},P),new hI({keys:x,programId:e,data:xO.from([...NB.sellExactIn,...P])}))]}),O.addCustomComputeBudget(u),O.addTipInstruction(l),O.versionBuild({txVersion:s,extInfo:{outAmount:V}})}async createPlatformConfig({programId:e=C_,platformAdmin:t,platformClaimFeeWallet:r,platformLockNftWallet:n,cpConfigId:i,migrateCpLockNftScale:o,feeRate:a,name:s,web:u,img:l,txVersion:c,computeBudgetConfig:d,txTipConfig:p,feePayer:f}){let h,m,g,y=this.createTxBuilder(f),{publicKey:b}=NP(e,t);return y.addInstruction({instructions:[(h=Rv([Rd("platformScale"),Rd("creatorScale"),Rd("burnScale"),Rd("feeRate"),R_("name"),R_("web"),R_("img")]),m=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:hV.programId,isSigner:!1,isWritable:!1}],g=xO.alloc(32+xO.from(s,"utf-8").length+xO.from(u,"utf-8").length+xO.from(l,"utf-8").length+12),h.encode({platformScale:o.platformScale,creatorScale:o.creatorScale,burnScale:o.burnScale,feeRate:a,name:s,web:u,img:l},g),new hI({keys:m,programId:e,data:xO.from([...NB.createPlatformConfig,...g])}))]}),y.addCustomComputeBudget(d),y.addTipInstruction(p),y.versionBuild({txVersion:c,extInfo:{platformId:b}})}async updatePlatformConfig({programId:e=C_,platformAdmin:t,platformId:r,updateInfo:n,txVersion:i,computeBudgetConfig:o,txTipConfig:a,feePayer:s}){let u=this.createTxBuilder(s),l=null!=r?r:NP(e,t).publicKey;return u.addInstruction({instructions:[function(e,t,r,n){let i=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0}],o;if("updateClaimFeeWallet"===n.type){let e=Rv([Rl("index"),Rm("value")]);o=xO.alloc(e.span),e.encode({index:0,value:n.value},o)}else if("updateLockNftWallet"===n.type){let e=Rv([Rl("index"),Rm("value")]);o=xO.alloc(e.span),e.encode({index:1,value:n.value},o)}else if("migrateCpLockNftScale"===n.type){let e=Rv([Rl("index"),Rd("platformScale"),Rd("creatorScale"),Rd("burnScale")]);o=xO.alloc(e.span),e.encode(xF({index:2},n.value),o)}else if("updateFeeRate"===n.type){let e=Rv([Rl("index"),Rd("value")]);o=xO.alloc(e.span),e.encode({index:3,value:n.value},o)}else if("updateImg"===n.type||"updateName"===n.type||"updateWeb"===n.type){let e=Rv([Rl("index"),R_("value")]);o=xO.alloc(xO.from(n.value,"utf-8").length+4+1),"updateName"===n.type?e.encode({index:4,value:n.value},o):"updateWeb"===n.type?e.encode({index:5,value:n.value},o):"updateImg"===n.type&&e.encode({index:6,value:n.value},o)}else if("updateCpConfigId"===n.type){i.push({pubkey:n.value,isSigner:!1,isWritable:!1});let e=Rv([Rl("index")]);o=xO.alloc(e.span),e.encode({index:7},o)}else if("updateAll"===n.type){console.log("Please note that this update will overwrite all data in the platform account with the new data."),i.push({pubkey:n.value.cpConfigId,isSigner:!1,isWritable:!1});let e=Rv([Rl("index"),Rm("platformClaimFeeWallet"),Rm("platformLockNftWallet"),Rd("platformScale"),Rd("creatorScale"),Rd("burnScale"),Rd("feeRate"),R_("name"),R_("web"),R_("img")]);o=xO.alloc(109+xO.from(n.value.name,"utf-8").length+xO.from(n.value.web,"utf-8").length+xO.from(n.value.img,"utf-8").length),e.encode({index:8,platformClaimFeeWallet:n.value.platformClaimFeeWallet,platformLockNftWallet:n.value.platformLockNftWallet,platformScale:n.value.migrateCpLockNftScale.platformScale,creatorScale:n.value.migrateCpLockNftScale.creatorScale,burnScale:n.value.migrateCpLockNftScale.burnScale,feeRate:n.value.feeRate,name:n.value.name,web:n.value.web,img:n.value.img},o)}else throw Error("updateInfo params type error");return new hI({keys:i,programId:e,data:xO.from([...NB.updatePlaformConfig,...o])})}(e,t,l,n)]}),u.addCustomComputeBudget(o),u.addTipInstruction(a),u.versionBuild({txVersion:i})}async claimPlatformFee({programId:e=C_,authProgramId:t,platformId:r,poolId:n,platformClaimFeeWallet:i,mintB:o,vaultB:a,mintBProgram:s=SX,txVersion:u,computeBudgetConfig:l,txTipConfig:c,feePayer:d}){var p;let f=this.createTxBuilder(d);t=null!=t?t:NI(e).publicKey;let h=o,m=a;if(!h){let e=await this.scope.connection.getAccountInfo(n,{commitment:"processed"});e||this.logAndCreateError("cannot found pool:",n.toBase58());let t=ND.decode(e.data),r=await this.scope.connection.getAccountInfo(t.configId,{commitment:"processed"});r||this.logAndCreateError("cannot found config:",t.configId.toBase58()),h=NL.decode(r.data).mintB,m=null!=m?m:t.vaultB}h&&m||this.logAndCreateError("cannot found mint info, mintB: ",h.toBase58(),", vaultB: ",null!=(p=null==m?void 0:m.toBase58())?p:"");let g=B3(this.scope.ownerPubKey,h,SX).publicKey;return f.addInstruction({instructions:[Er(this.scope.ownerPubKey,g,this.scope.ownerPubKey,h)]}),f.addInstruction({instructions:[NM(e,i,t,n,r,m,g,h,s)]}),f.addCustomComputeBudget(l),f.addTipInstruction(c),f.versionBuild({txVersion:u})}async claimAllPlatformFee({programId:e=C_,authProgramId:t,platformId:r,platformClaimFeeWallet:n,txVersion:i,computeBudgetConfig:o,txTipConfig:a,feePayer:s}){let u=this.createTxBuilder(s);return t=null!=t?t:NI(e).publicKey,(await this.scope.connection.getProgramAccounts(e,{filters:[{dataSize:ND.span},{memcmp:{offset:ND.offsetOf("platformId"),bytes:r.toString()}}]})).forEach(i=>{let o=ND.decode(i.account.data);if(o.platformFee.lte(new(ed(d0))(0)))return;let a=B3(this.scope.ownerPubKey,o.mintB,SX).publicKey;u.addInstruction({instructions:[Er(this.scope.ownerPubKey,a,this.scope.ownerPubKey,o.mintB)]}),u.addInstruction({instructions:[NM(e,n,t,i.pubkey,r,o.vaultB,a,o.mintB,SX)]})}),u.addTipInstruction(a),0===i?u.sizeCheckBuildV0({computeBudgetConfig:o}):u.sizeCheckBuild({computeBudgetConfig:o})}async createVesting({programId:e=C_,poolId:t,beneficiary:r,shareAmount:n,txVersion:i,computeBudgetConfig:o,txTipConfig:a,feePayer:s}){let u=this.createTxBuilder(s),l=await this.getRpcPoolInfo({poolId:t});n.add(l.vestingSchedule.totalAllocatedShare).gt(l.vestingSchedule.totalLockedAmount)&&this.logAndCreateError("share amount exceed total locked amount");let c=NO(e,t,r).publicKey;return u.addInstruction({instructions:[NR(e,this.scope.ownerPubKey,r,t,c,n)]}),u.addCustomComputeBudget(o),u.addTipInstruction(a),u.versionBuild({txVersion:i})}async createMultipleVesting({programId:e=C_,poolId:t,beneficiaryList:r,txVersion:n,computeBudgetConfig:i,feePayer:o}){let a=this.createTxBuilder(o);0===r.length&&this.logAndCreateError("beneficiaryList is null");let s=await this.getRpcPoolInfo({poolId:t});return r.reduce((e,t)=>e.add(t.shareAmount),s.vestingSchedule.totalAllocatedShare).gt(s.vestingSchedule.totalLockedAmount)&&this.logAndCreateError("share amount exceed total locked amount"),r.forEach(r=>{let n=NO(e,t,r.wallet).publicKey;a.addInstruction({instructions:[NR(e,this.scope.ownerPubKey,r.wallet,t,n,r.shareAmount)]})}),0===n?a.sizeCheckBuildV0({computeBudgetConfig:i}):a.sizeCheckBuild({computeBudgetConfig:i})}async claimVesting({programId:e=C_,poolId:t,poolInfo:r,vestingRecord:n,txVersion:i,computeBudgetConfig:o,txTipConfig:a,feePayer:s}){let u=this.createTxBuilder(s),l=NI(e).publicKey,c=n||NO(e,t,this.scope.ownerPubKey).publicKey,d=r;if(!d){let e=await this.scope.connection.getAccountInfo(t);e||this.logAndCreateError("pool not found"),d=ND.decode(e.data)}let p=B3(this.scope.ownerPubKey,d.mintA,SX).publicKey;return u.addInstruction({instructions:[Er(this.scope.ownerPubKey,p,this.scope.ownerPubKey,d.mintA)]}),u.addInstruction({instructions:[NC(e,this.scope.ownerPubKey,l,t,c,p,d.vaultA,d.mintA,SX)]}),u.addCustomComputeBudget(o),u.addTipInstruction(a),u.versionBuild({txVersion:i})}async claimMultiVesting({programId:e=C_,poolIdList:t,poolsInfo:r={},vestingRecords:n={},txVersion:i,computeBudgetConfig:o,feePayer:a}){let s=this.createTxBuilder(a),u=xF({},r),l=NI(e).publicKey,c=t.filter(e=>!u[e.toBase58()]);if(c.length){let e=await this.getRpcPoolsInfo({poolIdList:c});u=xF(xF({},u),e.poolInfoMap)}return t.forEach(t=>{let r=t.toBase58(),i=u[r];i||this.logAndCreateError(`pool info not found: ${r}`);let o=n[r]||NO(e,t,this.scope.ownerPubKey).publicKey,a=B3(this.scope.ownerPubKey,i.mintA,SX).publicKey;s.addInstruction({instructions:[Er(this.scope.ownerPubKey,a,this.scope.ownerPubKey,i.mintA)]}),s.addInstruction({instructions:[NC(e,this.scope.ownerPubKey,l,t,o,a,i.vaultA,i.mintA,SX)]})}),0===i?s.sizeCheckBuildV0({computeBudgetConfig:o}):s.sizeCheckBuild({computeBudgetConfig:o})}async getRpcPoolInfo({poolId:e}){return(await this.getRpcPoolsInfo({poolIdList:[e]})).poolInfoMap[e.toBase58()]}async getRpcPoolsInfo({poolIdList:e,config:t}){let r=await x$(this.scope.connection,e.map(e=>({pubkey:e})),t),n={},i=[];for(let t=0;t<e.length;t++){let o=r[t];if(null===o||!o.accountInfo)throw Error("fetch pool info error: "+e[t].toBase58());let a=ND.decode(o.accountInfo.data);n[e[t].toBase58()]=xq(xF({},a),{poolId:o.accountInfo.owner}),i.push(a.configId)}let o=await x$(this.scope.connection,i.map(e=>({pubkey:e})),t),a={};for(let e=0;e<i.length;e++){let t=o[e];if(null===t||!t.accountInfo)throw Error("fetch config info error: "+i[e].toBase58());let r=NL.decode(t.accountInfo.data);a[i[e].toBase58()]=xq(xF({},r),{configId:t.accountInfo.owner})}return{poolInfoMap:Object.keys(n).reduce((e,t)=>xq(xF({},e),{[t]:xq(xF({},n[t]),{configInfo:a[n[t].configId.toBase58()]})}),{})}}},N$=class extends Cz{constructor(e){super(e),this._tokenList=[],this._tokenMap=new Map,this._blackTokenMap=new Set,this._mintGroup={official:new Set,jup:new Set,extra:new Set},this._whiteMap=new Set,this._extraTokenList=[]}async load(e){this.checkDisabled();let{forceUpdate:t=!1,type:r="strict"}=e||{},{mintList:n,blacklist:i,whiteList:o}=await this.scope.fetchV3TokenList(t),a=await this.scope.fetchJupTokenList(t);this._tokenList=[],this._tokenMap=new Map,this._blackTokenMap=new Set(i),this._mintGroup={official:new Set,jup:new Set,extra:new Set},this._whiteMap=new Set(o),this._tokenMap.set(B_.address,B_),this._mintGroup.official.add(B_.address),n.forEach(e=>{var t;this._blackTokenMap.has(e.address)||(this._tokenMap.set(e.address,xq(xF({},e),{type:"raydium",priority:2,programId:null!=(t=e.programId)?t:e.tags.includes("token-2022")?SZ.toBase58():SX.toBase58()})),this._mintGroup.official.add(e.address))}),a.forEach(e=>{var t;this._blackTokenMap.has(e.address)||this._tokenMap.has(e.address)||(this._tokenMap.set(e.address,xq(xF({},e),{type:"jupiter",priority:1,programId:null!=(t=e.programId)?t:e.tags.includes("token-2022")?SZ.toBase58():SX.toBase58(),tags:e.freezeAuthority?[...e.tags||[],"hasFreeze"]:e.tags})),this._mintGroup.jup.add(e.address))}),this._extraTokenList.forEach(e=>{this._blackTokenMap.has(e.address)||this._tokenMap.has(e.address)||(this._tokenMap.set(e.address,xq(xF({},e),{type:"extra",priority:1,programId:e.programId||e.tags.includes("token-2022")?SZ.toBase58():SX.toBase58()})),this._mintGroup.extra.add(e.address))}),this._tokenList=Array.from(this._tokenMap).map(e=>e[1])}get tokenList(){return this._tokenList}get tokenMap(){return this._tokenMap}get blackTokenMap(){return this._blackTokenMap}get mintGroup(){return this._mintGroup}get whiteListMap(){return this._whiteMap}async getTokenInfo(e){if(!e)throw Error("please input mint");let t=e.toString(),r=this._tokenMap.get(t);if(r)return r;if("SOL"===t.toLocaleUpperCase())return B_;let n=(await this.scope.api.getTokenInfo([t]))[0];if(n)return this._mintGroup.extra.add(t),this._tokenMap.set(t,xq(xF({},n),{priority:2})),n;let i=await this.scope.connection.getAccountInfo(new ho(t));if(!i)throw Error(`mint address not found: ${t}`);let o=I3.decode(i.data),a=t.toString().substring(0,6),s={chainId:101,address:t,programId:i.owner.toBase58(),logoURI:"",symbol:a,name:a,decimals:o.decimals,tags:[],extensions:{},priority:0,type:"unknown"};return this._mintGroup.extra.add(t),this._tokenMap.set(t,s),s}},NX=class{constructor(e){this.rawBalances=new Map;let{connection:t,cluster:r,owner:n,api:i,defaultChainTime:o,defaultChainTimeOffset:a,apiCacheTime:s,blockhashCommitment:u="confirmed",loopMultiTxStatus:l}=e;this._connection=t,this.cluster=r||"mainnet",this._owner=n?new BG(n):void 0,this._signAllTransactions=e.signAllTransactions,this.blockhashCommitment=u,this.loopMultiTxStatus=l,this.api=i,this._apiCacheTime=s||3e5,this.logger=xV("Raydium"),this.farm=new Mn({scope:this,moduleName:"Raydium_Farm"}),this.account=new Rx({scope:this,moduleName:"Raydium_Account",tokenAccounts:e.tokenAccounts,tokenAccountRawInfos:e.tokenAccountRawInfos}),this.liquidity=new LK({scope:this,moduleName:"Raydium_LiquidityV2"}),this.token=new N$({scope:this,moduleName:"Raydium_tokenV2"}),this.tradeV2=new Nf({scope:this,moduleName:"Raydium_tradeV2"}),this.clmm=new Lz({scope:this,moduleName:"Raydium_clmm"}),this.cpmm=new No({scope:this,moduleName:"Raydium_cpmm"}),this.utils1216=new Nh({scope:this,moduleName:"Raydium_utils1216"}),this.marketV2=new LW({scope:this,moduleName:"Raydium_marketV2"}),this.ido=new N_({scope:this,moduleName:"Raydium_ido"}),this.launchpad=new NG({scope:this,moduleName:"Raydium_lauchpad"}),this.availability={};let c=new Date().getTime();this.apiData={},a&&(this._chainTime={fetched:c,value:{chainTime:o||Date.now()-a,offset:a}})}static async load(e){var t;let r=(0,xw.merge)({cluster:"mainnet",owner:null,apiRequestInterval:3e5,apiRequestTimeout:1e4},e),{cluster:n,apiRequestTimeout:i,logCount:o,logRequests:a,urlConfigs:s}=r,u=new Cj({cluster:n,timeout:i,urlConfigs:s,logCount:o,logRequests:a}),l=new NX(xq(xF({},r),{api:u}));return await l.fetchAvailabilityStatus(null==(t=e.disableFeatureCheck)||t),e.disableLoadToken||await l.token.load({type:e.jupTokenType}),l}get owner(){return this._owner}get ownerPubKey(){if(!this._owner)throw Error(CW);return this._owner.publicKey}setOwner(e){return this._owner=e?new BG(e):void 0,this.account.resetTokenAccounts(),this}get connection(){if(!this._connection)throw Error("please provide connection in load() initialization or set it by raydium.setConnection(connection)");return this._connection}setConnection(e){return this._connection=e,this}get signAllTransactions(){return this._signAllTransactions}setSignAllTransactions(e){return this._signAllTransactions=e,this}checkOwner(){if(!this.owner)throw console.error(CW),Error(CW)}isCacheInvalidate(e){return new Date().getTime()-e>this._apiCacheTime}async fetchChainTime(){try{let e=await this.api.getChainTimeOffset();this._chainTime={fetched:Date.now(),value:{chainTime:Date.now()+1e3*e.offset,offset:1e3*e.offset}}}catch{this._chainTime=void 0}}async fetchV3TokenList(e){if(this.apiData.tokenList&&!this.isCacheInvalidate(this.apiData.tokenList.fetched)&&!e)return this.apiData.tokenList.data;try{let e=await this.api.getTokenList(),t={fetched:Date.now(),data:e};return this.apiData.tokenList=t,t.data}catch(e){return console.error(e),{mintList:[],blacklist:[],whiteList:[]}}}async fetchJupTokenList(e){if("devnet"===this.cluster)return[];let t=this.apiData.jupTokenList;if(t&&!this.isCacheInvalidate(t.fetched)&&!e)return t.data;try{let e=await this.api.getJupTokenList();return this.apiData.jupTokenList={fetched:Date.now(),data:e.map(e=>xq(xF({},e),{mintAuthority:e.mint_authority||void 0,freezeAuthority:e.freeze_authority||void 0}))},this.apiData.jupTokenList.data}catch(e){return console.error(e),[]}}get chainTimeData(){var e;return null==(e=this._chainTime)?void 0:e.value}async chainTimeOffset(){var e;return this._chainTime&&Date.now()-this._chainTime.fetched<=3e5?this._chainTime.value.offset:(await this.fetchChainTime(),(null==(e=this._chainTime)?void 0:e.value.offset)||0)}async currentBlockChainTime(){var e;return this._chainTime&&Date.now()-this._chainTime.fetched<=3e5?this._chainTime.value.chainTime:(await this.fetchChainTime(),(null==(e=this._chainTime)?void 0:e.value.chainTime)||Date.now())}async fetchEpochInfo(){return this._epochInfo&&Date.now()-this._epochInfo.fetched<=3e4||(this._epochInfo={fetched:Date.now(),value:await this.connection.getEpochInfo()}),this._epochInfo.value}async fetchAvailabilityStatus(e){if(e)return{};try{let e=await this.api.fetchAvailabilityStatus(),t=!1===e.all;return this.availability={all:e.all,swap:!t&&e.swap,createConcentratedPosition:!t&&e.createConcentratedPosition,addConcentratedPosition:!t&&e.addConcentratedPosition,addStandardPosition:!t&&e.addStandardPosition,removeConcentratedPosition:!t&&e.removeConcentratedPosition,removeStandardPosition:!t&&e.removeStandardPosition,addFarm:!t&&e.addFarm,removeFarm:!t&&e.removeFarm},e}catch{return{}}}},d0=eh("9U7pb"),NZ={};NZ=function(e,t,r,n,i,o,a,s){if(!e){var u;if(void 0===t)u=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,n,i,o,a,s],c=0;(u=Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}};var d0=eh("9U7pb"),NQ={},NY=NQ&&NQ.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),NJ=NQ&&NQ.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),N1=NQ&&NQ.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&NY(t,e,r);return NJ(t,e),t};Object.defineProperty(NQ,"__esModule",{value:!0}),NQ.base64=NQ.bs58=NQ.utf8=NQ.hex=void 0,NQ.hex=N1(eh("8yGR8")),NQ.utf8=N1(eh("9efoV")),NQ.bs58=N1(eh("8aimw")),NQ.base64=N1(eh("9IUui"));var N0={};!function(t){/*!
   *  decimal.js v10.6.0
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   */var r,n,i,o,a="0123456789abcdef",s="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",u="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",l={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},c=!0,d="[DecimalError] ",p=d+"Invalid argument: ",f=d+"Precision limit exceeded",h=d+"crypto unavailable",m="[object Decimal]",g=Math.floor,y=Math.pow,b=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,_=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,w=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,v=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,k=s.length-1,A=u.length-1,S={toStringTag:m};function I(e){var t,r,n,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(o+=N(r)),o+=n;(r=7-(n=(a=e[t])+"").length)&&(o+=N(r))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}function E(e,t,r){if(e!==~~e||e<t||e>r)throw Error(p+e)}function T(e,t,r,n){var i,o,a,s;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),o=y(10,7-t),s=e[i]%o|0,null==n?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),a=r<4&&99999==s||r>3&&49999==s||5e4==s||0==s):a=(r<4&&s+1==o||r>3&&s+1==o/2)&&(e[i+1]/o/100|0)==y(10,t-2)-1||(s==o/2||0==s)&&(e[i+1]/o/100|0)==0:t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),a=(n||r<4)&&9999==s||!n&&r>3&&4999==s):a=((n||r<4)&&s+1==o||!n&&r>3&&s+1==o/2)&&(e[i+1]/o/1e3|0)==y(10,t-3)-1,a}function x(e,t,r){for(var n,i,o=[0],s=0,u=e.length;s<u;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=a.indexOf(e.charAt(s++)),n=0;n<o.length;n++)o[n]>r-1&&(void 0===o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}S.absoluteValue=S.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),O(e)},S.ceil=function(){return O(new this.constructor(this),this.e+1,2)},S.clampedTo=S.clamp=function(e,t){var r=this.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(p+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new r(this)},S.comparedTo=S.cmp=function(e){var t,r,n,i,o=this.d,a=(e=new this.constructor(e)).d,s=this.s,u=e.s;if(!o||!a)return s&&u?s!==u?s:o===a?0:!o^s<0?1:-1:NaN;if(!o[0]||!a[0])return o[0]?s:a[0]?-u:0;if(s!==u)return s;if(this.e!==e.e)return this.e>e.e^s<0?1:-1;for(t=0,r=(n=o.length)<(i=a.length)?n:i;t<r;++t)if(o[t]!==a[t])return o[t]>a[t]^s<0?1:-1;return n===i?0:n>i^s<0?1:-1},S.cosine=S.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n,i;if(t.isZero())return t;(n=t.d.length)<32?i=(1/V(4,r=Math.ceil(n/3))).toString():(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=z(e,1,t.times(i),new e(1));for(var o=r;o--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=r,t}(n,H(n,r)),n.precision=e,n.rounding=t,O(2==o||3==o?r.neg():r,e,t,!0)):new n(1):new n(NaN)},S.cubeRoot=S.cbrt=function(){var e,t,r,n,i,o,a,s,u,l,d=this.constructor;if(!this.isFinite()||this.isZero())return new d(this);for(c=!1,(o=this.s*y(this.s*this,1/3))&&Math.abs(o)!=1/0?n=new d(o.toString()):(r=I(this.d),(o=((e=this.e)-r.length+1)%3)&&(r+=1==o||-2==o?"0":"00"),o=y(r,1/3),e=g((e+1)/3)-(e%3==(e<0?-1:2)),(n=new d(r=o==1/0?"5e"+e:(r=o.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=this.s),a=(e=d.precision)+3;;)if(n=P((l=(u=(s=n).times(s).times(s)).plus(this)).plus(this).times(s),l.plus(u),a+2,1),I(s.d).slice(0,a)===(r=I(n.d)).slice(0,a)){if("9999"!=(r=r.slice(a-3,a+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(O(n,e+1,1),t=!n.times(n).times(n).eq(this));break}if(!i&&(O(s,e+1,0),s.times(s).times(s).eq(this))){n=s;break}a+=4,i=1}return c=!0,O(n,e,d.rounding,t)},S.decimalPlaces=S.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-g(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},S.dividedBy=S.div=function(e){return P(this,new this.constructor(e))},S.dividedToIntegerBy=S.divToInt=function(e){var t=this.constructor;return O(P(this,new t(e),0,1,1),t.precision,t.rounding)},S.equals=S.eq=function(e){return 0===this.cmp(e)},S.floor=function(){return O(new this.constructor(this),this.e+1,3)},S.greaterThan=S.gt=function(e){return this.cmp(e)>0},S.greaterThanOrEqualTo=S.gte=function(e){var t=this.cmp(e);return 1==t||0===t},S.hyperbolicCosine=S.cosh=function(){var e,t,r,n,i,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;r=a.precision,n=a.rounding,a.precision=r+Math.max(o.e,o.sd())+4,a.rounding=1,(i=o.d.length)<32?t=(1/V(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=z(a,1,o.times(t),new a(1),!0);for(var u,l=e,c=new a(8);l--;)u=o.times(o),o=s.minus(u.times(c.minus(u.times(c))));return O(o,a.precision=r,a.rounding=n,!0)},S.hyperbolicSine=S.sinh=function(){var e,t,r,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,r=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,(n=i.d.length)<3)i=z(o,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=z(o,2,i=i.times(1/V(5,e)),i,!0);for(var a,s=new o(5),u=new o(16),l=new o(20);e--;)a=i.times(i),i=i.times(s.plus(a.times(u.times(a).plus(l))))}return o.precision=t,o.rounding=r,O(i,t,r,!0)},S.hyperbolicTangent=S.tanh=function(){var e,t,r=this.constructor;return this.isFinite()?this.isZero()?new r(this):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,P(this.sinh(),this.cosh(),r.precision=e,r.rounding=t)):new r(this.s)},S.inverseCosine=S.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return -1!==r?0===r?e.isNeg()?M(t,n,i):new t(0):new t(NaN):e.isZero()?M(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))},S.inverseHyperbolicCosine=S.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,c=!1,r=r.times(r).minus(1).sqrt().plus(r),c=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},S.inverseHyperbolicSine=S.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,c=!1,r=r.times(r).plus(1).sqrt().plus(r),c=!0,n.precision=e,n.rounding=t,r.ln())},S.inverseHyperbolicTangent=S.atanh=function(){var e,t,r,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,Math.max(n=i.sd(),e)<-(2*i.e)-1)?O(new o(i),e,t,!0):(o.precision=r=n-i.e,i=P(i.plus(1),new o(1).minus(i),r+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5)):new o(NaN)},S.inverseSine=S.asin=function(){var e,t,r,n,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),r=o.precision,n=o.rounding,-1!==t)?0===t?((e=M(o,r+4,n).times(.5)).s=i.s,e):new o(NaN):(o.precision=r+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=r,o.rounding=n,i.times(2))},S.inverseTangent=S.atan=function(){var e,t,r,n,i,o,a,s,u,l=this,d=l.constructor,p=d.precision,f=d.rounding;if(l.isFinite()){if(l.isZero())return new d(l);if(l.abs().eq(1)&&p+4<=A)return(a=M(d,p+4,f).times(.25)).s=l.s,a}else{if(!l.s)return new d(NaN);if(p+4<=A)return(a=M(d,p+4,f).times(.5)).s=l.s,a}for(d.precision=s=p+10,d.rounding=1,e=r=Math.min(28,s/7+2|0);e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(c=!1,t=Math.ceil(s/7),n=1,u=l.times(l),a=new d(l),i=l;-1!==e;)if(i=i.times(u),o=a.minus(i.div(n+=2)),i=i.times(u),void 0!==(a=o.plus(i.div(n+=2))).d[t])for(e=t;a.d[e]===o.d[e]&&e--;);return r&&(a=a.times(2<<r-1)),c=!0,O(a,d.precision=p,d.rounding=f,!0)},S.isFinite=function(){return!!this.d},S.isInteger=S.isInt=function(){return!!this.d&&g(this.e/7)>this.d.length-2},S.isNaN=function(){return!this.s},S.isNegative=S.isNeg=function(){return this.s<0},S.isPositive=S.isPos=function(){return this.s>0},S.isZero=function(){return!!this.d&&0===this.d[0]},S.lessThan=S.lt=function(e){return 0>this.cmp(e)},S.lessThanOrEqualTo=S.lte=function(e){return 1>this.cmp(e)},S.logarithm=S.log=function(e){var t,r,n,i,o,a,s,u=this.constructor,l=u.precision,d=u.rounding;if(null==e)e=new u(10),t=!0;else{if(r=(e=new u(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new u(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t){if(r.length>1)i=!0;else{for(n=r[0];n%10==0;)n/=10;i=1!==n}}if(c=!1,T((s=P(j(this,a=l+5),t?R(u,a+10):j(e,a),a,1)).d,n=l,d))do if(a+=10,s=P(j(this,a),t?R(u,a+10):j(e,a),a,1),!i){+I(s.d).slice(n+1,n+15)+1==1e14&&(s=O(s,l+1,0));break}while(T(s.d,n+=10,d))return c=!0,O(s,l,d)},S.minus=S.sub=function(e){var t,r,n,i,o,a,s,u,l,d,p,f,h=this.constructor;if(e=new h(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new h(e.d||this.s!==e.s?this:NaN):e=new h(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(l=this.d,f=e.d,s=h.precision,u=h.rounding,!l[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!l[0])return new h(3===u?-0:0);e=new h(this)}return c?O(e,s,u):e}if(r=g(e.e/7),d=g(this.e/7),l=l.slice(),o=d-r){for((p=o<0)?(t=l,o=-o,a=f.length):(t=f,r=d,a=l.length),o>(n=Math.max(Math.ceil(s/7),a)+2)&&(o=n,t.length=1),t.reverse(),n=o;n--;)t.push(0);t.reverse()}else{for((p=(n=l.length)<(a=f.length))&&(a=n),n=0;n<a;n++)if(l[n]!=f[n]){p=l[n]<f[n];break}o=0}for(p&&(t=l,l=f,f=t,e.s=-e.s),a=l.length,n=f.length-a;n>0;--n)l[a++]=0;for(n=f.length;n>o;){if(l[--n]<f[n]){for(i=n;i&&0===l[--i];)l[i]=1e7-1;--l[i],l[n]+=1e7}l[n]-=f[n]}for(;0===l[--a];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(e.d=l,e.e=C(l,r),c?O(e,s,u):e):new h(3===u?-0:0)},S.modulo=S.mod=function(e){var t,r=this.constructor;return(e=new r(e),this.d&&e.s&&(!e.d||e.d[0]))?e.d&&(!this.d||this.d[0])?(c=!1,9==r.modulo?(t=P(this,e.abs(),0,3,1),t.s*=e.s):t=P(this,e,0,r.modulo,1),t=t.times(e),c=!0,this.minus(t)):O(new r(this),r.precision,r.rounding):new r(NaN)},S.naturalExponential=S.exp=function(){return U(this)},S.naturalLogarithm=S.ln=function(){return j(this)},S.negated=S.neg=function(){var e=new this.constructor(this);return e.s=-e.s,O(e)},S.plus=S.add=function(e){var t,r,n,i,o,a,s,u,l,d,p=this.constructor;if(e=new p(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new p(e.d||this.s===e.s?this:NaN)):e=new p(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(l=this.d,d=e.d,s=p.precision,u=p.rounding,!l[0]||!d[0])return d[0]||(e=new p(this)),c?O(e,s,u):e;if(o=g(this.e/7),n=g(e.e/7),l=l.slice(),i=o-n){for(i<0?(r=l,i=-i,a=d.length):(r=d,n=o,a=l.length),i>(a=(o=Math.ceil(s/7))>a?o+1:a+1)&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((a=l.length)-(i=d.length)<0&&(i=a,r=d,d=l,l=r),t=0;i;)t=(l[--i]=l[i]+d[i]+t)/1e7|0,l[i]%=1e7;for(t&&(l.unshift(t),++n),a=l.length;0==l[--a];)l.pop();return e.d=l,e.e=C(l,n),c?O(e,s,u):e},S.precision=S.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(p+e);return this.d?(t=L(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},S.round=function(){var e=this.constructor;return O(new e(this),this.e+1,e.rounding)},S.sine=S.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:z(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=z(e,2,t=t.times(1/V(5,r)),t);for(var i,o=new e(5),a=new e(16),s=new e(20);r--;)i=t.times(t),t=t.times(o.plus(i.times(a.times(i).minus(s))));return t}(n,H(n,r)),n.precision=e,n.rounding=t,O(o>2?r.neg():r,e,t,!0)):new n(NaN)},S.squareRoot=S.sqrt=function(){var e,t,r,n,i,o,a=this.d,s=this.e,u=this.s,l=this.constructor;if(1!==u||!a||!a[0])return new l(!u||u<0&&(!a||a[0])?NaN:a?this:1/0);for(c=!1,0==(u=Math.sqrt(+this))||u==1/0?(((t=I(a)).length+s)%2==0&&(t+="0"),u=Math.sqrt(t),s=g((s+1)/2)-(s<0||s%2),n=new l(t=u==1/0?"5e"+s:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+s)):n=new l(u.toString()),r=(s=l.precision)+3;;)if(n=(o=n).plus(P(this,o,r+2,1)).times(.5),I(o.d).slice(0,r)===(t=I(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(O(n,s+1,1),e=!n.times(n).eq(this));break}if(!i&&(O(o,s+1,0),o.times(o).eq(this))){n=o;break}r+=4,i=1}return c=!0,O(n,s,l.rounding,e)},S.tangent=S.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=P(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,O(2==o||4==o?r.neg():r,e,t,!0)):new n(NaN)},S.times=S.mul=function(e){var t,r,n,i,o,a,s,u,l,d=this.constructor,p=this.d,f=(e=new d(e)).d;if(e.s*=this.s,!p||!p[0]||!f||!f[0])return new d(e.s&&(!p||p[0]||f)&&(!f||f[0]||p)?p&&f?0*e.s:e.s/0:NaN);for(r=g(this.e/7)+g(e.e/7),(u=p.length)<(l=f.length)&&(o=p,p=f,f=o,a=u,u=l,l=a),o=[],n=a=u+l;n--;)o.push(0);for(n=l;--n>=0;){for(t=0,i=u+n;i>n;)s=o[i]+f[n]*p[i-n-1]+t,o[i--]=s%1e7|0,t=s/1e7|0;o[i]=(o[i]+t)%1e7|0}for(;!o[--a];)o.pop();return t?++r:o.shift(),e.d=o,e.e=C(o,r),c?O(e,d.precision,d.rounding):e},S.toBinary=function(e,t){return G(this,2,e,t)},S.toDecimalPlaces=S.toDP=function(e,t){var r=this,n=r.constructor;return(r=new n(r),void 0===e)?r:(E(e,0,1e9),void 0===t?t=n.rounding:E(t,0,8),O(r,e+r.e+1,t))},S.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=B(n,!0):(E(e,0,1e9),void 0===t?t=i.rounding:E(t,0,8),r=B(n=O(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},S.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?r=B(this):(E(e,0,1e9),void 0===t?t=i.rounding:E(t,0,8),r=B(n=O(new i(this),e+this.e+1,t),!1,e+n.e+1)),this.isNeg()&&!this.isZero()?"-"+r:r},S.toFraction=function(e){var t,r,n,i,o,a,s,u,l,d,f,h,m=this.d,g=this.constructor;if(!m)return new g(this);if(l=r=new g(1),n=u=new g(0),a=(o=(t=new g(n)).e=L(m)-this.e-1)%7,t.d[0]=y(10,a<0?7+a:a),null==e)e=o>0?t:l;else{if(!(s=new g(e)).isInt()||s.lt(l))throw Error(p+s);e=s.gt(t)?o>0?t:l:s}for(c=!1,s=new g(I(m)),d=g.precision,g.precision=o=14*m.length;f=P(s,t,0,1,1),1!=(i=r.plus(f.times(n))).cmp(e);)r=n,n=i,i=l,l=u.plus(f.times(i)),u=i,i=t,t=s.minus(f.times(i)),s=i;return i=P(e.minus(r),n,0,1,1),u=u.plus(i.times(l)),r=r.plus(i.times(n)),u.s=l.s=this.s,h=1>P(l,n,o,1).minus(this).abs().cmp(P(u,r,o,1).minus(this).abs())?[l,n]:[u,r],g.precision=d,c=!0,h},S.toHexadecimal=S.toHex=function(e,t){return G(this,16,e,t)},S.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:E(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(c=!1,r=P(r,e,0,t,1).times(e),c=!0,O(r)):(e.s=r.s,r=e),r},S.toNumber=function(){return+this},S.toOctal=function(e,t){return G(this,8,e,t)},S.toPower=S.pow=function(e){var t,r,n,i,o,a,s=this,u=s.constructor,l=+(e=new u(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new u(y(+s,l));if((s=new u(s)).eq(1))return s;if(n=u.precision,o=u.rounding,e.eq(1))return O(s,n,o);if((t=g(e.e/7))>=e.d.length-1&&(r=l<0?-l:l)<=9007199254740991)return i=D(u,s,r,n),e.s<0?new u(1).div(i):O(i,n,o);if((a=s.s)<0){if(t<e.d.length-1)return new u(NaN);if((1&e.d[t])==0&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return(t=0!=(r=y(+s,l))&&isFinite(r)?new u(r+"").e:g(l*(Math.log("0."+I(s.d))/Math.LN10+s.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?a/0:0):(c=!1,u.rounding=s.s=1,r=Math.min(12,(t+"").length),(i=U(e.times(j(s,n+r)),n)).d&&T((i=O(i,n+5,1)).d,n,o)&&(t=n+10,+I((i=O(U(e.times(j(s,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=O(i,n+1,0))),i.s=a,c=!0,u.rounding=o,O(i,n,o))},S.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=B(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(E(e,1,1e9),void 0===t?t=i.rounding:E(t,0,8),r=B(n=O(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},S.toSignificantDigits=S.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(E(e,1,1e9),void 0===t?t=r.rounding:E(t,0,8)),O(new r(this),e,t)},S.toString=function(){var e=this.constructor,t=B(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},S.truncated=S.trunc=function(){return O(new this.constructor(this),this.e+1,1)},S.valueOf=S.toJSON=function(){var e=this.constructor,t=B(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var P=function(){function e(e,t,r){var n,i=0,o=e.length;for(e=e.slice();o--;)n=e[o]*t+i,e[o]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(i,o,a,s,u,l){var c,d,p,f,h,m,y,b,_,w,v,k,A,S,I,E,T,x,P,B,C=i.constructor,R=i.s==o.s?1:-1,M=i.d,L=o.d;if(!M||!M[0]||!L||!L[0])return new C(i.s&&o.s&&(M?!L||M[0]!=L[0]:L)?M&&0==M[0]||!L?0*R:R/0:NaN);for(l?(h=1,d=i.e-o.e):(l=1e7,h=7,d=g(i.e/h)-g(o.e/h)),P=L.length,T=M.length,w=(_=new C(R)).d=[],p=0;L[p]==(M[p]||0);p++);if(L[p]>(M[p]||0)&&d--,null==a?(S=a=C.precision,s=C.rounding):S=u?a+(i.e-o.e)+1:a,S<0)w.push(1),m=!0;else{if(S=S/h+2|0,p=0,1==P){for(f=0,L=L[0],S++;(p<T||f)&&S--;p++)I=f*l+(M[p]||0),w[p]=I/L|0,f=I%L|0;m=f||p<T}else{for((f=l/(L[0]+1)|0)>1&&(L=e(L,f,l),M=e(M,f,l),P=L.length,T=M.length),E=P,k=(v=M.slice(0,P)).length;k<P;)v[k++]=0;(B=L.slice()).unshift(0),x=L[0],L[1]>=l/2&&++x;do f=0,(c=t(L,v,P,k))<0?(A=v[0],P!=k&&(A=A*l+(v[1]||0)),(f=A/x|0)>1?(f>=l&&(f=l-1),b=(y=e(L,f,l)).length,k=v.length,1==(c=t(y,v,b,k))&&(f--,r(y,P<b?B:L,b,l))):(0==f&&(c=f=1),y=L.slice()),(b=y.length)<k&&y.unshift(0),r(v,y,k,l),-1==c&&(k=v.length,(c=t(L,v,P,k))<1&&(f++,r(v,P<k?B:L,k,l))),k=v.length):0===c&&(f++,v=[0]),w[p++]=f,c&&v[0]?v[k++]=M[E]||0:(v=[M[E]],k=1);while((E++<T||void 0!==v[0])&&S--)m=void 0!==v[0]}w[0]||w.shift()}if(1==h)_.e=d,n=m;else{for(p=1,f=w[0];f>=10;f/=10)p++;_.e=p+d*h-1,O(_,u?a+_.e+1:a,s,m)}return _}}();function O(e,t,r,n){var i,o,a,s,u,l,d,p,f,h=e.constructor;n:if(null!=t){if(!(p=e.d))return e;for(i=1,s=p[0];s>=10;s/=10)i++;if((o=t-i)<0)o+=7,a=t,u=(d=p[f=0])/y(10,i-a-1)%10|0;else if((f=Math.ceil((o+1)/7))>=(s=p.length)){if(n){for(;s++<=f;)p.push(0);d=u=0,i=1,o%=7,a=o-7+1}else break n}else{for(i=1,d=s=p[f];s>=10;s/=10)i++;o%=7,u=(a=o-7+i)<0?0:d/y(10,i-a-1)%10|0}if(n=n||t<0||void 0!==p[f+1]||(a<0?d:d%y(10,i-a-1)),l=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(o>0?a>0?d/y(10,i-a):0:p[f-1])%10&1||r==(e.s<0?8:7)),t<1||!p[0])return p.length=0,l?(t-=e.e+1,p[0]=y(10,(7-t%7)%7),e.e=-t||0):p[0]=e.e=0,e;if(0==o?(p.length=f,s=1,f--):(p.length=f+1,s=y(10,7-o),p[f]=a>0?(d/y(10,i-a)%y(10,a)|0)*s:0),l)for(;;)if(0==f){for(o=1,a=p[0];a>=10;a/=10)o++;for(a=p[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(e.e++,1e7==p[0]&&(p[0]=1));break}else{if(p[f]+=s,1e7!=p[f])break;p[f--]=0,s=1}for(o=p.length;0===p[--o];)p.pop()}return c&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function B(e,t,r){if(!e.isFinite())return W(e);var n,i=e.e,o=I(e.d),a=o.length;return t?(r&&(n=r-a)>0?o=o.charAt(0)+"."+o.slice(1)+N(n):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+N(-i-1)+o,r&&(n=r-a)>0&&(o+=N(n))):i>=a?(o+=N(i+1-a),r&&(n=r-i-1)>0&&(o=o+"."+N(n))):((n=i+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(o+="."),o+=N(n))),o}function C(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function R(e,t,r){if(t>k)throw c=!0,r&&(e.precision=r),Error(f);return O(new e(s),t,1,!0)}function M(e,t,r){if(t>A)throw Error(f);return O(new e(u),t,r,!0)}function L(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function N(e){for(var t="";e--;)t+="0";return t}function D(e,t,r,n){var i,o=new e(1),a=Math.ceil(n/7+4);for(c=!1;;){if(r%2&&$((o=o.times(t)).d,a)&&(i=!0),0===(r=g(r/2))){r=o.d.length-1,i&&0===o.d[r]&&++o.d[r];break}$((t=t.times(t)).d,a)}return c=!0,o}function F(e){return 1&e.d[e.d.length-1]}function q(e,t,r){for(var n,i,o=new e(t[0]),a=0;++a<t.length;){if(!(i=new e(t[a])).s){o=i;break}((n=o.cmp(i))===r||0===n&&o.s===r)&&(o=i)}return o}function U(e,t){var r,n,i,o,a,s,u,l=0,d=0,p=0,f=e.constructor,h=f.rounding,m=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(null==t?(c=!1,u=m):u=t,s=new f(.03125);e.e>-2;)e=e.times(s),p+=5;for(u+=n=Math.log(y(2,p))/Math.LN10*2+5|0,r=o=a=new f(1),f.precision=u;;){if(o=O(o.times(e),u,1),r=r.times(++d),I((s=a.plus(P(o,r,u,1))).d).slice(0,u)===I(a.d).slice(0,u)){for(i=p;i--;)a=O(a.times(a),u,1);if(null!=t)return f.precision=m,a;if(!(l<3&&T(a.d,u-n,h,l)))return O(a,f.precision=m,h,c=!0);f.precision=u+=10,r=o=s=new f(1),d=0,l++}a=s}}function j(e,t){var r,n,i,o,a,s,u,l,d,p,f,h=1,m=e,g=m.d,y=m.constructor,b=y.rounding,_=y.precision;if(m.s<0||!g||!g[0]||!m.e&&1==g[0]&&1==g.length)return new y(g&&!g[0]?-1/0:1!=m.s?NaN:g?0:m);if(null==t?(c=!1,d=_):d=t,y.precision=d+=10,n=(r=I(g)).charAt(0),!(15e14>Math.abs(o=m.e)))return l=R(y,d+2,_).times(o+""),m=j(new y(n+"."+r.slice(1)),d-10).plus(l),y.precision=_,null==t?O(m,_,b,c=!0):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=I((m=m.times(e)).d)).charAt(0),h++;for(o=m.e,n>1?(m=new y("0."+r),o++):m=new y(n+"."+r.slice(1)),p=m,u=a=m=P(m.minus(1),m.plus(1),d,1),f=O(m.times(m),d,1),i=3;;){if(a=O(a.times(f),d,1),I((l=u.plus(P(a,new y(i),d,1))).d).slice(0,d)===I(u.d).slice(0,d)){if(u=u.times(2),0!==o&&(u=u.plus(R(y,d+2,_).times(o+""))),u=P(u,new y(h),d,1),null!=t)return y.precision=_,u;if(!T(u.d,d-10,b,s))return O(u,y.precision=_,b,c=!0);y.precision=d+=10,l=a=m=P(p.minus(1),p.plus(1),d,1),f=O(m.times(m),d,1),i=s=1}u=l,i+=2}}function W(e){return String(e.s*e.s/0)}function K(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),c&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function z(e,t,r,n,i){var o,a,s,u,l=e.precision,d=Math.ceil(l/7);for(c=!1,u=r.times(r),s=new e(n);;){if(a=P(s.times(u),new e(t++*t++),l,1),s=i?n.plus(a):n.minus(a),n=P(a.times(u),new e(t++*t++),l,1),void 0!==(a=s.plus(n)).d[d]){for(o=d;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=n,n=a,a=o}return c=!0,a.d.length=d+1,a}function V(e,t){for(var r=e;--t;)r*=e;return r}function H(e,t){var r,n=t.s<0,i=M(e,e.precision,1),a=i.times(.5);if((t=t.abs()).lte(a))return o=n?4:1,t;if((r=t.divToInt(i)).isZero())o=n?3:2;else{if((t=t.minus(r.times(i))).lte(a))return o=F(r)?n?2:3:n?4:1,t;o=F(r)?n?1:4:n?3:2}return t.minus(i).abs()}function G(e,t,r,i){var o,s,u,l,c,d,p,f,h,m=e.constructor,g=void 0!==r;if(g?(E(r,1,1e9),void 0===i?i=m.rounding:E(i,0,8)):(r=m.precision,i=m.rounding),e.isFinite()){for(u=(p=B(e)).indexOf("."),g?(o=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):o=t,u>=0&&(p=p.replace(".",""),(h=new m(1)).e=p.length-u,h.d=x(B(h),10,o),h.e=h.d.length),s=c=(f=x(p,10,o)).length;0==f[--c];)f.pop();if(f[0]){if(u<0?s--:((e=new m(e)).d=f,e.e=s,f=(e=P(e,h,r,i,0,o)).d,s=e.e,d=n),u=f[r],l=o/2,d=d||void 0!==f[r+1],d=i<4?(void 0!==u||d)&&(0===i||i===(e.s<0?3:2)):u>l||u===l&&(4===i||d||6===i&&1&f[r-1]||i===(e.s<0?8:7)),f.length=r,d)for(;++f[--r]>o-1;)f[r]=0,r||(++s,f.unshift(1));for(c=f.length;!f[c-1];--c);for(u=0,p="";u<c;u++)p+=a.charAt(f[u]);if(g){if(c>1){if(16==t||8==t){for(u=16==t?4:3,--c;c%u;c++)p+="0";for(c=(f=x(p,o,t)).length;!f[c-1];--c);for(u=1,p="1.";u<c;u++)p+=a.charAt(f[u])}else p=p.charAt(0)+"."+p.slice(1)}p=p+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)p="0"+p;p="0."+p}else if(++s>c)for(s-=c;s--;)p+="0";else s<c&&(p=p.slice(0,s)+"."+p.slice(s))}else p=g?"0p+0":"0";p=(16==t?"0x":2==t?"0b":8==t?"0o":"")+p}else p=W(e);return e.s<0?"-"+p:p}function $(e,t){if(e.length>t)return e.length=t,!0}function X(e){return new this(e).abs()}function Z(e){return new this(e).acos()}function Q(e){return new this(e).acosh()}function Y(e,t){return new this(e).plus(t)}function J(e){return new this(e).asin()}function ee(e){return new this(e).asinh()}function et(e){return new this(e).atan()}function er(e){return new this(e).atanh()}function en(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,o=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?M(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=M(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,r=this.atan(P(e,t,o,1)),t=M(this,o,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(P(e,t,o,1)):(r=M(this,o,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function ei(e){return new this(e).cbrt()}function eo(e){return O(e=new this(e),e.e+1,2)}function ea(e,t,r){return new this(e).clamp(t,r)}function es(e){if(!e||"object"!=typeof e)throw Error(d+"Object expected");var t,r,n,i=!0===e.defaults,o=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(r=o[t],i&&(this[r]=l[r]),void 0!==(n=e[r])){if(g(n)===n&&n>=o[t+1]&&n<=o[t+2])this[r]=n;else throw Error(p+r+": "+n)}if(r="crypto",i&&(this[r]=l[r]),void 0!==(n=e[r])){if(!0===n||!1===n||0===n||1===n){if(n){if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(h)}else this[r]=!1}else throw Error(p+r+": "+n)}return this}function eu(e){return new this(e).cos()}function el(e){return new this(e).cosh()}function ec(e,t){return new this(e).div(t)}function ed(e){return new this(e).exp()}function ep(e){return O(e=new this(e),e.e+1,3)}function ef(){var e,t,r=new this(0);for(e=0,c=!1;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return c=!0,new this(1/0);r=t}return c=!0,r.sqrt()}function eh(e){return e instanceof r||e&&e.toStringTag===m||!1}function em(e){return new this(e).ln()}function eg(e,t){return new this(e).log(t)}function ey(e){return new this(e).log(2)}function eb(e){return new this(e).log(10)}function e_(){return q(this,arguments,-1)}function ew(){return q(this,arguments,1)}function ev(e,t){return new this(e).mod(t)}function ek(e,t){return new this(e).mul(t)}function eA(e,t){return new this(e).pow(t)}function eS(e){var t,r,n,i,o=0,a=new this(1),s=[];if(void 0===e?e=this.precision:E(e,1,1e9),n=Math.ceil(e/7),this.crypto){if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));o<n;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);o<n;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(s.push(i%1e7),o+=4);o=n/4}else throw Error(h)}else for(;o<n;)s[o++]=1e7*Math.random()|0;for(n=s[--o],e%=7,n&&e&&(i=y(10,7-e),s[o]=(n/i|0)*i);0===s[o];o--)s.pop();if(o<0)r=0,s=[0];else{for(r=-1;0===s[0];r-=7)s.shift();for(n=1,i=s[0];i>=10;i/=10)n++;n<7&&(r-=7-n)}return a.e=r,a.d=s,a}function eI(e){return O(e=new this(e),e.e+1,this.rounding)}function eE(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function eT(e){return new this(e).sin()}function ex(e){return new this(e).sinh()}function eP(e){return new this(e).sqrt()}function eO(e,t){return new this(e).sub(t)}function eB(){var e=0,t=arguments,r=new this(t[e]);for(c=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return c=!0,O(r,this.precision,this.rounding)}function eC(e){return new this(e).tan()}function eR(e){return new this(e).tanh()}function eM(e){return O(e=new this(e),e.e+1,1)}(r=function e(t){var n,i,o;function a(e){var t,n,i;if(!(this instanceof a))return new a(e);if(this.constructor=a,eh(e)){this.s=e.s,c?!e.d||e.e>a.maxE?(this.e=NaN,this.d=null):e.e<a.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(i=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;c?t>a.maxE?(this.e=NaN,this.d=null):t<a.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return K(this,e.toString())}if("string"===i)return 45===(n=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===n&&(e=e.slice(1)),this.s=1),v.test(e)?K(this,e):function(e,t){var n,i,o,a,s,u,l,d,f;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),v.test(t))return K(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(_.test(t))n=16,t=t.toLowerCase();else if(b.test(t))n=2;else if(w.test(t))n=8;else throw Error(p+t);for((a=t.search(/p/i))>0?(l=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),s=(a=t.indexOf("."))>=0,i=e.constructor,s&&(a=(u=(t=t.replace(".","")).length)-a,o=D(i,new i(n),a,2*a)),a=f=(d=x(t,n,1e7)).length-1;0===d[a];--a)d.pop();return a<0?new i(0*e.s):(e.e=C(d,f),e.d=d,c=!1,s&&(e=P(e,o,4*u)),l&&(e=e.times(54>Math.abs(l)?y(2,l):r.pow(2,l))),c=!0,e)}(this,e);if("bigint"===i)return e<0?(e=-e,this.s=-1):this.s=1,K(this,e.toString());throw Error(p+e)}if(a.prototype=S,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=es,a.clone=e,a.isDecimal=eh,a.abs=X,a.acos=Z,a.acosh=Q,a.add=Y,a.asin=J,a.asinh=ee,a.atan=et,a.atanh=er,a.atan2=en,a.cbrt=ei,a.ceil=eo,a.clamp=ea,a.cos=eu,a.cosh=el,a.div=ec,a.exp=ed,a.floor=ep,a.hypot=ef,a.ln=em,a.log=eg,a.log10=eb,a.log2=ey,a.max=e_,a.min=ew,a.mod=ev,a.mul=ek,a.pow=eA,a.random=eS,a.round=eI,a.sign=eE,a.sin=eT,a.sinh=ex,a.sqrt=eP,a.sub=eO,a.sum=eB,a.tan=eC,a.tanh=eR,a.trunc=eM,void 0===t&&(t={}),t&&!0!==t.defaults)for(n=0,o=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"];n<o.length;)t.hasOwnProperty(i=o[n++])||(t[i]=this[i]);return a.config(t),a}(l)).prototype.constructor=r,r.default=r.Decimal=r,s=new r(s),u=new r(u),"function"==typeof e&&e.amd?e(function(){return r}):N0?("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(S[Symbol.for("nodejs.util.inspect.custom")]=S.toString,S[Symbol.toStringTag]="Decimal"),N0=r):(t||(t="undefined"!=typeof self&&self&&self.self==self?self:window),i=t.Decimal,r.noConflict=function(){return t.Decimal=i,r},t.Decimal=r)}(N0);var ds=eh("acDaE"),N2=ds.Buffer,N6=Object.defineProperty,N4=Object.defineProperties,N5=Object.getOwnPropertyDescriptors,N8=Object.getOwnPropertySymbols,N3=Object.prototype.hasOwnProperty,N9=Object.prototype.propertyIsEnumerable,N7=Math.pow,De=(e,t,r)=>t in e?N6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Dt=(e,t)=>{for(var r in t||(t={}))N3.call(t,r)&&De(e,r,t[r]);if(N8)for(var r of N8(t))N9.call(t,r)&&De(e,r,t[r]);return e},Dr=(e,t)=>N4(e,N5(t)),Dn=(e,t,r)=>new Promise((n,i)=>{var o=e=>{try{s(r.next(e))}catch(e){i(e)}},a=e=>{try{s(r.throw(e))}catch(e){i(e)}},s=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,a);s((r=r.apply(e,t)).next())}),Di={address:"cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG",metadata:{name:"cp_amm",version:"0.1.5",spec:"0.1.0",description:"Created with Anchor"},instructions:[{name:"add_liquidity",discriminator:[181,157,89,67,143,182,52,72],accounts:[{name:"pool",writable:!0,relations:["position"]},{name:"position",writable:!0},{name:"token_a_account",docs:["The user token a account"],writable:!0},{name:"token_b_account",docs:["The user token b account"],writable:!0},{name:"token_a_vault",docs:["The vault token account for input token"],writable:!0,relations:["pool"]},{name:"token_b_vault",docs:["The vault token account for output token"],writable:!0,relations:["pool"]},{name:"token_a_mint",docs:["The mint of token a"],relations:["pool"]},{name:"token_b_mint",docs:["The mint of token b"],relations:["pool"]},{name:"position_nft_account",docs:["The token account for nft"]},{name:"owner",docs:["owner of position"],signer:!0},{name:"token_a_program",docs:["Token a program"]},{name:"token_b_program",docs:["Token b program"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"params",type:{defined:{name:"AddLiquidityParameters"}}}]},{name:"claim_partner_fee",discriminator:[97,206,39,105,94,94,126,148],accounts:[{name:"pool_authority",address:"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC"},{name:"pool",writable:!0},{name:"token_a_account",docs:["The treasury token a account"],writable:!0},{name:"token_b_account",docs:["The treasury token b account"],writable:!0},{name:"token_a_vault",docs:["The vault token account for input token"],writable:!0,relations:["pool"]},{name:"token_b_vault",docs:["The vault token account for output token"],writable:!0,relations:["pool"]},{name:"token_a_mint",docs:["The mint of token a"],relations:["pool"]},{name:"token_b_mint",docs:["The mint of token b"],relations:["pool"]},{name:"partner",signer:!0,relations:["pool"]},{name:"token_a_program",docs:["Token a program"]},{name:"token_b_program",docs:["Token b program"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"max_amount_a",type:"u64"},{name:"max_amount_b",type:"u64"}]},{name:"claim_position_fee",discriminator:[180,38,154,17,133,33,162,211],accounts:[{name:"pool_authority",address:"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC"},{name:"pool",relations:["position"]},{name:"position",writable:!0},{name:"token_a_account",docs:["The user token a account"],writable:!0},{name:"token_b_account",docs:["The user token b account"],writable:!0},{name:"token_a_vault",docs:["The vault token account for input token"],writable:!0,relations:["pool"]},{name:"token_b_vault",docs:["The vault token account for output token"],writable:!0,relations:["pool"]},{name:"token_a_mint",docs:["The mint of token a"],relations:["pool"]},{name:"token_b_mint",docs:["The mint of token b"],relations:["pool"]},{name:"position_nft_account",docs:["The token account for nft"]},{name:"owner",docs:["owner of position"],signer:!0},{name:"token_a_program",docs:["Token a program"]},{name:"token_b_program",docs:["Token b program"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"claim_protocol_fee",discriminator:[165,228,133,48,99,249,255,33],accounts:[{name:"pool_authority",address:"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC"},{name:"pool",writable:!0},{name:"token_a_vault",docs:["The vault token account for input token"],writable:!0,relations:["pool"]},{name:"token_b_vault",docs:["The vault token account for output token"],writable:!0,relations:["pool"]},{name:"token_a_mint",docs:["The mint of token a"],relations:["pool"]},{name:"token_b_mint",docs:["The mint of token b"],relations:["pool"]},{name:"token_a_account",docs:["The treasury token a account"],writable:!0,pda:{seeds:[{kind:"const",value:[48,9,89,123,106,114,131,251,50,173,254,250,10,80,160,84,143,100,81,249,134,112,30,213,50,166,239,78,53,175,188,85]},{kind:"account",path:"token_a_program"},{kind:"account",path:"token_a_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"token_b_account",docs:["The treasury token b account"],writable:!0,pda:{seeds:[{kind:"const",value:[48,9,89,123,106,114,131,251,50,173,254,250,10,80,160,84,143,100,81,249,134,112,30,213,50,166,239,78,53,175,188,85]},{kind:"account",path:"token_b_program"},{kind:"account",path:"token_b_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"claim_fee_operator",docs:["Claim fee operator"]},{name:"operator",docs:["Operator"],signer:!0,relations:["claim_fee_operator"]},{name:"token_a_program",docs:["Token a program"]},{name:"token_b_program",docs:["Token b program"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"max_amount_a",type:"u64"},{name:"max_amount_b",type:"u64"}]},{name:"claim_reward",discriminator:[149,95,181,242,94,90,158,162],accounts:[{name:"pool_authority",address:"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC"},{name:"pool",writable:!0,relations:["position"]},{name:"position",writable:!0},{name:"reward_vault",docs:["The vault token account for reward token"],writable:!0},{name:"reward_mint"},{name:"user_token_account",writable:!0},{name:"position_nft_account",docs:["The token account for nft"]},{name:"owner",docs:["owner of position"],signer:!0},{name:"token_program"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"reward_index",type:"u8"},{name:"skip_reward",type:"u8"}]},{name:"close_claim_fee_operator",discriminator:[38,134,82,216,95,124,17,99],accounts:[{name:"claim_fee_operator",writable:!0},{name:"rent_receiver",writable:!0},{name:"admin",signer:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"close_config",discriminator:[145,9,72,157,95,125,61,85],accounts:[{name:"config",writable:!0},{name:"admin",writable:!0,signer:!0},{name:"rent_receiver",writable:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"close_position",discriminator:[123,134,81,0,49,68,98,98],accounts:[{name:"position_nft_mint",docs:["position_nft_mint"],writable:!0},{name:"position_nft_account",docs:["The token account for nft"],writable:!0},{name:"pool",writable:!0,relations:["position"]},{name:"position",writable:!0},{name:"pool_authority",address:"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC"},{name:"rent_receiver",writable:!0},{name:"owner",docs:["Owner of position"],signer:!0},{name:"token_program",docs:["Program to create NFT mint/token account and transfer for token22 account"],address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"close_token_badge",discriminator:[108,146,86,110,179,254,10,104],accounts:[{name:"token_badge",writable:!0},{name:"admin",writable:!0,signer:!0},{name:"rent_receiver",writable:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"create_claim_fee_operator",discriminator:[169,62,207,107,58,187,162,109],accounts:[{name:"claim_fee_operator",writable:!0,pda:{seeds:[{kind:"const",value:[99,102,95,111,112,101,114,97,116,111,114]},{kind:"account",path:"operator"}]}},{name:"operator"},{name:"admin",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"create_config",docs:["ADMIN FUNCTIONS /////"],discriminator:[201,207,243,114,75,111,47,189],accounts:[{name:"config",writable:!0,pda:{seeds:[{kind:"const",value:[99,111,110,102,105,103]},{kind:"arg",path:"index"}]}},{name:"admin",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"index",type:"u64"},{name:"config_parameters",type:{defined:{name:"StaticConfigParameters"}}}]},{name:"create_dynamic_config",discriminator:[81,251,122,78,66,57,208,82],accounts:[{name:"config",writable:!0,pda:{seeds:[{kind:"const",value:[99,111,110,102,105,103]},{kind:"arg",path:"index"}]}},{name:"admin",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"index",type:"u64"},{name:"config_parameters",type:{defined:{name:"DynamicConfigParameters"}}}]},{name:"create_position",discriminator:[48,215,197,153,96,203,180,133],accounts:[{name:"owner"},{name:"position_nft_mint",docs:["position_nft_mint"],writable:!0,signer:!0},{name:"position_nft_account",docs:["position nft account"],writable:!0,pda:{seeds:[{kind:"const",value:[112,111,115,105,116,105,111,110,95,110,102,116,95,97,99,99,111,117,110,116]},{kind:"account",path:"position_nft_mint"}]}},{name:"pool",writable:!0},{name:"position",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,115,105,116,105,111,110]},{kind:"account",path:"position_nft_mint"}]}},{name:"pool_authority",address:"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC"},{name:"payer",docs:["Address paying to create the position. Can be anyone"],writable:!0,signer:!0},{name:"token_program",docs:["Program to create NFT mint/token account and transfer for token22 account"],address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"create_token_badge",discriminator:[88,206,0,91,60,175,151,118],accounts:[{name:"token_badge",writable:!0,pda:{seeds:[{kind:"const",value:[116,111,107,101,110,95,98,97,100,103,101]},{kind:"account",path:"token_mint"}]}},{name:"token_mint"},{name:"admin",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"fund_reward",discriminator:[188,50,249,165,93,151,38,63],accounts:[{name:"pool",writable:!0},{name:"reward_vault",writable:!0},{name:"reward_mint"},{name:"funder_token_account",writable:!0},{name:"funder",signer:!0},{name:"token_program"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"reward_index",type:"u8"},{name:"amount",type:"u64"},{name:"carry_forward",type:"bool"}]},{name:"initialize_customizable_pool",discriminator:[20,161,241,24,189,221,180,2],accounts:[{name:"creator"},{name:"position_nft_mint",docs:["position_nft_mint"],writable:!0,signer:!0},{name:"position_nft_account",docs:["position nft account"],writable:!0,pda:{seeds:[{kind:"const",value:[112,111,115,105,116,105,111,110,95,110,102,116,95,97,99,99,111,117,110,116]},{kind:"account",path:"position_nft_mint"}]}},{name:"payer",docs:["Address paying to create the pool. Can be anyone"],writable:!0,signer:!0},{name:"pool_authority",address:"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC"},{name:"pool",docs:["Initialize an account to store the pool state"],writable:!0},{name:"position",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,115,105,116,105,111,110]},{kind:"account",path:"position_nft_mint"}]}},{name:"token_a_mint",docs:["Token a mint"]},{name:"token_b_mint",docs:["Token b mint"]},{name:"token_a_vault",docs:["Token a vault for the pool"],writable:!0,pda:{seeds:[{kind:"const",value:[116,111,107,101,110,95,118,97,117,108,116]},{kind:"account",path:"token_a_mint"},{kind:"account",path:"pool"}]}},{name:"token_b_vault",docs:["Token b vault for the pool"],writable:!0,pda:{seeds:[{kind:"const",value:[116,111,107,101,110,95,118,97,117,108,116]},{kind:"account",path:"token_b_mint"},{kind:"account",path:"pool"}]}},{name:"payer_token_a",docs:["payer token a account"],writable:!0},{name:"payer_token_b",docs:["creator token b account"],writable:!0},{name:"token_a_program",docs:["Program to create mint account and mint tokens"]},{name:"token_b_program",docs:["Program to create mint account and mint tokens"]},{name:"token_2022_program",docs:["Program to create NFT mint/token account and transfer for token22 account"],address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"params",type:{defined:{name:"InitializeCustomizablePoolParameters"}}}]},{name:"initialize_pool",docs:["USER FUNCTIONS ////"],discriminator:[95,180,10,172,84,174,232,40],accounts:[{name:"creator"},{name:"position_nft_mint",docs:["position_nft_mint"],writable:!0,signer:!0},{name:"position_nft_account",docs:["position nft account"],writable:!0,pda:{seeds:[{kind:"const",value:[112,111,115,105,116,105,111,110,95,110,102,116,95,97,99,99,111,117,110,116]},{kind:"account",path:"position_nft_mint"}]}},{name:"payer",docs:["Address paying to create the pool. Can be anyone"],writable:!0,signer:!0},{name:"config",docs:["Which config the pool belongs to."]},{name:"pool_authority",address:"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC"},{name:"pool",docs:["Initialize an account to store the pool state"],writable:!0},{name:"position",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,115,105,116,105,111,110]},{kind:"account",path:"position_nft_mint"}]}},{name:"token_a_mint",docs:["Token a mint"]},{name:"token_b_mint",docs:["Token b mint"]},{name:"token_a_vault",docs:["Token a vault for the pool"],writable:!0,pda:{seeds:[{kind:"const",value:[116,111,107,101,110,95,118,97,117,108,116]},{kind:"account",path:"token_a_mint"},{kind:"account",path:"pool"}]}},{name:"token_b_vault",docs:["Token b vault for the pool"],writable:!0,pda:{seeds:[{kind:"const",value:[116,111,107,101,110,95,118,97,117,108,116]},{kind:"account",path:"token_b_mint"},{kind:"account",path:"pool"}]}},{name:"payer_token_a",docs:["payer token a account"],writable:!0},{name:"payer_token_b",docs:["creator token b account"],writable:!0},{name:"token_a_program",docs:["Program to create mint account and mint tokens"]},{name:"token_b_program",docs:["Program to create mint account and mint tokens"]},{name:"token_2022_program",docs:["Program to create NFT mint/token account and transfer for token22 account"],address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"params",type:{defined:{name:"InitializePoolParameters"}}}]},{name:"initialize_pool_with_dynamic_config",discriminator:[149,82,72,197,253,252,68,15],accounts:[{name:"creator"},{name:"position_nft_mint",docs:["position_nft_mint"],writable:!0,signer:!0},{name:"position_nft_account",docs:["position nft account"],writable:!0,pda:{seeds:[{kind:"const",value:[112,111,115,105,116,105,111,110,95,110,102,116,95,97,99,99,111,117,110,116]},{kind:"account",path:"position_nft_mint"}]}},{name:"payer",docs:["Address paying to create the pool. Can be anyone"],writable:!0,signer:!0},{name:"pool_creator_authority",signer:!0,relations:["config"]},{name:"config",docs:["Which config the pool belongs to."]},{name:"pool_authority",address:"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC"},{name:"pool",docs:["Initialize an account to store the pool state"],writable:!0},{name:"position",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,115,105,116,105,111,110]},{kind:"account",path:"position_nft_mint"}]}},{name:"token_a_mint",docs:["Token a mint"]},{name:"token_b_mint",docs:["Token b mint"]},{name:"token_a_vault",docs:["Token a vault for the pool"],writable:!0,pda:{seeds:[{kind:"const",value:[116,111,107,101,110,95,118,97,117,108,116]},{kind:"account",path:"token_a_mint"},{kind:"account",path:"pool"}]}},{name:"token_b_vault",docs:["Token b vault for the pool"],writable:!0,pda:{seeds:[{kind:"const",value:[116,111,107,101,110,95,118,97,117,108,116]},{kind:"account",path:"token_b_mint"},{kind:"account",path:"pool"}]}},{name:"payer_token_a",docs:["payer token a account"],writable:!0},{name:"payer_token_b",docs:["creator token b account"],writable:!0},{name:"token_a_program",docs:["Program to create mint account and mint tokens"]},{name:"token_b_program",docs:["Program to create mint account and mint tokens"]},{name:"token_2022_program",docs:["Program to create NFT mint/token account and transfer for token22 account"],address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"params",type:{defined:{name:"InitializeCustomizablePoolParameters"}}}]},{name:"initialize_reward",discriminator:[95,135,192,196,242,129,230,68],accounts:[{name:"pool_authority",address:"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC"},{name:"pool",writable:!0},{name:"reward_vault",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100,95,118,97,117,108,116]},{kind:"account",path:"pool"},{kind:"arg",path:"reward_index"}]}},{name:"reward_mint"},{name:"signer",signer:!0},{name:"payer",writable:!0,signer:!0},{name:"token_program"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"reward_index",type:"u8"},{name:"reward_duration",type:"u64"},{name:"funder",type:"pubkey"}]},{name:"lock_position",discriminator:[227,62,2,252,247,10,171,185],accounts:[{name:"pool",relations:["position"]},{name:"position",writable:!0},{name:"vesting",writable:!0,signer:!0},{name:"position_nft_account",docs:["The token account for nft"]},{name:"owner",docs:["owner of position"],signer:!0},{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"params",type:{defined:{name:"VestingParameters"}}}]},{name:"permanent_lock_position",discriminator:[165,176,125,6,231,171,186,213],accounts:[{name:"pool",writable:!0,relations:["position"]},{name:"position",writable:!0},{name:"position_nft_account",docs:["The token account for nft"]},{name:"owner",docs:["owner of position"],signer:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"permanent_lock_liquidity",type:"u128"}]},{name:"refresh_vesting",discriminator:[9,94,216,14,116,204,247,0],accounts:[{name:"pool",relations:["position"]},{name:"position",writable:!0},{name:"position_nft_account",docs:["The token account for nft"]},{name:"owner"}],args:[]},{name:"remove_all_liquidity",discriminator:[10,51,61,35,112,105,24,85],accounts:[{name:"pool_authority",address:"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC"},{name:"pool",writable:!0,relations:["position"]},{name:"position",writable:!0},{name:"token_a_account",docs:["The user token a account"],writable:!0},{name:"token_b_account",docs:["The user token b account"],writable:!0},{name:"token_a_vault",docs:["The vault token account for input token"],writable:!0,relations:["pool"]},{name:"token_b_vault",docs:["The vault token account for output token"],writable:!0,relations:["pool"]},{name:"token_a_mint",docs:["The mint of token a"],relations:["pool"]},{name:"token_b_mint",docs:["The mint of token b"],relations:["pool"]},{name:"position_nft_account",docs:["The token account for nft"]},{name:"owner",docs:["owner of position"],signer:!0},{name:"token_a_program",docs:["Token a program"]},{name:"token_b_program",docs:["Token b program"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"token_a_amount_threshold",type:"u64"},{name:"token_b_amount_threshold",type:"u64"}]},{name:"remove_liquidity",discriminator:[80,85,209,72,24,206,177,108],accounts:[{name:"pool_authority",address:"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC"},{name:"pool",writable:!0,relations:["position"]},{name:"position",writable:!0},{name:"token_a_account",docs:["The user token a account"],writable:!0},{name:"token_b_account",docs:["The user token b account"],writable:!0},{name:"token_a_vault",docs:["The vault token account for input token"],writable:!0,relations:["pool"]},{name:"token_b_vault",docs:["The vault token account for output token"],writable:!0,relations:["pool"]},{name:"token_a_mint",docs:["The mint of token a"],relations:["pool"]},{name:"token_b_mint",docs:["The mint of token b"],relations:["pool"]},{name:"position_nft_account",docs:["The token account for nft"]},{name:"owner",docs:["owner of position"],signer:!0},{name:"token_a_program",docs:["Token a program"]},{name:"token_b_program",docs:["Token b program"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"params",type:{defined:{name:"RemoveLiquidityParameters"}}}]},{name:"set_pool_status",discriminator:[112,87,135,223,83,204,132,53],accounts:[{name:"pool",writable:!0},{name:"admin",signer:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"status",type:"u8"}]},{name:"split_position",discriminator:[172,241,221,138,161,29,253,42],accounts:[{name:"pool",writable:!0,relations:["first_position","second_position"]},{name:"first_position",docs:["The first position"],writable:!0},{name:"first_position_nft_account",docs:["The token account for position nft"]},{name:"second_position",docs:["The second position"],writable:!0},{name:"second_position_nft_account",docs:["The token account for position nft"]},{name:"first_owner",docs:["Owner of first position"],signer:!0},{name:"second_owner",docs:["Owner of second position"],signer:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"params",type:{defined:{name:"SplitPositionParameters"}}}]},{name:"split_position2",discriminator:[221,147,228,207,140,212,17,119],accounts:[{name:"pool",writable:!0,relations:["first_position","second_position"]},{name:"first_position",docs:["The first position"],writable:!0},{name:"first_position_nft_account",docs:["The token account for position nft"]},{name:"second_position",docs:["The second position"],writable:!0},{name:"second_position_nft_account",docs:["The token account for position nft"]},{name:"first_owner",docs:["Owner of first position"],signer:!0},{name:"second_owner",docs:["Owner of second position"],signer:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"numerator",type:"u32"}]},{name:"swap",discriminator:[248,198,158,145,225,117,135,200],accounts:[{name:"pool_authority",address:"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC"},{name:"pool",docs:["Pool account"],writable:!0},{name:"input_token_account",docs:["The user token account for input token"],writable:!0},{name:"output_token_account",docs:["The user token account for output token"],writable:!0},{name:"token_a_vault",docs:["The vault token account for input token"],writable:!0,relations:["pool"]},{name:"token_b_vault",docs:["The vault token account for output token"],writable:!0,relations:["pool"]},{name:"token_a_mint",docs:["The mint of token a"]},{name:"token_b_mint",docs:["The mint of token b"]},{name:"payer",docs:["The user performing the swap"],signer:!0},{name:"token_a_program",docs:["Token a program"]},{name:"token_b_program",docs:["Token b program"]},{name:"referral_token_account",docs:["referral token account"],writable:!0,optional:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"params",type:{defined:{name:"SwapParameters"}}}]},{name:"swap2",discriminator:[65,75,63,76,235,91,91,136],accounts:[{name:"pool_authority",address:"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC"},{name:"pool",docs:["Pool account"],writable:!0},{name:"input_token_account",docs:["The user token account for input token"],writable:!0},{name:"output_token_account",docs:["The user token account for output token"],writable:!0},{name:"token_a_vault",docs:["The vault token account for input token"],writable:!0,relations:["pool"]},{name:"token_b_vault",docs:["The vault token account for output token"],writable:!0,relations:["pool"]},{name:"token_a_mint",docs:["The mint of token a"]},{name:"token_b_mint",docs:["The mint of token b"]},{name:"payer",docs:["The user performing the swap"],signer:!0},{name:"token_a_program",docs:["Token a program"]},{name:"token_b_program",docs:["Token b program"]},{name:"referral_token_account",docs:["referral token account"],writable:!0,optional:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"params",type:{defined:{name:"SwapParameters2"}}}]},{name:"update_reward_duration",discriminator:[138,174,196,169,213,235,254,107],accounts:[{name:"pool",writable:!0},{name:"signer",signer:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"reward_index",type:"u8"},{name:"new_duration",type:"u64"}]},{name:"update_reward_funder",discriminator:[211,28,48,32,215,160,35,23],accounts:[{name:"pool",writable:!0},{name:"signer",signer:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"reward_index",type:"u8"},{name:"new_funder",type:"pubkey"}]},{name:"withdraw_ineligible_reward",discriminator:[148,206,42,195,247,49,103,8],accounts:[{name:"pool_authority",address:"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC"},{name:"pool",writable:!0},{name:"reward_vault",writable:!0},{name:"reward_mint"},{name:"funder_token_account",writable:!0},{name:"funder",signer:!0},{name:"token_program"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"reward_index",type:"u8"}]}],accounts:[{name:"ClaimFeeOperator",discriminator:[166,48,134,86,34,200,188,150]},{name:"Config",discriminator:[155,12,170,224,30,250,204,130]},{name:"Pool",discriminator:[241,154,109,4,17,177,109,188]},{name:"Position",discriminator:[170,188,143,228,122,64,247,208]},{name:"TokenBadge",discriminator:[116,219,204,229,249,116,255,150]},{name:"Vesting",discriminator:[100,149,66,138,95,200,128,241]}],events:[{name:"EvtAddLiquidity",discriminator:[175,242,8,157,30,247,185,169]},{name:"EvtClaimPartnerFee",discriminator:[118,99,77,10,226,1,1,87]},{name:"EvtClaimPositionFee",discriminator:[198,182,183,52,97,12,49,56]},{name:"EvtClaimProtocolFee",discriminator:[186,244,75,251,188,13,25,33]},{name:"EvtClaimReward",discriminator:[218,86,147,200,235,188,215,231]},{name:"EvtCloseClaimFeeOperator",discriminator:[111,39,37,55,110,216,194,23]},{name:"EvtCloseConfig",discriminator:[36,30,239,45,58,132,14,5]},{name:"EvtClosePosition",discriminator:[20,145,144,68,143,142,214,178]},{name:"EvtCreateClaimFeeOperator",discriminator:[21,6,153,120,68,116,28,177]},{name:"EvtCreateConfig",discriminator:[131,207,180,174,180,73,165,54]},{name:"EvtCreateDynamicConfig",discriminator:[231,197,13,164,248,213,133,152]},{name:"EvtCreatePosition",discriminator:[156,15,119,198,29,181,221,55]},{name:"EvtCreateTokenBadge",discriminator:[141,120,134,116,34,28,114,160]},{name:"EvtFundReward",discriminator:[104,233,237,122,199,191,121,85]},{name:"EvtInitializePool",discriminator:[228,50,246,85,203,66,134,37]},{name:"EvtInitializeReward",discriminator:[129,91,188,3,246,52,185,249]},{name:"EvtLiquidityChange",discriminator:[197,171,78,127,224,211,87,13]},{name:"EvtLockPosition",discriminator:[168,63,108,83,219,82,2,200]},{name:"EvtPermanentLockPosition",discriminator:[145,143,162,218,218,80,67,11]},{name:"EvtRemoveLiquidity",discriminator:[87,46,88,98,175,96,34,91]},{name:"EvtSetPoolStatus",discriminator:[100,213,74,3,95,91,228,146]},{name:"EvtSplitPosition2",discriminator:[165,32,203,174,72,100,233,103]},{name:"EvtSwap",discriminator:[27,60,21,213,138,170,187,147]},{name:"EvtSwap2",discriminator:[189,66,51,168,38,80,117,153]},{name:"EvtUpdateRewardDuration",discriminator:[149,135,65,231,129,153,65,57]},{name:"EvtUpdateRewardFunder",discriminator:[76,154,208,13,40,115,246,146]},{name:"EvtWithdrawIneligibleReward",discriminator:[248,215,184,78,31,180,179,168]}],errors:[{code:6e3,name:"MathOverflow",msg:"Math operation overflow"},{code:6001,name:"InvalidFee",msg:"Invalid fee setup"},{code:6002,name:"ExceededSlippage",msg:"Exceeded slippage tolerance"},{code:6003,name:"PoolDisabled",msg:"Pool disabled"},{code:6004,name:"ExceedMaxFeeBps",msg:"Exceeded max fee bps"},{code:6005,name:"InvalidAdmin",msg:"Invalid admin"},{code:6006,name:"AmountIsZero",msg:"Amount is zero"},{code:6007,name:"TypeCastFailed",msg:"Type cast error"},{code:6008,name:"UnableToModifyActivationPoint",msg:"Unable to modify activation point"},{code:6009,name:"InvalidAuthorityToCreateThePool",msg:"Invalid authority to create the pool"},{code:6010,name:"InvalidActivationType",msg:"Invalid activation type"},{code:6011,name:"InvalidActivationPoint",msg:"Invalid activation point"},{code:6012,name:"InvalidQuoteMint",msg:"Quote token must be SOL,USDC"},{code:6013,name:"InvalidFeeCurve",msg:"Invalid fee curve"},{code:6014,name:"InvalidPriceRange",msg:"Invalid Price Range"},{code:6015,name:"PriceRangeViolation",msg:"Trade is over price range"},{code:6016,name:"InvalidParameters",msg:"Invalid parameters"},{code:6017,name:"InvalidCollectFeeMode",msg:"Invalid collect fee mode"},{code:6018,name:"InvalidInput",msg:"Invalid input"},{code:6019,name:"CannotCreateTokenBadgeOnSupportedMint",msg:"Cannot create token badge on supported mint"},{code:6020,name:"InvalidTokenBadge",msg:"Invalid token badge"},{code:6021,name:"InvalidMinimumLiquidity",msg:"Invalid minimum liquidity"},{code:6022,name:"InvalidVestingInfo",msg:"Invalid vesting information"},{code:6023,name:"InsufficientLiquidity",msg:"Insufficient liquidity"},{code:6024,name:"InvalidVestingAccount",msg:"Invalid vesting account"},{code:6025,name:"InvalidPoolStatus",msg:"Invalid pool status"},{code:6026,name:"UnsupportNativeMintToken2022",msg:"Unsupported native mint token2022"},{code:6027,name:"InvalidRewardIndex",msg:"Invalid reward index"},{code:6028,name:"InvalidRewardDuration",msg:"Invalid reward duration"},{code:6029,name:"RewardInitialized",msg:"Reward already initialized"},{code:6030,name:"RewardUninitialized",msg:"Reward not initialized"},{code:6031,name:"InvalidRewardVault",msg:"Invalid reward vault"},{code:6032,name:"MustWithdrawnIneligibleReward",msg:"Must withdraw ineligible reward"},{code:6033,name:"IdenticalRewardDuration",msg:"Reward duration is the same"},{code:6034,name:"RewardCampaignInProgress",msg:"Reward campaign in progress"},{code:6035,name:"IdenticalFunder",msg:"Identical funder"},{code:6036,name:"InvalidFunder",msg:"Invalid funder"},{code:6037,name:"RewardNotEnded",msg:"Reward not ended"},{code:6038,name:"FeeInverseIsIncorrect",msg:"Fee inverse is incorrect"},{code:6039,name:"PositionIsNotEmpty",msg:"Position is not empty"},{code:6040,name:"InvalidPoolCreatorAuthority",msg:"Invalid pool creator authority"},{code:6041,name:"InvalidConfigType",msg:"Invalid config type"},{code:6042,name:"InvalidPoolCreator",msg:"Invalid pool creator"},{code:6043,name:"RewardVaultFrozenSkipRequired",msg:"Reward vault is frozen, must skip reward to proceed"},{code:6044,name:"InvalidSplitPositionParameters",msg:"Invalid parameters for split position"},{code:6045,name:"UnsupportPositionHasVestingLock",msg:"Unsupported split position has vesting lock"},{code:6046,name:"SamePosition",msg:"Same position"},{code:6047,name:"InvalidBaseFeeMode",msg:"Invalid base fee mode"},{code:6048,name:"InvalidFeeRateLimiter",msg:"Invalid fee rate limiter"},{code:6049,name:"FailToValidateSingleSwapInstruction",msg:"Fail to validate single swap instruction in rate limiter"},{code:6050,name:"InvalidFeeScheduler",msg:"Invalid fee scheduler"},{code:6051,name:"UndeterminedError",msg:"Undetermined error"},{code:6052,name:"InvalidPoolVersion",msg:"Invalid pool version"}],types:[{name:"AddLiquidityParameters",type:{kind:"struct",fields:[{name:"liquidity_delta",docs:["delta liquidity"],type:"u128"},{name:"token_a_amount_threshold",docs:["maximum token a amount"],type:"u64"},{name:"token_b_amount_threshold",docs:["maximum token b amount"],type:"u64"}]}},{name:"BaseFeeConfig",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"cliff_fee_numerator",type:"u64"},{name:"base_fee_mode",type:"u8"},{name:"padding",type:{array:["u8",5]}},{name:"first_factor",type:"u16"},{name:"second_factor",type:{array:["u8",8]}},{name:"third_factor",type:"u64"}]}},{name:"BaseFeeParameters",type:{kind:"struct",fields:[{name:"cliff_fee_numerator",type:"u64"},{name:"first_factor",type:"u16"},{name:"second_factor",type:{array:["u8",8]}},{name:"third_factor",type:"u64"},{name:"base_fee_mode",type:"u8"}]}},{name:"BaseFeeStruct",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"cliff_fee_numerator",type:"u64"},{name:"base_fee_mode",type:"u8"},{name:"padding_0",type:{array:["u8",5]}},{name:"first_factor",type:"u16"},{name:"second_factor",type:{array:["u8",8]}},{name:"third_factor",type:"u64"},{name:"padding_1",type:"u64"}]}},{name:"ClaimFeeOperator",docs:["Parameter that set by the protocol"],serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"operator",docs:["operator"],type:"pubkey"},{name:"_padding",docs:["Reserve"],type:{array:["u8",128]}}]}},{name:"Config",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"vault_config_key",docs:["Vault config key"],type:"pubkey"},{name:"pool_creator_authority",docs:["Only pool_creator_authority can use the current config to initialize new pool. When it's Pubkey::default, it's a public config."],type:"pubkey"},{name:"pool_fees",docs:["Pool fee"],type:{defined:{name:"PoolFeesConfig"}}},{name:"activation_type",docs:["Activation type"],type:"u8"},{name:"collect_fee_mode",docs:["Collect fee mode"],type:"u8"},{name:"config_type",docs:["Config type mode, 0 for static, 1 for dynamic"],type:"u8"},{name:"_padding_0",docs:["padding 0"],type:{array:["u8",5]}},{name:"index",docs:["config index"],type:"u64"},{name:"sqrt_min_price",docs:["sqrt min price"],type:"u128"},{name:"sqrt_max_price",docs:["sqrt max price"],type:"u128"},{name:"_padding_1",docs:["Fee curve point","Padding for further use"],type:{array:["u64",10]}}]}},{name:"DynamicConfigParameters",type:{kind:"struct",fields:[{name:"pool_creator_authority",type:"pubkey"}]}},{name:"DynamicFeeConfig",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"initialized",type:"u8"},{name:"padding",type:{array:["u8",7]}},{name:"max_volatility_accumulator",type:"u32"},{name:"variable_fee_control",type:"u32"},{name:"bin_step",type:"u16"},{name:"filter_period",type:"u16"},{name:"decay_period",type:"u16"},{name:"reduction_factor",type:"u16"},{name:"padding_1",type:{array:["u8",8]}},{name:"bin_step_u128",type:"u128"}]}},{name:"DynamicFeeParameters",type:{kind:"struct",fields:[{name:"bin_step",type:"u16"},{name:"bin_step_u128",type:"u128"},{name:"filter_period",type:"u16"},{name:"decay_period",type:"u16"},{name:"reduction_factor",type:"u16"},{name:"max_volatility_accumulator",type:"u32"},{name:"variable_fee_control",type:"u32"}]}},{name:"DynamicFeeStruct",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"initialized",type:"u8"},{name:"padding",type:{array:["u8",7]}},{name:"max_volatility_accumulator",type:"u32"},{name:"variable_fee_control",type:"u32"},{name:"bin_step",type:"u16"},{name:"filter_period",type:"u16"},{name:"decay_period",type:"u16"},{name:"reduction_factor",type:"u16"},{name:"last_update_timestamp",type:"u64"},{name:"bin_step_u128",type:"u128"},{name:"sqrt_price_reference",type:"u128"},{name:"volatility_accumulator",type:"u128"},{name:"volatility_reference",type:"u128"}]}},{name:"EvtAddLiquidity",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"position",type:"pubkey"},{name:"owner",type:"pubkey"},{name:"params",type:{defined:{name:"AddLiquidityParameters"}}},{name:"token_a_amount",type:"u64"},{name:"token_b_amount",type:"u64"},{name:"total_amount_a",type:"u64"},{name:"total_amount_b",type:"u64"}]}},{name:"EvtClaimPartnerFee",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"token_a_amount",type:"u64"},{name:"token_b_amount",type:"u64"}]}},{name:"EvtClaimPositionFee",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"position",type:"pubkey"},{name:"owner",type:"pubkey"},{name:"fee_a_claimed",type:"u64"},{name:"fee_b_claimed",type:"u64"}]}},{name:"EvtClaimProtocolFee",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"token_a_amount",type:"u64"},{name:"token_b_amount",type:"u64"}]}},{name:"EvtClaimReward",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"position",type:"pubkey"},{name:"owner",type:"pubkey"},{name:"mint_reward",type:"pubkey"},{name:"reward_index",type:"u8"},{name:"total_reward",type:"u64"}]}},{name:"EvtCloseClaimFeeOperator",docs:["Close claim fee operator"],type:{kind:"struct",fields:[{name:"claim_fee_operator",type:"pubkey"},{name:"operator",type:"pubkey"}]}},{name:"EvtCloseConfig",docs:["Close config"],type:{kind:"struct",fields:[{name:"config",docs:["Config pubkey"],type:"pubkey"},{name:"admin",docs:["admin pk"],type:"pubkey"}]}},{name:"EvtClosePosition",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"owner",type:"pubkey"},{name:"position",type:"pubkey"},{name:"position_nft_mint",type:"pubkey"}]}},{name:"EvtCreateClaimFeeOperator",docs:["Create claim fee operator"],type:{kind:"struct",fields:[{name:"operator",type:"pubkey"}]}},{name:"EvtCreateConfig",docs:["Create static config"],type:{kind:"struct",fields:[{name:"pool_fees",type:{defined:{name:"PoolFeeParameters"}}},{name:"vault_config_key",type:"pubkey"},{name:"pool_creator_authority",type:"pubkey"},{name:"activation_type",type:"u8"},{name:"sqrt_min_price",type:"u128"},{name:"sqrt_max_price",type:"u128"},{name:"collect_fee_mode",type:"u8"},{name:"index",type:"u64"},{name:"config",type:"pubkey"}]}},{name:"EvtCreateDynamicConfig",docs:["Create dynamic config"],type:{kind:"struct",fields:[{name:"config",type:"pubkey"},{name:"pool_creator_authority",type:"pubkey"},{name:"index",type:"u64"}]}},{name:"EvtCreatePosition",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"owner",type:"pubkey"},{name:"position",type:"pubkey"},{name:"position_nft_mint",type:"pubkey"}]}},{name:"EvtCreateTokenBadge",docs:["Create token badge"],type:{kind:"struct",fields:[{name:"token_mint",type:"pubkey"}]}},{name:"EvtFundReward",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"funder",type:"pubkey"},{name:"mint_reward",type:"pubkey"},{name:"reward_index",type:"u8"},{name:"amount",type:"u64"},{name:"transfer_fee_excluded_amount_in",type:"u64"},{name:"reward_duration_end",type:"u64"},{name:"pre_reward_rate",type:"u128"},{name:"post_reward_rate",type:"u128"}]}},{name:"EvtInitializePool",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"token_a_mint",type:"pubkey"},{name:"token_b_mint",type:"pubkey"},{name:"creator",type:"pubkey"},{name:"payer",type:"pubkey"},{name:"alpha_vault",type:"pubkey"},{name:"pool_fees",type:{defined:{name:"PoolFeeParameters"}}},{name:"sqrt_min_price",type:"u128"},{name:"sqrt_max_price",type:"u128"},{name:"activation_type",type:"u8"},{name:"collect_fee_mode",type:"u8"},{name:"liquidity",type:"u128"},{name:"sqrt_price",type:"u128"},{name:"activation_point",type:"u64"},{name:"token_a_flag",type:"u8"},{name:"token_b_flag",type:"u8"},{name:"token_a_amount",type:"u64"},{name:"token_b_amount",type:"u64"},{name:"total_amount_a",type:"u64"},{name:"total_amount_b",type:"u64"},{name:"pool_type",type:"u8"}]}},{name:"EvtInitializeReward",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"reward_mint",type:"pubkey"},{name:"funder",type:"pubkey"},{name:"creator",type:"pubkey"},{name:"reward_index",type:"u8"},{name:"reward_duration",type:"u64"}]}},{name:"EvtLiquidityChange",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"position",type:"pubkey"},{name:"owner",type:"pubkey"},{name:"token_a_amount",type:"u64"},{name:"token_b_amount",type:"u64"},{name:"transfer_fee_included_token_a_amount",type:"u64"},{name:"transfer_fee_included_token_b_amount",type:"u64"},{name:"reserve_a_amount",type:"u64"},{name:"reserve_b_amount",type:"u64"},{name:"liquidity_delta",type:"u128"},{name:"token_a_amount_threshold",type:"u64"},{name:"token_b_amount_threshold",type:"u64"},{name:"change_type",type:"u8"}]}},{name:"EvtLockPosition",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"position",type:"pubkey"},{name:"owner",type:"pubkey"},{name:"vesting",type:"pubkey"},{name:"cliff_point",type:"u64"},{name:"period_frequency",type:"u64"},{name:"cliff_unlock_liquidity",type:"u128"},{name:"liquidity_per_period",type:"u128"},{name:"number_of_period",type:"u16"}]}},{name:"EvtPermanentLockPosition",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"position",type:"pubkey"},{name:"lock_liquidity_amount",type:"u128"},{name:"total_permanent_locked_liquidity",type:"u128"}]}},{name:"EvtRemoveLiquidity",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"position",type:"pubkey"},{name:"owner",type:"pubkey"},{name:"params",type:{defined:{name:"RemoveLiquidityParameters"}}},{name:"token_a_amount",type:"u64"},{name:"token_b_amount",type:"u64"}]}},{name:"EvtSetPoolStatus",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"status",type:"u8"}]}},{name:"EvtSplitPosition2",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"first_owner",type:"pubkey"},{name:"second_owner",type:"pubkey"},{name:"first_position",type:"pubkey"},{name:"second_position",type:"pubkey"},{name:"current_sqrt_price",type:"u128"},{name:"amount_splits",type:{defined:{name:"SplitAmountInfo"}}},{name:"first_position_info",type:{defined:{name:"SplitPositionInfo"}}},{name:"second_position_info",type:{defined:{name:"SplitPositionInfo"}}},{name:"split_position_parameters",type:{defined:{name:"SplitPositionParameters2"}}}]}},{name:"EvtSwap",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"trade_direction",type:"u8"},{name:"has_referral",type:"bool"},{name:"params",type:{defined:{name:"SwapParameters"}}},{name:"swap_result",type:{defined:{name:"SwapResult"}}},{name:"actual_amount_in",type:"u64"},{name:"current_timestamp",type:"u64"}]}},{name:"EvtSwap2",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"trade_direction",type:"u8"},{name:"collect_fee_mode",type:"u8"},{name:"has_referral",type:"bool"},{name:"params",type:{defined:{name:"SwapParameters2"}}},{name:"swap_result",type:{defined:{name:"SwapResult2"}}},{name:"included_transfer_fee_amount_in",type:"u64"},{name:"included_transfer_fee_amount_out",type:"u64"},{name:"excluded_transfer_fee_amount_out",type:"u64"},{name:"current_timestamp",type:"u64"},{name:"reserve_a_amount",type:"u64"},{name:"reserve_b_amount",type:"u64"}]}},{name:"EvtUpdateRewardDuration",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"reward_index",type:"u8"},{name:"old_reward_duration",type:"u64"},{name:"new_reward_duration",type:"u64"}]}},{name:"EvtUpdateRewardFunder",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"reward_index",type:"u8"},{name:"old_funder",type:"pubkey"},{name:"new_funder",type:"pubkey"}]}},{name:"EvtWithdrawIneligibleReward",type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"reward_mint",type:"pubkey"},{name:"amount",type:"u64"}]}},{name:"InitializeCustomizablePoolParameters",type:{kind:"struct",fields:[{name:"pool_fees",docs:["pool fees"],type:{defined:{name:"PoolFeeParameters"}}},{name:"sqrt_min_price",docs:["sqrt min price"],type:"u128"},{name:"sqrt_max_price",docs:["sqrt max price"],type:"u128"},{name:"has_alpha_vault",docs:["has alpha vault"],type:"bool"},{name:"liquidity",docs:["initialize liquidity"],type:"u128"},{name:"sqrt_price",docs:["The init price of the pool as a sqrt(token_b/token_a) Q64.64 value"],type:"u128"},{name:"activation_type",docs:["activation type"],type:"u8"},{name:"collect_fee_mode",docs:["collect fee mode"],type:"u8"},{name:"activation_point",docs:["activation point"],type:{option:"u64"}}]}},{name:"InitializePoolParameters",type:{kind:"struct",fields:[{name:"liquidity",docs:["initialize liquidity"],type:"u128"},{name:"sqrt_price",docs:["The init price of the pool as a sqrt(token_b/token_a) Q64.64 value"],type:"u128"},{name:"activation_point",docs:["activation point"],type:{option:"u64"}}]}},{name:"Pool",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"pool_fees",docs:["Pool fee"],type:{defined:{name:"PoolFeesStruct"}}},{name:"token_a_mint",docs:["token a mint"],type:"pubkey"},{name:"token_b_mint",docs:["token b mint"],type:"pubkey"},{name:"token_a_vault",docs:["token a vault"],type:"pubkey"},{name:"token_b_vault",docs:["token b vault"],type:"pubkey"},{name:"whitelisted_vault",docs:["Whitelisted vault to be able to buy pool before activation_point"],type:"pubkey"},{name:"partner",docs:["partner"],type:"pubkey"},{name:"liquidity",docs:["liquidity share"],type:"u128"},{name:"_padding",docs:["padding, previous reserve amount, be careful to use that field"],type:"u128"},{name:"protocol_a_fee",docs:["protocol a fee"],type:"u64"},{name:"protocol_b_fee",docs:["protocol b fee"],type:"u64"},{name:"partner_a_fee",docs:["partner a fee"],type:"u64"},{name:"partner_b_fee",docs:["partner b fee"],type:"u64"},{name:"sqrt_min_price",docs:["min price"],type:"u128"},{name:"sqrt_max_price",docs:["max price"],type:"u128"},{name:"sqrt_price",docs:["current price"],type:"u128"},{name:"activation_point",docs:["Activation point, can be slot or timestamp"],type:"u64"},{name:"activation_type",docs:["Activation type, 0 means by slot, 1 means by timestamp"],type:"u8"},{name:"pool_status",docs:["pool status, 0: enable, 1 disable"],type:"u8"},{name:"token_a_flag",docs:["token a flag"],type:"u8"},{name:"token_b_flag",docs:["token b flag"],type:"u8"},{name:"collect_fee_mode",docs:["0 is collect fee in both token, 1 only collect fee in token a, 2 only collect fee in token b"],type:"u8"},{name:"pool_type",docs:["pool type"],type:"u8"},{name:"version",docs:["pool version, 0: max_fee is still capped at 50%, 1: max_fee is capped at 99%"],type:"u8"},{name:"_padding_0",docs:["padding"],type:"u8"},{name:"fee_a_per_liquidity",docs:["cumulative"],type:{array:["u8",32]}},{name:"fee_b_per_liquidity",docs:["cumulative"],type:{array:["u8",32]}},{name:"permanent_lock_liquidity",type:"u128"},{name:"metrics",docs:["metrics"],type:{defined:{name:"PoolMetrics"}}},{name:"creator",docs:["pool creator"],type:"pubkey"},{name:"_padding_1",docs:["Padding for further use"],type:{array:["u64",6]}},{name:"reward_infos",docs:["Farming reward information"],type:{array:[{defined:{name:"RewardInfo"}},2]}}]}},{name:"PoolFeeParameters",docs:["Information regarding fee charges"],type:{kind:"struct",fields:[{name:"base_fee",docs:["Base fee"],type:{defined:{name:"BaseFeeParameters"}}},{name:"padding",docs:["padding"],type:{array:["u8",3]}},{name:"dynamic_fee",docs:["dynamic fee"],type:{option:{defined:{name:"DynamicFeeParameters"}}}}]}},{name:"PoolFeesConfig",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"base_fee",type:{defined:{name:"BaseFeeConfig"}}},{name:"dynamic_fee",type:{defined:{name:"DynamicFeeConfig"}}},{name:"protocol_fee_percent",type:"u8"},{name:"partner_fee_percent",type:"u8"},{name:"referral_fee_percent",type:"u8"},{name:"padding_0",type:{array:["u8",5]}},{name:"padding_1",type:{array:["u64",5]}}]}},{name:"PoolFeesStruct",docs:["Information regarding fee charges","trading_fee = amount * trade_fee_numerator / denominator","protocol_fee = trading_fee * protocol_fee_percentage / 100","referral_fee = protocol_fee * referral_percentage / 100","partner_fee = (protocol_fee - referral_fee) * partner_fee_percentage / denominator"],serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"base_fee",docs:["Trade fees are extra token amounts that are held inside the token","accounts during a trade, making the value of liquidity tokens rise.","Trade fee numerator"],type:{defined:{name:"BaseFeeStruct"}}},{name:"protocol_fee_percent",docs:["Protocol trading fees are extra token amounts that are held inside the token","accounts during a trade, with the equivalent in pool tokens minted to","the protocol of the program.","Protocol trade fee numerator"],type:"u8"},{name:"partner_fee_percent",docs:["partner fee"],type:"u8"},{name:"referral_fee_percent",docs:["referral fee"],type:"u8"},{name:"padding_0",docs:["padding"],type:{array:["u8",5]}},{name:"dynamic_fee",docs:["dynamic fee"],type:{defined:{name:"DynamicFeeStruct"}}},{name:"padding_1",docs:["padding"],type:{array:["u64",2]}}]}},{name:"PoolMetrics",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"total_lp_a_fee",type:"u128"},{name:"total_lp_b_fee",type:"u128"},{name:"total_protocol_a_fee",type:"u64"},{name:"total_protocol_b_fee",type:"u64"},{name:"total_partner_a_fee",type:"u64"},{name:"total_partner_b_fee",type:"u64"},{name:"total_position",type:"u64"},{name:"padding",type:"u64"}]}},{name:"Position",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"pool",type:"pubkey"},{name:"nft_mint",docs:["nft mint"],type:"pubkey"},{name:"fee_a_per_token_checkpoint",docs:["fee a checkpoint"],type:{array:["u8",32]}},{name:"fee_b_per_token_checkpoint",docs:["fee b checkpoint"],type:{array:["u8",32]}},{name:"fee_a_pending",docs:["fee a pending"],type:"u64"},{name:"fee_b_pending",docs:["fee b pending"],type:"u64"},{name:"unlocked_liquidity",docs:["unlock liquidity"],type:"u128"},{name:"vested_liquidity",docs:["vesting liquidity"],type:"u128"},{name:"permanent_locked_liquidity",docs:["permanent locked liquidity"],type:"u128"},{name:"metrics",docs:["metrics"],type:{defined:{name:"PositionMetrics"}}},{name:"reward_infos",docs:["Farming reward information"],type:{array:[{defined:{name:"UserRewardInfo"}},2]}},{name:"padding",docs:["padding for future usage"],type:{array:["u128",6]}}]}},{name:"PositionMetrics",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"total_claimed_a_fee",type:"u64"},{name:"total_claimed_b_fee",type:"u64"}]}},{name:"RemoveLiquidityParameters",type:{kind:"struct",fields:[{name:"liquidity_delta",docs:["delta liquidity"],type:"u128"},{name:"token_a_amount_threshold",docs:["minimum token a amount"],type:"u64"},{name:"token_b_amount_threshold",docs:["minimum token b amount"],type:"u64"}]}},{name:"RewardInfo",docs:["Stores the state relevant for tracking liquidity mining rewards"],serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"initialized",docs:["Indicates if the reward has been initialized"],type:"u8"},{name:"reward_token_flag",docs:["reward token flag"],type:"u8"},{name:"_padding_0",docs:["padding"],type:{array:["u8",6]}},{name:"_padding_1",docs:["Padding to ensure `reward_rate: u128` is 16-byte aligned"],type:{array:["u8",8]}},{name:"mint",docs:["Reward token mint."],type:"pubkey"},{name:"vault",docs:["Reward vault token account."],type:"pubkey"},{name:"funder",docs:["Authority account that allows to fund rewards"],type:"pubkey"},{name:"reward_duration",docs:["reward duration"],type:"u64"},{name:"reward_duration_end",docs:["reward duration end"],type:"u64"},{name:"reward_rate",docs:["reward rate"],type:"u128"},{name:"reward_per_token_stored",docs:["Reward per token stored"],type:{array:["u8",32]}},{name:"last_update_time",docs:["The last time reward states were updated."],type:"u64"},{name:"cumulative_seconds_with_empty_liquidity_reward",docs:["Accumulated seconds when the farm distributed rewards but the bin was empty.","These rewards will be carried over to the next reward time window."],type:"u64"}]}},{name:"SplitAmountInfo",type:{kind:"struct",fields:[{name:"permanent_locked_liquidity",type:"u128"},{name:"unlocked_liquidity",type:"u128"},{name:"fee_a",type:"u64"},{name:"fee_b",type:"u64"},{name:"reward_0",type:"u64"},{name:"reward_1",type:"u64"}]}},{name:"SplitPositionInfo",type:{kind:"struct",fields:[{name:"liquidity",type:"u128"},{name:"fee_a",type:"u64"},{name:"fee_b",type:"u64"},{name:"reward_0",type:"u64"},{name:"reward_1",type:"u64"}]}},{name:"SplitPositionParameters",type:{kind:"struct",fields:[{name:"unlocked_liquidity_percentage",docs:["Percentage of unlocked liquidity to split to the second position"],type:"u8"},{name:"permanent_locked_liquidity_percentage",docs:["Percentage of permanent locked liquidity to split to the second position"],type:"u8"},{name:"fee_a_percentage",docs:["Percentage of fee A pending to split to the second position"],type:"u8"},{name:"fee_b_percentage",docs:["Percentage of fee B pending to split to the second position"],type:"u8"},{name:"reward_0_percentage",docs:["Percentage of reward 0 pending to split to the second position"],type:"u8"},{name:"reward_1_percentage",docs:["Percentage of reward 1 pending to split to the second position"],type:"u8"},{name:"padding",docs:["padding for future"],type:{array:["u8",16]}}]}},{name:"SplitPositionParameters2",type:{kind:"struct",fields:[{name:"unlocked_liquidity_numerator",type:"u32"},{name:"permanent_locked_liquidity_numerator",type:"u32"},{name:"fee_a_numerator",type:"u32"},{name:"fee_b_numerator",type:"u32"},{name:"reward_0_numerator",type:"u32"},{name:"reward_1_numerator",type:"u32"}]}},{name:"StaticConfigParameters",type:{kind:"struct",fields:[{name:"pool_fees",type:{defined:{name:"PoolFeeParameters"}}},{name:"sqrt_min_price",type:"u128"},{name:"sqrt_max_price",type:"u128"},{name:"vault_config_key",type:"pubkey"},{name:"pool_creator_authority",type:"pubkey"},{name:"activation_type",type:"u8"},{name:"collect_fee_mode",type:"u8"}]}},{name:"SwapParameters",type:{kind:"struct",fields:[{name:"amount_in",type:"u64"},{name:"minimum_amount_out",type:"u64"}]}},{name:"SwapParameters2",type:{kind:"struct",fields:[{name:"amount_0",docs:["When it's exact in, partial fill, this will be amount_in. When it's exact out, this will be amount_out"],type:"u64"},{name:"amount_1",docs:["When it's exact in, partial fill, this will be minimum_amount_out. When it's exact out, this will be maximum_amount_in"],type:"u64"},{name:"swap_mode",docs:["Swap mode, refer [SwapMode]"],type:"u8"}]}},{name:"SwapResult",docs:["Encodes all results of swapping"],type:{kind:"struct",fields:[{name:"output_amount",type:"u64"},{name:"next_sqrt_price",type:"u128"},{name:"lp_fee",type:"u64"},{name:"protocol_fee",type:"u64"},{name:"partner_fee",type:"u64"},{name:"referral_fee",type:"u64"}]}},{name:"SwapResult2",type:{kind:"struct",fields:[{name:"included_fee_input_amount",type:"u64"},{name:"excluded_fee_input_amount",type:"u64"},{name:"amount_left",type:"u64"},{name:"output_amount",type:"u64"},{name:"next_sqrt_price",type:"u128"},{name:"trading_fee",type:"u64"},{name:"protocol_fee",type:"u64"},{name:"partner_fee",type:"u64"},{name:"referral_fee",type:"u64"}]}},{name:"TokenBadge",docs:["Parameter that set by the protocol"],serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"token_mint",docs:["token mint"],type:"pubkey"},{name:"_padding",docs:["Reserve"],type:{array:["u8",128]}}]}},{name:"UserRewardInfo",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"reward_per_token_checkpoint",docs:["The latest update reward checkpoint"],type:{array:["u8",32]}},{name:"reward_pendings",docs:["Current pending rewards"],type:"u64"},{name:"total_claimed_rewards",docs:["Total claimed rewards"],type:"u64"}]}},{name:"Vesting",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"position",type:"pubkey"},{name:"cliff_point",type:"u64"},{name:"period_frequency",type:"u64"},{name:"cliff_unlock_liquidity",type:"u128"},{name:"liquidity_per_period",type:"u128"},{name:"total_released_liquidity",type:"u128"},{name:"number_of_period",type:"u16"},{name:"padding",type:{array:["u8",14]}},{name:"padding2",type:{array:["u128",4]}}]}},{name:"VestingParameters",type:{kind:"struct",fields:[{name:"cliff_point",type:{option:"u64"}},{name:"period_frequency",type:"u64"},{name:"cliff_unlock_liquidity",type:"u128"},{name:"liquidity_per_period",type:"u128"},{name:"number_of_period",type:"u16"}]}}]},Do=((P=Do||{})[P.Up=0]="Up",P[P.Down=1]="Down",P),Da=((O=Da||{})[O.Timestamp=0]="Timestamp",O[O.Slot=1]="Slot",O),Ds=((B=Ds||{})[B.FeeSchedulerLinear=0]="FeeSchedulerLinear",B[B.FeeSchedulerExponential=1]="FeeSchedulerExponential",B[B.RateLimiter=2]="RateLimiter",B),Du=((C=Du||{})[C.BothToken=0]="BothToken",C[C.OnlyB=1]="OnlyB",C),Dl=((R=Dl||{})[R.AtoB=0]="AtoB",R[R.BtoA=1]="BtoA",R),Dc=((M=Dc||{})[M.Slot=0]="Slot",M[M.Timestamp=1]="Timestamp",M),Dd=((L=Dd||{})[L.V0=0]="V0",L[L.V1=1]="V1",L),Dp=((N=Dp||{})[N.Enable=0]="Enable",N[N.Disable=1]="Disable",N),Df=((D=Df||{})[D.ExactIn=0]="ExactIn",D[D.PartialFill=1]="PartialFill",D[D.ExactOut=2]="ExactOut",D),Dh=new ho("cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG"),Dm=new(ed(d0))(1).shln(64),Dg=new(ed(d0))(524288),Dy=new(ed(d0))(2).pow(new(ed(d0))(128)).sub(new(ed(d0))(1));new(ed(d0))("4295048016"),new(ed(d0))("79226673521066979257578248091");var Db=new(ed(d0))(1e11),D_=new(ed(d0))(99999999999);new(ed(d0))("1844674407370955"),new(ed(d0))("340282366920938463463374607431768211455");var Dw=new(ed(d0))("18446744073709551615");function Dv(e,t){let r=e.toBuffer(),n=t.toBuffer();return 1===N2.compare(r,n)?r:n}function Dk(e,t){let r=e.toBuffer(),n=t.toBuffer();return 1===N2.compare(r,n)?n:r}function DA(e,t,r){return ho.findProgramAddressSync([N2.from("pool"),e.toBuffer(),Dv(t,r),Dk(t,r)],Dh)[0]}function DS(e){return ho.findProgramAddressSync([N2.from("position"),e.toBuffer()],Dh)[0]}function DI(e,t){return ho.findProgramAddressSync([N2.from("token_vault"),e.toBuffer(),t.toBuffer()],Dh)[0]}function DE(e){return ho.findProgramAddressSync([N2.from("token_badge"),e.toBuffer()],Dh)[0]}function DT(e){return ho.findProgramAddressSync([N2.from("position_nft_account"),e.toBuffer()],Dh)[0]}function Dx(e){return 0==e?SX:SZ}var DP=(e,t,r,...n)=>Dn(null,[e,t,r,...n],function*(e,t,r,n=r,i=!0,o){let a=Ee(t,r,i,o);try{return yield Id(e,a),{ataPubkey:a,ix:void 0}}catch(e){if(e instanceof Ie||e instanceof Ir){let e=Er(n,a,r,t,o);return{ataPubkey:a,ix:e}}throw console.error("Error::getOrCreateATAInstruction",e),e}}),DO=(e,t,r)=>[hV.transfer({fromPubkey:e,toPubkey:t,lamports:r}),new hI({keys:[{pubkey:t,isSigner:!1,isWritable:!0}],data:N2.from(new Uint8Array([17])),programId:SX})],DB=(e,...t)=>Dn(null,[e,...t],function*(e,t=e,r=!0){let n=Ee(SY,e,r);if(n){let r=Ea(n,t,e,[],SX);return r}return null}),DC=(e,t,r)=>{let n;if(t>0){if(2===r){let r=new(ed(d0))(1e4+t);n=e.mul(r).div(new(ed(d0))(1e4))}else{let r=new(ed(d0))(1e4-t);n=e.mul(r).div(new(ed(d0))(1e4))}}else n=e;return n},DR=(e,t,r,n,i,o)=>{if(e.eq(new(ed(d0))(0)))return new(ed(N0))(0);if(t.eq(new(ed(d0))(0)))throw Error("Amount out must be greater than 0");let a=DM(r,i,o),s=new(ed(N0))(e.toString()).div(new(ed(N0))(t.toString())).mul(ed(N0).pow(10,n?o-i:i-o));return(n?new(ed(N0))(1).div(s):s).sub(a).abs().div(a).mul(100)},DM=(e,t,r)=>{let n=new(ed(N0))(e.toString()),i=n.mul(n).mul(new(ed(N0))(N7(10,t-r))).div(ed(N0).pow(2,128));return i},DL=e=>({memcmp:{bytes:e.toBase58(),offset:8}}),DN=e=>({memcmp:{bytes:e.toBase58(),offset:8}});function DD(e,t,r){if(e.isZero())return{amount:new(ed(d0))(0),transferFee:new(ed(d0))(0)};let n=I0(t);if(null===n)return{amount:e,transferFee:new(ed(d0))(0)};let i=IJ(n,BigInt(r)),o=1e4==i.transferFeeBasisPoints?new(ed(d0))(i.maximumFee.toString()):function(e,t){let r=function(e,t){if(t.isZero())return new(ed(d0))(0);if(0===e.transferFeeBasisPoints)return t;let r=new(ed(d0))(e.maximumFee.toString());if(1e4===e.transferFeeBasisPoints)return t.add(r);let n=new(ed(d0))(1e4),i=t.mul(n),o=n.sub(new(ed(d0))(e.transferFeeBasisPoints)),a=i.add(o).sub(new(ed(d0))(1)).div(o);return a.sub(t).gte(r)?t.add(r):a}(e,t);return new(ed(d0))(IQ(e,BigInt(r.toString())).toString())}(i,e),a=e.add(o);return{amount:a,transferFee:o}}function DF(e,t,r){let n=I0(t);if(null===n)return{amount:e,transferFee:new(ed(d0))(0)};let i=BigInt(e.toString()),o=IQ(IJ(n,BigInt(r)),i),a=new(ed(d0))((i-o).toString());return{amount:a,transferFee:new(ed(d0))(o.toString())}}function Dq(e,t,r,n){let{div:i,mod:o}=e.mul(t).divmod(r);return 0!=n||o.isZero()?i:i.add(new(ed(d0))(1))}function DU(e,t){let r=Dq(e,t,new(ed(d0))(1e4),1);return r}function Dj(e,t,r){let n,i;return 0===e?0===t?(n=!1,i=!1):(n=!1,i=!0):(n=0!==t,i=!1),{feesOnInput:n,feesOnTokenA:i,hasReferral:r}}function DW(e,t,r){let n=new(ed(d0))(0);0!==e.dynamicFee.initialized&&(n=function(e,t,r){let n=e.mul(new(ed(d0))(t)).pow(new(ed(d0))(2)),i=r.mul(n);return i.add(new(ed(d0))(D_)).div(new(ed(d0))(Db))}(e.dynamicFee.volatilityAccumulator,new(ed(d0))(e.dynamicFee.binStep),new(ed(d0))(e.dynamicFee.variableFeeControl)));let i=n.add(t);return ed(d0).min(i,r)}function DK(e,t,r,n,i,o){let a=D5(e.baseFee.cliffFeeNumerator,e.baseFee.firstFactor,e.baseFee.secondFactor,e.baseFee.thirdFactor,e.baseFee.baseFeeMode),s=a.getBaseFeeNumeratorFromIncludedFeeAmount(t,r,i,n);return DW(e,s,o)}function Dz(e,t,r,n,i,o){let a=D5(e.baseFee.cliffFeeNumerator,e.baseFee.firstFactor,e.baseFee.secondFactor,e.baseFee.thirdFactor,e.baseFee.baseFeeMode),s=a.getBaseFeeNumeratorFromExcludedFeeAmount(t,r,i,n);return DW(e,s,o)}function DV(e,t,r,n){let i=t.muln(e.protocolFeePercent).divn(100),o=t.sub(i),a=new(ed(d0))(0);r&&(a=i.muln(e.referralFeePercent).divn(100));let s=i.sub(a),u=new(ed(d0))(0);n&&e.partnerFeePercent>0&&(u=s.muln(e.partnerFeePercent).divn(100));let l=s.sub(u);return{tradingFee:o,protocolFee:l,referralFee:a,partnerFee:u}}function DH(e,t,r,n,i){let{excludedFeeAmount:o,tradingFee:a}=DG(r,t),s=DV(e,a,n,i);return{amount:o,tradingFee:s.tradingFee,protocolFee:s.protocolFee,partnerFee:s.partnerFee,referralFee:s.referralFee}}function DG(e,t){let r=Dq(t,e,new(ed(d0))(1e9),0),n=t.sub(r);return{excludedFeeAmount:n,tradingFee:r}}function D$(e,t){let r=new(ed(d0))(1e9).sub(e);if(r.isZero()||r.isNeg())throw Error("Invalid fee numerator");let n=Dq(t,new(ed(d0))(1e9),r,0),i=n.sub(t);return{includedFeeAmount:n,feeAmount:i}}function DX(e){switch(e){case 0:return new(ed(d0))(5e8);case 1:return new(ed(d0))(99e7);default:throw Error("Invalid pool version")}}function DZ(e,t,r,n){return e.isZero()&&0===t&&0===r&&0===n}function DQ(e,t,r,n,i,o,a){if(DZ(e,t,r,n)||0===a||i.lt(o))return!1;let s=o.add(new(ed(d0))(t));return!i.gt(s)}function DY(e,t,r){let n=DU(new(ed(d0))(e),new(ed(d0))(1e9));if(t.gt(n))throw Error("cliffFeeNumerator cannot be greater than maxFeeNumerator");let i=n.sub(t),o=DU(new(ed(d0))(r),new(ed(d0))(1e9));if(o.isZero())throw Error("feeIncrementNumerator cannot be zero");let a=i.div(o);return a}function DJ(e,t,r,n,i){if(e.lte(t))return r;{let o;let a=DU(new(ed(d0))(n),new(ed(d0))(1e9)),s=e.sub(t),u=s.div(t),l=s.mod(t),c=DY(n,r,i),d=DU(new(ed(d0))(i),new(ed(d0))(1e9)),p=new(ed(d0))(1),f=new(ed(d0))(2);if(u.lt(c)){let e=r.add(r.mul(u)).add(d.mul(u).mul(u.add(p)).div(f)),n=r.add(d.mul(u.add(p))),i=t.mul(e),a=l.mul(n);o=i.add(a)}else{let e=r.add(r.mul(c)).add(d.mul(c).mul(c.add(p)).div(f)),n=t.mul(e),i=u.sub(c),s=i.mul(t).add(l),h=s.mul(a);o=n.add(h)}let h=new(ed(d0))(1e9),m=o.add(h).sub(p).div(h),g=Dq(m,h,e,0);if(g.gt(new(ed(d0))(Dw)))throw Error("Numerator does not fit in u64");return g}}function D1(e,t,r,n,i){let o=DJ(e,t,r,n,i),{excludedFeeAmount:a}=DG(o,e);return a}function D0(e,t,r,n,i){let o=ed(d0).min(r,new(ed(d0))(t)),a=o.toNumber();if(a>65535)throw Error("Math overflow");switch(i){case 0:{let t=function(e,t,r){let n=new(ed(d0))(r).mul(t);return e.sub(n)}(e,n,a);return t}case 1:{let t=function(e,t,r){if(0===r)return e;let n=new(ed(d0))(1e4),i=new(ed(d0))(t).shln(64).div(n),o=Dm.sub(i),a=function(e,t){let r=t.isNeg();if(t.isZero())return Dm;if((t=r?t.abs():t).gt(Dg))return new(ed(d0))(0);let n=e,i=Dm;return(n.gte(i)&&(n=Dy.div(n),r=!r),t.and(new(ed(d0))(1)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new(ed(d0))(2)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new(ed(d0))(4)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new(ed(d0))(8)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new(ed(d0))(16)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new(ed(d0))(32)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new(ed(d0))(64)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new(ed(d0))(128)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new(ed(d0))(256)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new(ed(d0))(512)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new(ed(d0))(1024)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new(ed(d0))(2048)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new(ed(d0))(4096)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new(ed(d0))(8192)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new(ed(d0))(16384)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new(ed(d0))(32768)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new(ed(d0))(65536)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new(ed(d0))(131072)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new(ed(d0))(262144)).isZero()||(i=i.mul(n).shrn(64)),i.isZero())?new(ed(d0))(0):(r&&(i=Dy.div(i)),i)}(o,new(ed(d0))(r));return e.mul(a).div(Dm)}(e,n,a);return t}default:throw Error("Invalid fee scheduler mode")}}function D2(e,t,r,n,i,o,a){let s;return r.isZero()?e:(o.lt(a)?s=new(ed(d0))(t):(s=o.sub(a).div(r)).gt(new(ed(d0))(t))&&(s=new(ed(d0))(t)),D0(e,t,s,n,i))}var D6=class{constructor(e,t,r,n,i){this.cliffFeeNumerator=e,this.feeIncrementBps=t,this.maxFeeBps=r,this.maxLimiterDuration=n,this.referenceAmount=i}validate(e,t,r){return function(e,t,r,n,i,o,a,s){if(1!==o)return!1;let u=DU(new(ed(d0))(r),new(ed(d0))(1e9));if(e.lt(new(ed(d0))(1e5))||e.gt(u))return!1;if(DZ(i,n,r,t))return!0;if(i.isZero()&&0!==n&&0!==r&&0!==t)return!1;let l=new(ed(d0))(0===a?108e3:43200);if(new(ed(d0))(n).gt(l))return!1;let c=DU(new(ed(d0))(t),new(ed(d0))(1e9));if(c.gte(new(ed(d0))(1e9))||r>function(e){switch(e){case 0:return 5e3;case 1:return 9900;default:throw Error("Invalid pool version")}}(s))return!1;let d=DJ(new(ed(d0))(0),e,i,r,t),p=DJ(new(ed(d0))(Number.MAX_SAFE_INTEGER),e,i,r,t);return!(d.lt(new(ed(d0))(1e5))||p.gt(DX(s)))}(this.cliffFeeNumerator,this.feeIncrementBps,this.maxFeeBps,this.maxLimiterDuration,this.referenceAmount,e,t,r)}getBaseFeeNumeratorFromIncludedFeeAmount(e,t,r,n){return DQ(this.referenceAmount,this.maxLimiterDuration,this.maxFeeBps,this.feeIncrementBps,e,t,r)?DJ(n,this.referenceAmount,this.cliffFeeNumerator,this.maxFeeBps,this.feeIncrementBps):this.cliffFeeNumerator}getBaseFeeNumeratorFromExcludedFeeAmount(e,t,r,n){return DQ(this.referenceAmount,this.maxLimiterDuration,this.maxFeeBps,this.feeIncrementBps,e,t,r)?function(e,t,r,n,i){let o;let a=D1(t,t,r,n,i);if(e.lte(a))return r;let{checkedExcludedFeeAmount:s,checkedIncludedFeeAmount:u,isOverflow:l}=function(e,t,r,n){let i=DY(r,t,n),o=new(ed(d0))(1),a=i.add(o).mul(e);if(a.lte(Dw)){let i=D1(a,e,t,r,n);return{checkedExcludedFeeAmount:i,checkedIncludedFeeAmount:a,isOverflow:!1}}{let i=D1(Dw,e,t,r,n);return{checkedExcludedFeeAmount:i,checkedIncludedFeeAmount:Dw,isOverflow:!0}}}(t,r,n,i);if(e.eq(s))return DJ(u,t,r,n,i);if(e.lt(s)){let a=new(ed(d0))(2),s=new(ed(d0))(4),u=DU(new(ed(d0))(i),new(ed(d0))(1e9)),l=new(ed(d0))(1e9),c=a.mul(l).mul(t).add(u.mul(t)).sub(a.mul(r).mul(t)),d=a.mul(e).mul(l).mul(t),p=c.mul(c).sub(s.mul(u).mul(d)),f=function(e){if(e.isZero())return new(ed(d0))(0);if(e.eq(new(ed(d0))(1)))return new(ed(d0))(1);let t=e,r=e.add(new(ed(d0))(1)).div(new(ed(d0))(2));for(;r.lt(t);)r=(t=r).add(e.div(t)).div(new(ed(d0))(2));return t}(p);o=c.sub(f).div(a.mul(u));let h=c.sub(f),m=a.mul(u);o=h.div(m);let g=o.div(t),y=D1(o,t,r,n,i),b=e.sub(y),_=r.add(u.mul(g)),{includedFeeAmount:w}=D$(_,b);o=o.add(w)}else{if(l)throw Error("Math overflow in getFeeNumeratorFromExcludedFeeAmount");let t=e.sub(s),r=DU(new(ed(d0))(n),new(ed(d0))(1e9)),{includedFeeAmount:i}=D$(r,t);o=i.add(u)}let c=o.sub(e),d=Dq(c,new(ed(d0))(1e9),o,0);if(d.lt(r))throw Error("feeNumerator is less than cliffFeeNumerator");return d}(n,this.referenceAmount,this.cliffFeeNumerator,this.maxFeeBps,this.feeIncrementBps):this.cliffFeeNumerator}},D4=class{constructor(e,t,r,n,i){this.cliffFeeNumerator=e,this.numberOfPeriod=t,this.periodFrequency=r,this.reductionFactor=n,this.feeSchedulerMode=i}validate(e,t,r){return function(e,t,r,n,i,o){if((!t.eq(new(ed(d0))(0))||0!==e||!r.eq(new(ed(d0))(0)))&&(0===e||t.eq(new(ed(d0))(0))||r.eq(new(ed(d0))(0))))return!1;let a=D0(n,e,new(ed(d0))(e),r,i);if(Fn(a,new(ed(d0))(1e9)),Fn(n,new(ed(d0))(1e9)),a.lt(new(ed(d0))(1e5))||n.gt(DX(o)))throw Error("PoolError::ExceedMaxFeeBps");return!0}(this.numberOfPeriod,this.periodFrequency,this.reductionFactor,this.cliffFeeNumerator,this.feeSchedulerMode,r)}getBaseFeeNumeratorFromIncludedFeeAmount(e,t){return D2(this.cliffFeeNumerator,this.numberOfPeriod,this.periodFrequency,this.reductionFactor,this.feeSchedulerMode,e,t)}getBaseFeeNumeratorFromExcludedFeeAmount(e,t){return D2(this.cliffFeeNumerator,this.numberOfPeriod,this.periodFrequency,this.reductionFactor,this.feeSchedulerMode,e,t)}};function D5(e,t,r,n,i){switch(i){case 0:case 1:{if(r.length<8)throw Error("TypeCastFailed: secondFactor must be at least 8 bytes");let o=new(ed(d0))(N2.from(r.slice(0,8)),"le"),a=new D4(e,t,o,n,i);return a}case 2:{if(r.length<8)throw Error("TypeCastFailed: secondFactor must be at least 8 bytes");let i=N2.from(r.slice(0,4)).readUInt32LE(0),o=N2.from(r.slice(4,8)).readUInt32LE(0),a=new D6(e,t,i,o,n);return a}default:throw Error("Invalid base fee mode")}}function D8(e,t,r,n){if(e.lte(new(ed(d0))(0)))throw Error("sqrtPrice must be greater than 0");if(t.lte(new(ed(d0))(0)))throw Error("liquidity must be greater than 0");return n?function(e,t,r){let n=r.shln(128),i=n.add(t).subn(1).div(t),o=e.sub(i);if(o.isNeg())throw Error("sqrt price cannot be negative");return o}(e,t,r):function(e,t,r){if(r.isZero())return e;let n=r.mul(e),i=t.sub(n);if(i.lte(new(ed(d0))(0)))throw Error("MathOverflow: denominator is zero or negative");return Dq(t,e,i,0)}(e,t,r)}function D3(e,t,r,n){if(e.lte(new(ed(d0))(0)))throw Error("sqrtPrice must be greater than 0");if(t.lte(new(ed(d0))(0)))throw Error("liquidity must be greater than 0");return n?function(e,t,r){if(r.isZero())return e;let n=r.mul(e),i=t.add(n),o=Dq(t,e,i,0);return o}(e,t,r):function(e,t,r){let n=r.shln(128).div(t),i=e.add(n);return i}(e,t,r)}function D9(e,t,r,n){let i=function(e,t,r,n){let i=t.sub(e),o=r.mul(i);if(0===n){let e=new(ed(d0))(1).ushln(128),t=o.add(e.subn(1)).div(e);return t}{let e=o.ushrn(128);return e}}(e,t,r,n);return i}function D7(e,t,r,n){let i=function(e,t,r,n){let i=t.sub(e),o=e.mul(t);if(o.lte(new(ed(d0))(0)))throw Error("Denominator must be greater than zero");let a=Dq(r,i,o,n);return a}(e,t,r,n);return i}function Fe(e,t,r){let n=e.mul(t).mul(r),i=r.sub(t);return n.div(i)}function Ft(e,t,r){let n=r.sub(t),i=e.shln(128);return i.div(n)}function Fr(e,t,r,n,i,o,a,s,u,l){if(r.lte(new(ed(d0))(0)))throw Error("Amount in must be greater than 0");if(!Fa(e,t))throw Error("Swap is disabled");let c=i?0:1,d=Dj(e.collectFeeMode,c,o),p=r;u&&(p=DF(r,u.mint,u.currentEpoch).amount);let f=function(e,t,r,n,i){let o,a,s,u=new(ed(d0))(0),l=new(ed(d0))(0),c=new(ed(d0))(0),d=new(ed(d0))(0),p=DX(e.version),f=DK(e.poolFees,i,e.activationPoint,t,n,p);if(r.feesOnInput){let{amount:n,tradingFee:i,protocolFee:a,partnerFee:s,referralFee:p}=DH(e.poolFees,t,f,r.hasReferral,Fi(e));u=a,l=i,c=p,d=s,o=n}else o=t;a=0===n?function(e,t){let r=D3(e.sqrtPrice,e.liquidity,t,!0);if(r.lt(e.sqrtMinPrice))throw Error("Price range is violated");let n=D9(r,e.sqrtPrice,e.liquidity,1);return{outputAmount:n,nextSqrtPrice:r,amountLeft:new(ed(d0))(0)}}(e,o):function(e,t){let r=D3(e.sqrtPrice,e.liquidity,t,!1);if(r.gt(e.sqrtMaxPrice))throw Error("Price range is violated");let n=D7(e.sqrtPrice,r,e.liquidity,1);return{outputAmount:n,nextSqrtPrice:r,amountLeft:new(ed(d0))(0)}}(e,o);let{outputAmount:h,nextSqrtPrice:m,amountLeft:g}=a;if(r.feesOnInput)s=h;else{let{amount:t,tradingFee:n,protocolFee:i,partnerFee:o,referralFee:a}=DH(e.poolFees,h,f,r.hasReferral,Fi(e));u=i,l=n,c=a,d=o,s=t}return{amountLeft:g,includedFeeInputAmount:t,excludedFeeInputAmount:o,outputAmount:s,nextSqrtPrice:m,tradingFee:l,protocolFee:u,partnerFee:d,referralFee:c}}(e,p,d,c,t),h=f.outputAmount;l&&(h=DF(f.outputAmount,l.mint,l.currentEpoch).amount);let m=DC(h,n,0),g=DR(p,h,e.sqrtPrice,i,a,s);return Dr(Dt({},f),{minimumAmountOut:m,priceImpact:g})}function Fn(e,t){if(t.isZero()||e.gte(t))throw Error("InvalidFee: Fee numerator must be less than denominator and denominator must be non-zero")}function Fi(e){return!e.partner.equals(ho.default)}function Fo(e,t){return Dn(this,null,function*(){let r=yield e.getSlot();if(0===t)return new(ed(d0))(r);{let t=yield e.getBlockTime(r);return new(ed(d0))(t)}})}function Fa(e,t){return 0===e.poolStatus&&t.gte(e.activationPoint)}function Fs(e){let t=N2.from(e);return{maxLimiterDuration:t.readUInt32LE(0),maxFeeBps:t.readUInt32LE(4)}}var Fu=class{constructor(e){this._program=new S$(Di,{connection:e}),this.poolAuthority=ho.findProgramAddressSync([N2.from("pool_authority")],Dh)[0]}prepareTokenAccounts(e){return Dn(this,null,function*(){let{payer:t,tokenAOwner:r,tokenBOwner:n,tokenAMint:i,tokenBMint:o,tokenAProgram:a,tokenBProgram:s}=e,u=[],[{ataPubkey:l,ix:c},{ataPubkey:d,ix:p}]=yield Promise.all([DP(this._program.provider.connection,i,r,t,!0,a),DP(this._program.provider.connection,o,n,t,!0,s)]);return c&&u.push(c),p&&u.push(p),{tokenAAta:l,tokenBAta:d,instructions:u}})}getTokenBadgeAccounts(e,t){return[{pubkey:DE(e),isWritable:!1,isSigner:!1},{pubkey:DE(t),isWritable:!1,isSigner:!1}]}buildAddLiquidityInstruction(e){return Dn(this,null,function*(){let{pool:t,position:r,positionNftAccount:n,owner:i,tokenAAccount:o,tokenBAccount:a,tokenAMint:s,tokenBMint:u,tokenAVault:l,tokenBVault:c,tokenAProgram:d,tokenBProgram:p,liquidityDelta:f,tokenAAmountThreshold:h,tokenBAmountThreshold:m}=e;return yield this._program.methods.addLiquidity({liquidityDelta:f,tokenAAmountThreshold:h,tokenBAmountThreshold:m}).accountsPartial({pool:t,position:r,positionNftAccount:n,owner:i,tokenAAccount:o,tokenBAccount:a,tokenAMint:s,tokenBMint:u,tokenAVault:l,tokenBVault:c,tokenAProgram:d,tokenBProgram:p}).instruction()})}buildRemoveAllLiquidityInstruction(e){return Dn(this,null,function*(){let{poolAuthority:t,owner:r,pool:n,position:i,positionNftAccount:o,tokenAAccount:a,tokenBAccount:s,tokenAAmountThreshold:u,tokenBAmountThreshold:l,tokenAMint:c,tokenBMint:d,tokenAVault:p,tokenBVault:f,tokenAProgram:h,tokenBProgram:m}=e;return yield this._program.methods.removeAllLiquidity(u,l).accountsPartial({poolAuthority:t,pool:n,position:i,positionNftAccount:o,owner:r,tokenAAccount:a,tokenBAccount:s,tokenAMint:c,tokenBMint:d,tokenAVault:p,tokenBVault:f,tokenAProgram:h,tokenBProgram:m}).instruction()})}buildClaimPositionFeeInstruction(e){return Dn(this,null,function*(){let{owner:t,poolAuthority:r,pool:n,position:i,positionNftAccount:o,tokenAAccount:a,tokenBAccount:s,tokenAVault:u,tokenBVault:l,tokenAMint:c,tokenBMint:d,tokenAProgram:p,tokenBProgram:f}=e;return yield this._program.methods.claimPositionFee().accountsPartial({poolAuthority:r,owner:t,pool:n,position:i,positionNftAccount:o,tokenAAccount:a,tokenBAccount:s,tokenAVault:u,tokenBVault:l,tokenAMint:c,tokenBMint:d,tokenAProgram:p,tokenBProgram:f}).instruction()})}buildClosePositionInstruction(e){return Dn(this,null,function*(){let{owner:t,poolAuthority:r,pool:n,position:i,positionNftAccount:o,positionNftMint:a}=e;return yield this._program.methods.closePosition().accountsPartial({positionNftMint:a,positionNftAccount:o,pool:n,position:i,poolAuthority:r,rentReceiver:t,owner:t,tokenProgram:SZ}).instruction()})}buildRefreshVestingInstruction(e){return Dn(this,null,function*(){let{owner:t,position:r,positionNftAccount:n,pool:i,vestingAccounts:o}=e;return 0==o.length?null:yield this._program.methods.refreshVesting().accountsPartial({position:r,positionNftAccount:n,pool:i,owner:t}).remainingAccounts(o.map(e=>({isSigner:!1,isWritable:!0,pubkey:e}))).instruction()})}buildLiquidatePositionInstruction(e){return Dn(this,null,function*(){let{owner:t,position:r,positionNftAccount:n,positionState:i,poolState:o,tokenAAccount:a,tokenBAccount:s,tokenAAmountThreshold:u,tokenBAmountThreshold:l}=e,{nftMint:c,pool:d}=i,{tokenAMint:p,tokenBMint:f,tokenAVault:h,tokenBVault:m}=o,g=Dx(o.tokenAFlag),y=Dx(o.tokenBFlag),b=[],_=yield this.buildClaimPositionFeeInstruction({owner:t,poolAuthority:this.poolAuthority,pool:d,position:r,positionNftAccount:n,tokenAAccount:a,tokenBAccount:s,tokenAVault:h,tokenBVault:m,tokenAMint:p,tokenBMint:f,tokenAProgram:g,tokenBProgram:y});b.push(_);let w=yield this.buildRemoveAllLiquidityInstruction({poolAuthority:this.poolAuthority,owner:t,pool:d,position:r,positionNftAccount:n,tokenAAccount:a,tokenBAccount:s,tokenAAmountThreshold:u,tokenBAmountThreshold:l,tokenAMint:p,tokenBMint:f,tokenAVault:h,tokenBVault:m,tokenAProgram:g,tokenBProgram:y});b.push(w);let v=yield this.buildClosePositionInstruction({owner:t,poolAuthority:this.poolAuthority,pool:d,position:r,positionNftMint:c,positionNftAccount:n});return b.push(v),b})}buildCreatePositionInstruction(e){return Dn(this,null,function*(){let{owner:t,payer:r,pool:n,positionNft:i}=e,o=DS(i),a=DT(i),s=yield this._program.methods.createPosition().accountsPartial({owner:t,positionNftMint:i,poolAuthority:this.poolAuthority,positionNftAccount:a,payer:r,pool:n,position:o,tokenProgram:SZ,systemProgram:hV.programId}).instruction();return{ix:s,position:o,positionNftAccount:a}})}prepareCreatePoolParams(e){return Dn(this,null,function*(){let{pool:t,tokenAMint:r,tokenBMint:n,tokenAAmount:i,tokenBAmount:o,payer:a,positionNft:s,tokenAProgram:u,tokenBProgram:l}=e,c=DS(s),d=DT(s),p=DI(r,t),f=DI(n,t),{tokenAAta:h,tokenBAta:m,instructions:g}=yield this.prepareTokenAccounts({payer:a,tokenAOwner:a,tokenBOwner:a,tokenAMint:r,tokenBMint:n,tokenAProgram:u,tokenBProgram:l});if(r.equals(SY)){let e=DO(a,h,BigInt(i.toString()));g.push(...e)}if(n.equals(SY)){let e=DO(a,m,BigInt(o.toString()));g.push(...e)}let y=this.getTokenBadgeAccounts(r,n);return{position:c,positionNftAccount:d,tokenAVault:p,tokenBVault:f,payerTokenA:h,payerTokenB:m,preInstructions:g,tokenBadgeAccounts:y}})}setupFeeClaimAccounts(e){return Dn(this,null,function*(){let{payer:t,owner:r,tokenAMint:n,tokenBMint:i,tokenAProgram:o,tokenBProgram:a,receiver:s,tempWSolAccount:u}=e,l=n.equals(SY),c=i.equals(SY),d=[],p=[],f=r,h=r;s&&(f=l?u:s,h=c?u:s);let{tokenAAta:m,tokenBAta:g,instructions:y}=yield this.prepareTokenAccounts({payer:t,tokenAOwner:f,tokenBOwner:h,tokenAMint:n,tokenBMint:i,tokenAProgram:o,tokenBProgram:a});if(d.push(...y),l||c){let e=yield DB(null!=u?u:r,null!=s?s:r);e&&p.push(e)}return{tokenAAccount:m,tokenBAccount:g,preInstructions:d,postInstructions:p}})}fetchConfigState(e){return Dn(this,null,function*(){let t=yield this._program.account.config.fetchNullable(e);return ed(NZ)(t,`Config account: ${e} not found`),t})}fetchPoolState(e){return Dn(this,null,function*(){let t=yield this._program.account.pool.fetchNullable(e);return ed(NZ)(t,`Pool account: ${e} not found`),t})}fetchPositionState(e){return Dn(this,null,function*(){let t=yield this._program.account.position.fetchNullable(e);return ed(NZ)(t,`Position account: ${e} not found`),t})}getAllConfigs(){return Dn(this,null,function*(){let e=yield this._program.account.config.all();return e})}getAllPools(){return Dn(this,null,function*(){let e=yield this._program.account.pool.all();return e})}getAllPositions(){return Dn(this,null,function*(){let e=yield this._program.account.position.all();return e})}getAllPositionsByPool(e){return Dn(this,null,function*(){return yield this._program.account.position.all([DL(e)])})}getUserPositionByPool(e,t){return Dn(this,null,function*(){let r=yield this.getPositionsByUser(t);return r.filter(t=>t.positionState.pool.equals(e))})}getPositionsByUser(e){return Dn(this,null,function*(){let t=yield function(e,t){return Dn(this,null,function*(){let r=yield e.getTokenAccountsByOwner(t,{programId:SZ}),n=[];for(let{account:e,pubkey:t}of r.value){let r=Il.decode(e.data);"1"===r.amount.toString()&&n.push({positionNft:r.mint,positionNftAccount:t})}return n})}(this._program.provider.connection,e);if(0===t.length)return[];let r=t.map(e=>DS(e.positionNft)),n=yield this._program.account.position.fetchMultiple(r),i=t.map((e,t)=>{let i=n[t];return i?{positionNftAccount:e.positionNftAccount,position:r[t],positionState:i}:null}).filter(Boolean);return i.sort((e,t)=>{let r=e.positionState.vestedLiquidity.add(e.positionState.permanentLockedLiquidity).add(e.positionState.unlockedLiquidity),n=t.positionState.vestedLiquidity.add(t.positionState.permanentLockedLiquidity).add(t.positionState.unlockedLiquidity);return n.cmp(r)}),i})}getAllVestingsByPosition(e){return Dn(this,null,function*(){let t=yield this._program.account.vesting.all([DN(e)]);return t})}isLockedPosition(e){let t=e.vestedLiquidity.add(e.permanentLockedLiquidity);return t.gtn(0)}isPermanentLockedPosition(e){return e.permanentLockedLiquidity.gtn(0)}canUnlockPosition(e,t,r){if(t.length>0){if(this.isPermanentLockedPosition(e))return{canUnlock:!1,reason:"Position is permanently locked"};for(let e of t)if(!function(e,t){let r=e.cliffPoint,n=e.periodFrequency,i=e.numberOfPeriod,o=r.add(n.muln(i));return t.gte(o)}(e.vestingState,r))return{canUnlock:!1,reason:"Position has incomplete vesting schedule"}}return{canUnlock:!0}}isPoolExist(e){return Dn(this,null,function*(){let t=yield this._program.account.pool.fetchNullable(e);return null!==t})}getLiquidityDelta(e){let{maxAmountTokenA:t,maxAmountTokenB:r,sqrtMaxPrice:n,sqrtMinPrice:i,sqrtPrice:o}=e,a=Fe(t,o,n),s=Ft(r,i,o);return(0,d0.min)(a,s)}getQuote(e){let{inAmount:t,inputTokenMint:r,slippage:n,poolState:i,currentTime:o,currentSlot:a,inputTokenInfo:s,outputTokenInfo:u,tokenADecimal:l,tokenBDecimal:c,hasReferral:d}=e,{activationType:p}=i,f=i.tokenAMint.equals(r),h=new(ed(d0))(p?o:a),m=Fr(i,h,t,n,f,d,l,c,s,u);return{swapInAmount:t,consumedInAmount:m.includedFeeInputAmount,swapOutAmount:m.outputAmount,minSwapOutAmount:m.minimumAmountOut,totalFee:m.tradingFee.add(m.protocolFee).add(m.partnerFee).add(m.referralFee),priceImpact:m.priceImpact}}getQuote2(e){let{inputTokenMint:t,slippage:r,poolState:n,currentPoint:i,inputTokenInfo:o,outputTokenInfo:a,hasReferral:s,tokenADecimal:u,tokenBDecimal:l,swapMode:c}=e,d=n.tokenAMint.equals(t);switch(c){case 0:if("amountIn"in e)return Fr(n,i,e.amountIn,r,d,s,u,l,o,a);throw Error("amountIn is required for ExactIn swap mode");case 2:if("amountOut"in e)return function(e,t,r,n,i,o,a,s,u,l){if(r.lte(new(ed(d0))(0)))throw Error("Amount out must be greater than 0");if(!Fa(e,t))throw Error("Swap is disabled");let c=i?0:1,d=Dj(e.collectFeeMode,c,o),p=r;l&&(p=DD(r,l.mint,l.currentEpoch).amount);let f=function(e,t,r,n,i){let o,a,s,u=new(ed(d0))(0),l=new(ed(d0))(0),c=new(ed(d0))(0),d=new(ed(d0))(0),p=DX(e.version);if(r.feesOnInput)o=t;else{let a=Dz(e.poolFees,i,e.activationPoint,t,n,p),{includedFeeAmount:s,feeAmount:f}=D$(a,t),h=DV(e.poolFees,f,r.hasReferral,Fi(e));l=h.tradingFee,u=h.protocolFee,c=h.referralFee,d=h.partnerFee,o=s}a=0===n?function(e,t){let r=D8(e.sqrtPrice,e.liquidity,t,!0);if(r.lt(e.sqrtMinPrice))throw Error("Price Range Violation");let n=D7(r,e.sqrtPrice,e.liquidity,0);return{inputAmount:n,nextSqrtPrice:r}}(e,o):function(e,t){let r=D8(e.sqrtPrice,e.liquidity,t,!1);if(r.gt(e.sqrtMaxPrice))throw Error("Price Range Violation");let n=D9(e.sqrtPrice,r,e.liquidity,0);return{inputAmount:n,nextSqrtPrice:r}}(e,o);let{inputAmount:f,nextSqrtPrice:h}=a;if(r.feesOnInput){let t=Dz(e.poolFees,i,e.activationPoint,f,n,p),{includedFeeAmount:o,feeAmount:a}=D$(t,f),h=DV(e.poolFees,a,r.hasReferral,Fi(e));l=h.tradingFee,u=h.protocolFee,c=h.referralFee,d=h.partnerFee,s=o}else s=f;return{amountLeft:new(ed(d0))(0),includedFeeInputAmount:s,excludedFeeInputAmount:f,outputAmount:t,nextSqrtPrice:h,tradingFee:l,protocolFee:u,partnerFee:d,referralFee:c}}(e,p,d,c,t),h=f.includedFeeInputAmount;u&&(h=DD(f.includedFeeInputAmount,u.mint,u.currentEpoch).amount);let m=DC(h,n,2),g=DR(h,p,e.sqrtPrice,i,a,s);return Dr(Dt({},f),{maximumAmountIn:m,priceImpact:g})}(n,i,e.amountOut,r,d,s,u,l,o,a);throw Error("outAmount is required for ExactOut swap mode");case 1:if("amountIn"in e)return function(e,t,r,n,i,o,a,s,u,l){if(r.lte(new(ed(d0))(0)))throw Error("Amount in must be greater than 0");if(!Fa(e,t))throw Error("Swap is disabled");let c=i?0:1,d=Dj(e.collectFeeMode,c,o),p=r;u&&(p=DF(r,u.mint,u.currentEpoch).amount);let f=function(e,t,r,n,i){let o,a,s,u=new(ed(d0))(0),l=new(ed(d0))(0),c=new(ed(d0))(0),d=new(ed(d0))(0),p=DX(e.version),f=DK(e.poolFees,i,e.activationPoint,t,n,p);if(r.feesOnInput){let{amount:n,tradingFee:i,protocolFee:a,partnerFee:s,referralFee:p}=DH(e.poolFees,t,f,r.hasReferral,Fi(e));u=a,l=i,c=p,d=s,o=n}else o=t;let{amountLeft:h,outputAmount:m,nextSqrtPrice:g}=0===n?function(e,t){let r,n;let i=D7(e.sqrtMinPrice,e.sqrtPrice,e.liquidity,0);t.gte(i)?(r=i,n=e.sqrtMinPrice):(n=D3(e.sqrtPrice,e.liquidity,t,!0),r=t);let o=D9(n,e.sqrtPrice,e.liquidity,1),a=t.sub(r);return{outputAmount:o,nextSqrtPrice:n,amountLeft:a}}(e,o):function(e,t){let r,n;let i=D9(e.sqrtPrice,e.sqrtMaxPrice,e.liquidity,0);t.gte(i)?(r=i,n=e.sqrtMaxPrice):(n=D3(e.sqrtPrice,e.liquidity,t,!1),r=t);let o=D7(e.sqrtPrice,n,e.liquidity,1),a=t.sub(r);return{outputAmount:o,nextSqrtPrice:n,amountLeft:a}}(e,o);if(h.gt(new(ed(d0))(0))){if(o=o.sub(h),r.feesOnInput){let t=Dz(e.poolFees,i,e.activationPoint,o,n,p),{includedFeeAmount:s,feeAmount:f}=D$(t,o),{tradingFee:h,protocolFee:m,referralFee:g,partnerFee:y}=DV(e.poolFees,f,r.hasReferral,Fi(e));u=m,l=h,c=g,d=y,a=s}else a=o}else a=t;if(r.feesOnInput)s=m;else{let{amount:t,tradingFee:n,protocolFee:i,partnerFee:o,referralFee:a}=DH(e.poolFees,m,f,r.hasReferral,Fi(e));u=i,l=n,c=a,d=o,s=t}return{includedFeeInputAmount:a,excludedFeeInputAmount:o,amountLeft:h,outputAmount:s,nextSqrtPrice:g,tradingFee:l,protocolFee:u,partnerFee:d,referralFee:c}}(e,p,d,c,t),h=f.outputAmount;l&&(h=DF(f.outputAmount,l.mint,l.currentEpoch).amount);let m=DC(h,n,1),g=DR(p,h,e.sqrtPrice,i,a,s);return Dr(Dt({},f),{minimumAmountOut:m,priceImpact:g})}(n,i,e.amountIn,r,d,s,u,l,o,a);throw Error("amountIn is required for PartialFill swap mode");default:throw Error(`Unsupported swap mode: ${c}`)}}getDepositQuote(e){let{inAmount:t,isTokenA:r,inputTokenInfo:n,outputTokenInfo:i,minSqrtPrice:o,maxSqrtPrice:a,sqrtPrice:s}=e,u=n?DF(t,n.mint,n.currentEpoch).amount:t,{liquidityDelta:l,rawAmount:c}=r?{liquidityDelta:Fe(u,s,a),rawAmount:e=>D9(o,s,e,0)}:{liquidityDelta:Ft(u,o,s),rawAmount:e=>D7(s,a,e,0)},d=new(ed(d0))(c(l)),p=i?DD(d,i.mint,i.currentEpoch).amount:d;return{actualInputAmount:u,consumedInputAmount:t,liquidityDelta:l,outputAmount:p}}getWithdrawQuote(e){let{liquidityDelta:t,sqrtPrice:r,maxSqrtPrice:n,minSqrtPrice:i,tokenATokenInfo:o,tokenBTokenInfo:a}=e,s=D7(r,n,t,1),u=D9(i,r,t,1);return{liquidityDelta:t,outAmountA:o?DF(s,o.mint,o.currentEpoch).amount:s,outAmountB:a?DF(u,a.mint,a.currentEpoch).amount:u}}preparePoolCreationSingleSide(e){let{tokenAAmount:t,initSqrtPrice:r,minSqrtPrice:n,maxSqrtPrice:i,tokenAInfo:o}=e;if(!r.eq(n))throw Error("Only support single side for base token.");let a=o?t.sub(DD(t,o.mint,o.currentEpoch).transferFee):t,s=Fe(a,r,i);return s}preparePoolCreationParams(e){let{tokenAAmount:t,tokenBAmount:r,minSqrtPrice:n,maxSqrtPrice:i,tokenAInfo:o,tokenBInfo:a}=e;if(t.eq(new(ed(d0))(0))&&r.eq(new(ed(d0))(0)))throw Error("Invalid input amount");let s=o?t.sub(DD(t,o.mint,o.currentEpoch).transferFee):t,u=a?r.sub(DD(r,a.mint,a.currentEpoch).transferFee):r,l=function(e,t,r,n){if(e.isZero()||t.isZero())throw Error("Amount cannot be zero");let i=new(ed(N0))(e.toString()),o=new(ed(N0))(t.toString()),a=new(ed(N0))(r.toString()).div(ed(N0).pow(2,64)),s=new(ed(N0))(n.toString()).div(ed(N0).pow(2,64)),u=new(ed(N0))(1).div(s),l=o.div(i),c=u.mul(l),d=a.sub(c),p=c.sub(a),f=new(ed(N0))(4).mul(l),h=p.mul(p).add(f),m=h.sqrt(),g=d.add(m).div(new(ed(N0))(2)).mul(ed(N0).pow(2,64));return new(ed(d0))(g.floor().toFixed())}(t,r,n,i),c=Fe(s,l,i),d=Ft(u,n,l),p=(0,d0.min)(c,d);return{initSqrtPrice:l,liquidityDelta:p}}createPool(e){return Dn(this,null,function*(){let{payer:t,creator:r,config:n,positionNft:i,tokenAMint:o,tokenBMint:a,initSqrtPrice:s,liquidityDelta:u,activationPoint:l,tokenAAmount:c,tokenBAmount:d,tokenAProgram:p,tokenBProgram:f,isLockLiquidity:h}=e,m=DA(n,o,a),{position:g,positionNftAccount:y,tokenAVault:b,tokenBVault:_,payerTokenA:w,payerTokenB:v,preInstructions:k,tokenBadgeAccounts:A}=yield this.prepareCreatePoolParams({pool:m,tokenAMint:o,tokenBMint:a,tokenAAmount:c,tokenBAmount:d,payer:t,positionNft:i,tokenAProgram:p,tokenBProgram:f}),S=[];if(h){let e=yield this._program.methods.permanentLockPosition(u).accountsPartial({position:g,positionNftAccount:y,pool:m,owner:r}).instruction();S.push(e)}let I=yield this._program.methods.initializePool({liquidity:u,sqrtPrice:s,activationPoint:l}).accountsPartial({creator:r,positionNftAccount:y,positionNftMint:i,payer:t,config:n,poolAuthority:this.poolAuthority,pool:m,position:g,tokenAMint:o,tokenBMint:a,tokenAVault:b,tokenBVault:_,payerTokenA:w,payerTokenB:v,token2022Program:SZ,tokenAProgram:p,tokenBProgram:f,systemProgram:hV.programId}).preInstructions(k).postInstructions(S).remainingAccounts(A).transaction();return I})}createCustomPool(e){return Dn(this,null,function*(){let{tokenAMint:t,tokenBMint:r,tokenAAmount:n,tokenBAmount:i,sqrtMinPrice:o,sqrtMaxPrice:a,liquidityDelta:s,initSqrtPrice:u,payer:l,creator:c,positionNft:d,poolFees:p,hasAlphaVault:f,collectFeeMode:h,activationPoint:m,activationType:g,tokenAProgram:y,tokenBProgram:b,isLockLiquidity:_}=e,w=ho.findProgramAddressSync([N2.from("cpool"),Dv(t,r),Dk(t,r)],Dh)[0],{position:v,positionNftAccount:k,tokenAVault:A,tokenBVault:S,payerTokenA:I,payerTokenB:E,preInstructions:T,tokenBadgeAccounts:x}=yield this.prepareCreatePoolParams({pool:w,tokenAMint:t,tokenBMint:r,tokenAAmount:n,tokenBAmount:r.equals(SY)?(0,d0.max)(i,new(ed(d0))(1)):i,payer:l,positionNft:d,tokenAProgram:y,tokenBProgram:b}),P=[];if(_){let e=yield this._program.methods.permanentLockPosition(s).accountsPartial({position:v,positionNftAccount:k,pool:w,owner:c}).instruction();P.push(e)}let O=yield this._program.methods.initializeCustomizablePool({poolFees:p,sqrtMinPrice:o,sqrtMaxPrice:a,hasAlphaVault:f,liquidity:s,sqrtPrice:u,activationType:g,collectFeeMode:h,activationPoint:m}).accountsPartial({creator:c,positionNftAccount:k,positionNftMint:d,payer:l,poolAuthority:this.poolAuthority,pool:w,position:v,tokenAMint:t,tokenBMint:r,tokenAVault:A,tokenBVault:S,payerTokenA:I,payerTokenB:E,token2022Program:SZ,tokenAProgram:y,tokenBProgram:b,systemProgram:hV.programId}).preInstructions(T).postInstructions(P).remainingAccounts(x).transaction();return{tx:O,pool:w,position:v}})}createCustomPoolWithDynamicConfig(e){return Dn(this,null,function*(){let{tokenAMint:t,tokenBMint:r,tokenAAmount:n,tokenBAmount:i,sqrtMinPrice:o,sqrtMaxPrice:a,liquidityDelta:s,initSqrtPrice:u,payer:l,config:c,poolCreatorAuthority:d,creator:p,positionNft:f,poolFees:h,hasAlphaVault:m,collectFeeMode:g,activationPoint:y,activationType:b,tokenAProgram:_,tokenBProgram:w,isLockLiquidity:v}=e,k=DA(c,t,r),{position:A,positionNftAccount:S,tokenAVault:I,tokenBVault:E,payerTokenA:T,payerTokenB:x,preInstructions:P,tokenBadgeAccounts:O}=yield this.prepareCreatePoolParams({pool:k,tokenAMint:t,tokenBMint:r,tokenAAmount:n,tokenBAmount:i,payer:l,positionNft:f,tokenAProgram:_,tokenBProgram:w}),B=[];if(v){let e=yield this._program.methods.permanentLockPosition(s).accountsPartial({position:A,positionNftAccount:S,pool:k,owner:p}).instruction();B.push(e)}let C=yield this._program.methods.initializePoolWithDynamicConfig({poolFees:h,sqrtMinPrice:o,sqrtMaxPrice:a,hasAlphaVault:m,liquidity:s,sqrtPrice:u,activationType:b,collectFeeMode:g,activationPoint:y}).accountsPartial({creator:p,positionNftAccount:S,positionNftMint:f,payer:l,poolAuthority:this.poolAuthority,pool:k,position:A,poolCreatorAuthority:d,config:c,tokenAMint:t,tokenBMint:r,tokenAVault:I,tokenBVault:E,payerTokenA:T,payerTokenB:x,token2022Program:SZ,tokenAProgram:_,tokenBProgram:w,systemProgram:hV.programId}).preInstructions(P).postInstructions(B).remainingAccounts(O).transaction();return{tx:C,pool:k,position:A}})}createPosition(e){return Dn(this,null,function*(){let{ix:t}=yield this.buildCreatePositionInstruction(e);return new hE().add(t)})}addLiquidity(e){return Dn(this,null,function*(){let{owner:t,pool:r,position:n,positionNftAccount:i,liquidityDelta:o,maxAmountTokenA:a,maxAmountTokenB:s,tokenAAmountThreshold:u,tokenBAmountThreshold:l,tokenAMint:c,tokenBMint:d,tokenAVault:p,tokenBVault:f,tokenAProgram:h,tokenBProgram:m}=e,{tokenAAta:g,tokenBAta:y,instructions:b}=yield this.prepareTokenAccounts({payer:t,tokenAOwner:t,tokenBOwner:t,tokenAMint:c,tokenBMint:d,tokenAProgram:h,tokenBProgram:m});if(c.equals(SY)){let e=DO(t,g,BigInt(a.toString()));b.push(...e)}if(d.equals(SY)){let e=DO(t,y,BigInt(s.toString()));b.push(...e)}let _=[];if([c.toBase58(),d.toBase58()].includes(SY.toBase58())){let e=yield DB(t);e&&_.push(e)}let w=yield this.buildAddLiquidityInstruction({pool:r,position:n,positionNftAccount:i,owner:t,tokenAAccount:g,tokenBAccount:y,tokenAMint:c,tokenBMint:d,tokenAVault:p,tokenBVault:f,tokenAProgram:h,tokenBProgram:m,liquidityDelta:o,tokenAAmountThreshold:u,tokenBAmountThreshold:l}),v=new hE;return v.add(...b.length>0?b:[],w,..._.length>0?_:[]),v})}createPositionAndAddLiquidity(e){return Dn(this,null,function*(){let{owner:t,pool:r,positionNft:n,liquidityDelta:i,maxAmountTokenA:o,maxAmountTokenB:a,tokenAAmountThreshold:s,tokenBAmountThreshold:u,tokenAMint:l,tokenBMint:c,tokenAProgram:d,tokenBProgram:p}=e,{tokenAAta:f,tokenBAta:h,instructions:m}=yield this.prepareTokenAccounts({payer:t,tokenAOwner:t,tokenBOwner:t,tokenAMint:l,tokenBMint:c,tokenAProgram:d,tokenBProgram:p}),g=DI(l,r),y=DI(c,r);if(l.equals(SY)){let e=DO(t,f,BigInt(o.toString()));m.push(...e)}if(c.equals(SY)){let e=DO(t,h,BigInt(a.toString()));m.push(...e)}let b=[];if([l.toBase58(),c.toBase58()].includes(SY.toBase58())){let e=yield DB(t);e&&b.push(e)}let{ix:_,position:w,positionNftAccount:v}=yield this.buildCreatePositionInstruction({owner:t,payer:t,pool:r,positionNft:n}),k=yield this.buildAddLiquidityInstruction({pool:r,position:w,positionNftAccount:v,owner:t,tokenAAccount:f,tokenBAccount:h,tokenAMint:l,tokenBMint:c,tokenAVault:g,tokenBVault:y,tokenAProgram:d,tokenBProgram:p,liquidityDelta:i,tokenAAmountThreshold:s,tokenBAmountThreshold:u}),A=new hE;return A.add(_),A.add(...m.length>0?m:[],k,...b.length>0?b:[]),A})}removeLiquidity(e){return Dn(this,null,function*(){let{owner:t,pool:r,position:n,positionNftAccount:i,liquidityDelta:o,tokenAAmountThreshold:a,tokenBAmountThreshold:s,tokenAMint:u,tokenBMint:l,tokenAVault:c,tokenBVault:d,tokenAProgram:p,tokenBProgram:f,vestings:h}=e,{tokenAAta:m,tokenBAta:g,instructions:y}=yield this.prepareTokenAccounts({payer:t,tokenAOwner:t,tokenBOwner:t,tokenAMint:u,tokenBMint:l,tokenAProgram:p,tokenBProgram:f}),b=[];if([u.toBase58(),l.toBase58()].includes(SY.toBase58())){let e=yield DB(t);e&&b.push(e)}if(h.length>0){let e=yield this.buildRefreshVestingInstruction({owner:t,position:n,positionNftAccount:i,pool:r,vestingAccounts:h.map(e=>e.account)});e&&y.push(e)}return yield this._program.methods.removeLiquidity({liquidityDelta:o,tokenAAmountThreshold:a,tokenBAmountThreshold:s}).accountsPartial({poolAuthority:this.poolAuthority,pool:r,position:n,positionNftAccount:i,owner:t,tokenAAccount:m,tokenBAccount:g,tokenAMint:u,tokenBMint:l,tokenAVault:c,tokenBVault:d,tokenAProgram:p,tokenBProgram:f}).preInstructions(y).postInstructions(b).transaction()})}removeAllLiquidity(e){return Dn(this,null,function*(){let{owner:t,pool:r,position:n,positionNftAccount:i,tokenAAmountThreshold:o,tokenBAmountThreshold:a,tokenAMint:s,tokenBMint:u,tokenAVault:l,tokenBVault:c,tokenAProgram:d,tokenBProgram:p,vestings:f}=e,{tokenAAta:h,tokenBAta:m,instructions:g}=yield this.prepareTokenAccounts({payer:t,tokenAOwner:t,tokenBOwner:t,tokenAMint:s,tokenBMint:u,tokenAProgram:d,tokenBProgram:p}),y=[];if([s.toBase58(),u.toBase58()].includes(SY.toBase58())){let e=yield DB(t);e&&y.push(e)}if(f.length>0){let e=yield this.buildRefreshVestingInstruction({owner:t,position:n,positionNftAccount:i,pool:r,vestingAccounts:f.map(e=>e.account)});e&&g.push(e)}let b=yield this.buildRemoveAllLiquidityInstruction({poolAuthority:this.poolAuthority,owner:t,pool:r,position:n,positionNftAccount:i,tokenAAccount:h,tokenBAccount:m,tokenAAmountThreshold:o,tokenBAmountThreshold:a,tokenAMint:s,tokenBMint:u,tokenAVault:l,tokenBVault:c,tokenAProgram:d,tokenBProgram:p}),_=new hE;return _.add(...g.length>0?g:[],b,...y.length>0?y:[]),_})}swap(e){return Dn(this,null,function*(){let{payer:t,pool:r,inputTokenMint:n,outputTokenMint:i,amountIn:o,minimumAmountOut:a,tokenAVault:s,tokenBVault:u,tokenAMint:l,tokenBMint:c,tokenAProgram:d,tokenBProgram:p,referralTokenAccount:f}=e,[h,m]=n.equals(l)?[d,p]:[p,d],g=n.equals(l)?0:1,{tokenAAta:y,tokenBAta:b,instructions:_}=yield this.prepareTokenAccounts({payer:t,tokenAOwner:t,tokenBOwner:t,tokenAMint:n,tokenBMint:i,tokenAProgram:h,tokenBProgram:m});if(n.equals(SY)){let e=DO(t,y,BigInt(o.toString()));_.push(...e)}let w=[];if([l.toBase58(),c.toBase58()].includes(SY.toBase58())){let e=yield DB(t);e&&w.push(e)}let{poolState:v}=e;v=null!=v?v:yield this.fetchPoolState(r);let k=yield Fo(this._program.provider.connection,v.activationType),{maxLimiterDuration:A,maxFeeBps:S}=Fs(v.poolFees.baseFee.secondFactor),I=DQ(v.poolFees.baseFee.thirdFactor,A,S,v.poolFees.baseFee.firstFactor,k,v.activationPoint,g);return yield this._program.methods.swap({amountIn:o,minimumAmountOut:a}).accountsPartial({poolAuthority:this.poolAuthority,pool:r,payer:t,inputTokenAccount:y,outputTokenAccount:b,tokenAVault:s,tokenBVault:u,tokenAMint:l,tokenBMint:c,tokenAProgram:d,tokenBProgram:p,referralTokenAccount:f}).remainingAccounts(I?[{isSigner:!1,isWritable:!1,pubkey:hO}]:[]).preInstructions(_).postInstructions(w).transaction()})}swap2(e){return Dn(this,null,function*(){let t,r;let{payer:n,pool:i,inputTokenMint:o,outputTokenMint:a,tokenAVault:s,tokenBVault:u,tokenAMint:l,tokenBMint:c,tokenAProgram:d,tokenBProgram:p,referralTokenAccount:f,swapMode:h}=e,[m,g]=o.equals(l)?[d,p]:[p,d],y=o.equals(l)?0:1,{tokenAAta:b,tokenBAta:_,instructions:w}=yield this.prepareTokenAccounts({payer:n,tokenAOwner:n,tokenBOwner:n,tokenAMint:o,tokenBMint:a,tokenAProgram:m,tokenBProgram:g});if(2===h?(t=e.amountOut,r=e.maximumAmountIn):(t=e.amountIn,r=e.minimumAmountOut),o.equals(SY)){let e=0===h||1===h?t:r,i=DO(n,b,BigInt(e.toString()));w.push(...i)}let v=[];if([l.toBase58(),c.toBase58()].includes(SY.toBase58())){let e=yield DB(n);e&&v.push(e)}let{poolState:k}=e;k=null!=k?k:yield this.fetchPoolState(i);let A=yield Fo(this._program.provider.connection,k.activationType),{maxLimiterDuration:S,maxFeeBps:I}=Fs(k.poolFees.baseFee.secondFactor),E=DQ(k.poolFees.baseFee.thirdFactor,S,I,k.poolFees.baseFee.firstFactor,A,k.activationPoint,y);return yield this._program.methods.swap2({amount0:t,amount1:r,swapMode:h}).accountsPartial({poolAuthority:this.poolAuthority,pool:i,payer:n,inputTokenAccount:b,outputTokenAccount:_,tokenAVault:s,tokenBVault:u,tokenAMint:l,tokenBMint:c,tokenAProgram:d,tokenBProgram:p,referralTokenAccount:f}).remainingAccounts(E?[{isSigner:!1,isWritable:!1,pubkey:hO}]:[]).preInstructions(w).postInstructions(v).transaction()})}lockPosition(e){return Dn(this,null,function*(){let{owner:t,pool:r,payer:n,vestingAccount:i,position:o,positionNftAccount:a,cliffPoint:s,periodFrequency:u,cliffUnlockLiquidity:l,liquidityPerPeriod:c,numberOfPeriod:d}=e;return yield this._program.methods.lockPosition({cliffPoint:s,periodFrequency:u,cliffUnlockLiquidity:l,liquidityPerPeriod:c,numberOfPeriod:d}).accountsPartial({position:o,positionNftAccount:a,vesting:i,pool:r,owner:t,payer:n,systemProgram:hV.programId}).transaction()})}permanentLockPosition(e){return Dn(this,null,function*(){let{owner:t,position:r,positionNftAccount:n,pool:i,unlockedLiquidity:o}=e;return yield this._program.methods.permanentLockPosition(o).accountsPartial({position:r,positionNftAccount:n,pool:i,owner:t}).transaction()})}refreshVesting(e){return Dn(this,null,function*(){let t=yield this.buildRefreshVestingInstruction(e);return new hE().add(t)})}closePosition(e){return Dn(this,null,function*(){let{owner:t,pool:r,position:n,positionNftMint:i,positionNftAccount:o}=e,a=yield this.buildClosePositionInstruction({owner:t,poolAuthority:this.poolAuthority,pool:r,position:n,positionNftMint:i,positionNftAccount:o});return new hE().add(a)})}removeAllLiquidityAndClosePosition(e){return Dn(this,null,function*(){let{owner:t,position:r,positionNftAccount:n,positionState:i,poolState:o,tokenAAmountThreshold:a,tokenBAmountThreshold:s,vestings:u,currentPoint:l}=e,{pool:c}=i,{tokenAMint:d,tokenBMint:p}=o,{canUnlock:f,reason:h}=this.canUnlockPosition(i,u,l);if(!f)throw Error(`Cannot remove liquidity: ${h}`);let m=Dx(o.tokenAFlag),g=Dx(o.tokenBFlag),{tokenAAta:y,tokenBAta:b,instructions:_}=yield this.prepareTokenAccounts({payer:t,tokenAOwner:t,tokenBOwner:t,tokenAMint:d,tokenBMint:p,tokenAProgram:m,tokenBProgram:g}),w=[];if([d.toBase58(),p.toBase58()].includes(SY.toBase58())){let e=yield DB(t);e&&w.push(e)}if(u.length>0){let e=yield this.buildRefreshVestingInstruction({owner:t,position:r,positionNftAccount:n,pool:c,vestingAccounts:u.map(e=>e.account)});e&&_.push(e)}let v=new hE;_.length>0&&v.add(..._);let k=yield this.buildLiquidatePositionInstruction({owner:t,position:r,positionNftAccount:n,positionState:i,poolState:o,tokenAAccount:y,tokenBAccount:b,tokenAAmountThreshold:a,tokenBAmountThreshold:s});return v.add(...k),w.length>0&&v.add(...w),v})}mergePosition(e){return Dn(this,null,function*(){let{owner:t,positionA:r,positionB:n,positionBState:i,poolState:o,positionBNftAccount:a,positionANftAccount:s,tokenAAmountAddLiquidityThreshold:u,tokenBAmountAddLiquidityThreshold:l,tokenAAmountRemoveLiquidityThreshold:c,tokenBAmountRemoveLiquidityThreshold:d,positionBVestings:p,currentPoint:f}=e,{canUnlock:h,reason:m}=this.canUnlockPosition(i,p,f);if(!h)throw Error(`Cannot remove liquidity: ${m}`);let g=i.pool,{tokenAMint:y,tokenBMint:b,tokenAVault:_,tokenBVault:w}=o,v=Dx(o.tokenAFlag),k=Dx(o.tokenBFlag),{tokenAAta:A,tokenBAta:S,instructions:I}=yield this.prepareTokenAccounts({payer:t,tokenAOwner:t,tokenBOwner:t,tokenAMint:y,tokenBMint:b,tokenAProgram:v,tokenBProgram:k}),E=i.unlockedLiquidity;if(p.length>0){let e=p.reduce((e,t)=>{let r=function(e,t){let{cliffPoint:r,periodFrequency:n,cliffUnlockLiquidity:i,liquidityPerPeriod:o,numberOfPeriod:a,totalReleasedLiquidity:s}=e;if(t.lt(r))return new(ed(d0))(0);if(n.isZero())return i;let u=new(ed(d0))(t).sub(r).div(n);u=(0,d0.min)(u,new(ed(d0))(a));let l=i.add(u.mul(o)),c=l.sub(s);return c}(t.vestingState,f);return e.add(r)},new(ed(d0))(0));E=E.add(e);let r=yield this.buildRefreshVestingInstruction({owner:t,position:n,positionNftAccount:a,pool:g,vestingAccounts:p.map(e=>e.account)});r&&I.push(r)}let T=D7(o.sqrtPrice,o.sqrtMaxPrice,E,1),x=D9(o.sqrtMinPrice,o.sqrtPrice,E,1),P=this.getLiquidityDelta({maxAmountTokenA:T,maxAmountTokenB:x,sqrtMaxPrice:o.sqrtMaxPrice,sqrtMinPrice:o.sqrtMinPrice,sqrtPrice:o.sqrtPrice}),O=new hE;I.length>0&&O.add(...I);let B=yield this.buildLiquidatePositionInstruction({owner:t,position:n,positionNftAccount:a,positionState:i,poolState:o,tokenAAccount:A,tokenBAccount:S,tokenAAmountThreshold:c,tokenBAmountThreshold:d});O.add(...B);let C=yield this.buildAddLiquidityInstruction({pool:g,position:r,positionNftAccount:s,owner:t,tokenAAccount:A,tokenBAccount:S,tokenAMint:y,tokenBMint:b,tokenAVault:_,tokenBVault:w,tokenAProgram:v,tokenBProgram:k,liquidityDelta:P,tokenAAmountThreshold:u,tokenBAmountThreshold:l});if(O.add(C),[y.toBase58(),b.toBase58()].includes(SY.toBase58())){let e=yield DB(t);e&&O.add(e)}return O})}updateRewardDuration(e){return Dn(this,null,function*(){let{pool:t,admin:r,rewardIndex:n,newDuration:i}=e;return yield this._program.methods.updateRewardDuration(n,i).accountsPartial({pool:t,signer:r}).transaction()})}updateRewardFunder(e){return Dn(this,null,function*(){let{pool:t,admin:r,rewardIndex:n,newFunder:i}=e;return yield this._program.methods.updateRewardFunder(n,i).accountsPartial({pool:t,signer:r}).transaction()})}fundReward(e){return Dn(this,null,function*(){let{rewardIndex:t,carryForward:r,pool:n,funder:i,amount:o}=e,a=yield this.fetchPoolState(n),s=a.rewardInfos[t],{vault:u,mint:l}=s,c=Dx(t),d=[],{ataPubkey:p,ix:f}=yield DP(this._program.provider.connection,l,i,i,!0,c);if(f&&d.push(f),l.equals(SY)&&!o.isZero()){let e=DO(i,p,BigInt(o.toString()));d.push(...e)}return yield this._program.methods.fundReward(t,o,r).accountsPartial({pool:n,rewardVault:u,rewardMint:l,funderTokenAccount:p,funder:i,tokenProgram:c}).transaction()})}withdrawIneligibleReward(e){return Dn(this,null,function*(){let{rewardIndex:t,pool:r,funder:n}=e,i=yield this.fetchPoolState(r),o=i.rewardInfos[t],{mint:a,vault:s,rewardTokenFlag:u}=o,l=Dx(u),c=[],d=[],{ataPubkey:p,ix:f}=yield DP(this._program.provider.connection,a,n,n,!0,l);if(f&&c.push(f),a.equals(SY)){let e=yield DB(n);e&&d.push(e)}return yield this._program.methods.withdrawIneligibleReward(t).accountsPartial({pool:r,rewardVault:s,rewardMint:a,poolAuthority:this.poolAuthority,funderTokenAccount:p,funder:n,tokenProgram:l}).preInstructions(c).postInstructions(d).transaction()})}claimPartnerFee(e){return Dn(this,null,function*(){let{feePayer:t,receiver:r,tempWSolAccount:n,partner:i,pool:o,maxAmountA:a,maxAmountB:s}=e,u=yield this.fetchPoolState(o),{tokenAVault:l,tokenBVault:c,tokenAMint:d,tokenBMint:p,tokenAFlag:f,tokenBFlag:h}=u,m=Dx(f),g=Dx(h),y=null!=t?t:i,{tokenAAccount:b,tokenBAccount:_,preInstructions:w,postInstructions:v}=yield this.setupFeeClaimAccounts({payer:y,owner:i,tokenAMint:d,tokenBMint:p,tokenAProgram:m,tokenBProgram:g,receiver:r,tempWSolAccount:n});return yield this._program.methods.claimPartnerFee(a,s).accountsPartial({poolAuthority:this.poolAuthority,pool:o,tokenAAccount:b,tokenBAccount:_,tokenAVault:l,tokenBVault:c,tokenAMint:d,tokenBMint:p,partner:i,tokenAProgram:m,tokenBProgram:g}).preInstructions(w).postInstructions(v).transaction()})}claimPositionFee(e){return Dn(this,null,function*(){let{receiver:t,tempWSolAccount:r,feePayer:n,owner:i,pool:o,position:a,positionNftAccount:s,tokenAVault:u,tokenBVault:l,tokenAMint:c,tokenBMint:d,tokenAProgram:p,tokenBProgram:f}=e,h=null!=n?n:i,{tokenAAccount:m,tokenBAccount:g,preInstructions:y,postInstructions:b}=yield this.setupFeeClaimAccounts({payer:h,owner:i,tokenAMint:c,tokenBMint:d,tokenAProgram:p,tokenBProgram:f,receiver:t,tempWSolAccount:r}),_=yield this.buildClaimPositionFeeInstruction({owner:i,poolAuthority:this.poolAuthority,pool:o,position:a,positionNftAccount:s,tokenAAccount:m,tokenBAccount:g,tokenAVault:u,tokenBVault:l,tokenAMint:c,tokenBMint:d,tokenAProgram:p,tokenBProgram:f}),w=new hE;return w.add(...y.length>0?y:[],_,...b.length>0?b:[]),w})}claimPositionFee2(e){return Dn(this,null,function*(){let{receiver:t,feePayer:r,owner:n,pool:i,position:o,positionNftAccount:a,tokenAVault:s,tokenBVault:u,tokenAMint:l,tokenBMint:c,tokenAProgram:d,tokenBProgram:p}=e,f=null!=r?r:n,h=t,m=t;l.equals(SY)&&(h=n),c.equals(SY)&&(m=n);let{tokenAAta:g,tokenBAta:y,instructions:b}=yield this.prepareTokenAccounts({payer:f,tokenAOwner:h,tokenBOwner:m,tokenAMint:l,tokenBMint:c,tokenAProgram:d,tokenBProgram:p}),_=[];if(l.equals(SY)||c.equals(SY)){let e=yield DB(n,t);e&&_.push(e)}let w=yield this.buildClaimPositionFeeInstruction({owner:n,poolAuthority:this.poolAuthority,pool:i,position:o,positionNftAccount:a,tokenAAccount:g,tokenBAccount:y,tokenAVault:s,tokenBVault:u,tokenAMint:l,tokenBMint:c,tokenAProgram:d,tokenBProgram:p}),v=new hE;return v.add(...b.length>0?b:[],w,..._.length>0?_:[]),v})}claimReward(e){return Dn(this,null,function*(){let{feePayer:t,user:r,position:n,positionNftAccount:i,rewardIndex:o,skipReward:a,poolState:s,positionState:u}=e,l=s.rewardInfos[o],c=Dx(l.rewardTokenFlag),d=[],p=[],{ataPubkey:f,ix:h}=yield DP(this._program.provider.connection,l.mint,r,null!=t?t:r,!0,c);if(h&&d.push(h),l.mint.equals(SY)){let e=yield DB(r);e&&p.push(e)}return yield this._program.methods.claimReward(o,a).accountsPartial({pool:u.pool,positionNftAccount:i,rewardVault:l.vault,rewardMint:l.mint,poolAuthority:this.poolAuthority,position:n,userTokenAccount:f,owner:r,tokenProgram:c}).preInstructions(d).postInstructions(p).transaction()})}splitPosition(e){return Dn(this,null,function*(){let{firstPositionOwner:t,secondPositionOwner:r,pool:n,firstPosition:i,firstPositionNftAccount:o,secondPosition:a,secondPositionNftAccount:s,permanentLockedLiquidityPercentage:u,unlockedLiquidityPercentage:l,feeAPercentage:c,feeBPercentage:d,reward0Percentage:p,reward1Percentage:f}=e;return yield this._program.methods.splitPosition({permanentLockedLiquidityPercentage:u,unlockedLiquidityPercentage:l,feeAPercentage:c,feeBPercentage:d,reward0Percentage:p,reward1Percentage:f,padding:Array(16).fill(0)}).accountsPartial({pool:n,firstPosition:i,firstPositionNftAccount:o,secondPosition:a,secondPositionNftAccount:s,firstOwner:t,secondOwner:r}).transaction()})}splitPosition2(e){return Dn(this,null,function*(){let{firstPositionOwner:t,secondPositionOwner:r,pool:n,firstPosition:i,firstPositionNftAccount:o,secondPosition:a,secondPositionNftAccount:s,numerator:u}=e;return yield this._program.methods.splitPosition2(u).accountsPartial({pool:n,firstPosition:i,firstPositionNftAccount:o,secondPosition:a,secondPositionNftAccount:s,firstOwner:t,secondOwner:r}).transaction()})}},ds=eh("acDaE"),Fl=ds.Buffer,e3=eh("jcdBh"),Fc=((F=Fc||{}).RPC="RPC",F.JITO="JITO",F.NOZOMI="NOZOMI",F.NODE1="NODE1",F),Fd=((q=Fd||{}).INSTRUCTIONS_ONLY="INSTRUCTIONS_ONLY",q.SIGNED_TX="SIGNED_TX",q);Fl.from("vault_auth_seed"),Fl.from("__event_authority");var Fp=Fl.from("vault_and_lp_mint_auth_seed"),Ff="confirmed",Fh="NOZOMI",Fm=async(e,t)=>{if(!e)throw Error("Connection is required");return Q||(Q=await NX.load({owner:new ho("11111111111111111111111111111111"),connection:e,cluster:"mainnet",disableFeatureCheck:!0,disableLoadToken:!t?.loadToken,blockhashCommitment:Ff}))},Fg=new ho("cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG"),Fy=class{cpAmm;program;coder;connection;constructor(e){this.cpAmm=new Fu(e),this.program=this.cpAmm._program,this.coder=new AY(this.program.idl),this.connection=e}async getSwapInstruction(e,t,r,n,i,o,a){let[s,u]=await Promise.all([this.cpAmm.fetchPoolState(t),this.getSlotAndBlockTime()]),l=a??await this.fetchDammV2ExtraParams(s.tokenAMint,s.tokenBMint),c=await this.getQuote(s,i,u.blockTime,u.slot,l.tokenADecimal,l.tokenBDecimal),d=this.applySlippage(c.minSwapOutAmount,o),p=await this.cpAmm.swap({payer:e,pool:t,inputTokenMint:r,outputTokenMint:n,amountIn:i,minimumAmountOut:d,tokenAVault:s.tokenAVault,tokenBVault:s.tokenBVault,tokenAMint:s.tokenAMint,tokenBMint:s.tokenBMint,tokenAProgram:l.tokenAProgram,tokenBProgram:l.tokenBProgram,referralTokenAccount:null}),f=p.instructions.find(e=>e.programId.toBase58()===Fg.toBase58());return{swapIx:f,extraParamsResult:l}}async getSwapInstructionForSnipe(e,t,r,n,i,o,a,s,u,l,c,d){let p=await this.cpAmm.swap({payer:e,pool:t,inputTokenMint:r,outputTokenMint:n,amountIn:c,minimumAmountOut:d,tokenAVault:i,tokenBVault:o,tokenAMint:a,tokenBMint:s,tokenAProgram:u,tokenBProgram:l,referralTokenAccount:null}),f=p.instructions.find(e=>e.programId.toBase58()===Fg.toBase58());return f}async getQuote(e,t,r,n,i,o,a){return this.cpAmm.getQuote({inAmount:t,inputTokenMint:e.tokenAMint,slippage:a??0,poolState:e,currentTime:r,currentSlot:n,tokenADecimal:i,tokenBDecimal:o})}async fetchDammV2ExtraParams(e,t){let r=e.toBase58(),n=t.toBase58(),i=await this.getMintsProgramAndDecimals([r,n]);return{tokenAMint:e,tokenBMint:t,tokenAProgram:i[r]?.programId??SX,tokenBProgram:i[n]?.programId??SX,tokenADecimal:i[r]?.decimals??6,tokenBDecimal:i[n]?.decimals??9}}applySlippage(e,t){return t.lte(new(ed(d0))(0))?e:e.sub(e.mul(t).div(new(ed(d0))(1e4)))}async getPoolState(e){return this.cpAmm.fetchPoolState(e)}async getSlotAndBlockTime(){let e=await this.connection.getSlot(),t=await this.connection.getBlockTime(e);return{slot:e,blockTime:t}}async getMintsProgramAndDecimals(e){let t=e.map(e=>new ho(e)),{value:r}=await this.connection.getMultipleParsedAccounts(t),n={};for(let i=0;i<t.length;i++){let t=r[i],o=e[i];try{if(!t)throw Error(`Mint account not found: ${o}`);let e=t.owner,r=e.equals(SX)?"token":e.equals(SZ)?"token2022":"unknown",i=t.data?.parsed?.info?.decimals;if("number"!=typeof i)throw Error(`Failed to read decimals from mint: ${o}`);n[o]={programId:e,programKind:r,decimals:i}}catch(e){console.error(`Failed to read decimals from mint: ${o}`,e),n[o]={programId:SX,programKind:"token",decimals:6}}}return n}},Fb=class{baseUrl="https://beta.okex.org/api/v5/dex/aggregator";apiCredentials;constructor(e){this.apiCredentials=e}async getSwapInstructions(e){let{chainIndex:t,fromTokenAddress:r,toTokenAddress:n,amount:i,slippage:o,priceTolerance:a,autoSlippage:s,userWalletAddress:u,pathNum:l}=e,c={chainIndex:t,amount:i,fromTokenAddress:r.toBase58(),toTokenAddress:n.toBase58(),slippage:o,priceTolerance:a,autoSlippage:s,userWalletAddress:u,pathNum:l},d=new Date().toISOString(),p="/api/v5/dex/aggregator/swap-instruction",f="?"+new URLSearchParams(c).toString(),h=await this.getHeaders(d,"GET",p,f);try{let e=await xn.get(`https://web3.okx.com${p}${f}`,{headers:h});if(200!==e.status)throw Error(`OKX API request failed: ${e.status} ${e.statusText}`);let t=e?.data?.data;if(!t.instructionLists||!Array.isArray(t.instructionLists))throw Error("Invalid OKX DEX response: missing instructionLists");let r=t.instructionLists.map(e=>new hI({programId:new ho(e.programId),keys:e.accounts.map(e=>({pubkey:new ho(e.pubkey),isSigner:e.isSigner,isWritable:e.isWritable})),data:Fl.from(e.data,"base64")}));return{instructions:r,addressLookupTableAccount:t.addressLookupTableAccount}}catch(e){throw Error(`Failed to get OKX DEX instructions: ${e instanceof Error?e.message:String(e)}`)}}async getHeaders(e,t,r,n="",i=""){if(!this.apiCredentials)return{"Content-Type":"application/json"};let{apiKey:o,secretKey:a,passphrase:s,projectId:u}=this.apiCredentials,l=this.buildStringToSign(e,t,r,n,i),c=await this.hmacSha256Base64(a,l),d={"Content-Type":"application/json","OK-ACCESS-KEY":o,"OK-ACCESS-SIGN":c,"OK-ACCESS-TIMESTAMP":e,"OK-ACCESS-PASSPHRASE":s};return u&&(d["OK-ACCESS-PROJECT"]=u),d}async hmacSha256Base64(e,t){let r=new TextEncoder,n=await crypto.subtle.importKey("raw",r.encode(e),{name:"HMAC",hash:"SHA-256"},!1,["sign"]),i=await crypto.subtle.sign("HMAC",n,r.encode(t)),o=new Uint8Array(i),a="";for(let e=0;e<o.byteLength;e++)a+=String.fromCharCode(o[e]);return btoa(a)}buildStringToSign(e,t,r,n="",i=""){return e+t.toUpperCase()+r+(n||i)}getReferrerWalletAddress(){return this.apiCredentials?.referrerWalletAddress}getFeePercent(){return this.apiCredentials?.feePercent}},F_=class extends Error{constructor(e,t,r,n){super(e),this.code=t,this.details=r,this.originalError=n,this.name="TradingError"}getUserMessage(){switch(this.code){case Fv.INSUFFICIENT_BALANCE:return"Insufficient balance for this trade";case Fv.SLIPPAGE_EXCEEDED:return"Trade failed due to high slippage. Try increasing slippage tolerance";case Fv.TRANSACTION_FAILED:return"Transaction failed to confirm. Please try again";case Fv.SIMULATION_FAILED:return"Transaction simulation failed. Please check your parameters";case Fv.TOKEN_NOT_SUPPORTED:return"This token is not supported by any available AMM";case Fv.INVALID_AMOUNT:return"Invalid trade amount. Please check your input";case Fv.NETWORK_ERROR:return"Network error. Please check your connection";default:return this.message}}formatLog(e="Operation failed"){let t=this.details?.contextChain||[],r=[`\u274C ${e} [${this.code}]`,`   Error: ${this.message}`];return t.length>0&&r.push(`   Context: ${t.join(" \u2192 ")}`),r}logError(e="Operation failed"){let t=this.formatLog(e);t.forEach(e=>console.error(e))}static formatLog(e,t="Operation failed"){if(e instanceof F_)return e.formatLog(t);{let r=e instanceof Error?e.message:String(e);return[`\u274C ${t} with unexpected error: ${r}`]}}static logError(e,t="Operation failed"){let r=F_.formatLog(e,t);r.forEach(e=>console.error(e))}};function Fw(e){if(e instanceof Error)return e;try{let t="object"==typeof e?JSON.stringify(e):String(e);return Error(t)}catch{return Error(String(e))}}var Fv={INSUFFICIENT_BALANCE:"INSUFFICIENT_BALANCE",SLIPPAGE_EXCEEDED:"SLIPPAGE_EXCEEDED",INVALID_AMOUNT:"INVALID_AMOUNT",INVALID_SLIPPAGE:"INVALID_SLIPPAGE",INVALID_MINT_ADDRESS:"INVALID_MINT_ADDRESS",INVALID_ACTION:"INVALID_ACTION",INVALID_PARAMS:"INVALID_PARAMS",TOKEN_NOT_SUPPORTED:"TOKEN_NOT_SUPPORTED",TRANSACTION_FAILED:"TRANSACTION_FAILED",TRANSACTION_TIMEOUT:"TRANSACTION_TIMEOUT",SIGNATURE_VERIFICATION_FAILED:"SIGNATURE_VERIFICATION_FAILED",SIMULATION_FAILED:"SIMULATION_FAILED",INVALID_PRIVATE_KEY:"INVALID_PRIVATE_KEY",INVALID_CONFIG:"INVALID_CONFIG",AMM_NOT_FOUND:"AMM_NOT_FOUND",TRANSACTION_BUILD_FAILED:"TRANSACTION_BUILD_FAILED",NETWORK_ERROR:"NETWORK_ERROR"},Fk=void 0!==e3&&null!=e3.versions&&null!=e3.versions.node,FA=()=>{},FS={info:FA,error:FA,warn:FA,debug:FA},FI=!Fk,FE=new class{constructor(e="app"){this.context=e,FI?this.initPromise=Promise.resolve():this.initPromise=eh("2vO4p").then(e=>{this.logger=new e.Logger(this.context)}).catch(e=>{console.error("[UniversalLogger] Failed to load pino logger:",e)})}logger=FS;initPromise;info(e,...t){this.logger.info?.(e,...t)}error(e,...t){this.logger.error?.(e,...t)}warn(e,...t){this.logger.warn?.(e,...t)}debug(e,...t){this.logger.debug?.(e,...t)}ready(){return this.initPromise}}("solana-trading-bot"),FT={address:"6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P",metadata:{name:"pump",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},instructions:[{name:"admin_set_creator",docs:["Allows Global::admin_set_creator_authority to override the bonding curve creator"],discriminator:[69,25,171,142,57,239,13,4],accounts:[{name:"admin_set_creator_authority",signer:!0,relations:["global"]},{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"mint"},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"creator",type:"pubkey"}]},{name:"admin_set_idl_authority",discriminator:[8,217,96,231,144,104,192,5],accounts:[{name:"authority",signer:!0,relations:["global"]},{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"idl_account",writable:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"program_signer",pda:{seeds:[]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"idl_authority",type:"pubkey"}]},{name:"admin_update_token_incentives",discriminator:[209,11,115,87,213,23,124,204],accounts:[{name:"authority",writable:!0,signer:!0,relations:["global"]},{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"global_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]}]}},{name:"mint"},{name:"global_incentive_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"global_volume_accumulator"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"start_time",type:"i64"},{name:"end_time",type:"i64"},{name:"seconds_in_a_day",type:"i64"},{name:"day_number",type:"u64"},{name:"pump_token_supply_per_day",type:"u64"}]},{name:"buy",docs:["Buys tokens from a bonding curve."],discriminator:[102,6,61,18,1,218,235,234],accounts:[{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"fee_recipient",writable:!0},{name:"mint"},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"associated_bonding_curve",writable:!0,pda:{seeds:[{kind:"account",path:"bonding_curve"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"associated_user",writable:!0},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"creator_vault",writable:!0,pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,45,118,97,117,108,116]},{kind:"account",path:"bonding_curve.creator",account:"BondingCurve"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program",address:"6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P"},{name:"global_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]}]}},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"fee_config",pda:{seeds:[{kind:"const",value:[102,101,101,95,99,111,110,102,105,103]},{kind:"const",value:[1,86,224,246,147,102,90,207,68,219,21,104,191,23,91,170,81,137,203,151,245,210,255,59,101,93,43,182,253,109,24,176]}],program:{kind:"account",path:"fee_program"}}},{name:"fee_program",address:"pfeeUxB6jkeY1Hxd7CsFCAjcbHA9rWtchMGdZ6VojVZ"}],args:[{name:"amount",type:"u64"},{name:"max_sol_cost",type:"u64"},{name:"track_volume",type:{defined:{name:"OptionBool"}}}]},{name:"claim_token_incentives",discriminator:[16,4,71,28,204,1,40,27],accounts:[{name:"user"},{name:"user_ata",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"global_volume_accumulator",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]}]}},{name:"global_incentive_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"global_volume_accumulator"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"mint",relations:["global_volume_accumulator"]},{name:"token_program"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program",address:"6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P"},{name:"payer",writable:!0,signer:!0}],args:[]},{name:"close_user_volume_accumulator",discriminator:[249,69,164,218,150,103,84,138],accounts:[{name:"user",writable:!0,signer:!0},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"collect_creator_fee",docs:["Collects creator_fee from creator_vault to the coin creator account"],discriminator:[20,22,86,123,198,28,219,132],accounts:[{name:"creator",writable:!0},{name:"creator_vault",writable:!0,pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,45,118,97,117,108,116]},{kind:"account",path:"creator"}]}},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"create",docs:["Creates a new coin and bonding curve."],discriminator:[24,30,200,40,5,28,7,119],accounts:[{name:"mint",writable:!0,signer:!0},{name:"mint_authority",pda:{seeds:[{kind:"const",value:[109,105,110,116,45,97,117,116,104,111,114,105,116,121]}]}},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"associated_bonding_curve",writable:!0,pda:{seeds:[{kind:"account",path:"bonding_curve"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"mpl_token_metadata",address:"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"},{name:"metadata",writable:!0,pda:{seeds:[{kind:"const",value:[109,101,116,97,100,97,116,97]},{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]},{kind:"account",path:"mint"}],program:{kind:"account",path:"mpl_token_metadata"}}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"name",type:"string"},{name:"symbol",type:"string"},{name:"uri",type:"string"},{name:"creator",type:"pubkey"}]},{name:"extend_account",docs:["Extends the size of program-owned accounts"],discriminator:[234,102,194,203,150,72,62,229],accounts:[{name:"account",writable:!0},{name:"user",signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"init_user_volume_accumulator",discriminator:[94,6,202,115,255,96,232,183],accounts:[{name:"payer",writable:!0,signer:!0},{name:"user"},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"initialize",docs:["Creates the global state."],discriminator:[175,175,109,31,13,152,155,237],accounts:[{name:"global",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"migrate",docs:["Migrates liquidity to pump_amm if the bonding curve is complete"],discriminator:[155,234,231,146,236,158,162,30],accounts:[{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"withdraw_authority",writable:!0,relations:["global"]},{name:"mint"},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"associated_bonding_curve",writable:!0,pda:{seeds:[{kind:"account",path:"bonding_curve"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user",signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"pump_amm",address:"pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA"},{name:"pool",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,111,108]},{kind:"const",value:[0,0]},{kind:"account",path:"pool_authority"},{kind:"account",path:"mint"},{kind:"account",path:"wsol_mint"}],program:{kind:"account",path:"pump_amm"}}},{name:"pool_authority",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,111,108,45,97,117,116,104,111,114,105,116,121]},{kind:"account",path:"mint"}]}},{name:"pool_authority_mint_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool_authority"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"account",path:"associated_token_program"}}},{name:"pool_authority_wsol_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool_authority"},{kind:"account",path:"token_program"},{kind:"account",path:"wsol_mint"}],program:{kind:"account",path:"associated_token_program"}}},{name:"amm_global_config",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,99,111,110,102,105,103]}],program:{kind:"account",path:"pump_amm"}}},{name:"wsol_mint",address:"So11111111111111111111111111111111111111112"},{name:"lp_mint",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,111,108,95,108,112,95,109,105,110,116]},{kind:"account",path:"pool"}],program:{kind:"account",path:"pump_amm"}}},{name:"user_pool_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool_authority"},{kind:"account",path:"token_2022_program"},{kind:"account",path:"lp_mint"}],program:{kind:"account",path:"associated_token_program"}}},{name:"pool_base_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"account",path:"associated_token_program"}}},{name:"pool_quote_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool"},{kind:"account",path:"token_program"},{kind:"account",path:"wsol_mint"}],program:{kind:"account",path:"associated_token_program"}}},{name:"token_2022_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"pump_amm_event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}],program:{kind:"account",path:"pump_amm"}}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"sell",docs:["Sells tokens into a bonding curve."],discriminator:[51,230,133,164,1,127,131,173],accounts:[{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"fee_recipient",writable:!0},{name:"mint"},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"associated_bonding_curve",writable:!0,pda:{seeds:[{kind:"account",path:"bonding_curve"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"associated_user",writable:!0},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"creator_vault",writable:!0,pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,45,118,97,117,108,116]},{kind:"account",path:"bonding_curve.creator",account:"BondingCurve"}]}},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program",address:"6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P"},{name:"fee_config",pda:{seeds:[{kind:"const",value:[102,101,101,95,99,111,110,102,105,103]},{kind:"const",value:[1,86,224,246,147,102,90,207,68,219,21,104,191,23,91,170,81,137,203,151,245,210,255,59,101,93,43,182,253,109,24,176]}],program:{kind:"account",path:"fee_program"}}},{name:"fee_program",address:"pfeeUxB6jkeY1Hxd7CsFCAjcbHA9rWtchMGdZ6VojVZ"}],args:[{name:"amount",type:"u64"},{name:"min_sol_output",type:"u64"}]},{name:"set_creator",docs:["Allows Global::set_creator_authority to set the bonding curve creator from Metaplex metadata or input argument"],discriminator:[254,148,255,112,207,142,170,165],accounts:[{name:"set_creator_authority",signer:!0,relations:["global"]},{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"mint"},{name:"metadata",pda:{seeds:[{kind:"const",value:[109,101,116,97,100,97,116,97]},{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]},{kind:"account",path:"mint"}],program:{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]}}},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"creator",type:"pubkey"}]},{name:"set_metaplex_creator",docs:["Syncs the bonding curve creator with the Metaplex metadata creator if it exists"],discriminator:[138,96,174,217,48,85,197,246],accounts:[{name:"mint"},{name:"metadata",pda:{seeds:[{kind:"const",value:[109,101,116,97,100,97,116,97]},{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]},{kind:"account",path:"mint"}],program:{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]}}},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"set_params",docs:["Sets the global state parameters."],discriminator:[27,234,178,52,147,2,187,141],accounts:[{name:"global",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"authority",writable:!0,signer:!0,relations:["global"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"initial_virtual_token_reserves",type:"u64"},{name:"initial_virtual_sol_reserves",type:"u64"},{name:"initial_real_token_reserves",type:"u64"},{name:"token_total_supply",type:"u64"},{name:"fee_basis_points",type:"u64"},{name:"withdraw_authority",type:"pubkey"},{name:"enable_migrate",type:"bool"},{name:"pool_migration_fee",type:"u64"},{name:"creator_fee_basis_points",type:"u64"},{name:"set_creator_authority",type:"pubkey"},{name:"admin_set_creator_authority",type:"pubkey"}]},{name:"sync_user_volume_accumulator",discriminator:[86,31,192,87,163,87,79,238],accounts:[{name:"user"},{name:"global_volume_accumulator",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]}]}},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"update_global_authority",discriminator:[227,181,74,196,208,21,97,213],accounts:[{name:"global",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"authority",signer:!0,relations:["global"]},{name:"new_authority"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]}],accounts:[{name:"BondingCurve",discriminator:[23,183,248,55,96,216,172,96]},{name:"FeeConfig",discriminator:[143,52,146,187,219,123,76,155]},{name:"Global",discriminator:[167,232,232,177,200,108,114,127]},{name:"GlobalVolumeAccumulator",discriminator:[202,42,246,43,142,190,30,255]},{name:"UserVolumeAccumulator",discriminator:[86,255,112,14,102,53,154,250]}],events:[{name:"AdminSetCreatorEvent",discriminator:[64,69,192,104,29,30,25,107]},{name:"AdminSetIdlAuthorityEvent",discriminator:[245,59,70,34,75,185,109,92]},{name:"AdminUpdateTokenIncentivesEvent",discriminator:[147,250,108,120,247,29,67,222]},{name:"ClaimTokenIncentivesEvent",discriminator:[79,172,246,49,205,91,206,232]},{name:"CloseUserVolumeAccumulatorEvent",discriminator:[146,159,189,172,146,88,56,244]},{name:"CollectCreatorFeeEvent",discriminator:[122,2,127,1,14,191,12,175]},{name:"CompleteEvent",discriminator:[95,114,97,156,212,46,152,8]},{name:"CompletePumpAmmMigrationEvent",discriminator:[189,233,93,185,92,148,234,148]},{name:"CreateEvent",discriminator:[27,114,169,77,222,235,99,118]},{name:"ExtendAccountEvent",discriminator:[97,97,215,144,93,146,22,124]},{name:"InitUserVolumeAccumulatorEvent",discriminator:[134,36,13,72,232,101,130,216]},{name:"SetCreatorEvent",discriminator:[237,52,123,37,245,251,72,210]},{name:"SetMetaplexCreatorEvent",discriminator:[142,203,6,32,127,105,191,162]},{name:"SetParamsEvent",discriminator:[223,195,159,246,62,48,143,131]},{name:"SyncUserVolumeAccumulatorEvent",discriminator:[197,122,167,124,116,81,91,255]},{name:"TradeEvent",discriminator:[189,219,127,211,78,230,97,238]},{name:"UpdateGlobalAuthorityEvent",discriminator:[182,195,137,42,35,206,207,247]}],errors:[{code:6e3,name:"NotAuthorized",msg:"The given account is not authorized to execute this instruction."},{code:6001,name:"AlreadyInitialized",msg:"The program is already initialized."},{code:6002,name:"TooMuchSolRequired",msg:"slippage: Too much SOL required to buy the given amount of tokens."},{code:6003,name:"TooLittleSolReceived",msg:"slippage: Too little SOL received to sell the given amount of tokens."},{code:6004,name:"MintDoesNotMatchBondingCurve",msg:"The mint does not match the bonding curve."},{code:6005,name:"BondingCurveComplete",msg:"The bonding curve has completed and liquidity migrated to raydium."},{code:6006,name:"BondingCurveNotComplete",msg:"The bonding curve has not completed."},{code:6007,name:"NotInitialized",msg:"The program is not initialized."},{code:6008,name:"WithdrawTooFrequent",msg:"Withdraw too frequent"},{code:6009,name:"NewSizeShouldBeGreaterThanCurrentSize",msg:"new_size should be > current_size"},{code:6010,name:"AccountTypeNotSupported",msg:"Account type not supported"},{code:6011,name:"InitialRealTokenReservesShouldBeLessThanTokenTotalSupply",msg:"initial_real_token_reserves should be less than token_total_supply"},{code:6012,name:"InitialVirtualTokenReservesShouldBeGreaterThanInitialRealTokenReserves",msg:"initial_virtual_token_reserves should be greater than initial_real_token_reserves"},{code:6013,name:"FeeBasisPointsGreaterThanMaximum",msg:"fee_basis_points greater than maximum"},{code:6014,name:"AllZerosWithdrawAuthority",msg:"Withdraw authority cannot be set to System Program ID"},{code:6015,name:"PoolMigrationFeeShouldBeLessThanFinalRealSolReserves",msg:"pool_migration_fee should be less than final_real_sol_reserves"},{code:6016,name:"PoolMigrationFeeShouldBeGreaterThanCreatorFeePlusMaxMigrateFees",msg:"pool_migration_fee should be greater than creator_fee + MAX_MIGRATE_FEES"},{code:6017,name:"DisabledWithdraw",msg:"Migrate instruction is disabled"},{code:6018,name:"DisabledMigrate",msg:"Migrate instruction is disabled"},{code:6019,name:"InvalidCreator",msg:"Invalid creator pubkey"},{code:6020,name:"BuyZeroAmount",msg:"Buy zero amount"},{code:6021,name:"NotEnoughTokensToBuy",msg:"Not enough tokens to buy"},{code:6022,name:"SellZeroAmount",msg:"Sell zero amount"},{code:6023,name:"NotEnoughTokensToSell",msg:"Not enough tokens to sell"},{code:6024,name:"Overflow",msg:"Overflow"},{code:6025,name:"Truncation",msg:"Truncation"},{code:6026,name:"DivisionByZero",msg:"Division by zero"},{code:6027,name:"NotEnoughRemainingAccounts",msg:"Not enough remaining accounts"},{code:6028,name:"AllFeeRecipientsShouldBeNonZero",msg:"All fee recipients should be non-zero"},{code:6029,name:"UnsortedNotUniqueFeeRecipients",msg:"Unsorted or not unique fee recipients"},{code:6030,name:"CreatorShouldNotBeZero",msg:"Creator should not be zero"},{code:6031,name:"StartTimeInThePast"},{code:6032,name:"EndTimeInThePast"},{code:6033,name:"EndTimeBeforeStartTime"},{code:6034,name:"TimeRangeTooLarge"},{code:6035,name:"EndTimeBeforeCurrentDay"},{code:6036,name:"SupplyUpdateForFinishedRange"},{code:6037,name:"DayIndexAfterEndIndex"},{code:6038,name:"DayInActiveRange"},{code:6039,name:"InvalidIncentiveMint"}],types:[{name:"AdminSetCreatorEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"admin_set_creator_authority",type:"pubkey"},{name:"mint",type:"pubkey"},{name:"bonding_curve",type:"pubkey"},{name:"old_creator",type:"pubkey"},{name:"new_creator",type:"pubkey"}]}},{name:"AdminSetIdlAuthorityEvent",type:{kind:"struct",fields:[{name:"idl_authority",type:"pubkey"}]}},{name:"AdminUpdateTokenIncentivesEvent",type:{kind:"struct",fields:[{name:"start_time",type:"i64"},{name:"end_time",type:"i64"},{name:"day_number",type:"u64"},{name:"token_supply_per_day",type:"u64"},{name:"mint",type:"pubkey"},{name:"seconds_in_a_day",type:"i64"},{name:"timestamp",type:"i64"}]}},{name:"BondingCurve",type:{kind:"struct",fields:[{name:"virtual_token_reserves",type:"u64"},{name:"virtual_sol_reserves",type:"u64"},{name:"real_token_reserves",type:"u64"},{name:"real_sol_reserves",type:"u64"},{name:"token_total_supply",type:"u64"},{name:"complete",type:"bool"},{name:"creator",type:"pubkey"}]}},{name:"ClaimTokenIncentivesEvent",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"mint",type:"pubkey"},{name:"amount",type:"u64"},{name:"timestamp",type:"i64"},{name:"total_claimed_tokens",type:"u64"},{name:"current_sol_volume",type:"u64"}]}},{name:"CloseUserVolumeAccumulatorEvent",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"timestamp",type:"i64"},{name:"total_unclaimed_tokens",type:"u64"},{name:"total_claimed_tokens",type:"u64"},{name:"current_sol_volume",type:"u64"},{name:"last_update_timestamp",type:"i64"}]}},{name:"CollectCreatorFeeEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"creator",type:"pubkey"},{name:"creator_fee",type:"u64"}]}},{name:"CompleteEvent",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"mint",type:"pubkey"},{name:"bonding_curve",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"CompletePumpAmmMigrationEvent",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"mint",type:"pubkey"},{name:"mint_amount",type:"u64"},{name:"sol_amount",type:"u64"},{name:"pool_migration_fee",type:"u64"},{name:"bonding_curve",type:"pubkey"},{name:"timestamp",type:"i64"},{name:"pool",type:"pubkey"}]}},{name:"CreateEvent",type:{kind:"struct",fields:[{name:"name",type:"string"},{name:"symbol",type:"string"},{name:"uri",type:"string"},{name:"mint",type:"pubkey"},{name:"bonding_curve",type:"pubkey"},{name:"user",type:"pubkey"},{name:"creator",type:"pubkey"},{name:"timestamp",type:"i64"},{name:"virtual_token_reserves",type:"u64"},{name:"virtual_sol_reserves",type:"u64"},{name:"real_token_reserves",type:"u64"},{name:"token_total_supply",type:"u64"}]}},{name:"ExtendAccountEvent",type:{kind:"struct",fields:[{name:"account",type:"pubkey"},{name:"user",type:"pubkey"},{name:"current_size",type:"u64"},{name:"new_size",type:"u64"},{name:"timestamp",type:"i64"}]}},{name:"FeeConfig",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"admin",type:"pubkey"},{name:"flat_fees",type:{defined:{name:"Fees"}}},{name:"fee_tiers",type:{vec:{defined:{name:"FeeTier"}}}}]}},{name:"FeeTier",type:{kind:"struct",fields:[{name:"market_cap_lamports_threshold",type:"u128"},{name:"fees",type:{defined:{name:"Fees"}}}]}},{name:"Fees",type:{kind:"struct",fields:[{name:"lp_fee_bps",type:"u64"},{name:"protocol_fee_bps",type:"u64"},{name:"creator_fee_bps",type:"u64"}]}},{name:"Global",type:{kind:"struct",fields:[{name:"initialized",docs:["Unused"],type:"bool"},{name:"authority",type:"pubkey"},{name:"fee_recipient",type:"pubkey"},{name:"initial_virtual_token_reserves",type:"u64"},{name:"initial_virtual_sol_reserves",type:"u64"},{name:"initial_real_token_reserves",type:"u64"},{name:"token_total_supply",type:"u64"},{name:"fee_basis_points",type:"u64"},{name:"withdraw_authority",type:"pubkey"},{name:"enable_migrate",docs:["Unused"],type:"bool"},{name:"pool_migration_fee",type:"u64"},{name:"creator_fee_basis_points",type:"u64"},{name:"fee_recipients",type:{array:["pubkey",7]}},{name:"set_creator_authority",type:"pubkey"},{name:"admin_set_creator_authority",type:"pubkey"}]}},{name:"GlobalVolumeAccumulator",type:{kind:"struct",fields:[{name:"start_time",type:"i64"},{name:"end_time",type:"i64"},{name:"seconds_in_a_day",type:"i64"},{name:"mint",type:"pubkey"},{name:"total_token_supply",type:{array:["u64",30]}},{name:"sol_volumes",type:{array:["u64",30]}}]}},{name:"InitUserVolumeAccumulatorEvent",type:{kind:"struct",fields:[{name:"payer",type:"pubkey"},{name:"user",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"OptionBool",type:{kind:"struct",fields:["bool"]}},{name:"SetCreatorEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"mint",type:"pubkey"},{name:"bonding_curve",type:"pubkey"},{name:"creator",type:"pubkey"}]}},{name:"SetMetaplexCreatorEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"mint",type:"pubkey"},{name:"bonding_curve",type:"pubkey"},{name:"metadata",type:"pubkey"},{name:"creator",type:"pubkey"}]}},{name:"SetParamsEvent",type:{kind:"struct",fields:[{name:"initial_virtual_token_reserves",type:"u64"},{name:"initial_virtual_sol_reserves",type:"u64"},{name:"initial_real_token_reserves",type:"u64"},{name:"final_real_sol_reserves",type:"u64"},{name:"token_total_supply",type:"u64"},{name:"fee_basis_points",type:"u64"},{name:"withdraw_authority",type:"pubkey"},{name:"enable_migrate",type:"bool"},{name:"pool_migration_fee",type:"u64"},{name:"creator_fee_basis_points",type:"u64"},{name:"fee_recipients",type:{array:["pubkey",8]}},{name:"timestamp",type:"i64"},{name:"set_creator_authority",type:"pubkey"},{name:"admin_set_creator_authority",type:"pubkey"}]}},{name:"SyncUserVolumeAccumulatorEvent",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"total_claimed_tokens_before",type:"u64"},{name:"total_claimed_tokens_after",type:"u64"},{name:"timestamp",type:"i64"}]}},{name:"TradeEvent",type:{kind:"struct",fields:[{name:"mint",type:"pubkey"},{name:"sol_amount",type:"u64"},{name:"token_amount",type:"u64"},{name:"is_buy",type:"bool"},{name:"user",type:"pubkey"},{name:"timestamp",type:"i64"},{name:"virtual_sol_reserves",type:"u64"},{name:"virtual_token_reserves",type:"u64"},{name:"real_sol_reserves",type:"u64"},{name:"real_token_reserves",type:"u64"},{name:"fee_recipient",type:"pubkey"},{name:"fee_basis_points",type:"u64"},{name:"fee",type:"u64"},{name:"creator",type:"pubkey"},{name:"creator_fee_basis_points",type:"u64"},{name:"creator_fee",type:"u64"},{name:"track_volume",type:"bool"},{name:"total_unclaimed_tokens",type:"u64"},{name:"total_claimed_tokens",type:"u64"},{name:"current_sol_volume",type:"u64"},{name:"last_update_timestamp",type:"i64"}]}},{name:"UpdateGlobalAuthorityEvent",type:{kind:"struct",fields:[{name:"global",type:"pubkey"},{name:"authority",type:"pubkey"},{name:"new_authority",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"UserVolumeAccumulator",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"needs_claim",type:"bool"},{name:"total_unclaimed_tokens",type:"u64"},{name:"total_claimed_tokens",type:"u64"},{name:"current_sol_volume",type:"u64"},{name:"last_update_timestamp",type:"i64"},{name:"has_total_claimed_tokens",type:"bool"}]}}]},Fx=class{program;connection;globalConfig=null;coder;constructor(e){this.program=new S$(FT,e),this.connection=e.connection,this.coder=new AY(this.program.idl),this.initializeGlobalConfig().catch(e=>{FE.warn("PumpCurveSDK: Failed to initialize global config",{error:e instanceof Error?e.message:String(e),code:e instanceof Error&&"code"in e?e.code:void 0})})}async initializeGlobalConfig(){for(let e=1;e<=3;e++)try{let t=await this.fetchGlobal();this.globalConfig=t,FE.info("PumpCurveSDK: Global config fetched successfully",{attempt:e,feeRecipient:t.feeRecipient.toBase58()});return}catch(t){if(FE.warn(`PumpCurveSDK: Global config fetch attempt ${e} failed`,{error:t instanceof Error?t.message:String(t),code:t instanceof Error&&"code"in t?t.code:void 0}),3===e){FE.error("PumpCurveSDK: All attempts to fetch global config failed",{error:t instanceof Error?t.message:String(t),code:t instanceof Error&&"code"in t?t.code:void 0});return}await new Promise(t=>setTimeout(t,1e3*e))}}async getBuyInstructions(e,t,r,n=BigInt(500),i={}){let o=i.bondingCurveInfo?Promise.resolve(i.bondingCurveInfo):this.fetchBondingCurve(t,Ff),a=i.global?.feeRecipient?Promise.resolve({feeRecipient:i.global.feeRecipient,feeBasisPoints:i.global.feeBasisPoints??95n,creatorFeeBasisPoints:i.global.creatorFeeBasisPoints??5n}):this.fetchGlobal(Ff),[s,u]=await Promise.all([o,a]),l=i.bondingCurveAddress?i.bondingCurveAddress:this.getBondingCurvePDA(t),[c,d,p]=await Promise.all([I7(t,l,!0),I7(t,e),this.creatorVaultPDA(s.creator)]),f=this.calculateBuyTokenAmount(s,r,BigInt(u.feeBasisPoints.toString())+BigInt(u.creatorFeeBasisPoints.toString())),h=this.applySlippageBuy(r,n),m=await this.program.methods.buy(new(ed(d0))(f.toString()),new(ed(d0))(h.toString()),{0:!1}).accountsPartial({feeRecipient:u.feeRecipient,mint:t,bondingCurve:l,associatedBondingCurve:c,associatedUser:d,user:e,creatorVault:p}).instruction();return[m]}async getSellInstructions(e,t,r,n=BigInt(500),i={}){let o=i.bondingCurveInfo?Promise.resolve(i.bondingCurveInfo):this.fetchBondingCurve(t,Ff),a=i.global?.feeRecipient?Promise.resolve({feeRecipient:i.global.feeRecipient,feeBasisPoints:i.global.feeBasisPoints??95n,creatorFeeBasisPoints:i.global.creatorFeeBasisPoints??5n}):this.fetchGlobal(Ff),[s,u]=await Promise.all([o,a]),l=i.bondingCurveAddress?i.bondingCurveAddress:this.getBondingCurvePDA(t),[c,d,p]=await Promise.all([I7(t,l,!0),I7(t,e),this.creatorVaultPDA(s.creator)]),f=this.calculateSellSolAmount(s,r,BigInt(u.feeBasisPoints.toString())+BigInt(u.creatorFeeBasisPoints.toString())),h=this.applySlippageSell(f,n),m=await this.program.methods.sell(new(ed(d0))(r.toString()),new(ed(d0))(h.toString())).accountsPartial({feeRecipient:u.feeRecipient,mint:t,bondingCurve:l,associatedBondingCurve:c,associatedUser:d,user:e,creatorVault:p}).instruction();return[m]}calculateBuyTokenAmount(e,t,r){if(e.complete)throw new F_("Curve is complete",Fv.AMM_NOT_FOUND);if(t<=0n)return 0n;let n=BigInt(r),i=BigInt(e.virtualTokenReserves.toString()),o=BigInt(e.virtualSolReserves.toString());return i-(o*i/(o+t*(10000n-n)/10000n)+1n)}calculateSellSolAmount(e,t,r){if(e.complete)throw new F_("Curve is complete",Fv.AMM_NOT_FOUND);if(t<=0n)return 0n;let n=BigInt(e.virtualTokenReserves.toString()),i=BigInt(e.virtualSolReserves.toString()),o=t*i/(n+t),a=o*BigInt(r.toString())/10000n;return o-a}applySlippageBuy(e,t){return t<=0n?e:e+e*t/10000n}applySlippageSell(e,t){return t<=0n?e:e-e*t/10000n}getBondingCurvePDA(e){let[t]=ho.findProgramAddressSync([Fl.from("bonding-curve"),e.toBuffer()],this.program.programId);return t}globalPDA(){let[e]=ho.findProgramAddressSync([Fl.from("global")],this.program.programId);return e}creatorVaultPDA(e){let[t]=ho.findProgramAddressSync([Fl.from("creator-vault"),e.toBuffer()],this.program.programId);return t}async fetchBondingCurve(e,t=Ff){try{return await this.program.account.bondingCurve.fetch(this.getBondingCurvePDA(e),t)}catch{throw new F_("Bonding curve not found",Fv.AMM_NOT_FOUND,{mint:e.toBase58()})}}async fetchGlobal(e=Ff){try{if(this.globalConfig)return this.globalConfig;let t=this.globalPDA();return FE.debug("PumpCurveSDK: Fetching global account",{globalPda:t.toBase58(),commitment:e}),await this.program.account.global.fetch(t,e)}catch(n){let t=n instanceof Error?n.message:String(n),r=n instanceof Error&&"code"in n?n.code:void 0;throw FE.error("PumpCurveSDK: Global account fetch failed",{error:t,code:r,globalPda:this.globalPDA().toBase58(),commitment:e}),new F_(`Global account not found: ${t}`,Fv.INVALID_CONFIG,{globalPda:this.globalPDA().toBase58(),commitment:e,originalError:t})}}},FP={address:"pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA",metadata:{name:"pump_amm",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},instructions:[{name:"admin_set_coin_creator",docs:["Overrides the coin creator for a canonical pump pool"],discriminator:[242,40,117,145,73,96,105,104],accounts:[{name:"admin_set_coin_creator_authority",signer:!0,relations:["global_config"]},{name:"global_config"},{name:"pool",writable:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"coin_creator",type:"pubkey"}]},{name:"admin_update_token_incentives",discriminator:[209,11,115,87,213,23,124,204],accounts:[{name:"admin",writable:!0,signer:!0,relations:["global_config"]},{name:"global_config",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,99,111,110,102,105,103]}]}},{name:"global_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]}]}},{name:"mint"},{name:"global_incentive_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"global_volume_accumulator"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"start_time",type:"i64"},{name:"end_time",type:"i64"},{name:"seconds_in_a_day",type:"i64"},{name:"day_number",type:"u64"},{name:"token_supply_per_day",type:"u64"}]},{name:"buy",discriminator:[102,6,61,18,1,218,235,234],accounts:[{name:"pool"},{name:"user",writable:!0,signer:!0},{name:"global_config"},{name:"base_mint",relations:["pool"]},{name:"quote_mint",relations:["pool"]},{name:"user_base_token_account",writable:!0},{name:"user_quote_token_account",writable:!0},{name:"pool_base_token_account",writable:!0,relations:["pool"]},{name:"pool_quote_token_account",writable:!0,relations:["pool"]},{name:"protocol_fee_recipient"},{name:"protocol_fee_recipient_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"protocol_fee_recipient"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"base_token_program"},{name:"quote_token_program"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program",address:"pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA"},{name:"coin_creator_vault_ata",writable:!0,pda:{seeds:[{kind:"account",path:"coin_creator_vault_authority"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"coin_creator_vault_authority",pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,95,118,97,117,108,116]},{kind:"account",path:"pool.coin_creator",account:"Pool"}]}},{name:"global_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]}]}},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"fee_config",pda:{seeds:[{kind:"const",value:[102,101,101,95,99,111,110,102,105,103]},{kind:"const",value:[12,20,222,252,130,94,198,118,148,37,8,24,187,101,64,101,244,41,141,49,86,213,113,180,212,248,9,12,24,233,168,99]}],program:{kind:"account",path:"fee_program"}}},{name:"fee_program",address:"pfeeUxB6jkeY1Hxd7CsFCAjcbHA9rWtchMGdZ6VojVZ"}],args:[{name:"base_amount_out",type:"u64"},{name:"max_quote_amount_in",type:"u64"},{name:"track_volume",type:{defined:{name:"OptionBool"}}}]},{name:"claim_token_incentives",discriminator:[16,4,71,28,204,1,40,27],accounts:[{name:"user"},{name:"user_ata",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"global_volume_accumulator",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]}]}},{name:"global_incentive_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"global_volume_accumulator"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"mint",relations:["global_volume_accumulator"]},{name:"token_program"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program",address:"pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA"},{name:"payer",writable:!0,signer:!0}],args:[]},{name:"close_user_volume_accumulator",discriminator:[249,69,164,218,150,103,84,138],accounts:[{name:"user",writable:!0,signer:!0},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"collect_coin_creator_fee",discriminator:[160,57,89,42,181,139,43,66],accounts:[{name:"quote_mint"},{name:"quote_token_program"},{name:"coin_creator"},{name:"coin_creator_vault_authority",pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,95,118,97,117,108,116]},{kind:"account",path:"coin_creator"}]}},{name:"coin_creator_vault_ata",writable:!0,pda:{seeds:[{kind:"account",path:"coin_creator_vault_authority"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"coin_creator_token_account",writable:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"create_config",discriminator:[201,207,243,114,75,111,47,189],accounts:[{name:"admin",writable:!0,signer:!0,address:"8LWu7QM2dGR1G8nKDHthckea57bkCzXyBTAKPJUBDHo8"},{name:"global_config",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,99,111,110,102,105,103]}]}},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"lp_fee_basis_points",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"protocol_fee_recipients",type:{array:["pubkey",8]}},{name:"coin_creator_fee_basis_points",type:"u64"},{name:"admin_set_coin_creator_authority",type:"pubkey"}]},{name:"create_pool",discriminator:[233,146,209,142,207,104,64,188],accounts:[{name:"pool",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,111,108]},{kind:"arg",path:"index"},{kind:"account",path:"creator"},{kind:"account",path:"base_mint"},{kind:"account",path:"quote_mint"}]}},{name:"global_config"},{name:"creator",writable:!0,signer:!0},{name:"base_mint"},{name:"quote_mint"},{name:"lp_mint",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,111,108,95,108,112,95,109,105,110,116]},{kind:"account",path:"pool"}]}},{name:"user_base_token_account",writable:!0},{name:"user_quote_token_account",writable:!0},{name:"user_pool_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"creator"},{kind:"account",path:"token_2022_program"},{kind:"account",path:"lp_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"pool_base_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool"},{kind:"account",path:"base_token_program"},{kind:"account",path:"base_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"pool_quote_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_2022_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"base_token_program"},{name:"quote_token_program"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"index",type:"u16"},{name:"base_amount_in",type:"u64"},{name:"quote_amount_in",type:"u64"},{name:"coin_creator",type:"pubkey"}]},{name:"deposit",discriminator:[242,35,198,137,82,225,242,182],accounts:[{name:"pool",writable:!0},{name:"global_config"},{name:"user",signer:!0},{name:"base_mint",relations:["pool"]},{name:"quote_mint",relations:["pool"]},{name:"lp_mint",writable:!0,relations:["pool"]},{name:"user_base_token_account",writable:!0},{name:"user_quote_token_account",writable:!0},{name:"user_pool_token_account",writable:!0},{name:"pool_base_token_account",writable:!0,relations:["pool"]},{name:"pool_quote_token_account",writable:!0,relations:["pool"]},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"token_2022_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"lp_token_amount_out",type:"u64"},{name:"max_base_amount_in",type:"u64"},{name:"max_quote_amount_in",type:"u64"}]},{name:"disable",discriminator:[185,173,187,90,216,15,238,233],accounts:[{name:"admin",signer:!0,relations:["global_config"]},{name:"global_config",writable:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"disable_create_pool",type:"bool"},{name:"disable_deposit",type:"bool"},{name:"disable_withdraw",type:"bool"},{name:"disable_buy",type:"bool"},{name:"disable_sell",type:"bool"}]},{name:"extend_account",discriminator:[234,102,194,203,150,72,62,229],accounts:[{name:"account",writable:!0},{name:"user",signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"init_user_volume_accumulator",discriminator:[94,6,202,115,255,96,232,183],accounts:[{name:"payer",writable:!0,signer:!0},{name:"user"},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"sell",discriminator:[51,230,133,164,1,127,131,173],accounts:[{name:"pool"},{name:"user",writable:!0,signer:!0},{name:"global_config"},{name:"base_mint",relations:["pool"]},{name:"quote_mint",relations:["pool"]},{name:"user_base_token_account",writable:!0},{name:"user_quote_token_account",writable:!0},{name:"pool_base_token_account",writable:!0,relations:["pool"]},{name:"pool_quote_token_account",writable:!0,relations:["pool"]},{name:"protocol_fee_recipient"},{name:"protocol_fee_recipient_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"protocol_fee_recipient"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"base_token_program"},{name:"quote_token_program"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program",address:"pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA"},{name:"coin_creator_vault_ata",writable:!0,pda:{seeds:[{kind:"account",path:"coin_creator_vault_authority"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"coin_creator_vault_authority",pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,95,118,97,117,108,116]},{kind:"account",path:"pool.coin_creator",account:"Pool"}]}},{name:"fee_config",pda:{seeds:[{kind:"const",value:[102,101,101,95,99,111,110,102,105,103]},{kind:"const",value:[12,20,222,252,130,94,198,118,148,37,8,24,187,101,64,101,244,41,141,49,86,213,113,180,212,248,9,12,24,233,168,99]}],program:{kind:"account",path:"fee_program"}}},{name:"fee_program",address:"pfeeUxB6jkeY1Hxd7CsFCAjcbHA9rWtchMGdZ6VojVZ"}],args:[{name:"base_amount_in",type:"u64"},{name:"min_quote_amount_out",type:"u64"}]},{name:"set_coin_creator",docs:["Sets Pool::coin_creator from Metaplex metadata creator or BondingCurve::creator"],discriminator:[210,149,128,45,188,58,78,175],accounts:[{name:"pool",writable:!0},{name:"metadata",pda:{seeds:[{kind:"const",value:[109,101,116,97,100,97,116,97]},{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]},{kind:"account",path:"pool.base_mint",account:"Pool"}],program:{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]}}},{name:"bonding_curve",pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"pool.base_mint",account:"Pool"}],program:{kind:"const",value:[1,86,224,246,147,102,90,207,68,219,21,104,191,23,91,170,81,137,203,151,245,210,255,59,101,93,43,182,253,109,24,176]}}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"sync_user_volume_accumulator",discriminator:[86,31,192,87,163,87,79,238],accounts:[{name:"user"},{name:"global_volume_accumulator",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]}]}},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"update_admin",discriminator:[161,176,40,213,60,184,179,228],accounts:[{name:"admin",signer:!0,relations:["global_config"]},{name:"global_config",writable:!0},{name:"new_admin"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"update_fee_config",discriminator:[104,184,103,242,88,151,107,20],accounts:[{name:"admin",signer:!0,relations:["global_config"]},{name:"global_config",writable:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"lp_fee_basis_points",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"protocol_fee_recipients",type:{array:["pubkey",8]}},{name:"coin_creator_fee_basis_points",type:"u64"},{name:"admin_set_coin_creator_authority",type:"pubkey"}]},{name:"withdraw",discriminator:[183,18,70,156,148,109,161,34],accounts:[{name:"pool",writable:!0},{name:"global_config"},{name:"user",signer:!0},{name:"base_mint",relations:["pool"]},{name:"quote_mint",relations:["pool"]},{name:"lp_mint",writable:!0,relations:["pool"]},{name:"user_base_token_account",writable:!0},{name:"user_quote_token_account",writable:!0},{name:"user_pool_token_account",writable:!0},{name:"pool_base_token_account",writable:!0,relations:["pool"]},{name:"pool_quote_token_account",writable:!0,relations:["pool"]},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"token_2022_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"lp_token_amount_in",type:"u64"},{name:"min_base_amount_out",type:"u64"},{name:"min_quote_amount_out",type:"u64"}]}],accounts:[{name:"BondingCurve",discriminator:[23,183,248,55,96,216,172,96]},{name:"FeeConfig",discriminator:[143,52,146,187,219,123,76,155]},{name:"GlobalConfig",discriminator:[149,8,156,202,160,252,176,217]},{name:"GlobalVolumeAccumulator",discriminator:[202,42,246,43,142,190,30,255]},{name:"Pool",discriminator:[241,154,109,4,17,177,109,188]},{name:"UserVolumeAccumulator",discriminator:[86,255,112,14,102,53,154,250]}],events:[{name:"AdminSetCoinCreatorEvent",discriminator:[45,220,93,24,25,97,172,104]},{name:"AdminUpdateTokenIncentivesEvent",discriminator:[147,250,108,120,247,29,67,222]},{name:"BuyEvent",discriminator:[103,244,82,31,44,245,119,119]},{name:"ClaimTokenIncentivesEvent",discriminator:[79,172,246,49,205,91,206,232]},{name:"CloseUserVolumeAccumulatorEvent",discriminator:[146,159,189,172,146,88,56,244]},{name:"CollectCoinCreatorFeeEvent",discriminator:[232,245,194,238,234,218,58,89]},{name:"CreateConfigEvent",discriminator:[107,52,89,129,55,226,81,22]},{name:"CreatePoolEvent",discriminator:[177,49,12,210,160,118,167,116]},{name:"DepositEvent",discriminator:[120,248,61,83,31,142,107,144]},{name:"DisableEvent",discriminator:[107,253,193,76,228,202,27,104]},{name:"ExtendAccountEvent",discriminator:[97,97,215,144,93,146,22,124]},{name:"InitUserVolumeAccumulatorEvent",discriminator:[134,36,13,72,232,101,130,216]},{name:"SellEvent",discriminator:[62,47,55,10,165,3,220,42]},{name:"SetBondingCurveCoinCreatorEvent",discriminator:[242,231,235,102,65,99,189,211]},{name:"SetMetaplexCoinCreatorEvent",discriminator:[150,107,199,123,124,207,102,228]},{name:"SyncUserVolumeAccumulatorEvent",discriminator:[197,122,167,124,116,81,91,255]},{name:"UpdateAdminEvent",discriminator:[225,152,171,87,246,63,66,234]},{name:"UpdateFeeConfigEvent",discriminator:[90,23,65,35,62,244,188,208]},{name:"WithdrawEvent",discriminator:[22,9,133,26,160,44,71,192]}],errors:[{code:6e3,name:"FeeBasisPointsExceedsMaximum"},{code:6001,name:"ZeroBaseAmount"},{code:6002,name:"ZeroQuoteAmount"},{code:6003,name:"TooLittlePoolTokenLiquidity"},{code:6004,name:"ExceededSlippage"},{code:6005,name:"InvalidAdmin"},{code:6006,name:"UnsupportedBaseMint"},{code:6007,name:"UnsupportedQuoteMint"},{code:6008,name:"InvalidBaseMint"},{code:6009,name:"InvalidQuoteMint"},{code:6010,name:"InvalidLpMint"},{code:6011,name:"AllProtocolFeeRecipientsShouldBeNonZero"},{code:6012,name:"UnsortedNotUniqueProtocolFeeRecipients"},{code:6013,name:"InvalidProtocolFeeRecipient"},{code:6014,name:"InvalidPoolBaseTokenAccount"},{code:6015,name:"InvalidPoolQuoteTokenAccount"},{code:6016,name:"BuyMoreBaseAmountThanPoolReserves"},{code:6017,name:"DisabledCreatePool"},{code:6018,name:"DisabledDeposit"},{code:6019,name:"DisabledWithdraw"},{code:6020,name:"DisabledBuy"},{code:6021,name:"DisabledSell"},{code:6022,name:"SameMint"},{code:6023,name:"Overflow"},{code:6024,name:"Truncation"},{code:6025,name:"DivisionByZero"},{code:6026,name:"NewSizeLessThanCurrentSize"},{code:6027,name:"AccountTypeNotSupported"},{code:6028,name:"OnlyCanonicalPumpPoolsCanHaveCoinCreator"},{code:6029,name:"InvalidAdminSetCoinCreatorAuthority"},{code:6030,name:"StartTimeInThePast"},{code:6031,name:"EndTimeInThePast"},{code:6032,name:"EndTimeBeforeStartTime"},{code:6033,name:"TimeRangeTooLarge"},{code:6034,name:"EndTimeBeforeCurrentDay"},{code:6035,name:"SupplyUpdateForFinishedRange"},{code:6036,name:"DayIndexAfterEndIndex"},{code:6037,name:"DayInActiveRange"},{code:6038,name:"InvalidIncentiveMint"}],types:[{name:"AdminSetCoinCreatorEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"admin_set_coin_creator_authority",type:"pubkey"},{name:"base_mint",type:"pubkey"},{name:"pool",type:"pubkey"},{name:"old_coin_creator",type:"pubkey"},{name:"new_coin_creator",type:"pubkey"}]}},{name:"AdminUpdateTokenIncentivesEvent",type:{kind:"struct",fields:[{name:"start_time",type:"i64"},{name:"end_time",type:"i64"},{name:"day_number",type:"u64"},{name:"token_supply_per_day",type:"u64"},{name:"mint",type:"pubkey"},{name:"seconds_in_a_day",type:"i64"},{name:"timestamp",type:"i64"}]}},{name:"BondingCurve",type:{kind:"struct",fields:[{name:"virtual_token_reserves",type:"u64"},{name:"virtual_sol_reserves",type:"u64"},{name:"real_token_reserves",type:"u64"},{name:"real_sol_reserves",type:"u64"},{name:"token_total_supply",type:"u64"},{name:"complete",type:"bool"},{name:"creator",type:"pubkey"}]}},{name:"BuyEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"base_amount_out",type:"u64"},{name:"max_quote_amount_in",type:"u64"},{name:"user_base_token_reserves",type:"u64"},{name:"user_quote_token_reserves",type:"u64"},{name:"pool_base_token_reserves",type:"u64"},{name:"pool_quote_token_reserves",type:"u64"},{name:"quote_amount_in",type:"u64"},{name:"lp_fee_basis_points",type:"u64"},{name:"lp_fee",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"protocol_fee",type:"u64"},{name:"quote_amount_in_with_lp_fee",type:"u64"},{name:"user_quote_amount_in",type:"u64"},{name:"pool",type:"pubkey"},{name:"user",type:"pubkey"},{name:"user_base_token_account",type:"pubkey"},{name:"user_quote_token_account",type:"pubkey"},{name:"protocol_fee_recipient",type:"pubkey"},{name:"protocol_fee_recipient_token_account",type:"pubkey"},{name:"coin_creator",type:"pubkey"},{name:"coin_creator_fee_basis_points",type:"u64"},{name:"coin_creator_fee",type:"u64"},{name:"track_volume",type:"bool"},{name:"total_unclaimed_tokens",type:"u64"},{name:"total_claimed_tokens",type:"u64"},{name:"current_sol_volume",type:"u64"},{name:"last_update_timestamp",type:"i64"}]}},{name:"ClaimTokenIncentivesEvent",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"mint",type:"pubkey"},{name:"amount",type:"u64"},{name:"timestamp",type:"i64"},{name:"total_claimed_tokens",type:"u64"},{name:"current_sol_volume",type:"u64"}]}},{name:"CloseUserVolumeAccumulatorEvent",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"timestamp",type:"i64"},{name:"total_unclaimed_tokens",type:"u64"},{name:"total_claimed_tokens",type:"u64"},{name:"current_sol_volume",type:"u64"},{name:"last_update_timestamp",type:"i64"}]}},{name:"CollectCoinCreatorFeeEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"coin_creator",type:"pubkey"},{name:"coin_creator_fee",type:"u64"},{name:"coin_creator_vault_ata",type:"pubkey"},{name:"coin_creator_token_account",type:"pubkey"}]}},{name:"CreateConfigEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"admin",type:"pubkey"},{name:"lp_fee_basis_points",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"protocol_fee_recipients",type:{array:["pubkey",8]}},{name:"coin_creator_fee_basis_points",type:"u64"},{name:"admin_set_coin_creator_authority",type:"pubkey"}]}},{name:"CreatePoolEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"index",type:"u16"},{name:"creator",type:"pubkey"},{name:"base_mint",type:"pubkey"},{name:"quote_mint",type:"pubkey"},{name:"base_mint_decimals",type:"u8"},{name:"quote_mint_decimals",type:"u8"},{name:"base_amount_in",type:"u64"},{name:"quote_amount_in",type:"u64"},{name:"pool_base_amount",type:"u64"},{name:"pool_quote_amount",type:"u64"},{name:"minimum_liquidity",type:"u64"},{name:"initial_liquidity",type:"u64"},{name:"lp_token_amount_out",type:"u64"},{name:"pool_bump",type:"u8"},{name:"pool",type:"pubkey"},{name:"lp_mint",type:"pubkey"},{name:"user_base_token_account",type:"pubkey"},{name:"user_quote_token_account",type:"pubkey"},{name:"coin_creator",type:"pubkey"}]}},{name:"DepositEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"lp_token_amount_out",type:"u64"},{name:"max_base_amount_in",type:"u64"},{name:"max_quote_amount_in",type:"u64"},{name:"user_base_token_reserves",type:"u64"},{name:"user_quote_token_reserves",type:"u64"},{name:"pool_base_token_reserves",type:"u64"},{name:"pool_quote_token_reserves",type:"u64"},{name:"base_amount_in",type:"u64"},{name:"quote_amount_in",type:"u64"},{name:"lp_mint_supply",type:"u64"},{name:"pool",type:"pubkey"},{name:"user",type:"pubkey"},{name:"user_base_token_account",type:"pubkey"},{name:"user_quote_token_account",type:"pubkey"},{name:"user_pool_token_account",type:"pubkey"}]}},{name:"DisableEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"admin",type:"pubkey"},{name:"disable_create_pool",type:"bool"},{name:"disable_deposit",type:"bool"},{name:"disable_withdraw",type:"bool"},{name:"disable_buy",type:"bool"},{name:"disable_sell",type:"bool"}]}},{name:"ExtendAccountEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"account",type:"pubkey"},{name:"user",type:"pubkey"},{name:"current_size",type:"u64"},{name:"new_size",type:"u64"}]}},{name:"FeeConfig",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"admin",type:"pubkey"},{name:"flat_fees",type:{defined:{name:"Fees"}}},{name:"fee_tiers",type:{vec:{defined:{name:"FeeTier"}}}}]}},{name:"FeeTier",type:{kind:"struct",fields:[{name:"market_cap_lamports_threshold",type:"u128"},{name:"fees",type:{defined:{name:"Fees"}}}]}},{name:"Fees",type:{kind:"struct",fields:[{name:"lp_fee_bps",type:"u64"},{name:"protocol_fee_bps",type:"u64"},{name:"creator_fee_bps",type:"u64"}]}},{name:"GlobalConfig",type:{kind:"struct",fields:[{name:"admin",docs:["The admin pubkey"],type:"pubkey"},{name:"lp_fee_basis_points",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"disable_flags",docs:["Flags to disable certain functionality","bit 0 - Disable create pool","bit 1 - Disable deposit","bit 2 - Disable withdraw","bit 3 - Disable buy","bit 4 - Disable sell"],type:"u8"},{name:"protocol_fee_recipients",docs:["Addresses of the protocol fee recipients"],type:{array:["pubkey",8]}},{name:"coin_creator_fee_basis_points",type:"u64"},{name:"admin_set_coin_creator_authority",docs:["The admin authority for setting coin creators"],type:"pubkey"}]}},{name:"GlobalVolumeAccumulator",type:{kind:"struct",fields:[{name:"start_time",type:"i64"},{name:"end_time",type:"i64"},{name:"seconds_in_a_day",type:"i64"},{name:"mint",type:"pubkey"},{name:"total_token_supply",type:{array:["u64",30]}},{name:"sol_volumes",type:{array:["u64",30]}}]}},{name:"InitUserVolumeAccumulatorEvent",type:{kind:"struct",fields:[{name:"payer",type:"pubkey"},{name:"user",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"OptionBool",type:{kind:"struct",fields:["bool"]}},{name:"Pool",type:{kind:"struct",fields:[{name:"pool_bump",type:"u8"},{name:"index",type:"u16"},{name:"creator",type:"pubkey"},{name:"base_mint",type:"pubkey"},{name:"quote_mint",type:"pubkey"},{name:"lp_mint",type:"pubkey"},{name:"pool_base_token_account",type:"pubkey"},{name:"pool_quote_token_account",type:"pubkey"},{name:"lp_supply",docs:["True circulating supply without burns and lock-ups"],type:"u64"},{name:"coin_creator",type:"pubkey"}]}},{name:"SellEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"base_amount_in",type:"u64"},{name:"min_quote_amount_out",type:"u64"},{name:"user_base_token_reserves",type:"u64"},{name:"user_quote_token_reserves",type:"u64"},{name:"pool_base_token_reserves",type:"u64"},{name:"pool_quote_token_reserves",type:"u64"},{name:"quote_amount_out",type:"u64"},{name:"lp_fee_basis_points",type:"u64"},{name:"lp_fee",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"protocol_fee",type:"u64"},{name:"quote_amount_out_without_lp_fee",type:"u64"},{name:"user_quote_amount_out",type:"u64"},{name:"pool",type:"pubkey"},{name:"user",type:"pubkey"},{name:"user_base_token_account",type:"pubkey"},{name:"user_quote_token_account",type:"pubkey"},{name:"protocol_fee_recipient",type:"pubkey"},{name:"protocol_fee_recipient_token_account",type:"pubkey"},{name:"coin_creator",type:"pubkey"},{name:"coin_creator_fee_basis_points",type:"u64"},{name:"coin_creator_fee",type:"u64"}]}},{name:"SetBondingCurveCoinCreatorEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"base_mint",type:"pubkey"},{name:"pool",type:"pubkey"},{name:"bonding_curve",type:"pubkey"},{name:"coin_creator",type:"pubkey"}]}},{name:"SetMetaplexCoinCreatorEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"base_mint",type:"pubkey"},{name:"pool",type:"pubkey"},{name:"metadata",type:"pubkey"},{name:"coin_creator",type:"pubkey"}]}},{name:"SyncUserVolumeAccumulatorEvent",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"total_claimed_tokens_before",type:"u64"},{name:"total_claimed_tokens_after",type:"u64"},{name:"timestamp",type:"i64"}]}},{name:"UpdateAdminEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"admin",type:"pubkey"},{name:"new_admin",type:"pubkey"}]}},{name:"UpdateFeeConfigEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"admin",type:"pubkey"},{name:"lp_fee_basis_points",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"protocol_fee_recipients",type:{array:["pubkey",8]}},{name:"coin_creator_fee_basis_points",type:"u64"},{name:"admin_set_coin_creator_authority",type:"pubkey"}]}},{name:"UserVolumeAccumulator",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"needs_claim",type:"bool"},{name:"total_unclaimed_tokens",type:"u64"},{name:"total_claimed_tokens",type:"u64"},{name:"current_sol_volume",type:"u64"},{name:"last_update_timestamp",type:"i64"},{name:"has_total_claimed_tokens",type:"bool"}]}},{name:"WithdrawEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"lp_token_amount_in",type:"u64"},{name:"min_base_amount_out",type:"u64"},{name:"min_quote_amount_out",type:"u64"},{name:"user_base_token_reserves",type:"u64"},{name:"user_quote_token_reserves",type:"u64"},{name:"pool_base_token_reserves",type:"u64"},{name:"pool_quote_token_reserves",type:"u64"},{name:"base_amount_out",type:"u64"},{name:"quote_amount_out",type:"u64"},{name:"lp_mint_supply",type:"u64"},{name:"pool",type:"pubkey"},{name:"user",type:"pubkey"},{name:"user_base_token_account",type:"pubkey"},{name:"user_quote_token_account",type:"pubkey"},{name:"user_pool_token_account",type:"pubkey"}]}}]},FO=class{program;connection;globalConfig=null;coder;constructor(e){this.program=new S$(FP,e),this.connection=e.connection,this.coder=new AY(this.program.idl),this.initializeGlobalConfig().catch(e=>{FE.warn("PumpSwapSDK: Failed to initialize global config",{error:e instanceof Error?e.message:String(e),code:e instanceof Error&&"code"in e?e.code:void 0})})}async initializeGlobalConfig(){for(let e=1;e<=3;e++)try{let t=await this.fetchGlobalConfig();this.globalConfig=t,FE.info("PumpSwapSDK: Global config fetched successfully",{attempt:e,admin:t.admin.toBase58()});return}catch(t){if(FE.warn(`PumpSwapSDK: Global config fetch attempt ${e} failed`,{error:t instanceof Error?t.message:String(t),code:t instanceof Error&&"code"in t?t.code:void 0}),3===e){FE.error("PumpSwapSDK: All attempts to fetch global config failed",{error:t instanceof Error?t.message:String(t),code:t instanceof Error&&"code"in t?t.code:void 0});return}await new Promise(t=>setTimeout(t,1e3*e))}}async getBuyInstruction(e,t,r,n,i={}){let o=i.poolInfo?Promise.resolve(i.poolInfo):this.fetchPool(t),a=i.globalConfig?Promise.resolve(i.globalConfig):this.fetchGlobalConfig(),[s,u]=await Promise.all([o,a]),l=await this.getFeeRecipient(u),c=this.coinCreatorVaultAuthorityPda(s.coinCreator),[d,p,f,h]=await Promise.all([I7(s.baseMint,e),I7(s.quoteMint,e),I7(s.quoteMint,l,!0),I7(s.quoteMint,c,!0)]),m=this.program.methods.buy(new(ed(d0))(r.toString()),new(ed(d0))(n.toString()),{0:!1}).accountsPartial({pool:t,user:e,globalConfig:this.globalConfigPda(),baseMint:s.baseMint,quoteMint:s.quoteMint,userBaseTokenAccount:d,userQuoteTokenAccount:p,poolBaseTokenAccount:s.poolBaseTokenAccount,poolQuoteTokenAccount:s.poolQuoteTokenAccount,protocolFeeRecipient:l,protocolFeeRecipientTokenAccount:f,baseTokenProgram:SX,quoteTokenProgram:SX,coinCreatorVaultAta:h,coinCreatorVaultAuthority:c}),g=await m.instruction();return g}async getSellInstruction(e,t,r,n,i={}){let o=i.poolInfo?Promise.resolve(i.poolInfo):this.fetchPool(t),a=i.globalConfig?Promise.resolve(i.globalConfig):this.fetchGlobalConfig(),[s,u]=await Promise.all([o,a]),l=await this.getFeeRecipient(u),c=this.coinCreatorVaultAuthorityPda(s.coinCreator),[d,p,f,h]=await Promise.all([I7(s.baseMint,e),I7(s.quoteMint,e),I7(s.quoteMint,l,!0),I7(s.quoteMint,c,!0)]),m=this.program.methods.sell(new(ed(d0))(r.toString()),new(ed(d0))(n.toString())).accountsPartial({pool:t,user:e,globalConfig:this.globalConfigPda(),baseMint:s.baseMint,quoteMint:s.quoteMint,userBaseTokenAccount:d,userQuoteTokenAccount:p,poolBaseTokenAccount:s.poolBaseTokenAccount,poolQuoteTokenAccount:s.poolQuoteTokenAccount,protocolFeeRecipientTokenAccount:f,protocolFeeRecipient:l,baseTokenProgram:SX,quoteTokenProgram:SX,coinCreatorVaultAta:h,coinCreatorVaultAuthority:c}),g=await m.instruction();return g}async quoteBuy(e,t,r){let n,i;if(0n===t)return 0n;if(r)({baseTokenAmount:n,quoteTokenAmount:i}=r);else{let t=await this.fetchPool(e),[r,o]=await Promise.all([this.connection.getTokenAccountBalance(t.poolBaseTokenAccount),this.connection.getTokenAccountBalance(t.poolQuoteTokenAccount)]);n=BigInt(r.value.amount),i=BigInt(o.value.amount)}let o=n*i,a=i+t*(10000n-10n)/10000n,s=n-(o/a+1n);return s>0n?s:0n}async quoteSell(e,t,r){let n,i;if(0n===t)return 0n;if(r)({baseTokenAmount:n,quoteTokenAmount:i}=r);else{let t=await this.fetchPool(e),[r,o]=await Promise.all([this.connection.getTokenAccountBalance(t.poolBaseTokenAccount),this.connection.getTokenAccountBalance(t.poolQuoteTokenAccount)]);n=BigInt(r.value.amount),i=BigInt(o.value.amount)}if(t>=n)return 0n;let o=n*i,a=n+t,s=i-o/a;if(s<=0n)return 0n;let u=s-20n*s/10000n-10n*s/10000n-1n;return u>0n?u:0n}applySlippage(e,t){return t<=0n?e:e-e*t/10000n}globalConfigPda(){let[e]=ho.findProgramAddressSync([Fl.from("global_config")],this.program.programId);return e}coinCreatorVaultAuthorityPda(e){let[t]=ho.findProgramAddressSync([Fl.from("creator_vault"),e.toBuffer()],this.program.programId);return t}async fetchGlobalConfig(e=Ff){try{if(this.globalConfig)return this.globalConfig;let t=this.globalConfigPda();return FE.debug("PumpSwapSDK: Fetching global config",{globalConfigPda:t.toBase58(),commitment:e}),await this.program.account.globalConfig.fetch(t,e)}catch(n){let t=n instanceof Error?n.message:String(n),r=n instanceof Error&&"code"in n?n.code:void 0;throw FE.error("PumpSwapSDK: Global config fetch failed",{error:t,code:r,globalConfigPda:this.globalConfigPda().toBase58(),commitment:e}),new F_(`Global config not found: ${t}`,Fv.INVALID_CONFIG,{globalConfigPda:this.globalConfigPda().toBase58(),commitment:e,originalError:t})}}async fetchPool(e,t=Ff){try{return await this.program.account.pool.fetch(e,t)}catch{throw new F_("Pool not found",Fv.AMM_NOT_FOUND,{poolAddress:e.toBase58()})}}async getFeeRecipient(e){if(e||(e=await this.fetchGlobalConfig()),!e||!e.protocolFeeRecipients?.length)throw new F_("Global config not found or has no fee recipients",Fv.INVALID_CONFIG);let t=e.protocolFeeRecipients,r=Math.floor(Math.random()*t.length);return t[r]}},FB={address:"675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8",metadata:{name:"raydium_amm",version:"0.3.0",spec:"0.1.0"},instructions:[{name:"swap_base_in",discriminator:[42,236,72,162,242,24,39,84],accounts:[{name:"token_program"},{name:"amm",writable:!0},{name:"amm_authority"},{name:"amm_open_orders",writable:!0},{name:"amm_target_orders",writable:!0},{name:"pool_coin_token_account",writable:!0},{name:"pool_pc_token_account",writable:!0},{name:"serum_program"},{name:"serum_market",writable:!0},{name:"serum_bids",writable:!0},{name:"serum_asks",writable:!0},{name:"serum_event_queue",writable:!0},{name:"serum_coin_vault_account",writable:!0},{name:"serum_pc_vault_account",writable:!0},{name:"serum_vault_signer"},{name:"uer_source_token_account",writable:!0},{name:"uer_destination_token_account",writable:!0},{name:"user_source_owner",signer:!0}],args:[{name:"amount_in",type:"u64"},{name:"minimum_amount_out",type:"u64"}]}],accounts:[{name:"TargetOrders",discriminator:[113,225,140,255,65,144,239,231]},{name:"Fees",discriminator:[151,157,50,115,130,72,179,36]},{name:"AmmInfo",discriminator:[33,217,2,203,184,83,235,91]}],errors:[{code:0,name:"AlreadyInUse",msg:"AlreadyInUse"},{code:1,name:"InvalidProgramAddress",msg:"InvalidProgramAddress"},{code:2,name:"ExpectedMint",msg:"ExpectedMint"},{code:3,name:"ExpectedAccount",msg:"ExpectedAccount"},{code:4,name:"InvalidCoinVault",msg:"InvalidCoinVault"},{code:5,name:"InvalidPCVault",msg:"InvalidPCVault"},{code:6,name:"InvalidTokenLP",msg:"InvalidTokenLP"},{code:7,name:"InvalidDestTokenCoin",msg:"InvalidDestTokenCoin"},{code:8,name:"InvalidDestTokenPC",msg:"InvalidDestTokenPC"},{code:9,name:"InvalidPoolMint",msg:"InvalidPoolMint"},{code:10,name:"InvalidOpenOrders",msg:"InvalidOpenOrders"},{code:11,name:"InvalidSerumMarket",msg:"InvalidSerumMarket"},{code:12,name:"InvalidSerumProgram",msg:"InvalidSerumProgram"},{code:13,name:"InvalidTargetOrders",msg:"InvalidTargetOrders"},{code:14,name:"InvalidWithdrawQueue",msg:"InvalidWithdrawQueue"},{code:15,name:"InvalidTempLp",msg:"InvalidTempLp"},{code:16,name:"InvalidCoinMint",msg:"InvalidCoinMint"},{code:17,name:"InvalidPCMint",msg:"InvalidPCMint"},{code:18,name:"InvalidOwner",msg:"InvalidOwner"},{code:19,name:"InvalidSupply",msg:"InvalidSupply"},{code:20,name:"InvalidDelegate",msg:"InvalidDelegate"},{code:21,name:"InvalidSignAccount",msg:"Invalid Sign Account"},{code:22,name:"InvalidStatus",msg:"InvalidStatus"},{code:23,name:"InvalidInstruction",msg:"Invalid instruction"},{code:24,name:"WrongAccountsNumber",msg:"Wrong accounts number"},{code:25,name:"WithdrawTransferBusy",msg:"Withdraw_transfer is busy"},{code:26,name:"WithdrawQueueFull",msg:"WithdrawQueue is full"},{code:27,name:"WithdrawQueueEmpty",msg:"WithdrawQueue is empty"},{code:28,name:"InvalidParamsSet",msg:"Params Set is invalid"},{code:29,name:"InvalidInput",msg:"InvalidInput"},{code:30,name:"ExceededSlippage",msg:"instruction exceeds desired slippage limit"},{code:31,name:"CalculationExRateFailure",msg:"CalculationExRateFailure"},{code:32,name:"CheckedSubOverflow",msg:"Checked_Sub Overflow"},{code:33,name:"CheckedAddOverflow",msg:"Checked_Add Overflow"},{code:34,name:"CheckedMulOverflow",msg:"Checked_Mul Overflow"},{code:35,name:"CheckedDivOverflow",msg:"Checked_Div Overflow"},{code:36,name:"CheckedEmptyFunds",msg:"Empty Funds"},{code:37,name:"CalcPnlError",msg:"Calc pnl error"},{code:38,name:"InvalidSplTokenProgram",msg:"InvalidSplTokenProgram"},{code:39,name:"TakePnlError",msg:"Take Pnl error"},{code:40,name:"InsufficientFunds",msg:"Insufficient funds"},{code:41,name:"ConversionFailure",msg:"Conversion to u64 failed with an overflow or underflow"},{code:42,name:"InvalidUserToken",msg:"user token input does not match amm"},{code:43,name:"InvalidSrmMint",msg:"InvalidSrmMint"},{code:44,name:"InvalidSrmToken",msg:"InvalidSrmToken"},{code:45,name:"TooManyOpenOrders",msg:"TooManyOpenOrders"},{code:46,name:"OrderAtSlotIsPlaced",msg:"OrderAtSlotIsPlaced"},{code:47,name:"InvalidSysProgramAddress",msg:"InvalidSysProgramAddress"},{code:48,name:"InvalidFee",msg:"The provided fee does not match the program owner's constraints"},{code:49,name:"RepeatCreateAmm",msg:"Repeat create amm about market"},{code:50,name:"NotAllowZeroLP",msg:"Not allow Zero LP"},{code:51,name:"InvalidCloseAuthority",msg:"Token account has a close authority"},{code:52,name:"InvalidFreezeAuthority",msg:"Pool token mint has a freeze authority"},{code:53,name:"InvalidReferPCMint",msg:"InvalidReferPCMint"},{code:54,name:"InvalidConfigAccount",msg:"InvalidConfigAccount"},{code:55,name:"RepeatCreateConfigAccount",msg:"Repeat create staking config account"},{code:56,name:"UnknownAmmError",msg:"Unknown Amm Error"}],types:[{name:"WithdrawDestToken",type:{kind:"struct",fields:[{name:"withdraw_amount",type:"u64"},{name:"coin_amount",type:"u64"},{name:"pc_amount",type:"u64"},{name:"dest_token_coin",type:"pubkey"},{name:"dest_token_pc",type:"pubkey"}]}},{name:"WithdrawQueue",type:{kind:"struct",fields:[{name:"owner",type:{array:["u64",4]}},{name:"head",type:"u64"},{name:"count",type:"u64"},{name:"buf",type:{array:[{defined:{name:"WithdrawDestToken"}},64]}}]}},{name:"TargetOrder",type:{kind:"struct",fields:[{name:"price",type:"u64"},{name:"vol",type:"u64"}]}},{name:"OutPutData",type:{kind:"struct",fields:[{name:"need_take_pnl_coin",type:"u64"},{name:"need_take_pnl_pc",type:"u64"},{name:"total_pnl_pc",type:"u64"},{name:"total_pnl_coin",type:"u64"},{name:"pool_open_time",type:"u64"},{name:"punish_pc_amount",type:"u64"},{name:"punish_coin_amount",type:"u64"},{name:"orderbook_to_init_time",type:"u64"},{name:"swap_coin_in_amount",type:"u128"},{name:"swap_pc_out_amount",type:"u128"},{name:"swap_take_pc_fee",type:"u64"},{name:"swap_pc_in_amount",type:"u128"},{name:"swap_coin_out_amount",type:"u128"},{name:"swap_take_coin_fee",type:"u64"}]}},{name:"AmmConfig",type:{kind:"struct",fields:[{name:"pnl_owner",type:"pubkey"},{name:"cancel_owner",type:"pubkey"},{name:"pending1",type:{array:["u64",28]}},{name:"pending2",type:{array:["u64",32]}}]}},{name:"LastOrderDistance",type:{kind:"struct",fields:[{name:"last_order_numerator",type:"u64"},{name:"last_order_denominator",type:"u64"}]}},{name:"NeedTake",type:{kind:"struct",fields:[{name:"need_take_pc",type:"u64"},{name:"need_take_coin",type:"u64"}]}},{name:"SwapInstructionBaseIn",type:{kind:"struct",fields:[{name:"amount_in",type:"u64"},{name:"minimum_amount_out",type:"u64"}]}},{name:"SwapInstructionBaseOut",type:{kind:"struct",fields:[{name:"max_amount_in",type:"u64"},{name:"amount_out",type:"u64"}]}},{name:"TargetOrders",type:{kind:"struct",fields:[{name:"owner",type:{array:["u64",4]}},{name:"buy_orders",type:{array:[{defined:{name:"TargetOrder"}},50]}},{name:"padding1",type:{array:["u64",8]}},{name:"target_x",type:"u128"},{name:"target_y",type:"u128"},{name:"plan_x_buy",type:"u128"},{name:"plan_y_buy",type:"u128"},{name:"plan_x_sell",type:"u128"},{name:"plan_y_sell",type:"u128"},{name:"placed_x",type:"u128"},{name:"placed_y",type:"u128"},{name:"calc_pnl_x",type:"u128"},{name:"calc_pnl_y",type:"u128"},{name:"sell_orders",type:{array:[{defined:{name:"TargetOrder"}},50]}},{name:"padding2",type:{array:["u64",6]}},{name:"replace_buy_client_id",type:{array:["u64",10]}},{name:"replace_sell_client_id",type:{array:["u64",10]}},{name:"last_order_numerator",type:"u64"},{name:"last_order_denominator",type:"u64"},{name:"plan_orders_cur",type:"u64"},{name:"place_orders_cur",type:"u64"},{name:"valid_buy_order_num",type:"u64"},{name:"valid_sell_order_num",type:"u64"},{name:"padding3",type:{array:["u64",10]}},{name:"free_slot_bits",type:"u128"}]}},{name:"Fees",type:{kind:"struct",fields:[{name:"min_separate_numerator",type:"u64"},{name:"min_separate_denominator",type:"u64"},{name:"trade_fee_numerator",type:"u64"},{name:"trade_fee_denominator",type:"u64"},{name:"pnl_numerator",type:"u64"},{name:"pnl_denominator",type:"u64"},{name:"swap_fee_numerator",type:"u64"},{name:"swap_fee_denominator",type:"u64"}]}},{name:"AmmInfo",type:{kind:"struct",fields:[{name:"status",type:"u64"},{name:"nonce",type:"u64"},{name:"order_num",type:"u64"},{name:"depth",type:"u64"},{name:"coin_decimals",type:"u64"},{name:"pc_decimals",type:"u64"},{name:"state",type:"u64"},{name:"reset_flag",type:"u64"},{name:"min_size",type:"u64"},{name:"vol_max_cut_ratio",type:"u64"},{name:"amount_wave",type:"u64"},{name:"coin_lot_size",type:"u64"},{name:"pc_lot_size",type:"u64"},{name:"min_price_multiplier",type:"u64"},{name:"max_price_multiplier",type:"u64"},{name:"sys_decimal_value",type:"u64"},{name:"fees",type:{defined:{name:"Fees"}}},{name:"out_put",type:{defined:{name:"OutPutData"}}},{name:"token_coin",type:"pubkey"},{name:"token_pc",type:"pubkey"},{name:"coin_mint",type:"pubkey"},{name:"pc_mint",type:"pubkey"},{name:"lp_mint",type:"pubkey"},{name:"open_orders",type:"pubkey"},{name:"market",type:"pubkey"},{name:"serum_dex",type:"pubkey"},{name:"target_orders",type:"pubkey"},{name:"withdraw_queue",type:"pubkey"},{name:"token_temp_lp",type:"pubkey"},{name:"amm_owner",type:"pubkey"},{name:"lp_amount",type:"u64"},{name:"client_order_id",type:"u64"},{name:"padding",type:{array:["u64",2]}}]}}]},FC=class{program;connection;coder;constructor(e){this.program=new S$(FB,e),this.connection=e.connection,this.coder=new AY(this.program.idl)}async getSwapBaseInInstruction(e,t,r,n,i,o,a){let s=a??await this.fetchAmmv4ExtraParams(t.toString()),u=await I7(i,e),l=await I7(o,e),c=this.program.methods.swapBaseIn(r,n).accountsPartial({tokenProgram:SX,amm:t,ammAuthority:s.authority,ammOpenOrders:s.openOrders,ammTargetOrders:s.targetOrders,poolCoinTokenAccount:s.mintAVault,poolPcTokenAccount:s.mintBVault,serumProgram:s.marketProgramId,serumMarket:s.marketId,serumBids:s.marketBids,serumAsks:s.marketAsks,serumEventQueue:s.marketEventQueue,serumCoinVaultAccount:s.marketBaseVault,serumPcVaultAccount:s.marketQuoteVault,serumVaultSigner:s.marketAuthority,uerSourceTokenAccount:u,uerDestinationTokenAccount:l,userSourceOwner:e}),d=await c.instruction(),p=d.data.subarray(8),f=Fl.concat([Fl.from([9]),p]),h=new hI({programId:d.programId,keys:d.keys,data:f});return h}async computeAmountOut(e,t,r,n){let i=await Fm(this.connection),o=i.liquidity.computeAmountOut({poolInfo:e,amountIn:new(ed(d0))(t),mintIn:r,mintOut:n,slippage:0});return o}applySlippage(e,t){return t.lte(new(ed(d0))(0))?e:e.sub(e.mul(t).div(new(ed(d0))(1e4)))}async fetchAmmv4ExtraParams(e){let t=await Fm(this.connection),[r,n]=await Promise.all([t.liquidity.getAmmPoolKeys(e),t.liquidity.getRpcPoolInfo(e)]);return{authority:new ho(r.authority),marketProgramId:new ho(r.marketProgramId),marketAsks:new ho(r.marketAsks),marketBids:new ho(r.marketBids),marketAuthority:new ho(r.marketAuthority),marketBaseVault:new ho(r.marketBaseVault),marketQuoteVault:new ho(r.marketQuoteVault),marketEventQueue:new ho(r.marketEventQueue),marketId:new ho(r.marketId),mintA:new ho(r.mintA.address),mintB:new ho(r.mintB.address),mintADecimals:r.mintA.decimals,mintBDecimals:r.mintB.decimals,mintAVault:new ho(r.vault.A),mintBVault:new ho(r.vault.B),openOrders:new ho(r.openOrders),targetOrders:new ho(r.targetOrders),baseReserve:n.baseReserve,quoteReserve:n.quoteReserve,status:n.status.toNumber()}}},FR={address:"CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C",metadata:{name:"raydium_cp_swap",version:"0.2.0",spec:"0.1.0",description:"Raydium constant product AMM, supports Token2022 and without Openbook"},instructions:[{name:"swap_base_input",docs:["Swap the tokens in the pool base input amount","","# Arguments","","* `ctx`- The context of accounts","* `amount_in` -  input amount to transfer, output to DESTINATION is based on the exchange rate","* `minimum_amount_out` -  Minimum amount of output token, prevents excessive slippage",""],discriminator:[143,190,90,218,196,30,51,222],accounts:[{name:"payer",docs:["The user performing the swap"],signer:!0},{name:"authority",pda:{seeds:[{kind:"const",value:[118,97,117,108,116,95,97,110,100,95,108,112,95,109,105,110,116,95,97,117,116,104,95,115,101,101,100]}]}},{name:"amm_config",docs:["The factory state to read protocol fees"]},{name:"pool_state",docs:["The program account of the pool in which the swap will be performed"],writable:!0},{name:"input_token_account",docs:["The user token account for input token"],writable:!0},{name:"output_token_account",docs:["The user token account for output token"],writable:!0},{name:"input_vault",docs:["The vault token account for input token"],writable:!0},{name:"output_vault",docs:["The vault token account for output token"],writable:!0},{name:"input_token_program",docs:["SPL program for input token transfers"]},{name:"output_token_program",docs:["SPL program for output token transfers"]},{name:"input_token_mint",docs:["The mint of input token"]},{name:"output_token_mint",docs:["The mint of output token"]},{name:"observation_state",docs:["The program account for the most recent oracle observation"],writable:!0}],args:[{name:"amount_in",type:"u64"},{name:"minimum_amount_out",type:"u64"}]},{name:"swap_base_output",docs:["Swap the tokens in the pool base output amount","","# Arguments","","* `ctx`- The context of accounts","* `max_amount_in` -  input amount prevents excessive slippage","* `amount_out` -  amount of output token",""],discriminator:[55,217,98,86,163,74,180,173],accounts:[{name:"payer",docs:["The user performing the swap"],signer:!0},{name:"authority",pda:{seeds:[{kind:"const",value:[118,97,117,108,116,95,97,110,100,95,108,112,95,109,105,110,116,95,97,117,116,104,95,115,101,101,100]}]}},{name:"amm_config",docs:["The factory state to read protocol fees"]},{name:"pool_state",docs:["The program account of the pool in which the swap will be performed"],writable:!0},{name:"input_token_account",docs:["The user token account for input token"],writable:!0},{name:"output_token_account",docs:["The user token account for output token"],writable:!0},{name:"input_vault",docs:["The vault token account for input token"],writable:!0},{name:"output_vault",docs:["The vault token account for output token"],writable:!0},{name:"input_token_program",docs:["SPL program for input token transfers"]},{name:"output_token_program",docs:["SPL program for output token transfers"]},{name:"input_token_mint",docs:["The mint of input token"]},{name:"output_token_mint",docs:["The mint of output token"]},{name:"observation_state",docs:["The program account for the most recent oracle observation"],writable:!0}],args:[{name:"max_amount_in",type:"u64"},{name:"amount_out",type:"u64"}]}],accounts:[{name:"AmmConfig",discriminator:[218,244,33,104,203,203,43,111]},{name:"ObservationState",discriminator:[122,174,197,53,129,9,165,132]},{name:"PoolState",discriminator:[247,237,227,245,215,195,222,70]}],events:[{name:"LpChangeEvent",discriminator:[121,163,205,201,57,218,117,60]},{name:"SwapEvent",discriminator:[64,198,205,232,38,8,113,226]}],errors:[{code:6e3,name:"NotApproved",msg:"Not approved"},{code:6001,name:"InvalidOwner",msg:"Input account owner is not the program address"},{code:6002,name:"EmptySupply",msg:"Input token account empty"},{code:6003,name:"InvalidInput",msg:"InvalidInput"},{code:6004,name:"IncorrectLpMint",msg:"Address of the provided lp token mint is incorrect"},{code:6005,name:"ExceededSlippage",msg:"Exceeds desired slippage limit"},{code:6006,name:"ZeroTradingTokens",msg:"Given pool token amount results in zero trading tokens"},{code:6007,name:"NotSupportMint",msg:"Not support token_2022 mint extension"},{code:6008,name:"InvalidVault",msg:"invaild vault"},{code:6009,name:"InitLpAmountTooLess",msg:"Init lp amount is too less(Because 100 amount lp will be locked)"},{code:6010,name:"TransferFeeCalculateNotMatch",msg:"TransferFee calculate not match"}],types:[{name:"AmmConfig",docs:["Holds the current owner of the factory"],type:{kind:"struct",fields:[{name:"bump",docs:["Bump to identify PDA"],type:"u8"},{name:"disable_create_pool",docs:["Status to control if new pool can be create"],type:"bool"},{name:"index",docs:["Config index"],type:"u16"},{name:"trade_fee_rate",docs:["The trade fee, denominated in hundredths of a bip (10^-6)"],type:"u64"},{name:"protocol_fee_rate",docs:["The protocol fee"],type:"u64"},{name:"fund_fee_rate",docs:["The fund fee, denominated in hundredths of a bip (10^-6)"],type:"u64"},{name:"create_pool_fee",docs:["Fee for create a new pool"],type:"u64"},{name:"protocol_owner",docs:["Address of the protocol fee owner"],type:"pubkey"},{name:"fund_owner",docs:["Address of the fund fee owner"],type:"pubkey"},{name:"padding",docs:["padding"],type:{array:["u64",16]}}]}},{name:"LpChangeEvent",docs:["Emitted when deposit and withdraw"],type:{kind:"struct",fields:[{name:"pool_id",type:"pubkey"},{name:"lp_amount_before",type:"u64"},{name:"token_0_vault_before",docs:["pool vault sub trade fees"],type:"u64"},{name:"token_1_vault_before",docs:["pool vault sub trade fees"],type:"u64"},{name:"token_0_amount",docs:["calculate result without transfer fee"],type:"u64"},{name:"token_1_amount",docs:["calculate result without transfer fee"],type:"u64"},{name:"token_0_transfer_fee",type:"u64"},{name:"token_1_transfer_fee",type:"u64"},{name:"change_type",type:"u8"}]}},{name:"Observation",docs:["The element of observations in ObservationState"],serialization:"bytemuckunsafe",repr:{kind:"c",packed:!0},type:{kind:"struct",fields:[{name:"block_timestamp",docs:["The block timestamp of the observation"],type:"u64"},{name:"cumulative_token_0_price_x32",docs:["the cumulative of token0 price during the duration time, Q32.32, the remaining 64 bit for overflow"],type:"u128"},{name:"cumulative_token_1_price_x32",docs:["the cumulative of token1 price during the duration time, Q32.32, the remaining 64 bit for overflow"],type:"u128"}]}},{name:"ObservationState",serialization:"bytemuckunsafe",repr:{kind:"c",packed:!0},type:{kind:"struct",fields:[{name:"initialized",docs:["Whether the ObservationState is initialized"],type:"bool"},{name:"observation_index",docs:["the most-recently updated index of the observations array"],type:"u16"},{name:"pool_id",type:"pubkey"},{name:"observations",docs:["observation array"],type:{array:[{defined:{name:"Observation"}},100]}},{name:"padding",docs:["padding for feature update"],type:{array:["u64",4]}}]}},{name:"PoolState",serialization:"bytemuckunsafe",repr:{kind:"c",packed:!0},type:{kind:"struct",fields:[{name:"amm_config",docs:["Which config the pool belongs"],type:"pubkey"},{name:"pool_creator",docs:["pool creator"],type:"pubkey"},{name:"token_0_vault",docs:["Token A"],type:"pubkey"},{name:"token_1_vault",docs:["Token B"],type:"pubkey"},{name:"lp_mint",docs:["Pool tokens are issued when A or B tokens are deposited.","Pool tokens can be withdrawn back to the original A or B token."],type:"pubkey"},{name:"token_0_mint",docs:["Mint information for token A"],type:"pubkey"},{name:"token_1_mint",docs:["Mint information for token B"],type:"pubkey"},{name:"token_0_program",docs:["token_0 program"],type:"pubkey"},{name:"token_1_program",docs:["token_1 program"],type:"pubkey"},{name:"observation_key",docs:["observation account to store oracle data"],type:"pubkey"},{name:"auth_bump",type:"u8"},{name:"status",docs:["Bitwise representation of the state of the pool","bit0, 1: disable deposit(value is 1), 0: normal","bit1, 1: disable withdraw(value is 2), 0: normal","bit2, 1: disable swap(value is 4), 0: normal"],type:"u8"},{name:"lp_mint_decimals",type:"u8"},{name:"mint_0_decimals",docs:["mint0 and mint1 decimals"],type:"u8"},{name:"mint_1_decimals",type:"u8"},{name:"lp_supply",docs:["True circulating supply without burns and lock ups"],type:"u64"},{name:"protocol_fees_token_0",docs:["The amounts of token_0 and token_1 that are owed to the liquidity provider."],type:"u64"},{name:"protocol_fees_token_1",type:"u64"},{name:"fund_fees_token_0",type:"u64"},{name:"fund_fees_token_1",type:"u64"},{name:"open_time",docs:["The timestamp allowed for swap in the pool."],type:"u64"},{name:"recent_epoch",docs:["recent epoch"],type:"u64"},{name:"padding",docs:["padding for future updates"],type:{array:["u64",31]}}]}},{name:"SwapEvent",docs:["Emitted when swap"],type:{kind:"struct",fields:[{name:"pool_id",type:"pubkey"},{name:"input_vault_before",docs:["pool vault sub trade fees"],type:"u64"},{name:"output_vault_before",docs:["pool vault sub trade fees"],type:"u64"},{name:"input_amount",docs:["calculate result without transfer fee"],type:"u64"},{name:"output_amount",docs:["calculate result without transfer fee"],type:"u64"},{name:"input_transfer_fee",type:"u64"},{name:"output_transfer_fee",type:"u64"},{name:"base_input",type:"bool"}]}}]},FM=class{program;connection;coder;constructor(e){this.program=new S$(FR,e),this.connection=e.connection,this.coder=new AY(this.program.idl)}async getSwapBaseInputInstruction(e,t,r,n,i,o,a){let s=a??await this.fetchCpmmExtraParams(t,r,n),u=await I7(s.inputTokenMint,e),l=await I7(s.outputTokenMint,e),c=this.program.methods.swapBaseInput(i,o).accountsPartial({payer:e,authority:this.deriveAuthority(),ammConfig:s.ammConfig,poolState:t,inputTokenAccount:u,outputTokenAccount:l,inputVault:s.inputVault,outputVault:s.outputVault,inputTokenProgram:SX,outputTokenProgram:SX,inputTokenMint:s.inputTokenMint,outputTokenMint:s.outputTokenMint,observationState:s.observationState}),d=await c.instruction();return d}applySlippage(e,t){return t.lte(new(ed(d0))(0))?e:e.sub(e.mul(t).div(new(ed(d0))(1e4)))}deriveAuthority(){let[e]=ho.findProgramAddressSync([Fp],this.program.programId);return e}async fetchCpmmExtraParams(e,t,r){let n=await Fm(this.connection),i=await n.api.fetchPoolById({ids:e.toBase58()}),o=i[0],a=await n.cpmm.getRpcPoolInfo(o.id,!0);if(!a.configInfo)throw new F_("Cpmm config info not found",Fv.INVALID_PARAMS);let s={[a.mintA.toBase58()]:a.vaultA,[a.mintB.toBase58()]:a.vaultB},u=s[t.toBase58()],l=s[r.toBase58()],c={[a.mintA.toBase58()]:a.baseReserve,[a.mintB.toBase58()]:a.quoteReserve},d=c[t.toBase58()],p=c[r.toBase58()];return{authority:this.deriveAuthority(),ammConfig:a.configId,inputVault:u,outputVault:l,inputTokenMint:t,outputTokenMint:r,observationState:a.observationId,tradeFeeRate:a.configInfo.tradeFeeRate,baseReserve:d,quoteReserve:p}}},FL={accounts:[{discriminator:[149,8,156,202,160,252,176,217],name:"GlobalConfig"},{discriminator:[160,78,128,0,248,83,230,160],name:"PlatformConfig"},{discriminator:[247,237,227,245,215,195,222,70],name:"PoolState"},{discriminator:[106,243,221,205,230,126,85,83],name:"VestingRecord"}],address:"LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj",errors:[{code:6e3,msg:"Not approved",name:"NotApproved"},{code:6001,msg:"Input account owner is not the program address",name:"InvalidOwner"},{code:6002,msg:"InvalidInput",name:"InvalidInput"},{code:6003,msg:"The input params are not match with curve type in config",name:"InputNotMatchCurveConfig"},{code:6004,msg:"Exceeds desired slippage limit",name:"ExceededSlippage"},{code:6005,msg:"Pool funding",name:"PoolFunding"},{code:6006,msg:"Pool migrated",name:"PoolMigrated"},{code:6007,msg:"Migrate type not match",name:"MigrateTypeNotMatch"},{code:6008,msg:"Math overflow",name:"MathOverflow"},{code:6009,msg:"No assets to collect",name:"NoAssetsToCollect"},{code:6010,msg:"Vesting ratio too high",name:"VestingRatioTooHigh"},{code:6011,msg:"Vesting setting ended",name:"VestingSettingEnded"},{code:6012,msg:"Vesting not started",name:"VestingNotStarted"},{code:6013,msg:"No vesting schedule",name:"NoVestingSchedule"},{code:6014,msg:"The platform info input is invalid",name:"InvalidPlatformInfo"},{code:6015,msg:"Pool not migrated",name:"PoolNotMigrated"},{code:6016,msg:"The input cp swap config account is invalid",name:"InvalidCpSwapConfig"},{code:6017,msg:"No support extension",name:"NoSupportExtension"},{code:6018,msg:"Not enough remaining accounts",name:"NotEnoughRemainingAccounts"},{code:6019,msg:"TransferFee calculate not match",name:"TransferFeeCalculateNotMatch"},{code:6020,msg:"Curve param is not exist",name:"CurveParamIsNotExist"}],events:[{discriminator:[21,194,114,87,120,211,226,32],name:"ClaimVestedEvent"},{discriminator:[150,152,11,179,52,210,191,125],name:"CreateVestingEvent"},{discriminator:[151,215,226,9,118,161,115,174],name:"PoolCreateEvent"},{discriminator:[189,219,127,211,78,230,97,238],name:"TradeEvent"}],instructions:[{accounts:[{docs:["The user performing the swap operation","Must sign the transaction and pay for fees"],name:"payer",signer:!0},{docs:["PDA that acts as the authority for pool vault operations","Generated using AUTH_SEED"],name:"authority",pda:{seeds:[{kind:"const",value:[118,97,117,108,116,95,97,117,116,104,95,115,101,101,100]}]}},{docs:["Global configuration account containing protocol-wide settings","Used to read protocol fee rates and curve type"],name:"global_config"},{docs:["Platform configuration account containing platform-wide settings","Used to read platform fee rate"],name:"platform_config"},{docs:["The pool state account where the swap will be performed","Contains current pool parameters and balances"],name:"pool_state",writable:!0},{docs:["The user's token account for base tokens (tokens being bought)","Will receive the output tokens after the swap"],name:"user_base_token",writable:!0},{docs:["The user's token account for quote tokens (tokens being sold)","Will be debited for the input amount"],name:"user_quote_token",writable:!0},{docs:["The pool's vault for base tokens","Will be debited to send tokens to the user"],name:"base_vault",writable:!0},{docs:["The pool's vault for quote tokens","Will receive the input tokens from the user"],name:"quote_vault",writable:!0},{docs:["The mint of the base token","Used for transfer fee calculations if applicable"],name:"base_token_mint"},{docs:["The mint of the quote token"],name:"quote_token_mint"},{docs:["SPL Token program for base token transfers"],name:"base_token_program"},{address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",docs:["SPL Token program for quote token transfers"],name:"quote_token_program"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"amount_in",type:"u64"},{name:"minimum_amount_out",type:"u64"},{name:"share_fee_rate",type:"u64"}],discriminator:[250,234,13,123,213,156,19,236],docs:["Use the given amount of quote tokens to purchase base tokens.","# Arguments","","* `ctx` - The context of accounts","* `amount_in` - Amount of quote token to purchase","* `minimum_amount_out` - Minimum amount of base token to receive (slippage protection)","* `share_fee_rate` - Fee rate for the share",""],name:"buy_exact_in"},{accounts:[{docs:["The user performing the swap operation","Must sign the transaction and pay for fees"],name:"payer",signer:!0},{docs:["PDA that acts as the authority for pool vault operations","Generated using AUTH_SEED"],name:"authority",pda:{seeds:[{kind:"const",value:[118,97,117,108,116,95,97,117,116,104,95,115,101,101,100]}]}},{docs:["Global configuration account containing protocol-wide settings","Used to read protocol fee rates and curve type"],name:"global_config"},{docs:["Platform configuration account containing platform-wide settings","Used to read platform fee rate"],name:"platform_config"},{docs:["The pool state account where the swap will be performed","Contains current pool parameters and balances"],name:"pool_state",writable:!0},{docs:["The user's token account for base tokens (tokens being bought)","Will receive the output tokens after the swap"],name:"user_base_token",writable:!0},{docs:["The user's token account for quote tokens (tokens being sold)","Will be debited for the input amount"],name:"user_quote_token",writable:!0},{docs:["The pool's vault for base tokens","Will be debited to send tokens to the user"],name:"base_vault",writable:!0},{docs:["The pool's vault for quote tokens","Will receive the input tokens from the user"],name:"quote_vault",writable:!0},{docs:["The mint of the base token","Used for transfer fee calculations if applicable"],name:"base_token_mint"},{docs:["The mint of the quote token"],name:"quote_token_mint"},{docs:["SPL Token program for base token transfers"],name:"base_token_program"},{address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",docs:["SPL Token program for quote token transfers"],name:"quote_token_program"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"amount_out",type:"u64"},{name:"maximum_amount_in",type:"u64"},{name:"share_fee_rate",type:"u64"}],discriminator:[24,211,116,40,105,3,153,56],docs:["Use quote tokens to purchase the given amount of base tokens.","# Arguments","","* `ctx` - The context of accounts","* `amount_out` - Amount of base token to receive","* `maximum_amount_in` - Maximum amount of quote token to purchase (slippage protection)","* `share_fee_rate` - Fee rate for the share"],name:"buy_exact_out"},{accounts:[{docs:["The pool creator"],name:"creator",signer:!0,writable:!0},{name:"fee_vault_authority",pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,95,102,101,101,95,118,97,117,108,116,95,97,117,116,104,95,115,101,101,100]}]}},{docs:["The creator fee vault"],name:"creator_fee_vault",pda:{seeds:[{kind:"account",path:"creator"},{kind:"account",path:"quote_mint"}]},writable:!0},{name:"recipient_token_account",pda:{program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]},seeds:[{kind:"account",path:"creator"},{kind:"account",path:"token_program"},{kind:"account",path:"quote_mint"}]},writable:!0},{docs:["The mint for the quote token"],name:"quote_mint"},{address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",docs:["SPL Token program for the quote token"],name:"token_program"},{address:"11111111111111111111111111111111",docs:["Required for account creation"],name:"system_program"},{address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",docs:["Required for associated token program"],name:"associated_token_program"}],args:[],discriminator:[26,97,138,203,132,171,141,252],docs:["Claim the fee from the exclusive creator fee vault.","# Arguments","","* `ctx` - The context of accounts",""],name:"claim_creator_fee"},{accounts:[{docs:["Only the wallet stored in platform_config can collect platform fees"],name:"platform_fee_wallet",signer:!0,writable:!0},{docs:["PDA that acts as the authority for pool vault and mint operations","Generated using AUTH_SEED"],name:"authority",pda:{seeds:[{kind:"const",value:[118,97,117,108,116,95,97,117,116,104,95,115,101,101,100]}]}},{docs:["Account that stores the pool's state and parameters","PDA generated using POOL_SEED and both token mints"],name:"pool_state",writable:!0},{docs:["The platform config account"],name:"platform_config"},{name:"quote_vault",writable:!0},{docs:["The address that receives the collected quote token fees"],name:"recipient_token_account",pda:{program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]},seeds:[{kind:"account",path:"platform_fee_wallet"},{kind:"account",path:"token_program"},{kind:"account",path:"quote_mint"}]},writable:!0},{docs:["The mint of quote token vault"],name:"quote_mint"},{address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",docs:["SPL program for input token transfers"],name:"token_program"},{address:"11111111111111111111111111111111",docs:["Required for account creation"],name:"system_program"},{address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",docs:["Required for associated token program"],name:"associated_token_program"}],args:[],discriminator:[156,39,208,135,76,237,61,72],docs:["Claim platform fee","# Arguments","","* `ctx` - The context of accounts",""],name:"claim_platform_fee"},{accounts:[{docs:["Only the wallet stored in platform_config can collect platform fees"],name:"platform_fee_wallet",signer:!0,writable:!0},{name:"fee_vault_authority",pda:{seeds:[{kind:"const",value:[112,108,97,116,102,111,114,109,95,102,101,101,95,118,97,117,108,116,95,97,117,116,104,95,115,101,101,100]}]}},{docs:["The platform config account"],name:"platform_config"},{docs:["The platform fee vault"],name:"platform_fee_vault",pda:{seeds:[{kind:"account",path:"platform_config"},{kind:"account",path:"quote_mint"}]},writable:!0},{docs:["The address that receives the collected quote token fees"],name:"recipient_token_account",pda:{program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]},seeds:[{kind:"account",path:"platform_fee_wallet"},{kind:"account",path:"token_program"},{kind:"account",path:"quote_mint"}]},writable:!0},{docs:["The mint of quote token vault"],name:"quote_mint"},{address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",docs:["SPL program for input token transfers"],name:"token_program"},{address:"11111111111111111111111111111111",docs:["Required for account creation"],name:"system_program"},{address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",docs:["Required for associated token program"],name:"associated_token_program"}],args:[],discriminator:[117,241,198,168,248,218,80,29],docs:["Claim the fee from the exclusive platform fee vault.","# Arguments","","* `ctx` - The context of accounts",""],name:"claim_platform_fee_from_vault"},{accounts:[{docs:["The beneficiary of the vesting account"],name:"beneficiary",signer:!0,writable:!0},{docs:["PDA that acts as the authority for pool vault and mint operations","Generated using AUTH_SEED"],name:"authority",pda:{seeds:[{kind:"const",value:[118,97,117,108,116,95,97,117,116,104,95,115,101,101,100]}]}},{docs:["Account that stores the pool's state and parameters","PDA generated using POOL_SEED and both token mints"],name:"pool_state",writable:!0},{docs:["The vesting record account"],name:"vesting_record",pda:{seeds:[{kind:"const",value:[112,111,111,108,95,118,101,115,116,105,110,103]},{kind:"account",path:"pool_state"},{kind:"account",path:"beneficiary"}]},writable:!0},{docs:["The pool's vault for base tokens","Will be debited to send tokens to the user"],name:"base_vault",writable:!0},{name:"user_base_token",pda:{program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]},seeds:[{kind:"account",path:"beneficiary"},{kind:"account",path:"base_token_program"},{kind:"account",path:"base_token_mint"}]},writable:!0},{docs:["The mint for the base token (token being sold)","Created in this instruction with specified decimals"],name:"base_token_mint"},{address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",docs:["SPL Token program for the base token","Must be the standard Token program"],name:"base_token_program"},{address:"11111111111111111111111111111111",docs:["Required for account creation"],name:"system_program"},{address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",docs:["Required for associated token program"],name:"associated_token_program"}],args:[],discriminator:[49,33,104,30,189,157,79,35],docs:["Claim vested token","# Arguments"],name:"claim_vested_token"},{accounts:[{docs:["Only protocol_fee_owner saved in global_config can collect protocol fee now"],name:"owner",signer:!0},{name:"authority",pda:{seeds:[{kind:"const",value:[118,97,117,108,116,95,97,117,116,104,95,115,101,101,100]}]}},{docs:["Pool state stores accumulated protocol fee amount"],name:"pool_state",writable:!0},{docs:["Global config account stores owner"],name:"global_config"},{docs:["The address that holds pool tokens for quote token"],name:"quote_vault",writable:!0},{docs:["The mint of quote token vault"],name:"quote_mint"},{docs:["The address that receives the collected quote token fees"],name:"recipient_token_account",writable:!0},{address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",docs:["SPL program for input token transfers"],name:"token_program"}],args:[],discriminator:[60,173,247,103,4,93,130,48],docs:["Collects accumulated fees from the pool","# Arguments","","* `ctx` - The context of accounts",""],name:"collect_fee"},{accounts:[{docs:["Only migrate_fee_owner saved in global_config can collect migrate fee now"],name:"owner",signer:!0},{name:"authority",pda:{seeds:[{kind:"const",value:[118,97,117,108,116,95,97,117,116,104,95,115,101,101,100]}]}},{docs:["Pool state stores accumulated protocol fee amount"],name:"pool_state",writable:!0},{docs:["Global config account stores owner"],name:"global_config"},{docs:["The address that holds pool tokens for quote token"],name:"quote_vault",writable:!0},{docs:["The mint of quote token vault"],name:"quote_mint"},{docs:["The address that receives the collected quote token fees"],name:"recipient_token_account",writable:!0},{address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",docs:["SPL program for input token transfers"],name:"token_program"}],args:[],discriminator:[255,186,150,223,235,118,201,186],docs:["Collects  migrate fees from the pool","# Arguments","","* `ctx` - The context of accounts",""],name:"collect_migrate_fee"},{accounts:[{address:"GThUX1Atko4tqhN2NaiTazWSeFWMuiUvfFnyJyUghFMJ",docs:["The protocol owner/admin account","Must match the predefined admin address","Has authority to create and modify protocol configurations"],name:"owner",signer:!0,writable:!0},{docs:["Global configuration account that stores protocol-wide settings","PDA generated using GLOBAL_CONFIG_SEED, quote token mint, and curve type","Stores fee rates and protocol parameters"],name:"global_config",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,99,111,110,102,105,103]},{kind:"account",path:"quote_token_mint"},{kind:"arg",path:"curve_type"},{kind:"arg",path:"index"}]},writable:!0},{docs:["The mint address of the quote token (token used for buying)","This will be the standard token used for all pools with this config"],name:"quote_token_mint"},{docs:["Account that will receive protocol fees"],name:"protocol_fee_owner"},{docs:["Account that will receive migrate fees"],name:"migrate_fee_owner"},{docs:["The control wallet address for migrating to amm"],name:"migrate_to_amm_wallet"},{docs:["The control wallet address for migrating to cpswap"],name:"migrate_to_cpswap_wallet"},{address:"11111111111111111111111111111111",docs:["Required for account creation"],name:"system_program"}],args:[{name:"curve_type",type:"u8"},{name:"index",type:"u16"},{name:"migrate_fee",type:"u64"},{name:"trade_fee_rate",type:"u64"}],discriminator:[201,207,243,114,75,111,47,189],docs:["Creates a new configuration","# Arguments","","* `ctx` - The accounts needed by instruction","* `curve_type` - The type of bonding curve (0: ConstantProduct)","* `index` - The index of config, there may be multiple config with the same curve type.","* `trade_fee_rate` - Trade fee rate, must be less than RATE_DENOMINATOR_VALUE",""],name:"create_config"},{accounts:[{docs:["The account paying for the initialization costs"],name:"platform_admin",signer:!0,writable:!0},{name:"platform_fee_wallet"},{name:"platform_nft_wallet"},{docs:["The platform config account"],name:"platform_config",pda:{seeds:[{kind:"const",value:[112,108,97,116,102,111,114,109,95,99,111,110,102,105,103]},{kind:"account",path:"platform_admin"}]},writable:!0},{name:"cpswap_config"},{address:"11111111111111111111111111111111",docs:["Required for account creation"],name:"system_program"},{name:"transfer_fee_extension_authority"}],args:[{name:"platform_params",type:{defined:{name:"PlatformParams"}}}],discriminator:[176,90,196,175,253,113,220,20],docs:["Create platform config account","# Arguments","","* `ctx` - The context of accounts","# Fields","* `fee_rate` - Fee rate of the platform","* `name` - Name of the platform","* `web` - Website of the platform","* `img` - Image link of the platform",""],name:"create_platform_config"},{accounts:[{docs:["The account paying for the initialization costs","This can be any account with sufficient SOL to cover the transaction"],name:"creator",signer:!0,writable:!0},{docs:["The beneficiary is used to receive the allocated linear release of tokens.","Once this account is set, it cannot be modified, so please ensure the validity of this account,","otherwise, the unlocked tokens will not be claimable."],name:"beneficiary",writable:!0},{docs:["The pool state account"],name:"pool_state",writable:!0},{docs:["The vesting record account"],name:"vesting_record",pda:{seeds:[{kind:"const",value:[112,111,111,108,95,118,101,115,116,105,110,103]},{kind:"account",path:"pool_state"},{kind:"account",path:"beneficiary"}]},writable:!0},{address:"11111111111111111111111111111111",docs:["Required for account creation"],name:"system_program"}],args:[{name:"share_amount",type:"u64"}],discriminator:[129,178,2,13,217,172,230,218],docs:["Create vesting account","# Arguments","","* `ctx` - The context of accounts","* `share` - The share amount of base token to be vested",""],name:"create_vesting_account"},{accounts:[{docs:["The account paying for the initialization costs","This can be any account with sufficient SOL to cover the transaction"],name:"payer",signer:!0,writable:!0},{name:"creator"},{docs:["Global configuration account containing protocol-wide settings","Includes settings like quote token mint and fee parameters"],name:"global_config"},{docs:["Platform configuration account containing platform info","Includes settings like the fee_rate, name, web, img of the platform"],name:"platform_config"},{docs:["PDA that acts as the authority for pool vault and mint operations","Generated using AUTH_SEED"],name:"authority",pda:{seeds:[{kind:"const",value:[118,97,117,108,116,95,97,117,116,104,95,115,101,101,100]}]}},{docs:["Account that stores the pool's state and parameters","PDA generated using POOL_SEED and both token mints"],name:"pool_state",pda:{seeds:[{kind:"const",value:[112,111,111,108]},{kind:"account",path:"base_mint"},{kind:"account",path:"quote_mint"}]},writable:!0},{docs:["The mint for the base token (token being sold)","Created in this instruction with specified decimals"],name:"base_mint",signer:!0,writable:!0},{docs:["The mint for the quote token (token used to buy)","Must match the quote_mint specified in global config"],name:"quote_mint"},{docs:["Token account that holds the pool's base tokens","PDA generated using POOL_VAULT_SEED"],name:"base_vault",pda:{seeds:[{kind:"const",value:[112,111,111,108,95,118,97,117,108,116]},{kind:"account",path:"pool_state"},{kind:"account",path:"base_mint"}]},writable:!0},{docs:["Token account that holds the pool's quote tokens","PDA generated using POOL_VAULT_SEED"],name:"quote_vault",pda:{seeds:[{kind:"const",value:[112,111,111,108,95,118,97,117,108,116]},{kind:"account",path:"pool_state"},{kind:"account",path:"quote_mint"}]},writable:!0},{docs:["Account to store the base token's metadata","Created using Metaplex metadata program"],name:"metadata_account",writable:!0},{address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",docs:["SPL Token program for the base token","Must be the standard Token program"],name:"base_token_program"},{address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",docs:["SPL Token program for the quote token"],name:"quote_token_program"},{address:"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s",docs:["Metaplex Token Metadata program","Used to create metadata for the base token"],name:"metadata_program"},{address:"11111111111111111111111111111111",docs:["Required for account creation"],name:"system_program"},{address:"SysvarRent111111111111111111111111111111111",docs:["Required for rent exempt calculations"],name:"rent_program"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"base_mint_param",type:{defined:{name:"MintParams"}}},{name:"curve_param",type:{defined:{name:"CurveParams"}}},{name:"vesting_param",type:{defined:{name:"VestingParams"}}}],discriminator:[175,175,109,31,13,152,155,237],docs:["Initializes a new trading pool","# Arguments","","* `ctx` - The context of accounts containing pool and token information",""],name:"initialize"},{accounts:[{docs:["The account paying for the initialization costs","This can be any account with sufficient SOL to cover the transaction"],name:"payer",signer:!0,writable:!0},{name:"creator"},{docs:["Global configuration account containing protocol-wide settings","Includes settings like quote token mint and fee parameters"],name:"global_config"},{docs:["Platform configuration account containing platform info","Includes settings like the fee_rate, name, web, img of the platform"],name:"platform_config"},{docs:["PDA that acts as the authority for pool vault and mint operations","Generated using AUTH_SEED"],name:"authority",pda:{seeds:[{kind:"const",value:[118,97,117,108,116,95,97,117,116,104,95,115,101,101,100]}]}},{docs:["Account that stores the pool's state and parameters","PDA generated using POOL_SEED and both token mints"],name:"pool_state",pda:{seeds:[{kind:"const",value:[112,111,111,108]},{kind:"account",path:"base_mint"},{kind:"account",path:"quote_mint"}]},writable:!0},{docs:["The mint for the base token (token being sold)","Created in this instruction with specified decimals"],name:"base_mint",signer:!0,writable:!0},{docs:["The mint for the quote token (token used to buy)","Must match the quote_mint specified in global config"],name:"quote_mint"},{docs:["Token account that holds the pool's base tokens","PDA generated using POOL_VAULT_SEED"],name:"base_vault",pda:{seeds:[{kind:"const",value:[112,111,111,108,95,118,97,117,108,116]},{kind:"account",path:"pool_state"},{kind:"account",path:"base_mint"}]},writable:!0},{docs:["Token account that holds the pool's quote tokens","PDA generated using POOL_VAULT_SEED"],name:"quote_vault",pda:{seeds:[{kind:"const",value:[112,111,111,108,95,118,97,117,108,116]},{kind:"account",path:"pool_state"},{kind:"account",path:"quote_mint"}]},writable:!0},{docs:["Account to store the base token's metadata","Created using Metaplex metadata program"],name:"metadata_account",writable:!0},{address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",docs:["SPL Token program for the base token","Must be the standard Token program"],name:"base_token_program"},{address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",docs:["SPL Token program for the quote token"],name:"quote_token_program"},{address:"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s",docs:["Metaplex Token Metadata program","Used to create metadata for the base token"],name:"metadata_program"},{address:"11111111111111111111111111111111",docs:["Required for account creation"],name:"system_program"},{address:"SysvarRent111111111111111111111111111111111",docs:["Required for rent exempt calculations"],name:"rent_program"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"base_mint_param",type:{defined:{name:"MintParams"}}},{name:"curve_param",type:{defined:{name:"CurveParams"}}},{name:"vesting_param",type:{defined:{name:"VestingParams"}}},{name:"amm_fee_on",type:{defined:{name:"AmmCreatorFeeOn"}}}],discriminator:[67,153,175,39,218,16,38,32],docs:["Initializes a new trading pool","# Arguments","","* `ctx` - The context of accounts containing pool and token information",""],name:"initialize_v2"},{accounts:[{docs:["The account paying for the initialization costs","This can be any account with sufficient SOL to cover the transaction"],name:"payer",signer:!0,writable:!0},{name:"creator"},{docs:["Global configuration account containing protocol-wide settings","Includes settings like quote token mint and fee parameters"],name:"global_config"},{docs:["Platform configuration account containing platform info","Includes settings like the fee_rate, name, web, img of the platform"],name:"platform_config"},{docs:["PDA that acts as the authority for pool vault and mint operations","Generated using AUTH_SEED"],name:"authority",pda:{seeds:[{kind:"const",value:[118,97,117,108,116,95,97,117,116,104,95,115,101,101,100]}]}},{docs:["Account that stores the pool's state and parameters","PDA generated using POOL_SEED and both token mints"],name:"pool_state",pda:{seeds:[{kind:"const",value:[112,111,111,108]},{kind:"account",path:"base_mint"},{kind:"account",path:"quote_mint"}]},writable:!0},{docs:["The mint for the base token (token being sold)","Created in this instruction with specified decimals"],name:"base_mint",signer:!0,writable:!0},{docs:["The mint for the quote token (token used to buy)","Must match the quote_mint specified in global config"],name:"quote_mint"},{docs:["Token account that holds the pool's base tokens","PDA generated using POOL_VAULT_SEED"],name:"base_vault",pda:{seeds:[{kind:"const",value:[112,111,111,108,95,118,97,117,108,116]},{kind:"account",path:"pool_state"},{kind:"account",path:"base_mint"}]},writable:!0},{docs:["Token account that holds the pool's quote tokens","PDA generated using POOL_VAULT_SEED"],name:"quote_vault",pda:{seeds:[{kind:"const",value:[112,111,111,108,95,118,97,117,108,116]},{kind:"account",path:"pool_state"},{kind:"account",path:"quote_mint"}]},writable:!0},{address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",docs:["SPL Token program for the base token"],name:"base_token_program"},{address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",docs:["SPL Token program for the quote token"],name:"quote_token_program"},{address:"11111111111111111111111111111111",docs:["Required for account creation"],name:"system_program"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"base_mint_param",type:{defined:{name:"MintParams"}}},{name:"curve_param",type:{defined:{name:"CurveParams"}}},{name:"vesting_param",type:{defined:{name:"VestingParams"}}},{name:"amm_fee_on",type:{defined:{name:"AmmCreatorFeeOn"}}},{name:"transfer_fee_extension_param",type:{option:{defined:{name:"TransferFeeExtensionParams"}}}}],discriminator:[37,190,126,222,44,154,171,17],docs:["Initializes a new trading pool with base token belongs to spl-token-2022,","pool created by this instruction must be migrated to cpswap after fundraising ends, i.e., curve_param.migrate_type = 1","# Arguments","","* `ctx` - The context of accounts containing pool and token information",""],name:"initialize_with_token_2022"},{accounts:[{docs:["Only migrate_to_amm_wallet can migrate to cpswap pool","This signer must match the migrate_to_amm_wallet saved in global_config"],name:"payer",signer:!0,writable:!0},{docs:["The mint for the base token (token being sold)"],name:"base_mint"},{docs:["The mint for the quote token (token used to buy)"],name:"quote_mint"},{address:"srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX",name:"openbook_program"},{docs:["Account created and asigned to openbook_program but not been initialized"],name:"market",writable:!0},{docs:["Account created and asigned to openbook_program but not been initialized"],name:"request_queue",writable:!0},{docs:["Account created and asigned to openbook_program but not been initialized"],name:"event_queue",writable:!0},{docs:["Account created and asigned to openbook_program but not been initialized"],name:"bids",writable:!0},{docs:["Account created and asigned to openbook_program but not been initialized"],name:"asks",writable:!0},{name:"market_vault_signer"},{docs:["Token account that holds the market's base tokens"],name:"market_base_vault",writable:!0},{docs:["Token account that holds the market's quote tokens"],name:"market_quote_vault",writable:!0},{address:"675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8",name:"amm_program"},{name:"amm_pool",pda:{program:{kind:"account",path:"amm_program"},seeds:[{kind:"account",path:"amm_program"},{kind:"account",path:"market"},{kind:"const",value:[97,109,109,95,97,115,115,111,99,105,97,116,101,100,95,115,101,101,100]}]},writable:!0},{name:"amm_authority",pda:{program:{kind:"account",path:"amm_program"},seeds:[{kind:"const",value:[97,109,109,32,97,117,116,104,111,114,105,116,121]}]}},{name:"amm_open_orders",pda:{program:{kind:"account",path:"amm_program"},seeds:[{kind:"account",path:"amm_program"},{kind:"account",path:"market"},{kind:"const",value:[111,112,101,110,95,111,114,100,101,114,95,97,115,115,111,99,105,97,116,101,100,95,115,101,101,100]}]},writable:!0},{name:"amm_lp_mint",pda:{program:{kind:"account",path:"amm_program"},seeds:[{kind:"account",path:"amm_program"},{kind:"account",path:"market"},{kind:"const",value:[108,112,95,109,105,110,116,95,97,115,115,111,99,105,97,116,101,100,95,115,101,101,100]}]},writable:!0},{name:"amm_base_vault",pda:{program:{kind:"account",path:"amm_program"},seeds:[{kind:"account",path:"amm_program"},{kind:"account",path:"market"},{kind:"const",value:[99,111,105,110,95,118,97,117,108,116,95,97,115,115,111,99,105,97,116,101,100,95,115,101,101,100]}]},writable:!0},{name:"amm_quote_vault",pda:{program:{kind:"account",path:"amm_program"},seeds:[{kind:"account",path:"amm_program"},{kind:"account",path:"market"},{kind:"const",value:[112,99,95,118,97,117,108,116,95,97,115,115,111,99,105,97,116,101,100,95,115,101,101,100]}]},writable:!0},{name:"amm_target_orders",pda:{program:{kind:"account",path:"amm_program"},seeds:[{kind:"account",path:"amm_program"},{kind:"account",path:"market"},{kind:"const",value:[116,97,114,103,101,116,95,97,115,115,111,99,105,97,116,101,100,95,115,101,101,100]}]},writable:!0},{name:"amm_config",pda:{program:{kind:"account",path:"amm_program"},seeds:[{kind:"const",value:[97,109,109,95,99,111,110,102,105,103,95,97,99,99,111,117,110,116,95,115,101,101,100]}]}},{name:"amm_create_fee_destination",writable:!0},{docs:["PDA that acts as the authority for pool vault operations","Generated using AUTH_SEED"],name:"authority",pda:{seeds:[{kind:"const",value:[118,97,117,108,116,95,97,117,116,104,95,115,101,101,100]}]},writable:!0},{docs:["Account that stores the pool's state and parameters","PDA generated using POOL_SEED and both token mints"],name:"pool_state",pda:{seeds:[{kind:"const",value:[112,111,111,108]},{kind:"account",path:"base_mint"},{kind:"account",path:"quote_mint"}]},writable:!0},{docs:["Global config account stores owner"],name:"global_config"},{docs:["The pool's vault for base tokens","Will be fully drained during migration"],name:"base_vault",writable:!0},{docs:["The pool's vault for quote tokens","Will be fully drained during migration"],name:"quote_vault",writable:!0},{name:"pool_lp_token",writable:!0},{address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",docs:["SPL Token program for the base token","Must be the standard Token program"],name:"spl_token_program"},{address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",docs:["Program to create an ATA for receiving fee NFT"],name:"associated_token_program"},{address:"11111111111111111111111111111111",docs:["Required for account creation"],name:"system_program"},{address:"SysvarRent111111111111111111111111111111111",docs:["Required for rent exempt calculations"],name:"rent_program"}],args:[{name:"base_lot_size",type:"u64"},{name:"quote_lot_size",type:"u64"},{name:"market_vault_signer_nonce",type:"u8"}],discriminator:[207,82,192,145,254,207,145,223],docs:["# Arguments","","* `ctx` - The context of accounts",""],name:"migrate_to_amm"},{accounts:[{docs:["Only migrate_to_cpswap_wallet can migrate to cpswap pool","This signer must match the migrate_to_cpswap_wallet saved in global_config"],name:"payer",signer:!0,writable:!0},{docs:["The mint for the base token (token being sold)"],name:"base_mint",writable:!0},{docs:["The mint for the quote token (token used to buy)"],name:"quote_mint"},{docs:["Platform configuration account containing platform-wide settings","Used to read platform fee rate"],name:"platform_config"},{address:"CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C",name:"cpswap_program"},{docs:["PDA account:","seeds = [",'b"pool",',"cpswap_config.key().as_ref(),","token_0_mint.key().as_ref(),","token_1_mint.key().as_ref(),","],","seeds::program = cpswap_program,","","Or random account: must be signed by cli"],name:"cpswap_pool",writable:!0},{name:"cpswap_authority",pda:{program:{kind:"account",path:"cpswap_program"},seeds:[{kind:"const",value:[118,97,117,108,116,95,97,110,100,95,108,112,95,109,105,110,116,95,97,117,116,104,95,115,101,101,100]}]}},{name:"cpswap_lp_mint",pda:{program:{kind:"account",path:"cpswap_program"},seeds:[{kind:"const",value:[112,111,111,108,95,108,112,95,109,105,110,116]},{kind:"account",path:"cpswap_pool"}]},writable:!0},{name:"cpswap_base_vault",pda:{program:{kind:"account",path:"cpswap_program"},seeds:[{kind:"const",value:[112,111,111,108,95,118,97,117,108,116]},{kind:"account",path:"cpswap_pool"},{kind:"account",path:"base_mint"}]},writable:!0},{name:"cpswap_quote_vault",pda:{program:{kind:"account",path:"cpswap_program"},seeds:[{kind:"const",value:[112,111,111,108,95,118,97,117,108,116]},{kind:"account",path:"cpswap_pool"},{kind:"account",path:"quote_mint"}]},writable:!0},{name:"cpswap_config"},{name:"cpswap_create_pool_fee",writable:!0},{name:"cpswap_observation",pda:{program:{kind:"account",path:"cpswap_program"},seeds:[{kind:"const",value:[111,98,115,101,114,118,97,116,105,111,110]},{kind:"account",path:"cpswap_pool"}]},writable:!0},{address:"LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE",name:"lock_program"},{name:"lock_authority",pda:{program:{kind:"account",path:"lock_program"},seeds:[{kind:"const",value:[108,111,99,107,95,99,112,95,97,117,116,104,111,114,105,116,121,95,115,101,101,100]}]}},{name:"lock_lp_vault",writable:!0},{docs:["PDA that acts as the authority for pool vault operations","Generated using AUTH_SEED"],name:"authority",pda:{seeds:[{kind:"const",value:[118,97,117,108,116,95,97,117,116,104,95,115,101,101,100]}]},writable:!0},{docs:["Account that stores the pool's state and parameters","PDA generated using POOL_SEED and both token mints"],name:"pool_state",pda:{seeds:[{kind:"const",value:[112,111,111,108]},{kind:"account",path:"base_mint"},{kind:"account",path:"quote_mint"}]},writable:!0},{docs:["Global config account stores owner"],name:"global_config"},{docs:["The pool's vault for base tokens","Will be fully drained during migration"],name:"base_vault",writable:!0},{docs:["The pool's vault for quote tokens","Will be fully drained during migration"],name:"quote_vault",writable:!0},{name:"pool_lp_token",writable:!0},{docs:["SPL Token program for the base token","Must be the standard Token program"],name:"base_token_program"},{address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",docs:["SPL Token program for the quote token"],name:"quote_token_program"},{address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",docs:["Program to create an ATA for receiving fee NFT"],name:"associated_token_program"},{address:"11111111111111111111111111111111",docs:["Required for account creation"],name:"system_program"},{address:"SysvarRent111111111111111111111111111111111",docs:["Required for rent exempt calculations"],name:"rent_program"},{address:"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s",docs:["Program to create NFT metadata accunt"],name:"metadata_program"}],args:[],discriminator:[136,92,200,103,28,218,144,140],docs:["# Arguments","","* `ctx` - The context of accounts",""],name:"migrate_to_cpswap"},{accounts:[{docs:["The account paying for the initialization costs"],name:"platform_admin",signer:!0},{docs:["Platform config account to be changed"],name:"platform_config",pda:{seeds:[{kind:"const",value:[112,108,97,116,102,111,114,109,95,99,111,110,102,105,103]},{kind:"account",path:"platform_admin"}]},writable:!0}],args:[{name:"index",type:"u8"}],discriminator:[27,30,62,169,93,224,24,145],docs:["Remove platform launch param","# Arguments","","* `ctx` - The context of accounts","* `index` - The index of the curve param to remove",""],name:"remove_platform_curve_param"},{accounts:[{docs:["The user performing the swap operation","Must sign the transaction and pay for fees"],name:"payer",signer:!0},{docs:["PDA that acts as the authority for pool vault operations","Generated using AUTH_SEED"],name:"authority",pda:{seeds:[{kind:"const",value:[118,97,117,108,116,95,97,117,116,104,95,115,101,101,100]}]}},{docs:["Global configuration account containing protocol-wide settings","Used to read protocol fee rates and curve type"],name:"global_config"},{docs:["Platform configuration account containing platform-wide settings","Used to read platform fee rate"],name:"platform_config"},{docs:["The pool state account where the swap will be performed","Contains current pool parameters and balances"],name:"pool_state",writable:!0},{docs:["The user's token account for base tokens (tokens being bought)","Will receive the output tokens after the swap"],name:"user_base_token",writable:!0},{docs:["The user's token account for quote tokens (tokens being sold)","Will be debited for the input amount"],name:"user_quote_token",writable:!0},{docs:["The pool's vault for base tokens","Will be debited to send tokens to the user"],name:"base_vault",writable:!0},{docs:["The pool's vault for quote tokens","Will receive the input tokens from the user"],name:"quote_vault",writable:!0},{docs:["The mint of the base token","Used for transfer fee calculations if applicable"],name:"base_token_mint"},{docs:["The mint of the quote token"],name:"quote_token_mint"},{docs:["SPL Token program for base token transfers"],name:"base_token_program"},{address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",docs:["SPL Token program for quote token transfers"],name:"quote_token_program"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"amount_in",type:"u64"},{name:"minimum_amount_out",type:"u64"},{name:"share_fee_rate",type:"u64"}],discriminator:[149,39,222,155,211,124,152,26],docs:["Use the given amount of base tokens to sell for quote tokens.","# Arguments","","* `ctx` - The context of accounts","* `amount_in` - Amount of base token to sell","* `minimum_amount_out` - Minimum amount of quote token to receive (slippage protection)","* `share_fee_rate` - Fee rate for the share",""],name:"sell_exact_in"},{accounts:[{docs:["The user performing the swap operation","Must sign the transaction and pay for fees"],name:"payer",signer:!0},{docs:["PDA that acts as the authority for pool vault operations","Generated using AUTH_SEED"],name:"authority",pda:{seeds:[{kind:"const",value:[118,97,117,108,116,95,97,117,116,104,95,115,101,101,100]}]}},{docs:["Global configuration account containing protocol-wide settings","Used to read protocol fee rates and curve type"],name:"global_config"},{docs:["Platform configuration account containing platform-wide settings","Used to read platform fee rate"],name:"platform_config"},{docs:["The pool state account where the swap will be performed","Contains current pool parameters and balances"],name:"pool_state",writable:!0},{docs:["The user's token account for base tokens (tokens being bought)","Will receive the output tokens after the swap"],name:"user_base_token",writable:!0},{docs:["The user's token account for quote tokens (tokens being sold)","Will be debited for the input amount"],name:"user_quote_token",writable:!0},{docs:["The pool's vault for base tokens","Will be debited to send tokens to the user"],name:"base_vault",writable:!0},{docs:["The pool's vault for quote tokens","Will receive the input tokens from the user"],name:"quote_vault",writable:!0},{docs:["The mint of the base token","Used for transfer fee calculations if applicable"],name:"base_token_mint"},{docs:["The mint of the quote token"],name:"quote_token_mint"},{docs:["SPL Token program for base token transfers"],name:"base_token_program"},{address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",docs:["SPL Token program for quote token transfers"],name:"quote_token_program"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"amount_out",type:"u64"},{name:"maximum_amount_in",type:"u64"},{name:"share_fee_rate",type:"u64"}],discriminator:[95,200,71,34,8,9,11,166],docs:["Sell base tokens for the given amount of quote tokens.","# Arguments","","* `ctx` - The context of accounts","* `amount_out` - Amount of quote token to receive","* `maximum_amount_in` - Maximum amount of base token to purchase (slippage protection)","* `share_fee_rate` - Fee rate for the share",""],name:"sell_exact_out"},{accounts:[{address:"GThUX1Atko4tqhN2NaiTazWSeFWMuiUvfFnyJyUghFMJ",docs:["The global config owner or admin"],name:"owner",signer:!0},{docs:["Global config account to be changed"],name:"global_config",writable:!0}],args:[{name:"param",type:"u8"},{name:"value",type:"u64"}],discriminator:[29,158,252,191,10,83,219,99],docs:["Updates configuration parameters","# Arguments","","* `ctx` - The context of accounts","* `param` - Parameter to update:","- 0: Update trade_fee_rate","- 1: Update fee owner","* `value` - New value for the selected parameter",""],name:"update_config"},{accounts:[{docs:["The account paying for the initialization costs"],name:"platform_admin",signer:!0},{docs:["Platform config account to be changed"],name:"platform_config",pda:{seeds:[{kind:"const",value:[112,108,97,116,102,111,114,109,95,99,111,110,102,105,103]},{kind:"account",path:"platform_admin"}]},writable:!0}],args:[{name:"param",type:{defined:{name:"PlatformConfigParam"}}}],discriminator:[195,60,76,129,146,45,67,143],docs:["Update platform config","# Arguments","","* `ctx` - The context of accounts","* `param` - Parameter to update",""],name:"update_platform_config"},{accounts:[{docs:["The account paying for the initialization costs"],name:"platform_admin",signer:!0,writable:!0},{docs:["Platform config account to be changed"],name:"platform_config",pda:{seeds:[{kind:"const",value:[112,108,97,116,102,111,114,109,95,99,111,110,102,105,103]},{kind:"account",path:"platform_admin"}]},writable:!0},{docs:["Global configuration account containing protocol-wide settings","Includes settings like quote token mint and fee parameters"],name:"global_config"},{address:"11111111111111111111111111111111",docs:["System program for lamport transfers"],name:"system_program"}],args:[{name:"index",type:"u8"},{name:"bonding_curve_param",type:{defined:{name:"BondingCurveParam"}}}],discriminator:[138,144,138,250,220,128,4,57],docs:["Update platform launch param","# Arguments","","* `ctx` - The context of accounts","* `bonding_curve_param` - Parameter to update",""],name:"update_platform_curve_param"}],metadata:{description:"Created with Anchor",name:"raydium_launchpad",spec:"0.1.0",version:"0.2.0"},types:[{docs:["migrate to cpmm, creator fee on quote token or both token"],name:"AmmCreatorFeeOn",type:{kind:"enum",variants:[{name:"QuoteToken"},{name:"BothToken"}]}},{name:"BondingCurveParam",type:{fields:[{docs:["Migrate to AMM or CpSwap, 0: amm\uff0c 1: cpswap\uff0c","Neither 0 nor 1: invalid"],name:"migrate_type",type:"u8"},{docs:["The migrate fee on, 0 means fee on the quote token, 1 means fee on both token","Neither 0 nor 1: invalid"],name:"migrate_cpmm_fee_on",type:"u8"},{docs:["The supply of the token,","0: invalid"],name:"supply",type:"u64"},{docs:["The total base sell of the token","0: invalid"],name:"total_base_sell",type:"u64"},{docs:["The total quote fund raising of the token","0: invalid"],name:"total_quote_fund_raising",type:"u64"},{docs:["total amount of tokens to be unlocked","u64::MAX: invalid"],name:"total_locked_amount",type:"u64"},{docs:["Waiting time in seconds before unlocking after fundraising ends","u64::MAX: invalid"],name:"cliff_period",type:"u64"},{docs:["Unlocking period in seconds","u64::MAX: invalid"],name:"unlock_period",type:"u64"}],kind:"struct"}},{docs:["Emitted when vesting token claimed by beneficiary"],name:"ClaimVestedEvent",type:{fields:[{name:"pool_state",type:"pubkey"},{name:"beneficiary",type:"pubkey"},{name:"claim_amount",type:"u64"}],kind:"struct"}},{name:"ConstantCurve",type:{fields:[{name:"supply",type:"u64"},{name:"total_base_sell",type:"u64"},{name:"total_quote_fund_raising",type:"u64"},{name:"migrate_type",type:"u8"}],kind:"struct"}},{docs:["Emitted when vest_account created"],name:"CreateVestingEvent",type:{fields:[{name:"pool_state",type:"pubkey"},{name:"beneficiary",type:"pubkey"},{name:"share_amount",type:"u64"}],kind:"struct"}},{name:"CurveParams",type:{kind:"enum",variants:[{fields:[{name:"data",type:{defined:{name:"ConstantCurve"}}}],name:"Constant"},{fields:[{name:"data",type:{defined:{name:"FixedCurve"}}}],name:"Fixed"},{fields:[{name:"data",type:{defined:{name:"LinearCurve"}}}],name:"Linear"}]}},{name:"FixedCurve",type:{fields:[{name:"supply",type:"u64"},{name:"total_quote_fund_raising",type:"u64"},{name:"migrate_type",type:"u8"}],kind:"struct"}},{docs:["Holds the current owner of the factory"],name:"GlobalConfig",type:{fields:[{docs:["Account update epoch"],name:"epoch",type:"u64"},{docs:["0: Constant Product Curve","1: Fixed Price Curve","2: Linear Price Curve"],name:"curve_type",type:"u8"},{docs:["Config index"],name:"index",type:"u16"},{docs:["The fee of migrate to amm"],name:"migrate_fee",type:"u64"},{docs:["The trade fee rate, denominated in hundredths of a bip (10^-6)"],name:"trade_fee_rate",type:"u64"},{docs:["The maximum share fee rate, denominated in hundredths of a bip (10^-6)"],name:"max_share_fee_rate",type:"u64"},{docs:["The minimum base supply, the value without decimals"],name:"min_base_supply",type:"u64"},{docs:["The maximum lock rate, denominated in hundredths of a bip (10^-6)"],name:"max_lock_rate",type:"u64"},{docs:["The minimum base sell rate, denominated in hundredths of a bip (10^-6)"],name:"min_base_sell_rate",type:"u64"},{docs:["The minimum base migrate rate, denominated in hundredths of a bip (10^-6)"],name:"min_base_migrate_rate",type:"u64"},{docs:["The minimum quote fund raising, the value with decimals"],name:"min_quote_fund_raising",type:"u64"},{docs:["Mint information for quote token"],name:"quote_mint",type:"pubkey"},{docs:["Protocol Fee owner"],name:"protocol_fee_owner",type:"pubkey"},{docs:["Migrate Fee owner"],name:"migrate_fee_owner",type:"pubkey"},{docs:["Migrate to amm control wallet"],name:"migrate_to_amm_wallet",type:"pubkey"},{docs:["Migrate to cpswap wallet"],name:"migrate_to_cpswap_wallet",type:"pubkey"},{docs:["padding for future updates"],name:"padding",type:{array:["u64",16]}}],kind:"struct"}},{name:"LinearCurve",type:{fields:[{name:"supply",type:"u64"},{name:"total_quote_fund_raising",type:"u64"},{name:"migrate_type",type:"u8"}],kind:"struct"}},{docs:["Represents the parameters for initializing a platform config account(Only support MigrateType::CPSWAP)","# Fields","* `platform_scale` - Scale of the platform liquidity quantity rights will be converted into NFT","* `creator_scale` - Scale of the token creator liquidity quantity rights will be converted into NFT","* `burn_scale` - Scale of liquidity directly to burn","","* platform_scale + creator_scale + burn_scale = RATE_DENOMINATOR_VALUE"],name:"MigrateNftInfo",type:{fields:[{name:"platform_scale",type:"u64"},{name:"creator_scale",type:"u64"},{name:"burn_scale",type:"u64"}],kind:"struct"}},{docs:["Represents the parameters for initializing a new token mint","# Fields","* `decimals` - Number of decimal places for the token","* `name` - Name of the token","* `symbol` - Symbol/ticker of the token","* `uri` - URI pointing to token metadata"],name:"MintParams",type:{fields:[{name:"decimals",type:"u8"},{name:"name",type:"string"},{name:"symbol",type:"string"},{name:"uri",type:"string"}],kind:"struct"}},{name:"PlatformConfig",type:{fields:[{docs:["The epoch for update interval"],name:"epoch",type:"u64"},{docs:["The platform fee wallet"],name:"platform_fee_wallet",type:"pubkey"},{docs:["The platform nft wallet to receive the platform NFT after migration if platform_scale is not 0(Only support MigrateType::CPSWAP)"],name:"platform_nft_wallet",type:"pubkey"},{docs:["Scale of the platform liquidity quantity rights will be converted into NFT(Only support MigrateType::CPSWAP)"],name:"platform_scale",type:"u64"},{docs:["Scale of the token creator liquidity quantity rights will be converted into NFT(Only support MigrateType::CPSWAP)"],name:"creator_scale",type:"u64"},{docs:["Scale of liquidity directly to burn"],name:"burn_scale",type:"u64"},{docs:["The platform fee rate"],name:"fee_rate",type:"u64"},{docs:["The platform name"],name:"name",type:{array:["u8",64]}},{docs:["The platform website"],name:"web",type:{array:["u8",256]}},{docs:["The platform img link"],name:"img",type:{array:["u8",256]}},{docs:["The platform specifies the trade fee rate after migration to cp swap"],name:"cpswap_config",type:"pubkey"},{docs:["Creator fee rate"],name:"creator_fee_rate",type:"u64"},{docs:["If the base token belongs to token2022, then you can choose to support the transferfeeConfig extension, which includes permissions such as `transfer_fee_config_authority`` and `withdraw_withheld_authority`.","When initializing mint, `withdraw_withheld_authority` and `transfer_fee_config_authority` both belongs to the contract.","Once the token is migrated to AMM, the authorities will be reset to this value"],name:"transfer_fee_extension_auth",type:"pubkey"},{docs:["padding for future updates"],name:"padding",type:{array:["u8",180]}},{docs:["The parameters for launching the pool"],name:"curve_params",type:{vec:{defined:{name:"PlatformCurveParam"}}}}],kind:"struct"}},{name:"PlatformConfigInfo",type:{fields:[{name:"fee_wallet",type:"pubkey"},{name:"nft_wallet",type:"pubkey"},{name:"migrate_nft_info",type:{defined:{name:"MigrateNftInfo"}}},{name:"fee_rate",type:"u64"},{name:"name",type:"string"},{name:"web",type:"string"},{name:"img",type:"string"},{name:"transfer_fee_extension_auth",type:"pubkey"},{name:"creator_fee_rate",type:"u64"}],kind:"struct"}},{name:"PlatformConfigParam",type:{kind:"enum",variants:[{fields:["pubkey"],name:"FeeWallet"},{fields:["pubkey"],name:"NFTWallet"},{fields:[{defined:{name:"MigrateNftInfo"}}],name:"MigrateNftInfo"},{fields:["u64"],name:"FeeRate"},{fields:["string"],name:"Name"},{fields:["string"],name:"Web"},{fields:["string"],name:"Img"},{name:"CpSwapConfig"},{fields:[{defined:{name:"PlatformConfigInfo"}}],name:"AllInfo"}]}},{name:"PlatformCurveParam",type:{fields:[{docs:["The epoch for update interval, 0 means not update"],name:"epoch",type:"u64"},{docs:["The curve params index"],name:"index",type:"u8"},{docs:["The global config address"],name:"global_config",type:"pubkey"},{docs:["bonding curve param"],name:"bonding_curve_param",type:{defined:{name:"BondingCurveParam"}}},{docs:["padding for future updates"],name:"padding",type:{array:["u64",50]}}],kind:"struct"}},{docs:["Represents the parameters for initializing a platform config account","# Fields","* `migrate_nft_info` - The platform configures liquidity info during migration(Only support MigrateType::CPSWAP)","* `fee_rate` - Fee rate of the platform","* `name` - Name of the platform","* `web` - Website of the platform","* `img` - Image link of the platform","/// * `creator_fee_rate` - The fee rate charged by the creator for each transaction."],name:"PlatformParams",type:{fields:[{name:"migrate_nft_info",type:{defined:{name:"MigrateNftInfo"}}},{name:"fee_rate",type:"u64"},{name:"name",type:"string"},{name:"web",type:"string"},{name:"img",type:"string"},{name:"creator_fee_rate",type:"u64"}],kind:"struct"}},{docs:["Emitted when pool created"],name:"PoolCreateEvent",type:{fields:[{name:"pool_state",type:"pubkey"},{name:"creator",type:"pubkey"},{name:"config",type:"pubkey"},{name:"base_mint_param",type:{defined:{name:"MintParams"}}},{name:"curve_param",type:{defined:{name:"CurveParams"}}},{name:"vesting_param",type:{defined:{name:"VestingParams"}}},{name:"amm_fee_on",type:{defined:{name:"AmmCreatorFeeOn"}}}],kind:"struct"}},{docs:["Represents the state of a trading pool in the protocol","Stores all essential information about pool balances, fees, and configuration"],name:"PoolState",type:{fields:[{docs:["Account update epoch"],name:"epoch",type:"u64"},{docs:["Bump seed used for PDA address derivation"],name:"auth_bump",type:"u8"},{docs:["Current status of the pool","* 0: Pool is funding","* 1: Pool funding is end, waiting for migration","* 2: Pool migration is done"],name:"status",type:"u8"},{docs:["Decimals of the pool base token"],name:"base_decimals",type:"u8"},{docs:["Decimals of the pool quote token"],name:"quote_decimals",type:"u8"},{docs:["Migrate to AMM or CpSwap, 0: amm\uff0c 1: cpswap"],name:"migrate_type",type:"u8"},{docs:["Supply of the pool base token"],name:"supply",type:"u64"},{docs:["Total sell amount of the base token"],name:"total_base_sell",type:"u64"},{docs:["For different curves, virtual_base and virtual_quote have different meanings","For constant product curve, virtual_base and virtual_quote are virtual liquidity, virtual_quote/virtual_base is the initial price","For linear price curve, virtual_base is the price slope parameter a, virtual_quote has no effect","For fixed price curve, virtual_quote/virtual_base is the initial price"],name:"virtual_base",type:"u64"},{name:"virtual_quote",type:"u64"},{docs:["Actual base token amount in the pool","Represents the real tokens available for trading"],name:"real_base",type:"u64"},{docs:["Actual quote token amount in the pool","Represents the real tokens available for trading"],name:"real_quote",type:"u64"},{docs:["The total quote fund raising of the pool"],name:"total_quote_fund_raising",type:"u64"},{docs:["Accumulated trading fees in quote tokens","Can be collected by the protocol fee owner"],name:"quote_protocol_fee",type:"u64"},{docs:["Accumulated platform fees in quote tokens","Can be collected by the platform wallet stored in platform config"],name:"platform_fee",type:"u64"},{docs:["The fee of migrate to amm"],name:"migrate_fee",type:"u64"},{docs:["Vesting schedule for the base token"],name:"vesting_schedule",type:{defined:{name:"VestingSchedule"}}},{docs:["Public key of the global configuration account","Contains protocol-wide settings this pool adheres to"],name:"global_config",type:"pubkey"},{docs:["Public key of the platform configuration account","Contains platform-wide settings this pool adheres to"],name:"platform_config",type:"pubkey"},{docs:["Public key of the base mint address"],name:"base_mint",type:"pubkey"},{docs:["Public key of the quote mint address"],name:"quote_mint",type:"pubkey"},{docs:["Public key of the base token vault","Holds the actual base tokens owned by the pool"],name:"base_vault",type:"pubkey"},{docs:["Public key of the quote token vault","Holds the actual quote tokens owned by the pool"],name:"quote_vault",type:"pubkey"},{docs:["The creator of base token"],name:"creator",type:"pubkey"},{docs:["token program bits","bit0: base token program flag","0: spl_token_program","1: token_program_2022","","bit1: quote token program flag","0: spl_token_program","1: token_program_2022"],name:"token_program_flag",type:"u8"},{docs:["migrate to cpmm, creator fee on quote token or both token"],name:"amm_creator_fee_on",type:{defined:{name:"AmmCreatorFeeOn"}}},{docs:["padding for future updates"],name:"padding",type:{array:["u8",62]}}],kind:"struct"}},{docs:["Represents the different states a pool can be in","* Fund - Initial state where pool is accepting funds","* Migrate - Pool funding has ended and waiting for migration","* Trade - Pool migration is complete and amm trading is enabled"],name:"PoolStatus",type:{kind:"enum",variants:[{name:"Fund"},{name:"Migrate"},{name:"Trade"}]}},{docs:["Specifies the direction of a trade in the bonding curve","This is important because curves can treat tokens differently through weights or offsets"],name:"TradeDirection",type:{kind:"enum",variants:[{name:"Buy"},{name:"Sell"}]}},{docs:["Emitted when trade process"],name:"TradeEvent",type:{fields:[{name:"pool_state",type:"pubkey"},{name:"total_base_sell",type:"u64"},{name:"virtual_base",type:"u64"},{name:"virtual_quote",type:"u64"},{name:"real_base_before",type:"u64"},{name:"real_quote_before",type:"u64"},{name:"real_base_after",type:"u64"},{name:"real_quote_after",type:"u64"},{name:"amount_in",type:"u64"},{name:"amount_out",type:"u64"},{name:"protocol_fee",type:"u64"},{name:"platform_fee",type:"u64"},{name:"creator_fee",type:"u64"},{name:"share_fee",type:"u64"},{name:"trade_direction",type:{defined:{name:"TradeDirection"}}},{name:"pool_status",type:{defined:{name:"PoolStatus"}}},{name:"exact_in",type:"bool"}],kind:"struct"}},{name:"TransferFeeExtensionParams",type:{fields:[{docs:["denominator is 10000, currently, this value cannot exceed 5%, which is 500."],name:"transfer_fee_basis_points",type:"u16"},{docs:["Maximum fee on each transfers, the value must exceed supply * transfer_fee_basis_points / 10000"],name:"maximum_fee",type:"u64"}],kind:"struct"}},{name:"VestingParams",type:{fields:[{name:"total_locked_amount",type:"u64"},{name:"cliff_period",type:"u64"},{name:"unlock_period",type:"u64"}],kind:"struct"}},{name:"VestingRecord",type:{fields:[{docs:["Account update epoch"],name:"epoch",type:"u64"},{docs:["The pool state account"],name:"pool",type:"pubkey"},{docs:["The beneficiary of the vesting account"],name:"beneficiary",type:"pubkey"},{docs:["The amount of tokens claimed"],name:"claimed_amount",type:"u64"},{docs:["The share amount of the token to be vested"],name:"token_share_amount",type:"u64"},{docs:["padding for future updates"],name:"padding",type:{array:["u64",8]}}],kind:"struct"}},{name:"VestingSchedule",type:{fields:[{name:"total_locked_amount",type:"u64"},{name:"cliff_period",type:"u64"},{name:"unlock_period",type:"u64"},{name:"start_time",type:"u64"},{docs:["Total allocated share amount of the base token, not greater than total_locked_amount"],name:"allocated_share_amount",type:"u64"}],kind:"struct"}}]},FN=class{program;connection;coder;constructor(e){this.program=new S$(FL,e),this.connection=e.connection,this.coder=new AY(this.program.idl)}async getBuyExactInInstruction(e,t,r,n,i,o){let a=o??await this.fetchLaunchpadExtraParams(t),[s,u]=await Promise.all([I7(a.baseMint,e),I7(a.quoteMint,e)]),l=this.program.methods.buyExactIn(r,n,i).accountsPartial({payer:e,globalConfig:a.globalConfig,platformConfig:a.platformConfig,poolState:t,userBaseToken:s,userQuoteToken:u,baseVault:a.baseVault,quoteVault:a.quoteVault,baseTokenMint:a.baseMint,quoteTokenMint:a.quoteMint,baseTokenProgram:SX}).remainingAccounts(this.getRemainingAccounts({platformConfig:a.platformConfig,creator:a.creator,quoteMint:a.quoteMint})),c=await l.instruction();return c}async getBuyExactOutInstruction(e,t,r,n,i,o){let a=o??await this.fetchLaunchpadExtraParams(t),[s,u]=await Promise.all([I7(a.baseMint,e),I7(a.quoteMint,e)]),l=this.program.methods.buyExactOut(r,n,i).accountsPartial({payer:e,globalConfig:a.globalConfig,platformConfig:a.platformConfig,poolState:t,userBaseToken:s,userQuoteToken:u,baseVault:a.baseVault,quoteVault:a.quoteVault,baseTokenMint:a.baseMint,quoteTokenMint:a.quoteMint,baseTokenProgram:SX}).remainingAccounts(this.getRemainingAccounts({platformConfig:a.platformConfig,creator:a.creator,quoteMint:a.quoteMint}));return l.instruction()}async getSellExactInInstruction(e,t,r,n,i,o){let a=o??await this.fetchLaunchpadExtraParams(t),[s,u]=await Promise.all([I7(a.baseMint,e),I7(a.quoteMint,e)]),l=this.program.methods.sellExactIn(r,n,i).accountsPartial({payer:e,globalConfig:a.globalConfig,platformConfig:a.platformConfig,poolState:t,userBaseToken:s,userQuoteToken:u,baseVault:a.baseVault,quoteVault:a.quoteVault,baseTokenMint:a.baseMint,quoteTokenMint:a.quoteMint,baseTokenProgram:SX}).remainingAccounts(this.getRemainingAccounts({platformConfig:a.platformConfig,creator:a.creator,quoteMint:a.quoteMint})),c=await l.instruction();return c}async getSellExactOutInstruction(e,t,r,n,i,o){let a=o??await this.fetchLaunchpadExtraParams(t),[s,u]=await Promise.all([I7(a.baseMint,e),I7(a.quoteMint,e)]),l=this.program.methods.sellExactOut(r,n,i).accountsPartial({payer:e,globalConfig:a.globalConfig,platformConfig:a.platformConfig,poolState:t,userBaseToken:s,userQuoteToken:u,baseVault:a.baseVault,quoteVault:a.quoteVault,baseTokenMint:a.baseMint,quoteTokenMint:a.quoteMint,baseTokenProgram:SX}).remainingAccounts(this.getRemainingAccounts({platformConfig:a.platformConfig,creator:a.creator,quoteMint:a.quoteMint}));return l.instruction()}applySlippage(e,t){return t.lte(new(ed(d0))(0))?e:e.sub(e.mul(t).div(new(ed(d0))(1e4)))}async fetchLaunchpadExtraParams(e){let t=await Fm(this.connection),r=await t.launchpad.getRpcPoolInfo({poolId:e}),n=await t.connection.getAccountInfo(r.platformId),i=NF.decode(n.data);return{globalConfig:r.configId,platformConfig:r.platformId,baseMint:r.mintA,quoteMint:r.mintB,baseVault:r.vaultA,quoteVault:r.vaultB,totalSellA:r.totalSellA,totalFundRaisingB:r.totalFundRaisingB,realA:r.realA,realB:r.realB,virtualA:r.virtualA,virtualB:r.virtualB,curveType:r.configInfo.curveType,protocolFeeRate:r.configInfo.tradeFeeRate,platformFeeRate:i.feeRate,creator:r.creator}}getLaunchLabReserves(e){let{baseLockedRaw:t,baseSupplyRaw:r,baseSellRaw:n,quoteRaiseRaw:i,baseVaultRaw:o,quoteVaultRaw:a}=e,{virtualA:s,virtualB:u}=this.calcVirtualReserves({baseLockedRaw:t,baseSupplyRaw:r,baseSellRaw:n,quoteRaiseRaw:i}),{realA:l,realB:c}=this.calcRealReserves({baseVaultRaw:o,quoteVaultRaw:a,virtualA:s,virtualB:u}),d=new(ed(d0))(n),p=new(ed(d0))(i);return{virtualA:s,virtualB:u,realA:l,realB:c,totalSellA:d,totalFundRaisingB:p}}calcVirtualReserves({baseLockedRaw:e,baseSupplyRaw:t,baseSellRaw:r,quoteRaiseRaw:n}){let i=new(ed(d0))("1000000000000000000"),o=new(ed(d0))(t),a=new(ed(d0))(r),s=new(ed(d0))(n),u=new(ed(d0))(e),l=o.sub(u).sub(a),c=s.mul(i).div(l),d=a.mul(c).div(i).sub(s),p=s.mul(s).div(d),f=c.mul(a).mul(a).add(d.subn(1)).div(d).add(i.subn(1)).div(i);return{virtualA:f,virtualB:p}}calcRealReserves({baseVaultRaw:e,quoteVaultRaw:t,virtualA:r,virtualB:n}){let i=new(ed(d0))(e),o=new(ed(d0))(t),a=r.sub(i),s=o.sub(n);return{realA:a,realB:s}}getRemainingAccounts(e){return[{pubkey:hV.programId,isSigner:!1,isWritable:!1},{pubkey:this.derivePlatformFeeVault(e.platformConfig,e.quoteMint),isSigner:!1,isWritable:!0},{pubkey:this.deriveCreatorFeeVault(e.creator,e.quoteMint),isSigner:!1,isWritable:!0}]}derivePlatformFeeVault(e,t){let[r]=ho.findProgramAddressSync([e.toBuffer(),t.toBuffer()],this.program.programId);return r}deriveCreatorFeeVault(e,t){let[r]=ho.findProgramAddressSync([e.toBuffer(),t.toBuffer()],this.program.programId);return r}},FD=((U=FD||{}).PUMP_CURVE="PUMP_CURVE",U.PUMP_SWAP="PUMP_SWAP",U.LAUNCHPAD="LAUNCHPAD",U.RAYDIUM_AMM_V4="RAYDIUM_AMM_V4",U.RAYDIUM_CPMM="RAYDIUM_CPMM",U.METEORA_DAMM_V2="METEORA_DAMM_V2",U.OKX_DEX="OKX_DEX",U),FF=((j=FF||{}).BUY="BUY",j.SELL="SELL",j),Fq={publicKey:new ho("11111111111111111111111111111111"),signTransaction:async e=>e,signAllTransactions:async e=>e},FU=class{pumpCurveSDK;pumpSwapSDK;launchpadSDK;raydiumAmmV4SDK;cpmmSwapSDK;meteoraDammV2SDK;okxDexSDK;WSOL=SY;constructor(e,t){this.pumpCurveSDK=new Fx(e),this.pumpSwapSDK=new FO(e),this.launchpadSDK=new FN(e),this.raydiumAmmV4SDK=new FC(e),this.cpmmSwapSDK=new FM(e),this.meteoraDammV2SDK=new Fy(e.connection),this.okxDexSDK=new Fb(t?.okxDexConfig)}async buildCompleteInstructions(e){try{this.validateTradeParams(e);let t={PUMP_CURVE:e=>this.buildPumpCurveInstructions(e),PUMP_SWAP:e=>this.buildPumpSwapInstructions(e),LAUNCHPAD:e=>this.buildLaunchpadSwapInstructions(e),RAYDIUM_AMM_V4:e=>this.buildRaydiumAmmV4SwapInstructions(e),RAYDIUM_CPMM:e=>this.buildRaydiumCpmmSwapInstructions(e),METEORA_DAMM_V2:e=>this.buildMeteoraDammV2SwapInstructions(e),OKX_DEX:e=>this.buildOkxDexSwapInstructions(e)}[e.ammType];if(!t)throw new F_(`Unsupported AMM type: ${e.ammType}`,Fv.INVALID_ACTION,{ammType:e.ammType});let r=await t(e),n=Array.isArray(r)?{instructions:r}:r,i=n.addressLookupTableAccount&&n.addressLookupTableAccount.length?Array.from(new Set(n.addressLookupTableAccount.filter(Boolean))):void 0;return{instructions:n.instructions,addressLookupTableAccount:i}}catch(t){if(t instanceof F_)throw t;throw new F_("Failed to build complete instructions",Fv.TRANSACTION_BUILD_FAILED,{ammType:e?.ammType,params:this.serializeTradeParams(e),cause:t instanceof Error?t.message:String(t)})}}async buildPumpCurveInstructions(e){if(!e.bondingCurveParams)throw new F_("BondingCurveParams required for PumpCurve operations",Fv.INVALID_PARAMS);let t=e.bondingCurveParams.mint,r=e.walletAddress,n="BUY"===e.bondingCurveParams.tradeType,i=BigInt(e.txOptions?.slippageBps||500),o=e.txOptions?.priorityFee??6666666,a=e.txOptions?.computeUnitLimit??2e5,s=[gO.setComputeUnitLimit({units:a}),gO.setComputeUnitPrice({microLamports:o})],u=e.bondingCurveParams&&e.bondingCurveParams.extraParams?{bondingCurveAddress:e.bondingCurveParams.extraParams.bondingCurveAddress,bondingCurveInfo:{virtualTokenReserves:new(ed(d0))(e.bondingCurveParams.extraParams.liquidityToken),virtualSolReserves:new(ed(d0))(e.bondingCurveParams.extraParams.liquiditySol),complete:!1,realTokenReserves:new(ed(d0))(0),realSolReserves:new(ed(d0))(0),tokenTotalSupply:new(ed(d0))(0),creator:e.bondingCurveParams.extraParams.creator},global:{feeRecipient:e.bondingCurveParams.extraParams.feeRecipient}}:{};if(n){let n=Ee(t,r);s.push(Er(r,n,r,t));let o=await this.pumpCurveSDK.getBuyInstructions(r,t,e.bondingCurveParams.amount,i,u);s.push(...o)}else{let n=await this.pumpCurveSDK.getSellInstructions(r,t,e.bondingCurveParams.amount,i,u);s.push(...n)}return s}async buildPumpSwapInstructions(e){if(!e.swapParams)throw new F_("SwapParams required for PumpSwap operations",Fv.INVALID_PARAMS);let{poolAddress:t,extraParams:r}=e.swapParams,n=r?.poolInfo,i=n??await this.pumpSwapSDK.fetchPool(t),o=n?n.baseMint:i.baseMint,a=n?n.quoteMint:i.quoteMint,s=o.equals(this.WSOL),u=a.equals(this.WSOL);if(!s&&!u)throw new F_("this pool is not wSOL to MemeCoin",Fv.INVALID_ACTION);let l=u&&e.swapParams.inputMint.equals(this.WSOL)||s&&e.swapParams.outputMint.equals(this.WSOL),c=e.walletAddress,d=e.swapParams.inputMint,p=e.swapParams.outputMint,f=d.equals(this.WSOL),h=p.equals(this.WSOL),m=Ee(this.WSOL,c),g=s?a:o,y=Ee(g,c),b=e.txOptions?.priorityFee??6666666,_=e.txOptions?.computeUnitLimit??2e5,w=e.txOptions?.unwrapAfterSell??!0,v=[gO.setComputeUnitLimit({units:_}),gO.setComputeUnitPrice({microLamports:b})],k=BigInt(e.txOptions?.slippageBps||500),A=e.swapParams.inputAmount;if(l){let e=await this.pumpSwapSDK.quoteBuy(t,A,n??void 0),i=this.pumpSwapSDK.applySlippage(e,k);FE.info(`Get Buy Instruction: \u{1F4B0} maxQuoteAmountIn: ${A}, inputAmount: ${A}, baseAmountOut: ${i}`);let o=await this.pumpSwapSDK.getBuyInstruction(c,t,i,A,r),a=h?[]:[Ea(m,c,c)],s=h&&w?this.unwrapSolIx(m,c):[];return[...v,...f?this.ensureAtaIx(c,this.WSOL,m):[],...f?this.wrapSolIx(c,m,A):[],...h?this.ensureAtaIx(c,this.WSOL,m):[],...this.ensureAtaIx(c,g,y),o,...s,...a]}let S=await this.pumpSwapSDK.quoteSell(t,A,n??void 0),I=this.pumpSwapSDK.applySlippage(S,k);FE.info(`Get Sell Instruction: \u{1F4B0} minQuoteAmountOut: ${I}, inputAmount: ${A}, quoteAmountOutQuoted: ${S}`);let E=await this.pumpSwapSDK.getSellInstruction(c,t,A,I,r);return[...v,...h||f?this.ensureAtaIx(c,this.WSOL,m):[],...f?this.wrapSolIx(c,m,A):[],...this.ensureAtaIx(c,g,y),E,...w&&h?this.unwrapSolIx(m,c):[]]}async buildLaunchpadSwapInstructions(e){let t;if(!e.launchpadParams)throw new F_("LaunchpadParams required for Launchpad operations",Fv.INVALID_PARAMS);let{poolAddress:r,mint:n,amount:i,tradeType:o,shareFeeRate:a=new(ed(d0))(0)}=e.launchpadParams,s=e.walletAddress,u=e.txOptions?.priorityFee??6666666,l=e.txOptions?.computeUnitLimit??2e5,c=BigInt(e.txOptions?.slippageBps||500),d=e.txOptions?.unwrapAfterSell??!0,p=[gO.setComputeUnitLimit({units:l}),gO.setComputeUnitPrice({microLamports:u})],f="BUY"===o,h="SELL"===o,m=Ee(this.WSOL,s),g=Ee(n,s),y=null,b=e.launchpadParams.extraParams?.launchpadInfo;if(b){let{baseLockedRaw:e,baseSupplyRaw:t,baseSellRaw:r,quoteRaiseRaw:n,liquidityToken:i,liquiditySol:o,globalConfig:a,platformConfig:s,baseMint:u,quoteMint:l,baseVault:c,quoteVault:d,creator:p,curveType:f,protocolFeeRate:h,platformFeeRate:m}=b,g=this.launchpadSDK.getLaunchLabReserves({baseLockedRaw:e,baseSupplyRaw:t,baseSellRaw:r,quoteRaiseRaw:n,baseVaultRaw:i,quoteVaultRaw:o});y={globalConfig:a,platformConfig:s,baseMint:u,quoteMint:l,baseVault:c,quoteVault:d,creator:p,...g,curveType:f,protocolFeeRate:h,platformFeeRate:m}}else y=await this.launchpadSDK.fetchLaunchpadExtraParams(r);y.curveType=y.curveType??0,y.protocolFeeRate=y.protocolFeeRate??new(ed(d0))(2500),y.platformFeeRate=y.platformFeeRate??new(ed(d0))(1e4);let _=(({totalSellA:e,totalFundRaisingB:t,realA:r,realB:n,virtualA:i,virtualB:o})=>({totalSellA:e,totalFundRaisingB:t,realA:r,realB:n,virtualA:i,virtualB:o}))(y);if("BUY"===o){let e=Nz.buyExactIn({poolInfo:_,amountB:i,protocolFeeRate:y.protocolFeeRate,platformFeeRate:y.platformFeeRate,curveType:y.curveType,shareFeeRate:a}),o=this.launchpadSDK.applySlippage(e.amountA,new(ed(d0))(c));t=await this.launchpadSDK.getBuyExactInInstruction(s,r,i,o,a,y);let u=[...f||h?this.ensureAtaIx(s,this.WSOL,m):[],...this.ensureAtaIx(s,n,g)],l=f?this.wrapSolIx(s,m,BigInt(i.toString())):[],b=h&&d?this.unwrapSolIx(m,s):[],w=f&&!h?[Ea(m,s,s)]:[];return[...p,...u,...l,t,...b,...w]}let w=Nz.sellExactIn({poolInfo:_,amountA:i,protocolFeeRate:y.protocolFeeRate,platformFeeRate:y.platformFeeRate,curveType:y.curveType,shareFeeRate:a}),v=this.launchpadSDK.applySlippage(w.amountB,new(ed(d0))(c));t=await this.launchpadSDK.getSellExactInInstruction(s,r,i,v,a,y);let k=[...f||h?this.ensureAtaIx(s,this.WSOL,m):[],...this.ensureAtaIx(s,n,g)],A=f?this.wrapSolIx(s,m,BigInt(i.toString())):[],S=h&&d?this.unwrapSolIx(m,s):[],I=f&&!h?[Ea(m,s,s)]:[];return[...p,...k,...A,t,...S,...I]}async buildRaydiumAmmV4SwapInstructions(e){if(!e.raydiumAmmV4Params)throw new F_("RaydiumAmmV4Params required for Raydium AMM V4 operations",Fv.INVALID_PARAMS);let{poolAddress:t,inputMint:r,outputMint:n,inputAmount:i}=e.raydiumAmmV4Params,o=e.walletAddress,a=e.txOptions?.priorityFee??6666666,s=e.txOptions?.computeUnitLimit??2e5,u=new(ed(d0))(e.txOptions?.slippageBps??500),l=e.txOptions?.unwrapAfterSell??!0,c=r.equals(this.WSOL),d=n.equals(this.WSOL),p=c?Ee(this.WSOL,o):Ee(r,o),f=d?Ee(this.WSOL,o):Ee(n,o),h=[gO.setComputeUnitLimit({units:s}),gO.setComputeUnitPrice({microLamports:a})],m=null;m=e.raydiumAmmV4Params.extraParams?{...e.raydiumAmmV4Params.extraParams,status:e.raydiumAmmV4Params.extraParams.status??6}:await this.raydiumAmmV4SDK.fetchAmmv4ExtraParams(t.toString());let g=await this.raydiumAmmV4SDK.computeAmountOut({version:4,status:m.status,baseReserve:m.baseReserve,quoteReserve:m.quoteReserve,mintA:{address:m.mintA.toBase58(),decimals:m.mintADecimals},mintB:{address:m.mintB.toBase58(),decimals:m.mintBDecimals}},i,r,n),y=new(ed(d0))(g?.amountOut?g.amountOut.toString():g.minAmountOut.toString()),b=this.raydiumAmmV4SDK.applySlippage(y,u);FE.info(`[buildRaydiumAmmV4SwapInstructions] estimatedOut: ${y.toString()}, minAmountOut: ${b.toString()}`),FE.info(`[buildRaydiumAmmV4SwapInstructions] quoteResult: ${JSON.stringify(g)}`);let _=await this.raydiumAmmV4SDK.getSwapBaseInInstruction(o,t,i,b,r,n,m),w=[...c||d?this.ensureAtaIx(o,this.WSOL,c?p:f):[],...c?[]:this.ensureAtaIx(o,r,p),...d?[]:this.ensureAtaIx(o,n,f)],v=c?this.wrapSolIx(o,p,BigInt(i.toString())):[],k=d&&l?this.unwrapSolIx(f,o):[],A=c&&!d?[Ea(p,o,o)]:[];return[...h,...w,...v,_,...k,...A]}async buildRaydiumCpmmSwapInstructions(e){if(!e.raydiumCpmmParams)throw new F_("RaydiumCpmmParams required for Raydium CPMM operations",Fv.INVALID_PARAMS);let{poolAddress:t,inputMint:r,outputMint:n,inputAmount:i}=e.raydiumCpmmParams,o=e.walletAddress,a=e.txOptions?.priorityFee??6666666,s=e.txOptions?.computeUnitLimit??2e5,u=new(ed(d0))(e.txOptions?.slippageBps??500),l=e.txOptions?.unwrapAfterSell??!0,c=r.equals(this.WSOL),d=n.equals(this.WSOL),p=c?Ee(this.WSOL,o):Ee(r,o),f=d?Ee(this.WSOL,o):Ee(n,o),h=[gO.setComputeUnitLimit({units:s}),gO.setComputeUnitPrice({microLamports:a})],m=null;if(e.raydiumCpmmParams.extraParams){let{authority:t,ammConfig:i,tokenVault:o,solVault:a,observationState:s,tradeFeeRate:u,liquiditySol:l,liquidityToken:d}=e.raydiumCpmmParams.extraParams;m={authority:t,ammConfig:i,inputVault:c?a:o,outputVault:c?o:a,inputTokenMint:r,outputTokenMint:n,observationState:s,tradeFeeRate:u,baseReserve:c?l:d,quoteReserve:c?d:l}}else m=await this.cpmmSwapSDK.fetchCpmmExtraParams(t,r,n);let g=LZ.swap(new(ed(d0))(i.toString()),m.baseReserve,m.quoteReserve,m.tradeFeeRate),y=this.cpmmSwapSDK.applySlippage(g.destinationAmountSwapped,u),b=await this.cpmmSwapSDK.getSwapBaseInputInstruction(o,t,r,n,i,y,m),_=[...c||d?this.ensureAtaIx(o,this.WSOL,c?p:f):[],...c?[]:this.ensureAtaIx(o,r,p),...d?[]:this.ensureAtaIx(o,n,f)],w=c?this.wrapSolIx(o,p,BigInt(i.toString())):[],v=d&&l?this.unwrapSolIx(f,o):[],k=c&&!d?[Ea(p,o,o)]:[];return[...h,..._,...w,b,...v,...k]}async buildMeteoraDammV2SwapInstructions(e){if(!e.meteoraDammV2Params)throw new F_("MeteoraDammV2Params required for Meteora DAMM V2 operations",Fv.INVALID_PARAMS);let{poolAddress:t,inputMint:r,outputMint:n,inputAmount:i,extraParams:o}=e.meteoraDammV2Params,a=e.walletAddress,s=e.txOptions?.priorityFee??6666666,u=e.txOptions?.computeUnitLimit??2e5,l=new(ed(d0))(e.txOptions?.slippageBps??500),c=e.txOptions?.unwrapAfterSell??!0,{swapIx:d,extraParamsResult:p}=await this.meteoraDammV2SDK.getSwapInstruction(a,t,r,n,i,l,o),f=r.equals(this.WSOL),h=n.equals(this.WSOL),m=Ee(f?this.WSOL:r,a,!1,this.getTokenProgramId(p,r)),g=Ee(h?this.WSOL:n,a,!1,this.getTokenProgramId(p,n)),y=[gO.setComputeUnitLimit({units:u}),gO.setComputeUnitPrice({microLamports:s})],b=[];(f||h)&&(f&&b.push({mint:this.WSOL,ata:m,program:SX}),h&&b.push({mint:this.WSOL,ata:g,program:SX})),f||b.push({mint:r,ata:m,program:this.getTokenProgramId(p,r)}),h||b.push({mint:n,ata:g,program:this.getTokenProgramId(p,n)});let _=b.flatMap(e=>this.ensureAtaIx(a,e.mint,e.ata,e.program)),w=f?this.wrapSolIx(a,m,BigInt(i.toString())):[],v=h&&c?this.unwrapSolIx(g,a):[],k=f&&!h?[Ea(m,a,a)]:[],A=[...y,..._,...w,d,...v,...k];return A}async buildOkxDexSwapInstructions(e){if(!e.okxDexParams)throw new F_("OkxDexParams required for OKX DEX operations",Fv.INVALID_PARAMS);let{chainIndex:t,fromTokenAddress:r,toTokenAddress:n,amount:i,slippage:o="0.1",priceTolerance:a="0",autoSlippage:s="false",pathNum:u="3"}=e.okxDexParams,l=e.walletAddress,{instructions:c,addressLookupTableAccount:d}=await this.okxDexSDK.getSwapInstructions({chainIndex:t,fromTokenAddress:r,toTokenAddress:n,amount:i,slippage:o,priceTolerance:a,autoSlippage:s,userWalletAddress:l.toBase58(),pathNum:u});return{instructions:c,addressLookupTableAccount:d}}getTokenProgramId(e,t){return t.equals(e.tokenAMint)?e.tokenAProgram:e.tokenBProgram}ensureAtaIx(e,t,r,n=SX){return[Er(e,r,e,t,n)]}wrapSolIx(e,t,r){return[hV.transfer({fromPubkey:e,toPubkey:t,lamports:Number(r)}),El(t)]}unwrapSolIx(e,t){return[El(e),Ea(e,t,t)]}serializeTradeParams(e){try{return JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"n":t)}catch(e){return`[Serialization Error: ${e}]`}}validateTradeParams(e){this.validatePublicKey(e.walletAddress,"walletAddress");let t=this.extractAmount(e);this.validatePositiveAmount(t,"amount"),e.txOptions?.slippageBps!==void 0&&this.ensure(e.txOptions.slippageBps>=0&&e.txOptions.slippageBps<=1e4,"Slippage must be between 0 and 10000 basis points",Fv.INVALID_SLIPPAGE,{slippageBps:e.txOptions.slippageBps});let r={PUMP_CURVE:()=>this.validatePumpCurveParams(e),PUMP_SWAP:()=>this.validatePumpSwapParams(e),LAUNCHPAD:()=>this.validateLaunchpadParams(e),RAYDIUM_AMM_V4:()=>this.validateRaydiumAmmV4Params(e),RAYDIUM_CPMM:()=>this.validateRaydiumCpmmParams(e),METEORA_DAMM_V2:()=>this.validateMeteoraDammV2Params(e),OKX_DEX:()=>this.validateOkxDexParams(e)}[e.ammType];if(!r)throw new F_(`Unsupported AMM type: ${e.ammType}`,Fv.INVALID_ACTION,{ammType:e.ammType});r()}extractAmount(e){let t=e.bondingCurveParams?.amount??e.swapParams?.inputAmount??e.launchpadParams?.amount??e.raydiumAmmV4Params?.inputAmount??e.raydiumCpmmParams?.inputAmount??e.meteoraDammV2Params?.inputAmount??(e.okxDexParams?.amount?BigInt(e.okxDexParams.amount):void 0)??0n;return ed(d0).isBN(t),t}validatePumpCurveParams(e){this.validateRequired(e.bondingCurveParams,"BondingCurveParams",Fv.INVALID_PARAMS);let{bondingCurveParams:t}=e;if(this.validatePublicKey(t.mint,"bondingCurveParams.mint"),t.extraParams){let e=t.extraParams;this.validateRequiredFields(e,[{key:"bondingCurveAddress",name:"bondingCurveParams.extraParams.bondingCurveAddress",type:"publicKey"},{key:"liquidityToken",name:"bondingCurveParams.extraParams.liquidityToken",type:"amount"},{key:"liquiditySol",name:"bondingCurveParams.extraParams.liquiditySol",type:"amount"},{key:"feeRecipient",name:"bondingCurveParams.extraParams.feeRecipient",type:"publicKey"},{key:"creator",name:"bondingCurveParams.extraParams.creator",type:"publicKey"}])}}validatePumpSwapParams(e){this.validateRequired(e.swapParams,"SwapParams",Fv.INVALID_PARAMS);let{swapParams:t}=e;if(this.validateRequiredFields(t,[{key:"inputMint",name:"swapParams.inputMint",type:"publicKey"},{key:"outputMint",name:"swapParams.outputMint",type:"publicKey"},{key:"poolAddress",name:"swapParams.poolAddress",type:"publicKey"}]),this.validateNotEqual(t.inputMint,t.outputMint,"inputMint","outputMint"),t.extraParams?.poolInfo){let e=t.extraParams.poolInfo;this.validateRequiredFields(e,[{key:"baseMint",name:"swapParams.extraParams.poolInfo.baseMint",type:"publicKey"},{key:"quoteMint",name:"swapParams.extraParams.poolInfo.quoteMint",type:"publicKey"},{key:"baseTokenAmount",name:"swapParams.extraParams.poolInfo.baseTokenAmount",type:"amount"},{key:"quoteTokenAmount",name:"swapParams.extraParams.poolInfo.quoteTokenAmount",type:"amount"},{key:"poolBaseTokenAccount",name:"swapParams.extraParams.poolInfo.poolBaseTokenAccount",type:"publicKey"},{key:"poolQuoteTokenAccount",name:"swapParams.extraParams.poolInfo.poolQuoteTokenAccount",type:"publicKey"},{key:"coinCreator",name:"swapParams.extraParams.poolInfo.coinCreator",type:"publicKey"}])}}validateLaunchpadParams(e){this.validateRequired(e.launchpadParams,"LaunchpadParams",Fv.INVALID_PARAMS);let{launchpadParams:t}=e;if(this.validateRequiredFields(t,[{key:"poolAddress",name:"launchpadParams.poolAddress",type:"publicKey"},{key:"mint",name:"launchpadParams.mint",type:"publicKey"},{key:"amount",name:"launchpadParams.amount",type:"amount"}]),this.ensure("BUY"===t.tradeType||"SELL"===t.tradeType,"TradeType must be BUY or SELL for Launchpad",Fv.INVALID_ACTION,{tradeType:t.tradeType}),t.extraParams?.launchpadInfo){let e=t.extraParams.launchpadInfo;this.validateRequiredFields(e,[{key:"globalConfig",name:"launchpadParams.extraParams.launchpadInfo.globalConfig",type:"publicKey"},{key:"platformConfig",name:"launchpadParams.extraParams.launchpadInfo.platformConfig",type:"publicKey"},{key:"baseMint",name:"launchpadParams.extraParams.launchpadInfo.baseMint",type:"publicKey"},{key:"quoteMint",name:"launchpadParams.extraParams.launchpadInfo.quoteMint",type:"publicKey"},{key:"baseVault",name:"launchpadParams.extraParams.launchpadInfo.baseVault",type:"publicKey"},{key:"quoteVault",name:"launchpadParams.extraParams.launchpadInfo.quoteVault",type:"publicKey"},{key:"creator",name:"launchpadParams.extraParams.launchpadInfo.creator",type:"publicKey"},{key:"baseSupplyRaw",name:"launchpadParams.extraParams.launchpadInfo.baseSupplyRaw",type:"amount"},{key:"baseSellRaw",name:"launchpadParams.extraParams.launchpadInfo.baseSellRaw",type:"amount"},{key:"quoteRaiseRaw",name:"launchpadParams.extraParams.launchpadInfo.quoteRaiseRaw",type:"amount"},{key:"initialLiquidityToken",name:"launchpadParams.extraParams.launchpadInfo.initialLiquidityToken",type:"amount"},{key:"initialLiquiditySol",name:"launchpadParams.extraParams.launchpadInfo.initialLiquiditySol",type:"amount"},{key:"liquidityToken",name:"launchpadParams.extraParams.launchpadInfo.liquidityToken",type:"amount"},{key:"liquiditySol",name:"launchpadParams.extraParams.launchpadInfo.liquiditySol",type:"amount"}]),this.ensure([0,1,2].includes(e.curveType),"curveType must be 0, 1, or 2",Fv.INVALID_PARAMS,{curveType:e.curveType})}}validateRaydiumAmmV4Params(e){this.validateRequired(e.raydiumAmmV4Params,"RaydiumAmmV4Params",Fv.INVALID_ACTION);let{raydiumAmmV4Params:t}=e;if(this.validateRequiredFields(t,[{key:"poolAddress",name:"raydiumAmmV4Params.poolAddress",type:"publicKey"},{key:"inputMint",name:"raydiumAmmV4Params.inputMint",type:"publicKey"},{key:"outputMint",name:"raydiumAmmV4Params.outputMint",type:"publicKey"}]),this.validateNotEqual(t.inputMint,t.outputMint,"inputMint","outputMint"),t.extraParams){let e=t.extraParams;this.validateRequiredFields(e,[{key:"authority",name:"raydiumAmmV4Params.extraParams.authority",type:"publicKey"},{key:"marketProgramId",name:"raydiumAmmV4Params.extraParams.marketProgramId",type:"publicKey"},{key:"marketAsks",name:"raydiumAmmV4Params.extraParams.marketAsks",type:"publicKey"},{key:"marketBids",name:"raydiumAmmV4Params.extraParams.marketBids",type:"publicKey"},{key:"marketAuthority",name:"raydiumAmmV4Params.extraParams.marketAuthority",type:"publicKey"},{key:"marketBaseVault",name:"raydiumAmmV4Params.extraParams.marketBaseVault",type:"publicKey"},{key:"marketQuoteVault",name:"raydiumAmmV4Params.extraParams.marketQuoteVault",type:"publicKey"},{key:"marketEventQueue",name:"raydiumAmmV4Params.extraParams.marketEventQueue",type:"publicKey"},{key:"marketId",name:"raydiumAmmV4Params.extraParams.marketId",type:"publicKey"},{key:"mintA",name:"raydiumAmmV4Params.extraParams.mintA",type:"publicKey"},{key:"mintB",name:"raydiumAmmV4Params.extraParams.mintB",type:"publicKey"},{key:"mintAVault",name:"raydiumAmmV4Params.extraParams.mintAVault",type:"publicKey"},{key:"mintBVault",name:"raydiumAmmV4Params.extraParams.mintBVault",type:"publicKey"},{key:"openOrders",name:"raydiumAmmV4Params.extraParams.openOrders",type:"publicKey"},{key:"targetOrders",name:"raydiumAmmV4Params.extraParams.targetOrders",type:"publicKey"},{key:"baseReserve",name:"raydiumAmmV4Params.extraParams.baseReserve",type:"amount"},{key:"quoteReserve",name:"raydiumAmmV4Params.extraParams.quoteReserve",type:"amount"},{key:"mintADecimals",name:"raydiumAmmV4Params.extraParams.mintADecimals"},{key:"mintBDecimals",name:"raydiumAmmV4Params.extraParams.mintBDecimals"}])}}validateRaydiumCpmmParams(e){this.validateRequired(e.raydiumCpmmParams,"RaydiumCpmmParams",Fv.INVALID_ACTION);let{raydiumCpmmParams:t}=e;if(this.validateRequiredFields(t,[{key:"poolAddress",name:"raydiumCpmmParams.poolAddress",type:"publicKey"},{key:"inputMint",name:"raydiumCpmmParams.inputMint",type:"publicKey"},{key:"outputMint",name:"raydiumCpmmParams.outputMint",type:"publicKey"}]),this.validateNotEqual(t.inputMint,t.outputMint,"inputMint","outputMint"),t.extraParams){let e=t.extraParams;this.validateRequiredFields(e,[{key:"authority",name:"raydiumCpmmParams.extraParams.authority",type:"publicKey"},{key:"ammConfig",name:"raydiumCpmmParams.extraParams.ammConfig",type:"publicKey"},{key:"tokenVault",name:"raydiumCpmmParams.extraParams.tokenVault",type:"publicKey"},{key:"solVault",name:"raydiumCpmmParams.extraParams.solVault",type:"publicKey"},{key:"observationState",name:"raydiumCpmmParams.extraParams.observationState",type:"publicKey"},{key:"tradeFeeRate",name:"raydiumCpmmParams.extraParams.tradeFeeRate",type:"amount"},{key:"liquiditySol",name:"raydiumCpmmParams.extraParams.liquiditySol",type:"amount"},{key:"liquidityToken",name:"raydiumCpmmParams.extraParams.liquidityToken",type:"amount"}])}}validateMeteoraDammV2Params(e){this.validateRequired(e.meteoraDammV2Params,"MeteoraDammV2Params",Fv.INVALID_ACTION);let{meteoraDammV2Params:t}=e;if(this.validateRequiredFields(t,[{key:"poolAddress",name:"meteoraDammV2Params.poolAddress",type:"publicKey"},{key:"inputMint",name:"meteoraDammV2Params.inputMint",type:"publicKey"},{key:"outputMint",name:"meteoraDammV2Params.outputMint",type:"publicKey"},{key:"inputAmount",name:"meteoraDammV2Params.inputAmount",type:"amount"}]),this.validateNotEqual(t.inputMint,t.outputMint,"inputMint","outputMint"),t.extraParams){let e=t.extraParams;this.validateRequiredFields(e,[{key:"tokenAMint",name:"meteoraDammV2Params.extraParams.tokenAMint",type:"publicKey"},{key:"tokenBMint",name:"meteoraDammV2Params.extraParams.tokenBMint",type:"publicKey"},{key:"tokenAProgram",name:"meteoraDammV2Params.extraParams.tokenAProgram",type:"publicKey"},{key:"tokenBProgram",name:"meteoraDammV2Params.extraParams.tokenBProgram",type:"publicKey"},{key:"tokenADecimal",name:"meteoraDammV2Params.extraParams.tokenADecimal",type:"amount"},{key:"tokenBDecimal",name:"meteoraDammV2Params.extraParams.tokenBDecimal",type:"amount"}])}}validateOkxDexParams(e){this.validateRequired(e.okxDexParams,"OkxDexParams",Fv.INVALID_PARAMS);let{okxDexParams:t}=e;this.validateRequiredFields(t,[{key:"chainIndex",name:"okxDexParams.chainIndex",type:"any"},{key:"fromTokenAddress",name:"okxDexParams.fromTokenAddress",type:"publicKey"},{key:"toTokenAddress",name:"okxDexParams.toTokenAddress",type:"publicKey"},{key:"amount",name:"okxDexParams.amount",type:"any"}]),this.validateNotEqual(t.fromTokenAddress,t.toTokenAddress,"fromTokenAddress","toTokenAddress");let r=parseFloat(t.amount);if(isNaN(r)||r<=0)throw new F_(`okxDexParams.amount must be a positive number, got: ${t.amount}`,Fv.INVALID_AMOUNT,{amount:t.amount})}validateRequiredFields(e,t){for(let{key:r,name:n,type:i="any",errorCode:o}of t){let t=e[r];"publicKey"===i?this.validatePublicKey(t,n):"amount"===i?(this.validateRequired(t,n,o),this.validatePositiveAmount(t,n)):this.validateRequired(t,n,o)}}ensure(e,t,r,n){if(!e)throw new F_(t,r,n)}validateRequired(e,t,r=Fv.INVALID_PARAMS){this.ensure(null!=e,`${t} is required`,r,{field:t})}validatePublicKey(e,t){this.ensure(null!=e,`${t} is required`,Fv.INVALID_MINT_ADDRESS,{field:t})}validateNotEqual(e,t,r,n){this.ensure(!e.equals(t),`${r} and ${n} cannot be the same`,Fv.INVALID_MINT_ADDRESS,{[r]:e.toBase58(),[n]:t.toBase58()})}validatePositiveAmount(e,t="amount"){let r=ed(d0).isBN(e)?e:new(ed(d0))(e.toString());this.ensure(r.gt(new(ed(d0))(0)),`${t} must be greater than 0`,Fv.INVALID_AMOUNT,{[t]:r.toString()})}getPumpCurveSDK(){return this.pumpCurveSDK}getPumpSwapSDK(){return this.pumpSwapSDK}getLaunchpadSDK(){return this.launchpadSDK}getRaydiumAmmV4SDK(){return this.raydiumAmmV4SDK}getRaydiumCpmmSDK(){return this.cpmmSwapSDK}getMeteoraDammV2SDK(){return this.meteoraDammV2SDK}},Fj=class{connection;commitment;cacheTTL;safetyMarginBlockHeights;cachedBlockhash=null;cachedSlot=null;inflightBlockhashPromise=null;inflightBlockHeightPromise=null;constructor(e,t="confirmed",r=60,n=30){this.connection=e,this.commitment=t,this.cacheTTL=1e3*r,this.safetyMarginBlockHeights=n}async get(){let e=Date.now();return this.cachedBlockhash&&await this.isCacheValid(e)?{blockhash:this.cachedBlockhash.blockhash,lastValidBlockHeight:this.cachedBlockhash.lastValidBlockHeight,minContextSlot:this.cachedBlockhash.minContextSlot}:this.fetchFresh()}async preloadTransactionContext(){return this.fetchFresh()}async getCachedSlot(){let e=Date.now();if(this.cachedSlot&&e-this.cachedSlot.timestamp<this.cacheTTL)return this.cachedSlot.slot;let t=await this.connection.getSlot();return this.cachedSlot={slot:t,timestamp:e,ttl:this.cacheTTL},t}async preloadSlot(){if(this.cachedSlot)return;let e=await this.connection.getSlot();return this.cachedSlot={slot:e,timestamp:Date.now(),ttl:this.cacheTTL},e}async fetchFresh(){this.inflightBlockhashPromise||(this.inflightBlockhashPromise=this.fetchBlockhashWithContext());try{let e=await this.inflightBlockhashPromise;return this.cachedBlockhash=e,{blockhash:e.blockhash,lastValidBlockHeight:e.lastValidBlockHeight,minContextSlot:e.minContextSlot}}finally{this.inflightBlockhashPromise=null}}async fetchBlockhashWithContext(){let e=await this.connection.getLatestBlockhashAndContext(this.commitment);return{blockhash:e.value.blockhash,lastValidBlockHeight:e.value.lastValidBlockHeight,cachedBlockHeight:e.context.slot,minContextSlot:e.context.slot,timestamp:Date.now(),ttl:this.cacheTTL}}async isCacheValid(e){if(!this.cachedBlockhash)return!1;let{timestamp:t,ttl:r,lastValidBlockHeight:n}=this.cachedBlockhash;if(e-t>=r)return!1;let i=n-this.estimateCurrentBlockHeight(e);return i>this.safetyMarginBlockHeights}estimateCurrentBlockHeight(e){if(!this.cachedBlockhash)return 0;let t=e-this.cachedBlockhash.timestamp;return this.cachedBlockhash.cachedBlockHeight+Math.floor(t/400)}},FW=class{strategies;connection;constructor(e,t){this.strategies=e,this.connection=t}async send(e,t){let r;let n=t.maxRetries??5,i=t.retryDelay??200;for(let o=1;o<=n;o++)try{let r=await this.sendWithStrategy(e,t);return FE.info(`\u2705 Transaction sent successfully via ${t.strategy}: ${r}`),r}catch(a){r=a;let e=n-o;if(e>0&&this.shouldRetry(a)){let r=a instanceof Error?a.message:String(a);FE.warn(`\u{1F504} Attempt ${o}/${n} failed: Sending via ${t.strategy}. ${e} retries left. Retrying in ${i}ms...`,Fw(r)),await this.sleep(i)}else break}throw this.wrapError(r,`Failed to send transaction after ${n} attempts via ${t.strategy}`,Fv.TRANSACTION_FAILED)}async sendWithStrategy(e,t){let r=this.strategies.find(e=>e.name===t.strategy);if(!r)throw new F_(`Strategy "${t.strategy}" not found. Available strategies: ${this.strategies.map(e=>e.name).join(", ")}`,Fv.INVALID_PARAMS,{requestedStrategy:t.strategy,availableStrategies:this.strategies.map(e=>e.name)});try{let n={skipPreflight:t.skipPreflight,mevProtection:t.mevProtection},i=await r.send(e,this.connection,n);if(!i||"string"!=typeof i)throw new F_(`Strategy "${t.strategy}" returned invalid signature`,Fv.SIGNATURE_VERIFICATION_FAILED,{signature:i});return i}catch(e){throw this.wrapError(e,`Strategy "${t.strategy}" failed`,Fv.TRANSACTION_FAILED,{strategy:t.strategy})}}shouldRetry(e){if(e instanceof F_){let t=[Fv.INVALID_PARAMS,Fv.INVALID_MINT_ADDRESS,Fv.INVALID_ACTION,Fv.SIGNATURE_VERIFICATION_FAILED,Fv.INSUFFICIENT_BALANCE,Fv.INVALID_PRIVATE_KEY];if(t.includes(e.code))return FE.info(`\u274C Not retrying due to error code: ${e.code}`),!1}return!0}sleep(e){return new Promise(t=>setTimeout(t,e))}wrapError(e,t,r,n){let i=Fw(e);if(e instanceof F_){let r=e.details?.contextChain||[];return r.push(t),new F_(e.message,e.code,{...e.details,...n,contextChain:r},e)}return new F_(`${t}: ${i.message}`,r,n,i)}},FK=["96gYZGLnJYVFmbjzopPSU6QiEV5fGqZNyN9nmNhvrZU5","HFqU5x63VTqvQss8hp11i4wVV8bD44PvwucfZ2bU7gRe","Cw8CFyM9FkoMi7K7Crf6HNQqf4uEMzpKw6QNghXLvLkY","ADaUMid9yfUytqMBgopwjb2DTLSokTSzL1zt6iGPaS49","DfXygSm4jCyNCybVYYK6DwvWqjKee8pbDmJGcLWNDXjh","ADuUkR4vqLUMWXxW9gh6D6L8pMSawimctcNZ5pGwDcEt","DttWaMuVvTiduZRnguLF7jNxTgiMBZ1hyAumKUiL2KRL","3AVi9Tg9Uo68tJfuvoKvqKNWKkC5wPdSSdeBnizKZ6jT"],Fz=class{name="JITO";config;endpoint;constructor(e){this.validateConfig(e),this.config=e,this.endpoint="https://mainnet.block-engine.jito.wtf/api/v1"}isAvailable(){return!!(this.config.UUID&&this.config.UUID.length>0)}async send(e,t,r){let n=this.serializeTransaction(e),i=await this.submitSingleTransaction(n);if(i.error)throw Error(`Failed to send transaction via Jito: ${i.error}`);return i.result}async submitSingleTransaction(e){try{let t=await this.makeApiRequest("/transactions?bundleOnly=true",{jsonrpc:"2.0",id:"frontrun",method:"sendTransaction",params:[e]}),r=await t.json();if(r.error)return this.createErrorResult(r.error.message);return{result:r.result||"Transaction submitted successfully"}}catch(e){return this.createErrorResult(this.getErrorMessage(e))}}async sendBundle(e){if(!this.isAvailable())return this.createErrorResult("Jito not available - check JITO_API_UUID configuration");if(e.length>5)return this.createErrorResult("Bundle exceeds maximum size of 5 transactions");try{let t=await this.makeApiRequest("/bundles",{jsonrpc:"2.0",id:1,method:"sendBundle",params:[e]}),r=await t.json();if(r.error)return this.createErrorResult(`Jito API error: ${r.error.message}`);return{result:r.result||"Bundle submitted successfully"}}catch(e){return this.createErrorResult(this.getErrorMessage(e))}}async getBundleStatus(e){if(!this.isAvailable())throw Error("Jito not available - check configuration");try{let t=await this.makeApiRequest("/bundles",{jsonrpc:"2.0",id:1,method:"getBundleStatuses",params:[[e]]}),r=await t.json();if(r.error)throw Error(`Failed to get bundle status: ${r.error.message}`);return r}catch(e){throw Error(`Bundle status query failed: ${this.getErrorMessage(e)}`)}}async createTipInstruction(e,t){let r=await this.calculateOptimalTip(t),n=this.selectRandomTipAccount();return hV.transfer({fromPubkey:e,toPubkey:n,lamports:Math.floor(1e9*r)})}validateConfig(e){if(!e.UUID||0===e.UUID.trim().length)throw Error("JitoStrategy: UUID is required and cannot be empty")}serializeTransaction(e){return ed(Ec).encode(e.serialize())}async makeApiRequest(e,t){let r=await fetch(`${this.endpoint}${e}`,{method:"POST",headers:{"Content-Type":"application/json","x-jito-auth":this.config.UUID},body:JSON.stringify(t)});if(!r.ok)throw Error(`HTTP ${r.status}: ${r.statusText}`);return r}async calculateOptimalTip(e){return void 0!==e?e/1e9:void 0!==this.config.tipLamports?this.config.tipLamports/1e9:this.fetchRecommendedTip()}async fetchRecommendedTip(){try{let e=await fetch("http://bundles-api-rest.jito.wtf/api/v1/bundles/tip_floor"),t=await e.json();if(t&&t.length>0){let e=this.config.tipLevel||"landed_tips_75th_percentile",r=t[0][e];if("number"==typeof r&&r>0)return r}}catch(e){FE.warn("Failed to fetch tip floor data, using default:",this.getErrorMessage(e))}return .001}selectRandomTipAccount(){let e=Math.floor(Math.random()*FK.length),t=FK[e];return new ho(t)}createErrorResult(e){return{result:"",error:e}}getErrorMessage(e){return e instanceof Error?e.message:String(e)}};async function FV(){if(Y)return Y;let{Agent:e}=await $6e0f24eceed27b33$importAsync$4795a18237a5fe12,{Agent:t}=await $6e0f24eceed27b33$importAsync$2461394f8dfb1214,r=xn.create({httpAgent:new e({keepAlive:!0,keepAliveMsecs:15e3}),httpsAgent:new t({keepAlive:!0,keepAliveMsecs:15e3}),proxy:!1,timeout:15e3,maxRedirects:0});return Y=FG(r)}var FH=FG(xn.create({timeout:15e3,maxRedirects:0}));function FG(e){return{get:(t,r)=>e.get(t,r),post:(t,r,n)=>e.post(t,r,n)}}async function F$(){return Fk?FV():FH}var FX="undefined"!=typeof window,FZ=["http://ny.node1.me","http://ams.node1.me","http://fra.node1.me","https://ny.node1.me","https://ams.node1.me","https://fra.node1.me"],FQ=["node1PqAa3BWWzUnTHVbw8NJHC874zn9ngAkXjgWEej","node1UzzTxAAeBTpfZkQPJXBAqixsbdth11ba1NXLBG","node1Qm1bV4fwYnCurP8otJ9s5yrkPq7SPZ5uhj3Tsv","node1PUber6SFmSQgvf2ECmXsHP5o3boRSGhvJyPMX1","node1AyMbeqiVN6eoQzEAwCA6Pk826hrdqdAHR7cdJ3","node1YtWCoTwwVYTFLfS19zquRQzYX332hs1HEuRBjC"],FY=class{name="NODE1";config;httpClientPromise=F$();keepaliveTimer;constructor(e){this.validateConfig(e),this.config=e,this.warmConnections().then(()=>FE.info("\uD83D\uDD04 Node1 connection warm-up completed")).catch(e=>FE.warn("Node1 connection warm-up failed:",e)),this.startKeepAlive()}isAvailable(){return!!this.config.apiKey}async send(e,t,r){return await this.broadcastTransaction(e)}async broadcastTransaction(e,t={}){let{timeoutMs:r=15e3}=t;if(!this.isAvailable())throw Error("Node1 apiKey not configured");let n=Fl.from(e.serialize()).toString("base64"),i={jsonrpc:"2.0",id:`frontrun-${Date.now()}`,method:"sendTransaction",params:[n,{encoding:"base64"}]},o=this.generateRequestUrls(),a=new AbortController,s=await this.httpClientPromise,u=o.map(e=>s.post(e,i,{signal:a.signal,timeout:r,headers:{"api-key":this.config.apiKey}}).then(e=>{let t="data"in e?e.data:e,r=t?.result;if(!r)throw Error(t?.error?.message??"No signature returned from endpoint");return r}));try{let e=await Promise.any(u);return a.abort(),e}catch(r){let e=r instanceof AggregateError?r.errors:[r],t=e.map(e=>`\u2022 ${e.message??String(e)}`).join("\n");throw Error(`All Node1 endpoints failed:
${t}`)}}async createTipInstruction(e,t){let r=Math.max(t??this.config.tipLamports??2e6,2e6),n=this.selectRandomTipAddress();return hV.transfer({fromPubkey:e,toPubkey:n,lamports:Math.round(r)})}stopKeepAlive(){this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=void 0)}destroy(){this.stopKeepAlive()}validateConfig(e){if(!e.apiKey)throw Error("Node1Strategy: apiKey is required")}generateRequestUrls(){return[...FZ]}selectEndpoint(){return this.selectRandomFromArray(FZ)}selectRandomTipAddress(){let e=this.selectRandomFromArray(FQ);return new ho(e)}async ping(e){let t=`${e}/ping`;if(FX)await fetch(t,{method:"GET",mode:"no-cors",keepalive:!0});else{let e=await this.httpClientPromise;await e.get(t,{timeout:15e3})}}async warmConnections(){await Promise.all(FZ.map(e=>this.ping(e).catch(()=>void 0)))}startKeepAlive(){if(this.keepaliveTimer)return;let e=0;this.keepaliveTimer=setInterval(async()=>{for(let t of(e++,FZ)){let r;let n=Date.now();try{await this.ping(t),r=Date.now()-n}catch{r=-1}if(1===e||e%10==0){let n=t.includes("ny")?"ny":t.includes("ams")?"ams":"fra",i=t.startsWith("https")?"HTTPS":"HTTP";FE.info(`\u{1F504} Node1 round ${e} \u2013 ${n} (${i}): ${r>=0?r+"ms":"fail"}`)}await new Promise(e=>setTimeout(e,300))}},6e4)}selectRandomFromArray(e){let t=Math.floor(Math.random()*e.length);return e[t]}getErrorMessage(e){return e instanceof Error?e.message:String(e)}},FJ="undefined"!=typeof window,F1=FJ&&window?.location?.hostname?.includes("axiom.trade"),F0=["http://pit1.nozomi.temporal.xyz/?c=","http://tyo1.nozomi.temporal.xyz/?c=","http://sgp1.nozomi.temporal.xyz/?c=","http://ewr1.nozomi.temporal.xyz/?c=","http://ams1.nozomi.temporal.xyz/?c=","http://fra2.nozomi.temporal.xyz/?c="],F2=["https://nozomi.temporal.xyz/?c=","https://lax1.secure.nozomi.temporal.xyz/?c=","https://ash1.secure.nozomi.temporal.xyz/?c=","https://ams1.secure.nozomi.temporal.xyz/?c=","https://tyo1.secure.nozomi.temporal.xyz/?c=","https://sgp1.secure.nozomi.temporal.xyz/?c=","https://ewr1.secure.nozomi.temporal.xyz/?c=","https://pit1.secure.nozomi.temporal.xyz/?c=","https://fra2.secure.nozomi.temporal.xyz/?c="],F6=["TEMPaMeCRFAS9EKF53Jd6KpHxgL47uWLcpFArU1Fanq","noz3jAjPiHuBPqiSPkkugaJDkJscPuRhYnSpbi8UvC4","noz3str9KXfpKknefHji8L1mPgimezaiUyCHYMDv1GE","noz6uoYCDijhu1V7cutCpwxNiSovEwLdRHPwmgCGDNo","noz9EPNcT7WH6Sou3sr3GGjHQYVkN3DNirpbvDkv9YJ","nozc5yT15LazbLTFVZzoNZCwjh3yUtW86LoUyqsBu4L","nozFrhfnNGoyqwVuwPAW4aaGqempx4PU6g6D9CJMv7Z","nozievPk7HyK1Rqy1MPJwVQ7qQg2QoJGyP71oeDwbsu","noznbgwYnBLDHu8wcQVCEw6kDrXkPdKkydGJGNXGvL7","nozNVWs5N8mgzuD3qigrCG2UoKxZttxzZ85pvAQVrbP","nozpEGbwx4BcGp6pvEdAh1JoC2CQGZdU6HbNP1v2p6P","nozrhjhkCr3zXT3BiT4WCodYCUFeQvcdUkM7MqhKqge","nozrwQtWhEdrA6W8dkbt9gnUaMs52PdAv5byipnadq3","nozUacTVWub3cL4mJmGCYjKZTnE9RbdY5AP46iQgbPJ","nozWCyTPppJjRuw2fpzDhhWbW355fzosWSzrrMYB1Qk","nozWNju6dY353eMkMqURqwQEoM3SFgEKC6psLCSfUne","nozxNBgWohjR75vdspfxR5H9ceC7XXH99xpxhVGt3Bb"],F4=class{name="NOZOMI";config;httpClientPromise=F$();keepaliveTimer;constructor(e){this.validateConfig(e),this.config=e,this.warmConnections().then(()=>FE.info("\uD83D\uDD04 Nozomi connection warm-up completed")).catch(e=>FE.warn("Nozomi connection warm-up failed:",e)),F1?FE.info("\u23f8 Detected axiom.trade \u2013 skip self keep-alive"):(this.startKeepAlive(),FE.info("\uD83D\uDD04 Nozomi keep-alive started (60s)"))}isAvailable(){return!!(this.config.lowLatencyApiKey&&this.config.antiMEVApiKey)}async send(e,t,r){return await this.broadcastTransaction(e,{mevProtection:r?.mevProtection})}async broadcastTransaction(e,t={}){let{timeoutMs:r=15e3,useSecureEndpoints:n=!0,mevProtection:i=!1}=t;if(!this.isAvailable())throw Error("Nozomi not available - check API_KEYS configuration");let o=Fl.from(e.serialize()).toString("base64"),a={jsonrpc:"2.0",id:`frontrun-${Date.now()}`,method:"sendTransaction",params:[o,{encoding:"base64",skipPreflight:!0}]},s=this.generateRequestUrls(n,i),u=new AbortController,l=await this.httpClientPromise,c=s.map(e=>l.post(e,a,{signal:u.signal,timeout:r}).then(e=>{let t=e.data?.result;if(!t)throw Error(e.data?.error?.message??"No result returned");return t}));try{let e=await Promise.any(c);return u.abort(),e}catch(r){let e=r instanceof AggregateError?r.errors:[r],t=e.map(e=>`\u2022 ${e.message??String(e)}`).join("\n");throw Error(`All Nozomi endpoints failed:
${t}`)}}async createTipInstruction(e,t){let r=await this.calculateOptimalTip(t),n=this.selectRandomTipAddress();return hV.transfer({fromPubkey:e,toPubkey:n,lamports:Math.round(r)})}async ping(e){let t=`${e}/ping`;if(FJ)await fetch(t,{method:"GET",mode:"no-cors",keepalive:!0});else{let e=await this.httpClientPromise;await e.get(t,{timeout:15e3})}}async warmConnections(){await Promise.all(F2.map(e=>this.ping(new URL(e).origin).catch(()=>void 0)))}startKeepAlive(){if(this.keepaliveTimer)return;let e=0;this.keepaliveTimer=setInterval(async()=>{for(let t of(e++,F2)){let r;let n=new URL(t).origin,i=Date.now();try{await this.ping(n),r=Date.now()-i}catch{r=-1}if(1===e||e%10==0){let t=n.replace("https://","").split(".")[0];FE.info(`\u{1F504} Nozomi round ${e} \u2013 ${t}: ${r>=0?r+"ms":"fail"}`)}await new Promise(e=>setTimeout(e,300))}},6e4)}stopKeepAlive(){this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=void 0)}destroy(){this.stopKeepAlive?.()}validateConfig(e){if(!e.lowLatencyApiKey||!e.antiMEVApiKey)throw Error("NozomiStrategy: lowLatencyApiKey and antiMEVApiKey are required")}generateRequestUrls(e,t){let r=[];return(e?F2:F0).forEach(e=>{let n=this.selectRandomApiKey(t);r.push(`${e}${n}`)}),r}async calculateOptimalTip(e){return void 0!==e?e:void 0!==this.config.tipLamports?this.config.tipLamports:this.fetchRecommendedTip()}async fetchRecommendedTip(){let e=await this.httpClientPromise;try{let t=await e.get("https://api.nozomi.temporal.xyz/tip_floor",{timeout:15e3}),r=t.data;if(r&&r.length>0){let e=this.config.tipLevel||"landed_tips_75th_percentile",t=r[0][e];if("number"==typeof t&&t>0)return t}}catch(e){FE.warn("Failed to fetch Nozomi tip floor data, using fallback:",this.getErrorMessage(e))}return 1e6}selectRandomTipAddress(){let e=this.selectRandomFromArray(F6);return new ho(e)}selectRandomApiKey(e){return e?this.config.antiMEVApiKey:this.config.lowLatencyApiKey}selectRandomFromArray(e){let t=Math.floor(Math.random()*e.length);return e[t]}getErrorMessage(e){return e instanceof Error?e.message:String(e)}},F5=class{name="RPC";config;constructor(e){this.config=e}isAvailable(){return!0}async send(e,t,r){return await t.sendTransaction(e,r)}},F8=class{static createStrategies(e){return e.map(e=>{try{let t=this.createStrategy(e);return t}catch(t){return FE.warn(`\u274C Failed to create strategy ${e.name}:`,t),null}}).filter(e=>null!==e)}static createStrategy(e){switch(e.name){case"RPC":return new F5(e);case"JITO":return new Fz(e);case"NODE1":return new FY(e);case"NOZOMI":return new F4(e);default:throw Error(`Unknown strategy: ${e.name}`)}}},F3=class{connection;lutCache=new Map;constructor(e){this.connection=e}async build(e,t){switch(e.kind){case"SIGNED_TX":{let t=this.ensureVersioned(e.signedTransaction);return{tx:t,signed:this.isSigned(t)}}case"INSTRUCTIONS_ONLY":return this.buildFromInstructions(e,t);default:throw new F_(`Unsupported transaction input kind: ${e.kind}`,Fv.INVALID_PARAMS)}}async buildFromInstructions(e,t){let{instructions:r,addressLookupTableAccounts:n,payerPublicKey:i,signers:o,blockhash:a}=e,{context:s,strategy:u,strategyInstance:l}=t;if(!s)throw new F_("Transaction context is required",Fv.INVALID_PARAMS);let c=a||s.blockhash,d=[...r];u&&l&&await this.addStrategyInstructions(d,i,u,l,t.strategyTipLamports);let p=new hT({payerKey:i,recentBlockhash:c,instructions:d}),f=n&&n.length?p.compileToV0Message(await this.getLutsWithCache(n.map(e=>new ho(e)))):p.compileToV0Message(),h=new hx(f),m=o.length>0;return m&&h.sign(o),{tx:h,signed:m}}async getLutsWithCache(e){let t=[],r=[];for(let n of e){let e=this.lutCache.get(n.toBase58());e?r.push(e):t.push(n)}if(t.length){let e=await this.fetchLutsInBatch(t);for(let t of e)this.lutCache.set(t.key.toBase58(),t);r.push(...e)}return r}async fetchLutsInBatch(e){if(!e.length)return[];let t=await this.connection.getMultipleAccountsInfo(e,{commitment:"processed"}),r=[];for(let n=0;n<e.length;n++){let i=t[n];if(!i)continue;let o=hY.deserialize(i.data);r.push(new hY({key:e[n],state:o}))}return r}validateLegacyTransaction(e){if(!e.recentBlockhash)throw new F_("Transaction must have recent blockhash",Fv.INVALID_PARAMS);if(!e.feePayer)throw new F_("Transaction must have fee payer",Fv.INVALID_PARAMS)}ensureVersioned(e){if(e instanceof hx)return e;this.validateLegacyTransaction(e);let t=new hT({payerKey:e.feePayer,recentBlockhash:e.recentBlockhash,instructions:e.instructions}).compileToV0Message(),r=new hx(t);return this.copyValidSignatures(e,r),r}isSigned(e){return e.signatures.some(e=>e.length&&e.some(e=>0!==e))}copyValidSignatures(e,t){if(e.signatures?.length>0){let r=e.signatures.filter(e=>e.signature&&e.signature.some(e=>0!==e));r.length>0&&(t.signatures=r.map(e=>new Uint8Array(e.signature)))}}async addStrategyInstructions(e,t,r,n,i){try{let o={NOZOMI:{name:"Nozomi",instanceClass:F4},JITO:{name:"Jito",instanceClass:Fz},NODE1:{name:"Node1",instanceClass:FY}}[r];if(!o)return;if(n instanceof o.instanceClass){let r=e.length>0&&e[0].programId.equals(gO.programId);if(r){let t=e[0];t.keys.push({pubkey:new ho("jitodontfrontB111111111111TradeWithFrontRun"),isSigner:!1,isWritable:!1}),FE.info(`\u2705 Added jitodontfront account to ComputeBudget instruction`)}let a=i||n.config.tipLamports,s=await n.createTipInstruction(t,a);e.push(s);let u=a?`${a} lamports`:"auto";FE.info(`\u2705 Added ${o.name} tip instruction (${u})`)}}catch(e){throw FE.warn(`\u26A0\uFE0F Failed to add tip instruction for ${r}:`,e),e}}},F9=class{connection;commitment;strategies;blockhashProvider;transactionFactory;strategyDispatcher;constructor(e,t={}){let{commitment:r=Ff,strategyConfigs:n=[{name:"RPC"}],blockhashCacheTTL:i=60}=t;this.connection=e,this.commitment=r,this.blockhashProvider=new Fj(this.connection,r,i),this.transactionFactory=new F3(this.connection),this.strategies=F8.createStrategies(n),this.strategyDispatcher=new FW(this.strategies,this.connection);let o=async()=>{await this.destroy(),e3.exit(0)};e3.once("SIGINT",o),e3.once("SIGTERM",o),FE.info(`\u{1F3D7}\uFE0F Initialized with ${this.strategies.length} strategies`)}async executeTransaction(e,t){let r={};try{let n=Date.now(),i=await this.getTransactionContext(t);if(r.getTransactionContext=Date.now()-n,t.simulate){await this.handleSimulation(e,i);return}let o=await this.transactionFactory.build(e,{context:i,strategy:t.strategy,strategyInstance:t.strategy?this.findStrategy(t.strategy):void 0,strategyTipLamports:t.strategyTipLamports}),{tx:a}=o,s=Date.now(),u=await this.strategyDispatcher.send(a,t);if(r.sendTransaction=Date.now()-s,!t.skipConfirm){let e=Date.now();await this.confirmTransaction(u,i),r.confirmTransaction=Date.now()-e}return FE.info(`\u{1F9FE} Transaction Execution Summary (${t.strategy??"no-strategy"})
  \u2022 getTransactionContext ...... ${r.getTransactionContext??"-"} ms
  \u2022 sendTransaction ............ ${r.sendTransaction??"-"} ms
  \u2022 confirmTransaction ......... ${r.confirmTransaction??"-"} ms`),{signature:u}}catch(e){throw F_.logError(e,"Transaction execution failed"),e}}async prepareUnsignedTransaction(e,t={strategy:"NOZOMI"}){t.context||(t.context=await this.getTransactionContext(t));let r=await this.transactionFactory.build(e,{context:t.context,strategy:t.strategy,strategyInstance:t.strategy?this.findStrategy(t.strategy):void 0,strategyTipLamports:t.strategyTipLamports});return r.tx}async executeSignedTransaction(e,t){try{let r=await this.strategyDispatcher.send(e,t);if(!t.skipConfirm){let e=await this.blockhashProvider.get();await this.confirmTransaction(r,e)}return{signature:r}}catch(e){throw F_.logError(e,"Signed transaction execution failed"),e}}async executeWithExternalSigning(e,t={strategy:"NOZOMI"},r){let n=await this.prepareUnsignedTransaction(e,t),i=await r(n);return this.executeSignedTransaction(i,t)}async getPriorityFeeEstimate(e,t="High"){let r=ed(Ec).encode(e.serialize()),n=await fetch(this.connection.rpcEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:"1",method:"getPriorityFeeEstimate",params:[{transaction:r,options:void 0===t?{recommended:!0}:{priorityLevel:t}}]})}),i=await n.json();if(i.error)throw Error(`Fee estimation failed: ${JSON.stringify(i.error)}`);return i.result.priorityFeeEstimate}async getTransactionContext(e){return e&&e.context&&e.context.blockhash&&e.context.lastValidBlockHeight?e.context:this.blockhashProvider.get()}async preloadTransactionContext(){return await this.blockhashProvider.preloadTransactionContext()}async preloadSlot(){return await this.blockhashProvider.preloadSlot()}findStrategy(e){let t=this.strategies.find(t=>t.name===e);if(!t)throw new F_(`Strategy ${e} not found`,Fv.INVALID_PARAMS);return t}async handleSimulation(e,t){t||(t=await this.getTransactionContext());let r=await this.transactionFactory.build(e,{context:t});await this.simulateTransaction(r.tx)}async simulateBatch(e,t){for(let[r,n]of e.entries()){FE.info(`\u{1F50D} Simulating transaction ${r+1}/${e.length}`);let i=await this.transactionFactory.build(n,{context:t});await this.simulateTransaction(i.tx)}}async simulateTransaction(e){let{value:t}=await this.connection.simulateTransaction(e,{commitment:"processed"});if(t.err)throw new F_(`Simulation error: ${JSON.stringify(t.err)}`,Fv.SIMULATION_FAILED,{errLogs:t.logs});let r=t.unitsConsumed??0;if(!r&&t.logs){let e=/consumed (\d+) of/i;r=t.logs.reduce((t,r)=>{let n=r.match(e);return n?t+Number(n[1]):t},0)}let n=5e3*e.signatures.length,i=0n,o=0n;for(let t of e.message.compiledInstructions){let r=e.message.staticAccountKeys[t.programIdIndex];if(!r.equals(gO.programId))continue;let n=t.data,a=new DataView(n.buffer,n.byteOffset,n.length),s=a.getUint8(0);2===s&&0n===o?o=BigInt(a.getUint32(1,!0)):3===s&&0n===i&&(i=a.getBigUint64(1,!0))}BigInt(n),await this.getPriorityFeeEstimate(e)}async confirmTransaction(e,t){let{blockhash:r,lastValidBlockHeight:n}=await this.getTransactionContext({context:t??void 0}),i=await this.connection.confirmTransaction({blockhash:r,lastValidBlockHeight:n,signature:e},this.commitment);if(i.value.err)throw Error(`Transaction failed: ${JSON.stringify(i.value.err)}`);FE.info(`\u{1F389} Transaction confirmed: ${e}`)}async confirmTransactionOptimized(e,t={}){let r,n,i;let o=t.commitment??this.commitment??"confirmed",a=t.timeoutMs??6e3,s=t.historyAfterMs??3e3,u=t.skipQuickCheck??!0,l=t.enableReceivedNotification??!1;FE.info(`[confirmTransactionOptimized] start confirmation for ${e}, commitment=${o}, timeout=${a}ms, minContextSlot=${t.minContextSlot}`);let c=performance.now();if(!u)try{let t=await this.connection.getSignatureStatuses([e],{searchTransactionHistory:!1}),r=t.value[0];if(this.meetsCommitment(o,r)){let e=performance.now()-c;return{ok:!0,method:"quick-check",slot:r?.slot,tookMs:e,confirmationStatus:r?.confirmationStatus??o}}}catch{}if("auto"===t.minContextSlot)try{let e=await this.blockhashProvider.getCachedSlot();"number"==typeof e&&Number.isFinite(e)&&(r=e,FE.info(`[confirmTransactionOptimized] minContextSlot resolved to ${r} from cached slot`))}catch{FE.info("[confirmTransactionOptimized] failed to resolve minContextSlot (ignored)")}else"number"==typeof t.minContextSlot&&(r=t.minContextSlot,FE.debug(`[confirmTransactionOptimized] using provided minContextSlot=${r}`));let d=new Promise((t,s)=>{i=setTimeout(()=>{void 0!==n&&this.connection.removeSignatureListener(n).catch(()=>{}),s(Error("WebSocket timeout"))},a);try{n=this.connection.onSignatureWithOptions(e,e=>{i&&(clearTimeout(i),i=void 0);let r="result"in e?e.result:"value"in e?e.value:e,n=e?.context?.slot??e?.slot;if(r?.err){s({ok:!1,method:"websocket",error:r.err,slot:n});return}let a=performance.now()-c;t({ok:!0,method:"websocket",slot:n,tookMs:a,confirmationStatus:o})},{commitment:o,enableReceivedNotification:l,...r?{minContextSlot:r}:{}})}catch(e){i&&(clearTimeout(i),i=void 0),FE.info("[confirmTransactionOptimized] websocket subscription failed",e),s(e)}}),p=(async()=>{let t=Date.now()+a,r=!1;for(;Date.now()<t;){try{let t=r||performance.now()-c>=s;r=t;let{value:n}=await this.connection.getSignatureStatuses([e],{searchTransactionHistory:t}),i=n[0];if(i?.err)return{ok:!1,method:"polling",slot:i?.slot,tookMs:performance.now()-c,error:i.err};if(this.meetsCommitment(o,i))return{ok:!0,method:"polling",slot:i?.slot,tookMs:performance.now()-c,confirmationStatus:i?.confirmationStatus??o}}catch(e){FE.info("[confirmTransactionOptimized] polling RPC error, will retry",e)}await this.sleep(300)}throw Error("confirm timeout")})();d.catch(()=>{}),p.catch(()=>{});let f=null;try{return f=await Promise.any([d,p]),FE.info(`\u{1F389} confirmed via ${f.method} in ${f.tookMs} ms`),f}catch(r){let t=performance.now()-c;throw FE.error(`[confirmTransactionOptimized] Both confirmation methods failed after ${t.toFixed(0)}ms`),r instanceof AggregateError&&r.errors.forEach((e,t)=>{let r=e instanceof Error?e.message:String(e);FE.error(`  - ${0===t?"websocket":"polling"} error: ${r}`)}),new F_(`Transaction confirmation timed out after ${a}ms. Both WebSocket and polling methods failed.`,Fv.TRANSACTION_TIMEOUT,{signature:e,commitment:o,timeoutMs:a,tookMs:Math.round(t),originalError:r})}finally{i&&(clearTimeout(i),i=void 0),void 0!==n&&f?.method!=="websocket"&&(FE.info("[confirmTransactionOptimized] cleaning up websocket subscription..."),this.connection.removeSignatureListener(n).catch(()=>{}))}}meetsCommitment(e,t){return!!t&&!t.err&&this.rankOfStatus(t.confirmationStatus??null)>=this.rankOfCommitment(e)}rankOfCommitment(e){return"finalized"===e?2:"confirmed"===e?1:0}rankOfStatus(e){return"finalized"===e?2:"confirmed"===e?1:"processed"===e?0:-1}sleep(e){return new Promise(t=>setTimeout(t,e))}async destroy(){this.strategies.forEach(e=>e.destroy?.()),FE.info("\u2705 TransactionManager cleaned up")}},F7=class{config;connection;walletPublicKey=null;keypair=null;tradingIxManager;txManager;constructor(e){if(this.config={...e,simulate:e?.simulate??!1},this.connection=new gT(e.rpcUrl,{commitment:Ff,...e.wsRpcUrl&&{wsEndpoint:e.wsRpcUrl}}),e.primaryKeypair)try{this.keypair=gx.fromSecretKey(ed(Ec).decode(e.primaryKeypair)),this.walletPublicKey=this.keypair.publicKey}catch{throw new F_("Invalid primary keypair format. Expected base58 string.",Fv.INVALID_PARAMS)}this.tradingIxManager=new FU(new kg(this.connection,Fq,{commitment:Ff}),e),this.txManager=new F9(this.connection,{commitment:Ff,strategyConfigs:this.buildStrategyConfigs(e)}),FE.info(`TradingBot\u{1F916} Initialized successfully${this.config.simulate?" (SIMULATION MODE)":""}`)}async init(){await Fm(this.connection),await this.preloadTransactionContext(),await this.preloadSlot()}async executeSwap(e){let t=Date.now();if(!this.keypair)throw new F_("No keypair found. Please provide a private key.",Fv.INVALID_PARAMS);let r=this.mergeWithDefaults(e);try{let{instructions:e}=await this.tradingIxManager.buildCompleteInstructions(r),{strategy:n,strategyTipLamports:i,mevProtection:o}=r.txOptions||{},a=await this.txManager.executeTransaction({kind:"INSTRUCTIONS_ONLY",instructions:e,payerPublicKey:this.keypair.publicKey,signers:[this.keypair]},{strategy:n,strategyTipLamports:i,mevProtection:o,skipPreflight:"RPC"!==n,skipConfirm:!0,simulate:this.config.simulate}),s=Date.now()-t;return FE.info("\u2705 Swap executed successfully!"),FE.info(`\u{1F517} Signature: ${a?.signature}, \u23F1\uFE0F Execution time: ${s}ms`),{success:!0,signature:a?.signature,executionTime:s,simulated:this.config.simulate}}catch(e){return FE.error(`\u274C ${this.config.simulate?"Simulation":"Swap"} failed:`,e),{success:!1,error:e instanceof Error?e.message:String(e),simulated:this.config.simulate}}}async prepareTransaction(e){let t=this.mergeWithDefaults(e);try{let{instructions:e,addressLookupTableAccount:r}=await this.tradingIxManager.buildCompleteInstructions(t),{strategy:n,strategyTipLamports:i,context:o}=t.txOptions||{},a=await this.txManager.prepareUnsignedTransaction({kind:"INSTRUCTIONS_ONLY",instructions:e,addressLookupTableAccounts:r,payerPublicKey:t.walletAddress,signers:[]},{strategy:n,strategyTipLamports:i,context:o});return a}catch(e){throw FE.error(`\u274C Transaction preparation failed:`,e),e}}async signTransaction(e){if(!this.keypair)throw new F_("No keypair found. Please provide a private key.",Fv.INVALID_PARAMS);return e.sign([this.keypair]),e}async simulateTransaction(e){try{await this.txManager.handleSimulation({kind:"SIGNED_TX",signedTransaction:e})}catch(e){return FE.error(`\u274C Transaction simulation failed:`,JSON.stringify(e)),{success:!1,error:e instanceof Error?e.message:String(e)}}return{success:!0,error:void 0}}async executeSignedTransaction(e,t={}){try{FE.info("\uD83D\uDCE4 Executing externally signed transaction",t);let r=await this.txManager.executeSignedTransaction(e,{...this.getDefaultTransactionOptions(),...Object.fromEntries(Object.entries(t).filter(([e,t])=>void 0!==t))});return{success:!0,signature:r.signature}}catch(e){return{success:!1,error:e instanceof Error?e.message:String(e)}}}async confirmTransaction(e,t){let r=!1;try{await this.txManager.confirmTransaction(e,t),r=!0}catch(e){FE.error(`\u274C Transaction confirmation failed:`,e)}return r}async confirmTransactionOptimized(e,t={}){return await this.txManager.confirmTransactionOptimized(e,t)}async getTransactionContext(){return await this.txManager.getTransactionContext()}async preloadTransactionContext(){return await this.txManager.preloadTransactionContext()}async preloadSlot(){return await this.txManager.preloadSlot()}async getPriorityFeeEstimate(e){return await this.txManager.getPriorityFeeEstimate(e)}async reclaimEmptyTokenAccountRent(e,t={}){let r=Date.now(),n=e||this.keypair?.publicKey;if(!n)throw new F_("No wallet address provided and no keypair found",Fv.INVALID_PARAMS);try{FE.info(`\u{1F50D} Scanning for empty token accounts for wallet: ${n.toBase58()}`);let e=await this.connection.getParsedTokenAccountsByOwner(n,{programId:SX},Ff);FE.info(`\u{1F4CA} Found ${e.value.length} total token accounts`);let i=e.value.filter(e=>{let t=e.account.data,r=t.parsed?.info?.tokenAmount;return r&&0===r.uiAmount});if(0===i.length)return FE.info("\u2705 No empty token accounts found - nothing to reclaim"),{success:!0,closedAccounts:[],reclaimedRent:0};FE.info(`\u{1F4B0} Found ${i.length} empty token accounts to close`);let o=await this.connection.getMinimumBalanceForRentExemption(165),a=i.length*o;FE.info(`\u{1F48E} Total rent to reclaim: ${a/1e9} SOL from ${i.length} accounts`);let s=i.map(e=>Ea(e.pubkey,n,n)),u=i.map(e=>e.pubkey);if(!t.execute){let e=await this.txManager.prepareUnsignedTransaction({kind:"INSTRUCTIONS_ONLY",instructions:s,payerPublicKey:n,signers:[]},{strategy:t.txOptions?.strategy||"RPC",skipPreflight:!1,skipConfirm:!1});return FE.info("\uD83D\uDCDD Unsigned transaction prepared successfully"),{success:!0,transaction:e,closedAccounts:u,reclaimedRent:a}}if(!this.keypair)throw new F_("No keypair found for execution. Use execute: false to get unsigned transaction.",Fv.INVALID_PARAMS);let l=await this.txManager.executeTransaction({kind:"INSTRUCTIONS_ONLY",instructions:s,payerPublicKey:this.keypair.publicKey,signers:[this.keypair]},{strategy:t.txOptions?.strategy||"RPC",skipPreflight:!1,skipConfirm:!1,simulate:this.config.simulate,...t.txOptions}),c=Date.now()-r;return FE.info(`\u2705 Empty token accounts closed successfully, \u{1F517} Signature: ${l?.signature}`),FE.info(`\u{1F4B0} Reclaimed rent: ${a/1e9} SOL, \u{1F4CA} Closed accounts: ${i.length}, \u23F1\uFE0F Execution time: ${c}ms`),{success:!0,signature:l?.signature,closedAccounts:u,reclaimedRent:a}}catch(e){return FE.error(`\u274C Failed to reclaim empty token account rent:`,e),{success:!1,error:e instanceof Error?e.message:String(e)}}}async destroy(){FE.info("\uD83E\uDDF9 Cleaning up TradingBot resources");try{this.txManager&&"function"==typeof this.txManager.destroy&&await this.txManager.destroy(),FE.info("\u2705 TradingBot cleaned up successfully")}catch(e){throw FE.error("\u274c Error during TradingBot cleanup:",e),e}}mergeWithDefaults(e){let t={txOptions:{slippageBps:500,priorityFee:6666666,computeUnitLimit:2e5,strategy:Fh,strategyTipLamports:1e6,unwrapAfterSell:!0}},r={...t,...e},n={...t.txOptions,...e.txOptions};return{...r,txOptions:n}}getDefaultTransactionOptions(){return{strategy:Fh,skipPreflight:!1,skipConfirm:!0,maxRetries:5}}buildStrategyConfigs(e){let t=[];return t.push({name:"RPC"}),e.jitoApiUuid&&t.push({name:"JITO",UUID:e.jitoApiUuid}),e.nozomiLowLatencyApiKey&&e.nozomiAntiMEVApiKey&&t.push({name:"NOZOMI",lowLatencyApiKey:e.nozomiLowLatencyApiKey,antiMEVApiKey:e.nozomiAntiMEVApiKey}),e.node1ApiKey&&t.push({name:"NODE1",apiKey:e.node1ApiKey}),t}getTradingIxManager(){return this.tradingIxManager}getTransactionManager(){return this.txManager}},qe=null,Ec=eh("dZqUV"),d0=eh("9U7pb");let qt=e=>({slippageBps:100*e.slippage,priorityFee:Math.floor(1e15*e.priorityFeeSol/2e5),strategyTipLamports:1e9*e.bribeFeeSol,mevProtection:e.mev,computeUnitLimit:2e5});(W=J||(J={})).PUMP_CURVE="PUMP_CURVE",W.PUMP_SWAP="PUMP_SWAP",W.LAUNCHPAD="LAUNCHPAD",W.RAYDIUM_AMM_V4="RAYDIUM_AMM_V4",W.RAYDIUM_CPMM="RAYDIUM_CPMM",W.METEORA_DAMM_V2="METEORA_DAMM_V2",W.OKX_DEX="OKX_DEX";let qr=bf.SOL,qn=ig("trading"),qi=(e,t)=>{let r=new(ed(S8))(e).times(new(ed(S8))(10).pow(t)).toFixed(0);return BigInt(r)},qo=e=>{let{tokenAddress:t,liquidityData:{liquidityToken:r,liquiditySol:n},pairInfo:{tokenDecimals:i,protocolDetails:o}}=e,a=o?.isTokenSideX??!0,s=o?.pairSolAccount,u=o?.pairTokenAccount;return s&&u?a?{baseMint:t,quoteMint:qr,baseTokenAmount:qi(r,i),quoteTokenAmount:qi(n,9),poolBaseTokenAccount:u,poolQuoteTokenAccount:s}:{baseMint:qr,quoteMint:t,baseTokenAmount:qi(n,9),quoteTokenAmount:qi(r,i),poolBaseTokenAccount:s,poolQuoteTokenAccount:u}:null},qa=({isBuyMode:e,solPreset:t,latestBlockhash:r})=>{let n=qt(e?t?.buy:t?.sell),i={...n,...r&&{context:{blockhash:r}}};return r?qn.debug("Using intercepted blockhash for transaction context",{blockhash:r}):qn.warn("No intercepted blockhash available, transaction may be slower"),i},qs=({ammType:e,txOptions:t,defaultWalletAddress:r})=>({ammType:e,walletAddress:new ho(r),txOptions:t}),qu={[FD.PUMP_CURVE]:{buildExtraParams:(e,t)=>{if(!e||!t||"Pump V1"!==t.protocol)return qn.warn("PUMP_CURVE trading: No intercepted liquidity data found, will use RPC calls"),null;let r=t.protocolDetails;if(!r.feeRecipient||!r.creator||!r.associatedBondingCurve)return qn.warn("PUMP_CURVE trading: Missing required Pump V1 fields, will use RPC calls"),null;let n={bondingCurveAddress:new ho(t.pairAddress),liquidityToken:qi(e.liquidityToken,t.tokenDecimals||6),liquiditySol:qi(e.liquiditySol,9),feeRecipient:new ho(r.feeRecipient),creator:new ho(r.creator)};return qn.debug("Using intercepted liquidity data for PUMP_CURVE trading",{liquidityToken:e.liquidityToken,liquiditySol:e.liquiditySol,tokenDecimals:t.tokenDecimals,feeRecipient:r.feeRecipient,creator:r.creator}),n},buildParams:(e,t)=>{let{isBuyMode:r,amount:n,pairInfo:i,defaultWalletAddress:o}=e,a={tradeType:r?FF.BUY:FF.SELL,mint:new ho(i.tokenAddress),amount:BigInt(n),...t&&{extraParams:t}};return qn.debug("PUMP_CURVE tradeParams",{ammType:FD.PUMP_CURVE,walletAddress:o,bondingCurveParams:{tradeType:r?FF.BUY:FF.SELL,mint:i.tokenAddress,amount:n,extraParams:t?"provided":"not provided"}}),{bondingCurveParams:a}}},[FD.PUMP_SWAP]:{buildExtraParams:(e,t)=>{if(!e||!t||"Pump AMM"!==t.protocol)return qn.warn("PUMP_SWAP trading: No intercepted pool data found, will use RPC calls"),null;let r=t.protocolDetails;if(!r.pairSolAccount||!r.pairTokenAccount||"boolean"!=typeof r.isTokenSideX)return qn.warn("PUMP_SWAP trading: Missing required Pump AMM fields, will use RPC calls"),null;let n=r.isTokenSideX,i=r.creator||t.extra?.pumpDeployerAddress;if("BAX9M9a5FVy5cNiewwnuwkVDzhSg9psZnb4fJ9r677tN"===t.pairAddress&&(i="AZsHL8kYsCqmsnidpDUWTJ2x5RgSYXaJpn7YPhK1eCRU"),!i)return qn.warn("PUMP_SWAP trading: No creator found in protocolDetails or extra.pumpDeployerAddress, will use RPC calls"),null;!r.creator&&t.extra?.pumpDeployerAddress&&qn.debug("PUMP_SWAP trading: Using fallback creator from extra.pumpDeployerAddress",{creator:i});let o=qo({tokenAddress:t.tokenAddress,liquidityData:{liquidityToken:e.liquidityToken,liquiditySol:e.liquiditySol},pairInfo:{tokenDecimals:t.tokenDecimals,protocolDetails:{isTokenSideX:r.isTokenSideX,pairSolAccount:r.pairSolAccount,pairTokenAccount:r.pairTokenAccount}}});if(!o||!i)return qn.warn("PUMP_SWAP trading: Missing pool account addresses or creator, will use RPC calls"),null;let a={poolInfo:{baseMint:new ho(o.baseMint),quoteMint:new ho(o.quoteMint),baseTokenAmount:o.baseTokenAmount,quoteTokenAmount:o.quoteTokenAmount,poolBaseTokenAccount:new ho(o.poolBaseTokenAccount),poolQuoteTokenAccount:new ho(o.poolQuoteTokenAccount),coinCreator:new ho(i)}};return qn.debug("Using intercepted pool data for PUMP_SWAP trading",{baseMint:o.baseMint,quoteMint:o.quoteMint,baseTokenAmount:e.liquidityToken,quoteTokenAmount:e.liquiditySol,tokenDecimals:t.tokenDecimals,isTokenSideX:n,creator:i}),a},buildParams:(e,t)=>{let{amount:r,inputMint:n,outputMint:i,pairInfo:o,defaultWalletAddress:a}=e,s={poolAddress:new ho(o.pairAddress),inputMint:new ho(n),outputMint:new ho(i),inputAmount:BigInt(r),...t&&{extraParams:t}};return qn.debug("PUMP_SWAP tradeParams",{ammType:FD.PUMP_SWAP,walletAddress:a,swapParams:{poolAddress:o.pairAddress,inputMint:n,outputMint:i,inputAmount:r,extraParams:t?"provided":"not provided"}}),{swapParams:s}}},[FD.LAUNCHPAD]:{buildExtraParams:(e,t)=>{if(!e||!t||"LaunchLab"!==t.protocol)return qn.warn("LAUNCHPAD trading: No intercepted LaunchLab data found, will use RPC calls"),null;let r=t.protocolDetails;if(!r.globalConfig||!r.platformConfig||!r.baseVault||!r.quoteVault||!r.baseSupplyRaw||!r.baseSellRaw||!r.baseLockedRaw||!r.quoteRaiseRaw||!r.platformFee||!r.creator||!t.initialLiquidityToken||!t.initialLiquiditySol)return qn.warn("LAUNCHPAD trading: Missing required LaunchLab fields, will use RPC calls"),null;let n=new(ed(S8))(t.initialLiquidityToken).multipliedBy(10**(t.tokenDecimals||6)).toFixed(0),i=new(ed(S8))(t.initialLiquiditySol).multipliedBy(1e9).toFixed(0),o=new(ed(S8))(e.liquidityToken).multipliedBy(10**(t.tokenDecimals||6)).toFixed(0),a=new(ed(S8))(e.liquiditySol).multipliedBy(1e9).toFixed(0),s={launchpadInfo:{globalConfig:new ho(r.globalConfig),platformConfig:new ho(r.platformConfig),baseMint:new ho(t.tokenAddress),quoteMint:new ho(qr),baseVault:new ho(r.baseVault),quoteVault:new ho(r.quoteVault),creator:new ho(r.creator),baseLockedRaw:new(ed(d0))(r.baseLockedRaw),baseSupplyRaw:new(ed(d0))(r.baseSupplyRaw),baseSellRaw:new(ed(d0))(r.baseSellRaw),quoteRaiseRaw:new(ed(d0))(r.quoteRaiseRaw),initialLiquidityToken:new(ed(d0))(n),initialLiquiditySol:new(ed(d0))(i),liquidityToken:new(ed(d0))(o),liquiditySol:new(ed(d0))(a),curveType:0,protocolFeeRate:new(ed(d0))("2500"),platformFeeRate:new(ed(d0))(r.platformFee||"10000")}};return qn.debug("Using intercepted LaunchLab data for LAUNCHPAD trading",{tokenAddress:t.tokenAddress,tokenDecimals:t.tokenDecimals,currentLiquidityToken:e.liquidityToken,currentLiquiditySol:e.liquiditySol,initialLiquidityToken:t.initialLiquidityToken||"calculated from current",initialLiquiditySol:t.initialLiquiditySol||"calculated from current",globalConfig:r.globalConfig,platformConfig:r.platformConfig}),s},buildParams:(e,t)=>{let{isBuyMode:r,amount:n,pairInfo:i,defaultWalletAddress:o}=e,a={poolAddress:new ho(i.pairAddress),mint:new ho(i.tokenAddress),amount:new(ed(d0))(n),tradeType:r?FF.BUY:FF.SELL,shareFeeRate:new(ed(d0))("0"),...t&&{extraParams:t}};return qn.debug("LAUNCHPAD tradeParams",{ammType:FD.LAUNCHPAD,walletAddress:o,launchpadParams:{poolAddress:i.pairAddress,mint:i.tokenAddress,amount:n,tradeType:r?FF.BUY:FF.SELL,extraParams:t?"provided":"not provided"}}),{launchpadParams:a}}},[FD.RAYDIUM_AMM_V4]:{buildExtraParams:(e,t)=>{if(!e||!t||"Raydium V4"!==t.protocol)return qn.warn("RAYDIUM_AMM_V4 trading: No intercepted Raydium V4 data found, will use RPC calls"),null;let r=t.protocolDetails;if(!r.authority||!r.marketProgramId||!r.marketAsks||!r.marketBids||!r.marketAuthority||!r.marketBaseVault||!r.marketQuoteVault||!r.marketEventQueue||!r.marketId||!r.baseMint||!r.quoteMint||!r.baseVault||!r.quoteVault||!r.openOrders||!r.targetOrders)return qn.warn("RAYDIUM_AMM_V4 trading: Missing required Raydium V4 fields, will use RPC calls"),null;let n=r.baseMint,i=r.quoteMint,o=n===qr,a=new(ed(S8))(e.liquidityToken).multipliedBy(10**(t.tokenDecimals||6)).toFixed(0),s=new(ed(S8))(e.liquiditySol).multipliedBy(1e9).toFixed(0),[u,l]=o?[s,a]:[a,s];qn.debug("RAYDIUM_AMM_V4 trading: base and quote reserves",{liquidityToken:e.liquidityToken,liquiditySol:e.liquiditySol,liquidityTokenAmount:a.toString(),liquiditySolAmount:s.toString(),baseReserve:u.toString(),quoteReserve:l.toString()});let c={authority:new ho(r.authority),marketProgramId:new ho(r.marketProgramId),marketAsks:new ho(r.marketAsks),marketBids:new ho(r.marketBids),marketAuthority:new ho(r.marketAuthority),marketBaseVault:new ho(r.marketBaseVault),marketQuoteVault:new ho(r.marketQuoteVault),marketEventQueue:new ho(r.marketEventQueue),marketId:new ho(r.marketId),mintA:new ho(n),mintB:new ho(i),mintADecimals:r.baseDecimals,mintBDecimals:r.quoteDecimals,mintAVault:new ho(r.baseVault),mintBVault:new ho(r.quoteVault),openOrders:new ho(r.openOrders),targetOrders:new ho(r.targetOrders),baseReserve:new(ed(d0))(u),quoteReserve:new(ed(d0))(l),status:6};return qn.debug("Using intercepted Raydium V4 data for RAYDIUM_AMM_V4 trading",{tokenAddress:t.tokenAddress,tokenDecimals:t.tokenDecimals,liquidityToken:e.liquidityToken,liquiditySol:e.liquiditySol,authority:r.authority,marketId:r.marketId}),c},buildParams:(e,t)=>{let{amount:r,inputMint:n,outputMint:i,pairInfo:o,defaultWalletAddress:a}=e,s={poolAddress:new ho(o.pairAddress),inputMint:new ho(n),outputMint:new ho(i),inputAmount:new(ed(d0))(r.toString()),...t&&{extraParams:t}};return qn.debug("RAYDIUM_AMM_V4 tradeParams",{ammType:FD.RAYDIUM_AMM_V4,walletAddress:a,raydiumAmmV4Params:{poolAddress:o.pairAddress,inputMint:n,outputMint:i,inputAmount:r,extraParams:t?"provided":"not provided"}}),{raydiumAmmV4Params:s}}},[FD.RAYDIUM_CPMM]:{buildExtraParams:(e,t)=>{if(!e||!t||"Raydium CPMM"!==t.protocol)return qn.warn("RAYDIUM_CPMM trading: No intercepted Raydium CPMM data found, will use RPC calls"),null;let r=t.protocolDetails;if(!r.authority||!r.ammConfig||!r.tokenVault||!r.solVault||!r.observationState||"number"!=typeof r.tradeFeeRate)return qn.warn("RAYDIUM_CPMM trading: Missing required Raydium CPMM fields, will use RPC calls"),null;let n=new(ed(S8))(e.liquidityToken).multipliedBy(10**(t.tokenDecimals||6)).toFixed(0),i=new(ed(S8))(e.liquiditySol).multipliedBy(1e9).toFixed(0),o={authority:new ho(r.authority),ammConfig:new ho(r.ammConfig),tokenVault:new ho(r.tokenVault),solVault:new ho(r.solVault),observationState:new ho(r.observationState),tradeFeeRate:new(ed(d0))(r.tradeFeeRate??2500),liquiditySol:new(ed(d0))(i),liquidityToken:new(ed(d0))(n)};return qn.debug("Using intercepted Raydium CPMM data for RAYDIUM_CPMM trading",{tokenAddress:t.tokenAddress,tokenDecimals:t.tokenDecimals,liquidityToken:e.liquidityToken,liquiditySol:e.liquiditySol,authority:r.authority,ammConfig:r.ammConfig,tradeFeeRate:r.tradeFeeRate}),o},buildParams:(e,t)=>{let{amount:r,inputMint:n,outputMint:i,pairInfo:o,defaultWalletAddress:a}=e,s={poolAddress:new ho(o.pairAddress),inputMint:new ho(n),outputMint:new ho(i),inputAmount:new(ed(d0))(r.toString()),...t&&{extraParams:t}};return qn.debug("RAYDIUM_CPMM tradeParams",{ammType:FD.RAYDIUM_CPMM,walletAddress:a,raydiumCpmmParams:{poolAddress:o.pairAddress,inputMint:n,outputMint:i,inputAmount:r,extraParams:t?"provided":"not provided"}}),{raydiumCpmmParams:s}}},[FD.METEORA_DAMM_V2]:{buildExtraParams:(e,t)=>{if(!e||!t||"Meteora AMM V2"!==t.protocol)return qn.warn("METEORA_DAMM_V2 trading: No intercepted Meteora data found, will use on-chain data"),null;let r=t.protocolDetails;if(!r.tokenMintA||!r.tokenMintB||!r.tokenProgramA||!r.tokenProgramB)return qn.warn("METEORA_DAMM_V2 trading: Missing required Meteora fields, will use RPC calls"),null;let n={tokenAMint:new ho(r.tokenMintA),tokenBMint:new ho(r.tokenMintB),tokenAProgram:new ho(r.tokenProgramA),tokenBProgram:new ho(r.tokenProgramB),tokenADecimal:r.tokenMintA===qr?9:t.tokenDecimals||6,tokenBDecimal:r.tokenMintB===qr?9:t.tokenDecimals||6};return qn.debug("Using intercepted Meteora data for METEORA_DAMM_V2 trading",{tokenMintA:r.tokenMintA,tokenMintB:r.tokenMintB,tokenProgramA:r.tokenProgramA,tokenProgramB:r.tokenProgramB,tokenADecimal:n.tokenADecimal,tokenBDecimal:n.tokenBDecimal,pairTokenDecimals:t.tokenDecimals}),n},buildParams:(e,t)=>{let{amount:r,inputMint:n,outputMint:i,pairInfo:o,defaultWalletAddress:a}=e,s={poolAddress:new ho(o.pairAddress),inputMint:new ho(n),outputMint:new ho(i),inputAmount:new(ed(d0))(r.toString()),...t&&{extraParams:t}};return qn.debug("METEORA_DAMM_V2 tradeParams",{ammType:FD.METEORA_DAMM_V2,walletAddress:a,meteoraDammV2Params:{poolAddress:o.pairAddress,inputMint:n,outputMint:i,inputAmount:r,extraParams:t?"provided":"not provided"}}),{meteoraDammV2Params:s}}},[FD.OKX_DEX]:{buildExtraParams:(e,t,r)=>(qn.debug("OKX DEX trading: Using API-based instructions (no axiom dependency)"),null),buildParams:(e,t)=>{let{isBuyMode:r,amount:n,pairInfo:i,defaultWalletAddress:o}=e,a={chainId:"501",fromTokenAddress:r?qr:i.tokenAddress,toTokenAddress:r?i.tokenAddress:qr,amount:n.toString(),userWalletAddress:o,slippage:"0.1",feePercent:"1"};return qn.debug("OKX DEX tradeParams",{ammType:FD.OKX_DEX,walletAddress:o,okxDexParams:{fromTokenAddress:a.fromTokenAddress,toTokenAddress:a.toTokenAddress,amount:a.amount,extraParams:t?"provided":"not provided"}}),{okxDexParams:a}}}},ql=(e,t,r,n)=>{let i=qu[e];if(!i)return qn.error(`Unsupported AMM type: ${e}`),{};let o=i.buildExtraParams(r,n,t);return i.buildParams(t,o)},qc=Object.create(null);qc.open="0",qc.close="1",qc.ping="2",qc.pong="3",qc.message="4",qc.upgrade="5",qc.noop="6";let qd=Object.create(null);Object.keys(qc).forEach(e=>{qd[qc[e]]=e});let qp={type:"error",data:"parser error"},qf="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),qh="function"==typeof ArrayBuffer,qm=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,qg=({type:e,data:t},r,n)=>qf&&t instanceof Blob?r?n(t):qy(t,n):qh&&(t instanceof ArrayBuffer||qm(t))?r?n(t):qy(new Blob([t]),n):n(qc[e]+(t||"")),qy=(e,t)=>{let r=new FileReader;return r.onload=function(){let e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)};function qb(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let q_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qw="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<q_.length;e++)qw[q_.charCodeAt(e)]=e;let qv=e=>{let t=.75*e.length,r=e.length,n,i=0,o,a,s,u;"="===e[e.length-1]&&(t--,"="===e[e.length-2]&&t--);let l=new ArrayBuffer(t),c=new Uint8Array(l);for(n=0;n<r;n+=4)o=qw[e.charCodeAt(n)],a=qw[e.charCodeAt(n+1)],s=qw[e.charCodeAt(n+2)],u=qw[e.charCodeAt(n+3)],c[i++]=o<<2|a>>4,c[i++]=(15&a)<<4|s>>2,c[i++]=(3&s)<<6|63&u;return l},qk="function"==typeof ArrayBuffer,qA=(e,t)=>{if("string"!=typeof e)return{type:"message",data:qI(e,t)};let r=e.charAt(0);if("b"===r)return{type:"message",data:qS(e.substring(1),t)};let n=qd[r];return n?e.length>1?{type:qd[r],data:e.substring(1)}:{type:qd[r]}:qp},qS=(e,t)=>{if(!qk)return{base64:!0,data:e};{let r=qv(e);return qI(r,t)}},qI=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,qE=(e,t)=>{let r=e.length,n=Array(r),i=0;e.forEach((e,o)=>{qg(e,!1,e=>{n[o]=e,++i===r&&t(n.join("\x1e"))})})},qT=(e,t)=>{let r=e.split("\x1e"),n=[];for(let e=0;e<r.length;e++){let i=qA(r[e],t);if(n.push(i),"error"===i.type)break}return n};function qx(e){return e.reduce((e,t)=>e+t.length,0)}function qP(e,t){if(e[0].length===t)return e.shift();let r=new Uint8Array(t),n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function qO(e){if(e)return function(e){for(var t in qO.prototype)e[t]=qO.prototype[t];return e}(e)}qO.prototype.on=qO.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},qO.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},qO.prototype.off=qO.prototype.removeListener=qO.prototype.removeAllListeners=qO.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},qO.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this},qO.prototype.emitReserved=qO.prototype.emit,qO.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},qO.prototype.hasListeners=function(e){return!!this.listeners(e).length};let qB=(()=>{let e="function"==typeof Promise&&"function"==typeof Promise.resolve;return e?e=>Promise.resolve().then(e):(e,t)=>t(e,0)})(),qC="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function qR(e,...t){return t.reduce((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t),{})}let qM=qC.setTimeout,qL=qC.clearTimeout;function qN(e,t){t.useNativeTimers?(e.setTimeoutFn=qM.bind(qC),e.clearTimeoutFn=qL.bind(qC)):(e.setTimeoutFn=qC.setTimeout.bind(qC),e.clearTimeoutFn=qC.clearTimeout.bind(qC))}function qD(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class qF extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class qq extends qO{constructor(e){super(),this.writable=!1,qN(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new qF(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=qA(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return -1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){let t=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e);return t.length?"?"+t:""}}class qU extends qq{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){qT(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,qE(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=qD()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let qj=!1;try{qj="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}let qW=qj;function qK(){}class qz extends qU{constructor(e){if(super(e),"undefined"!=typeof location){let t="https:"===location.protocol,r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class qV extends qO{constructor(e,t,r){super(),this.createRequest=e,qN(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=void 0!==r.data?r.data:null,this._create()}_create(){var e;let t=qR(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;let r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders)for(let e in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this._opts.extraHeaders[e])}catch(e){}if("POST"===this._method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{r.setRequestHeader("Accept","*/*")}catch(e){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(r.getResponseHeader("set-cookie"))),4===r.readyState&&(200===r.status||1223===r.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof r.status?r.status:0)},0))},r.send(this._data)}catch(e){this.setTimeoutFn(()=>{this._onError(e)},0);return}"undefined"!=typeof document&&(this._index=qV.requestsCount++,qV.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=qK,e)try{this._xhr.abort()}catch(e){}"undefined"!=typeof document&&delete qV.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(qV.requestsCount=0,qV.requests={},"undefined"!=typeof document){if("function"==typeof attachEvent)attachEvent("onunload",qH);else if("function"==typeof addEventListener){let e="onpagehide"in qC?"pagehide":"unload";addEventListener(e,qH,!1)}}function qH(){for(let e in qV.requests)qV.requests.hasOwnProperty(e)&&qV.requests[e].abort()}let qG=function(){let e=q$({xdomain:!1});return e&&null!==e.responseType}();function q$(e){let t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||qW))return new XMLHttpRequest}catch(e){}if(!t)try{return new qC[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(e){}}let qX="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class qZ extends qq{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,r=qX?{}:qR(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],n=t===e.length-1;qg(r,this.supportsBinary,e=>{try{this.doWrite(r,e)}catch(e){}n&&qB(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=qD()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}let qQ=qC.WebSocket||qC.MozWebSocket,qY={websocket:class extends qZ{createSocket(e,t,r){return qX?new qQ(e,t,r):t?new qQ(e,t):new qQ(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends qq{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=function(e,t){p||(p=new TextDecoder);let r=[],n=0,i=-1,o=!1;return new TransformStream({transform(a,s){for(r.push(a);;){if(0===n){if(1>qx(r))break;let e=qP(r,1);o=(128&e[0])==128,n=(i=127&e[0])<126?3:126===i?1:2}else if(1===n){if(2>qx(r))break;let e=qP(r,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),n=3}else if(2===n){if(8>qx(r))break;let e=qP(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),o=t.getUint32(0);if(o>2097151){s.enqueue(qp);break}i=4294967296*o+t.getUint32(4),n=3}else{if(qx(r)<i)break;let e=qP(r,i);s.enqueue(qA(o?e:p.decode(e),t)),n=0}if(0===i||i>e){s.enqueue(qp);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),n=new TransformStream({transform(e,t){var r;r=r=>{let n;let i=r.length;if(i<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,i);else if(i<65536){n=new Uint8Array(3);let e=new DataView(n.buffer);e.setUint8(0,126),e.setUint16(1,i)}else{n=new Uint8Array(9);let e=new DataView(n.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(i))}e.data&&"string"!=typeof e.data&&(n[0]|=128),t.enqueue(n),t.enqueue(r)},qf&&e.data instanceof Blob?e.data.arrayBuffer().then(qb).then(r):qh&&(e.data instanceof ArrayBuffer||qm(e.data))?r(qb(e.data)):qg(e,!1,e=>{d||(d=new TextEncoder),r(d.encode(e))})}});n.readable.pipeTo(e.writable),this._writer=n.writable.getWriter();let i=()=>{r.read().then(({done:e,value:t})=>{e||(this.onPacket(t),i())}).catch(e=>{})};i();let o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],n=t===e.length-1;this._writer.write(r).then(()=>{n&&qB(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends qz{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=qG&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new qV(q$,this.uri(),e)}}},qJ=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,q1=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function q0(e){if(e.length>8e3)throw"URI too long";let t=e,r=e.indexOf("["),n=e.indexOf("]");-1!=r&&-1!=n&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=qJ.exec(e||""),o={},a=14;for(;a--;)o[q1[a]]=i[a]||"";return -1!=r&&-1!=n&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){let r=t.replace(/\/{2,9}/g,"/").split("/");return("/"==t.slice(0,1)||0===t.length)&&r.splice(0,1),"/"==t.slice(-1)&&r.splice(r.length-1,1),r}(0,o.path),o.queryKey=function(e,t){let r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,n){t&&(r[t]=n)}),r}(0,o.query),o}let q2="function"==typeof addEventListener&&"function"==typeof removeEventListener,q6=[];q2&&addEventListener("offline",()=>{q6.forEach(e=>e())},!1);class q4 extends qO{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"==typeof e&&(t=e,e=null),e){let r=q0(e);t.hostname=r.host,t.secure="https"===r.protocol||"wss"===r.protocol,t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=q0(t.host).host);qN(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{let t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},r=e.split("&");for(let e=0,n=r.length;e<n;e++){let n=r[e].split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return t}(this.opts.query)),q2&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},q6.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){let t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);let r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(0===this.transports.length){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&q4.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";let t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",q4.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let t=Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){let e=this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1;if(!e)return this.writeBuffer;let t=1;for(let e=0;e<this.writeBuffer.length;e++){let r=this.writeBuffer[e].data;if(r&&(t+="string"==typeof r?function(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)(t=e.charCodeAt(n))<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}(r):Math.ceil(1.33*(r.byteLength||r.size))),e>0&&t>this._maxPayload)return this.writeBuffer.slice(0,e);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,qB(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;let i={type:e,data:t,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){let e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(q4.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),q2&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let e=q6.indexOf(this._offlineEventListener);-1!==e&&q6.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}q4.protocol=4;class q5 extends q4{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;q4.priorWebsocketSuccess=!1;let n=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!r){if("pong"===e.type&&"probe"===e.data)this.upgrading=!0,this.emitReserved("upgrading",t),t&&(q4.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{r||"closed"===this.readyState||(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}));else{let e=Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}}))};function i(){r||(r=!0,l(),t.close(),t=null)}let o=e=>{let r=Error("probe error: "+e);r.transport=t.name,i(),this.emitReserved("upgradeError",r)};function a(){o("transport closed")}function s(){o("socket closed")}function u(e){t&&e.name!==t.name&&i()}let l=()=>{t.removeListener("open",n),t.removeListener("error",o),t.removeListener("close",a),this.off("close",s),this.off("upgrading",u)};t.once("open",n),t.once("error",o),t.once("close",a),this.once("close",s),this.once("upgrading",u),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}class q8 extends q5{constructor(e,t={}){let r="object"==typeof e?e:t;(!r.transports||r.transports&&"string"==typeof r.transports[0])&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(e=>qY[e]).filter(e=>!!e)),super(e,r)}}q8.protocol;var q3={};v(q3,"protocol",()=>Uo),v(q3,"PacketType",()=>ee),v(q3,"Encoder",()=>Ua),v(q3,"Decoder",()=>Uu);let q9="function"==typeof ArrayBuffer,q7=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Ue=Object.prototype.toString,Ut="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Ue.call(Blob),Ur="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Ue.call(File);function Un(e){return q9&&(e instanceof ArrayBuffer||q7(e))||Ut&&e instanceof Blob||Ur&&e instanceof File}let Ui=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Uo=5;(K=ee||(ee={}))[K.CONNECT=0]="CONNECT",K[K.DISCONNECT=1]="DISCONNECT",K[K.EVENT=2]="EVENT",K[K.ACK=3]="ACK",K[K.CONNECT_ERROR=4]="CONNECT_ERROR",K[K.BINARY_EVENT=5]="BINARY_EVENT",K[K.BINARY_ACK=6]="BINARY_ACK";class Ua{constructor(e){this.replacer=e}encode(e){return(e.type===ee.EVENT||e.type===ee.ACK)&&function e(t,r){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(e(t[r]))return!0;return!1}if(Un(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1==arguments.length)return e(t.toJSON(),!0);for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return!0;return!1}(e)?this.encodeAsBinary({type:e.type===ee.EVENT?ee.BINARY_EVENT:ee.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===ee.BINARY_EVENT||e.type===ee.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=function(e){let t=[],r=e.data;return e.data=function e(t,r){if(!t)return t;if(Un(t)){let e={_placeholder:!0,num:r.length};return r.push(t),e}if(Array.isArray(t)){let n=Array(t.length);for(let i=0;i<t.length;i++)n[i]=e(t[i],r);return n}if("object"==typeof t&&!(t instanceof Date)){let n={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=e(t[i],r));return n}return t}(r,t),e.attachments=t.length,{packet:e,buffers:t}}(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}}function Us(e){return"[object Object]"===Object.prototype.toString.call(e)}class Uu extends qO{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===ee.BINARY_EVENT;r||t.type===ee.BINARY_ACK?(t.type=r?ee.EVENT:ee.ACK,this.reconstructor=new Ul(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Un(e)||e.base64){if(this.reconstructor)(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw Error("got binary data when not reconstructing a packet")}else throw Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(void 0===ee[r.type])throw Error("unknown packet type "+r.type);if(r.type===ee.BINARY_EVENT||r.type===ee.BINARY_ACK){let n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);let i=e.substring(n,t);if(i!=Number(i)||"-"!==e.charAt(t))throw Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(t+1)){let n=t+1;for(;++t;){let r=e.charAt(t);if(","===r||t===e.length)break}r.nsp=e.substring(n,t)}else r.nsp="/";let n=e.charAt(t+1);if(""!==n&&Number(n)==n){let n=t+1;for(;++t;){let r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){let n=this.tryParse(e.substr(t));if(Uu.isPayloadValid(r.type,n))r.data=n;else throw Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case ee.CONNECT:return Us(t);case ee.DISCONNECT:return void 0===t;case ee.CONNECT_ERROR:return"string"==typeof t||Us(t);case ee.EVENT:case ee.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===Ui.indexOf(t[0]));case ee.ACK:case ee.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ul{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t,r;let e=(t=this.reconPack,r=this.buffers,t.data=function e(t,r){if(!t)return t;if(t&&!0===t._placeholder){let e="number"==typeof t.num&&t.num>=0&&t.num<r.length;if(e)return r[t.num];throw Error("illegal attachments")}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=e(t[n],r);else if("object"==typeof t)for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=e(t[n],r));return t}(t.data,r),delete t.attachments,t);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Uc(e,t,r){return e.on(t,r),function(){e.off(t,r)}}let Ud=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Up extends qO{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[Uc(e,"open",this.onopen.bind(this)),Uc(e,"packet",this.onpacket.bind(this)),Uc(e,"error",this.onerror.bind(this)),Uc(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,n,i;if(Ud.hasOwnProperty(e))throw Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let o={type:ee.EVENT,data:t};if(o.options={},o.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){let e=this.ids++,r=t.pop();this._registerAckCallback(e,r),o.id=e}let a=null===(n=null===(r=this.io.engine)||void 0===r?void 0:r.transport)||void 0===n?void 0:n.writable,s=this.connected&&!(null===(i=this.io.engine)||void 0===i?void 0:i._hasPingExpired()),u=this.flags.volatile&&!a;return u||(s?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var r;let n=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===n){this.acks[e]=t;return}let i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,Error("operation has timed out"))},n),o=(...e)=>{this.io.clearTimeoutFn(i),t.apply(this,e)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((r,n)=>{let i=(e,t)=>e?n(e):r(t);i.withError=!0,t.push(i),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((e,...n)=>{if(r!==this._queue[0])return;let i=null!==e;return i?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...n)),r.pending=!1,this._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;let t=this._queue[0];(!t.pending||e)&&(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ee.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{let t=this.sendBuffer.some(t=>String(t.id)===e);if(!t){let t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,Error("socket has been disconnected"))}})}onpacket(e){let t=e.nsp===this.nsp;if(t)switch(e.type){case ee.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ee.EVENT:case ee.BINARY_EVENT:this.onevent(e);break;case ee.ACK:case ee.BINARY_ACK:this.onack(e);break;case ee.DISCONNECT:this.ondisconnect();break;case ee.CONNECT_ERROR:this.destroy();let r=Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r)}}onevent(e){let t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...n){r||(r=!0,t.packet({type:ee.ACK,id:e,data:n}))}}onack(e){let t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ee.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r]){t.splice(r,1);break}}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r]){t.splice(r,1);break}}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}}function Uf(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Uf.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(1&Math.floor(10*t))==0?e-r:e+r}return 0|Math.min(e,this.max)},Uf.prototype.reset=function(){this.attempts=0},Uf.prototype.setMin=function(e){this.ms=e},Uf.prototype.setMax=function(e){this.max=e},Uf.prototype.setJitter=function(e){this.jitter=e};class Uh extends qO{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,qN(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Uf({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;let n=t.parser||q3;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new q8(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let n=Uc(t,"open",function(){r.onopen(),e&&e()}),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},o=Uc(t,"error",i);if(!1!==this._timeout){let e=this._timeout,r=this.setTimeoutFn(()=>{n(),i(Error("timeout")),t.close()},e);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}return this.subs.push(n),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(Uc(e,"ping",this.onping.bind(this)),Uc(e,"data",this.ondata.bind(this)),Uc(e,"error",this.onerror.bind(this)),Uc(e,"close",this.onclose.bind(this)),Uc(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){qB(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Up(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let e of t){let t=this.nsps[e];if(t.active)return}this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),null===(r=this.engine)||void 0===r||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{!e.skipReconnect&&(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}let Um={};function Ug(e,t){let r;"object"==typeof e&&(t=e,e=void 0),t=t||{};let n=function(e,t="",r){let n=e;r=r||"undefined"!=typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==r?r.protocol+"//"+e:"https://"+e),n=q0(e)),!n.port&&(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let i=-1!==n.host.indexOf(":"),o=i?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+t,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}(e,t.path||"/socket.io"),i=n.source,o=n.id,a=n.path,s=Um[o]&&a in Um[o].nsps,u=t.forceNew||t["force new connection"]||!1===t.multiplex||s;return u?r=new Uh(i,t):(Um[o]||(Um[o]=new Uh(i,t)),r=Um[o]),n.query&&!t.query&&(t.query=n.queryKey),r.socket(n.path,t)}Object.assign(Ug,{Manager:Uh,Socket:Up,io:Ug,connect:Ug}),(z=et||(et={})).CONNECTION_ERROR="CONNECTION_ERROR",z.SUBSCRIPTION_ERROR="SUBSCRIPTION_ERROR",z.UNSUBSCRIBE_ERROR="UNSUBSCRIBE_ERROR",z.SUBSCRIPTION_LIMIT_EXCEEDED="SUBSCRIPTION_LIMIT_EXCEEDED",z.TOTAL_ROOMS_LIMIT_EXCEEDED="TOTAL_ROOMS_LIMIT_EXCEEDED",z.RATE_LIMIT_EXCEEDED="RATE_LIMIT_EXCEEDED",z.SERVER_SHUTTING_DOWN="SERVER_SHUTTING_DOWN",(V=er||(er={})).CONNECTED="trading.connected",V.PING="trading.ping",V.PONG="trading.pong",V.ERROR="trading.error",V.SUBSCRIBE="trading.subscribeWallet",V.SUBSCRIBED="trading.subscribed",V.UNSUBSCRIBE="trading.unsubscribeWallet",V.UNSUBSCRIBED="trading.unsubscribed",V.SUBSCRIBE_BLOCK_META="trading.subscribeBlockMeta",V.SUBSCRIBED_BLOCK_META="trading.subscribedBlockMeta",V.UNSUBSCRIBE_BLOCK_META="trading.unsubscribeBlockMeta",V.UNSUBSCRIBED_BLOCK_META="trading.unsubscribedBlockMeta",V.POSITION_UPDATED="trading.positionUpdated",V.BLOCK_META_UPDATED="trading.blockMetaUpdated",V.BALANCE_UPDATED="trading.balanceUpdated";let Uy=ig("TradingSocket"),Ub=null,U_=null,Uw=()=>(Ub||Uk(),Ub),Uv=()=>U_,Uk=()=>{(Ub=Ug("wss://loadbalance.frontrun.pro/trading",{transports:["websocket"],timeout:5e3,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3})).on("connect",()=>{Uy.info(`socket.io connected: id=${Ub.id}`)}),Ub.on("disconnect",e=>{Uy.info(`socket.io disconnected: reason=${e}`)}),Ub.on(er.CONNECTED,e=>{Uy.info(er.CONNECTED,e)}),Ub.on(er.PONG,e=>{Uy.info(er.PONG,e)}),Ub.on(er.ERROR,e=>{Uy.info(er.ERROR,e)}),Ub.on(er.SUBSCRIBED,e=>{Uy.info(er.SUBSCRIBED,e)}),Ub.on(er.UNSUBSCRIBED,e=>{Uy.info(er.UNSUBSCRIBED,e)}),Ub.on(er.POSITION_UPDATED,e=>{Uy.info(er.POSITION_UPDATED,e)}),Ub.on(er.BALANCE_UPDATED,e=>{Uy.info(er.BALANCE_UPDATED,e)}),Ub.on(er.SUBSCRIBED_BLOCK_META,e=>{Uy.info(er.SUBSCRIBED_BLOCK_META,e)}),Ub.on(er.BLOCK_META_UPDATED,e=>{U_=e.data?.blockMeta}),Ub.emit(er.SUBSCRIBE_BLOCK_META)};var tg=eh("eJeWc"),UA={};UA=JSON.parse('{"labeling":{"message":"Labeling"},"trading":{"message":"Trading"},"setting":{"message":"Settings"},"add":{"message":"Add"},"top_moves":{"message":"Top Moves"},"appearance":{"message":"Appearance"},"platform_settings":{"message":"Platform Controls"},"general_settings":{"message":"General"},"twitter_settings":{"message":"X Settings"},"trading_settings":{"message":"Trading Settings"},"display_settings":{"message":"Customization & Display"},"cache":{"message":"Cache"},"clear_cache":{"message":"Clear"},"light":{"message":"Light"},"dark":{"message":"Dark"},"logout":{"message":"Log out"},"language":{"message":"Language"},"smart_followers":{"message":"Smart followers"},"powered_by":{"message":"Powered by"},"tags_from":{"message":"Tags from"},"log_in_to_view_insights":{"message":"Log in to view insights"},"label_updated_successfully":{"message":"Label updated successfully!"},"label_deleted_successfully":{"message":"Label deleted successfully!"},"username_history":{"message":"Username History"},"get_ca_history":{"message":"Get CA History"},"fetch_ca_history_failed":{"message":"Failed to fetch CA History. Please try again later."},"deleted_CA_count":{"message":"{deletedCACount} deleted CAs"},"active_CA_count":{"message":"{activeCACount} active CAs"},"deleted_tweets":{"message":"{deletedTweetsCount} deleted tweets"},"undeleted_tweets":{"message":"{undeletedTweetCount} active tweets"},"deleted_tweets_title":{"message":"Deleted Tweets"},"no_active_tweets_found":{"message":"No active tweets with CAs found"},"view_on_twitter":{"message":"View on Twitter"},"deleted_tweets_found":{"message":"Found {deletedTweetsCount} deleted tweets"},"no_deleted_tweets_found":{"message":"No deleted tweets with CAs found"},"active_tweets":{"message":"Active Tweets"},"CA_mentioned_by":{"message":"CA mentioned by @{twitterUsername}"},"add_label":{"message":"Add Label"},"successfully_created_group":{"message":"Successfully created group"},"failed_to_create_group":{"message":"Failed to create group"},"enter_a_group_name":{"message":"Enter a group name"},"characters":{"message":"characters"},"group_name_already_exists":{"message":"Group name already exists"},"view_summary":{"message":"View Summary"},"x_profile":{"message":"X Profile"},"net_worth":{"message":"Net Worth"},"win_rate":{"message":"Win Rate"},"pnl_90d":{"message":"PnL (90D)"},"address":{"message":"Address"},"program_derived_address":{"message":"Program Derived Address"},"confirm":{"message":"Confirm"},"cancel":{"message":"Cancel"},"jito_bundle_details":{"message":"Jito Bundle Details"},"bundle_id":{"message":"Bundle ID"},"total_transactions":{"message":"Total Transactions"},"validator_tip":{"message":"Jito Tip"},"transaction_signatures":{"message":"Transaction Signatures"},"loading_details":{"message":"Loading details..."},"details_not_available":{"message":"Details not available"},"no_alt_wallets_found":{"message":"No alt wallets found"},"no_bundle_data_available":{"message":"No Bundle Data Available"},"unable_to_load_bundle_info":{"message":"Unable to load bundle information at this time."},"view_on_jito_explorer":{"message":"View on Jito Explorer"},"close":{"message":"Close"},"signer":{"message":"Signer"},"checking":{"message":"Checking..."},"bundled_with":{"message":"Bundled with"},"transactions":{"message":"Transactions"},"jito_bundle":{"message":"Jito Bundle"},"not_bundled":{"message":"Not Bundled"},"bundle_check_failed":{"message":"Bundle Check Failed"},"unknown":{"message":"Unknown"},"successfully_updated_group":{"message":"Successfully updated group"},"failed_to_save_group":{"message":"Failed to save group"},"groups":{"message":"Groups"},"tags":{"message":"Tags"},"duplicated_group_name":{"message":"Duplicated group name"},"group_name_required":{"message":"Group name is required"},"new_wallet":{"message":"New Wallet"},"new_group":{"message":"New Group"},"import_labels":{"message":"Import Labels"},"group_name":{"message":"Group Name"},"enter_a_new_group_name":{"message":"Enter a new group name"},"wallet_address":{"message":"Wallet Address"},"enter_a_new_wallet_address":{"message":"Enter a new wallet address"},"primary_label":{"message":"Primary Label"},"enter_a_name_for_easy_tracking":{"message":"Enter a name for easy tracking"},"wallet_address_is_required":{"message":"Wallet address is required"},"invalid_wallet_address":{"message":"Invalid wallet address"},"primary_label_is_required":{"message":"Primary label is required"},"alt_wallets_saved_successfully":{"message":"Successfully saved alt wallets!"},"wallet_created_successfully":{"message":"Successfully created wallet!"},"wallet_creation_failed":{"message":"Failed to create wallet!"},"please_select_at_least_one_group":{"message":"Please select at least one group"},"save":{"message":"Save"},"last_active":{"message":"Last Active"},"add_alt_wallets_to_group":{"message":"Add Alt Wallets to Group"},"search_for_alt_wallets":{"message":"Search Alt wallets "},"add_to_group":{"message":"Add to Group"},"adding":{"message":"Adding..."},"select_wallet":{"message":"Manage Wallet"},"select_all":{"message":"Select All"},"deselect_all":{"message":"Deselect All"},"explore_universal_labels":{"message":"Explore Universal Labels"},"recent_labels":{"message":"Recent Labels"},"no_custom_labels_yet":{"message":"You haven\'t assigned any custom labels yet."},"start_trading":{"message":"Start Trading"},"profiles":{"message":"Profiles"},"wallets":{"message":"Wallets"},"no_wallet_found_yet":{"message":"No wallet found yet"},"welcome_to_frontrun":{"message":"Welcome to Frontrun"},"pin_extension_for_quick_access":{"message":"Pin Extension for Quick Access"},"extensions":{"message":"Extensions"},"frontrun":{"message":"Frontrun"},"pin":{"message":"Pin"},"lets_explore_labels_on_gmgn":{"message":"Let\'s Explore Labels on GMGN"},"explore_labels_on_gmgn":{"message":"Explore Labels on GMGN"},"lets_explore_labels_on_x":{"message":"Let\'s Explore Labels on X"},"explore_labels_on_x":{"message":"Explore Labels on X"},"ready_to_frontrun":{"message":"Ready to Frontrun"},"skip_intro":{"message":"Skip Intro >"},"gmgn_label_1":{"message":"Find and hover over existing label to view groups and tags."},"gmgn_label_2":{"message":"Create and customize labels for any wallet."},"gmgn_label_3":{"message":"Easily auto-import your custom groups from GMGN to Frontrun for seamless cross-platform visibility."},"profile_label_1":{"message":"Hover over View Summary to see more details about the account."},"profile_label_2":{"message":"Create and customize labels for any X user."},"profile_label_3":{"message":"View smart followers on each profile page."},"your_account_is_activated":{"message":"Your account is activated!"},"view_frontrun_insights_line":{"message":"You can now view the Frontrun insights on X and other platforms."},"add_custom_labels_by_clicking":{"message":"Add custom labels by clicking"},"icon_next_to_address_on":{"message":"icon next to wallet\'s address on"},"seamless_experience":{"message":"For seamless experience, import your labels to Frontrun."},"import":{"message":"Import"},"explore_frontrun":{"message":"Explore Frontrun"},"please_enter_wallet_addresses":{"message":"Please enter wallet addresses"},"please_enter_wallet_address":{"message":"Please enter wallet address"},"no_valid_wallet_addresses_found":{"message":"No valid wallet addresses found"},"invalid_wallet_address_with_addr":{"message":"Invalid wallet address: {address}"},"missing_label_for_address":{"message":"Missing label for address: {address}"},"successfully_imported_labels":{"message":"Successfully imported labels!"},"successfully_added_wallets_to_group":{"message":"Successfully added wallets to group!"},"successfully_added_wallet_to_group":{"message":"Successfully added wallet to group!"},"failed_to_add_wallets_to_groups":{"message":"Failed to add wallets to groups!"},"failed_to_import_labels":{"message":"Failed to import labels"},"failed_to_parse_wallet_data":{"message":"Failed to parse wallet data"},"bulk_import":{"message":"Bulk Import"},"paste_your_exported_wallets_here":{"message":"Paste your exported wallets here..."},"alt_wallet":{"message":"Alt Wallet"},"high":{"message":"High"},"medium":{"message":"Med"},"we_are_confident_pocket_wallet":{"message":"We\'re {confidence} confident this wallet serves as a Pocket Wallet for the selected address."},"please_enter_a_primary_label":{"message":"Please enter a primary label"},"successfully_updated_label":{"message":"Label updated successfully!"},"failed_to_update_label":{"message":"Failed to update label"},"failed_to_delete_label":{"message":"Failed to delete label"},"create":{"message":"Create"},"trading_feature_coming_soon":{"message":"This feature is coming soon. Reach out to us if you\'re interested in early access."},"feature_temporarily_disabled":{"message":"This feature is temporarily disabled and will be restored automatically."},"prioritize_frontrun":{"message":"Prioritize Frontrun"},"prioritize_frontrun_tip":{"message":"Optimize user experience when multiple extensions are displayed simultaneously"},"please_enter_invite_code":{"message":"Please enter an invite code"},"something_went_wrong":{"message":"Something went wrong, please try again later"},"already_signed_up_with_twitter":{"message":"Already signed up with Twitter?"},"need_help":{"message":"Need help?"},"docs":{"message":"Docs"},"community":{"message":"Community"},"search_placeholder":{"message":"Search by label, address, keyword, or name"},"import_from_gmgn":{"message":"Import from GMGN"},"import_from_solscan":{"message":"Import from Solscan"},"import_from_axiom":{"message":"Import from Axiom"},"import_from_photon":{"message":"Import from Photon"},"import_privacy_message":{"message":"Your imported labels will always be private to you and won\'t be shared with other users."},"supported_wallets":{"message":"Supported Wallets"},"copied":{"message":"Copied"},"copy":{"message":"Copy"},"custom_labels_detected":{"message":"Custom labels detected"},"remind_later":{"message":"Remind later"},"import_to_frontrun_tip":{"message":"Import your labels into Frontrun for seamless viewing on Solscan, Axiom, GMGN, and more. Your labels stay private\u2014never shared with anyone else."},"never_show_this_again":{"message":"Never show this again."},"failed_to_import_labels_refresh":{"message":"Failed to import labels, please refresh the page"},"importing_labels":{"message":"Importing Labels"},"auto_import_labels":{"message":"Auto-sync labels"},"quick_buy":{"message":"Buy"},"quick_sell":{"message":"Sell"},"instant_trade":{"message":"Instant Trade"},"recently_logged_in_as":{"message":"Recently logged in as"},"clear":{"message":"Clear"},"login_method":{"message":"Login method"},"google":{"message":"Google"},"twitter":{"message":"Twitter"},"loading":{"message":"Loading..."},"continue_with_google":{"message":"Continue with Google"},"or":{"message":"or"},"activate_account":{"message":"Activate Account"},"enter_invite_code":{"message":"Enter invite code"},"need_a_code":{"message":"Need a code?"},"join_telegram":{"message":"Join Telegram"},"activate":{"message":"Activate"},"trial":{"message":"Start 3-day trial"},"ended_trial":{"message":"3-day trial has ended, please obtain an invite code: "},"switch_account":{"message":"Switch Account"},"kol_data":{"message":"KOL data"},"custom_labels":{"message":"Custom labels"},"smart_wallet_insights":{"message":"Smart wallet insights"},"cross_platform_labels":{"message":"Cross-Platform Labels"},"alpha_discovery":{"message":"Alpha discovery"},"real_time_tracking":{"message":"Real-time tracking"},"x_integration":{"message":"X integration"},"trade_on_signals":{"message":"Trade on signals,"},"not_speculation":{"message":"not speculation."},"open_sidepanel_to_explore_frontrun":{"message":"Open SidePanel To Explore Frontrun"},"view_docs":{"message":"View Docs"},"profile_data":{"message":"Profile Data"},"twitter_label":{"message":"Twitter Label"},"name":{"message":"Name"},"show_full_list":{"message":"Show Full List"},"are_you_sure_you_want_to_delete_this_profile":{"message":"Are you sure you want to delete this profile?"},"wallet_data":{"message":"Wallet Data"},"wallet_label":{"message":"Wallet Label"},"are_you_sure_you_want_to_delete_this_label":{"message":"Are you sure you want to delete this label? The wallet will be removed"},"delete_label":{"message":"Delete Label"},"of":{"message":"of"},"selected":{"message":"selected"},"group":{"message":"Group"},"group_management":{"message":"Group Management"},"add_wallet":{"message":"Add Wallet"},"add_multi_wallet":{"message":"Add Multi Wallet"},"delete_group":{"message":"Delete Group"},"are_you_sure_you_want_to_delete_this_group":{"message":"Are you sure you want to delete this group?"},"success_group_updated":{"message":"Successfully updated group"},"error_group_update":{"message":"Failed to update group"},"success_wallets_removed":{"message":"Successfully removed wallets"},"error_wallets_remove":{"message":"Failed to remove wallets"},"success_group_deleted":{"message":"Successfully deleted group"},"error_group_delete":{"message":"Failed to delete group"},"delete_profile":{"message":"Delete Profile"},"add_single_wallet":{"message":"Add Single Wallet"},"wallet_address_placeholder":{"message":"wallet address"},"format_placeholder":{"message":"Supports Axiom, GMGN, Raybot, BullX. "},"wallet_label_placeholder":{"message":"Wallet address: Label"},"duplicate_wallet_addresses_found":{"message":"Duplicate wallet addresses found"},"invalid_wallet_addresses":{"message":"Invalid wallet addresses"},"please_enter_a_label":{"message":"Please enter a label"},"success_imported_labels":{"message":"Successfully imported labels!"},"error_importing_wallets":{"message":"Error importing wallets. Please try again."},"auto_generate_labels_from_group_name":{"message":"Auto-generate labels from group name."},"enter_wallet_addresses_one_per_line":{"message":"Enter wallet addresses, one per line."},"use_colon_for_custom_labels":{"message":"Use colon for custom labels."},"format":{"message":"Format"},"add_wallets":{"message":"Add Wallets"},"processing":{"message":"Processing..."},"invalid_solana_address":{"message":"Invalid Solana address"},"this_wallet_is_already_labeled_keep_the_current_label_or_update_it":{"message":"This wallet is already labeled. Keep the current label or update it."},"paste_the_wallet_address":{"message":"Paste the wallet address"},"please_select_at_least_one_wallet":{"message":"Please select at least one wallet"},"importing":{"message":"Importing..."},"delete_wallet":{"message":"Delete Wallet"},"deleting":{"message":"Deleting..."},"are_you_sure_you_want_to_remove_this_wallet_from_group":{"message":"Are you sure you want to remove this wallet from the group?"},"read_more":{"message":"[Read more]"},"secure_signing":{"message":"secure signing"},"frontrun_never_gets_the_the_access_to_use_private_keys":{"message":"Frontrun never has access to your private keys."},"create_new_wallet":{"message":"Create New Wallet"},"start_fresh_with_a_brand_new_key_pair_generated_right_in_your_browser":{"message":"Start fresh with a brand new key pair generated right in your browser."},"enable_with_google":{"message":"Enable with Google"},"your_wallets":{"message":"Your Wallets"},"creating":{"message":"Creating..."},"you_have_reached_the_maximum_number_of_wallets":{"message":"You have reached the maximum number of wallets"},"failed_to_create_wallet":{"message":"Failed to create wallet"},"failed_to_fetch_imported_private_keys":{"message":"Failed to fetch imported private keys"},"failed_to_fetch_addresses":{"message":"Failed to fetch addresses"},"failed_to_fetch_portfolio_for_address":{"message":"Failed to fetch portfolio for address"},"private_key_imported_successfully":{"message":"Private key imported successfully"},"failed_to_import_private_key":{"message":"Failed to import private key"},"import_wallet":{"message":"Import Wallet"},"do_not_share_your_private_key_with_anyone_frontrun_never_sees_or_stores_your_key":{"message":"Do not share your private key with anyone. Frontrun never has access to your private keys."},"please_enter_the_destination_address":{"message":"Please enter the destination address"},"destination_address_is_not_valid":{"message":"Destination address is not valid"},"cannot_send_sol_to_the_same_address":{"message":"Cannot send SOL to the same address"},"please_enter_the_amount":{"message":"Please enter the amount"},"invalid_amount":{"message":"Invalid amount"},"failed_to_export_private_key":{"message":"Failed to export private key"},"make_sure_the_destination_accepts_sol":{"message":"Make sure the destination accepts SOL"},"destination_address":{"message":"Destination Address"},"amount":{"message":"Amount"},"balance":{"message":"Balance"},"verify_with_google":{"message":"Verify with Google"},"from":{"message":"From"},"to":{"message":"To"},"sending":{"message":"Sending..."},"send":{"message":"Send"},"sol_was_successfully_sent_to":{"message":"SOL was successfully sent to"},"view_transaction":{"message":"View transaction"},"done":{"message":"Done"},"default_wallet":{"message":"Active Wallet"},"set_as_default_wallet":{"message":"Set as Active Wallet"},"deposit":{"message":"Deposit"},"withdraw":{"message":"Withdraw"},"view_on_solscan":{"message":"View on Solscan"},"view_private_key":{"message":"View Private Key"},"archive_wallet":{"message":"Archive Wallet"},"holdings":{"message":"Holdings"},"hide_low":{"message":"Hide low"},"trade":{"message":"Trade"},"share":{"message":"Share"},"deposit_sol":{"message":"Deposit SOL"},"deposit_address":{"message":"Deposit Address"},"only_send_sol_to_this_address":{"message":"Only send SOL to this address."},"copied_to_clipboard":{"message":"Copied to clipboard"},"failed_to_copy_address":{"message":"Failed to copy address"},"copy_address":{"message":"Copy Address"},"export_private_key":{"message":"Export Private Key"},"your_private_key_will_provide_all_access_to_this_account_do_not_share_your_private_key_with_anyone_frontrun_never_sees_or_stores_your_key":{"message":"Your Private Key will provide all access to this account. Do not share your Private Key with anyone. Frontrun never has access to your private keys."},"reveal_private_key":{"message":"Reveal Private Key"},"enter_private_key":{"message":"Enter Private Key"},"withdraw_failed":{"message":"Withdraw failed"},"confirm_withdraw":{"message":"Confirm Withdraw"},"withdraw_sol":{"message":"Withdraw SOL"},"success":{"message":"Success"},"error":{"message":"Error"},"enter_destination_address":{"message":"Enter destination address"},"enter_amount":{"message":"Enter amount"},"enable_trading":{"message":"Enable Trading"},"select_group":{"message":"Select Group"},"are_you_sure_you_want_to_delete_these_groups":{"message":"Are you sure you want to delete these groups? The wallets will be removed from all associated custom groups."},"successfully_deleted_group":{"message":"Successfully deleted group"},"failed_to_delete_group":{"message":"Failed to delete group"},"delete":{"message":"Delete"},"fail":{"message":"Fail"},"label_ui":{"message":"Label Style"},"option_1":{"message":"Option 1"},"option_2":{"message":"Option 2"},"insufficient_balance":{"message":"Insufficient Balance"},"failed_to_withdraw":{"message":"Failed to withdraw"},"successfully_deleted_wallets":{"message":"Successfully deleted wallets"},"failed_to_delete_wallet":{"message":"Failed to delete wallet"},"link_to_google_account":{"message":"Link to Google account"},"link_failed_retry":{"message":"Link failed. Please try again."},"binding":{"message":"Binding..."},"bind_now":{"message":"Bind now"},"account_migration":{"message":"Account Migration"},"account_linked_successfully":{"message":"Account linked successfully"},"if_you_have_any_issues_please_join":{"message":"If you have any issues, please join our"},"telegram_community":{"message":"Telegram community"},"recent_searches":{"message":"Recent Searches"},"no_results_found":{"message":"No results found"},"username":{"message":"Name"},"history":{"message":"History"},"no_username_changes":{"message":"No username changes"},"tokens":{"message":"Tokens"},"wallet_history":{"message":"Wallet History"},"wallet_history_for":{"message":"Wallet History for @{twitterUsername}"},"fetch_wallet_history_failed":{"message":"Failed to fetch wallet history. Please try again later."},"associated_wallets":{"message":"Linked Wallets"},"mentioned_wallets":{"message":"Mentioned Wallets"},"linked":{"message":"Linked"},"mentioned":{"message":"Mentioned"},"deleted_wallet_mentions":{"message":"Deleted Wallet Mentions"},"deleted":{"message":"DELETED"},"no_associated_wallets_found":{"message":"No associated wallets found"},"no_wallet_mentions_found":{"message":"No wallet mentions found in tweets"},"tweet":{"message":"tweet"},"tweets":{"message":"tweets"},"follower":{"message":"follower"},"followers":{"message":"followers"},"active":{"message":"Active"},"wallet_not_verified":{"message":"This wallet has not been verified."},"label_text_style":{"message":"Label Text Style"},"compact":{"message":"Compact"},"default":{"message":"Default"},"active_mentions":{"message":"Active Mentions"},"deleted_mentions":{"message":"Deleted Mentions"},"all_mentions_for":{"message":"All mentions for"},"click_to_view_all_mentions":{"message":"Click to view all mentions"},"failed_to_get_mentions":{"message":"Failed to get mentions"},"frequent_logout_help":{"message":"Keep getting signed out? See how to fix it"},"add_to_wallets":{"message":"Add to Wallets"},"successfully_added_to_wallets":{"message":"Successfully added to wallets"},"failed_to_add_to_wallets":{"message":"Failed to add to wallets"},"anyone_can_own_a_name":{"message":"Anyone can register a domain (e.g., name.sns)."},"always_verify":{"message":"Treat domains as clues\u2014not proof of identity."},"archived":{"message":"archived"},"archive":{"message":"archive"},"unarchive":{"message":"unarchive"},"wallet_deleted_successfully":{"message":"Wallet deleted successfully"},"wallet_deleted_failed":{"message":"Wallet deleted failed"},"alias":{"message":"Alias"},"edit_alias":{"message":"Edit Alias"},"enter_alias_placeholder":{"message":"Enter alias"},"alias_updated_successfully":{"message":"Alias updated successfully"},"alias_updated_failed":{"message":"Alias updated failed"},"view_all":{"message":"View All"},"top_mentions":{"message":"Top Mentions"},"buy":{"message":"Buy"},"sell":{"message":"Sell"},"fee":{"message":"Fee"},"no_default_wallet_address":{"message":"There is no default wallet address, please set default wallet first"},"no_token_found":{"message":"No token found"},"amount_less_than_zero":{"message":"Amount is less than 0"},"sol_balance_not_enough":{"message":"SOL balance is not enough"},"token_balance_not_enough":{"message":"Balance of {tokenTicker} is not enough"},"token_balance_less_than_amount":{"message":"Balance of {tokenTicker} is {tokenBalance}, less than {amount}"},"transaction_confirmed":{"message":"Order confirmed"},"order_execution_failed":{"message":"Order execution failed"},"this_will_permanently_remove_this_wallet_from_your_list":{"message":"This will permanently remove this wallet from your list. You will only be able to re-import it using its private key."},"select_your_active_wallet":{"message":"Select your active wallet."},"manage":{"message":"Manage"},"executing_order":{"message":"Executing Order"},"token_creator_label_gmgn":{"message":"Token Creator Label"},"token_creator_label_axiom":{"message":"DA Label"},"profile":{"message":"Profile"},"profile_history":{"message":"Profile History"},"name_change":{"message":"Name Change"},"profile_change":{"message":"Bio Change"},"no_bio_changes":{"message":"No bio changes"},"refresh":{"message":"Refresh"},"top_positions":{"message":"Top Positions"},"token":{"message":"Token"},"ranking":{"message":"Ranking"},"holder_history":{"message":"Holder History"},"holders":{"message":"Holders"},"position":{"message":"Position"},"pnl":{"message":"Pnl"},"only_pnl_above_50k_is_displayed":{"message":"Only PnL above $50k is displayed."},"top_trader":{"message":"Top Trader"},"top_holder":{"message":"Top Holder"},"pnl_over_50k":{"message":"PnL over $50k"},"you_saved":{"message":"You saved"},"in_fees_using":{"message":"in fees using"},"fee_saved":{"message":"Fee Saved"},"more":{"message":"More"},"order_summary":{"message":"Order Summary"},"swapped":{"message":"Swapped"},"transaction_details":{"message":"Transaction Details"},"trade_summary":{"message":"Trade Summary"},"time":{"message":"Time"},"date":{"message":"Date"},"signature":{"message":"Signature"},"transaction_fee":{"message":"Transaction Fee"},"wallet":{"message":"Wallet"},"price":{"message":"Price"},"slippage":{"message":"Slippage"},"tip":{"message":"Tip"},"priority_fee":{"message":"Priority Fee"},"for":{"message":"for"},"current_position":{"message":"Current Position"},"all_positions":{"message":"All Positions"},"bought":{"message":"Bought"},"sold":{"message":"Sold"},"holding":{"message":"Holding"},"position_pnl_percentage":{"message":"Pnl"},"platform_integrations":{"message":"Platform Integrations"},"import_labels_from_terminals":{"message":"Auto-sync your labels from terminals automatically (only you can see them, not shared with other users)."},"remaining_qty":{"message":"Holding"},"holding_value":{"message":"Value"},"show_translate":{"message":"Enable Translation"},"show_translate_tip":{"message":"Enable translation for name and symbol in GMGN"},"translate_size":{"message":"Translated text style"},"label_tool":{"message":"Edit label button"},"label_tool_description":{"message":"Show a small pen next to addresses to add or edit labels inline."},"primary_domain":{"message":"Primary Domain"}}');var US={};US=JSON.parse('{"labeling":{"message":"\u041c\u0435\u0442\u043a\u0438"},"trading":{"message":"\u0422\u0440\u0435\u0439\u0434\u0438\u043d\u0433"},"setting":{"message":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},"add":{"message":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"},"top_moves":{"message":"\u041a\u0440\u0443\u043f\u043d\u044b\u0435 \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u044f"},"appearance":{"message":"\u0412\u043d\u0435\u0448\u043d\u0438\u0439 \u0432\u0438\u0434"},"platform_settings":{"message":"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u043e\u0439"},"general_settings":{"message":"\u041e\u0431\u0449\u0438\u0435"},"twitter_settings":{"message":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 X"},"trading_settings":{"message":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0442\u043e\u0440\u0433\u043e\u0432\u043b\u0438"},"display_settings":{"message":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"},"cache":{"message":"\u041a\u044d\u0448"},"clear_cache":{"message":"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"},"light":{"message":"\u0421\u0432\u0435\u0442\u043b\u0430\u044f"},"dark":{"message":"\u0422\u0451\u043c\u043d\u0430\u044f"},"logout":{"message":"\u0412\u044b\u0439\u0442\u0438"},"language":{"message":"\u042f\u0437\u044b\u043a"},"smart_followers":{"message":"\u0423\u043c\u043d\u044b\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0438"},"powered_by":{"message":"\u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0430"},"tags_from":{"message":"\u0422\u0435\u0433\u0438 \u0438\u0437"},"log_in_to_view_insights":{"message":"\u0412\u043e\u0439\u0434\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0443"},"label_updated_successfully":{"message":"\u041c\u0435\u0442\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430!"},"label_deleted_successfully":{"message":"\u041c\u0435\u0442\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430!"},"username_history":{"message":"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0438\u043c\u0451\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"},"get_ca_history":{"message":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e CA"},"fetch_ca_history_failed":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e CA. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435."},"deleted_CA_count":{"message":"{deletedCACount} \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u044b\u0445 CA"},"active_CA_count":{"message":"{activeCACount} \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 CA"},"deleted_tweets":{"message":"{deletedTweetsCount} \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u044b\u0445 \u0442\u0432\u0438\u0442\u043e\u0432"},"undeleted_tweets":{"message":"{undeletedTweetCount} \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0442\u0432\u0438\u0442\u043e\u0432"},"deleted_tweets_title":{"message":"\u0423\u0434\u0430\u043b\u0451\u043d\u043d\u044b\u0435 \u0442\u0432\u0438\u0442\u044b"},"no_active_tweets_found":{"message":"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0442\u0432\u0438\u0442\u043e\u0432 \u0441 CA \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"},"view_on_twitter":{"message":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432 Twitter"},"deleted_tweets_found":{"message":"\u041d\u0430\u0439\u0434\u0435\u043d\u043e {deletedTweetsCount} \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u044b\u0445 \u0442\u0432\u0438\u0442\u043e\u0432"},"no_deleted_tweets_found":{"message":"\u0423\u0434\u0430\u043b\u0451\u043d\u043d\u044b\u0445 \u0442\u0432\u0438\u0442\u043e\u0432 \u0441 CA \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"},"active_tweets":{"message":"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0442\u0432\u0438\u0442\u044b"},"CA_mentioned_by":{"message":"CA \u0443\u043f\u043e\u043c\u044f\u043d\u0443\u0442\u0430 @{twitterUsername}"},"add_label":{"message":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0442\u043a\u0443"},"successfully_created_group":{"message":"\u0413\u0440\u0443\u043f\u043f\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430"},"failed_to_create_group":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443"},"enter_a_group_name":{"message":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b"},"characters":{"message":"\u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"},"group_name_already_exists":{"message":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"},"view_summary":{"message":"\u041e\u0431\u0437\u043e\u0440"},"x_profile":{"message":"\u041f\u0440\u043e\u0444\u0438\u043b\u044c X"},"net_worth":{"message":"\u0427\u0438\u0441\u0442\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"},"win_rate":{"message":"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u043e\u0431\u0435\u0434"},"pnl_90d":{"message":"PnL (90\u202f\u0434\u043d\u0435\u0439)"},"address":{"message":"\u0410\u0434\u0440\u0435\u0441"},"program_derived_address":{"message":"\u0410\u0434\u0440\u0435\u0441, \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043e\u0439"},"confirm":{"message":"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"},"cancel":{"message":"\u041e\u0442\u043c\u0435\u043d\u0430"},"jito_bundle_details":{"message":"\u0414\u0435\u0442\u0430\u043b\u0438 \u043f\u0430\u043a\u0435\u0442\u0430 Jito"},"bundle_id":{"message":"ID \u043f\u0430\u043a\u0435\u0442\u0430"},"total_transactions":{"message":"\u0412\u0441\u0435\u0433\u043e \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439"},"validator_tip":{"message":"\u0427\u0430\u0435\u0432\u044b\u0435 Jito"},"transaction_signatures":{"message":"\u041f\u043e\u0434\u043f\u0438\u0441\u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439"},"loading_details":{"message":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0435\u0442\u0430\u043b\u0435\u0439..."},"details_not_available":{"message":"\u0414\u0435\u0442\u0430\u043b\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b"},"no_alt_wallets_found":{"message":"\u0410\u043b\u044c\u0442\u2011\u043a\u043e\u0448\u0435\u043b\u044c\u043a\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"},"no_bundle_data_available":{"message":"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u0430\u043a\u0435\u0442\u0435 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b"},"unable_to_load_bundle_info":{"message":"\u041d\u0435 \u0443\u0434\u0430\u0451\u0442\u0441\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043f\u0430\u043a\u0435\u0442\u0435."},"view_on_jito_explorer":{"message":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432 Jito Explorer"},"close":{"message":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"},"signer":{"message":"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0442"},"checking":{"message":"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430..."},"bundled_with":{"message":"\u0412 \u043f\u0430\u043a\u0435\u0442\u0435 \u0441"},"transactions":{"message":"\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438"},"jito_bundle":{"message":"\u041f\u0430\u043a\u0435\u0442 Jito"},"not_bundled":{"message":"\u041d\u0435 \u0432 \u043f\u0430\u043a\u0435\u0442\u0435"},"bundle_check_failed":{"message":"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043f\u0430\u043a\u0435\u0442\u0430"},"unknown":{"message":"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"},"successfully_updated_group":{"message":"\u0413\u0440\u0443\u043f\u043f\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430"},"failed_to_save_group":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443"},"groups":{"message":"\u0413\u0440\u0443\u043f\u043f\u044b"},"tags":{"message":"\u0422\u0435\u0433\u0438"},"duplicated_group_name":{"message":"\u0414\u0443\u0431\u043b\u0438\u0440\u0443\u044e\u0449\u0435\u0435\u0441\u044f \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b"},"group_name_required":{"message":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"},"new_wallet":{"message":"\u041d\u043e\u0432\u044b\u0439 \u043a\u043e\u0448\u0435\u043b\u0451\u043a"},"new_group":{"message":"\u041d\u043e\u0432\u0430\u044f \u0433\u0440\u0443\u043f\u043f\u0430"},"import_labels":{"message":"\u0418\u043c\u043f\u043e\u0440\u0442 \u043c\u0435\u0442\u043e\u043a"},"group_name":{"message":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b"},"enter_a_new_group_name":{"message":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b"},"wallet_address":{"message":"\u0410\u0434\u0440\u0435\u0441 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430"},"enter_a_new_wallet_address":{"message":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430"},"primary_label":{"message":"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u043c\u0435\u0442\u043a\u0430"},"enter_a_name_for_easy_tracking":{"message":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430 \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u044f"},"wallet_address_is_required":{"message":"\u0410\u0434\u0440\u0435\u0441 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d"},"invalid_wallet_address":{"message":"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430"},"primary_label_is_required":{"message":"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u043c\u0435\u0442\u043a\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430"},"alt_wallets_saved_successfully":{"message":"\u0410\u043b\u044c\u0442\u2011\u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b!"},"wallet_created_successfully":{"message":"\u041a\u043e\u0448\u0435\u043b\u0451\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d!"},"wallet_creation_failed":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u0448\u0435\u043b\u0451\u043a!"},"please_select_at_least_one_group":{"message":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u0433\u0440\u0443\u043f\u043f\u0443"},"save":{"message":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"},"last_active":{"message":"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c"},"add_alt_wallets_to_group":{"message":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0441\u0435 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443"},"search_for_alt_wallets":{"message":"\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438"},"add_to_group":{"message":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0433\u0440\u0443\u043f\u043f\u0443"},"adding":{"message":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435..."},"select_wallet":{"message":"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u043e\u043c"},"select_all":{"message":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435"},"deselect_all":{"message":"\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435"},"explore_universal_labels":{"message":"\u0418\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u044b\u0435 \u043c\u0435\u0442\u043a\u0438"},"recent_labels":{"message":"\u041d\u0435\u0434\u0430\u0432\u043d\u0438\u0435 \u043c\u0435\u0442\u043a\u0438"},"no_custom_labels_yet":{"message":"\u0412\u044b \u0435\u0449\u0451 \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u043c\u0435\u0442\u043a\u0438."},"start_trading":{"message":"\u041d\u0430\u0447\u0430\u0442\u044c \u0442\u043e\u0440\u0433\u043e\u0432\u0430\u0442\u044c"},"profiles":{"message":"\u041f\u0440\u043e\u0444\u0438\u043b\u0438"},"wallets":{"message":"\u041a\u043e\u0448\u0435\u043b\u044c\u043a\u0438"},"no_wallet_found_yet":{"message":"\u041a\u043e\u0448\u0435\u043b\u044c\u043a\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"},"welcome_to_frontrun":{"message":"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432\u043e Frontrun"},"pin_extension_for_quick_access":{"message":"\u0417\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430"},"extensions":{"message":"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044f"},"frontrun":{"message":"Frontrun"},"pin":{"message":"\u0417\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u044c"},"lets_explore_labels_on_gmgn":{"message":"\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0438\u0441\u0441\u043b\u0435\u0434\u0443\u0435\u043c \u043c\u0435\u0442\u043a\u0438 \u043d\u0430 GMGN"},"explore_labels_on_gmgn":{"message":"\u0418\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043a\u0438 \u043d\u0430 GMGN"},"lets_explore_labels_on_x":{"message":"\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0438\u0441\u0441\u043b\u0435\u0434\u0443\u0435\u043c \u043c\u0435\u0442\u043a\u0438 \u043d\u0430 X"},"explore_labels_on_x":{"message":"\u0418\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043a\u0438 \u043d\u0430 X"},"ready_to_frontrun":{"message":"\u0413\u043e\u0442\u043e\u0432\u044b \u043a Frontrun"},"skip_intro":{"message":"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435 >"},"gmgn_label_1":{"message":"\u041d\u0430\u0439\u0434\u0438\u0442\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u043c\u0435\u0442\u043a\u0443 \u0438 \u043d\u0430\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0443\u0440\u0441\u043e\u0440, \u0447\u0442\u043e\u0431\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u044b \u0438 \u0442\u0435\u0433\u0438."},"gmgn_label_2":{"message":"\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0438 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0439\u0442\u0435 \u043c\u0435\u0442\u043a\u0438 \u0434\u043b\u044f \u043b\u044e\u0431\u043e\u0433\u043e \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430."},"gmgn_label_3":{"message":"\u041b\u0435\u0433\u043a\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u0432\u043e\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b \u0438\u0437 GMGN \u0432\u043e Frontrun \u0434\u043b\u044f \u0443\u0434\u043e\u0431\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u043d\u0430 \u0432\u0441\u0435\u0445 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430\u0445."},"profile_label_1":{"message":"\u041d\u0430\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0443\u0440\u0441\u043e\u0440 \u043d\u0430 \xab\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0432\u043e\u0434\u043a\u0443\xbb, \u0447\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e\u0431 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0435."},"profile_label_2":{"message":"\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0438 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0439\u0442\u0435 \u043c\u0435\u0442\u043a\u0438 \u0434\u043b\u044f \u043b\u044e\u0431\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f X."},"profile_label_3":{"message":"\u0421\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u0443\u043c\u043d\u044b\u0445 \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432 \u043d\u0430 \u043a\u0430\u0436\u0434\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f."},"your_account_is_activated":{"message":"\u0412\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d!"},"view_frontrun_insights_line":{"message":"\u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u0442\u044c \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0443 Frontrun \u0432 X \u0438 \u043d\u0430 \u0434\u0440\u0443\u0433\u0438\u0445 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430\u0445."},"add_custom_labels_by_clicking":{"message":"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u043c\u0435\u0442\u043a\u0438, \u043d\u0430\u0436\u0430\u0432 \u043d\u0430"},"icon_next_to_address_on":{"message":"\u0438\u043a\u043e\u043d\u043a\u0443 \u0440\u044f\u0434\u043e\u043c \u0441 \u0430\u0434\u0440\u0435\u0441\u043e\u043c \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430 \u043d\u0430"},"seamless_experience":{"message":"\u0414\u043b\u044f \u043b\u0443\u0447\u0448\u0435\u0433\u043e \u043e\u043f\u044b\u0442\u0430 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u0432\u043e\u0438 \u043c\u0435\u0442\u043a\u0438 \u0432\u043e Frontrun."},"import":{"message":"\u0418\u043c\u043f\u043e\u0440\u0442"},"explore_frontrun":{"message":"\u0418\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c Frontrun"},"please_enter_wallet_addresses":{"message":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441\u0430 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u043e\u0432"},"please_enter_wallet_address":{"message":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430"},"no_valid_wallet_addresses_found":{"message":"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u043e\u0432"},"invalid_wallet_address_with_addr":{"message":"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430: {address}"},"missing_label_for_address":{"message":"\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043c\u0435\u0442\u043a\u0430 \u0434\u043b\u044f \u0430\u0434\u0440\u0435\u0441\u0430: {address}"},"successfully_imported_labels":{"message":"\u041c\u0435\u0442\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u044b!"},"successfully_added_wallets_to_group":{"message":"\u041a\u043e\u0448\u0435\u043b\u044c\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u0433\u0440\u0443\u043f\u043f\u0443!"},"successfully_added_wallet_to_group":{"message":"\u041a\u043e\u0448\u0435\u043b\u0451\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u0433\u0440\u0443\u043f\u043f\u0443!"},"failed_to_add_wallets_to_groups":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438 \u0432 \u0433\u0440\u0443\u043f\u043f\u044b!"},"failed_to_import_labels":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043a\u0438"},"failed_to_parse_wallet_data":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430"},"bulk_import":{"message":"\u041c\u0430\u0441\u0441\u043e\u0432\u044b\u0439 \u0438\u043c\u043f\u043e\u0440\u0442"},"paste_your_exported_wallets_here":{"message":"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438 \u0441\u044e\u0434\u0430..."},"alt_wallet":{"message":"\u0410\u043b\u044c\u0442\u2011\u043a\u043e\u0448\u0435\u043b\u0451\u043a"},"high":{"message":"\u0412\u044b\u0441\u043e\u043a\u0438\u0439"},"medium":{"message":"\u0421\u0440\u0435\u0434\u043d\u0438\u0439"},"we_are_confident_pocket_wallet":{"message":"\u041c\u044b {confidence} \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u044d\u0442\u043e\u0442 \u043a\u043e\u0448\u0435\u043b\u0451\u043a \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a\u0430\u0440\u043c\u0430\u043d\u043d\u044b\u043c \u0434\u043b\u044f \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0430\u0434\u0440\u0435\u0441\u0430."},"please_enter_a_primary_label":{"message":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0441\u043d\u043e\u0432\u043d\u0443\u044e \u043c\u0435\u0442\u043a\u0443"},"successfully_updated_label":{"message":"\u041c\u0435\u0442\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430!"},"failed_to_update_label":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043c\u0435\u0442\u043a\u0443"},"failed_to_delete_label":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043c\u0435\u0442\u043a\u0443"},"create":{"message":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"},"trading_feature_coming_soon":{"message":"\u042d\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0441\u043a\u043e\u0440\u043e \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f. \u0421\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u043d\u0430\u043c\u0438 \u0434\u043b\u044f \u0440\u0430\u043d\u043d\u0435\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430."},"feature_temporarily_disabled":{"message":"\u042d\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u0438 \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438."},"prioritize_frontrun":{"message":"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043d\u044b\u0439 Frontrun"},"prioritize_frontrun_tip":{"message":"\u041e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u043f\u044b\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u0440\u0438 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0439"},"please_enter_invite_code":{"message":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f"},"something_went_wrong":{"message":"\u0427\u0442\u043e\u2011\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435"},"already_signed_up_with_twitter":{"message":"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c \u0447\u0435\u0440\u0435\u0437 Twitter?"},"need_help":{"message":"\u041d\u0443\u0436\u043d\u0430 \u043f\u043e\u043c\u043e\u0449\u044c?"},"docs":{"message":"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f"},"community":{"message":"\u0421\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e"},"search_placeholder":{"message":"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043c\u0435\u0442\u043a\u0435, \u0430\u0434\u0440\u0435\u0441\u0443, \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u043c\u0443 \u0441\u043b\u043e\u0432\u0443 \u0438\u043b\u0438 \u0438\u043c\u0435\u043d\u0438"},"import_from_gmgn":{"message":"\u0418\u043c\u043f\u043e\u0440\u0442 \u0438\u0437 GMGN"},"import_from_solscan":{"message":"\u0418\u043c\u043f\u043e\u0440\u0442 \u0438\u0437 Solscan"},"import_from_axiom":{"message":"\u0418\u043c\u043f\u043e\u0440\u0442 \u0438\u0437 Axiom"},"import_from_photon":{"message":"\u0418\u043c\u043f\u043e\u0440\u0442 \u0438\u0437 Photon"},"import_privacy_message":{"message":"\u0412\u0430\u0448\u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043c\u0435\u0442\u043a\u0438 \u0432\u0441\u0435\u0433\u0434\u0430 \u043e\u0441\u0442\u0430\u043d\u0443\u0442\u0441\u044f \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u043c\u0438 \u0438 \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u0440\u0443\u0433\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c."},"supported_wallets":{"message":"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0435 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438"},"copied":{"message":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e"},"copy":{"message":"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"},"custom_labels_detected":{"message":"\u041e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u043c\u0435\u0442\u043a\u0438"},"remind_later":{"message":"\u041d\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043f\u043e\u0437\u0436\u0435"},"import_to_frontrun_tip":{"message":"\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u0432\u043e\u0438 \u043c\u0435\u0442\u043a\u0438 \u0432\u043e Frontrun \u0434\u043b\u044f \u0443\u0434\u043e\u0431\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u043d\u0430 Solscan, Axiom, GMGN \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430\u0445. \u041c\u0435\u0442\u043a\u0438 \u043e\u0441\u0442\u0430\u043d\u0443\u0442\u0441\u044f \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u043c\u0438 \u2014 \u0438\u0445 \u043d\u0438\u043a\u0442\u043e \u043d\u0435 \u0443\u0432\u0438\u0434\u0438\u0442."},"never_show_this_again":{"message":"\u0411\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c."},"failed_to_import_labels_refresh":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043a\u0438, \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"},"importing_labels":{"message":"\u0418\u043c\u043f\u043e\u0440\u0442 \u043c\u0435\u0442\u043e\u043a"},"auto_import_labels":{"message":"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043a\u0438"},"quick_buy":{"message":"\u041a\u0443\u043f\u0438\u0442\u044c"},"quick_sell":{"message":"\u041f\u0440\u043e\u0434\u0430\u0442\u044c"},"instant_trade":{"message":"\u041c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u0430\u044f \u0442\u043e\u0440\u0433\u043e\u0432\u043b\u044f"},"recently_logged_in_as":{"message":"\u041d\u0435\u0434\u0430\u0432\u043d\u043e \u0432\u043e\u0448\u043b\u0438 \u043a\u0430\u043a"},"clear":{"message":"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"},"login_method":{"message":"\u041c\u0435\u0442\u043e\u0434 \u0432\u0445\u043e\u0434\u0430"},"google":{"message":"Google"},"twitter":{"message":"Twitter"},"loading":{"message":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."},"continue_with_google":{"message":"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0441 Google"},"or":{"message":"\u0438\u043b\u0438"},"activate_account":{"message":"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"},"enter_invite_code":{"message":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f"},"need_a_code":{"message":"\u041d\u0443\u0436\u0435\u043d \u043a\u043e\u0434?"},"join_telegram":{"message":"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f \u043a Telegram"},"activate":{"message":"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c"},"trial":{"message":"\u041f\u0440\u043e\u0431\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 3 \u0434\u043d\u044f"},"ended_trial":{"message":"3-\u0434\u043d\u0435\u0432\u043d\u044b\u0439 \u043f\u0440\u043e\u0431\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0441\u044f, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u043a\u043e\u0434 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f: "},"switch_account":{"message":"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"},"kol_data":{"message":"\u0414\u0430\u043d\u043d\u044b\u0435 KOL"},"custom_labels":{"message":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u043c\u0435\u0442\u043a\u0438"},"smart_wallet_insights":{"message":"\u0418\u043d\u0441\u0430\u0439\u0442\u044b \u0443\u043c\u043d\u043e\u0433\u043e \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430"},"cross_platform_labels":{"message":"\u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u044b\u0435 \u043c\u0435\u0442\u043a\u0438"},"alpha_discovery":{"message":"\u041f\u043e\u0438\u0441\u043a \u0430\u043b\u044c\u0444\u044b"},"real_time_tracking":{"message":"\u041e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c \u0432\u0440\u0435\u043c\u0435\u043d\u0438"},"x_integration":{"message":"\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 X"},"trade_on_signals":{"message":"\u0422\u043e\u0440\u0433\u0443\u0439\u0442\u0435 \u043f\u043e \u0441\u0438\u0433\u043d\u0430\u043b\u0430\u043c,"},"not_speculation":{"message":"\u0430 \u043d\u0435 \u043f\u043e \u0434\u043e\u0433\u0430\u0434\u043a\u0430\u043c."},"open_sidepanel_to_explore_frontrun":{"message":"\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u0431\u043e\u043a\u043e\u0432\u0443\u044e \u043f\u0430\u043d\u0435\u043b\u044c, \u0447\u0442\u043e\u0431\u044b \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c Frontrun"},"view_docs":{"message":"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e"},"profile_data":{"message":"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"},"twitter_label":{"message":"\u0422\u0432\u0438\u0442\u0442\u0435\u0440\u2011\u043c\u0435\u0442\u043a\u0430"},"name":{"message":"\u0418\u043c\u044f"},"show_full_list":{"message":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u043b\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a"},"are_you_sure_you_want_to_delete_this_profile":{"message":"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0444\u0438\u043b\u044c?"},"wallet_data":{"message":"\u0414\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430"},"wallet_label":{"message":"\u041c\u0435\u0442\u043a\u0430 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430"},"are_you_sure_you_want_to_delete_this_label":{"message":"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u043c\u0435\u0442\u043a\u0443? \u041a\u043e\u0448\u0435\u043b\u0451\u043a \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0451\u043d"},"delete_label":{"message":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043c\u0435\u0442\u043a\u0443"},"of":{"message":"\u0438\u0437"},"selected":{"message":"\u0432\u044b\u0431\u0440\u0430\u043d\u043e"},"group":{"message":"\u0413\u0440\u0443\u043f\u043f\u0430"},"group_management":{"message":"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u0430\u043c\u0438"},"add_wallet":{"message":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u0448\u0435\u043b\u0451\u043a"},"add_multi_wallet":{"message":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u043e\u0432"},"delete_group":{"message":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443"},"are_you_sure_you_want_to_delete_this_group":{"message":"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u0433\u0440\u0443\u043f\u043f\u0443?"},"success_group_updated":{"message":"\u0413\u0440\u0443\u043f\u043f\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430"},"error_group_update":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443"},"success_wallets_removed":{"message":"\u041a\u043e\u0448\u0435\u043b\u044c\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u044b"},"error_wallets_remove":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438"},"success_group_deleted":{"message":"\u0413\u0440\u0443\u043f\u043f\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430"},"error_group_delete":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443"},"delete_profile":{"message":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"},"add_single_wallet":{"message":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0434\u0438\u043d \u043a\u043e\u0448\u0435\u043b\u0451\u043a"},"wallet_address_placeholder":{"message":"\u0430\u0434\u0440\u0435\u0441 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430"},"format_placeholder":{"message":"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 Axiom, GMGN, Raybot, BullX."},"wallet_label_placeholder":{"message":"\u0410\u0434\u0440\u0435\u0441 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430: \u043c\u0435\u0442\u043a\u0430"},"duplicate_wallet_addresses_found":{"message":"\u041d\u0430\u0439\u0434\u0435\u043d\u044b \u0434\u0443\u0431\u043b\u0438\u0440\u0443\u044e\u0449\u0438\u0435\u0441\u044f \u0430\u0434\u0440\u0435\u0441\u0430 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u043e\u0432"},"invalid_wallet_addresses":{"message":"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u0430\u0434\u0440\u0435\u0441\u0430 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u043e\u0432"},"please_enter_a_label":{"message":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043c\u0435\u0442\u043a\u0443"},"success_imported_labels":{"message":"\u041c\u0435\u0442\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u044b!"},"error_importing_wallets":{"message":"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u043c\u043f\u043e\u0440\u0442\u0430 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u043e\u0432. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430."},"auto_generate_labels_from_group_name":{"message":"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043a\u0438 \u0438\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0433\u0440\u0443\u043f\u043f\u044b."},"enter_wallet_addresses_one_per_line":{"message":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441\u0430 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u043e\u0432, \u043f\u043e \u043e\u0434\u043d\u043e\u043c\u0443 \u0432 \u0441\u0442\u0440\u043e\u043a\u0435."},"use_colon_for_custom_labels":{"message":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0434\u0432\u043e\u0435\u0442\u043e\u0447\u0438\u0435 \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u043c\u0435\u0442\u043e\u043a."},"format":{"message":"\u0424\u043e\u0440\u043c\u0430\u0442"},"add_wallets":{"message":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438"},"processing":{"message":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430..."},"invalid_solana_address":{"message":"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 Solana"},"this_wallet_is_already_labeled_keep_the_current_label_or_update_it":{"message":"\u042d\u0442\u043e\u0442 \u043a\u043e\u0448\u0435\u043b\u0451\u043a \u0443\u0436\u0435 \u0438\u043c\u0435\u0435\u0442 \u043c\u0435\u0442\u043a\u0443. \u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0438\u043b\u0438 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c?"},"paste_the_wallet_address":{"message":"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430"},"please_select_at_least_one_wallet":{"message":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u0438\u043d \u043a\u043e\u0448\u0435\u043b\u0451\u043a"},"importing":{"message":"\u0418\u043c\u043f\u043e\u0440\u0442..."},"delete_wallet":{"message":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u0448\u0435\u043b\u0451\u043a"},"deleting":{"message":"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435..."},"are_you_sure_you_want_to_remove_this_wallet_from_group":{"message":"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u043a\u043e\u0448\u0435\u043b\u0451\u043a \u0438\u0437 \u0433\u0440\u0443\u043f\u043f\u044b?"},"read_more":{"message":"[\u0427\u0438\u0442\u0430\u0442\u044c \u0434\u0430\u043b\u0435\u0435]"},"secure_signing":{"message":"\u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0430\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u044c"},"frontrun_never_gets_the_the_access_to_use_private_keys":{"message":"Frontrun \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0432\u0430\u0448\u0438\u043c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u043c \u043a\u043b\u044e\u0447\u0430\u043c."},"create_new_wallet":{"message":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043a\u043e\u0448\u0435\u043b\u0451\u043a"},"start_fresh_with_a_brand_new_key_pair_generated_right_in_your_browser":{"message":"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0441 \u043d\u0443\u043b\u044f \u0441 \u043d\u043e\u0432\u043e\u0439 \u043f\u0430\u0440\u043e\u0439 \u043a\u043b\u044e\u0447\u0435\u0439, \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u043f\u0440\u044f\u043c\u043e \u0432 \u0432\u0430\u0448\u0435\u043c \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435."},"enable_with_google":{"message":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441 Google"},"your_wallets":{"message":"\u0412\u0430\u0448\u0438 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438"},"creating":{"message":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435..."},"you_have_reached_the_maximum_number_of_wallets":{"message":"\u0412\u044b \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u043e\u0432"},"failed_to_create_wallet":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u0448\u0435\u043b\u0451\u043a"},"failed_to_fetch_imported_private_keys":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0435 \u043a\u043b\u044e\u0447\u0438"},"failed_to_fetch_addresses":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0430"},"failed_to_fetch_portfolio_for_address":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u044c \u0434\u043b\u044f \u0430\u0434\u0440\u0435\u0441\u0430"},"private_key_imported_successfully":{"message":"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d"},"failed_to_import_private_key":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447"},"import_wallet":{"message":"\u0418\u043c\u043f\u043e\u0440\u0442 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430"},"do_not_share_your_private_key_with_anyone_frontrun_never_sees_or_stores_your_key":{"message":"\u041d\u0435 \u0434\u0435\u043b\u0438\u0442\u0435\u0441\u044c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u043c \u043a\u043b\u044e\u0447\u043e\u043c \u043d\u0438 \u0441 \u043a\u0435\u043c. Frontrun \u043d\u0435 \u0432\u0438\u0434\u0438\u0442 \u0438 \u043d\u0435 \u0445\u0440\u0430\u043d\u0438\u0442 \u0432\u0430\u0448\u0438 \u043a\u043b\u044e\u0447\u0438."},"please_enter_the_destination_address":{"message":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"},"destination_address_is_not_valid":{"message":"\u0410\u0434\u0440\u0435\u0441 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d"},"cannot_send_sol_to_the_same_address":{"message":"\u041d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c SOL \u043d\u0430 \u0442\u043e\u0442 \u0436\u0435 \u0430\u0434\u0440\u0435\u0441"},"please_enter_the_amount":{"message":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443"},"invalid_amount":{"message":"\u041d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430"},"failed_to_export_private_key":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447"},"make_sure_the_destination_accepts_sol":{"message":"\u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0430\u0434\u0440\u0435\u0441 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 SOL"},"destination_address":{"message":"\u0410\u0434\u0440\u0435\u0441 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"},"amount":{"message":"\u0421\u0443\u043c\u043c\u0430"},"balance":{"message":"\u0411\u0430\u043b\u0430\u043d\u0441"},"verify_with_google":{"message":"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 Google"},"from":{"message":"\u041e\u0442"},"to":{"message":"\u041a"},"sending":{"message":"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430..."},"send":{"message":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"},"sol_was_successfully_sent_to":{"message":"SOL \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0430"},"view_transaction":{"message":"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e"},"done":{"message":"\u0413\u043e\u0442\u043e\u0432\u043e"},"default_wallet":{"message":"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u043a\u043e\u0448\u0435\u043b\u0451\u043a"},"set_as_default_wallet":{"message":"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u043e\u043c"},"deposit":{"message":"\u0414\u0435\u043f\u043e\u0437\u0438\u0442"},"withdraw":{"message":"\u0412\u044b\u0432\u043e\u0434"},"view_on_solscan":{"message":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432 Solscan"},"view_private_key":{"message":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447"},"archive_wallet":{"message":"\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0448\u0435\u043b\u0451\u043a"},"holdings":{"message":"\u0410\u043a\u0442\u0438\u0432\u044b"},"hide_low":{"message":"\u0421\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043b\u043a\u0438\u0435"},"trade":{"message":"\u0422\u043e\u0440\u0433\u043e\u0432\u0430\u0442\u044c"},"share":{"message":"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"},"deposit_sol":{"message":"\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 SOL"},"deposit_address":{"message":"\u0410\u0434\u0440\u0435\u0441 \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u0430"},"only_send_sol_to_this_address":{"message":"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0439\u0442\u0435 SOL \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u044d\u0442\u043e\u0442 \u0430\u0434\u0440\u0435\u0441."},"copied_to_clipboard":{"message":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440"},"failed_to_copy_address":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441"},"copy_address":{"message":"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441"},"export_private_key":{"message":"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430"},"your_private_key_will_provide_all_access_to_this_account_do_not_share_your_private_key_with_anyone_frontrun_never_sees_or_stores_your_key":{"message":"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0434\u0430\u0441\u0442 \u043f\u043e\u043b\u043d\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0443. \u041d\u0435 \u0434\u0435\u043b\u0438\u0442\u0435\u0441\u044c \u043a\u043b\u044e\u0447\u043e\u043c. Frontrun \u043d\u0435 \u0432\u0438\u0434\u0438\u0442 \u0438 \u043d\u0435 \u0445\u0440\u0430\u043d\u0438\u0442 \u0432\u0430\u0448\u0438 \u043a\u043b\u044e\u0447\u0438."},"reveal_private_key":{"message":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447"},"enter_private_key":{"message":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447"},"withdraw_failed":{"message":"\u0412\u044b\u0432\u043e\u0434 \u043d\u0435 \u0443\u0434\u0430\u043b\u0441\u044f"},"confirm_withdraw":{"message":"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0432\u044b\u0432\u043e\u0434"},"withdraw_sol":{"message":"\u0412\u044b\u0432\u0435\u0441\u0442\u0438 SOL"},"success":{"message":"\u0423\u0441\u043f\u0435\u0445"},"error":{"message":"\u041e\u0448\u0438\u0431\u043a\u0430"},"enter_destination_address":{"message":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"},"enter_amount":{"message":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443"},"enable_trading":{"message":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0442\u043e\u0440\u0433\u043e\u0432\u043b\u044e"},"select_group":{"message":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0440\u0443\u043f\u043f\u0443"},"are_you_sure_you_want_to_delete_these_groups":{"message":"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0438 \u0433\u0440\u0443\u043f\u043f\u044b? \u041a\u043e\u0448\u0435\u043b\u044c\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u044b \u0438\u0437 \u0432\u0441\u0435\u0445 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0433\u0440\u0443\u043f\u043f."},"successfully_deleted_group":{"message":"\u0413\u0440\u0443\u043f\u043f\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430"},"failed_to_delete_group":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443"},"delete":{"message":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"},"fail":{"message":"\u041d\u0435\u0443\u0434\u0430\u0447\u0430"},"label_ui":{"message":"\u0421\u0442\u0438\u043b\u044c \u043c\u0435\u0442\u043e\u043a"},"option_1":{"message":"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 1"},"option_2":{"message":"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 2"},"insufficient_balance":{"message":"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u044b\u0439 \u0431\u0430\u043b\u0430\u043d\u0441"},"failed_to_withdraw":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432\u044b\u0432\u043e\u0434"},"successfully_deleted_wallets":{"message":"\u041a\u043e\u0448\u0435\u043b\u044c\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u044b"},"failed_to_delete_wallet":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u0448\u0435\u043b\u0451\u043a"},"link_to_google_account":{"message":"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c \u043a Google\u2011\u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0443"},"link_failed_retry":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."},"binding":{"message":"\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430..."},"bind_now":{"message":"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c \u0441\u0435\u0439\u0447\u0430\u0441"},"account_migration":{"message":"\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"},"account_linked_successfully":{"message":"\u0410\u043a\u043a\u0430\u0443\u043d\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d"},"if_you_have_any_issues_please_join":{"message":"\u0415\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u044b, \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0439\u0442\u0435\u0441\u044c \u043a \u043d\u0430\u0448\u0435\u043c\u0443"},"telegram_community":{"message":"\u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0443 \u0432 Telegram"},"recent_searches":{"message":"\u041d\u0435\u0434\u0430\u0432\u043d\u0438\u0435 \u043f\u043e\u0438\u0441\u043a\u0438"},"no_results_found":{"message":"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"},"username":{"message":"\u041d\u0438\u043a"},"history":{"message":"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"},"no_username_changes":{"message":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0438\u043c\u0435\u043d\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435\u0442"},"tokens":{"message":"\u0422\u043e\u043a\u0435\u043d\u044b"},"wallet_history":{"message":"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430"},"wallet_history_for":{"message":"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430 \u0434\u043b\u044f @{twitterUsername}"},"fetch_wallet_history_failed":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435."},"associated_wallets":{"message":"\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438"},"mentioned_wallets":{"message":"\u0423\u043f\u043e\u043c\u044f\u043d\u0443\u0442\u044b\u0435 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438"},"linked":{"message":"\u0421\u0432\u044f\u0437\u0430\u043d"},"mentioned":{"message":"\u0423\u043f\u043e\u043c\u044f\u043d\u0443\u0442"},"deleted_wallet_mentions":{"message":"\u0423\u0434\u0430\u043b\u0451\u043d\u043d\u044b\u0435 \u0443\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u043e\u0432"},"deleted":{"message":"\u0423\u0414\u0410\u041b\u0415\u041d\u041e"},"no_associated_wallets_found":{"message":"\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"},"no_wallet_mentions_found":{"message":"\u0423\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0439 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u043e\u0432 \u0432 \u0442\u0432\u0438\u0442\u0430\u0445 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"},"tweet":{"message":"\u0442\u0432\u0438\u0442"},"tweets":{"message":"\u0442\u0432\u0438\u0442\u044b"},"follower":{"message":"\u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a"},"followers":{"message":"\u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432"},"active":{"message":"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439"},"wallet_not_verified":{"message":"\u042d\u0442\u043e\u0442 \u043a\u043e\u0448\u0435\u043b\u0435\u043a \u043d\u0435 \u0431\u044b\u043b \u0432\u0435\u0440\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d."},"label_text_style":{"message":"\u0421\u0442\u0438\u043b\u044c \u0442\u0435\u043a\u0441\u0442\u0430 \u043c\u0435\u0442\u043e\u043a"},"compact":{"message":"\u041a\u043e\u043c\u043f\u0430\u043a\u0442\u043d\u044b\u0439"},"default":{"message":"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"},"active_mentions":{"message":"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0443\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f"},"deleted_mentions":{"message":"\u0423\u0434\u0430\u043b\u0451\u043d\u043d\u044b\u0435 \u0443\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f"},"all_mentions_for":{"message":"\u0412\u0441\u0435 \u0443\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f \u0434\u043b\u044f"},"click_to_view_all_mentions":{"message":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435 \u0443\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f"},"failed_to_get_mentions":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0443\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f"},"frequent_logout_help":{"message":"\u0412\u0430\u0441 \u0447\u0430\u0441\u0442\u043e \u0432\u044b\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u0435\u0442 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430? \u0412\u043e\u0442 \u043a\u0430\u043a \u044d\u0442\u043e \u0438\u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c"},"add_to_wallets":{"message":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438"},"successfully_added_to_wallets":{"message":"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438"},"failed_to_add_to_wallets":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438"},"anyone_can_own_a_name":{"message":"\u041b\u044e\u0431\u043e\u0439 \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u043e\u043c\u0435\u043d (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, name.sns)."},"always_verify":{"message":"\u0420\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0439\u0442\u0435 \u0434\u043e\u043c\u0435\u043d\u044b \u043a\u0430\u043a \u043e\u0440\u0438\u0435\u043d\u0442\u0438\u0440, \u0430 \u043d\u0435 \u043a\u0430\u043a \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u0438."},"archived":{"message":"\u0430\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d"},"archive":{"message":"\u0430\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c"},"unarchive":{"message":"\u0440\u0430\u0437\u0430\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c"},"wallet_deleted_successfully":{"message":"\u041a\u043e\u0448\u0435\u043b\u0451\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d"},"wallet_deleted_failed":{"message":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u0448\u0435\u043b\u0451\u043a"},"alias":{"message":"\u041f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c"},"edit_alias":{"message":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c"},"enter_alias_placeholder":{"message":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c"},"alias_updated_successfully":{"message":"\u041f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d"},"view_all":{"message":"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435"},"top_mentions":{"message":"\u0422\u043e\u043f \u0443\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f"},"buy":{"message":"\u041a\u0443\u043f\u0438\u0442\u044c"},"sell":{"message":"\u041f\u0440\u043e\u0434\u0430\u0442\u044c"},"fee":{"message":"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"},"no_default_wallet_address":{"message":"\u041d\u0435\u0442 \u0430\u0434\u0440\u0435\u0441\u0430 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e, \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u043a\u043e\u0448\u0435\u043b\u0435\u043a \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"},"no_token_found":{"message":"\u0422\u043e\u043a\u0435\u043d \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"},"amount_less_than_zero":{"message":"\u0421\u0443\u043c\u043c\u0430 \u043c\u0435\u043d\u044c\u0448\u0435 0"},"sol_balance_not_enough":{"message":"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e SOL"},"token_balance_not_enough":{"message":"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e {tokenTicker}"},"token_balance_less_than_amount":{"message":"\u0411\u0430\u043b\u0430\u043d\u0441 {tokenTicker} \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 {tokenBalance}, \u043c\u0435\u043d\u044c\u0448\u0435 {amount}"},"transaction_confirmed":{"message":"\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0430"},"order_execution_failed":{"message":"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043e\u0440\u0434\u0435\u0440\u0430"},"this_will_permanently_remove_this_wallet_from_your_list":{"message":"\u042d\u0442\u043e \u0443\u0434\u0430\u043b\u0438\u0442 \u043a\u043e\u0448\u0435\u043b\u0451\u043a \u043d\u0430\u0432\u0441\u0435\u0433\u0434\u0430. \u0412\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0435\u0433\u043e \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430."},"select_your_active_wallet":{"message":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u043a\u043e\u0448\u0435\u043b\u0435\u043a."},"manage":{"message":"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"},"executing_order":{"message":"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430"},"token_creator_label_gmgn":{"message":"\u041c\u0435\u0442\u043a\u0430 \u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044f \u0422\u043e\u043a\u0435\u043d\u0430"},"token_creator_label_axiom":{"message":"\u041c\u0435\u0442\u043a\u0430 DA"},"profile":{"message":"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"},"profile_history":{"message":"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f"},"name_change":{"message":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043c\u0435\u043d\u0438"},"profile_change":{"message":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0431\u0438\u043e\u0433\u0440\u0430\u0444\u0438\u0438"},"no_bio_changes":{"message":"\u0411\u0435\u0437 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0432 \u0431\u0438\u043e\u0433\u0440\u0430\u0444\u0438\u0438"},"refresh":{"message":"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"},"top_positions":{"message":"\u0422\u043e\u043f \u041f\u043e\u0437\u0438\u0446\u0438\u0438"},"token":{"message":"\u0422\u043e\u043a\u0435\u043d"},"ranking":{"message":"\u0420\u0430\u043d\u0433"},"holder_history":{"message":"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0425\u043e\u043b\u0434\u0435\u0440\u043e\u0432"},"holders":{"message":"\u0425\u043e\u043b\u0434\u0435\u0440\u044b"},"position":{"message":"\u041f\u043e\u0437\u0438\u0446\u0438\u044f"},"pnl":{"message":"Pnl"},"only_pnl_above_50k_is_displayed":{"message":"\u0422\u043e\u043b\u044c\u043a\u043e PnL \u0432\u044b\u0448\u0435 $50k \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f."},"top_trader":{"message":"\u0422\u043e\u043f \u0422\u043e\u0440\u0433\u043e\u0432\u0435\u0446"},"top_holder":{"message":"\u0422\u043e\u043f \u0425\u043e\u043b\u0434\u0435\u0440"},"pnl_over_50k":{"message":"PnL \u0432\u044b\u0448\u0435 $50k"},"you_saved":{"message":"\u0412\u044b \u0441\u044d\u043a\u043e\u043d\u043e\u043c\u0438\u043b\u0438"},"in_fees_using":{"message":"\u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f"},"fee_saved":{"message":"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430"},"more":{"message":"\u0411\u043e\u043b\u044c\u0448\u0435"},"order_summary":{"message":"\u0421\u0432\u043e\u0434\u043a\u0430 \u0437\u0430\u043a\u0430\u0437\u0430"},"swapped":{"message":"\u041e\u0431\u043c\u0435\u043d\u0435\u043d\u043e"},"transaction_details":{"message":"\u0414\u0435\u0442\u0430\u043b\u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438"},"trade_summary":{"message":"\u0421\u0432\u043e\u0434\u043a\u0430 \u0442\u043e\u0440\u0433\u043e\u0432\u043b\u0438"},"time":{"message":"\u0412\u0440\u0435\u043c\u044f"},"date":{"message":"\u0414\u0430\u0442\u0430"},"signature":{"message":"\u041f\u043e\u0434\u043f\u0438\u0441\u044c"},"transaction_fee":{"message":"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438"},"wallet":{"message":"\u041a\u043e\u0448\u0435\u043b\u0435\u043a"},"price":{"message":"\u0426\u0435\u043d\u0430"},"slippage":{"message":"\u041f\u0440\u043e\u0441\u043a\u0430\u043b\u044c\u0437\u044b\u0432\u0430\u043d\u0438\u0435"},"tip":{"message":"\u0427\u0430\u0435\u0432\u044b\u0435"},"priority_fee":{"message":"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043d\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"},"for":{"message":"\u0437\u0430"},"current_position":{"message":"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043f\u043e\u0437\u0438\u0446\u0438\u044f"},"all_positions":{"message":"\u0412\u0441\u0435 \u043f\u043e\u0437\u0438\u0446\u0438\u0438"},"bought":{"message":"\u041f\u043e\u043a\u0443\u043f\u043a\u0430"},"sold":{"message":"\u041f\u0440\u043e\u0434\u0430\u0436\u0430"},"holding":{"message":"\u0411\u0430\u043b\u0430\u043d\u0441"},"position_pnl_percentage":{"message":"\u041f&\u0423"},"platform_integrations":{"message":"\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b"},"import_labels_from_terminals":{"message":"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043a\u0438 \u0438\u0437 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u043e\u0432 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 (\u0442\u043e\u043b\u044c\u043a\u043e \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0445 \u0432\u0438\u0434\u0435\u0442\u044c, \u043d\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u044f\u044e\u0442\u0441\u044f \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438)."},"remaining_qty":{"message":"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"},"holding_value":{"message":"\u0411\u0430\u043b\u0430\u043d\u0441"},"show_translate":{"message":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u0432\u043e\u0434"},"show_translate_tip":{"message":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0434\u043b\u044f \u0438\u043c\u0435\u043d\u0438 \u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u0430 \u0432 GMGN"},"translate_size":{"message":"\u0421\u0442\u0438\u043b\u044c \u0442\u0435\u043a\u0441\u0442\u0430 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430"},"label_tool":{"message":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043c\u0435\u0442\u043a\u0438"},"label_tool_description":{"message":"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0439 \u0437\u043d\u0430\u0447\u043e\u043a-\u043a\u0430\u0440\u0430\u043d\u0434\u0430\u0448 \u0440\u044f\u0434\u043e\u043c \u0441 \u0430\u0434\u0440\u0435\u0441\u0430\u043c\u0438, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0438\u043b\u0438 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043a\u0438 \u043f\u0440\u044f\u043c\u043e \u043d\u0430 \u043c\u0435\u0441\u0442\u0435."},"primary_domain":{"message":"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0434\u043e\u043c\u0435\u043d"}}');var UI={};UI=JSON.parse('{"labeling":{"message":"\u6807\u7b7e"},"trading":{"message":"\u4ea4\u6613"},"setting":{"message":"\u8bbe\u7f6e"},"add":{"message":"\u6dfb\u52a0"},"appearance":{"message":"\u4e3b\u9898"},"platform_settings":{"message":"\u5e73\u53f0\u8bbe\u7f6e"},"general_settings":{"message":"\u901a\u7528"},"twitter_settings":{"message":"\u63a8\u7279\u8bbe\u7f6e"},"trading_settings":{"message":"\u4ea4\u6613\u8bbe\u7f6e"},"display_settings":{"message":"\u663e\u793a\u8bbe\u7f6e"},"cache":{"message":"\u7f13\u5b58"},"clear_cache":{"message":"\u6e05\u9664"},"light":{"message":"\u6d45\u8272"},"dark":{"message":"\u6df1\u8272"},"logout":{"message":"\u9000\u51fa\u767b\u5f55"},"language":{"message":"\u8bed\u8a00"},"smart_followers":{"message":"KOL\u5173\u6ce8"},"powered_by":{"message":"\u6570\u636e\u6765\u81ea"},"tags_from":{"message":"\u6807\u7b7e\u6765\u81ea"},"log_in_to_view_insights":{"message":"\u767b\u5f55\u67e5\u770b\u6d1e\u5bdf"},"label_updated_successfully":{"message":"\u6807\u7b7e\u66f4\u65b0\u6210\u529f\uff01"},"label_deleted_successfully":{"message":"\u6807\u7b7e\u5220\u9664\u6210\u529f\uff01"},"username_history":{"message":"\u7528\u6237\u540d\u5386\u53f2"},"get_ca_history":{"message":"\u83b7\u53d6\u53d1\u76d8\u5386\u53f2"},"CA_mentioned_by":{"message":"CA \u88ab @{twitterUsername} \u63d0\u53ca"},"deleted_CA_count":{"message":"{deletedCACount} \u4e2a\u5df2\u5220\u9664CA"},"active_CA_count":{"message":"{activeCACount} \u4e2a\u672a\u5220\u9664CA"},"deleted_tweets":{"message":"{deletedTweetsCount} \u4e2a\u5df2\u5220\u9664\u63a8\u6587"},"undeleted_tweets":{"message":"{undeletedTweetCount} \u4e2a\u672a\u5220\u9664\u63a8\u6587"},"deleted_tweets_title":{"message":"\u5df2\u5220\u9664\u63a8\u6587"},"no_active_tweets_found":{"message":"\u672a\u627e\u5230\u672a\u5220\u9664\u5305\u542bCA\u7684\u63a8\u6587"},"view_on_twitter":{"message":"\u5728 Twitter \u4e0a\u67e5\u770b"},"deleted_tweets_found":{"message":"\u5df2\u627e\u5230 {deletedTweetsCount} \u4e2a\u5df2\u5220\u9664\u63a8\u6587"},"no_deleted_tweets_found":{"message":"\u672a\u627e\u5230\u5df2\u5220\u9664\u5305\u542bCA\u7684\u63a8\u6587"},"fetch_ca_history_failed":{"message":"\u83b7\u53d6\u53d1\u76d8\u5386\u53f2\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002"},"add_label":{"message":"\u6dfb\u52a0\u6807\u7b7e"},"successfully_created_group":{"message":"\u521b\u5efa\u5206\u7ec4\u6210\u529f"},"failed_to_create_group":{"message":"\u521b\u5efa\u5206\u7ec4\u5931\u8d25"},"enter_a_group_name":{"message":"\u8f93\u5165\u5206\u7ec4\u540d\u79f0"},"characters":{"message":"\u4e2a\u5b57\u7b26"},"group_name_already_exists":{"message":"\u5206\u7ec4\u540d\u79f0\u5df2\u5b58\u5728"},"view_summary":{"message":"\u67e5\u770b\u6982\u89c8"},"x_profile":{"message":"X \u8d26\u6237"},"net_worth":{"message":"\u51c0\u8d44\u4ea7"},"win_rate":{"message":"\u80dc\u7387"},"pnl_90d":{"message":"90\u5929\u76c8\u4e8f"},"address":{"message":"\u5730\u5740"},"program_derived_address":{"message":"PDA"},"confirm":{"message":"\u786e\u5b9a"},"cancel":{"message":"\u53d6\u6d88"},"jito_bundle_details":{"message":"Jito Bundle \u8be6\u60c5"},"bundle_id":{"message":"Bundle ID"},"total_transactions":{"message":"\u4ea4\u6613\u603b\u6570"},"validator_tip":{"message":"\u5c0f\u8d39"},"transaction_signatures":{"message":"\u4ea4\u6613\u7b7e\u540d"},"loading_details":{"message":"\u52a0\u8f7d\u8be6\u60c5..."},"details_not_available":{"message":"\u6682\u65e0\u8be6\u60c5"},"no_alt_wallets_found":{"message":"\u672a\u627e\u5230\u5173\u8054\u94b1\u5305"},"no_bundle_data_available":{"message":"\u6682\u65e0 Bundle \u6570\u636e"},"unable_to_load_bundle_info":{"message":"\u6682\u65f6\u65e0\u6cd5\u52a0\u8f7d Bundle \u4fe1\u606f\u3002"},"view_on_jito_explorer":{"message":"\u5728 Jito Explorer \u67e5\u770b"},"close":{"message":"\u5173\u95ed"},"signer":{"message":"\u7b7e\u7f72\u8005"},"checking":{"message":"\u6b63\u5728\u68c0\u67e5..."},"bundled_with":{"message":"bundle\u5305\u542b"},"transactions":{"message":"\u7b14\u4ea4\u6613"},"jito_bundle":{"message":"Jito Bundle"},"not_bundled":{"message":"\u672abundle"},"bundle_check_failed":{"message":"Bundle \u68c0\u67e5\u5931\u8d25"},"unknown":{"message":"\u672a\u77e5"},"successfully_updated_group":{"message":"\u5206\u7ec4\u66f4\u65b0\u6210\u529f"},"failed_to_save_group":{"message":"\u4fdd\u5b58\u5206\u7ec4\u5931\u8d25"},"groups":{"message":"\u5206\u7ec4"},"tags":{"message":"\u6807\u7b7e"},"duplicated_group_name":{"message":"\u5206\u7ec4\u540d\u79f0\u5df2\u5b58\u5728"},"group_name_required":{"message":"\u5206\u7ec4\u540d\u79f0\u4e3a\u5fc5\u586b\u9879"},"new_wallet":{"message":"\u65b0\u94b1\u5305"},"new_group":{"message":"\u65b0\u5206\u7ec4"},"import_labels":{"message":"\u5bfc\u5165\u6807\u7b7e"},"group_name":{"message":"\u5206\u7ec4\u540d\u79f0"},"enter_a_new_group_name":{"message":"\u8f93\u5165\u65b0\u7684\u5206\u7ec4\u540d\u79f0"},"wallet_address":{"message":"\u94b1\u5305\u5730\u5740"},"enter_a_new_wallet_address":{"message":"\u8f93\u5165\u65b0\u7684\u94b1\u5305\u5730\u5740"},"enter_a_name_for_easy_tracking":{"message":"\u8f93\u5165\u540d\u79f0\u4ee5\u4fbf\u8ddf\u8e2a"},"wallet_address_is_required":{"message":"\u94b1\u5305\u5730\u5740\u4e3a\u5fc5\u586b\u9879"},"invalid_wallet_address":{"message":"\u65e0\u6548\u7684\u94b1\u5305\u5730\u5740"},"primary_label_is_required":{"message":"\u4e3b\u8981\u6807\u7b7e\u4e3a\u5fc5\u586b\u9879"},"alt_wallets_saved_successfully":{"message":"\u6210\u529f\u4fdd\u5b58\u5173\u8054\u94b1\u5305\uff01"},"wallet_created_successfully":{"message":"\u521b\u5efa\u94b1\u5305\u6210\u529f\uff01"},"wallet_creation_failed":{"message":"\u521b\u5efa\u94b1\u5305\u5931\u8d25\uff01"},"please_select_at_least_one_group":{"message":"\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u5206\u7ec4"},"save":{"message":"\u4fdd\u5b58"},"last_active":{"message":"\u6700\u540e\u6d3b\u8dc3"},"add_alt_wallets_to_group":{"message":"\u5c06\u5907\u7528\u94b1\u5305\u6dfb\u52a0\u5230\u5206\u7ec4"},"search_for_alt_wallets":{"message":"\u641c\u7d22\u5173\u8054\u94b1\u5305"},"add_to_group":{"message":"\u6dfb\u52a0\u5230\u5206\u7ec4"},"adding":{"message":"\u6dfb\u52a0\u4e2d..."},"select_wallet":{"message":"\u7ba1\u7406\u94b1\u5305"},"select_all":{"message":"\u5168\u9009"},"deselect_all":{"message":"\u53d6\u6d88\u5168\u9009"},"explore_universal_labels":{"message":"\u901b\u901b\u8de8\u5e73\u53f0\u6807\u7b7e"},"recent_labels":{"message":"\u6700\u8fd1\u7684\u6807\u7b7e"},"no_custom_labels_yet":{"message":"\u60a8\u8fd8\u6ca1\u6709\u5206\u914d\u4efb\u4f55\u81ea\u5b9a\u4e49\u6807\u7b7e\u3002"},"start_trading":{"message":"\u5f00\u59cb\u4ea4\u6613"},"profiles":{"message":"\u8d26\u6237"},"wallets":{"message":"\u94b1\u5305"},"no_wallet_found_yet":{"message":"\u6682\u65e0\u94b1\u5305"},"welcome_to_frontrun":{"message":"\u6b22\u8fce\u6765\u5230 Frontrun"},"pin_extension_for_quick_access":{"message":"\u56fa\u5b9a\u63d2\u4ef6\u4ee5\u5feb\u901f\u8bbf\u95ee"},"extensions":{"message":"\u6269\u5c55\u7a0b\u5e8f"},"frontrun":{"message":"Frontrun"},"pin":{"message":"\u56fa\u5b9a"},"lets_explore_labels_on_gmgn":{"message":"\u5728 GMGN \u4e0a\u63a2\u7d22\u6807\u7b7e"},"explore_labels_on_gmgn":{"message":"\u5728 GMGN \u4e0a\u63a2\u7d22\u6807\u7b7e"},"lets_explore_labels_on_x":{"message":"\u5728 X \u4e0a\u63a2\u7d22\u6807\u7b7e"},"explore_labels_on_x":{"message":"\u5728 X \u4e0a\u63a2\u7d22\u6807\u7b7e"},"ready_to_frontrun":{"message":"\u51c6\u5907\u597d Frontrun"},"skip_intro":{"message":"\u8df3\u8fc7\u4ecb\u7ecd >"},"gmgn_label_1":{"message":"\u67e5\u627e\u5e76\u60ac\u505c\u73b0\u6709\u6807\u7b7e\u4ee5\u67e5\u770b\u5206\u7ec4\u548c\u6807\u7b7e\u3002"},"gmgn_label_2":{"message":"\u4e3a\u4efb\u4f55\u94b1\u5305\u521b\u5efa\u5e76\u81ea\u5b9a\u4e49\u6807\u7b7e\u3002"},"gmgn_label_3":{"message":"\u8f7b\u677e\u81ea\u52a8\u5bfc\u5165\u60a8\u5728 GMGN \u4e0a\u7684\u81ea\u5b9a\u4e49\u5206\u7ec4\u5230 Frontrun\uff0c\u5b9e\u73b0\u8de8\u5e73\u53f0\u65e0\u7f1d\u53ef\u89c1\u3002"},"profile_label_1":{"message":"\u60ac\u505c\u300c\u67e5\u770b\u6982\u89c8\u300d\u4ee5\u67e5\u770b\u66f4\u591a\u8d26\u6237\u8be6\u60c5\u3002"},"profile_label_2":{"message":"\u4e3a\u4efb\u4f55 X \u7528\u6237\u521b\u5efa\u5e76\u81ea\u5b9a\u4e49\u6807\u7b7e\u3002"},"profile_label_3":{"message":"\u5728\u6bcf\u4e2a\u4e2a\u4eba\u8d44\u6599\u9875\u9762\u67e5\u770bKOL\u5173\u6ce8\u3002"},"your_account_is_activated":{"message":"\u60a8\u7684\u8d26\u6237\u5df2\u6fc0\u6d3b\uff01"},"view_frontrun_insights_line":{"message":"\u60a8\u73b0\u5728\u53ef\u4ee5\u5728 X \u548c\u5176\u4ed6\u5e73\u53f0\u67e5\u770b Frontrun \u6d1e\u5bdf\u3002"},"successfully_added_wallets_to_group":{"message":"\u6210\u529f\u6dfb\u52a0\u94b1\u5305\u5230\u5206\u7ec4\uff01"},"successfully_added_wallet_to_group":{"message":"\u6210\u529f\u6dfb\u52a0\u94b1\u5305\u5230\u5206\u7ec4\uff01"},"failed_to_add_wallets_to_groups":{"message":"\u6dfb\u52a0\u94b1\u5305\u5230\u5206\u7ec4\u5931\u8d25\uff01"},"add_custom_labels_by_clicking":{"message":"\u901a\u8fc7\u70b9\u51fb"},"icon_next_to_address_on":{"message":"\u56fe\u6807\u5728\u4ee5\u4e0b\u5e73\u53f0\u7684\u94b1\u5305\u5730\u5740\u65c1"},"seamless_experience":{"message":"\u4e3a\u4e86\u83b7\u5f97\u66f4\u6d41\u7545\u7684\u4f53\u9a8c\uff0c\u8bf7\u5c06\u60a8\u7684\u6807\u7b7e\u5bfc\u5165\u5230 Frontrun\u3002"},"import":{"message":"\u5bfc\u5165"},"explore_frontrun":{"message":"\u63a2\u7d22 Frontrun"},"please_enter_wallet_addresses":{"message":"\u8bf7\u8f93\u5165\u94b1\u5305\u5730\u5740"},"please_enter_wallet_address":{"message":"\u8bf7\u8f93\u5165\u94b1\u5305\u5730\u5740"},"no_valid_wallet_addresses_found":{"message":"\u672a\u627e\u5230\u6709\u6548\u7684\u94b1\u5305\u5730\u5740"},"invalid_wallet_address_with_addr":{"message":"\u65e0\u6548\u7684\u94b1\u5305\u5730\u5740\uff1a{address}"},"missing_label_for_address":{"message":"\u5730\u5740\u7f3a\u5c11\u6807\u7b7e\uff1a{address}"},"successfully_imported_labels":{"message":"\u6807\u7b7e\u5bfc\u5165\u6210\u529f\uff01"},"failed_to_import_labels":{"message":"\u6807\u7b7e\u5bfc\u5165\u5931\u8d25"},"failed_to_parse_wallet_data":{"message":"\u89e3\u6790\u94b1\u5305\u6570\u636e\u5931\u8d25"},"bulk_import":{"message":"\u6279\u91cf\u5bfc\u5165"},"paste_your_exported_wallets_here":{"message":"\u8bf7\u7c98\u8d34\u4f60\u5bfc\u51fa\u7684\u94b1\u5305..."},"alt_wallet":{"message":"\u5173\u8054\u94b1\u5305"},"high":{"message":"\u9ad8"},"medium":{"message":"\u4e2d"},"we_are_confident_pocket_wallet":{"message":"\u6211\u4eec\u5bf9\u8be5\u94b1\u5305\u53ef\u80fd\u662f\u53e3\u888b\u94b1\u5305\u7684\u7f6e\u4fe1\u5ea6\u4e3a{confidence}"},"please_enter_a_primary_label":{"message":"\u8bf7\u8f93\u5165\u4e3b\u8981\u6807\u7b7e"},"successfully_updated_label":{"message":"\u6807\u7b7e\u66f4\u65b0\u6210\u529f\uff01"},"failed_to_update_label":{"message":"\u6807\u7b7e\u66f4\u65b0\u5931\u8d25"},"failed_to_delete_label":{"message":"\u6807\u7b7e\u5220\u9664\u5931\u8d25"},"create":{"message":"\u521b\u5efa"},"trading_feature_coming_soon":{"message":"\u8be5\u529f\u80fd\u5373\u5c06\u4e0a\u7ebf\u3002\u5982\u9700\u62a2\u5148\u4f53\u9a8c\uff0c\u8bf7\u8054\u7cfb\u6211\u4eec\u3002"},"feature_temporarily_disabled":{"message":"\u8be5\u529f\u80fd\u6682\u65f6\u505c\u7528\uff0c\u5c06\u5728\u6062\u590d\u540e\u81ea\u52a8\u5f00\u542f\u3002"},"prioritize_frontrun":{"message":"\u4f18\u5148\u663e\u793a Frontrun"},"prioritize_frontrun_tip":{"message":"\u5f53\u540c\u65f6\u6709\u591a\u4e2a\u6269\u5c55\u7a0b\u5e8f\u663e\u793a\u65f6\uff0c\u4f18\u5316\u7528\u6237\u4f53\u9a8c"},"please_enter_invite_code":{"message":"\u8bf7\u8f93\u5165\u9080\u8bf7\u7801"},"something_went_wrong":{"message":"\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"},"already_signed_up_with_twitter":{"message":"\u5df2\u4f7f\u7528 Twitter \u6ce8\u518c\uff1f"},"need_help":{"message":"\u9700\u8981\u5e2e\u52a9\uff1f"},"docs":{"message":"\u6587\u6863"},"community":{"message":"\u793e\u533a"},"search_placeholder":{"message":"\u6309\u6807\u7b7e\u3001\u5730\u5740\u3001\u5173\u952e\u8bcd\u6216\u540d\u79f0\u641c\u7d22"},"import_from_gmgn":{"message":"\u4ece GMGN \u5bfc\u5165"},"import_from_solscan":{"message":"\u4ece Solscan \u5bfc\u5165"},"import_from_axiom":{"message":"\u4ece Axiom \u5bfc\u5165"},"import_from_photon":{"message":"\u4ece Photon \u5bfc\u5165"},"import_privacy_message":{"message":"\u60a8\u5bfc\u5165\u7684\u6807\u7b7e\u59cb\u7ec8\u5bf9\u60a8\u4fdd\u6301\u79c1\u5bc6\uff0c\u4e0d\u4f1a\u4e0e\u5176\u4ed6\u7528\u6237\u5171\u4eab\u3002"},"supported_wallets":{"message":"\u652f\u6301\u7684\u94b1\u5305\u7ec4\u7c7b\u578b"},"copied":{"message":"\u5df2\u590d\u5236"},"copy":{"message":"\u590d\u5236"},"custom_labels_detected":{"message":"\u68c0\u6d4b\u5230\u81ea\u5b9a\u4e49\u6807\u7b7e"},"remind_later":{"message":"\u7a0d\u540e\u63d0\u9192"},"import_to_frontrun_tip":{"message":"\u5c06\u6807\u7b7e\u5bfc\u5165 Frontrun\uff0c\u4fbf\u53ef\u5728 Solscan\u3001Axiom\u3001GMGN \u7b49\u5e73\u53f0\u65e0\u7f1d\u663e\u793a\u3002\u6240\u6709\u6807\u7b7e\u4ec5\u60a8\u53ef\u89c1\uff0c\u7edd\u4e0d\u4f1a\u4e0e\u5176\u4ed6\u7528\u6237\u5171\u4eab\u3002"},"never_show_this_again":{"message":"\u4e0d\u518d\u663e\u793a\u6b64\u63d0\u793a\u3002"},"failed_to_import_labels_refresh":{"message":"\u5bfc\u5165\u6807\u7b7e\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u9875\u9762\u91cd\u8bd5"},"importing_labels":{"message":"\u6b63\u5728\u5bfc\u5165\u6807\u7b7e"},"auto_import_labels":{"message":"\u81ea\u52a8\u540c\u6b65\u6807\u7b7e"},"quick_buy":{"message":"\u4e70\u5165"},"quick_sell":{"message":"\u5356\u51fa"},"instant_trade":{"message":"\u95ea\u7535\u4ea4\u6613"},"sell":{"message":"\u5356\u51fa"},"recently_logged_in_as":{"message":"\u6700\u8fd1\u767b\u5f55\u8d26\u53f7"},"clear":{"message":"\u6e05\u9664"},"login_method":{"message":"\u767b\u5f55\u65b9\u5f0f"},"google":{"message":"Google"},"twitter":{"message":"Twitter"},"loading":{"message":"\u52a0\u8f7d\u4e2d..."},"continue_with_google":{"message":"\u4f7f\u7528 Google \u767b\u5f55"},"or":{"message":"\u6216"},"activate_account":{"message":"\u6fc0\u6d3b\u8d26\u53f7"},"enter_invite_code":{"message":"\u8f93\u5165\u9080\u8bf7\u7801"},"need_a_code":{"message":"\u9700\u8981\u9080\u8bf7\u7801\uff1f"},"join_telegram":{"message":"\u52a0\u5165 Telegram"},"activate":{"message":"\u6fc0\u6d3b"},"trial":{"message":"\u8bd5\u7528 3 \u5929"},"ended_trial":{"message":"3 \u5929\u8bd5\u7528\u5df2\u7ed3\u675f\uff0c\u8bf7\u83b7\u53d6\u9080\u8bf7\u7801\uff1a"},"switch_account":{"message":"\u5207\u6362\u8d26\u53f7"},"kol_data":{"message":"KOL \u6570\u636e"},"custom_labels":{"message":"\u81ea\u5b9a\u4e49\u6807\u7b7e"},"smart_wallet_insights":{"message":"\u667a\u80fd\u94b1\u5305\u6d1e\u5bdf"},"cross_platform_labels":{"message":"\u8de8\u5e73\u53f0\u6807\u7b7e\u5171\u4eab"},"alpha_discovery":{"message":"Alpha \u53d1\u73b0"},"real_time_tracking":{"message":"\u5b9e\u65f6\u8ffd\u8e2a"},"x_integration":{"message":"X \u96c6\u6210"},"trade_on_signals":{"message":"\u57fa\u4e8e\u4fe1\u53f7\u4ea4\u6613\uff0c"},"not_speculation":{"message":"\u800c\u975e\u6295\u673a\u3002"},"open_sidepanel_to_explore_frontrun":{"message":"\u6253\u5f00\u4fa7\u8fb9\u680f\u63a2\u7d22 Frontrun"},"view_docs":{"message":"\u67e5\u770b\u6587\u6863"},"profile_data":{"message":"\u8d26\u6237\u6570\u636e"},"twitter_label":{"message":"Twitter \u6807\u7b7e"},"name":{"message":"\u540d\u79f0"},"show_full_list":{"message":"\u663e\u793a\u5b8c\u6574\u5217\u8868"},"are_you_sure_you_want_to_delete_this_profile":{"message":"\u786e\u5b9a\u8981\u5220\u9664\u6b64\u8d26\u6237\u5417\uff1f"},"wallet_data":{"message":"\u94b1\u5305\u6570\u636e"},"wallet_label":{"message":"\u94b1\u5305\u6807\u7b7e"},"are_you_sure_you_want_to_delete_this_label":{"message":"\u786e\u5b9a\u8981\u5220\u9664\u6b64\u6807\u7b7e\u5417\uff1f\u94b1\u5305\u5c06\u88ab\u79fb\u9664"},"delete_label":{"message":"\u5220\u9664\u6807\u7b7e"},"of":{"message":"/"},"selected":{"message":"\u5df2\u9009"},"group":{"message":"\u5206\u7ec4"},"group_management":{"message":"\u5206\u7ec4\u7ba1\u7406"},"add_wallet":{"message":"\u6dfb\u52a0\u94b1\u5305"},"add_multi_wallet":{"message":"\u6dfb\u52a0\u591a\u94b1\u5305"},"delete_group":{"message":"\u5220\u9664\u5206\u7ec4"},"are_you_sure_you_want_to_delete_this_group":{"message":"\u786e\u5b9a\u8981\u5220\u9664\u6b64\u5206\u7ec4\u5417\uff1f"},"success_group_updated":{"message":"\u5206\u7ec4\u66f4\u65b0\u6210\u529f"},"error_group_update":{"message":"\u5206\u7ec4\u66f4\u65b0\u5931\u8d25"},"success_wallets_removed":{"message":"\u94b1\u5305\u79fb\u9664\u6210\u529f"},"error_wallets_remove":{"message":"\u94b1\u5305\u79fb\u9664\u5931\u8d25"},"success_group_deleted":{"message":"\u5206\u7ec4\u5220\u9664\u6210\u529f"},"error_group_delete":{"message":"\u5206\u7ec4\u5220\u9664\u5931\u8d25"},"delete_profile":{"message":"\u5220\u9664\u8d26\u6237"},"add_single_wallet":{"message":"\u6dfb\u52a0\u5355\u94b1\u5305"},"wallet_address_placeholder":{"message":"\u94b1\u5305\u5730\u5740"},"format_placeholder":{"message":"\u652f\u6301Axiom, GMGN, Raybot, BullX\u7684\u5bfc\u51fa\u683c\u5f0f\u3002"},"wallet_label_placeholder":{"message":"\u94b1\u5305\u5730\u5740: \u6807\u7b7e"},"duplicate_wallet_addresses_found":{"message":"\u91cd\u590d\u7684\u94b1\u5305\u5730\u5740"},"invalid_wallet_addresses":{"message":"\u65e0\u6548\u7684\u94b1\u5305\u5730\u5740"},"please_enter_a_label":{"message":"\u8bf7\u8f93\u5165\u6807\u7b7e"},"success_imported_labels":{"message":"\u6807\u7b7e\u5bfc\u5165\u6210\u529f\uff01"},"error_importing_wallets":{"message":"\u94b1\u5305\u5bfc\u5165\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002"},"auto_generate_labels_from_group_name":{"message":"\u4ece\u5206\u7ec4\u540d\u79f0\u81ea\u52a8\u751f\u6210\u6807\u7b7e\u3002"},"enter_wallet_addresses_one_per_line":{"message":"\u8bf7\u8f93\u5165\u94b1\u5305\u5730\u5740\uff0c\u6bcf\u884c\u4e00\u4e2a\u3002"},"use_colon_for_custom_labels":{"message":"\u4f7f\u7528\u5192\u53f7\u81ea\u5b9a\u4e49\u6807\u7b7e\u3002"},"format":{"message":"\u683c\u5f0f"},"add_wallets":{"message":"\u6dfb\u52a0\u94b1\u5305"},"processing":{"message":"\u5904\u7406\u4e2d..."},"invalid_solana_address":{"message":"\u65e0\u6548\u7684 Solana \u5730\u5740"},"this_wallet_is_already_labeled_keep_the_current_label_or_update_it":{"message":"\u6b64\u94b1\u5305\u5df2\u6807\u8bb0\u3002\u4fdd\u7559\u5f53\u524d\u6807\u7b7e\u6216\u66f4\u65b0\u5b83\u3002"},"paste_the_wallet_address":{"message":"\u7c98\u8d34\u94b1\u5305\u5730\u5740"},"please_select_at_least_one_wallet":{"message":"\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u94b1\u5305"},"importing":{"message":"\u5bfc\u5165\u4e2d..."},"delete_wallet":{"message":"\u5220\u9664\u94b1\u5305"},"deleting":{"message":"\u5220\u9664\u4e2d..."},"are_you_sure_you_want_to_remove_this_wallet_from_group":{"message":"\u786e\u5b9a\u8981\u4ece\u5206\u7ec4\u4e2d\u79fb\u9664\u6b64\u94b1\u5305\u5417\uff1f"},"read_more":{"message":"\u3010\u9605\u8bfb\u66f4\u591a\u3011"},"secure_signing":{"message":"\u5b89\u5168\u7b7e\u540d"},"frontrun_never_gets_the_the_access_to_use_private_keys":{"message":"Frontrun \u6c38\u8fdc\u4e0d\u4f1a\u83b7\u53d6\u79c1\u94a5\u7684\u8bbf\u95ee\u6743\u9650\u3002"},"create_new_wallet":{"message":"\u521b\u5efa\u65b0\u94b1\u5305"},"start_fresh_with_a_brand_new_key_pair_generated_right_in_your_browser":{"message":"\u5728\u6d4f\u89c8\u5668\u4e2d\u751f\u6210\u5168\u65b0\u7684\u5bc6\u94a5\u5bf9\uff0c\u5f00\u59cb\u5168\u65b0\u7684\u4ea4\u6613\u4e4b\u65c5\u3002"},"enable_with_google":{"message":"\u4f7f\u7528 Google \u542f\u7528"},"your_wallets":{"message":"\u60a8\u7684\u94b1\u5305"},"creating":{"message":"\u521b\u5efa\u4e2d..."},"you_have_reached_the_maximum_number_of_wallets":{"message":"\u60a8\u5df2\u8fbe\u5230\u6700\u5927\u94b1\u5305\u6570\u91cf"},"failed_to_create_wallet":{"message":"\u521b\u5efa\u94b1\u5305\u5931\u8d25"},"failed_to_fetch_imported_private_keys":{"message":"\u83b7\u53d6\u5bfc\u5165\u7684\u79c1\u94a5\u5931\u8d25"},"failed_to_fetch_addresses":{"message":"\u83b7\u53d6\u94b1\u5305\u5730\u5740\u5931\u8d25"},"failed_to_fetch_portfolio_for_address":{"message":"\u83b7\u53d6\u94b1\u5305\u8d44\u4ea7\u5931\u8d25"},"private_key_imported_successfully":{"message":"\u79c1\u94a5\u5bfc\u5165\u6210\u529f"},"failed_to_import_private_key":{"message":"\u79c1\u94a5\u5bfc\u5165\u5931\u8d25"},"import_wallet":{"message":"\u5bfc\u5165\u94b1\u5305"},"do_not_share_your_private_key_with_anyone_frontrun_never_sees_or_stores_your_key":{"message":"\u4e0d\u8981\u4e0e\u4efb\u4f55\u4eba\u5206\u4eab\u60a8\u7684\u79c1\u94a5\u3002Frontrun \u6c38\u8fdc\u4e0d\u4f1a\u770b\u5230\u6216\u5b58\u50a8\u60a8\u7684\u79c1\u94a5\u3002"},"please_enter_the_destination_address":{"message":"\u8bf7\u8f93\u5165\u76ee\u6807\u5730\u5740"},"destination_address_is_not_valid":{"message":"\u76ee\u6807\u5730\u5740\u65e0\u6548"},"cannot_send_sol_to_the_same_address":{"message":"\u4e0d\u80fd\u53d1\u9001 SOL \u5230\u76f8\u540c\u5730\u5740"},"please_enter_the_amount":{"message":"\u8bf7\u8f93\u5165\u91d1\u989d"},"invalid_amount":{"message":"\u65e0\u6548\u91d1\u989d"},"failed_to_export_private_key":{"message":"\u5bfc\u51fa\u79c1\u94a5\u5931\u8d25"},"make_sure_the_destination_accepts_sol":{"message":"\u786e\u4fdd\u76ee\u6807\u5730\u5740\u63a5\u53d7 SOL"},"destination_address":{"message":"\u76ee\u6807\u5730\u5740"},"amount":{"message":"\u91d1\u989d"},"balance":{"message":"\u4f59\u989d"},"verify_with_google":{"message":"\u4f7f\u7528 Google \u9a8c\u8bc1"},"from":{"message":"\u4ece"},"to":{"message":"\u5230"},"sending":{"message":"\u53d1\u9001\u4e2d..."},"send":{"message":"\u53d1\u9001"},"sol_was_successfully_sent_to":{"message":"SOL \u6210\u529f\u53d1\u9001\u81f3"},"view_transaction":{"message":"\u67e5\u770b\u4ea4\u6613"},"done":{"message":"\u5b8c\u6210"},"default_wallet":{"message":"\u6d3b\u8dc3\u94b1\u5305"},"set_as_default_wallet":{"message":"\u8bbe\u4e3a\u6d3b\u8dc3\u94b1\u5305"},"deposit":{"message":"\u5145\u503c"},"withdraw":{"message":"\u63d0\u73b0"},"view_on_solscan":{"message":"\u5728 Solscan \u4e0a\u67e5\u770b"},"view_private_key":{"message":"\u67e5\u770b\u79c1\u94a5"},"archive_wallet":{"message":"\u5f52\u6863\u94b1\u5305"},"holdings":{"message":"\u6301\u4ed3"},"hide_low":{"message":"\u9690\u85cf\u4f4e\u4f59\u989d"},"trade":{"message":"\u4ea4\u6613"},"share":{"message":"\u5206\u4eab"},"deposit_sol":{"message":"\u5145\u503c SOL"},"deposit_address":{"message":"\u5145\u503c\u5730\u5740"},"only_send_sol_to_this_address":{"message":"\u4ec5\u53d1\u9001 SOL \u5230\u6b64\u5730\u5740\u3002"},"copied_to_clipboard":{"message":"\u5df2\u590d\u5236\u5230\u526a\u8d34\u677f"},"failed_to_copy_address":{"message":"\u590d\u5236\u5730\u5740\u5931\u8d25"},"copy_address":{"message":"\u590d\u5236\u5730\u5740"},"export_private_key":{"message":"\u5bfc\u51fa\u79c1\u94a5"},"your_private_key_will_provide_all_access_to_this_account_do_not_share_your_private_key_with_anyone_frontrun_never_sees_or_stores_your_key":{"message":"\u60a8\u7684\u79c1\u94a5\u5c06\u63d0\u4f9b\u5bf9\u6b64\u8d26\u6237\u7684\u6240\u6709\u8bbf\u95ee\u6743\u9650\u3002\u8bf7\u52ff\u4e0e\u4efb\u4f55\u4eba\u5206\u4eab\u60a8\u7684\u79c1\u94a5\u3002Frontrun \u6c38\u8fdc\u4e0d\u4f1a\u770b\u5230\u6216\u5b58\u50a8\u60a8\u7684\u79c1\u94a5\u3002"},"reveal_private_key":{"message":"\u663e\u793a\u79c1\u94a5"},"enter_private_key":{"message":"\u8f93\u5165\u79c1\u94a5"},"withdraw_failed":{"message":"\u63d0\u73b0\u5931\u8d25"},"confirm_withdraw":{"message":"\u786e\u8ba4\u63d0\u73b0"},"withdraw_sol":{"message":"\u63d0\u73b0 SOL"},"success":{"message":"\u6210\u529f"},"error":{"message":"\u9519\u8bef"},"enter_destination_address":{"message":"\u8f93\u5165\u76ee\u6807\u5730\u5740"},"enter_amount":{"message":"\u8f93\u5165\u91d1\u989d"},"enable_trading":{"message":"\u542f\u7528\u4ea4\u6613"},"select_group":{"message":"\u9009\u62e9\u5206\u7ec4"},"are_you_sure_you_want_to_delete_these_groups":{"message":"\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e9b\u5206\u7ec4\u5417\uff1f\u94b1\u5305\u5c06\u88ab\u79fb\u9664\u6240\u6709\u5173\u8054\u7684\u81ea\u5b9a\u4e49\u5206\u7ec4\u3002"},"successfully_deleted_group":{"message":"\u5206\u7ec4\u5220\u9664\u6210\u529f"},"failed_to_delete_group":{"message":"\u5206\u7ec4\u5220\u9664\u5931\u8d25"},"delete":{"message":"\u5220\u9664"},"fail":{"message":"\u5931\u8d25"},"label_ui":{"message":"\u6807\u7b7e\u6837\u5f0f"},"option_1":{"message":"\u9009\u98791"},"option_2":{"message":"\u9009\u98792"},"insufficient_balance":{"message":"\u4f59\u989d\u4e0d\u8db3"},"failed_to_withdraw":{"message":"\u63d0\u73b0\u5931\u8d25"},"successfully_deleted_wallets":{"message":"\u94b1\u5305\u5220\u9664\u6210\u529f"},"failed_to_delete_wallet":{"message":"\u94b1\u5305\u5220\u9664\u5931\u8d25"},"link_to_google_account":{"message":"\u7ed1\u5b9a Google \u8d26\u53f7"},"link_failed_retry":{"message":"\u7ed1\u5b9a\u5931\u8d25\u3002\u8bf7\u91cd\u8bd5\u3002"},"binding":{"message":"\u7ed1\u5b9a\u4e2d..."},"bind_now":{"message":"\u7acb\u5373\u7ed1\u5b9a"},"account_migration":{"message":"\u8d26\u53f7\u8fc1\u79fb"},"account_linked_successfully":{"message":"\u8d26\u53f7\u7ed1\u5b9a\u6210\u529f"},"if_you_have_any_issues_please_join":{"message":"\u5982\u679c\u60a8\u9047\u5230\u95ee\u9898\uff0c\u8bf7\u52a0\u5165\u6211\u4eec\u7684"},"telegram_community":{"message":"\u7535\u62a5\u793e\u533a"},"recent_searches":{"message":"\u6700\u8fd1\u641c\u7d22"},"no_results_found":{"message":"\u6ca1\u6709\u7ed3\u679c"},"username":{"message":"\u6539\u540d"},"history":{"message":"\u5386\u53f2"},"no_username_changes":{"message":"\u6682\u65e0\u7528\u6237\u540d\u53d8\u66f4"},"tokens":{"message":"\u53d1\u76d8"},"wallet_history":{"message":"\u94b1\u5305\u5386\u53f2"},"wallet_history_for":{"message":"@{twitterUsername} \u7684\u94b1\u5305\u5386\u53f2"},"fetch_wallet_history_failed":{"message":"\u83b7\u53d6\u94b1\u5305\u5386\u53f2\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002"},"associated_wallets":{"message":"\u5173\u8054\u94b1\u5305"},"mentioned_wallets":{"message":"\u63d0\u53ca\u94b1\u5305"},"linked":{"message":"\u5173\u8054"},"mentioned":{"message":"\u63d0\u53ca"},"deleted_wallet_mentions":{"message":"\u5df2\u5220\u9664\u94b1\u5305\u63d0\u53ca"},"deleted":{"message":"\u5df2\u5220\u9664"},"no_associated_wallets_found":{"message":"\u672a\u627e\u5230\u5173\u8054\u94b1\u5305"},"no_wallet_mentions_found":{"message":"\u63a8\u6587\u4e2d\u672a\u627e\u5230\u94b1\u5305\u63d0\u53ca"},"tweet":{"message":"\u63a8\u6587"},"tweets":{"message":"\u63a8\u6587"},"follower":{"message":"\u5173\u6ce8\u8005"},"followers":{"message":"\u5173\u6ce8\u8005"},"active":{"message":"\u6d3b\u8dc3"},"wallet_not_verified":{"message":"\u6b64\u94b1\u5305\u5c1a\u672a\u9a8c\u8bc1\u3002"},"label_text_style":{"message":"\u6807\u7b7e\u6587\u672c\u6837\u5f0f"},"compact":{"message":"\u7d27\u51d1"},"default":{"message":"\u9ed8\u8ba4"},"active_mentions":{"message":"\u6d3b\u8dc3\u63d0\u53ca"},"deleted_mentions":{"message":"\u5df2\u5220\u9664\u63d0\u53ca"},"all_mentions_for":{"message":"\u6240\u6709\u63d0\u53ca"},"click_to_view_all_mentions":{"message":"\u70b9\u51fb\u67e5\u770b\u6240\u6709\u63d0\u53ca"},"failed_to_get_mentions":{"message":"\u83b7\u53d6\u63d0\u53ca\u5931\u8d25"},"frequent_logout_help":{"message":"\u7ecf\u5e38\u88ab\u767b\u51fa\uff1f\u67e5\u770b\u89e3\u51b3\u65b9\u6cd5"},"add_to_wallets":{"message":"\u6dfb\u52a0\u5230\u94b1\u5305"},"successfully_added_to_wallets":{"message":"\u6210\u529f\u6dfb\u52a0\u5230\u94b1\u5305"},"failed_to_add_to_wallets":{"message":"\u6dfb\u52a0\u5230\u94b1\u5305\u5931\u8d25"},"anyone_can_own_a_name":{"message":"\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u6ce8\u518c\u4efb\u610f\u57df\u540d\uff08\u5982 name.sns\uff09\u3002"},"always_verify":{"message":"\u628a\u57df\u540d\u5f53\u4f5c\u7ebf\u7d22\uff0c\u800c\u4e0d\u662f\u8eab\u4efd\u7684\u8bc1\u660e\u3002"},"archived":{"message":"\u5df2\u5f52\u6863"},"archive":{"message":"\u5f52\u6863"},"unarchive":{"message":"\u53d6\u6d88\u5f52\u6863"},"wallet_deleted_successfully":{"message":"\u94b1\u5305\u5220\u9664\u6210\u529f"},"wallet_deleted_failed":{"message":"\u94b1\u5305\u5220\u9664\u5931\u8d25"},"alias":{"message":"\u522b\u540d"},"edit_alias":{"message":"\u7f16\u8f91\u522b\u540d"},"enter_alias_placeholder":{"message":"\u8f93\u5165\u522b\u540d"},"alias_updated_successfully":{"message":"\u522b\u540d\u66f4\u65b0\u6210\u529f"},"view_all":{"message":"\u67e5\u770b\u6240\u6709"},"top_mentions":{"message":"\u9876\u7ea7\u63d0\u53ca"},"buy":{"message":"\u4e70\u5165"},"fee":{"message":"\u624b\u7eed\u8d39"},"no_default_wallet_address":{"message":"\u6ca1\u6709\u9ed8\u8ba4\u94b1\u5305\u5730\u5740\uff0c\u8bf7\u5148\u8bbe\u7f6e\u9ed8\u8ba4\u94b1\u5305"},"no_token_found":{"message":"\u672a\u627e\u5230\u4ee3\u5e01"},"amount_less_than_zero":{"message":"\u91d1\u989d\u5c0f\u4e8e0"},"sol_balance_not_enough":{"message":"SOL\u4f59\u989d\u4e0d\u8db3"},"token_balance_not_enough":{"message":"{tokenTicker}\u4f59\u989d\u4e0d\u8db3"},"token_balance_less_than_amount":{"message":"{tokenTicker}\u4f59\u989d\u4e3a{tokenBalance}\uff0c\u5c11\u4e8e{amount}"},"transaction_confirmed":{"message":"\u4ea4\u6613\u5df2\u786e\u8ba4"},"order_execution_failed":{"message":"\u8ba2\u5355\u6267\u884c\u5931\u8d25"},"this_will_permanently_remove_this_wallet_from_your_list":{"message":"\u8fd9\u5c06\u6c38\u4e45\u5220\u9664\u6b64\u94b1\u5305\u3002\u60a8\u53ea\u80fd\u4f7f\u7528\u79c1\u94a5\u91cd\u65b0\u5bfc\u5165\u5b83\u3002"},"select_your_active_wallet":{"message":"\u9009\u62e9\u60a8\u7684\u6d3b\u8dc3\u94b1\u5305\u3002"},"manage":{"message":"\u7ba1\u7406"},"executing_order":{"message":"\u6b63\u5728\u6267\u884c\u8ba2\u5355"},"token_creator_label_gmgn":{"message":"\u4ee3\u5e01\u521b\u5efa\u8005\u6807\u7b7e"},"token_creator_label_axiom":{"message":"DA\u6807\u7b7e"},"profile":{"message":"\u6539\u540d"},"profile_history":{"message":"\u4e2a\u4eba\u8d44\u6599\u5386\u53f2"},"name_change":{"message":"\u6539\u540d"},"profile_change":{"message":"\u7b80\u4ecb\u53d8\u66f4"},"no_bio_changes":{"message":"\u6ca1\u6709\u7b80\u4ecb\u53d8\u66f4"},"refresh":{"message":"\u5237\u65b0"},"top_positions":{"message":"\u9876\u7ea7\u4f4d\u7f6e"},"top_moves":{"message":"\u6210\u5c31"},"token":{"message":"\u4ee3\u5e01"},"ranking":{"message":"\u6392\u540d"},"holder_history":{"message":"\u6301\u6709\u8005\u5386\u53f2"},"holders":{"message":"\u6301\u6709\u8005"},"position":{"message":"\u4f4d\u7f6e"},"pnl":{"message":"Pnl"},"only_pnl_above_50k_is_displayed":{"message":"\u4ec5\u663e\u793a\u9ad8\u4e8e $50k \u7684 PnL\u3002"},"top_trader":{"message":"\u9876\u7ea7\u4ea4\u6613\u8005"},"top_holder":{"message":"\u9876\u7ea7\u6301\u6709\u8005"},"pnl_over_50k":{"message":"\u9ad8\u4e8e $50k \u7684 PnL"},"you_saved":{"message":"\u60a8\u8282\u7701\u4e86"},"in_fees_using":{"message":"\u7684\u624b\u7eed\u8d39\uff0c\u901a\u8fc7\u4f7f\u7528"},"fee_saved":{"message":"\u624b\u7eed\u8d39\u5df2\u8282\u7701"},"more":{"message":"\u66f4\u591a"},"order_summary":{"message":"\u8ba2\u5355\u6458\u8981"},"swapped":{"message":"\u5df2\u4ea4\u6362"},"transaction_details":{"message":"\u4ea4\u6613\u8be6\u60c5"},"trade_summary":{"message":"\u4ea4\u6613\u6458\u8981"},"time":{"message":"\u65f6\u95f4"},"date":{"message":"\u65e5\u671f"},"signature":{"message":"\u7b7e\u540d"},"transaction_fee":{"message":"\u4ea4\u6613\u624b\u7eed\u8d39"},"wallet":{"message":"\u94b1\u5305"},"price":{"message":"\u4ef7\u683c"},"slippage":{"message":"\u6ed1\u70b9"},"tip":{"message":"\u5c0f\u8d39"},"priority_fee":{"message":"\u4f18\u5148\u8d39"},"for":{"message":"\u6362\u53d6"},"current_position":{"message":"\u5f53\u524d\u6301\u4ed3"},"all_positions":{"message":"\u6240\u6709\u6301\u4ed3"},"bought":{"message":"\u4e70\u5165"},"sold":{"message":"\u5356\u51fa"},"holding":{"message":"\u4f59\u989d"},"position_pnl_percentage":{"message":"\u76c8\u4e8f"},"platform_integrations":{"message":"\u5e73\u53f0\u5f00\u5173"},"import_labels_from_terminals":{"message":"\u81ea\u52a8\u540c\u6b65\u60a8\u5728\u5176\u4ed6\u5e73\u53f0\u6dfb\u52a0\u7684\u6807\u7b7e\uff08\u53ea\u6709\u60a8\u53ef\u89c1\uff0c\u4e0d\u4f1a\u5206\u4eab\u7ed9\u5176\u4ed6\u7528\u6237\uff09\u3002"},"remaining_qty":{"message":"\u6570\u91cf"},"holding_value":{"message":"\u4f59\u989d"},"show_translate":{"message":"\u663e\u793a\u7ffb\u8bd1"},"show_translate_tip":{"message":"\u5728 GMGN \u4e2d\u663e\u793a\u7ffb\u8bd1(\u4e2d\u6587->\u82f1\u6587)"},"translate_size":{"message":"\u7ffb\u8bd1\u6587\u672c\u6837\u5f0f"},"label_tool":{"message":"\u7f16\u8f91\u6807\u7b7e\u6309\u94ae"},"label_tool_description":{"message":"\u5728\u5730\u5740\u65c1\u663e\u793a\u4e00\u4e2a\u5c0f\u7b14\u56fe\u6807\uff0c\u76f4\u63a5\u65b0\u589e\u6216\u7f16\u8f91\u6807\u7b7e"},"primary_domain":{"message":"\u4e3b\u8981\u57df\u540d"}}');let UE={en:ed(UA),zh:ed(UI),ru:ed(US)},UT=(e,t)=>{let r=lk.getState().setting.language,n=UE[r],i=n[e]?.message??e;return t&&Object.entries(t).forEach(([e,t])=>{i=i.replace(RegExp(`\\{${e}\\}`,"g"),String(t))}),i};var ds=eh("acDaE"),Ux=ds.Buffer;globalThis.window=globalThis,(H=en||(en={})).TRADING_BOT="TRADING_BOT",H.JUPITER_ULTRA="JUPITER_ULTRA";let UP=ig("trading-bg-util"),UO=null,UB={rpcUrl:"https://binny-51yiwd-fast-mainnet.helius-rpc.com",wsRpcUrl:"wss://greer-651y13-fast-mainnet.helius-rpc.com",jitoApiUuid:"f468cc10-6498-11ef-b0f4-bfa19c3bdbf6",nozomiLowLatencyApiKey:"f7bdd91a-991b-46db-9baf-e1cd749d36a8",nozomiAntiMEVApiKey:"84839ae1-d375-4f10-8e1b-3b8efc200605",node1ApiKey:void 0,simulate:!1};function UC(){qe||(qe=new F7(UB)),UO=qe}async function UR(e,t){let r;let n={},i=performance.now();UP.debug("tx",e),UM(e);let o=null,a=null;try{let s=performance.now(),u=await UD(e),{transaction:l,requestId:c,txSol:d,txOptions:p}=u;r=u.executionMethod,n.preloadOrder=performance.now()-s;let f=performance.now(),h=await t(l);n.signTx=performance.now()-f;let m=null;if(r===en.TRADING_BOT){let e=performance.now();m=await UF({signedTransaction:h,txOptions:p}),n.txByBot=performance.now()-e}else{let e=performance.now();m=await Uq({signedTransaction:h,requestId:c}),n.txByJupiter=performance.now()-e}let g=performance.now()-i;if(n.total=g,UP.debug("tx result",m),UP.debug(`Tx complete flow timeline: preloadOrder=${n.preloadOrder.toFixed(2)}ms, signTx=${n.signTx.toFixed(2)}ms, ${r===en.TRADING_BOT?`txByBot=${n.txByBot?.toFixed(2)}ms`:`txByJupiter=${n.txByJupiter?.toFixed(2)}ms`}, total=${g.toFixed(2)}ms`),!m.success)throw UP.error("tx failed, error",m),a=Error(UT("order_execution_failed"));return o={...m,txSol:d}}catch(e){throw a=e instanceof Error?e:Error(String(e)),UP.error(a.message,a),a}finally{try{await yJ(PO.TRADING_TRANSACTION_COMPLETE,{params:{...e,execution_method:r||"unknown"},result:{success:!a,signature:o?.signature,error_message:a?.message},timing_static_data:{timing_preload_order_ms:n.preloadOrder?Math.round(n.preloadOrder):void 0,timing_sign_tx_ms:n.signTx?Math.round(n.signTx):void 0,timing_tx_by_bot_ms:n.txByBot?Math.round(n.txByBot):void 0,timing_tx_by_jupiter_ms:n.txByJupiter?Math.round(n.txByJupiter):void 0,timing_total_ms:n.total?Math.round(n.total):void 0}})}catch(e){UP.error("Failed to track amplitude event:",e)}}}UP.debug("botConfig",UB);let UM=e=>{let{defaultWalletAddress:t,pairInfo:r,solBalance:n,tokenBalance:i,tokenBalanceBySOL:o,isBuyMode:a,isSellBySol:s,amount:u,solPreset:l}=e,c="";if(t||(c=UT("no_default_wallet_address")),r.tokenAddress||(c=UT("no_token_found")),(!u||u<=0)&&(c=UT("amount_less_than_zero")),a){let e=u+l.buy.priorityFeeSol+l.buy.bribeFeeSol;(!n||n<=e)&&(c=UT("sol_balance_not_enough"))}else{(!i||i<=0)&&(c=UT("token_balance_not_enough",{tokenTicker:r.tokenTicker}));let e=u+l.sell.priorityFeeSol+l.sell.bribeFeeSol;s&&(!o||o<e)&&(c=UT("token_balance_less_than_amount",{tokenTicker:r.tokenTicker,tokenBalance:String(o),amount:String(u)}))}if(c)throw Error(c)},UL=async e=>{let{ammType:t,isBuyMode:r,solPreset:n,latestBlockhash:i,defaultWalletAddress:o,lastTransactionData:a,pairInfo:s}=e;try{let u=qa({isBuyMode:r,solPreset:n,latestBlockhash:i}),l=qs({ammType:t,txOptions:u,defaultWalletAddress:o}),c=ql(t,e,a,s);Object.assign(l,c),UP.debug("preloadOrderByBot - tradeParams",l),UO||UC();let d=await UO.prepareTransaction(l),p={transaction:d,executionMethod:en.TRADING_BOT,txOptions:u};return p}catch(e){throw UP.error("Error in preloadOrderByBot:",e),e}},UN=async e=>{UP.debug("preloadOrderByJupiter",e);let{amount:t,inputMint:r,outputMint:n,defaultWalletAddress:i}=e,{data:o}=await bg.GET(`/ultra/v1/order?amount=${t}&inputMint=${r}&outputMint=${n}&taker=${i}`,{inputMint:r,outputMint:n,amount:t,wallet:i});if(!o?.transaction||!o?.requestId)throw UP.error("preloadOrderByJupiter - invalid order response",o),Error(o.error||"Invalid order response");let a=atob(o.transaction),s=Uint8Array.from(a,e=>e.charCodeAt(0)),u=hx.deserialize(s),l={transaction:u,requestId:o.requestId,executionMethod:en.JUPITER_ULTRA};return l},UD=async e=>{let t,r;let{tokenBalance:n,tokenBalanceBySOL:i,isBuyMode:o,isSellBySol:a,amount:s,solPreset:u,lastTransactionData:l,ammType:c,pairInfo:d,defaultWalletAddress:p}=e,f=o?bf.SOL:d.tokenAddress,h=o?d.tokenAddress:bf.SOL;o?(t=(1e9*s).toString(),r=s):a?(t=ed(S8)(s).dividedBy(i).multipliedBy(n*Math.pow(10,d.tokenDecimals)).toFixed(0),r=s):(t=ed(S8)(n*Math.pow(10,d.tokenDecimals)).multipliedBy(s/100).toFixed(0),r=s/100*i);let m=UW(c,d),g=Uv(),y=g?.blockhash;return{...m===en.TRADING_BOT?await UL({ammType:c,isBuyMode:o,amount:t,inputMint:f,outputMint:h,defaultWalletAddress:p,latestBlockhash:y,lastTransactionData:l,pairInfo:d,solPreset:u}):await UN({amount:t,inputMint:f,outputMint:h,defaultWalletAddress:p,latestBlockhash:y,lastTransactionData:l,pairInfo:d,solPreset:u}),txSol:r}},UF=async e=>{let t={};UP.debug("txByBot",e);try{if(UO||(UP.error("txByBot - bot instance not found, trying to initialize bot"),UC()),UB.simulate){let t=await UU(e.signedTransaction);return{success:t.success,error:t.error}}let r=e.signedTransaction.signatures?.[0];if(!r||64!==r.length)return{success:!1,error:"Invalid or missing primary signature (expected 64 bytes)"};let n=ed(Ec).encode(r),i=performance.now(),[o,a]=await Promise.all([(async()=>{let r=performance.now(),n=await UO.executeSignedTransaction(e.signedTransaction,{mevProtection:e.txOptions?.mevProtection,strategy:e.txOptions?.strategy});return t.executeSignedTransaction=performance.now()-r,n})(),(async()=>{let e=performance.now(),r=await UO.confirmTransactionOptimized(n,{commitment:"processed"});return t.processedConfirm=performance.now()-e,r})()]),s=performance.now()-i;if(!o.success||!o.signature)return o;if(o.signature!==n&&UP.warn(`Signature mismatch: expected ${n}, got ${o.signature}`),!a.ok)return await Uj({signedTransaction:e.signedTransaction,baseErrorMessage:"Transaction processed confirmation failed",confirmResult:a,signature:o.signature});return UP.info(`\u2705 Transaction confirmed at PROCESSED level in ${s.toFixed(0)}ms - returning success to UI immediately`),(async()=>{let e=performance.now();try{let r=await UO.confirmTransactionOptimized(n,{commitment:"confirmed",timeoutMs:3e4}),o=performance.now()-e,a=performance.now()-i;r.ok?(UP.info(`\u2705\u2705 Background confirmed confirmation: SUCCESS in ${o.toFixed(0)}ms (total: ${a.toFixed(0)}ms from start)`),UP.info("\u2705 Transaction DOUBLY confirmed at both PROCESSED and CONFIRMED levels"),UP.debug(`Tx execution flow timeline (complete with background): send=${t.executeSignedTransaction.toFixed(0)}ms, processed=${t.processedConfirm.toFixed(0)}ms, confirmed=${o.toFixed(0)}ms, total=${a.toFixed(0)}ms`)):(UP.warn(`\u26a0\ufe0f Background confirmed confirmation: FAILED in ${o.toFixed(0)}ms`),UP.warn("\u26a0\ufe0f Transaction confirmed at PROCESSED but failed at CONFIRMED level"),UP.warn("\u26a0\ufe0f Possible reasons: chain reorganization, network partition, or validator consensus issue"),UP.warn(`\u26a0\ufe0f Signature: ${n} - Please verify on explorer`),UP.warn(`\u26a0\ufe0f Error details: ${JSON.stringify(r.error)}`))}catch(e){UP.error("\u274c Background confirmed confirmation threw error:",e)}})(),{...o,confirmationLevel:"processed"}}catch(t){return await Uj({signedTransaction:e.signedTransaction,baseErrorMessage:"Transaction execution failed with unexpected error",originalError:t})}},Uq=async e=>{UP.debug("txByJupiter - params",e);let{signedTransaction:t,requestId:r}=e;if(UB.simulate){UP.debug("txByJupiter - simulating transaction"),UO||UC();let e=await UO.simulateTransaction(t);return e.success?UP.debug("\u2705 Transaction simulated successfully"):UP.error("\u274c Transaction simulation failed:",e.error),e}let n=Ux.from(t.serialize()).toString("base64"),{data:i}=await bg.POST("/ultra/v1/execute",{body:{signedTransaction:n,requestId:r}});return(UP.debug("txByJupiter - executeResponse",i),"Success"===i.status)?{success:!0,signature:i.signature,amountIn:Number(i.inputAmountResult),amountOut:Number(i.outputAmountResult)}:{success:!1,error:i.error}},UU=async e=>{try{UO||UC();let t=await UO.simulateTransaction(e);if(t.success)return UP.debug("\u2705 Simulation successful"),{success:!0};{let e=t.error||"Unknown simulation error";return UP.error("\u274c Simulation failed:",e),{success:!1,error:e}}}catch(t){let e=t instanceof Error?t.message:String(t);return UP.error("\u274c Simulation threw exception:",e),{success:!1,error:e}}},Uj=async e=>{let{signedTransaction:t,baseErrorMessage:r,confirmResult:n,signature:i,originalError:o}=e;UP.debug("\uD83D\uDD0D Transaction Failure: will run simulation to diagnose transaction failure...");let a=await UU(t),s=r;if(n?.error&&(s+=`
Confirmation error: ${JSON.stringify(n.error)}`),o){let e=o instanceof Error?o.message:String(o);s+=`
Original error: ${e}`}return a.error&&(s+=`
Simulation error: ${a.error}`),UP.debug("\uD83D\uDCCB Detailed error information:",s),{success:!1,error:s,...i&&{signature:i}}},UW=(e,t)=>{if(!e)return en.JUPITER_ULTRA;switch(t.protocol){case"LaunchLab":return t.protocolDetails?.isUsd1?en.JUPITER_ULTRA:en.TRADING_BOT;case"Raydium CPMM":let r=t.protocolDetails?.isPsol||t.protocolDetails?.isUsd1||t.protocolDetails?.isUsdc;return r?en.JUPITER_ULTRA:en.TRADING_BOT;case"Meteora AMM V2":let n=t.protocolDetails?.isUsd1||t.protocolDetails?.isUsdc;return n?en.JUPITER_ULTRA:en.TRADING_BOT;default:return en.TRADING_BOT}};eh("8BaBP");var UK=eh("ldEGA"),Uz=eh("eNzuk"),UV={};Object.defineProperty(UV,"__esModule",{value:!0}),UV.encodeToCurve=UV.hashToCurve=UV.secp256r1=UV.p256=void 0;var UH={};Object.defineProperty(UH,"__esModule",{value:!0}),UH.p521_hasher=UH.secp521r1=UH.p521=UH.p384_hasher=UH.secp384r1=UH.p384=UH.p256_hasher=UH.secp256r1=UH.p256=void 0;var eg=eh("gDMZD"),UG=eh("3WQ7x"),dv=eh("5GEtw"),df=eh("4ULxn"),U$=eh("1qYng");let UX={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},UZ={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},UQ={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},UY=(0,df.Field)(UX.p),UJ=(0,df.Field)(UZ.p),U1=(0,df.Field)(UQ.p);function U0(e,t){let r=(0,U$.mapToCurveSimpleSWU)(e,t);return e=>r(e[0])}UH.p256=(0,UG.createCurve)({...UX,Fp:UY,lowS:!1},eg.sha256),UH.secp256r1=UH.p256,UH.p256_hasher=(0,dv.createHasher)(UH.p256.Point,U0(UY,{A:UX.a,B:UX.b,Z:UY.create(BigInt("-10"))}),{DST:"P256_XMD:SHA-256_SSWU_RO_",encodeDST:"P256_XMD:SHA-256_SSWU_NU_",p:UX.p,m:1,k:128,expand:"xmd",hash:eg.sha256}),UH.p384=(0,UG.createCurve)({...UZ,Fp:UJ,lowS:!1},eg.sha384),UH.secp384r1=UH.p384,UH.p384_hasher=(0,dv.createHasher)(UH.p384.Point,U0(UJ,{A:UZ.a,B:UZ.b,Z:UJ.create(BigInt("-12"))}),{DST:"P384_XMD:SHA-384_SSWU_RO_",encodeDST:"P384_XMD:SHA-384_SSWU_NU_",p:UZ.p,m:1,k:192,expand:"xmd",hash:eg.sha384}),UH.p521=(0,UG.createCurve)({...UQ,Fp:U1,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},eg.sha512),UH.secp521r1=UH.p521,UH.p521_hasher=(0,dv.createHasher)(UH.p521.Point,U0(U1,{A:UQ.a,B:UQ.b,Z:U1.create(BigInt("-4"))}),{DST:"P521_XMD:SHA-512_SSWU_RO_",encodeDST:"P521_XMD:SHA-512_SSWU_NU_",p:UQ.p,m:1,k:256,expand:"xmd",hash:eg.sha512}),UV.p256=UH.p256,UV.secp256r1=UH.p256,UV.hashToCurve=UH.p256_hasher.hashToCurve,UV.encodeToCurve=UH.p256_hasher.encodeToCurve;var U2={};Object.defineProperty(U2,"__esModule",{value:!0}),U2.Hash=U2.createHash=void 0;let U6=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],U4={sha256:1};U2.createHash=function(e){if(e&&!U4[e]&&!U4[e.toLowerCase()])throw Error("Digest method not supported");return new U5};class U5{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!f||U3>=8e3)&&(f=new ArrayBuffer(8e3),U3=0),this._byte=new Uint8Array(f,U3,80),this._word=new Int32Array(f,U3,20),U3+=80}update(e){if("string"==typeof e)return this._utf8(e);if(null==e)throw TypeError("Invalid type: "+typeof e);let t=e.byteOffset,r=e.byteLength,n=r/64|0,i=0;if(n&&!(3&t)&&!(this._size%64)){let r=new Int32Array(e.buffer,t,16*n);for(;n--;)this._int32(r,i>>2),i+=64;this._size+=i}let o=e.BYTES_PER_ELEMENT;if(1!==o&&e.buffer){let n=new Uint8Array(e.buffer,t+i,r-i);return this._uint8(n)}return i===r?this:this._uint8(e,i)}_uint8(e,t){let{_byte:r,_word:n}=this,i=e.length;for(t|=0;t<i;){let o=this._size%64,a=o;for(;t<i&&a<64;)r[a++]=e[t++];a>=64&&this._int32(n),this._size+=a-o}return this}_utf8(e){let{_byte:t,_word:r}=this,n=e.length,i=this._sp;for(let o=0;o<n;){let a=this._size%64,s=a;for(;o<n&&s<64;){let r=0|e.charCodeAt(o++);r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|63&r):r<55296||r>57343?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|63&r):i?(r=((1023&i)<<10)+(1023&r)+65536,t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|63&r,i=0):i=r}s>=64&&(this._int32(r),r[0]=r[16]),this._size+=s-a}return this._sp=i,this}_int32(e,t){let{A:r,B:n,C:i,D:o,E:a,F:s,G:u,H:l}=this,c=0;for(t|=0;c<16;)U8[c++]=U7(e[t++]);for(c=16;c<64;c++)U8[c]=jo(U8[c-2])+U8[c-7]+ji(U8[c-15])+U8[c-16]|0;for(c=0;c<64;c++){let e=l+jn(a)+je(a,s,u)+U6[c]+U8[c]|0,t=jr(r)+jt(r,n,i)|0;l=u,u=s,s=a,a=o+e|0,o=i,i=n,n=r,r=e+t|0}this.A=r+this.A|0,this.B=n+this.B|0,this.C=i+this.C|0,this.D=o+this.D|0,this.E=a+this.E|0,this.F=s+this.F|0,this.G=u+this.G|0,this.H=l+this.H|0}digest(e){let{_byte:t,_word:r}=this,n=this._size%64|0;for(t[n++]=128;3&n;)t[n++]=0;if((n>>=2)>14){for(;n<16;)r[n++]=0;n=0,this._int32(r)}for(;n<16;)r[n++]=0;let i=8*this._size,o=(4294967295&i)>>>0,a=(i-o)/4294967296;return a&&(r[14]=U7(a)),o&&(r[15]=U7(o)),this._int32(r),"hex"===e?this._hex():this._bin()}_hex(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:a,H:s}=this;return U9(e)+U9(t)+U9(r)+U9(n)+U9(i)+U9(o)+U9(a)+U9(s)}_bin(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:a,H:s,_byte:u,_word:l}=this;return l[0]=U7(e),l[1]=U7(t),l[2]=U7(r),l[3]=U7(n),l[4]=U7(i),l[5]=U7(o),l[6]=U7(a),l[7]=U7(s),u.slice(0,32)}}U2.Hash=U5;let U8=new Int32Array(64),U3=0,U9=e=>(e+4294967296).toString(16).substr(-8),U7=!function(){let e=new Uint8Array(new Uint16Array([65279]).buffer);return 254===e[0]}()?e=>e<<24&4278190080|e<<8&16711680|e>>8&65280|e>>24&255:e=>e,je=(e,t,r)=>r^e&(t^r),jt=(e,t,r)=>e&t|r&(e|t),jr=e=>(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),jn=e=>(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7),ji=e=>(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3,jo=e=>(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10;var Uz=eh("eNzuk");let ja=async e=>{let t=(0,UV.p256).getPublicKey(e.privateKey,!0),r=(0,Uz.uint8ArrayToHexString)(t);if(r!=e.publicKey)throw Error(`Bad API key. Expected to get public key ${e.publicKey}, got ${r}`);let n=(0,U2.createHash)().update(e.content).digest(),i=(0,UV.p256).sign(n,e.privateKey);return i.toDERHex()};class js{constructor(e){this.apiPublicKey=e.apiPublicKey,this.apiPrivateKey=e.apiPrivateKey}async stamp(e){let t=await ja({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:e}),r={publicKey:this.apiPublicKey,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:t};return{stampHeaderName:"X-Stamp",stampHeaderValue:(0,Uz.stringToBase64urlString)(JSON.stringify(r))}}}var ju=eh("hx6mC");ju.fetch;var Uz=eh("eNzuk");let jl="copy",jc="convert";function jd(e,t){return{required:!0,schema:e,derive:t}}function jp(e){return{required:!0,schema:e}}function jf(e){return{required:!1,schema:e}}let jh={appid:jf(jl),appidExclude:jf(jl),credProps:jf(jl)};jp(jl),jp(jl),jp(jc),jf(jl),jp({clientDataJSON:jp(jc),attestationObject:jp(jc),transports:jd(jl,e=>e.getTransports?.()||[])}),jd(jh,e=>e.getClientExtensionResults()),jp(jl),jp(jl),jp(jc),jf(jl),jp({clientDataJSON:jp(jc),authenticatorData:jp(jc),signature:jp(jc),userHandle:jp(jc)}),jd(jh,e=>e.getClientExtensionResults());var ds=eh("acDaE");ds.Buffer;let jm=["ACTIVITY_STATUS_COMPLETED","ACTIVITY_STATUS_FAILED","ACTIVITY_STATUS_REJECTED"];(G=ei||(ei={}))[G.Get=0]="Get",G[G.List=1]="List",G[G.Command=2]="Command";class jg extends Error{constructor(e){let t=`Turnkey error ${e.code}: ${e.message}`;null!=e.details&&(t+=` (Details: ${JSON.stringify(e.details)})`),super(t),this.name="TurnkeyRequestError",this.details=e.details??null,this.code=e.code}}($=eo||(eo={})).Email="EMAIL",$.PhoneNumber="PHONE_NUMBER",$.OidcToken="OIDC_TOKEN",$.PublicKey="PUBLIC_KEY";class jy{constructor(e){this.getActivity=async e=>this.request("/public/v1/query/get_activity",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetActivity=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_activity",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getApiKey=async e=>this.request("/public/v1/query/get_api_key",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetApiKey=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_api_key",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getApiKeys=async(e={})=>this.request("/public/v1/query/get_api_keys",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetApiKeys=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_api_keys",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getAttestationDocument=async e=>this.request("/public/v1/query/get_attestation",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetAttestationDocument=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_attestation",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getAuthenticator=async e=>this.request("/public/v1/query/get_authenticator",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetAuthenticator=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_authenticator",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getAuthenticators=async e=>this.request("/public/v1/query/get_authenticators",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetAuthenticators=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_authenticators",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getOauthProviders=async e=>this.request("/public/v1/query/get_oauth_providers",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetOauthProviders=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_oauth_providers",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getOrganization=async(e={})=>this.request("/public/v1/query/get_organization",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetOrganization=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_organization",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getOrganizationConfigs=async e=>this.request("/public/v1/query/get_organization_configs",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetOrganizationConfigs=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_organization_configs",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getPolicy=async e=>this.request("/public/v1/query/get_policy",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetPolicy=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_policy",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getPrivateKey=async e=>this.request("/public/v1/query/get_private_key",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetPrivateKey=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_private_key",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getUser=async e=>this.request("/public/v1/query/get_user",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetUser=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_user",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getWallet=async e=>this.request("/public/v1/query/get_wallet",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetWallet=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_wallet",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getWalletAccount=async e=>this.request("/public/v1/query/get_wallet_account",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetWalletAccount=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_wallet_account",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getActivities=async(e={})=>this.request("/public/v1/query/list_activities",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetActivities=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_activities",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getPolicies=async(e={})=>this.request("/public/v1/query/list_policies",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetPolicies=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_policies",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.listPrivateKeyTags=async e=>this.request("/public/v1/query/list_private_key_tags",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampListPrivateKeyTags=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_private_key_tags",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getPrivateKeys=async(e={})=>this.request("/public/v1/query/list_private_keys",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetPrivateKeys=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_private_keys",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getSubOrgIds=async(e={})=>this.request("/public/v1/query/list_suborgs",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetSubOrgIds=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_suborgs",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.listUserTags=async(e={})=>this.request("/public/v1/query/list_user_tags",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampListUserTags=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_user_tags",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getUsers=async(e={})=>this.request("/public/v1/query/list_users",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetUsers=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_users",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getVerifiedSubOrgIds=async e=>this.request("/public/v1/query/list_verified_suborgs",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetVerifiedSubOrgIds=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_verified_suborgs",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getWalletAccounts=async e=>this.request("/public/v1/query/list_wallet_accounts",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetWalletAccounts=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_wallet_accounts",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getWallets=async(e={})=>this.request("/public/v1/query/list_wallets",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetWallets=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_wallets",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getWhoami=async(e={})=>this.request("/public/v1/query/whoami",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetWhoami=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/whoami",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.approveActivity=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.activityDecision("/public/v1/submit/approve_activity",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_APPROVE_ACTIVITY"})},this.stampApproveActivity=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/approve_activity",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createApiKeys=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_api_keys",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_KEYS_V2"},"createApiKeysResult")},this.stampCreateApiKeys=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_api_keys",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createApiOnlyUsers=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_api_only_users",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_ONLY_USERS"},"createApiOnlyUsersResult")},this.stampCreateApiOnlyUsers=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_api_only_users",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createAuthenticators=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_authenticators",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"},"createAuthenticatorsResult")},this.stampCreateAuthenticators=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_authenticators",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createInvitations=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_invitations",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_INVITATIONS"},"createInvitationsResult")},this.stampCreateInvitations=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_invitations",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createOauthProviders=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_oauth_providers",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH_PROVIDERS"},"createOauthProvidersResult")},this.stampCreateOauthProviders=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_oauth_providers",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createPolicies=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_policies",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICIES"},"createPoliciesResult")},this.stampCreatePolicies=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_policies",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createPolicy=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_policy",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICY_V3"},"createPolicyResult")},this.stampCreatePolicy=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_policy",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createPrivateKeyTag=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_private_key_tag",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEY_TAG"},"createPrivateKeyTagResult")},this.stampCreatePrivateKeyTag=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_private_key_tag",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createPrivateKeys=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_private_keys",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEYS_V2"},"createPrivateKeysResultV2")},this.stampCreatePrivateKeys=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_private_keys",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createReadOnlySession=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_read_only_session",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_ONLY_SESSION"},"createReadOnlySessionResult")},this.stampCreateReadOnlySession=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_read_only_session",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createReadWriteSession=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_read_write_session",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2"},"createReadWriteSessionResultV2")},this.stampCreateReadWriteSession=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_read_write_session",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createSubOrganization=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_sub_organization",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SUB_ORGANIZATION_V7"},"createSubOrganizationResultV7")},this.stampCreateSubOrganization=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_sub_organization",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createUserTag=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_user_tag",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USER_TAG"},"createUserTagResult")},this.stampCreateUserTag=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_user_tag",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createUsers=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_users",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USERS_V3"},"createUsersResult")},this.stampCreateUsers=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_users",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createWallet=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_wallet",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET"},"createWalletResult")},this.stampCreateWallet=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_wallet",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createWalletAccounts=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_wallet_accounts",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET_ACCOUNTS"},"createWalletAccountsResult")},this.stampCreateWalletAccounts=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_wallet_accounts",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteApiKeys=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_api_keys",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_API_KEYS"},"deleteApiKeysResult")},this.stampDeleteApiKeys=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_api_keys",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteAuthenticators=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_authenticators",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_AUTHENTICATORS"},"deleteAuthenticatorsResult")},this.stampDeleteAuthenticators=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_authenticators",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteInvitation=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_invitation",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_INVITATION"},"deleteInvitationResult")},this.stampDeleteInvitation=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_invitation",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteOauthProviders=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_oauth_providers",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH_PROVIDERS"},"deleteOauthProvidersResult")},this.stampDeleteOauthProviders=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_oauth_providers",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deletePolicy=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_policy",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICY"},"deletePolicyResult")},this.stampDeletePolicy=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_policy",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deletePrivateKeyTags=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_private_key_tags",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEY_TAGS"},"deletePrivateKeyTagsResult")},this.stampDeletePrivateKeyTags=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_private_key_tags",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deletePrivateKeys=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_private_keys",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEYS"},"deletePrivateKeysResult")},this.stampDeletePrivateKeys=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_private_keys",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteSubOrganization=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_sub_organization",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SUB_ORGANIZATION"},"deleteSubOrganizationResult")},this.stampDeleteSubOrganization=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_sub_organization",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteUserTags=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_user_tags",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USER_TAGS"},"deleteUserTagsResult")},this.stampDeleteUserTags=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_user_tags",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteUsers=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_users",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USERS"},"deleteUsersResult")},this.stampDeleteUsers=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_users",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteWallets=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_wallets",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLETS"},"deleteWalletsResult")},this.stampDeleteWallets=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_wallets",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.emailAuth=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/email_auth",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_EMAIL_AUTH_V2"},"emailAuthResult")},this.stampEmailAuth=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/email_auth",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.exportPrivateKey=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/export_private_key",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"},"exportPrivateKeyResult")},this.stampExportPrivateKey=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/export_private_key",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.exportWallet=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/export_wallet",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"},"exportWalletResult")},this.stampExportWallet=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/export_wallet",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.exportWalletAccount=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/export_wallet_account",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"},"exportWalletAccountResult")},this.stampExportWalletAccount=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/export_wallet_account",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.importPrivateKey=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/import_private_key",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_PRIVATE_KEY"},"importPrivateKeyResult")},this.stampImportPrivateKey=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/import_private_key",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.importWallet=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/import_wallet",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_WALLET"},"importWalletResult")},this.stampImportWallet=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/import_wallet",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.initImportPrivateKey=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/init_import_private_key",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_PRIVATE_KEY"},"initImportPrivateKeyResult")},this.stampInitImportPrivateKey=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/init_import_private_key",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.initImportWallet=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/init_import_wallet",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_WALLET"},"initImportWalletResult")},this.stampInitImportWallet=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/init_import_wallet",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.initOtp=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/init_otp",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP"},"initOtpResult")},this.stampInitOtp=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/init_otp",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.initOtpAuth=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/init_otp_auth",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_AUTH_V2"},"initOtpAuthResultV2")},this.stampInitOtpAuth=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/init_otp_auth",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.initUserEmailRecovery=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/init_user_email_recovery",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_INIT_USER_EMAIL_RECOVERY"},"initUserEmailRecoveryResult")},this.stampInitUserEmailRecovery=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/init_user_email_recovery",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.oauth=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/oauth",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH"},"oauthResult")},this.stampOauth=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/oauth",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.oauthLogin=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/oauth_login",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH_LOGIN"},"oauthLoginResult")},this.stampOauthLogin=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/oauth_login",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.otpAuth=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/otp_auth",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_OTP_AUTH"},"otpAuthResult")},this.stampOtpAuth=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/otp_auth",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.otpLogin=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/otp_login",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_OTP_LOGIN"},"otpLoginResult")},this.stampOtpLogin=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/otp_login",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.recoverUser=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/recover_user",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"},"recoverUserResult")},this.stampRecoverUser=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/recover_user",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.rejectActivity=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.activityDecision("/public/v1/submit/reject_activity",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_REJECT_ACTIVITY"})},this.stampRejectActivity=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/reject_activity",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.removeOrganizationFeature=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/remove_organization_feature",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_REMOVE_ORGANIZATION_FEATURE"},"removeOrganizationFeatureResult")},this.stampRemoveOrganizationFeature=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/remove_organization_feature",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.setOrganizationFeature=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/set_organization_feature",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_SET_ORGANIZATION_FEATURE"},"setOrganizationFeatureResult")},this.stampSetOrganizationFeature=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/set_organization_feature",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.signRawPayload=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/sign_raw_payload",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2"},"signRawPayloadResult")},this.stampSignRawPayload=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payload",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.signRawPayloads=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/sign_raw_payloads",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS"},"signRawPayloadsResult")},this.stampSignRawPayloads=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payloads",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.signTransaction=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/sign_transaction",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2"},"signTransactionResult")},this.stampSignTransaction=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/sign_transaction",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.stampLogin=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/stamp_login",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_STAMP_LOGIN"},"stampLoginResult")},this.stampStampLogin=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/stamp_login",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updatePolicy=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/update_policy",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_POLICY_V2"},"updatePolicyResultV2")},this.stampUpdatePolicy=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_policy",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updatePrivateKeyTag=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/update_private_key_tag",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_PRIVATE_KEY_TAG"},"updatePrivateKeyTagResult")},this.stampUpdatePrivateKeyTag=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_private_key_tag",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updateRootQuorum=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/update_root_quorum",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_ROOT_QUORUM"},"updateRootQuorumResult")},this.stampUpdateRootQuorum=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_root_quorum",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updateUser=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/update_user",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"},"updateUserResult")},this.stampUpdateUser=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_user",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updateUserTag=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/update_user_tag",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_TAG"},"updateUserTagResult")},this.stampUpdateUserTag=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_user_tag",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updateWallet=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/update_wallet",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_WALLET"},"updateWalletResult")},this.stampUpdateWallet=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_wallet",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.verifyOtp=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/verify_otp",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_VERIFY_OTP"},"verifyOtpResult")},this.stampVerifyOtp=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/verify_otp",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.testRateLimits=async e=>this.request("/tkhq/api/v1/test_rate_limits",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampTestRateLimits=async e=>{if(!this.stamper)return;let t=this.config.apiBaseUrl+"/tkhq/api/v1/test_rate_limits",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.config=e,this.stamper=e.stamper}async request(e,t){let r=this.config.apiBaseUrl+e,n=JSON.stringify(t),i=await this.stamper.stamp(n),o=await fetch(r,{method:"POST",headers:{[i.stampHeaderName]:i.stampHeaderValue,"X-Client-Version":"@turnkey/sdk-server@4.1.1"},body:n,redirect:"follow"});if(!o.ok){let e;try{e=await o.json()}catch(e){throw Error(`${o.status} ${o.statusText}`)}throw new jg(e)}let a=await o.json();return a}async command(e,t,r){let n=this.config.activityPoller?.intervalMs??1e3,i=this.config.activityPoller?.numRetries??3,o=e=>new Promise(t=>setTimeout(t,e)),a=e=>{let{result:t,status:n}=e.activity;return"ACTIVITY_STATUS_COMPLETED"===n?{...t[`${r}`],...e}:e},s=0,u=async e=>{let t=await this.getActivity({activityId:e});return s>i?a(t):(s+=1,jm.includes(t.activity.status))?a(t):(await o(n),u(e))},l=await this.request(e,t);return jm.includes(l.activity.status)?a(l):u(l.activity.id)}async activityDecision(e,t){let r=await this.request(e,t);return{...r.activity.result,...r}}}let jb=["oauth","createReadWriteSession","createSubOrganization","emailAuth","initUserEmailRecovery"];class j_{constructor(e){this.apiClient=e=>(this.stamper=new js({apiPublicKey:e?.apiPublicKey??this.config.apiPublicKey,apiPrivateKey:e?.apiPrivateKey??this.config.apiPrivateKey}),new jv({stamper:this.stamper,apiBaseUrl:this.config.apiBaseUrl,organizationId:this.config.defaultOrganizationId,activityPoller:this.config.activityPoller})),this.apiProxy=async(e,t)=>{let r=this.apiClient(),n=r[e];if("function"==typeof n)return await n(...t);throw Error(`Method: ${e} does not exist on TurnkeySDKClient`)},this.expressProxyHandler=e=>{let t=e.allowedMethods??jb;return async(e,r)=>{let{methodName:n,params:i}=e.body;n&&i||r.status(400).send("methodName and params are required.");try{if(t.includes(n)){let e=await this.apiProxy(n,i);r.json(e)}else r.status(401).send("Unauthorized proxy method");return}catch(e){e instanceof Error?r.status(500).send(e.message):r.status(500).send("An unexpected error occurred");return}}},this.nextProxyHandler=e=>{let t=e.allowedMethods??jb;return async(e,r)=>{let{methodName:n,params:i}=e.body;n&&i||r.status(400).send("methodName and params are required.");try{if(t.includes(n)){let e=await this.apiProxy(n,i);r.json(e)}else r.status(401).send("Unauthorized proxy method");return}catch(e){e instanceof Error?r.status(500).send(e.message):r.status(500).send("An unexpected error occurred");return}}},this.config=e}}class jw extends jy{constructor(e){super(e)}}class jv extends jw{constructor(e){super(e)}}var ju=eh("hx6mC");ju.fetch,(X=ea||(ea={})).Ethereum="ethereum",X.Solana="solana";var Uz=eh("eNzuk"),ds=eh("acDaE");ds.Buffer,eh("8BaBP");var jk=eh("4p8Gk"),ds=eh("acDaE");ds.Buffer,new j_({apiBaseUrl:void 0,defaultOrganizationId:void 0,apiPrivateKey:void 0,apiPublicKey:void 0});var Ec=eh("dZqUV"),jA={};jA=eh("fQohh"),eh("8BaBP");var UK=eh("ldEGA"),jk=eh("4p8Gk"),Uz=eh("eNzuk"),Ec=eh("dZqUV"),tg=eh("eJeWc"),jS={};jS="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22none%22%3E%3Cpath%20d%3D%22m12%204-8%208M4%204l8%208%22%20stroke%3D%22%23666%22%20stroke-width%3D%221.333%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E";var jI={};jI="data:image/svg+xml,%3Csvg%20width%3D%2215%22%20height%3D%2214%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Crect%20x%3D%22.109%22%20y%3D%22-.001%22%20width%3D%2214%22%20height%3D%2214%22%20rx%3D%227%22%20fill%3D%22%23F05353%22%2F%3E%3Cpath%20d%3D%22m9.11%204.999-4%204%204-4ZM5.11%204.999l4%204-4-4Z%22%20fill%3D%22%23BD4646%22%2F%3E%3Cpath%20d%3D%22m9.11%204.999-4%204m0-4%204%204%22%20stroke%3D%22%23000%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E";var jE={};jE="data:image/svg+xml,%3Csvg%20width%3D%2214%22%20height%3D%2214%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Crect%20width%3D%2214%22%20height%3D%2214%22%20rx%3D%227%22%20fill%3D%22%23F05353%22%2F%3E%3Cpath%20d%3D%22M9%205%205%209l4-4ZM5%205l4%204-4-4Z%22%20fill%3D%22%23BD4646%22%2F%3E%3Cpath%20d%3D%22M9%205%205%209m0-4%204%204%22%20stroke%3D%22%23fff%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E";var jT={};jT="data:image/svg+xml,%3Csvg%20width%3D%2214%22%20height%3D%2214%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Crect%20y%3D%22-.001%22%20width%3D%2214%22%20height%3D%2214%22%20rx%3D%227%22%20fill%3D%22%239354D2%22%2F%3E%3Cpath%20d%3D%22M6.997%209.665V7v2.666ZM6.997%204.332h.007-.007Z%22%20fill%3D%22%239354D2%22%2F%3E%3Cpath%20d%3D%22M6.997%209.665V7m0-2.667h.007%22%20stroke%3D%22%23000%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E";var jx={};jx="data:image/svg+xml,%3Csvg%20width%3D%2214%22%20height%3D%2214%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Crect%20width%3D%2214%22%20height%3D%2214%22%20rx%3D%227%22%20fill%3D%22%239354D2%22%2F%3E%3Cpath%20d%3D%22M6.997%209.666V7v2.666ZM6.997%204.333h.007-.007Z%22%20fill%3D%22%239354D2%22%2F%3E%3Cpath%20d%3D%22M6.997%209.666V7m0-2.667h.007%22%20stroke%3D%22%23fff%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E";var jP={};jP="data:image/svg+xml,%3Csvg%20width%3D%2214%22%20height%3D%2214%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Crect%20width%3D%2214%22%20height%3D%2214%22%20rx%3D%227%22%20fill%3D%22%233AA13F%22%2F%3E%3Cpath%20d%3D%22m5%207%201.333%201.334L9%205.667%22%20stroke%3D%22%23000%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E";var jO={};jO="data:image/svg+xml,%3Csvg%20width%3D%2214%22%20height%3D%2214%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Crect%20width%3D%2214%22%20height%3D%2214%22%20rx%3D%227%22%20fill%3D%22%233AA13F%22%2F%3E%3Cpath%20d%3D%22m5%207%201.333%201.334L9%205.667%22%20stroke%3D%22%23fff%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E";var jB={};jB="data:image/svg+xml,%3Csvg%20width%3D%2215%22%20height%3D%2214%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Crect%20x%3D%22.555%22%20y%3D%22-.001%22%20width%3D%2214%22%20height%3D%2214%22%20rx%3D%227%22%20fill%3D%22%23F3DC08%22%2F%3E%3Cpath%20d%3D%22M7.55%204.2V7m0%202.8h.008%22%20stroke%3D%22%23000%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E";var jC={};jC="data:image/svg+xml,%3Csvg%20width%3D%2214%22%20height%3D%2214%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Crect%20width%3D%2214%22%20height%3D%2214%22%20rx%3D%227%22%20fill%3D%22%23F3DC08%22%2F%3E%3Cpath%20d%3D%22M6.996%204.2V7m0%202.8h.007%22%20stroke%3D%22%23fff%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E";var tg=(eh("eJeWc"),eh("eJeWc"));ig("Toast"),(Z=es||(es={})).INFO="info",Z.SUCCESS="success",Z.ERROR="error",Z.WARNING="warning";let jR=(0,tg.createContext)(void 0),jM=()=>{let e=(0,tg.useContext)(jR);if(!e)throw Error("useToastContext must be used within a ToastProvider");return e},jL={success:{light:ed(jO),dark:ed(jP)},error:{light:ed(jE),dark:ed(jI)},info:{light:ed(jx),dark:ed(jT)},warning:{light:ed(jC),dark:ed(jB)}},jN=(0,tg.memo)(({text:e,type:t})=>(0,jA.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jA.jsx)("img",{className:"hidden dark:block flex-shrink-0",src:jL[t].dark,alt:`${t} icon`,width:24,height:24,"aria-hidden":"true"}),(0,jA.jsx)("img",{className:"block dark:hidden flex-shrink-0",src:jL[t].light,alt:`${t} icon`,width:24,height:24,"aria-hidden":"true"}),"string"==typeof e?(0,jA.jsx)("span",{className:"text-xs font-medium break-words w-[192px]",children:e}):e]}));jN.displayName="ToastContent";let jD=(0,tg.memo)(({onCancel:e,onConfirm:t,cancelText:r,confirmText:n})=>e||t?(0,jA.jsxs)("div",{className:"mt-4 flex justify-end items-center gap-2",children:[e&&(0,jA.jsx)("button",{className:"btn btn-outline rounded-full px-6 py-3 bg-transparent border-[#666666] font-medium",onClick:e,"aria-label":r??"Cancel",children:r??"Cancel"}),t&&(0,jA.jsx)("button",{className:"btn btn-primary rounded-full px-6 py-3 border-none bg-[#9354D2] font-medium text-white",onClick:t,"aria-label":n??"Confirm",children:n??"Confirm"})]}):null);jD.displayName="ToastActions";let jF=(0,tg.memo)(({id:e,text:t,type:r,duration:n,onClose:i,onCancel:o,onConfirm:a,confirmText:s,cancelText:u,closeToast:l})=>{let c=(0,tg.useRef)(null),d=()=>{c.current&&(clearTimeout(c.current),c.current=null)};return(0,tg.useEffect)(()=>(d(),c.current=setTimeout(()=>{l(e)},n||2500),d),[n,e,l]),(0,jA.jsxs)("div",{role:"alert","aria-live":"polite",className:"w-[290px] min-w-[290px] p-4 rounded-2xl border border-[#EDDBFF] dark:border-[#4D2079] bg-[#EDDBFF] dark:bg-[#2C193F] mb-4 transition-all duration-300 ease-in-out shadow-[0px_0px_12px_0px_rgba(147, 84, 210, 0.50)] dark:shadow-[0px_0px_12px_0px_rgba(0, 0, 0, 0.50)]",children:[(0,jA.jsxs)("div",{className:"flex justify-between items-center",children:[(0,jA.jsx)(jN,{text:t,type:r}),(0,jA.jsx)("button",{className:"p-1 flex-shrink-0",onClick:()=>l(e),"aria-label":"Close toast",children:(0,jA.jsx)("img",{src:ed(jS),alt:"close",width:16,height:16})})]}),(0,jA.jsx)(jD,{onCancel:o,onConfirm:a,cancelText:u,confirmText:s})]})});jF.displayName="ToastItem";let jq=(0,tg.memo)(({zIndex:e=50,theme:t})=>{let{toasts:r,closeToast:n}=jM();return 0===r.length?null:(0,jA.jsx)("div",{"data-theme":t,className:"toast toast-top toast-end mt-[80px]",style:{zIndex:e},children:r.map(e=>(0,jA.jsx)(jF,{id:e.id,text:e.text,type:e.type,duration:e.duration,onClose:e.onClose,onCancel:e.onCancel,onConfirm:e.onConfirm,confirmText:e.confirmText,cancelText:e.cancelText,closeToast:n},e.id))})});async function jU(e){if(!e||""===e.trim())throw Error("App secret cannot be empty");try{let t=new Uint8Array(atob(e).split("").map(e=>e.charCodeAt(0))),r="0x"+Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join(""),n=eL(r).replace(/^0x/,""),i=new Uint8Array(n.match(/.{1,2}/g).map(e=>parseInt(e,16))),o=await crypto.subtle.importKey("raw",i,{name:"AES-GCM"},!1,["encrypt","decrypt"]);return o}catch(e){throw Error("Derivation of encryption key failed: "+e?.message)}}async function jj(e,t){try{let r=await jU(t),n=new Uint8Array(e.iv.match(/.{1,2}/g).map(e=>parseInt(e,16)));if(12!==n.length)throw Error(`Invalid IV length: expected 12 bytes, got ${n.length}`);let i=new Uint8Array(e.data.match(/.{1,2}/g).map(e=>parseInt(e,16))),o=new Uint8Array(e.authTag.match(/.{1,2}/g).map(e=>parseInt(e,16)));if(16!==o.length)throw Error(`Invalid authTag length: expected 16 bytes, got ${o.length}`);let a=new Uint8Array(i.length+o.length);a.set(i),a.set(o,i.length);let s=await crypto.subtle.decrypt({name:"AES-GCM",iv:n,additionalData:new Uint8Array,tagLength:128},r,a),u=new TextDecoder().decode(s),l=JSON.parse(u);if(!l.privateKey||!l.publicKey||!l.publicKeyUncompressed)throw Error("Invalid data structure after decryption");return l}catch(e){throw Error("Decryption of embeddedKey failed: "+e?.message)}}jq.displayName="ToastUiLayer",ig("TurnkeyProvider");let jW=e=>(0,Uz.uint8ArrayToHexString)((0,jk.getPublicKey)((0,Uz.uint8ArrayFromHexString)(e),!0)),jK=ig("turnkey-bg-util"),jz=null,jV=null,jH=new Map;async function jG(){if(jV)return;let e=lk.getState(),{ek:t,turnkeyAccount:r}=e.account,n=await g9();jz=await jj(t,n);let{subOrgId:i,credentialBundle:o}=r,a=(0,UK.decryptCredentialBundle)(o,jz.privateKey),s=jW(a),u=new j_({apiBaseUrl:"https://api.turnkey.com",apiPublicKey:s,apiPrivateKey:a,defaultOrganizationId:i});jV=u.apiClient(),await j$({turnkeyAccount:r,embeddedKey:jz,apiClient:jV}),jK.debug("init done")}async function j$({turnkeyAccount:e,embeddedKey:t,apiClient:r}){let{subOrgId:n,expiry:i}=e;if(i>0&&Date.now()>i)try{let i=await r.createReadWriteSession({timestampMs:Date.now().toString(),organizationId:n,targetPublicKey:t.publicKeyUncompressed,expirationSeconds:"2592000"});lk.dispatch(s_({...e,credentialBundle:i.credentialBundle})),jK.debug("refresh credential bundle done.")}catch(e){throw jK.error("refresh credential bundle failed: ",e),16===e.code&&lk.dispatch(s_(null)),e}}async function jX(e){let t=await jZ(jz),r=ed(Ec).decode(t),n=gx.fromSecretKey(r);return e.sign([n]),jK.debug("Transaction signed successfully"),e}async function jZ(e){let t=lk.getState(),{walletAddresses:r,defaultWalletAddress:n}=t.account,i=jH.get(n);if(i)return i;let o=r.find(e=>e.address===n),a=await jQ({addressItem:o,embeddedKey:e});return jH.set(n,a),a}async function jQ({addressItem:e,embeddedKey:t}){let r;let n=lk.getState(),{turnkeyAccount:i}=n.account,o=t.publicKeyUncompressed;"CREATE"===e.type&&(r=await jV.exportWalletAccount({address:e.address,targetPublicKey:o})),"IMPORT"===e.type&&(r=await jV.exportPrivateKey({privateKeyId:e.privateKeyId,targetPublicKey:o}));let a=await (0,UK.decryptExportBundle)({exportBundle:r.exportBundle,embeddedKey:t.privateKey,organizationId:i.subOrgId,returnMnemonic:!1,keyFormat:"SOLANA"});return a}let jY=ig("TradingBg"),jJ=async(e,t)=>{let{action:r}=e.body;switch(r){case"init":return j1(t);case"tx":return j0(e.body.params,t)}};async function j1(e){try{await jG(),await UC(),e.send({success:!0})}catch(t){jY.error("handleInit error",t),e.send({success:!1,error:t.message})}}async function j0(e,t){try{let r=await UR(e,jX);t.send({success:!0,data:r})}catch(e){t.send({success:!1,error:e.message})}}ig("ApiCall");let j2=async(e,t)=>{let{args:r}=e.body;try{let e;e="string"==typeof r?await g5.GET(r,{}):await g5.request(r.method||"GET",r.url,{body:r.body,params:r.params,headers:r.headers});let{data:n,error:i,response:o}=e;n||o.status>=200&&o.status<300?t.send({data:n}):t.send({error:{status:o.status,data:i}})}catch(e){t.send({error:{status:"FETCH_ERROR",error:e.message}})}},j6=gX({baseUrl:"https://bundles.jito.wtf/api/v1"}),j4=async(e,t)=>{let{args:r}=e.body;try{let e;e="string"==typeof r?await j6.GET(r,{}):await j6.request(r.method,r.url,{body:r.body,params:r.params,headers:r.headers});let{data:n,error:i,response:o}=e;n?t.send({data:n}):t.send({error:{status:o.status,data:i}})}catch(e){t.send({error:{status:"FETCH_ERROR",error:e.message}})}};ig("OkxCall");let j5=gX({baseUrl:"https://web3.okx.com"}),j8=async(e,t)=>{let{args:r}=e.body;try{let e;e="string"==typeof r?await j5.GET(r,{}):await j5.request(r.method,r.url,{body:r.body,params:r.params,headers:r.headers});let{data:n,error:i,response:o}=e;n?t.send({data:n}):t.send({error:{status:o.status,data:i}})}catch(e){t.send({error:{status:"FETCH_ERROR",error:e.message}})}};ig("PumpCall");let j3=gX({baseUrl:"https://frontend-api-v3.pump.fun"}),j9=async(e,t)=>{let{args:r}=e.body;try{let e;e="string"==typeof r?await j3.GET(r,{}):await j3.request(r.method,r.url,{body:r.body,params:r.params,headers:r.headers});let{data:n,error:i,response:o}=e;n?t.send({data:n}):t.send({error:{status:o.status,data:i}})}catch(e){t.send({error:{status:"FETCH_ERROR",error:e.message}})}};globalThis.__plasmoInternalPortMap=new Map,chrome.runtime.onMessageExternal.addListener((e,t,r)=>(e?.name,!0)),chrome.runtime.onMessage.addListener((e,t,r)=>{switch(e.name){case"auth":lT({...e,sender:t},{send:e=>r(e)});break;case"captureSentryEvent":dn({...e,sender:t},{send:e=>r(e)});break;case"checkJitoBundle":da({...e,sender:t},{send:e=>r(e)});break;case"fetchTransactionDetails":gz({...e,sender:t},{send:e=>r(e)});break;case"getGmgnAuth":gV({...e,sender:t},{send:e=>r(e)});break;case"getTurnkeySecret":yr({...e,sender:t},{send:e=>r(e)});break;case"keepPrivateKey":yi({...e,sender:t},{send:e=>r(e)});break;case"openSidepanel":y5({...e,sender:t},{send:e=>r(e)});break;case"openTabs":y3({...e,sender:t},{send:e=>r(e)});break;case"session":y7({...e,sender:t},{send:e=>r(e)});break;case"tokenPrices":bw({...e,sender:t},{send:e=>r(e)});break;case"trackAmplitudeEvent":bE({...e,sender:t},{send:e=>r(e)});break;case"trading":jJ({...e,sender:t},{send:e=>r(e)});break;case"service/apiCall":j2({...e,sender:t},{send:e=>r(e)});break;case"service/dexscreenerCall":bm({...e,sender:t},{send:e=>r(e)});break;case"service/jitoCall":j4({...e,sender:t},{send:e=>r(e)});break;case"service/jupiterCall":by({...e,sender:t},{send:e=>r(e)});break;case"service/okxCall":j8({...e,sender:t},{send:e=>r(e)});break;case"service/pumpCall":j9({...e,sender:t},{send:e=>r(e)})}return!0}),chrome.runtime.onConnect.addListener(function(e){globalThis.__plasmoInternalPortMap.set(e.name,e),e.onMessage.addListener(function(t){e.name})});let j7=()=>{chrome.i18n.getAcceptLanguages().then(e=>{let t=e&&e.length>0?e[0]:"en",r="en";t.startsWith("zh")?r="zh":t.startsWith("ru")&&(r="ru"),lk.dispatch(ux(r))}).catch(()=>{lk.dispatch(ux("en"))})};function We(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Wt(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in lP))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}())return!1;if(We(lP.fetch))return!0;let e=!1,t=lP.document;if(t&&"function"==typeof t.createElement)try{let r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow?.fetch&&(e=We(r.contentWindow.fetch)),t.head.removeChild(r)}catch(e){lR&&lY.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}let Wr={},Wn={};function Wi(e,t){Wr[e]=Wr[e]||[],Wr[e].push(t)}function Wo(e,t){if(!Wn[e]){Wn[e]=!0;try{t()}catch(t){lR&&lY.error(`Error while instrumenting ${e}`,t)}}}function Wa(e,t){let r=e&&Wr[e];if(r)for(let n of r)try{n(t)}catch(t){lR&&lY.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${cM(n)}
Error:`,t)}}function Ws(e,t){let r="fetch";Wi(r,e),Wo(r,()=>(function(e,t=!1){(!t||Wt())&&l2(lP,"fetch",function(t){return function(...r){let n=Error(),{method:i,url:o}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){let[t,r]=e;return{url:Wl(t),method:Wu(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:Wl(t),method:Wu(t,"method")?String(t.method).toUpperCase():"GET"}}(r),a={args:r,fetchData:{method:i,url:o},startTimestamp:1e3*ca(),virtualError:n,headers:function(e){let[t,r]=e;try{if("object"==typeof r&&null!==r&&"headers"in r&&r.headers)return new Headers(r.headers);if("undefined"!=typeof Request&&lV(t,Request))return new Headers(t.headers)}catch{}}(r)};return e||Wa("fetch",{...a}),t.apply(lP,r).then(async t=>(e?e(t):Wa("fetch",{...a,endTimestamp:1e3*ca(),response:t}),t),e=>{if(Wa("fetch",{...a,endTimestamp:1e3*ca(),error:e}),lL(e)&&void 0===e.stack&&(e.stack=n.stack,l6(e,"framesToPop",1)),e instanceof TypeError&&("Failed to fetch"===e.message||"Load failed"===e.message||"NetworkError when attempting to fetch resource."===e.message))try{let t=new URL(a.fetchData.url);e.message=`${e.message} (${t.host})`}catch{}throw e})}})})(void 0,t))}function Wu(e,t){return!!e&&"object"==typeof e&&!!e[t]}function Wl(e){return"string"==typeof e?e:e?Wu(e,"url")?e.url:e.toString?e.toString():"":""}function Wc(e){return"/"===e[e.length-1]?e.slice(0,-1):e}let Wd="__sentry_xhr_v3__";function Wp(e){Wi("xhr",e),Wo("xhr",Wf)}function Wf(){if(!lP.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,r){let n=Error(),i=1e3*ca(),o=lq(r[0])?r[0].toUpperCase():void 0,a=function(e){if(lq(e))return e;try{return e.toString()}catch{}}(r[1]);if(!o||!a)return e.apply(t,r);t[Wd]={method:o,url:a,request_headers:{}},"POST"===o&&a.match(/sentry_key/)&&(t.__sentry_own_request__=!0);let s=()=>{let e=t[Wd];if(e&&4===t.readyState){try{e.status_code=t.status}catch(e){}let r={endTimestamp:1e3*ca(),startTimestamp:i,xhr:t,virtualError:n};Wa("xhr",r)}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,r)=>(s(),e.apply(t,r))}):t.addEventListener("readystatechange",s),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,r){let[n,i]=r,o=t[Wd];return o&&lq(n)&&lq(i)&&(o.request_headers[n.toLowerCase()]=i),e.apply(t,r)}}),e.apply(t,r)}}),e.send=new Proxy(e.send,{apply(e,t,r){let n=t[Wd];if(!n)return e.apply(t,r);void 0!==r[0]&&(n.body=r[0]);let i={startTimestamp:1e3*ca(),xhr:t};return Wa("xhr",i),e.apply(t,r)}})}let Wh="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Wm=(e={})=>{let t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:"HttpClient",setup(e){Wt()&&Ws(r=>{if(cA()!==e)return;let{response:n,args:i,error:o,virtualError:a}=r,[s,u]=i;n&&function(e,t,r,n,i){if(Wb(e,r.status,r.url)){let e,o,a,s;let u=!n&&t instanceof Request||t instanceof Request&&t.bodyUsed?t:new Request(t,n);Ww()&&([e,a]=Wg("Cookie",u),[o,s]=Wg("Set-Cookie",r));let l=W_({url:u.url,method:u.method,status:r.status,requestHeaders:e,responseHeaders:o,requestCookies:a,responseCookies:s,error:i});c8(l)}}(t,s,n,u,o||a)},!1),"XMLHttpRequest"in lP&&Wp(r=>{if(cA()!==e)return;let{error:n,virtualError:i}=r,o=r.xhr,a=o[Wd];if(!a)return;let{method:s,request_headers:u}=a;try{!function(e,t,r,n,i){if(Wb(e,t.status,t.responseURL)){let e,o,a;if(Ww()){try{let e=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;e&&(o=Wy(e))}catch{}try{a=function(e){let t=e.getAllResponseHeaders();return t?t.split("\r\n").reduce((e,t)=>{let[r,n]=t.split(": ");return r&&n&&(e[r]=n),e},{}):{}}(t)}catch{}e=n}let s=W_({url:t.responseURL,method:r,status:t.status,requestHeaders:e,responseHeaders:a,responseCookies:o,error:i});c8(s)}}(t,o,s,u,n||i)}catch(e){Wh&&lY.warn("Error while extracting response event form XHR response",e)}})}}};function Wg(e,t){let r;let n=function(e){let t={};return e.forEach((e,r)=>{t[r]=e}),t}(t.headers);try{let t=n[e]||n[e.toLowerCase()]||void 0;t&&(r=Wy(t))}catch{}return[n,r]}function Wy(e){return e.split("; ").reduce((e,t)=>{let[r,n]=t.split("=");return r&&n&&(e[r]=n),e},{})}function Wb(e,t,r){return e.failedRequestStatusCodes.some(e=>"number"==typeof e?e===t:t>=e[0]&&t<=e[1])&&e.failedRequestTargets.some(e=>"string"==typeof e?r.includes(e):e.test(r))&&!function(e,t){let r=t?.getDsn(),n=t?.getOptions().tunnel;return!!r&&e.includes(r.host)||!!n&&Wc(e)===Wc(n)}(r,cA())}function W_(e){let t=cA(),r=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,n=r&&t?t.getOptions().stackParser(r,0,1):void 0,i=`HTTP Client Error with status code: ${e.status}`,o={message:i,exception:{values:[{type:"Error",value:i,stacktrace:n?{frames:n}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:function(e){if(e){let t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}(e.responseHeaders)}}};return cn(o,{type:"http.client",handled:!1}),o}function Ww(){let e=cA();return!!e&&!!e.getOptions().sendDefaultPii}let Wv=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{var r;if((r=e)&&(function(e,t){let r=e.message,n=t.message;return!!((r||n)&&(!r||n)&&(r||!n)&&r===n&&WA(e,t)&&Wk(e,t))}(t,r)||function(e,t){let r=WS(t),n=WS(e);return!!(r&&n&&r.type===n.type&&r.value===n.value&&WA(e,t)&&Wk(e,t))}(t,r)))return lR&&lY.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};function Wk(e,t){let r=cL(e),n=cL(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(let e=0;e<n.length;e++){let t=n[e],i=r[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function WA(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return!(r.join("")!==n.join(""))}catch(e){return!1}}function WS(e){return e.exception?.values&&e.exception.values[0]}let WI=new WeakMap,WE=()=>({name:"FunctionToString",setupOnce(){h=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=l5(this),r=WI.has(cA())&&void 0!==t?t:this;return h.apply(r,e)}}catch{}},setup(e){WI.set(e,!0)}}),WT=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],Wx=(e={})=>{let t;return{name:"EventFilters",setup(r){let n=r.getOptions();t=WO(e,n)},processEvent(r,n,i){if(!t){let r=i.getOptions();t=WO(e,r)}return!function(e,t){if(e.type){if("transaction"===e.type&&function(e,t){if(!t?.length)return!1;let r=e.transaction;return!!r&&l0(r,t)}(e,t.ignoreTransactions))return lR&&lY.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${ct(e)}`),!0}else{var r;if(r=t.ignoreErrors,r?.length&&yy(e).some(e=>l0(e,r)))return lR&&lY.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${ct(e)}`),!0;if(e.exception?.values?.length&&!e.message&&!e.exception.values.some(e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))return lR&&lY.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${ct(e)}`),!0;if(function(e,t){if(!t?.length)return!1;let r=WB(e);return!!r&&l0(r,t)}(e,t.denyUrls))return lR&&lY.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${ct(e)}.
Url: ${WB(e)}`),!0;if(!function(e,t){if(!t?.length)return!0;let r=WB(e);return!r||l0(r,t)}(e,t.allowUrls))return lR&&lY.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${ct(e)}.
Url: ${WB(e)}`),!0}return!1}(r,t)?r:null}}},WP=(e={})=>({...Wx(e),name:"InboundFilters"});function WO(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:WT],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function WB(e){try{let t=[...e.exception?.values??[]].reverse().find(e=>e.mechanism?.parent_id===void 0&&e.stacktrace?.frames?.length),r=t?.stacktrace?.frames;return r?function(e=[]){for(let t=e.length-1;t>=0;t--){let r=e[t];if(r&&"<anonymous>"!==r.filename&&"[native code]"!==r.filename)return r.filename||null}return null}(r):null}catch(t){return lR&&lY.error(`Cannot extract url for event ${ct(e)}`),null}}function WC(e){e.user?.ip_address===void 0&&(e.user={...e.user,ip_address:"{{auto}}"})}function WR(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):void 0===e.ipAddress&&(e.ipAddress="{{auto}}")}function WM(e,t){let r=WN(e,t),n={type:function(e){let t=e?.name;if(!t&&WF(e)){let t=e.message&&Array.isArray(e.message)&&2==e.message.length;return t?e.message[0]:"WebAssembly.Exception"}return t}(t),value:function(e){let t=e?.message;return WF(e)?Array.isArray(e.message)&&2==e.message.length?e.message[1]:"wasm exception":t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}(t)};return r.length&&(n.stacktrace={frames:r}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function WL(e,t){return{exception:{values:[WM(e,t)]}}}function WN(e,t){let r=t.stacktrace||t.stack||"",n=t&&WD.test(t.message)?1:0,i="number"==typeof t.framesToPop?t.framesToPop:0;try{return e(r,n,i)}catch(e){}return[]}let WD=/Minified React error #\d+;/i;function WF(e){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function Wq(e,t,r,n,i){let o;if(lD(t)&&t.error)return WL(e,t.error);if(lF(t)||lN(t,"DOMException")){if("stack"in t)o=WL(e,t);else{let i=t.name||(lF(t)?"DOMError":"DOMException"),a=t.message?`${i}: ${t.message}`:i;cr(o=WU(e,a,r,n),a)}return"code"in t&&(o.tags={...o.tags,"DOMException.code":`${t.code}`}),o}return lL(t)?WL(e,t):(lW(t)||lK(t)?cn(o=function(e,t,r,n){let i=cA(),o=i?.getOptions().normalizeDepth,a=function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let r=e[t];if(r instanceof Error)return r}}(t),s={__serialized__:function e(t,r=3,n=102400){let i=cN(t,r);return~-encodeURI(JSON.stringify(i)).split(/%..|./).length>n?e(t,r-1,n):i}(t,o)};if(a)return{exception:{values:[WM(e,a)]},extra:s};let u={exception:{values:[{type:lK(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:function(e,{isUnhandledRejection:t}){let r=function(e,t=40){let r=Object.keys(l8(e));r.sort();let n=r[0];if(!n)return"[object has no keys]";if(n.length>=t)return lJ(n,t);for(let e=r.length;e>0;e--){let n=r.slice(0,e).join(", ");if(!(n.length>t)){if(e===r.length)return n;return lJ(n,t)}}return""}(e),n=t?"promise rejection":"exception";if(lD(e))return`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``;if(lK(e)){let t=function(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e);return`Event \`${t}\` (type=${e.type}) captured as ${n}`}return`Object captured as ${n} with keys: ${r}`}(t,{isUnhandledRejection:n})}]},extra:s};if(r){let t=WN(e,r);t.length&&(u.exception.values[0].stacktrace={frames:t})}return u}(e,t,r,i),{synthetic:!0}):(cr(o=WU(e,t,r,n),`${t}`,void 0),cn(o,{synthetic:!0})),o)}function WU(e,t,r,n){let i={};if(n&&r){let n=WN(e,r);n.length&&(i.exception={values:[{value:t,stacktrace:{frames:n}}]}),cn(i,{synthetic:!0})}if(lU(t)){let{__sentry_template_string__:e,__sentry_template_values__:r}=t;return i.logentry={message:e,params:r},i}return i.message=t,i}let Wj=0;function WW(e,t={}){if("function"!=typeof e)return e;try{let t=e.__sentry_wrapped__;if(t){if("function"==typeof t)return t;return e}if(l5(e))return e}catch(t){return e}let r=function(...r){try{let n=r.map(e=>WW(e,t));return e.apply(this,n)}catch(e){throw Wj++,setTimeout(()=>{Wj--}),ck(n=>{n.addEventProcessor(e=>(t.mechanism&&(cr(e,void 0,void 0),cn(e,t.mechanism)),e.extra={...e.extra,arguments:r},e)),c5(e)}),e}};try{for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch{}l4(r,e),l6(e,"__sentry_wrapped__",r);try{let t=Object.getOwnPropertyDescriptor(r,"name");t.configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch{}return r}class WK extends yE{constructor(e){let t={release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:lP.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e},r=lP.SENTRY_SDK_SOURCE||"npm";(function(e,t,r=[t],n="npm"){let i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:r.map(e=>({name:`${n}:@sentry/${e}`,version:lx})),version:lx}),e._metadata=i})(t,"browser",["browser"],r),super(t);let{sendDefaultPii:n,sendClientReports:i,_experiments:o}=this._options,a=o?.enableLogs;lP.document&&(i||a)&&lP.document.addEventListener("visibilitychange",()=>{"hidden"===lP.document.visibilityState&&(i&&this._flushOutcomes(),a&&yB(this))}),a&&(this.on("flush",()=>{yB(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{yB(this)},5e3)})),n&&(this.on("postprocessEvent",WC),this.on("beforeSendSession",WR))}eventFromException(e,t){return function(e,t,r,n){let i=r?.syntheticException||void 0,o=Wq(e,t,i,n);return cn(o),o.level="error",r?.event_id&&(o.event_id=r.event_id),cE(o)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",r){return function(e,t,r="info",n,i){let o=n?.syntheticException||void 0,a=WU(e,t,o,i);return a.level=r,n?.event_id&&(a.event_id=n.event_id),cE(a)}(this._options.stackParser,e,t,r,this._options.attachStacktrace)}_prepareEvent(e,t,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,r,n)}}function Wz(e,t){let r=cA(),n=cw();if(!r)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:o=100}=r.getOptions();if(o<=0)return;let a=co(),s={timestamp:a,...e},u=i?lQ(()=>i(s,t)):s;null!==u&&(r.emit&&r.emit("beforeAddBreadcrumb",u,t),n.addBreadcrumb(u,o))}function WV(){"console"in lP&&lX.forEach(function(e){e in lP.console&&l2(lP.console,e,function(t){return lZ[e]=t,function(...t){Wa("console",{args:t,level:e});let r=lZ[e];r?.apply(lP.console,t)}})})}function WH(e){if(void 0!==e)return e>=400&&e<500?"warning":e>=500?"error":void 0}function WG(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function W$(){if(!lP.document)return;let e=Wa.bind(null,"dom"),t=WX(e,!0);lP.document.addEventListener("click",t,!1),lP.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{let r=lP[t]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(l2(r,"addEventListener",function(t){return function(r,n,i){if("click"===r||"keypress"==r)try{let n=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},o=n[r]=n[r]||{refCount:0};if(!o.handler){let n=WX(e);o.handler=n,t.call(this,r,n,i)}o.refCount++}catch(e){}return t.call(this,r,n,i)}}),l2(r,"removeEventListener",function(e){return function(t,r,n){if("click"===t||"keypress"==t)try{let r=this.__sentry_instrumentation_handlers__||{},i=r[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,n),i.handler=void 0,delete r[t]),0===Object.keys(r).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,r,n)}}))})}function WX(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;let n=function(e){try{return e.target}catch(e){return null}}(r);if("keypress"===r.type&&(!n?.tagName||"INPUT"!==n.tagName&&"TEXTAREA"!==n.tagName&&!n.isContentEditable))return;l6(r,"_sentryCaptured",!0),n&&!n._sentryId&&l6(n,"_sentryId",l7());let i="keypress"===r.type?"input":r.type;!function(e){if(e.type!==g)return!1;try{if(!e.target||e.target._sentryId!==y)return!1}catch(e){}return!0}(r)&&(e({event:r,name:i,global:t}),g=r.type,y=n?n._sentryId:void 0),clearTimeout(m),m=lP.setTimeout(()=>{y=void 0,g=void 0},1e3)}}function WZ(e){let t="history";Wi(t,e),Wo(t,WQ)}function WQ(){function e(e){return function(...t){let r=t.length>2?t[2]:void 0;if(r){let n=b,i=function(e){try{let t=new URL(e,lP.location.origin);return t.toString()}catch{return e}}(String(r));if(b=i,n===i)return e.apply(this,t);Wa("history",{from:n,to:i})}return e.apply(this,t)}}lP.addEventListener("popstate",()=>{let e=lP.location.href,t=b;b=e,t!==e&&Wa("history",{from:t,to:e})}),"history"in lP&&lP.history&&(l2(lP.history,"pushState",e),l2(lP.history,"replaceState",e))}let WY=(e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(e){var r;t.console&&function(e){let t="console";Wi(t,e),Wo(t,WV)}(function(t){var r;if(cA()!==e)return;let n={category:"console",data:{arguments:t.args,logger:"console"},level:"warn"===(r=t.level)?"warning":["fatal","error","warning","log","info","debug"].includes(r)?r:"log",message:l1(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${l1(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}Wz(n,{input:t.args,level:t.level})}),t.dom&&(Wi("dom",(r=t.dom,function(t){let n,i;if(cA()!==e)return;let o="object"==typeof r?r.serializeAttribute:void 0,a="object"==typeof r&&"number"==typeof r.maxStringLength?r.maxStringLength:void 0;a&&a>1024&&(Wh&&lY.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=1024),"string"==typeof o&&(o=[o]);try{let e=t.event,r=e&&e.target?e.target:e;n=lG(r,{keyAttrs:o,maxStringLength:a}),i=function(e){if(!lP.HTMLElement)return null;let t=e;for(let e=0;e<5&&t;e++){if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}(r)}catch(e){n="<unknown>"}if(0===n.length)return;let s={category:`ui.${t.name}`,message:n};i&&(s.data={"ui.component_name":i}),Wz(s,{event:t.event,name:t.name,global:t.global})})),Wo("dom",W$)),t.xhr&&Wp(function(t){if(cA()!==e)return;let{startTimestamp:r,endTimestamp:n}=t,i=t.xhr[Wd];if(!r||!n||!i)return;let{method:o,url:a,status_code:s,body:u}=i,l={xhr:t.xhr,input:u,startTimestamp:r,endTimestamp:n},c={category:"xhr",data:{method:o,url:a,status_code:s},type:"http",level:WH(s)};e.emit("beforeOutgoingRequestBreadcrumb",c,l),Wz(c,l)}),t.fetch&&Ws(function(t){if(cA()!==e)return;let{startTimestamp:r,endTimestamp:n}=t;if(n&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method)){if(t.fetchData.method,t.fetchData.url,t.error){let i=t.fetchData,o={data:t.error,input:t.args,startTimestamp:r,endTimestamp:n},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,o),Wz(a,o)}else{let i=t.response,o={...t.fetchData,status_code:i?.status};t.fetchData.request_body_size,t.fetchData.response_body_size,i?.status;let a={input:t.args,response:i,startTimestamp:r,endTimestamp:n},s={category:"fetch",data:o,type:"http",level:WH(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",s,a),Wz(s,a)}}}),t.history&&WZ(function(t){if(cA()!==e)return;let r=t.from,n=t.to,i=WG(lP.location.href),o=r?WG(r):void 0,a=WG(n);o?.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),Wz({category:"navigation",data:{from:r,to:n}})}),t.sentry&&e.on("beforeSendEvent",function(t){cA()===e&&Wz({category:`sentry.${"transaction"===t.type?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:ct(t)},{event:t})})}}},WJ=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],W1=(e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&l2(lP,"setTimeout",W0),t.setInterval&&l2(lP,"setInterval",W0),t.requestAnimationFrame&&l2(lP,"requestAnimationFrame",W2),t.XMLHttpRequest&&"XMLHttpRequest"in lP&&l2(XMLHttpRequest.prototype,"send",W6);let e=t.eventTarget;if(e){let r=Array.isArray(e)?e:WJ;r.forEach(e=>(function(e,t){let r=lP[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(l2(r,"addEventListener",function(r){return function(n,i,o){try{"function"==typeof i.handleEvent&&(i.handleEvent=WW(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:cM(i),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&this&&"object"==typeof this&&"removeEventListener"in this&&"function"==typeof this.removeEventListener&&this.removeEventListener(n,i),r.apply(this,[n,WW(i,{mechanism:{data:{function:"addEventListener",handler:cM(i),target:e},handled:!1,type:"instrument"}}),o])}}),l2(r,"removeEventListener",function(e){return function(t,r,n){try{let i=r.__sentry_wrapped__;i&&e.call(this,t,i,n)}catch(e){}return e.call(this,t,r,n)}}))})(e,t))}}}};function W0(e){return function(...t){let r=t[0];return t[0]=WW(r,{mechanism:{data:{function:cM(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function W2(e){return function(t){return e.apply(this,[WW(t,{mechanism:{data:{function:"requestAnimationFrame",handler:cM(e)},handled:!1,type:"instrument"}})])}}function W6(e){return function(...t){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in r&&"function"==typeof r[e]&&l2(r,e,function(t){let r={mechanism:{data:{function:e,handler:cM(t)},handled:!1,type:"instrument"}},n=l5(t);return n&&(r.mechanism.data.handler=cM(n)),WW(t,r)})}),e.apply(this,t)}}let W4=()=>({name:"BrowserSession",setupOnce(){if(void 0===lP.document){Wh&&lY.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}c9({ignoreDuration:!0}),dt(),WZ(({from:e,to:t})=>{void 0!==e&&e!==t&&(c9({ignoreDuration:!0}),dt())})}}),W5=null;function W8(){W5=lP.onerror,lP.onerror=function(e,t,r,n,i){return Wa("error",{column:n,error:i,line:r,msg:e,url:t}),!!W5&&W5.apply(this,arguments)},lP.onerror.__SENTRY_INSTRUMENTED__=!0}let W3=null;function W9(){W3=lP.onunhandledrejection,lP.onunhandledrejection=function(e){return Wa("unhandledrejection",e),!W3||W3.apply(this,arguments)},lP.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}let W7=(e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(function(e){let t="error";Wi(t,e),Wo(t,W8)}(t=>{let{stackParser:r,attachStacktrace:n}=Kt();if(cA()!==e||Wj>0)return;let{msg:i,url:o,line:a,column:s,error:u}=t,l=function(e,t,r,n){let i=e.exception=e.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},u=s.frames=s.frames||[],l=lq(t)&&t.length>0?t:l$();return 0===u.length&&u.push({colno:n,filename:l,function:"?",in_app:!0,lineno:r}),e}(Wq(r,u||i,void 0,n,!1),o,a,s);l.level="error",c8(l,{originalException:u,mechanism:{handled:!1,type:"onerror"}})}),Ke("onerror")),t.onunhandledrejection&&(function(e){let t="unhandledrejection";Wi(t,e),Wo(t,W9)}(t=>{let{stackParser:r,attachStacktrace:n}=Kt();if(cA()!==e||Wj>0)return;let i=function(e){if(lj(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}(t),o=lj(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:Wq(r,i,void 0,n,!0);o.level="error",c8(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})}),Ke("onunhandledrejection"))}}};function Ke(e){Wh&&lY.log(`Global Handler attached: ${e}`)}function Kt(){let e=cA(),t=e?.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return t}let Kr=()=>({name:"HttpContext",preprocessEvent(e){if(!lP.navigator&&!lP.location&&!lP.document)return;let t=function(){let e=l$(),{referrer:t}=lP.document||{},{userAgent:r}=lP.navigator||{},n={...t&&{Referer:t},...r&&{"User-Agent":r}};return{url:e,headers:n}}(),r={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:r}}});function Kn(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function Ki(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}let Ko=(e={})=>{let t=e.limit||5,r=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,n,i){let o=i.getOptions();!function(e,t,r,n,i,o){if(!i.exception?.values||!o||!lV(o.originalException,Error))return;let a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=function e(t,r,n,i,o,a,s,u){if(a.length>=n+1)return a;let l=[...a];if(lV(i[o],Error)){Kn(s,u);let a=t(r,i[o]),c=l.length;Ki(a,o,c,u),l=e(t,r,n,i[o],o,[a,...l],a,c)}return Array.isArray(i.errors)&&i.errors.forEach((i,a)=>{if(lV(i,Error)){Kn(s,u);let c=t(r,i),d=l.length;Ki(c,`errors[${a}]`,d,u),l=e(t,r,n,i,o,[c,...l],c,d)}}),l}(e,t,n,o.originalException,r,i.exception.values,a,0))}(WM,o.stackParser,r,t,e,n)}}};function Ka(e,t,r,n){let i={filename:e,function:"<anonymous>"===t?"?":t,in_app:!0};return void 0!==r&&(i.lineno=r),void 0!==n&&(i.colno=n),i}let Ks=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Ku=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Kl=/\((\S*)(?::(\d+))(?::(\d+))\)/,Kc=[30,e=>{let t=Ks.exec(e);if(t){let[,e,r,n]=t;return Ka(e,"?",+r,+n)}let r=Ku.exec(e);if(r){let e=r[2]&&0===r[2].indexOf("eval");if(e){let e=Kl.exec(r[2]);e&&(r[2]=e[1],r[3]=e[2],r[4]=e[3])}let[t,n]=Km(r[1]||"?",r[2]);return Ka(n,t,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],Kd=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Kp=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Kf=[50,e=>{let t=Kd.exec(e);if(t){let e=t[3]&&t[3].indexOf(" > eval")>-1;if(e){let e=Kp.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let r=t[3],n=t[1]||"?";return[n,r]=Km(n,r),Ka(r,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],Kh=cB(...[Kc,Kf]),Km=(e,t)=>{let r=-1!==e.indexOf("safari-extension"),n=-1!==e.indexOf("safari-web-extension");return r||n?[-1!==e.indexOf("@")?e.split("@")[0]:"?",r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Kg=Symbol.for("SentryBufferFullError"),Ky="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Kb={};function K_(e,t=function(e){let t=Kb[e];if(t)return t;let r=lP[e];if(We(r))return Kb[e]=r.bind(lP);let n=lP.document;if(n&&"function"==typeof n.createElement)try{let t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);let i=t.contentWindow;i?.[e]&&(r=i[e]),n.head.removeChild(t)}catch(t){Ky&&lY.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return r?Kb[e]=r.bind(lP):r}("fetch")){let r=0,n=0;return function(e,t,r=function(e){let t=[];function r(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(n){if(!(void 0===e||t.length<e))return cT(Kg);let i=n();return -1===t.indexOf(i)&&t.push(i),i.then(()=>r(i)).then(null,()=>r(i).then(null,()=>{})),i},drain:function(e){return new cx((r,n)=>{let i=t.length;if(!i)return r(!0);let o=setTimeout(()=>{e&&e>0&&r(!1)},e);t.forEach(e=>{cE(e).then(()=>{--i||(clearTimeout(o),r(!0))},n)})})}}}(e.bufferSize||64)){let n={};return{send:function(i){let o=[];if(yc(i,(t,r)=>{let i=yp[r];(function(e,t,r=Date.now()){return(e[t]||e.all||0)>r})(n,i)?e.recordDroppedEvent("ratelimit_backoff",i):o.push(t)}),0===o.length)return cE({});let a=yl(i[0],o),s=t=>{yc(a,(r,n)=>{e.recordDroppedEvent(t,yp[n])})};return r.add(()=>t({body:function(e){let[t,r]=e,n=JSON.stringify(t);function i(e){"string"==typeof n?n="string"==typeof e?n+e:[yd(n),e]:n.push("string"==typeof e?yd(e):e)}for(let e of r){let[t,r]=e;if(i(`
${JSON.stringify(t)}
`),"string"==typeof r||r instanceof Uint8Array)i(r);else{let e;try{e=JSON.stringify(r)}catch(t){e=JSON.stringify(cN(r))}i(e)}}return"string"==typeof n?n:function(e){let t=e.reduce((e,t)=>e+t.length,0),r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return r}(n)}(a)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&lR&&lY.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),n=function(e,{statusCode:t,headers:r},n=Date.now()){let i={...e},o=r?.["x-sentry-rate-limits"],a=r?.["retry-after"];if(o)for(let e of o.trim().split(",")){let[t,r,,,o]=e.split(":",5),a=parseInt(t,10),s=(isNaN(a)?60:a)*1e3;if(r)for(let e of r.split(";"))"metric_bucket"===e?(!o||o.split(";").includes("custom"))&&(i[e]=n+s):i[e]=n+s;else i.all=n+s}else a?i.all=n+function(e,t=Date.now()){let r=parseInt(`${e}`,10);if(!isNaN(r))return 1e3*r;let n=Date.parse(`${e}`);return isNaN(n)?6e4:n-t}(a,n):429===t&&(i.all=n+6e4);return i}(n,e),e),e=>{throw s("network_error"),lR&&lY.error("Encountered error running transport request:",e),e})).then(e=>e,e=>{if(e===Kg)return lR&&lY.error("Skipped sending event because buffer is full."),s("queue_overflow"),cE({});throw e})},flush:e=>r.drain(e)}}(e,function(i){let o=i.body.length;r+=o,n++;let a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};if(!t)return Kb.fetch=void 0,cT("No fetch implementation available");try{return t(e.url,a).then(e=>(r-=o,n--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}))}catch(e){return Kb.fetch=void 0,r-=o,n--,cT(e)}})}var Kw={};Kw=JSON.parse('{"name":"@copilot/extension","displayName":"Frontrun","version":"0.0.102","description":"Frontrun is your AI co-pilot, empowering crypto traders to stay ahead of the market","author":"Frontrun","scripts":{"figma":"pnpx figma-developer-mcp","dev":"plasmo dev","build":"plasmo build --hoist","build:staging":"plasmo build --hoist --mode staging --source-maps --bundle-buddy --env=.env.staging","package":"plasmo package","clean":"rm -rf build && rm -rf .plasmo","release":"plasmo build --hoist --env=.env.release && plasmo package","e2e":"playwright test","type-check":"tsc -p tsconfig.json --noEmit","lint":"eslint \\"src/**/*.{ts,tsx}\\"","test":"vitest run"},"dependencies":{"@copilot/api-lib":"workspace:*","@copilot/app-utils":"workspace:*","@copilot/external-api":"workspace:*","@copilot/solana-trading-bot":"workspace:*","@copilot/solana-utils-mini":"workspace:*","@floating-ui/react":"^0.27.12","@growthbook/growthbook":"^1.6.0","@plasmohq/messaging":"0.7.1","@plasmohq/redux-persist":"^6.1.0","@plasmohq/storage":"^1.15.0","@reduxjs/toolkit":"^2.8.2","@sentry/browser":"^9.30.0","@sentry/react":"^9.30.0","@solana/web3.js":"1.98.4","@turnkey/crypto":"^2.4.0","@turnkey/encoding":"^0.5.0","@turnkey/sdk-server":"^4.1.1","@uidotdev/usehooks":"^2.4.1","@zumer/snapdom":"^1.9.9","better-auth":"^1.2.10","bignumber.js":"^9.1.2","bs58":"^5.0.0","classnames":"^2.5.1","daisyui":"5.0.23","dayjs":"^1.11.13","lodash.chunk":"^4.2.0","lodash.debounce":"^4.0.8","lodash.differenceby":"^4.8.0","lodash.isequal":"^4.5.0","lodash.throttle":"^4.1.1","plasmo":"0.90.5","qrcode-with-logos":"^1.1.1","react":"^19.1.0","react-dom":"^19.1.0","react-error-boundary":"^6.0.0","react-redux":"^9.2.0","react-router":"^7.6.2","react-shadow":"^20.6.0","redux-persist-webextension-storage":"^1.0.2","socket.io-client":"^4.8.1","stringz":"^2.1.0","tailwindcss":"^3.4.17","viem":"^2.31.4"},"devDependencies":{"@ianvs/prettier-plugin-sort-imports":"4.4.1","@parcel/config-default":"2.9.3","@parcel/plugin":"2.9.3","@plasmohq/parcel-config":"0.42.0","@plasmohq/parcel-namer-manifest":"^0.3.12","@sentry/types":"^9.27.0","@testing-library/jest-dom":"^6.6.3","@testing-library/react":"^16.3.0","@types/chrome":"0.0.313","@types/lodash.chunk":"^4.2.9","@types/lodash.debounce":"^4.0.9","@types/lodash.differenceby":"^4.8.9","@types/lodash.isequal":"^4.5.8","@types/lodash.throttle":"^4.1.9","@types/node":"20.11.5","@types/react":"^19.1.8","@types/react-dom":"^19.1.6","jsdom":"^26.1.0","postcss":"8.5.3","prettier":"3.5.3","typescript":"5.3.3","vitest":"^3.2.4"},"manifest":{"key":"$CRX_PUBLIC_KEY","host_permissions":["<all_urls>"],"permissions":["storage","webRequest","sidePanel","windows","identity","scripting"],"default_locale":"en"},"alias":{"@turnkey/api-key-stamper":"alias/api-key-stamper/index.mjs"}}');let Kv={release:ed(Kw).version,dsn:void 0,skipBrowserExtensionCheck:!0},Kk=()=>{(function(e={}){var t;let r=!e.skipBrowserExtensionCheck&&!!function(){if(void 0===lP.window||lP.nw)return!1;let e=lP.chrome||lP.browser;if(!e?.runtime?.id)return!1;let t=l$(),r=lP===lP.top&&["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"].some(e=>t.startsWith(`${e}://`));return!r}()&&(Wh&&lQ(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0),n={...e,enabled:!r&&e.enabled,stackParser:Array.isArray(t=e.stackParser||Kh)?cB(...t):t,integrations:function(e){let t;let r=e.defaultIntegrations||[],n=e.integrations;if(r.forEach(e=>{e.isDefaultInstance=!0}),Array.isArray(n))t=[...r,...n];else if("function"==typeof n){let e=n(r);t=Array.isArray(e)?e:[e]}else t=r;return function(e){let t={};return e.forEach(e=>{let{name:r}=e,n=t[r];n&&!n.isDefaultInstance&&e.isDefaultInstance||(t[r]=e)}),Object.values(t)}(t)}({integrations:e.integrations,defaultIntegrations:null==e.defaultIntegrations?[WP(),WE(),W1(),WY(),W7(),Ko(),Wv(),Kr(),W4()]:e.defaultIntegrations}),transport:e.transport||K_};(function(e,t){!0===t.debug&&(lR?lY.enable():lQ(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}));let r=c_();r.update(t.initialScope);let n=new e(t);c_().setClient(n),n.init()})(WK,n)})({...Kv,integrations:[Wm()],sendDefaultPii:!0}),lk.subscribe(()=>{let{account:e}=lk.getState();e.user?c3({id:e.user.id,email:e.user.email,username:e.user.name}):c3(null)})},KA=()=>{let{account:e}=lk.getState(),t=e.user?.id||"anonymous";return`https://www.frontrun.pro/landing?action=uninstall&user_id=${t}`},KS=()=>{try{let e=KA();chrome.runtime.setUninstallURL(e),yu.debug("Updated uninstall URL",{url:e})}catch(e){yu.error("Failed to update uninstall URL",e)}},KI=()=>{KS();let e=lk.getState().account.user?.id,t=lk.subscribe(()=>{let t=lk.getState(),r=t.account.user?.id;e!==r&&(e=r,KS())});return t},KE={fetch:globalThis.fetch?globalThis.fetch.bind(globalThis):void 0,SubtleCrypto:globalThis.crypto?globalThis.crypto.subtle:void 0,EventSource:globalThis.EventSource};function KT(e){let t=2166136261,r=e.length;for(let n=0;n<r;n++)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}function Kx(e,t,r){return 2===r?KT(KT(e+t)+"")%1e4/1e4:1===r?KT(t+e)%1e3/1e3:null}function KP(e,t){return e>=t[0]&&e<t[1]}function KO(e){try{let t=e.replace(/([^\\])\//g,"$1\\/");return new RegExp(t)}catch(e){console.error(e);return}}function KB(e,t){if(!t.length)return!1;let r=!1,n=!1;for(let i=0;i<t.length;i++){let o=function(e,t,r){try{let n=new URL(e,"https://_");if("regex"===t){let e=KO(r);if(!e)return!1;return e.test(n.href)||e.test(n.href.substring(n.origin.length))}if("simple"===t)return function(e,t){try{let r=new URL(t.replace(/^([^:/?]*)\./i,"https://$1.").replace(/\*/g,"_____"),"https://_____"),n=[[e.host,r.host,!1],[e.pathname,r.pathname,!0]];return r.hash&&n.push([e.hash,r.hash,!1]),r.searchParams.forEach((t,r)=>{n.push([e.searchParams.get(r)||"",t,!1])}),!n.some(e=>!function(e,t,r){try{let n=t.replace(/[*.+?^${}()|[\]\\]/g,"\\$&").replace(/_____/g,".*");r&&(n="\\/?"+n.replace(/(^\/|\/$)/g,"")+"\\/?");let i=RegExp("^"+n+"$","i");return i.test(e)}catch(e){return!1}}(e[0],e[1],e[2]))}catch(e){return!1}}(n,r);return!1}catch(e){return!1}}(e,t[i].type,t[i].pattern);if(!1===t[i].include){if(o)return!1}else r=!0,o&&(n=!0)}return n||!r}let KC=e=>Uint8Array.from(atob(e),e=>e.charCodeAt(0));async function KR(e,t,r){if(t=t||"",!(r=r||globalThis.crypto&&globalThis.crypto.subtle||KE.SubtleCrypto))throw Error("No SubtleCrypto implementation found");try{let n=await r.importKey("raw",KC(t),{name:"AES-CBC",length:128},!0,["encrypt","decrypt"]),[i,o]=e.split("."),a=await r.decrypt({name:"AES-CBC",iv:KC(i)},n,KC(o));return new TextDecoder().decode(a)}catch(e){throw Error("Failed to decrypt")}}function KM(e){return"string"==typeof e?e:JSON.stringify(e)}function KL(e){"number"==typeof e&&(e+=""),e&&"string"==typeof e||(e="0");let t=e.replace(/(^v|\+.*$)/g,"").split(/[-.]/);return 3===t.length&&t.push("~"),t.map(e=>e.match(/^[0-9]+$/)?e.padStart(5," "):e).join("-")}function KN(e){return"object"==typeof e&&null!==e}function KD(e){return e.urlPatterns&&e.variations.some(e=>KN(e)&&"urlRedirect"in e)?"redirect":e.variations.some(e=>KN(e)&&(e.domMutations||"js"in e||"css"in e))?"visual":"unknown"}async function KF(e,t){return new Promise(r=>{let n,i=!1,o=e=>{i||(i=!0,n&&clearTimeout(n),r(e||null))};t&&(n=setTimeout(()=>o(),t)),e.then(e=>o(e)).catch(()=>o())})}let Kq={staleTTL:6e4,maxAge:144e5,cacheKey:"gbFeaturesCache",backgroundSync:!0,maxEntries:10,disableIdleStreams:!1,idleStreamInterval:2e4,disableCache:!1},KU={fetchFeaturesCall:e=>{let{host:t,clientKey:r,headers:n}=e;return KE.fetch(`${t}/api/features/${r}`,{headers:n})},fetchRemoteEvalCall:e=>{let{host:t,clientKey:r,payload:n,headers:i}=e,o={method:"POST",headers:{"Content-Type":"application/json",...i},body:JSON.stringify(n)};return KE.fetch(`${t}/api/eval/${r}`,o)},eventSourceCall:e=>{let{host:t,clientKey:r,headers:n}=e;return n?new KE.EventSource(`${t}/sub/${r}`,{headers:n}):new KE.EventSource(`${t}/sub/${r}`)},startIdleListener:()=>{let e;let t="undefined"!=typeof window&&"undefined"!=typeof document;if(!t)return;let r=()=>{"visible"===document.visibilityState?(window.clearTimeout(e),KV.forEach(e=>{e&&"idle"===e.state&&K9(e)})):"hidden"===document.visibilityState&&(e=window.setTimeout(KX,Kq.idleStreamInterval))};return document.addEventListener("visibilitychange",r),()=>document.removeEventListener("visibilitychange",r)},stopIdleListener:()=>{}};try{globalThis.localStorage&&(KE.localStorage=globalThis.localStorage)}catch(e){}let Kj=new Map,KW=!1,KK=new Map,Kz=new Map,KV=new Map,KH=new Set;function KG(e){Object.assign(Kq,e),Kq.backgroundSync||(KH.clear(),KV.forEach(K7),Kj.clear(),KU.stopIdleListener())}async function K$(e){let{instance:t,timeout:r,skipCache:n,allowStale:i,backgroundSync:o}=e;return o||(Kq.backgroundSync=!1),KQ({instance:t,allowStale:i,timeout:r,skipCache:n})}function KX(){KV.forEach(e=>{e&&(e.state="idle",K3(e))})}async function KZ(){try{if(!KE.localStorage)return;await KE.localStorage.setItem(Kq.cacheKey,JSON.stringify(Array.from(KK.entries())))}catch(e){}}async function KQ(e){let{instance:t,allowStale:r,timeout:n,skipCache:i}=e,o=KY(t),a=KJ(t),s=new Date,u=new Date(s.getTime()-Kq.maxAge+Kq.staleTTL);await K1();let l=Kq.disableCache||i?void 0:KK.get(a);if(l&&(r||l.staleAt>s)&&l.staleAt>u)return l.sse&&KH.add(o),l.staleAt<s?K4(t):K5(t),{data:l.data,success:!0,source:"cache"};{let e=await KF(K4(t),n);return e||{data:null,success:!1,source:"timeout",error:Error("Timeout")}}}function KY(e){let[t,r]=e.getApiInfo();return`${t}||${r}`}function KJ(e){let t=KY(e);if(!("isRemoteEval"in e)||!e.isRemoteEval())return t;let r=e.getAttributes(),n=e.getCacheKeyAttributes()||Object.keys(e.getAttributes()),i={};n.forEach(e=>{i[e]=r[e]});let o=e.getForcedVariations(),a=e.getUrl();return`${t}||${JSON.stringify({ca:i,fv:o,url:a})}`}async function K1(){if(!KW){KW=!0;try{if(KE.localStorage){let e=await KE.localStorage.getItem(Kq.cacheKey);if(!Kq.disableCache&&e){let t=JSON.parse(e);t&&Array.isArray(t)&&t.forEach(e=>{let[t,r]=e;KK.set(t,{...r,staleAt:new Date(r.staleAt)})}),K0()}}}catch(e){}if(!Kq.disableIdleStreams){let e=KU.startIdleListener();e&&(KU.stopIdleListener=e)}}}function K0(){let e=Array.from(KK.entries()).map(e=>{let[t,r]=e;return{key:t,staleAt:r.staleAt.getTime()}}).sort((e,t)=>e.staleAt-t.staleAt),t=Math.min(Math.max(0,KK.size-Kq.maxEntries),KK.size);for(let r=0;r<t;r++)KK.delete(e[r].key)}function K2(e,t,r){let n=r.dateUpdated||"",i=new Date(Date.now()+Kq.staleTTL),o=Kq.disableCache?void 0:KK.get(t);if(o&&n&&o.version===n){o.staleAt=i,KZ();return}Kq.disableCache||(KK.set(t,{data:r,version:n,staleAt:i,sse:KH.has(e)}),K0()),KZ();let a=Kj.get(e);a&&a.forEach(e=>K6(e,r))}async function K6(e,t){await e.setPayload(t||e.getPayload())}async function K4(e){let{apiHost:t,apiRequestHeaders:r}=e.getApiHosts(),n=e.getClientKey(),i="isRemoteEval"in e&&e.isRemoteEval(),o=KY(e),a=KJ(e),s=Kz.get(a);if(!s){let u=i?KU.fetchRemoteEvalCall({host:t,clientKey:n,payload:{attributes:e.getAttributes(),forcedVariations:e.getForcedVariations(),forcedFeatures:Array.from(e.getForcedFeatures().entries()),url:e.getUrl()},headers:r}):KU.fetchFeaturesCall({host:t,clientKey:n,headers:r});s=u.then(e=>{if(!e.ok)throw Error(`HTTP error: ${e.status}`);return"enabled"===e.headers.get("x-sse-support")&&KH.add(o),e.json()}).then(t=>(K2(o,a,t),K5(e),Kz.delete(a),{data:t,success:!0,source:"network"})).catch(e=>(Kz.delete(a),{data:null,source:"error",success:!1,error:e})),Kz.set(a,s)}return s}function K5(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=KY(e),n=KJ(e),{streamingHost:i,streamingHostRequestHeaders:o}=e.getApiHosts(),a=e.getClientKey();if(t&&KH.add(r),Kq.backgroundSync&&KH.has(r)&&KE.EventSource){if(KV.has(r))return;let e={src:null,host:i,clientKey:a,headers:o,cb:t=>{try{if("features-updated"===t.type){let e=Kj.get(r);e&&e.forEach(e=>{K4(e)})}else if("features"===t.type){let e=JSON.parse(t.data);K2(r,n,e)}e.errors=0}catch(t){K8(e)}},errors:0,state:"active"};KV.set(r,e),K9(e)}}function K8(e){if("idle"!==e.state&&(e.errors++,e.errors>3||e.src&&2===e.src.readyState)){let t=Math.pow(3,e.errors-3)*(1e3+1e3*Math.random());K3(e),setTimeout(()=>{["idle","active"].includes(e.state)||K9(e)},Math.min(t,3e5))}}function K3(e){e.src&&(e.src.onopen=null,e.src.onerror=null,e.src.close(),e.src=null,"active"===e.state&&(e.state="disabled"))}function K9(e){e.src=KU.eventSourceCall({host:e.host,clientKey:e.clientKey,headers:e.headers}),e.state="active",e.src.addEventListener("features",e.cb),e.src.addEventListener("features-updated",e.cb),e.src.onerror=()=>K8(e),e.src.onopen=()=>{e.errors=0}}function K7(e,t){K3(e),KV.delete(t)}function ze(e,t){if(t.streaming){if(!e.getClientKey())throw Error("Must specify clientKey to enable streaming");t.payload&&K5(e,!0),function(e){let t=KY(e),r=Kj.get(t)||new Set;r.add(e),Kj.set(t,r)}(e)}}var zt=/^[a-zA-Z:_][a-zA-Z0-9:_.-]*$/,zr={revert:function(){}},zn=new Map,zi=new Set;function zo(e){var t=zn.get(e);return t||(t={element:e,attributes:{}},zn.set(e,t)),t}function za(e,t,r,n,i){var o=r(e),a={isDirty:!1,originalValue:o,virtualValue:o,mutations:[],el:e,_positionTimeout:null,observer:new MutationObserver(function(){if("position"!==t||!a._positionTimeout){"position"===t&&(a._positionTimeout=setTimeout(function(){a._positionTimeout=null},1e3));var n=r(e);("position"!==t||n.parentNode!==a.virtualValue.parentNode||n.insertBeforeNode!==a.virtualValue.insertBeforeNode)&&n!==a.virtualValue&&(a.originalValue=n,i(a))}}),mutationRunner:i,setValue:n,getCurrentValue:r};return"position"===t&&e.parentNode?a.observer.observe(e.parentNode,{childList:!0,subtree:!0,attributes:!1,characterData:!1}):a.observer.observe(e,"html"===t?{childList:!0,subtree:!0,attributes:!0,characterData:!0}:{childList:!1,subtree:!1,attributes:!0,attributeFilter:[t]}),a}function zs(e,t){var r=t.getCurrentValue(t.el);t.virtualValue=e,e&&"string"!=typeof e?r&&e.parentNode===r.parentNode&&e.insertBeforeNode===r.insertBeforeNode||(t.isDirty=!0,zS()):e!==r&&(t.isDirty=!0,zS())}function zu(e){var t,r=e.originalValue;e.mutations.forEach(function(e){return r=e.mutate(r)}),zs((t=r,eu||(eu=document.createElement("div")),eu.innerHTML=t,eu.innerHTML),e)}function zl(e){var t=new Set(e.originalValue.split(/\s+/).filter(Boolean));e.mutations.forEach(function(e){return e.mutate(t)}),zs(Array.from(t).filter(Boolean).join(" "),e)}function zc(e){var t=e.originalValue;e.mutations.forEach(function(e){return t=e.mutate(t)}),zs(t,e)}function zd(e){var t=e.originalValue;e.mutations.forEach(function(e){t=function(e){var t=e.parentSelector,r=e.insertBeforeSelector,n=document.querySelector(t);if(!n)return null;var i=r?document.querySelector(r):null;return r&&!i?null:{parentNode:n,insertBeforeNode:i}}(e.mutate())||t}),zs(t,e)}var zp=function(e){return e.innerHTML},zf=function(e,t){return e.innerHTML=t};function zh(e){var t=zo(e);return t.html||(t.html=za(e,"html",zp,zf,zu)),t.html}var zm=function(e){return{parentNode:e.parentElement,insertBeforeNode:e.nextElementSibling}},zg=function(e,t){(!t.insertBeforeNode||t.parentNode.contains(t.insertBeforeNode))&&t.parentNode.insertBefore(e,t.insertBeforeNode)};function zy(e){var t=zo(e);return t.position||(t.position=za(e,"position",zm,zg,zd)),t.position}var zb=function(e,t){return t?e.className=t:e.removeAttribute("class")},z_=function(e){return e.className};function zw(e){var t=zo(e);return t.classes||(t.classes=za(e,"class",z_,zb,zl)),t.classes}function zv(e,t){var r=zo(e);return r.attributes[t]||(r.attributes[t]=za(e,t,function(e){var r;return null!=(r=e.getAttribute(t))?r:null},function(e,r){return null!==r?e.setAttribute(t,r):e.removeAttribute(t)},zc)),r.attributes[t]}function zk(e,t,r){if(r.isDirty){r.isDirty=!1;var n,i,o,a,s,u,l,c,d,p,f=r.virtualValue;!r.mutations.length&&(p=zn.get(e))&&("html"===t?(null==(n=p.html)||null==(i=n.observer)||i.disconnect(),delete p.html):"class"===t?(null==(o=p.classes)||null==(a=o.observer)||a.disconnect(),delete p.classes):"position"===t?(null==(s=p.position)||null==(u=s.observer)||u.disconnect(),delete p.position):(null==(l=p.attributes)||null==(c=l[t])||null==(d=c.observer)||d.disconnect(),delete p.attributes[t])),r.setValue(e,f)}}function zA(e,t){e.html&&zk(t,"html",e.html),e.classes&&zk(t,"class",e.classes),e.position&&zk(t,"position",e.position),Object.keys(e.attributes).forEach(function(r){zk(t,r,e.attributes[r])})}function zS(){zn.forEach(zA)}function zI(e){if("position"!==e.kind||1!==e.elements.size){var t=new Set(e.elements);document.querySelectorAll(e.selector).forEach(function(r){if(!t.has(r)){var n;e.elements.add(r),n=null,"html"===e.kind?n=zh(r):"class"===e.kind?n=zw(r):"attribute"===e.kind?n=zv(r,e.attribute):"position"===e.kind&&(n=zy(r)),n&&(n.mutations.push(e),n.mutationRunner(n))}})}}function zE(){zi.forEach(zI)}function zT(e){return"undefined"==typeof document?zr:(zi.add(e),zI(e),{revert:function(){e.elements.forEach(function(t){return function(e,t){var r=null;if("html"===e.kind?r=zh(t):"class"===e.kind?r=zw(t):"attribute"===e.kind?r=zv(t,e.attribute):"position"===e.kind&&(r=zy(t)),r){var n=r.mutations.indexOf(e);-1!==n&&r.mutations.splice(n,1),r.mutationRunner(r)}}(e,t)}),e.elements.clear(),zi.delete(e)}})}function zx(e,t){return zT({kind:"html",elements:new Set,mutate:t,selector:e})}function zP(e,t){return zT({kind:"position",elements:new Set,mutate:t,selector:e})}function zO(e,t){return zT({kind:"class",elements:new Set,mutate:t,selector:e})}function zB(e,t,r){return zt.test(t)?"class"===t||"className"===t?zO(e,function(e){var t=r(Array.from(e).join(" "));e.clear(),t&&t.split(/\s+/g).filter(Boolean).forEach(function(t){return e.add(t)})}):zT({kind:"attribute",attribute:t,elements:new Set,mutate:r,selector:e}):zr}"undefined"!=typeof document&&(el||(el=new MutationObserver(function(){zE()})),zE(),el.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!1,characterData:!1}));var zC={html:zx,classes:zO,attribute:zB,position:zP,declarative:function(e){var t=e.selector,r=e.action,n=e.value,i=e.attribute,o=e.parentSelector,a=e.insertBeforeSelector;if("html"===i){if("append"===r)return zx(t,function(e){return e+(null!=n?n:"")});if("set"===r)return zx(t,function(){return null!=n?n:""})}else if("class"===i){if("append"===r)return zO(t,function(e){n&&e.add(n)});if("remove"===r)return zO(t,function(e){n&&e.delete(n)});if("set"===r)return zO(t,function(e){e.clear(),n&&e.add(n)})}else if("position"===i){if("set"===r&&o)return zP(t,function(){return{insertBeforeSelector:a,parentSelector:o}})}else{if("append"===r)return zB(t,i,function(e){return null!==e?e+(null!=n?n:""):null!=n?n:""});if("set"===r)return zB(t,i,function(){return null!=n?n:""});if("remove"===r)return zB(t,i,function(){return null})}return zr}};let zR={};function zM(e,t,r){for(let[n,i]of(r=r||{},Object.entries(t)))switch(n){case"$or":if(!zD(e,i,r))return!1;break;case"$nor":if(zD(e,i,r))return!1;break;case"$and":if(!function(e,t,r){for(let n=0;n<t.length;n++)if(!zM(e,t[n],r))return!1;return!0}(e,i,r))return!1;break;case"$not":if(zM(e,i,r))return!1;break;default:if(!function e(t,r,n){if("string"==typeof t)return r+""===t;if("number"==typeof t)return 1*r===t;if("boolean"==typeof t)return null!==r&&!!r===t;if(null===t)return null===r;if(Array.isArray(t)||!zL(t))return JSON.stringify(r)===JSON.stringify(t);for(let i in t)if(!function(t,r,n,i){switch(t){case"$veq":return KL(r)===KL(n);case"$vne":return KL(r)!==KL(n);case"$vgt":return KL(r)>KL(n);case"$vgte":return KL(r)>=KL(n);case"$vlt":return KL(r)<KL(n);case"$vlte":return KL(r)<=KL(n);case"$eq":return r===n;case"$ne":return r!==n;case"$lt":return r<n;case"$lte":return r<=n;case"$gt":return r>n;case"$gte":return r>=n;case"$exists":return n?null!=r:null==r;case"$in":if(!Array.isArray(n))return!1;return zN(r,n);case"$inGroup":return zN(r,i[n]||[]);case"$notInGroup":return!zN(r,i[n]||[]);case"$nin":if(!Array.isArray(n))return!1;return!zN(r,n);case"$not":return!e(n,r,i);case"$size":if(!Array.isArray(r))return!1;return e(n,r.length,i);case"$elemMatch":return function(t,r,n){if(!Array.isArray(t))return!1;let i=zL(r)?t=>e(r,t,n):e=>zM(e,r,n);for(let e=0;e<t.length;e++)if(t[e]&&i(t[e]))return!0;return!1}(r,n,i);case"$all":if(!Array.isArray(r))return!1;for(let t=0;t<n.length;t++){let o=!1;for(let a=0;a<r.length;a++)if(e(n[t],r[a],i)){o=!0;break}if(!o)return!1}return!0;case"$regex":try{return(zR[n]||(zR[n]=new RegExp(n.replace(/([^\\])\//g,"$1\\/"))),zR[n]).test(r)}catch(e){return!1}case"$type":return function(e){if(null===e)return"null";if(Array.isArray(e))return"array";let t=typeof e;return["string","number","boolean","object","undefined"].includes(t)?t:"unknown"}(r)===n;default:return console.error("Unknown operator: "+t),!1}}(i,r,t[i],n))return!1;return!0}(i,function(e,t){let r=t.split("."),n=e;for(let e=0;e<r.length;e++){if(!n||"object"!=typeof n||!(r[e]in n))return null;n=n[r[e]]}return n}(e,n),r))return!1}return!0}function zL(e){let t=Object.keys(e);return t.length>0&&t.filter(e=>"$"===e[0]).length===t.length}function zN(e,t){return Array.isArray(e)?e.some(e=>t.includes(e)):t.includes(e)}function zD(e,t,r){if(!t.length)return!0;for(let n=0;n<t.length;n++)if(zM(e,t[n],r))return!0;return!1}async function zF(e){try{await e()}catch(e){}}function zq(e,t,r){if(e.user.trackedExperiments){let n=zJ(t,r);if(e.user.trackedExperiments.has(n))return[];e.user.trackedExperiments.add(n)}e.user.enableDevMode&&e.user.devLogs&&e.user.devLogs.push({experiment:t,result:r,timestamp:Date.now().toString(),logType:"experiment"});let n=[];if(e.global.trackingCallback){let i=e.global.trackingCallback;n.push(zF(()=>i(t,r,e.user)))}if(e.user.trackingCallback){let i=e.user.trackingCallback;n.push(zF(()=>i(t,r)))}if(e.global.eventLogger){let i=e.global.eventLogger;n.push(zF(()=>i("Experiment Viewed",{experimentId:t.key,variationId:r.key,hashAttribute:r.hashAttribute,hashValue:r.hashValue},e.user)))}return n}function zU(e,t){if(t.stack.evaluatedFeatures.has(e))return zW(t,e,null,"cyclicPrerequisite");t.stack.evaluatedFeatures.add(e),t.stack.id=e;let r=function(e){let t=new Map;return e.global.forcedFeatureValues&&e.global.forcedFeatureValues.forEach((e,r)=>t.set(r,e)),e.user.forcedFeatureValues&&e.user.forcedFeatureValues.forEach((e,r)=>t.set(r,e)),t}(t);if(r.has(e))return zW(t,e,r.get(e),"override");if(!t.global.features||!t.global.features[e])return zW(t,e,null,"unknownFeature");let n=t.global.features[e];if(n.rules){let r=new Set(t.stack.evaluatedFeatures);o:for(let i of n.rules){if(i.parentConditions)for(let n of i.parentConditions){t.stack.evaluatedFeatures=new Set(r);let i=zU(n.id,t);if("cyclicPrerequisite"===i.source)return zW(t,e,null,"cyclicPrerequisite");let o={value:i.value},a=zM(o,n.condition||{});if(!a){if(n.gate)return zW(t,e,null,"prerequisite");continue o}}if(i.filters&&zV(i.filters,t))continue;if("force"in i){if(i.condition&&!zz(i.condition,t)||!function(e,t,r,n,i,o,a){if(!i&&void 0===o)return!0;if(!i&&0===o)return!1;let{hashValue:s}=zG(e,r,n);if(!s)return!1;let u=Kx(t,s,a||1);return null!==u&&(i?KP(u,i):void 0===o||u<=o)}(t,i.seed||e,i.hashAttribute,t.user.saveStickyBucketAssignmentDoc&&!i.disableStickyBucketing?i.fallbackAttribute:void 0,i.range,i.coverage,i.hashVersion))continue;return i.tracks&&i.tracks.forEach(e=>{let r=zq(t,e.experiment,e.result);!r.length&&t.global.saveDeferredTrack&&t.global.saveDeferredTrack({experiment:e.experiment,result:e.result})}),zW(t,e,i.force,"force",i.id)}if(!i.variations)continue;let n={variations:i.variations,key:i.key||e};"coverage"in i&&(n.coverage=i.coverage),i.weights&&(n.weights=i.weights),i.hashAttribute&&(n.hashAttribute=i.hashAttribute),i.fallbackAttribute&&(n.fallbackAttribute=i.fallbackAttribute),i.disableStickyBucketing&&(n.disableStickyBucketing=i.disableStickyBucketing),void 0!==i.bucketVersion&&(n.bucketVersion=i.bucketVersion),void 0!==i.minBucketVersion&&(n.minBucketVersion=i.minBucketVersion),i.namespace&&(n.namespace=i.namespace),i.meta&&(n.meta=i.meta),i.ranges&&(n.ranges=i.ranges),i.name&&(n.name=i.name),i.phase&&(n.phase=i.phase),i.seed&&(n.seed=i.seed),i.hashVersion&&(n.hashVersion=i.hashVersion),i.filters&&(n.filters=i.filters),i.condition&&(n.condition=i.condition);let{result:o}=zj(n,e,t);if(t.global.onExperimentEval&&t.global.onExperimentEval(n,o),o.inExperiment&&!o.passthrough)return zW(t,e,o.value,"experiment",i.id,n,o)}}return zW(t,e,void 0===n.defaultValue?null:n.defaultValue,"defaultValue")}function zj(e,t,r){let n=e.key,i=e.variations.length;if(i<2||!1===r.global.enabled||!1===r.user.enabled||(e=function(e,t){let r=e.key,n=t.global.overrides;return n&&n[r]&&"string"==typeof(e=Object.assign({},e,n[r])).url&&(e.url=KO(e.url)),e}(e,r)).urlPatterns&&!KB(r.user.url||"",e.urlPatterns))return{result:zH(r,e,-1,!1,t)};let o=function(e,t,r){if(!t)return null;let n=t.split("?")[1];if(!n)return null;let i=n.replace(/#.*/,"").split("&").map(e=>e.split("=",2)).filter(t=>{let[r]=t;return r===e}).map(e=>{let[,t]=e;return parseInt(t)});return i.length>0&&i[0]>=0&&i[0]<r?i[0]:null}(n,r.user.url||"",i);if(null!==o)return{result:zH(r,e,o,!1,t)};let a=r.global.forcedVariations&&r.user.forcedVariations?{...r.global.forcedVariations,...r.user.forcedVariations}:r.global.forcedVariations?r.global.forcedVariations:r.user.forcedVariations?r.user.forcedVariations:{};if(n in a){let i=a[n];return{result:zH(r,e,i,!1,t)}}if("draft"===e.status||!1===e.active)return{result:zH(r,e,-1,!1,t)};let{hashAttribute:s,hashValue:u}=zG(r,e.hashAttribute,r.user.saveStickyBucketAssignmentDoc&&!e.disableStickyBucketing?e.fallbackAttribute:void 0);if(!u)return{result:zH(r,e,-1,!1,t)};let l=-1,c=!1,d=!1;if(r.user.saveStickyBucketAssignmentDoc&&!e.disableStickyBucketing){let{variation:t,versionIsBlocked:n}=function(e){let{ctx:t,expKey:r,expBucketVersion:n,expHashAttribute:i,expFallbackAttribute:o,expMinBucketVersion:a,expMeta:s}=e;n=n||0,a=a||0,i=i||"id",s=s||[];let u=z$(r,n),l=function(e,t,r){if(!e.user.stickyBucketAssignmentDocs)return{};let{hashAttribute:n,hashValue:i}=zG(e,t),o=zX(n,KM(i)),{hashAttribute:a,hashValue:s}=zG(e,r),u=s?zX(a,KM(s)):null,l={};return u&&e.user.stickyBucketAssignmentDocs[u]&&Object.assign(l,e.user.stickyBucketAssignmentDocs[u].assignments||{}),e.user.stickyBucketAssignmentDocs[o]&&Object.assign(l,e.user.stickyBucketAssignmentDocs[o].assignments||{}),l}(t,i,o);if(a>0)for(let e=0;e<=a;e++){let t=z$(r,e);if(void 0!==l[t])return{variation:-1,versionIsBlocked:!0}}let c=l[u];if(void 0===c)return{variation:-1};let d=s.findIndex(e=>e.key===c);return d<0?{variation:-1}:{variation:d}}({ctx:r,expKey:e.key,expBucketVersion:e.bucketVersion,expHashAttribute:e.hashAttribute,expFallbackAttribute:e.fallbackAttribute,expMinBucketVersion:e.minBucketVersion,expMeta:e.meta});c=t>=0,l=t,d=!!n}if(!c){if(e.filters){if(zV(e.filters,r))return{result:zH(r,e,-1,!1,t)}}else if(e.namespace&&!function(e,t){let r=Kx("__"+t[0],e,1);return null!==r&&r>=t[1]&&r<t[2]}(u,e.namespace))return{result:zH(r,e,-1,!1,t)};if(e.include&&!function(e){try{return e()}catch(e){return console.error(e),!1}}(e.include)||e.condition&&!zz(e.condition,r))return{result:zH(r,e,-1,!1,t)};if(e.parentConditions){let n=new Set(r.stack.evaluatedFeatures);for(let i of e.parentConditions){r.stack.evaluatedFeatures=new Set(n);let o=zU(i.id,r);if("cyclicPrerequisite"===o.source)return{result:zH(r,e,-1,!1,t)};let a={value:o.value};if(!zM(a,i.condition||{}))return{result:zH(r,e,-1,!1,t)}}}if(e.groups&&!function(e,t){let r=t.global.groups||{};for(let t=0;t<e.length;t++)if(r[e[t]])return!0;return!1}(e.groups,r))return{result:zH(r,e,-1,!1,t)}}if(e.url&&!function(e,t){let r=t.user.url;if(!r)return!1;let n=r.replace(/^https?:\/\//,"").replace(/^[^/]*\//,"/");return!!(e.test(r)||e.test(n))}(e.url,r))return{result:zH(r,e,-1,!1,t)};let p=Kx(e.seed||n,u,e.hashVersion||1);if(null===p)return{result:zH(r,e,-1,!1,t)};if(!c){let t=e.ranges||function(e,t,r){(t=void 0===t?1:t)<0?t=0:t>1&&(t=1);let n=e<=0?[]:Array(e).fill(1/e);(r=r||n).length!==e&&(r=n);let i=r.reduce((e,t)=>t+e,0);(i<.99||i>1.01)&&(r=n);let o=0;return r.map(e=>{let r=o;return o+=e,[r,r+t*e]})}(i,void 0===e.coverage?1:e.coverage,e.weights);l=function(e,t){for(let r=0;r<t.length;r++)if(KP(e,t[r]))return r;return -1}(p,t)}if(d)return{result:zH(r,e,-1,!1,t,void 0,!0)};if(l<0)return{result:zH(r,e,-1,!1,t)};if("force"in e)return{result:zH(r,e,void 0===e.force?-1:e.force,!1,t)};if(r.global.qaMode||r.user.qaMode||"stopped"===e.status)return{result:zH(r,e,-1,!1,t)};let f=zH(r,e,l,!0,t,p,c);if(r.user.saveStickyBucketAssignmentDoc&&!e.disableStickyBucketing){let{changed:t,key:n,doc:i}=function(e,t,r,n){let i=zX(t,r),o=e.user.stickyBucketAssignmentDocs&&e.user.stickyBucketAssignmentDocs[i]&&e.user.stickyBucketAssignmentDocs[i].assignments||{},a={...o,...n},s=JSON.stringify(o)!==JSON.stringify(a);return{key:i,doc:{attributeName:t,attributeValue:r,assignments:a},changed:s}}(r,s,KM(u),{[z$(e.key,e.bucketVersion)]:f.key});t&&(r.user.stickyBucketAssignmentDocs=r.user.stickyBucketAssignmentDocs||{},r.user.stickyBucketAssignmentDocs[n]=i,r.user.saveStickyBucketAssignmentDoc(i))}let h=zq(r,e,f);0===h.length&&r.global.saveDeferredTrack&&r.global.saveDeferredTrack({experiment:e,result:f});let m=h.length?1===h.length?h[0]:Promise.all(h).then(()=>{}):void 0;return"changeId"in e&&e.changeId&&r.global.recordChangeId&&r.global.recordChangeId(e.changeId),{result:f,trackingCall:m}}function zW(e,t,r,n,i,o,a){let s={value:r,on:!!r,off:!r,source:n,ruleId:i||""};return o&&(s.experiment=o),a&&(s.experimentResult=a),"override"!==n&&function(e,t,r){if(e.user.trackedFeatureUsage){let n=JSON.stringify(r.value);if(e.user.trackedFeatureUsage[t]===n)return;e.user.trackedFeatureUsage[t]=n,e.user.enableDevMode&&e.user.devLogs&&e.user.devLogs.push({featureKey:t,result:r,timestamp:Date.now().toString(),logType:"feature"})}if(e.global.onFeatureUsage){let n=e.global.onFeatureUsage;zF(()=>n(t,r,e.user))}if(e.user.onFeatureUsage){let n=e.user.onFeatureUsage;zF(()=>n(t,r))}if(e.global.eventLogger){let n=e.global.eventLogger;zF(()=>n("Feature Evaluated",{feature:t,source:r.source,value:r.value,ruleId:"defaultValue"===r.source?"$default":r.ruleId||"",variationId:r.experimentResult?r.experimentResult.key:""},e.user))}}(e,t,s),s}function zK(e){return{...e.user.attributes,...e.user.attributeOverrides}}function zz(e,t){return zM(zK(t),e,t.global.savedGroups||{})}function zV(e,t){return e.some(e=>{let{hashValue:r}=zG(t,e.attribute);if(!r)return!0;let n=Kx(e.seed,r,e.hashVersion||2);return null===n||!e.ranges.some(e=>KP(n,e))})}function zH(e,t,r,n,i,o,a){let s=!0;(r<0||r>=t.variations.length)&&(r=0,s=!1);let{hashAttribute:u,hashValue:l}=zG(e,t.hashAttribute,e.user.saveStickyBucketAssignmentDoc&&!t.disableStickyBucketing?t.fallbackAttribute:void 0),c=t.meta?t.meta[r]:{},d={key:c.key||""+r,featureId:i,inExperiment:s,hashUsed:n,variationId:r,value:t.variations[r],hashAttribute:u,hashValue:l,stickyBucketUsed:!!a};return c.name&&(d.name=c.name),void 0!==o&&(d.bucket=o),c.passthrough&&(d.passthrough=c.passthrough),d}function zG(e,t,r){let n=t||"id",i="",o=zK(e);return o[n]&&(i=o[n]),!i&&r&&(o[r]&&(i=o[r]),i&&(n=r)),{hashAttribute:n,hashValue:i}}function z$(e,t){return t=t||0,`${e}__${t}`}function zX(e,t){return`${e}||${t}`}async function zZ(e,t,r){let n=zQ(e,r);return t.getAllAssignments(n)}function zQ(e,t){let r={},n=function(e,t){let r=new Set,n=t&&t.features?t.features:e.global.features||{},i=t&&t.experiments?t.experiments:e.global.experiments||[];return Object.keys(n).forEach(e=>{let t=n[e];if(t.rules)for(let e of t.rules)e.variations&&(r.add(e.hashAttribute||"id"),e.fallbackAttribute&&r.add(e.fallbackAttribute))}),i.map(e=>{r.add(e.hashAttribute||"id"),e.fallbackAttribute&&r.add(e.fallbackAttribute)}),Array.from(r)}(e,t);return n.forEach(t=>{let{hashValue:n}=zG(e,t);r[t]=KM(n)}),r}async function zY(e,t,r){if((e={...e}).encryptedFeatures){try{e.features=JSON.parse(await KR(e.encryptedFeatures,t,r))}catch(e){console.error(e)}delete e.encryptedFeatures}if(e.encryptedExperiments){try{e.experiments=JSON.parse(await KR(e.encryptedExperiments,t,r))}catch(e){console.error(e)}delete e.encryptedExperiments}if(e.encryptedSavedGroups){try{e.savedGroups=JSON.parse(await KR(e.encryptedSavedGroups,t,r))}catch(e){console.error(e)}delete e.encryptedSavedGroups}return e}function zJ(e,t){return t.hashAttribute+t.hashValue+e.key+t.variationId}let z1="undefined"!=typeof window&&"undefined"!=typeof document,z0=function(){let e;try{e="1.5.1"}catch(t){e=""}return e}();class z2{constructor(e){if(e=e||{},this.version=z0,this._options=this.context=e,this._renderer=e.renderer||null,this._trackedExperiments=new Set,this._completedChangeIds=new Set,this._trackedFeatures={},this.debug=!!e.debug,this._subscriptions=new Set,this.ready=!1,this._assigned=new Map,this._activeAutoExperiments=new Map,this._triggeredExpKeys=new Set,this._initialized=!1,this._redirectedUrl="",this._deferredTrackingCalls=new Map,this._autoExperimentsAllowed=!e.disableExperimentsOnLoad,this._destroyCallbacks=[],this.logs=[],this.log=this.log.bind(this),this._saveDeferredTrack=this._saveDeferredTrack.bind(this),this._fireSubscriptions=this._fireSubscriptions.bind(this),this._recordChangedId=this._recordChangedId.bind(this),e.remoteEval){if(e.decryptionKey)throw Error("Encryption is not available for remoteEval");if(!e.clientKey)throw Error("Missing clientKey");let t=!1;try{t=!!new URL(e.apiHost||"").hostname.match(/growthbook\.io$/i)}catch(e){}if(t)throw Error("Cannot use remoteEval on GrowthBook Cloud")}else if(e.cacheKeyAttributes)throw Error("cacheKeyAttributes are only used for remoteEval");if(e.stickyBucketService){let t=e.stickyBucketService;this._saveStickyBucketAssignmentDoc=e=>t.saveAssignments(e)}if(e.plugins)for(let t of e.plugins)t(this);if(e.features&&(this.ready=!0),z1&&e.enableDevMode&&(window._growthbook=this,document.dispatchEvent(new Event("gbloaded"))),e.experiments&&(this.ready=!0,this._updateAllAutoExperiments()),this._options.stickyBucketService&&this._options.stickyBucketAssignmentDocs)for(let e in this._options.stickyBucketAssignmentDocs){let t=this._options.stickyBucketAssignmentDocs[e];t&&this._options.stickyBucketService.saveAssignments(t).catch(()=>{})}this.ready&&this.refreshStickyBuckets(this.getPayload())}async setPayload(e){this._payload=e;let t=await zY(e,this._options.decryptionKey);this._decryptedPayload=t,await this.refreshStickyBuckets(t),t.features&&(this._options.features=t.features),t.savedGroups&&(this._options.savedGroups=t.savedGroups),t.experiments&&(this._options.experiments=t.experiments,this._updateAllAutoExperiments()),this.ready=!0,this._render()}initSync(e){this._initialized=!0;let t=e.payload;if(t.encryptedExperiments||t.encryptedFeatures)throw Error("initSync does not support encrypted payloads");return this._options.stickyBucketService&&!this._options.stickyBucketAssignmentDocs&&(this._options.stickyBucketAssignmentDocs=this.generateStickyBucketAssignmentDocsSync(this._options.stickyBucketService,t)),this._payload=t,this._decryptedPayload=t,t.features&&(this._options.features=t.features),t.experiments&&(this._options.experiments=t.experiments,this._updateAllAutoExperiments()),this.ready=!0,ze(this,e),this}async init(e){if(this._initialized=!0,(e=e||{}).cacheSettings&&KG(e.cacheSettings),e.payload)return await this.setPayload(e.payload),ze(this,e),{success:!0,source:"init"};{let{data:t,...r}=await this._refresh({...e,allowStale:!0});return ze(this,e),await this.setPayload(t||{}),r}}async loadFeatures(e){e=e||{},await this.init({skipCache:e.skipCache,timeout:e.timeout,streaming:(this._options.backgroundSync??!0)&&(e.autoRefresh||this._options.subscribeToChanges)})}async refreshFeatures(e){let t=await this._refresh({...e||{},allowStale:!1});t.data&&await this.setPayload(t.data)}getApiInfo(){return[this.getApiHosts().apiHost,this.getClientKey()]}getApiHosts(){return function(e){let t=e.apiHost||"https://cdn.growthbook.io";return{apiHost:t.replace(/\/*$/,""),streamingHost:(e.streamingHost||t).replace(/\/*$/,""),apiRequestHeaders:e.apiHostRequestHeaders,streamingHostRequestHeaders:e.streamingHostRequestHeaders}}(this._options)}getClientKey(){return this._options.clientKey||""}getPayload(){return this._payload||{features:this.getFeatures(),experiments:this.getExperiments()}}getDecryptedPayload(){return this._decryptedPayload||this.getPayload()}isRemoteEval(){return this._options.remoteEval||!1}getCacheKeyAttributes(){return this._options.cacheKeyAttributes}async _refresh(e){let{timeout:t,skipCache:r,allowStale:n,streaming:i}=e;if(!this._options.clientKey)throw Error("Missing clientKey");return K$({instance:this,timeout:t,skipCache:r||this._options.disableCache,allowStale:n,backgroundSync:i??this._options.backgroundSync??!0})}_render(){if(this._renderer)try{this._renderer()}catch(e){console.error("Failed to render",e)}}setFeatures(e){this._options.features=e,this.ready=!0,this._render()}async setEncryptedFeatures(e,t,r){let n=await KR(e,t||this._options.decryptionKey,r);this.setFeatures(JSON.parse(n))}setExperiments(e){this._options.experiments=e,this.ready=!0,this._updateAllAutoExperiments()}async setEncryptedExperiments(e,t,r){let n=await KR(e,t||this._options.decryptionKey,r);this.setExperiments(JSON.parse(n))}async setAttributes(e){if(this._options.attributes=e,this._options.stickyBucketService&&await this.refreshStickyBuckets(),this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}async updateAttributes(e){return this.setAttributes({...this._options.attributes,...e})}async setAttributeOverrides(e){if(this._options.attributeOverrides=e,this._options.stickyBucketService&&await this.refreshStickyBuckets(),this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}async setForcedVariations(e){if(this._options.forcedVariations=e||{},this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}setForcedFeatures(e){this._options.forcedFeatureValues=e,this._render()}async setURL(e){if(e!==this._options.url){if(this._options.url=e,this._redirectedUrl="",this._options.remoteEval){await this._refreshForRemoteEval(),this._updateAllAutoExperiments(!0);return}this._updateAllAutoExperiments(!0)}}getAttributes(){return{...this._options.attributes,...this._options.attributeOverrides}}getForcedVariations(){return this._options.forcedVariations||{}}getForcedFeatures(){return this._options.forcedFeatureValues||new Map}getStickyBucketAssignmentDocs(){return this._options.stickyBucketAssignmentDocs||{}}getUrl(){return this._options.url||""}getFeatures(){return this._options.features||{}}getExperiments(){return this._options.experiments||[]}getCompletedChangeIds(){return Array.from(this._completedChangeIds)}subscribe(e){return this._subscriptions.add(e),()=>{this._subscriptions.delete(e)}}async _refreshForRemoteEval(){if(!this._options.remoteEval||!this._initialized)return;let e=await this._refresh({allowStale:!1});e.data&&await this.setPayload(e.data)}getAllResults(){return new Map(this._assigned)}onDestroy(e){this._destroyCallbacks.push(e)}isDestroyed(){return!!this._destroyed}destroy(){var e;this._destroyed=!0,this._destroyCallbacks.forEach(e=>{try{e()}catch(e){console.error(e)}}),this._subscriptions.clear(),this._assigned.clear(),this._trackedExperiments.clear(),this._completedChangeIds.clear(),this._deferredTrackingCalls.clear(),this._trackedFeatures={},this._destroyCallbacks=[],this._payload=void 0,this._saveStickyBucketAssignmentDoc=void 0,e=this,Kj.forEach(t=>t.delete(e)),this.logs=[],z1&&window._growthbook===this&&delete window._growthbook,this._activeAutoExperiments.forEach(e=>{e.undo()}),this._activeAutoExperiments.clear(),this._triggeredExpKeys.clear()}setRenderer(e){this._renderer=e}forceVariation(e,t){if(this._options.forcedVariations=this._options.forcedVariations||{},this._options.forcedVariations[e]=t,this._options.remoteEval){this._refreshForRemoteEval();return}this._updateAllAutoExperiments(),this._render()}run(e){let{result:t}=zj(e,null,this._getEvalContext());return this._fireSubscriptions(e,t),t}triggerExperiment(e){if(this._triggeredExpKeys.add(e),!this._options.experiments)return null;let t=this._options.experiments.filter(t=>t.key===e);return t.map(e=>this._runAutoExperiment(e)).filter(e=>null!==e)}triggerAutoExperiments(){this._autoExperimentsAllowed=!0,this._updateAllAutoExperiments(!0)}_getEvalContext(){return{user:this._getUserContext(),global:this._getGlobalContext(),stack:{evaluatedFeatures:new Set}}}_getUserContext(){return{attributes:this._options.user?{...this._options.user,...this._options.attributes}:this._options.attributes,enableDevMode:this._options.enableDevMode,blockedChangeIds:this._options.blockedChangeIds,stickyBucketAssignmentDocs:this._options.stickyBucketAssignmentDocs,url:this._getContextUrl(),forcedVariations:this._options.forcedVariations,forcedFeatureValues:this._options.forcedFeatureValues,attributeOverrides:this._options.attributeOverrides,saveStickyBucketAssignmentDoc:this._saveStickyBucketAssignmentDoc,trackingCallback:this._options.trackingCallback,onFeatureUsage:this._options.onFeatureUsage,devLogs:this.logs,trackedExperiments:this._trackedExperiments,trackedFeatureUsage:this._trackedFeatures}}_getGlobalContext(){return{features:this._options.features,experiments:this._options.experiments,log:this.log,enabled:this._options.enabled,qaMode:this._options.qaMode,savedGroups:this._options.savedGroups,groups:this._options.groups,overrides:this._options.overrides,onExperimentEval:this._subscriptions.size>0?this._fireSubscriptions:void 0,recordChangeId:this._recordChangedId,saveDeferredTrack:this._saveDeferredTrack,eventLogger:this._options.eventLogger}}_runAutoExperiment(e,t){let r,n;let i=this._activeAutoExperiments.get(e);if(e.manual&&!this._triggeredExpKeys.has(e.key)&&!i)return null;let o=this._isAutoExperimentBlockedByContext(e);o?r=zH(this._getEvalContext(),e,-1,!1,""):({result:r,trackingCall:n}=zj(e,null,this._getEvalContext()),this._fireSubscriptions(e,r));let a=JSON.stringify(r.value);if(!t&&r.inExperiment&&i&&i.valueHash===a)return r;if(i&&this._undoActiveAutoExperiment(e),r.inExperiment){let t=KD(e);if("redirect"===t&&r.value.urlRedirect&&e.urlPatterns){let t=e.persistQueryString?function(e,t){let r,n;try{r=new URL(e),n=new URL(t)}catch(e){return console.error(`Unable to merge query strings: ${e}`),t}return r.searchParams.forEach((e,t)=>{n.searchParams.has(t)||n.searchParams.set(t,e)}),n.toString()}(this._getContextUrl(),r.value.urlRedirect):r.value.urlRedirect;if(KB(t,e.urlPatterns))return this.log("Skipping redirect because original URL matches redirect URL",{id:e.key}),r;this._redirectedUrl=t;let{navigate:i,delay:o}=this._getNavigateFunction();if(i){if(z1)Promise.all([...n?[KF(n,this._options.maxNavigateDelay??1e3)]:[],new Promise(e=>window.setTimeout(e,this._options.navigateDelay??o))]).then(()=>{try{i(t)}catch(e){console.error(e)}});else try{i(t)}catch(e){console.error(e)}}}else if("visual"===t){let t=this._options.applyDomChangesCallback?this._options.applyDomChangesCallback(r.value):this._applyDOMChanges(r.value);t&&this._activeAutoExperiments.set(e,{undo:t,valueHash:a})}}return r}_undoActiveAutoExperiment(e){let t=this._activeAutoExperiments.get(e);t&&(t.undo(),this._activeAutoExperiments.delete(e))}_updateAllAutoExperiments(e){if(!this._autoExperimentsAllowed)return;let t=this._options.experiments||[],r=new Set(t);for(let n of(this._activeAutoExperiments.forEach((e,t)=>{r.has(t)||(e.undo(),this._activeAutoExperiments.delete(t))}),t)){let t=this._runAutoExperiment(n,e);if(null!=t&&t.inExperiment&&"redirect"===KD(n))break}}_fireSubscriptions(e,t){let r=e.key,n=this._assigned.get(r);n&&n.result.inExperiment===t.inExperiment&&n.result.variationId===t.variationId||(this._assigned.set(r,{experiment:e,result:t}),this._subscriptions.forEach(r=>{try{r(e,t)}catch(e){console.error(e)}}))}_recordChangedId(e){this._completedChangeIds.add(e)}isOn(e){return this.evalFeature(e).on}isOff(e){return this.evalFeature(e).off}getFeatureValue(e,t){let r=this.evalFeature(e).value;return null===r?t:r}feature(e){return this.evalFeature(e)}evalFeature(e){return zU(e,this._getEvalContext())}log(e,t){this.debug&&(this._options.log?this._options.log(e,t):console.log(e,t))}getDeferredTrackingCalls(){return Array.from(this._deferredTrackingCalls.values())}setDeferredTrackingCalls(e){this._deferredTrackingCalls=new Map(e.filter(e=>e&&e.experiment&&e.result).map(e=>[zJ(e.experiment,e.result),e]))}async fireDeferredTrackingCalls(){if(!this._options.trackingCallback)return;let e=[];this._deferredTrackingCalls.forEach(t=>{t&&t.experiment&&t.result?e.push(this._options.trackingCallback(t.experiment,t.result)):console.error("Invalid deferred tracking call",{call:t})}),this._deferredTrackingCalls.clear(),await Promise.all(e)}setTrackingCallback(e){this._options.trackingCallback=e,this.fireDeferredTrackingCalls()}setEventLogger(e){this._options.eventLogger=e}async logEvent(e,t){if(this._destroyed){console.error("Cannot log event to destroyed GrowthBook instance");return}if(this._options.enableDevMode&&this.logs.push({eventName:e,properties:t,timestamp:Date.now().toString(),logType:"event"}),this._options.eventLogger)try{await this._options.eventLogger(e,t||{},this._getUserContext())}catch(e){console.error(e)}else console.error("No event logger configured")}_saveDeferredTrack(e){this._deferredTrackingCalls.set(zJ(e.experiment,e.result),e)}_getContextUrl(){return this._options.url||(z1?window.location.href:"")}_isAutoExperimentBlockedByContext(e){let t=KD(e);if("visual"===t){if(this._options.disableVisualExperiments||this._options.disableJsInjection&&e.variations.some(e=>e.js))return!0}else{if("redirect"!==t||this._options.disableUrlRedirectExperiments)return!0;try{let t=new URL(this._getContextUrl());for(let r of e.variations){if(!r||!r.urlRedirect)continue;let e=new URL(r.urlRedirect);if(this._options.disableCrossOriginUrlRedirectExperiments&&(e.protocol!==t.protocol||e.host!==t.host))return!0}}catch(t){return this.log("Error parsing current or redirect URL",{id:e.key,error:t}),!0}}return!!(e.changeId&&(this._options.blockedChangeIds||[]).includes(e.changeId))}getRedirectUrl(){return this._redirectedUrl}_getNavigateFunction(){return this._options.navigate?{navigate:this._options.navigate,delay:0}:z1?{navigate:e=>{window.location.replace(e)},delay:100}:{navigate:null,delay:0}}_applyDOMChanges(e){if(!z1)return;let t=[];if(e.css){let r=document.createElement("style");r.innerHTML=e.css,document.head.appendChild(r),t.push(()=>r.remove())}if(e.js){let r=document.createElement("script");r.innerHTML=e.js,this._options.jsInjectionNonce&&(r.nonce=this._options.jsInjectionNonce),document.head.appendChild(r),t.push(()=>r.remove())}return e.domMutations&&e.domMutations.forEach(e=>{t.push(zC.declarative(e).revert)}),()=>{t.forEach(e=>e())}}async refreshStickyBuckets(e){if(this._options.stickyBucketService){let t=this._getEvalContext(),r=await zZ(t,this._options.stickyBucketService,e);this._options.stickyBucketAssignmentDocs=r}}generateStickyBucketAssignmentDocsSync(e,t){if(!("getAllAssignmentsSync"in e)){console.error("generating StickyBucketAssignmentDocs docs requires StickyBucketServiceSync");return}let r=this._getEvalContext(),n=zQ(r,t);return e.getAllAssignmentsSync(n)}inDevMode(){return!!this._options.enableDevMode}}let z6=ig("growthbook"),z4="sdk-yto6eEaZTPrfp9eD",z5=async()=>{if(!z4){z6.debug("GrowthBook clientKey is missing. Skipping remote feature flag initialization.");return}KG({staleTTL:6e5});let e=new z2({apiHost:"https://cdn.growthbook.io",clientKey:z4,backgroundSync:!1});await e.init({streaming:!1});let t=()=>{if(!e)return;let[t,r,n,i,o,a,s,u,l,c,d,p,f]=[e.getFeatureValue("frontrun-twitter",!0),e.getFeatureValue("frontrun-gmgn",!0),e.getFeatureValue("frontrun-solscan",!0),e.getFeatureValue("frontrun-axiom",!0),e.getFeatureValue("frontrun-photon",!0),e.getFeatureValue("frontrun-debot",!0),e.getFeatureValue("frontrun-padre",!0),e.getFeatureValue("frontrun-binancewallet",!0),e.getFeatureValue("frontrun-trading",!1),e.getFeatureValue("frontrun-summary",!1),e.getFeatureValue("frontrun-twitter-report",!0),e.getFeatureValue("frontrun-admin",!1),e.getFeatureValue("frontrun-translate",!0)],h=Number(e.getFeatureValue("translate-interval-in-seconds",10));z6.debug(`GrowthBook Feature Flags:
twitter: ${t}
gmgn: ${r}
solscan: ${n}
axiom: ${i}
photon: ${o}
debot: ${a}
padre: ${s}
binancewallet: ${u}
trading: ${l}
summary: ${c}
twitterReport: ${d}
admin: ${p}
translate: ${f}
translateIntervalInSeconds: ${h}`),lk.dispatch(uO({twitter:t,gmgn:r,solscan:n,axiom:i,photon:o,debot:a,padre:s,binancewallet:u,trading:l,summary:c,"twitter-report":d,admin:p,translate:f})),lk.dispatch(uN(Number.isFinite(h)?h:10))};gH(lk,e=>e.account.user?.id,async r=>{if(z6.debug("GrowthBook attributes updated with user ID: ",r),e.setAttributes({id:r}),r)try{await e.refreshFeatures(),t()}catch(e){z6.error("GrowthBook refresh failed",e)}})},z8=ig("TradingPortV2"),z3=new WeakMap,z9=async()=>{try{Kk()}catch(e){yu.error("Failed to initialize Sentry",e)}y2().catch(e=>{yu.error("Failed to initialize Amplitude.",e),c8({level:"error",message:"Failed to initialize Amplitude",extra:{error:e}})});try{ys()}catch(e){yu.error("Failed to initialize action",e),c8({level:"error",message:"Failed to initialize action",extra:{error:e}})}try{j7()}catch(e){yu.error("Failed to initialize language",e),c8({level:"error",message:"Failed to initialize language",extra:{error:e}})}try{chrome.runtime.onInstalled.addListener(async e=>{{try{KI()}catch(e){yu.error("Failed to initialize uninstall URL manager",e),c8({level:"error",message:"Failed to initialize uninstall URL manager",extra:{error:e}})}let t={previousVersion:e.previousVersion||""};switch(e.reason){case"install":chrome.tabs.create({url:"tabs/index.html?onboarding=true"}),await yJ(PO.EXTENSION_INSTALLED,t);break;case"update":await yJ(PO.EXTENSION_UPDATED,t);break;case"chrome_update":await yJ(PO.CHROME_BROWSER_UPDATED,t);break;case"shared_module_update":await yJ(PO.SHARED_MODULE_UPDATED,t)}}})}catch(e){yu.error("Failed to handle extension installed events",e),c8({level:"error",message:"Failed to handle extension installed events",extra:{error:e}})}try{chrome.tabs.onUpdated.addListener((e,t,r)=>{"loading"===t.status&&(sZ(r.url)||sY(r.url)||sQ(r.url)||sJ(r.url)||s1(r.url)||sX(r.url))&&lk.dispatch(s5({url:r.url}))})}catch(e){yu.error("Failed to handle tab updated events",e),c8({level:"error",message:"Failed to handle tab updated events",extra:{error:e}})}try{await z5()}catch(e){yu.error("Failed to initialize GrowthBook",e),c8({level:"error",message:"Failed to initialize GrowthBook",extra:{error:e}})}try{chrome.runtime.onConnect.addListener(function(e){"trading"===e.name&&(z8.info("trading port connected by ",e.sender),z3.set(e,!0),e.onMessage.addListener(function(t){z8.info("req",t);let{action:r,eventName:n,args:i}=t,o=Uw();switch(r){case"emit":o.emit(n,...i);break;case"on":o.on(n,t=>{try{z3.get(e)&&e.postMessage({[n]:t})}catch(t){z8.error("send message failed",t,e.sender)}})}}),e.onDisconnect.addListener(function(){"trading"===e.name&&(z8.info("trading port disconnected by ",e.sender?.url,chrome.runtime.lastError||e.sender),z3.delete(e))}))})}catch(e){yu.error("Failed to initialize Trading Port",e),c8({level:"error",message:"Failed to initialize Trading Port",extra:{error:e}})}try{await g7()}catch(t){let e="Failed to initialize Turnkey Secret";yu.error(e,t),c8({level:"error",message:e,extra:{error:t}})}};z9();var z7={};z7=eh("jZrc2").getBundleURL("aoY6u")+"../../"+eh("hZnCo").resolve("k9wkM");var Ve={};Ve=eh("jZrc2").getBundleURL("aoY6u")+"../../"+eh("hZnCo").resolve("79Cl8");var Vt={};Vt=eh("jZrc2").getBundleURL("aoY6u")+"../../"+eh("hZnCo").resolve("6elAy");var Vr={};Vr=eh("jZrc2").getBundleURL("aoY6u")+"../../"+eh("hZnCo").resolve("ettYQ");var Vn={};Vn=eh("jZrc2").getBundleURL("aoY6u")+"../../"+eh("hZnCo").resolve("8dNLe");var Vi={};Vi=eh("jZrc2").getBundleURL("aoY6u")+"../../"+eh("hZnCo").resolve("77P6G"),chrome.scripting.registerContentScripts([{id:"staticContentsBinancewalletMain",js:[ed(z7).split("/").pop().split("?")[0]],matches:["https://web3.binance.com/*"],world:"MAIN",runAt:"document_start"},{id:"staticContentsAxiomMain",js:[ed(Ve).split("/").pop().split("?")[0]],matches:["https://axiom.trade/*"],world:"MAIN",runAt:"document_start"},{id:"staticContentsGmgnMain",js:[ed(Vt).split("/").pop().split("?")[0]],matches:["https://gmgn.ai/*"],world:"MAIN",runAt:"document_start"},{id:"staticContentsPumpMain",js:[ed(Vr).split("/").pop().split("?")[0]],matches:["https://pump.fun/*"],world:"MAIN",runAt:"document_start"},{id:"staticContentsSolscanMain",js:[ed(Vn).split("/").pop().split("?")[0]],matches:["https://solscan.io/*"],world:"MAIN",runAt:"document_start"},{id:"staticContentsTwitterMain",js:[ed(Vi).split("/").pop().split("?")[0]],matches:["https://x.com/*"],world:"MAIN",runAt:"document_start"}]).catch(e=>{})})(),globalThis.define=t}(globalThis.define);