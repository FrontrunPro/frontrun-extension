var e,r;"function"==typeof(e=globalThis.define)&&(r=e,e=null),function(r,t,n,o,i){var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},u="function"==typeof l[o]&&l[o],a=u.cache||{},s="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(e,t){if(!a[e]){if(!r[e]){var n="function"==typeof l[o]&&l[o];if(!t&&n)return n(e,!0);if(u)return u(e,!0);if(s&&"string"==typeof e)return s(e);var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}g.resolve=function(t){var n=r[e][1][t];return null!=n?n:t},g.cache={};var f=a[e]=new c.Module(e);r[e][0].call(f.exports,g,f,f.exports,this)}return a[e].exports;function g(e){var r=g.resolve(e);return!1===r?{}:c(r)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=r,c.cache=a,c.parent=u,c.register=function(e,t){r[e]=[function(e,r){r.exports=t},{}]},Object.defineProperty(c,"root",{get:function(){return l[o]}}),l[o]=c;for(var f=0;f<t.length;f++)c(t[f]);if(n){var g=c(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=g:"function"==typeof e&&e.amd?e(function(){return g}):i&&(this[i]=g)}}({"8FuXg":[function(e,r,t){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(t),n.export(t,"signWithApiKey",()=>l);var o=e("./utils.mjs"),i=e("@turnkey/encoding");let l=async e=>{let{content:r,publicKey:t,privateKey:n}=e,o=await u({uncompressedPrivateKeyHex:n,compressedPublicKeyHex:t});return await a({key:o,content:r})};async function u(e){let{uncompressedPrivateKeyHex:r,compressedPublicKeyHex:t}=e,n=(0,o.convertTurnkeyApiKeyToJwk)({uncompressedPrivateKeyHex:r,compressedPublicKeyHex:t});return await crypto.subtle.importKey("jwk",n,{name:"ECDSA",namedCurve:"P-256"},!1,["sign"])}async function a(e){let{key:r,content:t}=e,n=await crypto.subtle.sign({name:"ECDSA",hash:"SHA-256"},r,new TextEncoder().encode(t)),o=function(e){let r;if(e.length%2!=0||0==e.length||e.length>132)throw Error("Invalid IEEE P1363 signature encoding. Length: "+e.length);let t=s(e.subarray(0,e.length/2)),n=s(e.subarray(e.length/2,e.length)),o=0,i=2+t.length+1+1+n.length;return i>=128?((r=new Uint8Array(i+3))[o++]=48,r[o++]=129):(r=new Uint8Array(i+2))[o++]=48,r[o++]=i,r[o++]=2,r[o++]=t.length,r.set(t,o),o+=t.length,r[o++]=2,r[o++]=n.length,r.set(n,o),r}(new Uint8Array(n));return(0,i.uint8ArrayToHexString)(o)}function s(e){let r=0;for(;r<e.length&&0==e[r];)r++;r==e.length&&(r=e.length-1);let t=0;(128&e[r])==128&&(t=1);let n=new Uint8Array(e.length-r+t);return n.set(e.subarray(r),t),n}},{"./utils.mjs":"7G7gq","@turnkey/encoding":"hp8gS","@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}],"7G7gq":[function(e,r,t){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(t),n.export(t,"convertTurnkeyApiKeyToJwk",()=>l);var o=e("./tink/elliptic_curves.mjs"),i=e("@turnkey/encoding");function l(e){let r;let{uncompressedPrivateKeyHex:t,compressedPublicKeyHex:n}=e;try{r=(0,o.pointDecode)((0,i.uint8ArrayFromHexString)(n))}catch(e){throw Error("unable to load API key: invalid public key. Did you switch your public and private key by accident? Is your public key a valid, compressed P-256 public key?")}return r.d=(0,i.hexStringToBase64url)(t,i.DEFAULT_JWK_MEMBER_BYTE_LENGTH),r}},{"./tink/elliptic_curves.mjs":"4cDLG","@turnkey/encoding":"hp8gS","@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}],"4cDLG":[function(e,r,t){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(t),n.export(t,"pointDecode",()=>c);var o=e("./bytes.mjs");/**
 * Code modified from https://github.com/google/tink/blob/6f74b99a2bfe6677e3670799116a57268fd067fa/javascript/subtle/elliptic_curves.ts
 * - The implementation of integerToByteArray has been modified to augment the resulting byte array to a certain length.
 * - The implementation of PointDecode has been modified to decode both compressed and uncompressed points by checking for correct format
 * - Method isP256CurvePoint added to check whether an uncompressed point is valid
 *
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i(){return BigInt("115792089210356248762697446949407573530086143415290314195533631308867097853951")}function l(){return BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b")}function u(e){return BigInt("0x"+(0,o.toHex)(e))}function a(e,r){let t=e.toString(16),n=2*r,i="";if(n<t.length)throw Error(`cannot pack integer with ${t.length} hex chars into ${r} bytes`);return i="0".repeat(n-t.length),(0,o.fromHex)(i+t)}function s(e,r){let t=BigInt(1)<<BigInt(r);return(e&t)!==BigInt(0)}function c(e){if(33!==e.length&&65!==e.length)throw Error("Invalid length: point is not in compressed or uncompressed format");if((2===e[0]||3===e[0])&&33==e.length){let r=3===e[0],t=u(e.subarray(1,e.length)),n=i();if(t<BigInt(0)||t>=n)throw Error("x is out of range");let c=function(e,r){let t=i(),n=t-BigInt(3),o=l(),u=function(e,r){if(r<=BigInt(0))throw Error("p must be positive");let t=e%r;if(s(r,0)&&s(r,1)){let e=r+BigInt(1)>>BigInt(2),n=function(e,r,t){if(r===BigInt(0))return BigInt(1);let n=e,o=r.toString(2);for(let r=1;r<o.length;++r)n=n*n%t,"1"===o[r]&&(n=n*e%t);return n}(t,e,r);if(n*n%r!==t)throw Error("could not find a modular square root");return n}throw Error("unsupported modulus value")}(((e*e+n)*e+o)%t,t);return r!==s(u,0)&&(u=(t-u)%t),u}(t,r),f={kty:"EC",crv:"P-256",x:(0,o.toBase64)(a(t,32)),y:(0,o.toBase64)(a(c,32)),ext:!0};return f}if(4===e[0]&&65==e.length){let r=u(e.subarray(1,33)),t=u(e.subarray(33,65)),n=i();if(r<BigInt(0)||r>=n||t<BigInt(0)||t>=n||!function(e,r){let t=i(),n=t-BigInt(3),o=l(),u=r**BigInt(2)%t;return u===((e*e+n)*e+o)%t}(r,t))throw Error("invalid uncompressed x and y coordinates");let s={kty:"EC",crv:"P-256",x:(0,o.toBase64)(a(r,32)),y:(0,o.toBase64)(a(t,32)),ext:!0};return s}throw Error("invalid format")}},{"./bytes.mjs":"ezMa7","@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}],ezMa7:[function(e,r,t){/**
 * Code modified from https://github.com/google/tink/blob/6f74b99a2bfe6677e3670799116a57268fd067fa/javascript/subtle/bytes.ts
 *
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e){if(e.length%2!=0)throw Error("Hex string length must be multiple of 2");let r=new Uint8Array(e.length/2);for(let t=0;t<e.length;t+=2)r[t/2]=parseInt(e.substring(t,t+2),16);return r}function i(e){let r="";for(let t=0;t<e.length;t++){let n=e[t].toString(16);r+=n.length>1?n:"0"+n}return r}function l(e,r){let t=btoa(u(e)).replace(/=/g,"");return t.replace(/\+/g,"-").replace(/\//g,"_")}function u(e){let r="";for(let t=0;t<e.length;t+=1)r+=String.fromCharCode(e[t]);return r}n.defineInteropFlag(t),n.export(t,"fromHex",()=>o),n.export(t,"toBase64",()=>l),n.export(t,"toByteString",()=>u),n.export(t,"toHex",()=>i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}],cHUbl:[function(e,r,t){t.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},t.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.exportAll=function(e,r){return Object.keys(e).forEach(function(t){"default"===t||"__esModule"===t||r.hasOwnProperty(t)||Object.defineProperty(r,t,{enumerable:!0,get:function(){return e[t]}})}),r},t.export=function(e,r,t){Object.defineProperty(e,r,{enumerable:!0,get:t})}},{}],hp8gS:[function(e,r,t){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(t),n.export(t,"DEFAULT_JWK_MEMBER_BYTE_LENGTH",()=>o),n.export(t,"base64StringToBase64UrlEncodedString",()=>a),n.export(t,"hexStringToBase64url",()=>u),n.export(t,"hexToAscii",()=>f),n.export(t,"normalizePadding",()=>g),n.export(t,"pointEncode",()=>i),n.export(t,"stringToBase64urlString",()=>l),n.export(t,"uint8ArrayFromHexString",()=>c),n.export(t,"uint8ArrayToHexString",()=>s);let o=32;function i(e){if(65!==e.length||4!==e[0])throw Error("Invalid uncompressed P-256 key");let r=e.slice(1,33),t=e.slice(33,65);if(32!==r.length||32!==t.length)throw Error("Invalid x or y length");let n=(1&t[31])==0?2:3,o=new Uint8Array(33);return o[0]=n,o.set(r,1),o}function l(e){let r=function(e){let r;if(0==arguments.length)throw TypeError("1 argument required, but only 0 present.");for(r=0,e=`${e}`;r<e.length;r++)if(e.charCodeAt(r)>255)throw Error(`InvalidCharacterError: found code point greater than 255:${e.charCodeAt(r)} at position ${r}`);let t="";for(r=0;r<e.length;r+=3){let n=[void 0,void 0,void 0,void 0];n[0]=e.charCodeAt(r)>>2,n[1]=(3&e.charCodeAt(r))<<4,e.length>r+1&&(n[1]|=e.charCodeAt(r+1)>>4,n[2]=(15&e.charCodeAt(r+1))<<2),e.length>r+2&&(n[2]|=e.charCodeAt(r+2)>>6,n[3]=63&e.charCodeAt(r+2));for(let e=0;e<n.length;e++)void 0===n[e]?t+="=":t+=function(e){if(e>=0&&e<64)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e]}(n[e])}return t}(e);return a(r)}function u(e,r){let t=e.padStart(2*Math.ceil(e.length/2),"0"),n=c(t,r);return l(n.reduce((e,r)=>e+String.fromCharCode(r),""))}function a(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function s(e){return e.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}let c=(e,r)=>{if(!e||e.length%2!=0||!/^[0-9A-Fa-f]+$/.test(e))throw Error(`cannot create uint8array from invalid hex string: "${e}"`);let t=new Uint8Array(e.match(/../g).map(e=>parseInt(e,16)));if(!r)return t;if(e.length/2>r)throw Error("hex value cannot fit in a buffer of "+r+" byte(s)");let n=new Uint8Array(r);return n.set(t,r-t.length),n};function f(e){let r="";for(let t=0;t<e.length;t+=2)r+=String.fromCharCode(parseInt(e.substr(t,2),16));return r}let g=(e,r)=>{let t=r-e.length;if(t>0){let r=new Uint8Array(t).fill(0);return new Uint8Array([...r,...e])}if(t<0){let n=-1*t,o=0;for(let r=0;r<n&&r<e.length;r++)0===e[r]&&o++;if(o!==n)throw Error(`invalid number of starting zeroes. Expected number of zeroes: ${n}. Found: ${o}.`);return e.slice(n,n+r)}return e}},{"@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}]},[],null,"parcelRequiref356"),globalThis.define=r;